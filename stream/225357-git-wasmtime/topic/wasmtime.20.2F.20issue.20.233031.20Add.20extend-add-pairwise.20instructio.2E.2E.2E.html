<html>
<head><meta charset="utf-8"><title>wasmtime / issue #3031 Add extend-add-pairwise instructio... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233031.20Add.20extend-add-pairwise.20instructio.2E.2E.2E.html">wasmtime / issue #3031 Add extend-add-pairwise instructio...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="247668716"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233031%20Add%20extend-add-pairwise%20instructio.../near/247668716" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233031.20Add.20extend-add-pairwise.20instructio.2E.2E.2E.html#247668716">(Jul 30 2021 at 04:16)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/3031#issuecomment-889615231">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3031">issue #3031</a>:</p>
<blockquote>
<p>This is a refactoring based on comments. The lowering remains intact it is just that now the clif instruction operands are more instructions. Matching in lowering is now different to properly match on the WASM instruction we are intending to lower. </p>
<p>The CI failures appear to be from an unrelated issue. Wish I new how to resolve but I can see a stoppage on a dead code warning. </p>
<p>This should be the last PR for full x64 Wasm SIMD support. Of course there are some refactoring and clean-up TODOs that should be done as follow-up.</p>
</blockquote>



<a name="247668748"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233031%20Add%20extend-add-pairwise%20instructio.../near/247668748" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233031.20Add.20extend-add-pairwise.20instructio.2E.2E.2E.html#247668748">(Jul 30 2021 at 04:17)</a>:</h4>
<p>jlb6740 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/3031#issuecomment-889615231">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3031">issue #3031</a>:</p>
<blockquote>
<p>This is a refactoring based on earlier comments. The lowering remains intact it is just that now the clif instruction operands are more instructions. Matching in lowering is now different to properly match on the WASM instruction we are intending to lower. </p>
<p>The CI failures appear to be from an unrelated issue. Wish I knew how to resolve but I can see a stoppage on a dead code warning? </p>
<p>This should be the last PR for full x64 Wasm SIMD support. Of course there are some refactoring and clean-up TODOs that should be done as follow-up.</p>
</blockquote>



<a name="247668824"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233031%20Add%20extend-add-pairwise%20instructio.../near/247668824" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233031.20Add.20extend-add-pairwise.20instructio.2E.2E.2E.html#247668824">(Jul 30 2021 at 04:19)</a>:</h4>
<p>jlb6740 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/3031#issuecomment-889615231">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3031">issue #3031</a>:</p>
<blockquote>
<p>This is a refactoring based on earlier comments. The lowering remains intact it is just that now the clif instruction operands are more instructions. Matching in lowering is now different to properly match on the WASM instruction we are intending to lower. </p>
<p>The CI failures appear to be from an unrelated issue. Wish I knew how to resolve but I can see a stoppage on a dead code warning? </p>
<p>#3123 This should be the last PR for full x64 Wasm SIMD support. Of course there are some refactoring and clean-up TODOs that should be done as follow-up.</p>
</blockquote>



<a name="247754592"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233031%20Add%20extend-add-pairwise%20instructio.../near/247754592" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233031.20Add.20extend-add-pairwise.20instructio.2E.2E.2E.html#247754592">(Jul 30 2021 at 19:59)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/3031#issuecomment-890122456">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3031">issue #3031</a>:</p>
<blockquote>
<blockquote>
<p>I personally wouldn't rely only on the conformance test suite, we've already had problems with it. Pretty sure you've got some bugs here and I guess the existing test suite isn't exercising them.</p>
</blockquote>
<p>Hi @sparker-arm .. I was planning to check/compare the lowering after comments from this first update, but do you see something specifically in case I miss it? I agree, the spec tests have shown to sometimes be cut-n-paste exercises that aren't thoughtful for the specific instructions. Not sure the best way to provide an answer key though for this lowering sequence. The lowering is not derived by me, but it's based on the discussion during instruction proposal and cross checked against what v8 appears to be doing, and finally of course spec tests which is there to catch errors though it is not fool-proof. </p>
</blockquote>



<a name="247754611"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233031%20Add%20extend-add-pairwise%20instructio.../near/247754611" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233031.20Add.20extend-add-pairwise.20instructio.2E.2E.2E.html#247754611">(Jul 30 2021 at 19:59)</a>:</h4>
<p>jlb6740 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/3031#issuecomment-890122456">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3031">issue #3031</a>:</p>
<blockquote>
<blockquote>
<p>I personally wouldn't rely only on the conformance test suite, we've already had problems with it. Pretty sure you've got some bugs here and I guess the existing test suite isn't exercising them.</p>
</blockquote>
<p>Hi @sparker-arm .. I was planning to check/compare the lowering after comments from this first update, but do you see something specifically in case I miss it? I agree, the spec tests have shown to sometimes be cut-n-paste exercises that aren't thoughtful for the specific instructions. Not sure the best way to provide an answer key though for this lowering sequence. The lowering is not derived by me, but it's based on the discussion during instruction proposal and cross checked against what v8 appears to be doing, and finally of course spec tests which is there to catch errors though it is not always successful. </p>
</blockquote>



<a name="247780015"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233031%20Add%20extend-add-pairwise%20instructio.../near/247780015" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233031.20Add.20extend-add-pairwise.20instructio.2E.2E.2E.html#247780015">(Jul 31 2021 at 02:18)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/3031#issuecomment-890277805">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3031">issue #3031</a>:</p>
<blockquote>
<p>This is intended to be ready. If there is anything else let me know.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>