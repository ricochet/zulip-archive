<html>
<head><meta charset="utf-8"><title>wasmtime / PR #5261 Shrink the size of SigData in Cranelift · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html">wasmtime / PR #5261 Shrink the size of SigData in Cranelift</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="309533584"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/309533584" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#309533584">(Nov 14 2022 at 05:22)</a>:</h4>
<p>tnachen opened <a href="https://github.com/bytecodealliance/wasmtime/pull/5261">PR #5261</a> from <code>tnachen/sigdata_size</code> to <code>main</code>:</p>
<blockquote>
<p>Addressing #5183 based on discussion on making SigData struct smaller</p>
</blockquote>



<a name="309909039"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/309909039" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#309909039">(Nov 14 2022 at 17:13)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5261#pullrequestreview-1179517571">PR review</a>.</p>



<a name="309909040"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/309909040" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#309909040">(Nov 14 2022 at 17:13)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5261#pullrequestreview-1179517571">PR review</a>.</p>



<a name="309909042"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/309909042" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#309909042">(Nov 14 2022 at 17:13)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5261#discussion_r1021839661">PR review comment</a>:</p>
<blockquote>
<p>I'd prefer if this was <code>u32::from(self.args_length)</code> instead of using the <code>as</code> operator, and similarly in <code>rets</code> below. That documents that we expect the conversion to always successfully preserve value, and does so in a way that the compiler will check for us.</p>
</blockquote>



<a name="309909043"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/309909043" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#309909043">(Nov 14 2022 at 17:13)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5261#discussion_r1021837626">PR review comment</a>:</p>
<blockquote>
<p><code>usize::try_from</code> was necessary when <code>len</code> was a <code>u32</code>, because I guess Rust supports targets with 16-bit <code>usize</code>. But both here and in <code>num_rets</code> below, you can just use <code>usize::from</code> since these lengths are <code>u16</code> now.</p>
</blockquote>



<a name="310134189"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/310134189" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#310134189">(Nov 15 2022 at 06:19)</a>:</h4>
<p>tnachen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5261">PR #5261</a> from <code>tnachen/sigdata_size</code> to <code>main</code>.</p>



<a name="310240060"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/310240060" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#310240060">(Nov 15 2022 at 16:34)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5261#pullrequestreview-1181201573">PR review</a>.</p>



<a name="310240062"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/310240062" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#310240062">(Nov 15 2022 at 16:34)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5261#discussion_r1023017729">PR review comment</a>:</p>
<blockquote>
<p>Unless I've missed something, you can use <code>usize::from</code> here as well, right?</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>        usize::from(self.rets_length)
</code></pre></div><br>
</p>
</blockquote>



<a name="310245897"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/310245897" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#310245897">(Nov 15 2022 at 17:02)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5261#pullrequestreview-1181247252">PR review</a>.</p>



<a name="310261695"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/310261695" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#310261695">(Nov 15 2022 at 18:21)</a>:</h4>
<p>tnachen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5261">PR #5261</a> from <code>tnachen/sigdata_size</code> to <code>main</code>.</p>



<a name="310350131"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/310350131" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#310350131">(Nov 16 2022 at 07:12)</a>:</h4>
<p>tnachen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5261">PR #5261</a> from <code>tnachen/sigdata_size</code> to <code>main</code>.</p>



<a name="310514127"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/310514127" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#310514127">(Nov 16 2022 at 22:36)</a>:</h4>
<p>tnachen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5261">PR #5261</a> from <code>tnachen/sigdata_size</code> to <code>main</code>.</p>



<a name="310514907"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/310514907" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#310514907">(Nov 16 2022 at 22:43)</a>:</h4>
<p>tnachen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5261">PR #5261</a> from <code>tnachen/sigdata_size</code> to <code>main</code>.</p>



<a name="310520061"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/310520061" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#310520061">(Nov 16 2022 at 23:24)</a>:</h4>
<p>tnachen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5261">PR #5261</a> from <code>tnachen/sigdata_size</code> to <code>main</code>.</p>



<a name="310520876"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/310520876" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#310520876">(Nov 16 2022 at 23:31)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5261#pullrequestreview-1183478187">PR review</a>.</p>



<a name="310520964"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/310520964" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#310520964">(Nov 16 2022 at 23:32)</a>:</h4>
<p>jameysharp has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/5261">PR #5261</a>.</p>



<a name="310525273"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235261%20Shrink%20the%20size%20of%20SigData%20in%20Cranelift/near/310525273" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235261.20Shrink.20the.20size.20of.20SigData.20in.20Cranelift.html#310525273">(Nov 17 2022 at 00:15)</a>:</h4>
<p>jameysharp merged <a href="https://github.com/bytecodealliance/wasmtime/pull/5261">PR #5261</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>