<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2865 Expose new `JITModule::read_got_entry... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232865.20Expose.20new.20.60JITModule.3A.3Aread_got_entry.2E.2E.2E.html">wasmtime / PR #2865 Expose new `JITModule::read_got_entry...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="236638083"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232865%20Expose%20new%20%60JITModule%3A%3Aread_got_entry.../near/236638083" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232865.20Expose.20new.20.60JITModule.3A.3Aread_got_entry.2E.2E.2E.html#236638083">(Apr 29 2021 at 08:36)</a>:</h4>
<p>eggyal edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2865">PR #2865</a> from <code>expose_get_got_address</code> to <code>main</code>.</p>



<a name="236638456"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232865%20Expose%20new%20%60JITModule%3A%3Aread_got_entry.../near/236638456" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232865.20Expose.20new.20.60JITModule.3A.3Aread_got_entry.2E.2E.2E.html#236638456">(Apr 29 2021 at 08:39)</a>:</h4>
<p>eggyal edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2865">PR #2865</a> from <code>expose_get_got_address</code> to <code>main</code>:</p>
<blockquote>
<p>This hasn't been discussed in a wasmtime issue, but (together with #2786) it's needed it for <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/1166">bjorn3/rustc_codegen_cranelift#1166</a>.</p>
<p>It exposes ~<code>JITModule::get_got_address</code>~ a new <code>JITModule::read_got_entry</code> function so that, when jitting lazily, cranelift users can inspect the GOT to determine whether a given function's entry is still their shim trampoline or not (and therefore whether the function has already been jitted).  This prevents the function from being jitted differently from simultaneous requests arising from different threads.</p>
<p>No test cases added~, because exposing a function obviously doesn't change any behaviour~.</p>
<p>Sorry, I don't know who would be an appropriate reviewer for this.<br>
</p>
</blockquote>



<a name="236638480"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232865%20Expose%20new%20%60JITModule%3A%3Aread_got_entry.../near/236638480" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232865.20Expose.20new.20.60JITModule.3A.3Aread_got_entry.2E.2E.2E.html#236638480">(Apr 29 2021 at 08:39)</a>:</h4>
<p>eggyal edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2865">PR #2865</a> from <code>expose_get_got_address</code> to <code>main</code>:</p>
<blockquote>
<p>This hasn't been discussed in a wasmtime issue, but (together with #2786) it's needed it for <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/1166">bjorn3/rustc_codegen_cranelift#1166</a>.</p>
<p>It exposes ~<code>JITModule::get_got_address</code>~ a new <code>JITModule::read_got_entry</code> function so that, when jitting lazily, cranelift users can inspect the GOT to determine whether a given function's entry is still their shim trampoline or not (and therefore whether the function has already been jitted).  This prevents the function from being jitted differently from simultaneous requests arising from different threads.</p>
<p>No test cases added, ~because exposing a function obviously doesn't change any behaviour~.</p>
<p>Sorry, I don't know who would be an appropriate reviewer for this.<br>
</p>
</blockquote>



<a name="237307908"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232865%20Expose%20new%20%60JITModule%3A%3Aread_got_entry.../near/237307908" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232865.20Expose.20new.20.60JITModule.3A.3Aread_got_entry.2E.2E.2E.html#237307908">(May 04 2021 at 11:36)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2865#pullrequestreview-651137958">PR Review</a>.</p>



<a name="237357715"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232865%20Expose%20new%20%60JITModule%3A%3Aread_got_entry.../near/237357715" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232865.20Expose.20new.20.60JITModule.3A.3Aread_got_entry.2E.2E.2E.html#237357715">(May 04 2021 at 16:34)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2865#pullrequestreview-651441894">PR Review</a>.</p>



<a name="237376093"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232865%20Expose%20new%20%60JITModule%3A%3Aread_got_entry.../near/237376093" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232865.20Expose.20new.20.60JITModule.3A.3Aread_got_entry.2E.2E.2E.html#237376093">(May 04 2021 at 18:30)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/2865">PR #2865</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>