<html>
<head><meta charset="utf-8"><title>wasmtime / PR #3422 Automate more of Wasmtime&#x27;s release p... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html">wasmtime / PR #3422 Automate more of Wasmtime&#x27;s release p...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="256476575"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/256476575" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#256476575">(Oct 06 2021 at 20:11)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/3422">PR #3422</a> from <code>release-process</code> to <code>main</code>:</p>
<blockquote>
<p>This change revamps the release process for Wasmtime and intends to make<br>
it nearly 100% automated for major release and hopefully still pretty<br>
simple for patch releases. New workflows are introduced as part of<br>
this commit:</p>
<ul>
<li>Once a month a PR is created with major version bumps</li>
<li>
<p>Specifically hinted commit messages to the <code>main</code> branch will get<br>
  tagged and pushed to the main repository.</p>
</li>
<li>
<p>On tags we'll now not only build releases after running CI but<br>
  additionally crates will be published to <a href="http://crates.io">crates.io</a>.</p>
</li>
</ul>
<p>In conjunction with other changes this means that the release process<br>
for a new major version of Wasmtime is simply merging a PR. Patch<br>
releases will involve running some steps locally but most of the<br>
nitty-gritty should be simply merging the PR that's generated.</p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="256482361"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/256482361" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#256482361">(Oct 06 2021 at 20:50)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/3422#discussion_r723665951">PR review comment</a>:</p>
<blockquote>
<p>This can use GITHUB_TOKEN,  right? Only pull request runs for branches on forks get a read-only token AFAIK. All other runs (including scheduled runs) should get a write token. One downside though is that according to the docs using GITHUB_TOKEN will prevent a workflow run for the pull request being scheduled to prevent accidentaly recursive workflows.</p>
</blockquote>



<a name="256482363"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/256482363" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#256482363">(Oct 06 2021 at 20:50)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3422#pullrequestreview-773214056">PR review</a>.</p>



<a name="256482743"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/256482743" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#256482743">(Oct 06 2021 at 20:53)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/3422#discussion_r723667537">PR review comment</a>:</p>
<blockquote>
<p>Why did you add this to the main workflow? It should only publish in the publish-to-cratesio workflow, right?</p>
</blockquote>



<a name="256482744"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/256482744" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#256482744">(Oct 06 2021 at 20:53)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3422#pullrequestreview-773216267">PR review</a>.</p>



<a name="256482979"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/256482979" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#256482979">(Oct 06 2021 at 20:54)</a>:</h4>
<p>bjorn3 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/3422#discussion_r723665951">PR review comment</a>.</p>



<a name="256483148"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/256483148" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#256483148">(Oct 06 2021 at 20:56)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3422#pullrequestreview-773218556">PR review</a>.</p>



<a name="256483152"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/256483152" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#256483152">(Oct 06 2021 at 20:56)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/3422#discussion_r723669290">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>Major versions of Wasmtime are released once-a-month. Most of this is automatic
</code></pre></div><br>
</p>
</blockquote>



<a name="256585996"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/256585996" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#256585996">(Oct 07 2021 at 14:24)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3422">PR #3422</a> from <code>release-process</code> to <code>main</code>.</p>



<a name="258068651"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/258068651" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#258068651">(Oct 18 2021 at 17:37)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/sunfishcode">sunfishcode</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/3422">PR #3422</a>.</p>



<a name="259102689"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/259102689" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#259102689">(Oct 26 2021 at 14:16)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3422">PR #3422</a> from <code>release-process</code> to <code>main</code>.</p>



<a name="259107686"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/259107686" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#259107686">(Oct 26 2021 at 14:47)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3422#pullrequestreview-789477455">PR review</a>.</p>



<a name="259107687"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/259107687" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#259107687">(Oct 26 2021 at 14:47)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3422#pullrequestreview-789477455">PR review</a>.</p>



<a name="259107691"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/259107691" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#259107691">(Oct 26 2021 at 14:47)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/3422#discussion_r736599872">PR review comment</a>:</p>
<blockquote>
<p>Can the grep pattern here start with <code>^</code> to reduce accidental matches if Cargo.toml somehow doesn't contain what we expect?</p>
</blockquote>



<a name="259113441"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/259113441" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#259113441">(Oct 26 2021 at 15:24)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3422">PR #3422</a> from <code>release-process</code> to <code>main</code>.</p>



<a name="259113699"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233422%20Automate%20more%20of%20Wasmtime%27s%20release%20p.../near/259113699" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233422.20Automate.20more.20of.20Wasmtime.27s.20release.20p.2E.2E.2E.html#259113699">(Oct 26 2021 at 15:25)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/3422">PR #3422</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>