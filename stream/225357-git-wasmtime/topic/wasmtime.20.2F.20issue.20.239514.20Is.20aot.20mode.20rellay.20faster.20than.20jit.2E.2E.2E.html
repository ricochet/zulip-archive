<html>
<head><meta charset="utf-8"><title>wasmtime / issue #9514 Is aot mode rellay faster than jit... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.239514.20Is.20aot.20mode.20rellay.20faster.20than.20jit.2E.2E.2E.html">wasmtime / issue #9514 Is aot mode rellay faster than jit...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="479263384"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%239514%20Is%20aot%20mode%20rellay%20faster%20than%20jit.../near/479263384" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.239514.20Is.20aot.20mode.20rellay.20faster.20than.20jit.2E.2E.2E.html#479263384">(Oct 28 2024 at 12:26)</a>:</h4>
<p>giteewif opened <a href="https://github.com/bytecodealliance/wasmtime/issues/9514">issue #9514</a>:</p>
<blockquote>
<p>Aot mode use the api deserialize, it get module from serialized module that called from Module::from_file() or Module::from_bytes()，and serilize api. And I test the aot mode and jit mode in polybench wasm or libsodium bench，their performance is same in execution, otherwise the compilation.</p>
</blockquote>



<a name="479263474"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%239514%20Is%20aot%20mode%20rellay%20faster%20than%20jit.../near/479263474" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.239514.20Is.20aot.20mode.20rellay.20faster.20than.20jit.2E.2E.2E.html#479263474">(Oct 28 2024 at 12:26)</a>:</h4>
<p>giteewif edited <a href="https://github.com/bytecodealliance/wasmtime/issues/9514">issue #9514</a>:</p>
<blockquote>
<p>Aot mode use the api deserialize, it get module from serialized module that called from Module::from_file() or Module::from_bytes()，and serilize api. And I test the aot mode and jit mode in polybench wasm or libsodium bench，their performance is same in execution, otherwise the compilation.</p>
</blockquote>



<a name="479296246"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%239514%20Is%20aot%20mode%20rellay%20faster%20than%20jit.../near/479296246" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.239514.20Is.20aot.20mode.20rellay.20faster.20than.20jit.2E.2E.2E.html#479296246">(Oct 28 2024 at 15:01)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/9514">issue #9514</a>:</p>
<blockquote>
<p>Aot mode use the api deserialize, it get module from serialized module that called from Module::from_file() or Module::from_bytes()，and serilize api. And I test the aot mode and jit mode in polybench wasm or libsodium bench，their performance is same in execution, otherwise the compilation.</p>
</blockquote>



<a name="479296248"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%239514%20Is%20aot%20mode%20rellay%20faster%20than%20jit.../near/479296248" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.239514.20Is.20aot.20mode.20rellay.20faster.20than.20jit.2E.2E.2E.html#479296248">(Oct 28 2024 at 15:01)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/9514#issuecomment-2441840618">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/9514">issue #9514</a>:</p>
<blockquote>
<p>You're evaluation matches expectations which is that these two perform the same. The "JIT mode" compile process is the exact same as "AOT mode" and so the exact same artifact is produced in both situations. That means the only expected difference is compile time.</p>
<p>Out of curiosity did you locate documentation that indicate the contrary? Did we for example have outdated documentation indicating that one mode was faster than the other?</p>
</blockquote>



<a name="479300317"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%239514%20Is%20aot%20mode%20rellay%20faster%20than%20jit.../near/479300317" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.239514.20Is.20aot.20mode.20rellay.20faster.20than.20jit.2E.2E.2E.html#479300317">(Oct 28 2024 at 15:21)</a>:</h4>
<p>giteewif <a href="https://github.com/bytecodealliance/wasmtime/issues/9514#issuecomment-2441892857">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/9514">issue #9514</a>:</p>
<blockquote>
<p>Thanks! There is no doc that show that, i just thought aot should perform best. That means wasmtime only support jit mod? the aot mode just the aot style, it do not compile all the code before execution?</p>
</blockquote>



<a name="479301129"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%239514%20Is%20aot%20mode%20rellay%20faster%20than%20jit.../near/479301129" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.239514.20Is.20aot.20mode.20rellay.20faster.20than.20jit.2E.2E.2E.html#479301129">(Oct 28 2024 at 15:25)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/9514#issuecomment-2441904166">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/9514">issue #9514</a>:</p>
<blockquote>
<p>Wasmtime doesn't have a first-class concept of "jit mode" or "aot mode" actually, so it's more in how you use Wasmtime than anything else. Once a module is running Wasmtime never generates code, so the two modes behave exactly the same way after a <code>Module</code> is created.</p>
<p>Put another way you can think of "jit mode" as "I can create a <code>Module</code> from a wasm blob" and "aot mode" is "I can create a <code>Module</code> from some previously-serialized bytes". In both cases the operation that's being done is the creation of a <code>Module</code>. In both cases once a <code>Module</code> is created (or <code>wasmtime_module_t</code> in the C API) no more codegen happens so both perform the same way.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>