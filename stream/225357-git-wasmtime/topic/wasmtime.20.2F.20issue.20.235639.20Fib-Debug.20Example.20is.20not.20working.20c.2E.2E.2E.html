<html>
<head><meta charset="utf-8"><title>wasmtime / issue #5639 Fib-Debug Example is not working c... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235639.20Fib-Debug.20Example.20is.20not.20working.20c.2E.2E.2E.html">wasmtime / issue #5639 Fib-Debug Example is not working c...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="323704411"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235639%20Fib-Debug%20Example%20is%20not%20working%20c.../near/323704411" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235639.20Fib-Debug.20Example.20is.20not.20working.20c.2E.2E.2E.html#323704411">(Jan 26 2023 at 12:20)</a>:</h4>
<p>akeles85 opened <a href="https://github.com/bytecodealliance/wasmtime/issues/5639">issue #5639</a>:</p>
<blockquote>
<p>When I try to run fib debug example in the repository, it gives an an error like below. I tried in two different machines with different operating systems and got the same result.</p>
<p>➜  wasmtime git:(main) ✗ cargo run --example fib-debug<br>
   Compiling wasmtime-cli v6.0.0 (/Users/akeles/workspace/wasm/wasmtime)<br>
    Finished dev [unoptimized + debuginfo] target(s) in 0.77s<br>
     Running <code>target/debug/examples/fib-debug</code><br>
Error: expected 4 imports, found 0</p>
<p>I have also checked the wasm file from command line and it seems working correctly. I also can run "cargo run --example wasi" without any errors. </p>
<p>➜  wasmtime git:(main) ✗ wasmtime target/wasm32-wasi/debug/fib.wasm --invoke fib 2<br>
warning: using <code>--invoke</code> with a function that takes arguments is experimental and may break in the future<br>
warning: using <code>--invoke</code> with a function that returns values is experimental and may break in the future<br>
3</p>
</blockquote>



<a name="323799138"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235639%20Fib-Debug%20Example%20is%20not%20working%20c.../near/323799138" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235639.20Fib-Debug.20Example.20is.20not.20working.20c.2E.2E.2E.html#323799138">(Jan 26 2023 at 17:52)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/5639#issuecomment-1405377886">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5639">issue #5639</a>:</p>
<blockquote>
<p>Thanks for the report, but it looks like you updated the example to use the <code>wasm32-wasi</code> target rather than the <code>wasm32-unknown-unknown</code> target. When doing that the module may import WASI functions which means you'd need to use a <code>Linker</code> and <code>wasmtime_wasi::add_to_linker</code> to set up the WASI context.</p>
<p>If you use the example as-is, with the <code>wasm32-unknown-unknown</code> target, then it should work.</p>
</blockquote>



<a name="323799140"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235639%20Fib-Debug%20Example%20is%20not%20working%20c.../near/323799140" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235639.20Fib-Debug.20Example.20is.20not.20working.20c.2E.2E.2E.html#323799140">(Jan 26 2023 at 17:52)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/5639">issue #5639</a>:</p>
<blockquote>
<p>When I try to run fib debug example in the repository, it gives an an error like below. I tried in two different machines with different operating systems and got the same result.</p>
<p>➜  wasmtime git:(main) ✗ cargo run --example fib-debug<br>
   Compiling wasmtime-cli v6.0.0 (/Users/akeles/workspace/wasm/wasmtime)<br>
    Finished dev [unoptimized + debuginfo] target(s) in 0.77s<br>
     Running <code>target/debug/examples/fib-debug</code><br>
Error: expected 4 imports, found 0</p>
<p>I have also checked the wasm file from command line and it seems working correctly. I also can run "cargo run --example wasi" without any errors. </p>
<p>➜  wasmtime git:(main) ✗ wasmtime target/wasm32-wasi/debug/fib.wasm --invoke fib 2<br>
warning: using <code>--invoke</code> with a function that takes arguments is experimental and may break in the future<br>
warning: using <code>--invoke</code> with a function that returns values is experimental and may break in the future<br>
3</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>