<html>
<head><meta charset="utf-8"><title>wasmtime / issue #4802 wasmtime -g panic · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234802.20wasmtime.20-g.20panic.html">wasmtime / issue #4802 wasmtime -g panic</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="295627731"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234802%20wasmtime%20-g%20panic/near/295627731" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234802.20wasmtime.20-g.20panic.html#295627731">(Aug 27 2022 at 18:25)</a>:</h4>
<p>GOVYANSONG opened <a href="https://github.com/bytecodealliance/wasmtime/issues/4802">issue #4802</a>:</p>
<blockquote>
<p>#include &lt;stdio.h&gt;</p>
<p>int main(void)<br>
{<br>
    puts("Hello");<br>
    return 0;<br>
}</p>
<p>built with wasi sdk v16.5: /opt/wasi-sdk/dist/wasi-sdk-16.5ga0a342ac182c/bin/clang --target=wasm32-unknown-wasi --sysroot /opt/wasi-sdk/dist/wasi-sysroot -g -O0 -v -o hello.wasm hello.c</p>
<p>wasmtime version: wasmtime-cli 0.40.0<br>
lldb version: lldb version 10.0.0<br>
linux wsl2: 5.10.16.3-microsoft-standard-WSL2 #1 SMP Fri Apr 2 22:23:49 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</p>
<p>run: wasmtime -g hello.wasm</p>
<p>exception thrown:</p>
<p>0: rust_begin_unwind<br>
             at /rustc/4b91a6ea7258a947e59c6522cd5898e7c0a6a88f/library/std/src/panicking.rs:584:5<br>
   1: core::panicking::panic_fmt<br>
             at /rustc/4b91a6ea7258a947e59c6522cd5898e7c0a6a88f/library/core/src/panicking.rs:142:14<br>
   2: core::result::unwrap_failed<br>
             at /rustc/4b91a6ea7258a947e59c6522cd5898e7c0a6a88f/library/core/src/result.rs:1805:5<br>
   3: wasmtime_jit::debug::create_gdbjit_image<br>
   4: wasmtime_jit::instantiate::CompiledModule::from_artifacts<br>
   5: wasmtime::module::Module::from_parts<br>
   6: wasmtime::module::Module::from_binary<br>
   7: wasmtime::module::Module::from_file<br>
   8: wasmtime_cli::commands::run::RunCommand::load_module<br>
   9: wasmtime_cli::commands::run::RunCommand::execute<br>
  10: wasmtime::main<br>
</p>
</blockquote>



<a name="295628210"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234802%20wasmtime%20-g%20panic/near/295628210" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234802.20wasmtime.20-g.20panic.html#295628210">(Aug 27 2022 at 18:30)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/4802#issuecomment-1229242026">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4802">issue #4802</a>:</p>
<blockquote>
<p>Please see <a href="https://github.com/bytecodealliance/wasmtime/issues/4669#issuecomment-1210997950">https://github.com/bytecodealliance/wasmtime/issues/4669#issuecomment-1210997950</a> In any case can you upload the wasm file itself. That will help with reproducing it in the future if someone wants to work on fixing this bug.</p>
</blockquote>



<a name="295628610"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234802%20wasmtime%20-g%20panic/near/295628610" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234802.20wasmtime.20-g.20panic.html#295628610">(Aug 27 2022 at 18:34)</a>:</h4>
<p>GOVYANSONG <a href="https://github.com/bytecodealliance/wasmtime/issues/4802#issuecomment-1229242717">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4802">issue #4802</a>:</p>
<blockquote>
<p><a href="https://github.com/bytecodealliance/wasmtime/files/9438497/hello.wasm.txt">hello.wasm.txt</a></p>
<p>Please rename the .txt file to original hello.wasm.</p>
</blockquote>



<a name="295648917"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234802%20wasmtime%20-g%20panic/near/295648917" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234802.20wasmtime.20-g.20panic.html#295648917">(Aug 27 2022 at 23:26)</a>:</h4>
<p>GOVYANSONG <a href="https://github.com/bytecodealliance/wasmtime/issues/4802#issuecomment-1229319239">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4802">issue #4802</a>:</p>
<blockquote>
<p>I drew inspiration from wasi example of wasmtime project itself. although lldb -- wasmtime run -g xyz.wasm throws nasty panic, the programmatical approach seemed to work fine e.g. set debug info to true. basically, adopted the wasi example and added config to set debug info = true. lldb ./wasi, set breakpoint for method name main (c wrapper) and _start (default wasi export). while in lldb debug session, run , gui, source code view is available.</p>
</blockquote>



<a name="295648918"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234802%20wasmtime%20-g%20panic/near/295648918" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234802.20wasmtime.20-g.20panic.html#295648918">(Aug 27 2022 at 23:26)</a>:</h4>
<p>GOVYANSONG closed <a href="https://github.com/bytecodealliance/wasmtime/issues/4802">issue #4802</a>:</p>
<blockquote>
<p>#include &lt;stdio.h&gt;</p>
<p>int main(void)<br>
{<br>
    puts("Hello");<br>
    return 0;<br>
}</p>
<p>built with wasi sdk v16.5: /opt/wasi-sdk/dist/wasi-sdk-16.5ga0a342ac182c/bin/clang --target=wasm32-unknown-wasi --sysroot /opt/wasi-sdk/dist/wasi-sysroot -g -O0 -v -o hello.wasm hello.c</p>
<p>wasmtime version: wasmtime-cli 0.40.0<br>
lldb version: lldb version 10.0.0<br>
linux wsl2: 5.10.16.3-microsoft-standard-WSL2 #1 SMP Fri Apr 2 22:23:49 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</p>
<p>run: wasmtime -g hello.wasm</p>
<p>exception thrown:</p>
<p>0: rust_begin_unwind<br>
             at /rustc/4b91a6ea7258a947e59c6522cd5898e7c0a6a88f/library/std/src/panicking.rs:584:5<br>
   1: core::panicking::panic_fmt<br>
             at /rustc/4b91a6ea7258a947e59c6522cd5898e7c0a6a88f/library/core/src/panicking.rs:142:14<br>
   2: core::result::unwrap_failed<br>
             at /rustc/4b91a6ea7258a947e59c6522cd5898e7c0a6a88f/library/core/src/result.rs:1805:5<br>
   3: wasmtime_jit::debug::create_gdbjit_image<br>
   4: wasmtime_jit::instantiate::CompiledModule::from_artifacts<br>
   5: wasmtime::module::Module::from_parts<br>
   6: wasmtime::module::Module::from_binary<br>
   7: wasmtime::module::Module::from_file<br>
   8: wasmtime_cli::commands::run::RunCommand::load_module<br>
   9: wasmtime_cli::commands::run::RunCommand::execute<br>
  10: wasmtime::main<br>
</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>