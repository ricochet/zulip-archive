<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2580 Wasmtime: Automatically call _init... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232580.20Wasmtime.3A.20Automatically.20call.20_init.2E.2E.2E.html">wasmtime / Issue #2580 Wasmtime: Automatically call _init...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="222669859"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232580%20Wasmtime%3A%20Automatically%20call%20_init.../near/222669859" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232580.20Wasmtime.3A.20Automatically.20call.20_init.2E.2E.2E.html#222669859">(Jan 14 2021 at 01:07)</a>:</h4>
<p>Ekleog opened <a href="https://github.com/bytecodealliance/wasmtime/issues/2580">Issue #2580</a>:</p>
<blockquote>
<h4>Feature</h4>
<p>Automatically call <code>_initialize</code> for reactors, maybe using a special function to create a reactor Module?</p>
<h4>Benefit</h4>
<p>Knowing one has to call <code>_initialize</code> is something that is not very documented (well… ok, currently nothing is very documented, but seeing as support for wasi reactors landed in rustc like two days ago it's not surprising… anyway my struggles are documented here: <a href="https://github.com/rust-lang/rust/pull/79997#issuecomment-759856446">https://github.com/rust-lang/rust/pull/79997#issuecomment-759856446</a>)</p>
<h4>Implementation</h4>
<p>Maybe this would be better with a separate function? But I somehow feel like calling <code>linker.instantiate(&amp;module)</code> automatically calling <code>_initialize</code> would make sense… or maybe add a mandatory argument so people must express the choice of whether they want their module to be initialized at instantiation time or not, and at least know they have to do it manually if they want not to?</p>
<h4>Alternatives</h4>
<p>Keep the statu quo, ie. let the user call <code>_initialize</code> manually. IMO that would require much more documentation about the topic, though it's definitely a possibility too.</p>
<p>Thank you for all you do on wasm and the surrounding ecosystem! <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span> </p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>