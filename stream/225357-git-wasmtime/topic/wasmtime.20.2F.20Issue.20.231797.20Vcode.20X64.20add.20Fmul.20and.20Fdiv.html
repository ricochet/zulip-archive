<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #1797 Vcode X64 add Fmul and Fdiv · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231797.20Vcode.20X64.20add.20Fmul.20and.20Fdiv.html">wasmtime / Issue #1797 Vcode X64 add Fmul and Fdiv</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="200980798"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231797%20Vcode%20X64%20add%20Fmul%20and%20Fdiv/near/200980798" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231797.20Vcode.20X64.20add.20Fmul.20and.20Fdiv.html#200980798">(Jun 16 2020 at 07:27)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/1797#issuecomment-644585821">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1797">Issue #1797</a>:</p>
<blockquote>
<p>Can close this PR as it is now obsolete. I've pushed a new PR #1884 that I originally intended as an update to this PR. </p>
</blockquote>



<a name="200981063"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231797%20Vcode%20X64%20add%20Fmul%20and%20Fdiv/near/200981063" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231797.20Vcode.20X64.20add.20Fmul.20and.20Fdiv.html#200981063">(Jun 16 2020 at 07:30)</a>:</h4>
<p>jlb6740 deleted a <a href="https://github.com/bytecodealliance/wasmtime/pull/1797#issuecomment-644585821">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1797">Issue #1797</a>:</p>
<blockquote>
<p>Can close this PR as it is now obsolete. I've pushed a new PR #1884 that I originally intended as an update to this PR. </p>
</blockquote>



<a name="200981200"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231797%20Vcode%20X64%20add%20Fmul%20and%20Fdiv/near/200981200" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231797.20Vcode.20X64.20add.20Fmul.20and.20Fdiv.html#200981200">(Jun 16 2020 at 07:32)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/1797#issuecomment-644587956">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1797">Issue #1797</a>:</p>
<blockquote>
<p>@bnjbvr For the change request, I simply removed the min/max lower and will update in a future patch. </p>
</blockquote>



<a name="201155576"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231797%20Vcode%20X64%20add%20Fmul%20and%20Fdiv/near/201155576" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231797.20Vcode.20X64.20add.20Fmul.20and.20Fdiv.html#201155576">(Jun 17 2020 at 15:13)</a>:</h4>
<p>julian-seward1 <a href="https://github.com/bytecodealliance/wasmtime/pull/1797#issuecomment-645436672">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1797">Issue #1797</a>:</p>
<blockquote>
<p>As a totally drive-by comment on test cases, I saw this frag in email ..</p>
<div class="codehilite"><pre><span></span><code>         &quot;F3450F5C94C241010000&quot;,
         &quot;subss   321(%r10,%rax,8), %xmm10&quot;,
</code></pre></div>


<p>If I could suggest .. for future tests ..</p>
<p>(1) Don't use the same register number twice in an example.  This test case won't be able to distinguish an error where the encodings for <code>%r10</code> and <code>%xmm10</code> are accidentally swapped (so to speak) both registers have the same encoding (10 !)</p>
<p>(2) Not such a problem here, but .. try to have some registers with encoding 8 and above and some with encoding 7 or below.  If regs are all above or all below the 7/8 boundary, it means that bit 3 of their encodings will be the same, so the test will be unable to detect confusion in the construction of bits 2:0 of the REX prefix.</p>
<p>I think these and other suggestions are documented in comments at the start of the x64 encoding tests.</p>
</blockquote>



<a name="201155819"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231797%20Vcode%20X64%20add%20Fmul%20and%20Fdiv/near/201155819" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231797.20Vcode.20X64.20add.20Fmul.20and.20Fdiv.html#201155819">(Jun 17 2020 at 15:14)</a>:</h4>
<p>julian-seward1 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1797#issuecomment-645436672">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1797">Issue #1797</a>:</p>
<blockquote>
<p>As a totally drive-by comment on test cases, I saw this frag in email ..</p>
<div class="codehilite"><pre><span></span><code>         &quot;F3450F5C94C241010000&quot;,
         &quot;subss   321(%r10,%rax,8), %xmm10&quot;,
</code></pre></div>


<p>If I could suggest .. for future tests ..</p>
<p>(1) Don't use the same register number twice in an example.  This test case won't be able to distinguish an error where the encodings for <code>%r10</code> and <code>%xmm10</code> are accidentally swapped (so to speak) since both registers have the same encoding (10 !)</p>
<p>(2) Not such a problem here, but .. try to have some registers with encoding 8 and above and some with encoding 7 or below.  If regs are all above or all below the 7/8 boundary, it means that bit 3 of their encodings will be the same, so the test will be unable to detect confusion in the construction of bits 2:0 of the REX prefix.</p>
<p>I think these and other suggestions are documented in comments at the start of the x64 encoding tests.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>