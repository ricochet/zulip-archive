<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9185 vtune: smoke test profiling in CI · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html">wasmtime / PR #9185 vtune: smoke test profiling in CI</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="466079527"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466079527" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466079527">(Aug 29 2024 at 17:56)</a>:</h4>
<p>abrown opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a> from <code>abrown:vtune-testing</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This checks that Wasmtime's <code>--profile=vtune</code> functionality continues to work. See commit messages for more details.</p>
</blockquote>



<a name="466080303"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466080303" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466080303">(Aug 29 2024 at 18:00)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="466086317"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466086317" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466086317">(Aug 29 2024 at 18:32)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="466087512"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466087512" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466087512">(Aug 29 2024 at 18:39)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="466087816"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466087816" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466087816">(Aug 29 2024 at 18:40)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="466090410"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466090410" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466090410">(Aug 29 2024 at 18:52)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="466090662"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466090662" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466090662">(Aug 29 2024 at 18:53)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#pullrequestreview-2269842724">PR review</a>.</p>



<a name="466090663"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466090663" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466090663">(Aug 29 2024 at 18:53)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#discussion_r1736933633">PR review comment</a>:</p>
<blockquote>
<p>The reason for searching for this kind of string is due to error dumps like <a href="https://community.intel.com/t5/Analyzers/Error-data-file-is-corrupted/m-p/1374551#M22040">this one</a>.</p>
</blockquote>



<a name="466095670"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466095670" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466095670">(Aug 29 2024 at 19:19)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="466096635"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466096635" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466096635">(Aug 29 2024 at 19:25)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="466123557"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466123557" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466123557">(Aug 29 2024 at 22:40)</a>:</h4>
<p><strong>abrown</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a> as ready for review.</p>



<a name="466123559"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466123559" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466123559">(Aug 29 2024 at 22:40)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/pchickey">pchickey</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="466123560"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466123560" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466123560">(Aug 29 2024 at 22:40)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="466123561"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466123561" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466123561">(Aug 29 2024 at 22:40)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="466123606"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466123606" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466123606">(Aug 29 2024 at 22:40)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="466123777"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466123777" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466123777">(Aug 29 2024 at 22:42)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="466124260"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466124260" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466124260">(Aug 29 2024 at 22:47)</a>:</h4>
<p>abrown <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#issuecomment-2319203972">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>:</p>
<blockquote>
<p>One thing to note here: I've tried to only install VTune where needed (when we check wasmtime-cli) because it increases the build time by <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/10623689188/job/29450604574?pr=9185#step:17:1">at least a minute</a>. I know we've worked in the past to reduce build times so there's a trade-off to think about: faster builds or test more features?</p>
</blockquote>



<a name="466285741"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466285741" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466285741">(Aug 30 2024 at 14:52)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#pullrequestreview-2272629682">PR review</a>.</p>



<a name="466285744"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466285744" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466285744">(Aug 30 2024 at 14:52)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#discussion_r1738849161">PR review comment</a>:</p>
<blockquote>
<p>To confirm, does this test fail if this flag is left out? </p>
</blockquote>



<a name="466285824"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/466285824" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#466285824">(Aug 30 2024 at 14:53)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#issuecomment-2321512952">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>:</p>
<blockquote>
<p>The integration path here seems like a reasonable starting point to me, thanks! I think it's fine to start here and see how it goes</p>
</blockquote>



<a name="467381883"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/467381883" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#467381883">(Sep 04 2024 at 00:30)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#pullrequestreview-2278724527">PR review</a>.</p>



<a name="467381884"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/467381884" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#467381884">(Sep 04 2024 at 00:30)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#discussion_r1742841289">PR review comment</a>:</p>
<blockquote>
<p>No, one can always run vanilla Wasmtime in VTune and that should be valid whether this flag is present or not. What this flag does is inform VTune about the JIT-compiled code so it can display it appropriately in the UI. We've had problems in the past with incorrectly telling VTune about this code which _did_ result in errors and that is what this test is checking: in effect, this is a regression test to check that we correctly tell VTune about the JIT code.</p>
</blockquote>



<a name="467382245"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/467382245" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#467382245">(Sep 04 2024 at 00:34)</a>:</h4>
<p>abrown <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#issuecomment-2327687412">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>:</p>
<blockquote>
<blockquote>
<p>The integration path here seems like a reasonable starting point to me, thanks! I think it's fine to start here and see how it goes</p>
</blockquote>
<p>I worked on the <code>install-vtune-action</code> a bit more and <code>v2</code> can now install VTune in 20 seconds using a ~700MB cache (see <a href="https://github.com/abrown/install-vtune-action/actions/caches">here</a>). I haven't switched to that version for this PR because I'm not sure if we can afford caches that large; just saying it's available.</p>
</blockquote>



<a name="467562005"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/467562005" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#467562005">(Sep 04 2024 at 14:48)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#pullrequestreview-2280461246">PR review</a>:</p>
<blockquote>
<p>Ok sounds good to me <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span>. I think things run fast enough here we can eat the extra minute for vtune, but if that becomes an issue we can investigate caching in the future.</p>
</blockquote>



<a name="467974379"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/467974379" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#467974379">(Sep 05 2024 at 20:13)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="468248326"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/468248326" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#468248326">(Sep 06 2024 at 17:33)</a>:</h4>
<p>abrown <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#issuecomment-2334520969">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>:</p>
<blockquote>
<p>Not sure what is going on with CI here: with the latest <code>matrix.filter == 'linux-x64'</code> change, VTune no longer installs in the riscv64 and s390x runs, but somehow the check that runs  <code>vtune --version</code> is returning successfully (it should not!) and the full test attempts to run. Not sure what is going on: is the <code>vtune --version</code> check incorrect somehow or is there some GitHub runner cached state causing issues here?</p>
</blockquote>



<a name="468248473"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/468248473" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#468248473">(Sep 06 2024 at 17:34)</a>:</h4>
<p>abrown edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#issuecomment-2334520969">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>:</p>
<blockquote>
<p>Not sure what is going on with CI: with the latest <code>matrix.filter == 'linux-x64'</code> change, VTune no longer installs in the riscv64 and s390x runs, but somehow the check that runs  <code>vtune --version</code> is returning successfully (it should not!) and the full test attempts to run. Is the <code>vtune --version</code> check incorrect somehow or is there some GitHub runner cached state causing issues here?</p>
</blockquote>



<a name="468248664"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/468248664" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#468248664">(Sep 06 2024 at 17:34)</a>:</h4>
<p>abrown edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#issuecomment-2334520969">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>:</p>
<blockquote>
<p>Not sure what is going on with CI: with the latest <code>matrix.filter == 'linux-x64'</code> change, VTune no longer installs in the riscv64 and s390x runs, but somehow the check that runs  <code>vtune --version</code> is returning successfully (it should not!) and the full test attempts to run. Is the <code>vtune --version</code> check incorrect somehow or is there some GitHub runner cached state causing issues here? [edit: let's try a rebase...]</p>
</blockquote>



<a name="468248788"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/468248788" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#468248788">(Sep 06 2024 at 17:35)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="468250776"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/468250776" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#468250776">(Sep 06 2024 at 17:43)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9185#issuecomment-2334541823">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>:</p>
<blockquote>
<p>Ah I think the issue is that this needs to be skipped in qemu. Otherwise it's running a non-x64 binary in vtune which isn't going to work. We don't have a great "am I in qemu" test other than <code>#[cfg(target_arch = "...")]</code> so running this test only on x64 should be fine</p>
</blockquote>



<a name="468252068"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/468252068" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#468252068">(Sep 06 2024 at 17:49)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<a name="468260025"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239185%20vtune%3A%20smoke%20test%20profiling%20in%20CI/near/468260025" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239185.20vtune.3A.20smoke.20test.20profiling.20in.20CI.html#468260025">(Sep 06 2024 at 18:26)</a>:</h4>
<p>abrown merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9185">PR #9185</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>