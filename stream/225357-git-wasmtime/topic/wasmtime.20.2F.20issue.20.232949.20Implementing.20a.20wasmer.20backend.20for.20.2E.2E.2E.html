<html>
<head><meta charset="utf-8"><title>wasmtime / issue #2949 Implementing a wasmer backend for ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.232949.20Implementing.20a.20wasmer.20backend.20for.20.2E.2E.2E.html">wasmtime / issue #2949 Implementing a wasmer backend for ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="240575278"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%232949%20Implementing%20a%20wasmer%20backend%20for%20.../near/240575278" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.232949.20Implementing.20a.20wasmer.20backend.20for.20.2E.2E.2E.html#240575278">(May 28 2021 at 08:32)</a>:</h4>
<p>Michael-F-Bryan opened <a href="https://github.com/bytecodealliance/wasmtime/issues/2949">issue #2949</a>:</p>
<blockquote>
<p>We are currently using <code>wasmer</code> as a WebAssembly runtime and I'd like to simplify the way host functions are done by using <code>wiggle</code>. </p>
<p>Is there a list of things I would need to do in order to implement a <code>wasmer-wiggle</code> crate? Or could you point me to a list of resources I can use as a starting point?</p>
</blockquote>



<a name="240575306"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%232949%20Implementing%20a%20wasmer%20backend%20for%20.../near/240575306" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.232949.20Implementing.20a.20wasmer.20backend.20for.20.2E.2E.2E.html#240575306">(May 28 2021 at 08:32)</a>:</h4>
<p>Michael-F-Bryan edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2949">issue #2949</a>:</p>
<blockquote>
<p>We are currently using <code>wasmer</code> as a WebAssembly runtime and I'd like to simplify the way host functions are done by using WITX as an interface definition language and generating guest/host bindings with <code>wiggle</code>. </p>
<p>Is there a list of things I would need to do in order to implement a <code>wasmer-wiggle</code> crate? Or could you point me to a list of resources I can use as a starting point?</p>
</blockquote>



<a name="240576314"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%232949%20Implementing%20a%20wasmer%20backend%20for%20.../near/240576314" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.232949.20Implementing.20a.20wasmer.20backend.20for.20.2E.2E.2E.html#240576314">(May 28 2021 at 08:43)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/2949#issuecomment-850256933">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2949">issue #2949</a>:</p>
<blockquote>
<p>Based on the source of <code>wiggle-wasmtime</code> I think you need to first implement <code>wiggle::GuestMemory</code> and then make a macro like <a href="https://github.com/bytecodealliance/wasmtime/blob/33c791e1f54c585a002ca244ac8ce2ef01a9cc34/crates/wiggle/wasmtime/macro/src/lib.rs">https://github.com/bytecodealliance/wasmtime/blob/33c791e1f54c585a002ca244ac8ce2ef01a9cc34/crates/wiggle/wasmtime/macro/src/lib.rs</a> to register the host functions to wasmer and create wrapper functions for calling into wasm.</p>
</blockquote>



<a name="240635192"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%232949%20Implementing%20a%20wasmer%20backend%20for%20.../near/240635192" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.232949.20Implementing.20a.20wasmer.20backend.20for.20.2E.2E.2E.html#240635192">(May 28 2021 at 17:22)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/issues/2949#issuecomment-850561994">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2949">issue #2949</a>:</p>
<blockquote>
<p>I'm not familiar with how <code>wasmer</code> works so you'll mostly be on your own for this. You might be able to port wiggle today, but you may end up having to fork it in the long run depending on what your goals are.</p>
<p>In addition to <code>wiggle-wasmtime</code> you can also use the sources of <code>lucet-wiggle</code> as a reference: <a href="https://github.com/bytecodealliance/lucet/tree/main/lucet-wiggle">https://github.com/bytecodealliance/lucet/tree/main/lucet-wiggle</a> Note that wiggle use in the lucet repo is currently based on a newer version of wiggle that is landing soon in <a href="https://github.com/bytecodealliance/wasmtime/pull/2897">https://github.com/bytecodealliance/wasmtime/pull/2897</a>. Note that another change in 2897 is folding <code>wiggle-wasmtime</code> functionality straight into the <code>wiggle</code> crate - doesn't make a big difference for now besides erasing some crates by using cargo features for optional functionality instead.</p>
<p>Wasmtime has nearly subsumed Lucet in our (Fastly) production use. Once we have EOL'd Lucet, we intend to refactor wiggle to specialize it to just work with Wasmtime. Having wiggle factored to support two different runtimes makes it harder to read &amp; write, among other design compromises we've been forced into. So, wiggle may end up evolving so that it is not viable to use on a different engine. Additionally, there is ongoing work to evolve the witx language and define the first ABI for Interface Types (<a href="https://github.com/WebAssembly/WASI/pull/422">https://github.com/WebAssembly/WASI/pull/422</a>, <a href="https://github.com/WebAssembly/interface-types/pull/132">https://github.com/WebAssembly/interface-types/pull/132</a>), and we'll be evolving wiggle to support those developments as well.</p>
</blockquote>



<a name="281324356"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%232949%20Implementing%20a%20wasmer%20backend%20for%20.../near/281324356" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.232949.20Implementing.20a.20wasmer.20backend.20for.20.2E.2E.2E.html#281324356">(May 05 2022 at 16:34)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/2949#issuecomment-1118783811">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2949">issue #2949</a>:</p>
<blockquote>
<p>I'm going to close this since wiggle is unsable enough that we're not going to be adding this to this repository. The wiggle infrastructure is not slated to suvive indefinitely as it's intended to be supplanted with wit-bindgen in the future as well.</p>
</blockquote>



<a name="281324357"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%232949%20Implementing%20a%20wasmer%20backend%20for%20.../near/281324357" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.232949.20Implementing.20a.20wasmer.20backend.20for.20.2E.2E.2E.html#281324357">(May 05 2022 at 16:34)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/2949">issue #2949</a>:</p>
<blockquote>
<p>We are currently using <code>wasmer</code> as a WebAssembly runtime and I'd like to simplify the way host functions are done by using WITX as an interface definition language and generating guest/host bindings with <code>wiggle</code>. </p>
<p>Is there a list of things I would need to do in order to implement a <code>wasmer-wiggle</code> crate? Or could you point me to a list of resources I can use as a starting point?</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>