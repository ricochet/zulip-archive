<html>
<head><meta charset="utf-8"><title>wasmtime / PR #4484 cranelift: Introduce a feature to ena... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234484.20cranelift.3A.20Introduce.20a.20feature.20to.20ena.2E.2E.2E.html">wasmtime / PR #4484 cranelift: Introduce a feature to ena...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="290274909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234484%20cranelift%3A%20Introduce%20a%20feature%20to%20ena.../near/290274909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234484.20cranelift.3A.20Introduce.20a.20feature.20to.20ena.2E.2E.2E.html#290274909">(Jul 20 2022 at 18:11)</a>:</h4>
<p>bnjbvr opened <a href="https://github.com/bytecodealliance/wasmtime/pull/4484">PR #4484</a> from <code>log-macros</code> to <code>main</code>:</p>
<blockquote>
<ul>
<li>First commit introduces a Cargo feature (disabled by default) to enable/disable trace logs in cranelift-codegen, as well as a macro that will call into <code>log::trace</code> only if the feature is enabled, following exactly what regalloc2 does. If downstream users set their <code>log::max_level</code> to <code>Trace</code>, they would pay the cost for the logging infrastructure, even if the logger eventually decides to throw away the logs' contents, so it's better overall to not call into the logging infra at all.</li>
<li>Second commit: previously disassembly was emitted if explicitly enabled (only in testing setups), or when the log level was debug or more. I suppose this was done during hacking on regalloc2 (as the commit introducing this change is the switch to regalloc2), and never reverted, so I've done that here. We could add a cranelift flag to be able to request that at runtime with the CLI, if needs be.</li>
</ul>
<p>With this change and those from other PRs, there's no more meaningful difference between a Wasmtime embedding setting the log's max level to trace or above.</p>
</blockquote>



<a name="290346255"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234484%20cranelift%3A%20Introduce%20a%20feature%20to%20ena.../near/290346255" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234484.20cranelift.3A.20Introduce.20a.20feature.20to.20ena.2E.2E.2E.html#290346255">(Jul 21 2022 at 08:13)</a>:</h4>
<p>bnjbvr updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4484">PR #4484</a> from <code>log-macros</code> to <code>main</code>.</p>



<a name="290905580"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234484%20cranelift%3A%20Introduce%20a%20feature%20to%20ena.../near/290905580" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234484.20cranelift.3A.20Introduce.20a.20feature.20to.20ena.2E.2E.2E.html#290905580">(Jul 26 2022 at 14:57)</a>:</h4>
<p><strong>bnjbvr</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/4484">PR #4484</a>.</p>



<a name="291391045"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234484%20cranelift%3A%20Introduce%20a%20feature%20to%20ena.../near/291391045" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234484.20cranelift.3A.20Introduce.20a.20feature.20to.20ena.2E.2E.2E.html#291391045">(Jul 29 2022 at 22:57)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4484#pullrequestreview-1056128605">PR review</a>.</p>



<a name="291543939"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234484%20cranelift%3A%20Introduce%20a%20feature%20to%20ena.../near/291543939" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234484.20cranelift.3A.20Introduce.20a.20feature.20to.20ena.2E.2E.2E.html#291543939">(Aug 01 2022 at 08:17)</a>:</h4>
<p>bnjbvr updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4484">PR #4484</a> from <code>log-macros</code> to <code>main</code>.</p>



<a name="291549432"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234484%20cranelift%3A%20Introduce%20a%20feature%20to%20ena.../near/291549432" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234484.20cranelift.3A.20Introduce.20a.20feature.20to.20ena.2E.2E.2E.html#291549432">(Aug 01 2022 at 09:19)</a>:</h4>
<p>bnjbvr merged <a href="https://github.com/bytecodealliance/wasmtime/pull/4484">PR #4484</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>