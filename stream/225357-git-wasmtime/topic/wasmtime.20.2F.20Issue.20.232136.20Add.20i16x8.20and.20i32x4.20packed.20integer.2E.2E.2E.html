<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2136 Add i16x8 and i32x4 packed integer... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232136.20Add.20i16x8.20and.20i32x4.20packed.20integer.2E.2E.2E.html">wasmtime / Issue #2136 Add i16x8 and i32x4 packed integer...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="207213284"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232136%20Add%20i16x8%20and%20i32x4%20packed%20integer.../near/207213284" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232136.20Add.20i16x8.20and.20i32x4.20packed.20integer.2E.2E.2E.html#207213284">(Aug 18 2020 at 00:45)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/2136#issuecomment-675185611">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2136">Issue #2136</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @bnjbvr</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "cranelift:area:x64"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>bnjbvr: cranelift</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="207430354"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232136%20Add%20i16x8%20and%20i32x4%20packed%20integer.../near/207430354" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232136.20Add.20i16x8.20and.20i32x4.20packed.20integer.2E.2E.2E.html#207430354">(Aug 19 2020 at 16:30)</a>:</h4>
<p>bnjbvr <a href="https://github.com/bytecodealliance/wasmtime/pull/2136#issuecomment-676530150">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2136">Issue #2136</a>:</p>
<blockquote>
<p>(Sorry for the slowness, lgtm too. As a general question, what was the reasoning behind having one SseOpcode enum per lane size vs one single SseOpcode for all, and the lane size in the Vcode inst?)</p>
</blockquote>



<a name="207436420"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232136%20Add%20i16x8%20and%20i32x4%20packed%20integer.../near/207436420" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232136.20Add.20i16x8.20and.20i32x4.20packed.20integer.2E.2E.2E.html#207436420">(Aug 19 2020 at 17:21)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/2136#issuecomment-676556651">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2136">Issue #2136</a>:</p>
<blockquote>
<blockquote>
<p>(Sorry for the slowness, lgtm too. As a general question, what was the reasoning behind having one SseOpcode enum per lane size vs one single SseOpcode for all, and the lane size in the Vcode inst?)</p>
</blockquote>
<p>Hi @bnjbvr .. no slowness, thanks for the review! This question on per lane vs no lane in the enum is a good one. I think we discussed it in a recent cranelift meeting and is something that can be changed in the future if we think that is best. I think we said the benefits for having one SseOpcode per lane (how it is now) were just (1) the explicitness that made the code easier to read, less to infer, less to chase down what a lowering was ultimately doing, and (2) the explicitness prevents the creation of lowering nonsensical instructions. So that was general thought, but you were out and obviously enumerating each instruction is maybe not desired and maybe removes some sort of flexibility and so ultimately this is something that is still an open and can be refactored if that's the better direction.</p>
</blockquote>



<a name="207436512"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232136%20Add%20i16x8%20and%20i32x4%20packed%20integer.../near/207436512" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232136.20Add.20i16x8.20and.20i32x4.20packed.20integer.2E.2E.2E.html#207436512">(Aug 19 2020 at 17:22)</a>:</h4>
<p>jlb6740 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/2136#issuecomment-676556651">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2136">Issue #2136</a>:</p>
<blockquote>
<blockquote>
<p>(Sorry for the slowness, lgtm too. As a general question, what was the reasoning behind having one SseOpcode enum per lane size vs one single SseOpcode for all, and the lane size in the Vcode inst?)</p>
</blockquote>
<p>Hi @bnjbvr .. no slowness, thanks for the review! This question of one instruction per lane vs no lane in the enum is a good one. I think we discussed it in a recent cranelift meeting and is something that can be changed in the future if we think that is best. I think we said the benefits for having one SseOpcode per lane (how it is now) were just (1) the explicitness that made the code easier to read, less to infer, less to chase down what a lowering was ultimately doing, and (2) the explicitness prevents the creation of lowering nonsensical instructions. So that was general thought, but you were out and obviously enumerating each instruction is maybe not desired and maybe removes some sort of flexibility and so ultimately this is something that is still an open and can be refactored if that's the better direction.</p>
</blockquote>



<a name="207436645"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232136%20Add%20i16x8%20and%20i32x4%20packed%20integer.../near/207436645" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232136.20Add.20i16x8.20and.20i32x4.20packed.20integer.2E.2E.2E.html#207436645">(Aug 19 2020 at 17:23)</a>:</h4>
<p>jlb6740 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/2136#issuecomment-676556651">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2136">Issue #2136</a>:</p>
<blockquote>
<blockquote>
<p>(Sorry for the slowness, lgtm too. As a general question, what was the reasoning behind having one SseOpcode enum per lane size vs one single SseOpcode for all, and the lane size in the Vcode inst?)</p>
</blockquote>
<p>Hi @bnjbvr .. no slowness, thanks for the review! This question of one instruction per lane vs no lane in the enum is a good one. I think we discussed it in a recent cranelift meeting and is something that can be changed in the future if we think that is best. I think we said the benefits for having one SseOpcode per lane (how it is now) were just (1) the explicitness that made the code easier to read, less to infer, less to chase down what a lowering was ultimately doing, and (2) the explicitness prevents the creation of lowering nonsensical instructions. So that was general thought, but you were out and obviously enumerating each instruction is maybe not desired/unwieldy and maybe removes some sort of flexibility and so ultimately this is something that is still an open and can be refactored if that's the better direction.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>