<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9582 Add support for async/streams/futures · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html">wasmtime / PR #9582 Add support for async/streams/futures</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="481186223"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/481186223" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#481186223">(Nov 07 2024 at 19:28)</a>:</h4>
<p>dicej opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> from <code>dicej:async</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[ ] Avoid exposing global task IDs to guests and use per-instance IDs instead</li>
<li>[ ] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[ ] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and even polling</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="481186550"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/481186550" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#481186550">(Nov 07 2024 at 19:30)</a>:</h4>
<p>dicej assigned dicej to <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a>.</p>



<a name="481197830"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/481197830" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#481197830">(Nov 07 2024 at 20:49)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="481199481"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/481199481" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#481199481">(Nov 07 2024 at 21:01)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[ ] Avoid exposing global task IDs to guests and use per-instance IDs instead</li>
<li>[ ] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Implement <code>{stream|future}.cancel-{read|write}</code> and <code>error-context.{new|debug-string}</code></li>
<li>[ ] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[ ] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and even polling</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="481201781"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/481201781" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#481201781">(Nov 07 2024 at 21:19)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="481203086"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/481203086" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#481203086">(Nov 07 2024 at 21:30)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="481209262"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/481209262" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#481209262">(Nov 07 2024 at 22:22)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="481209541"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/481209541" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#481209541">(Nov 07 2024 at 22:24)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[ ] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[ ] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Implement <code>{stream|future}.cancel-{read|write}</code> and <code>error-context.{new|debug-string}</code></li>
<li>[ ] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[ ] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and even polling</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="481220222"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/481220222" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#481220222">(Nov 08 2024 at 00:14)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[ ] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[ ] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Implement <code>{stream|future}.cancel-{read|write}</code> and <code>error-context.{new|debug-string}</code></li>
<li>[ ] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[ ] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and even polling</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="482483049"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/482483049" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#482483049">(Nov 14 2024 at 21:07)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[ ] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[ ] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Implement <code>{stream|future}.cancel-{read|write}</code> and <code>error-context.{new|debug-string}</code></li>
<li>[ ] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[ ] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="483767416"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/483767416" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#483767416">(Nov 21 2024 at 18:55)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="483769802"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/483769802" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#483769802">(Nov 21 2024 at 19:08)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="483778001"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/483778001" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#483778001">(Nov 21 2024 at 19:53)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="483778309"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/483778309" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#483778309">(Nov 21 2024 at 19:55)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[ ] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Implement <code>{stream|future}.cancel-{read|write}</code> and <code>error-context.{new|debug-string}</code></li>
<li>[ ] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[ ] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="483815122"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/483815122" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#483815122">(Nov 22 2024 at 00:37)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="483816418"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/483816418" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#483816418">(Nov 22 2024 at 00:50)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Implement <code>{stream|future}.cancel-{read|write}</code> and <code>error-context.{new|debug-string}</code></li>
<li>[ ] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[ ] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="483938446"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/483938446" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#483938446">(Nov 22 2024 at 15:49)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[ ] Implement <code>{stream|future}.cancel-{read|write}</code> and <code>error-context.{new|debug-string}</code></li>
<li>[ ] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[ ] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Add support and test coverage for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="484402847"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/484402847" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#484402847">(Nov 25 2024 at 22:45)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[ ] Implement <code>{stream|future}.cancel-{read|write}</code> and <code>error-context.{new|debug-string}</code></li>
<li>[ ] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[ ] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Add support and test coverage for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Call any post_return functions after lifting results during async-&gt;sync calls</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="484404221"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/484404221" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#484404221">(Nov 25 2024 at 22:55)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[ ] Implement <code>{stream|future}.cancel-{read|write}</code> and <code>error-context.{new|debug-string}</code></li>
<li>[ ] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[ ] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Add support and test coverage for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Call any post_return functions after lifting results</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="484634128"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/484634128" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#484634128">(Nov 27 2024 at 03:26)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="484634334"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/484634334" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#484634334">(Nov 27 2024 at 03:29)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[ ] Implement <code>{stream|future}.cancel-{read|write}</code> and <code>error-context.{new|debug-string}</code></li>
<li>[x] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[x] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Add support and test coverage for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Call any post_return functions after lifting results</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="484746765"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/484746765" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#484746765">(Nov 27 2024 at 15:28)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="486375109"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/486375109" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#486375109">(Dec 05 2024 at 19:03)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="486375933"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/486375933" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#486375933">(Dec 05 2024 at 19:08)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[x] Implement <code>{stream|future}.cancel-{read|write}</code></li>
<li>[ ] Implement <code>error-context.{new|debug-string}</code></li>
<li>[x] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[x] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Add support and test coverage for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Call any post_return functions after lifting results</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="486566833"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/486566833" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#486566833">(Dec 06 2024 at 17:50)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="486607059"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/486607059" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#486607059">(Dec 06 2024 at 22:56)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="486609519"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/486609519" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#486609519">(Dec 06 2024 at 23:22)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="486610002"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/486610002" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#486610002">(Dec 06 2024 at 23:28)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[x] Implement <code>{stream|future}.cancel-{read|write}</code></li>
<li>[x] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[x] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[x] Add support for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add support and test coverage for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Implement <code>error-context.{new|debug-string}</code></li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Call any post_return functions after lifting results</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="487113603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/487113603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#487113603">(Dec 09 2024 at 22:33)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="487114792"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/487114792" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#487114792">(Dec 09 2024 at 22:41)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[x] Implement <code>{stream|future}.cancel-{read|write}</code></li>
<li>[x] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[x] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[x] Add support for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[x] Add support for callback-less async functions (e.g. goroutines)</li>
<li>[ ] Add integration test cases covering new functionality to tests/all/component_model (starting by porting over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Implement <code>error-context.{new|debug-string}</code></li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Call any post_return functions after lifting results</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch to back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
</ul>
</blockquote>



<a name="487358658"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/487358658" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#487358658">(Dec 10 2024 at 23:35)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="487361827"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/487361827" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#487361827">(Dec 11 2024 at 00:06)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="487676409"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/487676409" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#487676409">(Dec 11 2024 at 00:21)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="487679916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/487679916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#487679916">(Dec 11 2024 at 00:57)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="488194173"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/488194173" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#488194173">(Dec 11 2024 at 21:43)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="488194977"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/488194977" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#488194977">(Dec 11 2024 at 21:48)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[x] Implement <code>{stream|future}.cancel-{read|write}</code></li>
<li>[x] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[x] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[x] Add support for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[x] Add support for callback-less async functions (e.g. goroutines)</li>
<li>[x] Add end-to-end tests covering new functionality (i.e. port over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[ ] Add WAT-based tests covering new functionality to tests/all/component_model</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Implement <code>error-context.{new|debug-string}</code></li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Call any post_return functions after lifting results</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
<li>[ ] Switch back to upstream <code>wit-bindgen</code> once <a href="https://github.com/bytecodealliance/wit-bindgen/pull/1082">https://github.com/bytecodealliance/wit-bindgen/pull/1082</a> has been merged and released</li>
</ul>
</blockquote>



<a name="488518043"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/488518043" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#488518043">(Dec 11 2024 at 23:03)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="488518983"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/488518983" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#488518983">(Dec 11 2024 at 23:11)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="490204491"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/490204491" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#490204491">(Dec 20 2024 at 17:37)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="490331355"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/490331355" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#490331355">(Dec 21 2024 at 21:22)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="490335238"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/490335238" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#490335238">(Dec 21 2024 at 22:22)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="491636764"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/491636764" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#491636764">(Jan 02 2025 at 16:51)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="491796737"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/491796737" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#491796737">(Jan 03 2025 at 18:47)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="491797623"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/491797623" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#491797623">(Jan 03 2025 at 18:54)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[x] Implement <code>{stream|future}.cancel-{read|write}</code></li>
<li>[x] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[x] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[x] Add support for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[x] Add support for callback-less async functions (e.g. goroutines)</li>
<li>[x] Add end-to-end tests covering new functionality (i.e. port over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[x] Add WAT-based tests covering new functionality to tests/all/component_model</li>
<li>[ ] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Implement <code>error-context.{new|debug-string}</code></li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Call any post_return functions after lifting results</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
<li>[ ] Switch back to upstream <code>wit-bindgen</code> once <a href="https://github.com/bytecodealliance/wit-bindgen/pull/1082">https://github.com/bytecodealliance/wit-bindgen/pull/1082</a> has been merged and released</li>
</ul>
</blockquote>



<a name="491819510"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/491819510" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#491819510">(Jan 03 2025 at 22:18)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="491820650"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/491820650" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#491820650">(Jan 03 2025 at 22:31)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="491820712"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/491820712" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#491820712">(Jan 03 2025 at 22:32)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[x] Implement <code>{stream|future}.cancel-{read|write}</code></li>
<li>[x] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[x] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[x] Add support for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[x] Add support for callback-less async functions (e.g. goroutines)</li>
<li>[x] Add end-to-end tests covering new functionality (i.e. port over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[x] Add WAT-based tests covering new functionality to tests/all/component_model</li>
<li>[x] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Implement <code>error-context.{new|debug-string}</code></li>
<li>[ ] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Call any post_return functions after lifting results</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
<li>[ ] Switch back to upstream <code>wit-bindgen</code> once <a href="https://github.com/bytecodealliance/wit-bindgen/pull/1082">https://github.com/bytecodealliance/wit-bindgen/pull/1082</a> has been merged and released</li>
</ul>
</blockquote>



<a name="491827526"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/491827526" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#491827526">(Jan 03 2025 at 23:58)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="491830995"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/491830995" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#491830995">(Jan 04 2025 at 00:44)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="492172536"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/492172536" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#492172536">(Jan 06 2025 at 19:49)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="492199004"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/492199004" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#492199004">(Jan 06 2025 at 22:34)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="492199071"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/492199071" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#492199071">(Jan 06 2025 at 22:34)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[x] Implement <code>{stream|future}.cancel-{read|write}</code></li>
<li>[x] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[x] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[x] Add support for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[x] Add support for callback-less async functions (e.g. goroutines)</li>
<li>[x] Add end-to-end tests covering new functionality (i.e. port over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[x] Add WAT-based tests covering new functionality to tests/all/component_model</li>
<li>[x] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Implement <code>error-context.{new|debug-string}</code></li>
<li>[x] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[ ] Call any post_return functions after lifting results</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
<li>[ ] Switch back to upstream <code>wit-bindgen</code> once <a href="https://github.com/bytecodealliance/wit-bindgen/pull/1082">https://github.com/bytecodealliance/wit-bindgen/pull/1082</a> has been merged and released</li>
</ul>
</blockquote>



<a name="492209228"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/492209228" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#492209228">(Jan 06 2025 at 23:41)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="492212314"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/492212314" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#492212314">(Jan 07 2025 at 00:06)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="492349424"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/492349424" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#492349424">(Jan 07 2025 at 16:59)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="492353332"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/492353332" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#492353332">(Jan 07 2025 at 17:22)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="492607919"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/492607919" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#492607919">(Jan 09 2025 at 00:37)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="493030269"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/493030269" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#493030269">(Jan 10 2025 at 21:44)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="493030693"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/493030693" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#493030693">(Jan 10 2025 at 21:48)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="493032586"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/493032586" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#493032586">(Jan 10 2025 at 22:05)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="493034400"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/493034400" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#493034400">(Jan 10 2025 at 22:23)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="493035655"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/493035655" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#493035655">(Jan 10 2025 at 22:34)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="493682397"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/493682397" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#493682397">(Jan 14 2025 at 22:32)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="493682651"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/493682651" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#493682651">(Jan 14 2025 at 22:34)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[x] Implement <code>{stream|future}.cancel-{read|write}</code></li>
<li>[x] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[x] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[x] Add support for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[x] Add support for callback-less async functions (e.g. goroutines)</li>
<li>[x] Add end-to-end tests covering new functionality (i.e. port over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[x] Add WAT-based tests covering new functionality to tests/all/component_model</li>
<li>[x] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Implement <code>error-context.{new|debug-string}</code></li>
<li>[x] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[ ] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[x] Call any post_return functions after lifting results</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
<li>[ ] Switch back to upstream <code>wit-bindgen</code> once <a href="https://github.com/bytecodealliance/wit-bindgen/pull/1082">https://github.com/bytecodealliance/wit-bindgen/pull/1082</a> has been merged and released</li>
</ul>
</blockquote>



<a name="493683581"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/493683581" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#493683581">(Jan 14 2025 at 22:43)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="493978253"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/493978253" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#493978253">(Jan 15 2025 at 17:18)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="494038317"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/494038317" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#494038317">(Jan 15 2025 at 23:57)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="494039537"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/494039537" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#494039537">(Jan 16 2025 at 00:07)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="494039584"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/494039584" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#494039584">(Jan 16 2025 at 00:07)</a>:</h4>
<p>dicej edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej):</p>
<blockquote>
<p>This adds support for loading, compiling, linking, and running components which use the <a href="https://github.com/WebAssembly/component-model/blob/main/design/mvp/Async.md">Async ABI</a> along with the <a href="https://github.com/WebAssembly/component-model/pull/405"><code>stream</code>, <code>future</code>, and <code>error-context</code></a> types. It also adds support for generating host bindings such that multiple host functions can be run concurrently with guest tasks -- without monopolizing the <code>Store</code>.</p>
<p>See the <a href="https://github.com/bytecodealliance/rfcs/pull/38">implementation RFC</a> for details, as well as <a href="https://github.com/dicej/component-async-demo">this repo</a> containing end-to-end smoke tests.</p>
<p>This is very much a work-in progress, with a number of tasks remaining:</p>
<ul>
<li>[x] Avoid exposing global task IDs to guests and use per-instance IDs instead (and fix no_std build at the same time)</li>
<li>[x] Track <code>task.return</code> type during compilation and assert the actual and expected types match at runtime</li>
<li>[x] Implement <code>{stream|future}.cancel-{read|write}</code></li>
<li>[x] Add support for <code>(Typed)Func::call_concurrent</code> per the RFC</li>
<li>[x] Add support for multiplexing stream/future reads/writes and concurrent calls to guest exports per the RFC</li>
<li>[x] Add support for dynamic APIs for async/streams/futures/error-contexts</li>
<li>[x] Add support for callback-less async functions (e.g. goroutines)</li>
<li>[x] Add end-to-end tests covering new functionality (i.e. port over the tests in <a href="https://github.com/dicej/component-async-demo">https://github.com/dicej/component-async-demo</a>)</li>
<li>[x] Add WAT-based tests covering new functionality to tests/all/component_model</li>
<li>[x] Add binding generation test cases to crates/component-macro/tests</li>
<li>[ ] Add WAST tests to tests/misc_testsuite/component-model</li>
<li>[ ] Add doc and code comments to new, non-trivial code (especially <a href="http://concurrent.rs">concurrent.rs</a> and <a href="http://futures_and_streams.rs">futures_and_streams.rs</a>)</li>
<li>[ ] Implement <code>error-context.{new|debug-string}</code></li>
<li>[x] Ensure all guest pointers are bounds-checked when lifting, lowering, or copying values</li>
<li>[x] Guard against reentrance where required (e.g. in certain fused adapter calls)</li>
<li>[x] Call any post_return functions after lifting results</li>
<li>[ ] Minimize and/or document the use of unsafe code</li>
<li>[ ] Refactor, clean up, and unify handling of backpressure, yields, and event polling</li>
<li>[ ] Reduce code duplication in <code>wasmtime_cranelift::compiler::component</code></li>
<li>[ ] Reduce code duplication between <code>StoreContextMut::on_fiber</code> and <code>concurrent::on_fiber</code></li>
<li>[ ] Switch back to upstream <code>wasm-tools</code> once <a href="https://github.com/bytecodealliance/wasm-tools/pull/1895">https://github.com/bytecodealliance/wasm-tools/pull/1895</a> has been merged and released</li>
<li>[ ] Switch back to upstream <code>wit-bindgen</code> once <a href="https://github.com/bytecodealliance/wit-bindgen/pull/1082">https://github.com/bytecodealliance/wit-bindgen/pull/1082</a> has been merged and released</li>
</ul>
</blockquote>



<a name="494229366"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/494229366" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#494229366">(Jan 16 2025 at 20:42)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="494230056"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/494230056" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#494230056">(Jan 16 2025 at 20:48)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="494434860"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/494434860" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#494434860">(Jan 17 2025 at 20:32)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="494438240"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/494438240" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#494438240">(Jan 17 2025 at 20:55)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<a name="494442706"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239582%20Add%20support%20for%20async/streams/futures/near/494442706" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239582.20Add.20support.20for.20async.2Fstreams.2Ffutures.html#494442706">(Jan 17 2025 at 21:24)</a>:</h4>
<p>dicej updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9582">PR #9582</a> (assigned to dicej).</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>