<html>
<head><meta charset="utf-8"><title>wasmtime / issue #1173 arm32 support · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231173.20arm32.20support.html">wasmtime / issue #1173 arm32 support</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="254282615"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231173%20arm32%20support/near/254282615" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231173.20arm32.20support.html#254282615">(Sep 21 2021 at 21:39)</a>:</h4>
<p>squillace <a href="https://github.com/bytecodealliance/wasmtime/issues/1173#issuecomment-924405951">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1173">issue #1173</a>:</p>
<blockquote>
<p>Yup, some issues here and there remain for 32-bit builds:</p>
<blockquote>
<p>error[E0308]: mismatched types<br>
 --&gt; crates/environ/src/tunables.rs:65:34<br>
  |<br>
65 |             static_memory_bound: (10 * (1 &lt;&lt; 20)) / crate::WASM_PAGE_SIZE,<br>
 |                                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ expected <code>u64</code>, found <code>u32</code><br>
</p>
</blockquote>
</blockquote>



<a name="254283659"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231173%20arm32%20support/near/254283659" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231173.20arm32.20support.html#254283659">(Sep 21 2021 at 21:49)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/1173#issuecomment-924411773">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1173">issue #1173</a>:</p>
<blockquote>
<p>Not just that, I believe the arm32 backend is too incomplete to do much useful.</p>
</blockquote>



<a name="254283809"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231173%20arm32%20support/near/254283809" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231173.20arm32.20support.html#254283809">(Sep 21 2021 at 21:50)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/1173#issuecomment-924412491">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1173">issue #1173</a>:</p>
<blockquote>
<p>Indeed, the high-order bit is that the compiler backend on arm32 can only generate code for 32-bit operators right now, not 64-bit ones, and in general is pretty incomplete. There is some hope that the new isel framework could make this work easier to complete, but until then, mismatching types in the runtime are the least of our worries :-)</p>
</blockquote>



<a name="269473113"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231173%20arm32%20support/near/269473113" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231173.20arm32.20support.html#269473113">(Jan 26 2022 at 20:04)</a>:</h4>
<p>akirilov-arm <a href="https://github.com/bytecodealliance/wasmtime/issues/1173#issuecomment-1022556554">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1173">issue #1173</a>:</p>
<blockquote>
<p>Note (@jmkrauz in particular) that in issue #3721 we are discussing potential removal of the 32-bit Arm backend.</p>
</blockquote>



<a name="281230492"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231173%20arm32%20support/near/281230492" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231173.20arm32.20support.html#281230492">(May 04 2022 at 22:44)</a>:</h4>
<p>cfallin labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/1173">issue #1173</a>:</p>
<blockquote>
<ul>
<li>
<p>What is the feature or code improvement you would like to do in Cranelift?<br>
I would like to add ARM support by implementing ARM (not Thumb) encodings/recipes and abi. I am especially interested in armv7 little endian support.</p>
</li>
<li>
<p>What is the value of adding this in Cranelift?<br>
Emit code that could run on ARM architecture.</p>
</li>
<li>
<p>Do you have an implementation plan, and/or ideas for data structures or<br>
  algorithms to use?<br>
At first i want to add basic integer operations followed by floating point instructions. I thought about implementing the latter using VFP rather than the NEON extension (As far as I know NEON does not support double precision). As for calling convention, I would like to implement AAPCS.<br>
 I already have some code that i hope to push after necessary modifications.</p>
</li>
<li>
<p>Have you considered alternative implementations? If so, how are they better<br>
  or worse than your proposal?<br>
No, but I am open to suggestions.</p>
</li>
</ul>
</blockquote>



<a name="281230503"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231173%20arm32%20support/near/281230503" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231173.20arm32.20support.html#281230503">(May 04 2022 at 22:44)</a>:</h4>
<p>cfallin labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/1173">issue #1173</a>:</p>
<blockquote>
<ul>
<li>
<p>What is the feature or code improvement you would like to do in Cranelift?<br>
I would like to add ARM support by implementing ARM (not Thumb) encodings/recipes and abi. I am especially interested in armv7 little endian support.</p>
</li>
<li>
<p>What is the value of adding this in Cranelift?<br>
Emit code that could run on ARM architecture.</p>
</li>
<li>
<p>Do you have an implementation plan, and/or ideas for data structures or<br>
  algorithms to use?<br>
At first i want to add basic integer operations followed by floating point instructions. I thought about implementing the latter using VFP rather than the NEON extension (As far as I know NEON does not support double precision). As for calling convention, I would like to implement AAPCS.<br>
 I already have some code that i hope to push after necessary modifications.</p>
</li>
<li>
<p>Have you considered alternative implementations? If so, how are they better<br>
  or worse than your proposal?<br>
No, but I am open to suggestions.</p>
</li>
</ul>
</blockquote>



<a name="281230714"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231173%20arm32%20support/near/281230714" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231173.20arm32.20support.html#281230714">(May 04 2022 at 22:46)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/1173#issuecomment-1118002884">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1173">issue #1173</a>:</p>
<blockquote>
<p>For completeness to keep this issue up-to-date: we indeed removed the halfway-complete ARM32 backend because, unfortunately, no one had the resources to bring it up to a Wasm-MVP level of completeness, nor maintain it as we continue to evolve the compiler. However, we would absolutely welcome a new contribution of ARM32 support, as long as (i) it starts at a relatively complete state, i.e., is usable to run wasmtime as-is; and (ii) has an active and interested community of contributors willing to help maintain it and resolve issues.</p>
</blockquote>



<a name="405600133"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231173%20arm32%20support/near/405600133" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231173.20arm32.20support.html#405600133">(Dec 03 2023 at 04:02)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the wasmtime:platform-support label to <a href="https://github.com/bytecodealliance/wasmtime/issues/1173">Issue #1173</a>.</p>



<a name="490219152"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231173%20arm32%20support/near/490219152" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231173.20arm32.20support.html#490219152">(Dec 20 2024 at 19:31)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/1173#issuecomment-2557605936">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1173">issue #1173</a>:</p>
<blockquote>
<p>For those following this issue Wasmtime now supports 32-bit ARM via the <a href="https://github.com/bytecodealliance/rfcs/blob/main/accepted/pulley.md">Pulley interpreter</a> which should now be able to run most wasm programs. Pulley is not 100% finished yet in that we still have some polish to do, but it should be suitable for testing at this time. </p>
<p>In the meantime I'm going to rename this issue to clarify that the request is to add a Cranelift backend for 32-bit ARM architectures. General support for Wasmtime on 32-bit ARM architectures should be "solved" now and if there are any issues please feel free to open a new issue.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>