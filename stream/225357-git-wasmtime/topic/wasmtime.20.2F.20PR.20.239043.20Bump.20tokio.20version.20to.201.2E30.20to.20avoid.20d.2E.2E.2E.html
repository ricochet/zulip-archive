<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9043 Bump tokio version to 1.30 to avoid d... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239043.20Bump.20tokio.20version.20to.201.2E30.20to.20avoid.20d.2E.2E.2E.html">wasmtime / PR #9043 Bump tokio version to 1.30 to avoid d...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="454998107"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239043%20Bump%20tokio%20version%20to%201.30%20to%20avoid%20d.../near/454998107" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239043.20Bump.20tokio.20version.20to.201.2E30.20to.20avoid.20d.2E.2E.2E.html#454998107">(Jul 30 2024 at 02:29)</a>:</h4>
<p>iawia002 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9043">PR #9043</a> from <code>iawia002:deps</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>In #8983, we introduced the <code>redis</code> dependency, which relies on <code>socket2</code> 0.5. This conflicts with our existing version 0.4, leading to <code>cargo deny</code> throwing the following error when trying to merge #9032 (<a href="https://github.com/bytecodealliance/wasmtime/actions/runs/10147488558/job/28058006599">https://github.com/bytecodealliance/wasmtime/actions/runs/10147488558/job/28058006599</a>).</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span><span class="p">[</span><span class="n">duplicate</span><span class="p">]:</span><span class="w"> </span><span class="nc">found</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">duplicate</span><span class="w"> </span><span class="n">entries</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">crate</span><span class="w"> </span><span class="o">'</span><span class="na">socket2</span><span class="o">'</span>
<span class="w">    </span><span class="err">┌─</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">runner</span><span class="o">/</span><span class="n">work</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">Cargo</span><span class="p">.</span><span class="n">lock</span><span class="p">:</span><span class="mi">224</span><span class="p">:</span><span class="mi">1</span>
<span class="w">    </span><span class="err">│</span>
<span class="mi">224</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">╭</span><span class="w"> </span><span class="n">socket2</span><span class="w"> </span><span class="mf">0.4.9</span><span class="w"> </span><span class="n">registry</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="c1">//github.com/rust-lang/crates.io-index</span>
<span class="mi">225</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="err">│</span><span class="w"> </span><span class="n">socket2</span><span class="w"> </span><span class="mf">0.5.7</span><span class="w"> </span><span class="n">registry</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="c1">//github.com/rust-lang/crates.io-index</span>
<span class="w">    </span><span class="err">│</span><span class="w"> </span><span class="err">╰───────────────────────────────────────────────────────────────────</span><span class="o">^</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">entries</span>
</code></pre></div>
<p>Therefore, this patch updates the version of <code>tokio</code> from 1.29.1 to 1.30. With this update, we will no longer have duplicate socket2 dependencies, as both will depend on version 0.5.</p>
<p>NOTE: I could also downgrade the <code>redis</code> version to 0.25.0, which relies on socket2 0.4, but this version has significant bugs and has been yanked.</p>
<p>&lt;img width="614" alt="Screenshot 2024-07-30 at 10 24 34" src="<a href="https://github.com/user-attachments/assets/fd8e82b9-3cb2-4a5b-a88a-6aa6bb8c1952">https://github.com/user-attachments/assets/fd8e82b9-3cb2-4a5b-a88a-6aa6bb8c1952</a>"&gt;</p>
</blockquote>



<a name="454998108"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239043%20Bump%20tokio%20version%20to%201.30%20to%20avoid%20d.../near/454998108" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239043.20Bump.20tokio.20version.20to.201.2E30.20to.20avoid.20d.2E.2E.2E.html#454998108">(Jul 30 2024 at 02:29)</a>:</h4>
<p><strong>iawia002</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9043">PR #9043</a>.</p>



<a name="454998109"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239043%20Bump%20tokio%20version%20to%201.30%20to%20avoid%20d.../near/454998109" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239043.20Bump.20tokio.20version.20to.201.2E30.20to.20avoid.20d.2E.2E.2E.html#454998109">(Jul 30 2024 at 02:29)</a>:</h4>
<p><strong>iawia002</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9043">PR #9043</a>.</p>



<a name="455135682"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239043%20Bump%20tokio%20version%20to%201.30%20to%20avoid%20d.../near/455135682" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239043.20Bump.20tokio.20version.20to.201.2E30.20to.20avoid.20d.2E.2E.2E.html#455135682">(Jul 30 2024 at 14:20)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9043">PR #9043</a>.</p>



<a name="455135708"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239043%20Bump%20tokio%20version%20to%201.30%20to%20avoid%20d.../near/455135708" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239043.20Bump.20tokio.20version.20to.201.2E30.20to.20avoid.20d.2E.2E.2E.html#455135708">(Jul 30 2024 at 14:20)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9043#pullrequestreview-2207846250">PR review</a>.</p>



<a name="455135739"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239043%20Bump%20tokio%20version%20to%201.30%20to%20avoid%20d.../near/455135739" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239043.20Bump.20tokio.20version.20to.201.2E30.20to.20avoid.20d.2E.2E.2E.html#455135739">(Jul 30 2024 at 14:20)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/9043">PR #9043</a>.</p>



<a name="455143437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239043%20Bump%20tokio%20version%20to%201.30%20to%20avoid%20d.../near/455143437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239043.20Bump.20tokio.20version.20to.201.2E30.20to.20avoid.20d.2E.2E.2E.html#455143437">(Jul 30 2024 at 14:51)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9043">PR #9043</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>