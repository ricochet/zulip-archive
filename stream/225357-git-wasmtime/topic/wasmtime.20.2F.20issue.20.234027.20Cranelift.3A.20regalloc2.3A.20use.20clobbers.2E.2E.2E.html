<html>
<head><meta charset="utf-8"><title>wasmtime / issue #4027 Cranelift: regalloc2: use clobbers... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234027.20Cranelift.3A.20regalloc2.3A.20use.20clobbers.2E.2E.2E.html">wasmtime / issue #4027 Cranelift: regalloc2: use clobbers...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="278909715"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234027%20Cranelift%3A%20regalloc2%3A%20use%20clobbers.../near/278909715" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234027.20Cranelift.3A.20regalloc2.3A.20use.20clobbers.2E.2E.2E.html#278909715">(Apr 14 2022 at 00:46)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/issues/4027">issue #4027</a>:</p>
<blockquote>
<p>The initial switchover to regalloc2 retains the mechanism by which calls signal clobbered physical registers, namely, via phantom defs (defs that are immediately dead and are constrained to those regs). regalloc2 has an explicit mechanism for clobbers which is a bit more precise and possibly ever-so-slightly faster (skips liveness analysis); we should use that instead. No functional correctness implications either way.</p>
</blockquote>



<a name="281810233"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234027%20Cranelift%3A%20regalloc2%3A%20use%20clobbers.../near/281810233" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234027.20Cranelift.3A.20regalloc2.3A.20use.20clobbers.2E.2E.2E.html#281810233">(May 10 2022 at 11:33)</a>:</h4>
<p>akirilov-arm labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/4027">issue #4027</a>:</p>
<blockquote>
<p>The initial switchover to regalloc2 retains the mechanism by which calls signal clobbered physical registers, namely, via phantom defs (defs that are immediately dead and are constrained to those regs). regalloc2 has an explicit mechanism for clobbers which is a bit more precise and possibly ever-so-slightly faster (skips liveness analysis); we should use that instead. No functional correctness implications either way.</p>
</blockquote>



<a name="281810234"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234027%20Cranelift%3A%20regalloc2%3A%20use%20clobbers.../near/281810234" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234027.20Cranelift.3A.20regalloc2.3A.20use.20clobbers.2E.2E.2E.html#281810234">(May 10 2022 at 11:33)</a>:</h4>
<p>akirilov-arm labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/4027">issue #4027</a>:</p>
<blockquote>
<p>The initial switchover to regalloc2 retains the mechanism by which calls signal clobbered physical registers, namely, via phantom defs (defs that are immediately dead and are constrained to those regs). regalloc2 has an explicit mechanism for clobbers which is a bit more precise and possibly ever-so-slightly faster (skips liveness analysis); we should use that instead. No functional correctness implications either way.</p>
</blockquote>



<a name="281810236"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234027%20Cranelift%3A%20regalloc2%3A%20use%20clobbers.../near/281810236" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234027.20Cranelift.3A.20regalloc2.3A.20use.20clobbers.2E.2E.2E.html#281810236">(May 10 2022 at 11:33)</a>:</h4>
<p>akirilov-arm labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/4027">issue #4027</a>:</p>
<blockquote>
<p>The initial switchover to regalloc2 retains the mechanism by which calls signal clobbered physical registers, namely, via phantom defs (defs that are immediately dead and are constrained to those regs). regalloc2 has an explicit mechanism for clobbers which is a bit more precise and possibly ever-so-slightly faster (skips liveness analysis); we should use that instead. No functional correctness implications either way.</p>
</blockquote>



<a name="291736245"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234027%20Cranelift%3A%20regalloc2%3A%20use%20clobbers.../near/291736245" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234027.20Cranelift.3A.20regalloc2.3A.20use.20clobbers.2E.2E.2E.html#291736245">(Aug 02 2022 at 16:48)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/4027#issuecomment-1202978627">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4027">issue #4027</a>:</p>
<blockquote>
<p>Cleaning up old issues: this was actually fixed in #4324.</p>
</blockquote>



<a name="291736246"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234027%20Cranelift%3A%20regalloc2%3A%20use%20clobbers.../near/291736246" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234027.20Cranelift.3A.20regalloc2.3A.20use.20clobbers.2E.2E.2E.html#291736246">(Aug 02 2022 at 16:48)</a>:</h4>
<p>cfallin closed <a href="https://github.com/bytecodealliance/wasmtime/issues/4027">issue #4027</a>:</p>
<blockquote>
<p>The initial switchover to regalloc2 retains the mechanism by which calls signal clobbered physical registers, namely, via phantom defs (defs that are immediately dead and are constrained to those regs). regalloc2 has an explicit mechanism for clobbers which is a bit more precise and possibly ever-so-slightly faster (skips liveness analysis); we should use that instead. No functional correctness implications either way.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>