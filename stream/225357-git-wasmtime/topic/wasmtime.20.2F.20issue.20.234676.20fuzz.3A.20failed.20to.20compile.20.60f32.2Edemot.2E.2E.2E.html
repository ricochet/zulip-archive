<html>
<head><meta charset="utf-8"><title>wasmtime / issue #4676 fuzz: failed to compile `f32.demot... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234676.20fuzz.3A.20failed.20to.20compile.20.60f32.2Edemot.2E.2E.2E.html">wasmtime / issue #4676 fuzz: failed to compile `f32.demot...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="292787567"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234676%20fuzz%3A%20failed%20to%20compile%20%60f32.demot.../near/292787567" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234676.20fuzz.3A.20failed.20to.20compile.20.60f32.2Edemot.2E.2E.2E.html#292787567">(Aug 10 2022 at 16:21)</a>:</h4>
<p>abrown labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/4676">issue #4676</a>:</p>
<blockquote>
<h3>Test Case</h3>
<div class="codehilite" data-code-language="WebAssembly"><pre><span></span><code><span class="p">(</span><span class="k">module</span>
  <span class="p">(</span><span class="k">type</span> <span class="cm">(;0;)</span> <span class="p">(</span><span class="k">func</span> <span class="p">(</span><span class="k">param</span> <span class="kt">f64</span><span class="p">)</span> <span class="p">(</span><span class="k">result</span> <span class="kt">f32</span><span class="p">)))</span>
  <span class="p">(</span><span class="k">func</span> <span class="cm">(;0;)</span> <span class="p">(</span><span class="k">type</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="k">param</span> <span class="kt">f64</span><span class="p">)</span> <span class="p">(</span><span class="k">result</span> <span class="kt">f32</span><span class="p">)</span>
    <span class="nb">local.get</span> <span class="mi">0</span>
    <span class="nb">f32.demote_f64</span>
  <span class="p">)</span>
  <span class="p">(</span><span class="k">export</span> <span class="s2">"test"</span> <span class="p">(</span><span class="k">func</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">)</span>
</code></pre></div>
<p>Also see attached files (annoyingly renamed with <code>.txt</code> appended due to GitHub upload restrictions):<br>
- <a href="https://github.com/bytecodealliance/wasmtime/files/9302058/testcase0.wat.txt">testcase0.wat.txt</a><br>
- <a href="https://github.com/bytecodealliance/wasmtime/files/9302059/testcase0.wasm.txt">testcase0.wasm.txt</a><br>
- <a href="https://github.com/bytecodealliance/wasmtime/files/9302060/crash-2e8676223581e0545a2e41bfb6f56b261b85239d.txt">crash-2e8676223581e0545a2e41bfb6f56b261b85239d.txt</a></p>
<h3>Steps to Reproduce</h3>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span><span class="nv">RUST_LOG</span><span class="o">=</span>trace cargo +nightly fuzz run differential_meta fuzz/artifacts/differential_meta/crash-2e8676223581e0545a2e41bfb6f56b261b85239d
</code></pre></div>
<h3>Expected Results</h3>
<p>No failure.</p>
<h3>Actual Results</h3>
<p>The module fails to compile:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'&lt;</span><span class="n">unnamed</span><span class="o">&gt;'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">'</span><span class="na">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">instantiate</span><span class="w"> </span><span class="err">`</span><span class="n">lhs</span><span class="err">`</span><span class="w"> </span><span class="n">module</span>: <span class="nc">unable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">wasmtime</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">crates</span><span class="o">/</span><span class="n">fuzzing</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">oracles</span><span class="o">/</span><span class="n">engine</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">99</span>:<span class="mi">21</span><span class="w"></span>
<span class="n">note</span>: <span class="nc">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="err">`</span><span class="n">RUST_BACKTRACE</span><span class="o">=</span><span class="mi">1</span><span class="err">`</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">backtrace</span><span class="w"></span>
<span class="o">==</span><span class="mi">167601</span><span class="o">==</span><span class="w"> </span><span class="n">ERROR</span>: <span class="nc">libFuzzer</span>: <span class="nc">deadly</span><span class="w"> </span><span class="n">signal</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">0</span><span class="w"> </span><span class="mh">0x558ed9957ae1</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__sanitizer_print_stack_trace</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">llvm</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">llvm</span><span class="o">-</span><span class="n">project</span><span class="o">/</span><span class="n">compiler</span><span class="o">-</span><span class="n">rt</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">asan</span><span class="o">/</span><span class="n">asan_stack</span><span class="p">.</span><span class="n">cpp</span>:<span class="mi">87</span>:<span class="mi">3</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">1</span><span class="w"> </span><span class="mh">0x558ee1ede4ab</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">PrintStackTrace</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc6434ab</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">2</span><span class="w"> </span><span class="mh">0x558ee1ec9855</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">Fuzzer</span>::<span class="n">CrashCallback</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc62e855</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">3</span><span class="w"> </span><span class="mh">0x7f2efd75134f</span><span class="w">  </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x5534f</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">4</span><span class="w"> </span><span class="mh">0x7f2efd79dafb</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__pthread_kill_implementation</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0xa1afb</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">5</span><span class="w"> </span><span class="mh">0x7f2efd7512a5</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">gsignal</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x552a5</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">6</span><span class="w"> </span><span class="mh">0x7f2efd7247f2</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">abort</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x287f2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">7</span><span class="w"> </span><span class="mh">0x558ee1f91266</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys</span>::<span class="n">unix</span>::<span class="n">abort_internal</span>::<span class="n">h4e06726a6bdbfc44</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">unix</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">258</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">8</span><span class="w"> </span><span class="mh">0x558ed98ca696</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">process</span>::<span class="n">abort</span>::<span class="n">hded51ab3f7a359d3</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">process</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">2059</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">9</span><span class="w"> </span><span class="mh">0x558ee1ec36e5</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">libfuzzer_sys</span>::<span class="n">initialize</span>::<span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span>::<span class="n">h404fe37255dada4f</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc6286e5</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">10</span><span class="w"> </span><span class="mh">0x558ee1f86a3f</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">rust_panic_with_hook</span>::<span class="n">h73dbf64f0060aa58</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">702</span>:<span class="mi">17</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">11</span><span class="w"> </span><span class="mh">0x558ee1f86876</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">begin_panic_handler</span>::<span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span>::<span class="n">h57f62f8b0c4aa3d9</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">588</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">12</span><span class="w"> </span><span class="mh">0x558ee1f83843</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">__rust_end_short_backtrace</span>::<span class="n">h3194a80099ffb120</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">138</span>:<span class="mi">18</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">13</span><span class="w"> </span><span class="mh">0x558ee1f865a8</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">rust_begin_unwind</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">584</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">14</span><span class="w"> </span><span class="mh">0x558ed98cba42</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">core</span>::<span class="n">panicking</span>::<span class="n">panic_fmt</span>::<span class="n">h77eb0c9a0a627689</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">142</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">15</span><span class="w"> </span><span class="mh">0x558ed998c21b</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_</span><span class="cp">$LT$core</span><span class="o">..</span><span class="n">result</span><span class="o">..</span><span class="nb">Result</span><span class="cp">$LT$T$C$anyhow</span><span class="o">..</span><span class="n">Error</span><span class="cp">$GT$$u20$as$u20$wasmtime_fuzzing</span><span class="o">..</span><span class="n">oracles</span><span class="o">..</span><span class="n">engine</span><span class="o">..</span><span class="n">DiffIgnorable</span><span class="cp">$LT$T$GT$$GT$</span>::<span class="n">expect_or_ignore</span>::<span class="n">h10a9f7d84e5ccc9e</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x40f121b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">16</span><span class="w"> </span><span class="mh">0x558ed99a0f3c</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">differential_meta</span>::<span class="n">run</span>::<span class="n">h900bcd92a959bbf7</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x4105f3c</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">17</span><span class="w"> </span><span class="mh">0x558ed99a434d</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">rust_fuzzer_test_input</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x410934d</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">18</span><span class="w"> </span><span class="mh">0x558ee1ec3838</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__rust_try</span><span class="w"> </span><span class="n">libfuzzer_sys</span><span class="p">.</span><span class="mi">1</span><span class="n">c73df0b</span><span class="o">-</span><span class="n">cgu</span><span class="p">.</span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">19</span><span class="w"> </span><span class="mh">0x558ee1ec2c68</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">LLVMFuzzerTestOneInput</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc627c68</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">20</span><span class="w"> </span><span class="mh">0x558ee1ec9d91</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">Fuzzer</span>::<span class="n">ExecuteCallback</span><span class="p">(</span><span class="n">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">long</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc62ed91</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">21</span><span class="w"> </span><span class="mh">0x558ee1eebf3b</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">RunOneTest</span><span class="p">(</span><span class="n">fuzzer</span>::<span class="n">Fuzzer</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">long</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc650f3b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">22</span><span class="w"> </span><span class="mh">0x558ee1eefb86</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">FuzzerDriver</span><span class="p">(</span><span class="n">int</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">***</span><span class="p">,</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">long</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc654b86</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">23</span><span class="w"> </span><span class="mh">0x558ed98cc3d2</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x40313d2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">24</span><span class="w"> </span><span class="mh">0x7f2efd73c43f</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__libc_start_call_main</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x4043f</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">25</span><span class="w"> </span><span class="mh">0x7f2efd73c4ef</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__libc_start_main</span><span class="o">@</span><span class="n">GLIBC_2</span><span class="p">.</span><span class="mf">2.5</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x404ef</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">26</span><span class="w"> </span><span class="mh">0x558ed98cc534</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_start</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x4031534</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>I tried to replicate this with the following, but that succeeds:</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span><span class="nv">RUST_LOG</span><span class="o">=</span>debug wasmtime compile testcase0.wat
</code></pre></div>
<p>I can see the following configuration is being used:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_fuzzing</span>::<span class="n">generators</span>::<span class="n">config</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">WasmtimeConfig</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">opt_level</span>: <span class="nc">Speed</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">debug_info</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">canonicalize_nans</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">interruptable</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">consume_fuel</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">epoch_interruption</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">memory_config</span>: <span class="nc">Normal</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="n">NormalMemoryConfig</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">static_memory_maximum_size</span>: <span class="nb">Some</span><span class="p">(</span><span class="w"></span>
<span class="w">                    </span><span class="mi">655360</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="p">),</span><span class="w"></span>
<span class="w">                </span><span class="n">static_memory_guard_size</span>: <span class="nb">None</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">dynamic_memory_guard_size</span>: <span class="nb">None</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">guard_before_linear_memory</span>: <span class="nc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">force_jump_veneers</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">memory_init_cow</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">memory_guaranteed_dense_image_size</span>: <span class="mi">9114861713173151358</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">use_precompiled_cwasm</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">strategy</span>: <span class="nc">Pooling</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">strategy</span>: <span class="nc">ReuseAffinity</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">instance_limits</span>: <span class="nc">InstanceLimits</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">count</span>: <span class="mi">55</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">memories</span>: <span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">tables</span>: <span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">memory_pages</span>: <span class="mi">10</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">table_elements</span>: <span class="mi">1000</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">size</span>: <span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="n">codegen</span>: <span class="nc">Native</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">padding_between_functions</span>: <span class="nb">None</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">generate_address_map</span>: <span class="nc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">native_unwind_info</span>: <span class="nc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>And Cranelift seems to be finishing OK:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Global</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">numbering</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Global</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">numbering</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">lowering</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">lowering</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Register</span><span class="w"> </span><span class="n">allocation</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Register</span><span class="w"> </span><span class="n">allocation</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="w"> </span><span class="n">finalization</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="w"> </span><span class="n">finalization</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="w"></span>
</code></pre></div>
<p>How can I figure out what is causing this compilation failure?</p>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: <code>meta-diff</code> branch</p>
<p>Operating system: Fedora 35</p>
<p>Architecture: x86-64</p>
<h3>Extra Info</h3>
<p>Anything else you'd like to add?<br>
</p>
</blockquote>



<a name="292787568"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234676%20fuzz%3A%20failed%20to%20compile%20%60f32.demot.../near/292787568" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234676.20fuzz.3A.20failed.20to.20compile.20.60f32.2Edemot.2E.2E.2E.html#292787568">(Aug 10 2022 at 16:21)</a>:</h4>
<p>abrown opened <a href="https://github.com/bytecodealliance/wasmtime/issues/4676">issue #4676</a>:</p>
<blockquote>
<h3>Test Case</h3>
<div class="codehilite" data-code-language="WebAssembly"><pre><span></span><code><span class="p">(</span><span class="k">module</span>
  <span class="p">(</span><span class="k">type</span> <span class="cm">(;0;)</span> <span class="p">(</span><span class="k">func</span> <span class="p">(</span><span class="k">param</span> <span class="kt">f64</span><span class="p">)</span> <span class="p">(</span><span class="k">result</span> <span class="kt">f32</span><span class="p">)))</span>
  <span class="p">(</span><span class="k">func</span> <span class="cm">(;0;)</span> <span class="p">(</span><span class="k">type</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="k">param</span> <span class="kt">f64</span><span class="p">)</span> <span class="p">(</span><span class="k">result</span> <span class="kt">f32</span><span class="p">)</span>
    <span class="nb">local.get</span> <span class="mi">0</span>
    <span class="nb">f32.demote_f64</span>
  <span class="p">)</span>
  <span class="p">(</span><span class="k">export</span> <span class="s2">"test"</span> <span class="p">(</span><span class="k">func</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">)</span>
</code></pre></div>
<p>Also see attached files (annoyingly renamed with <code>.txt</code> appended due to GitHub upload restrictions):<br>
- <a href="https://github.com/bytecodealliance/wasmtime/files/9302058/testcase0.wat.txt">testcase0.wat.txt</a><br>
- <a href="https://github.com/bytecodealliance/wasmtime/files/9302059/testcase0.wasm.txt">testcase0.wasm.txt</a><br>
- <a href="https://github.com/bytecodealliance/wasmtime/files/9302060/crash-2e8676223581e0545a2e41bfb6f56b261b85239d.txt">crash-2e8676223581e0545a2e41bfb6f56b261b85239d.txt</a></p>
<h3>Steps to Reproduce</h3>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span><span class="nv">RUST_LOG</span><span class="o">=</span>trace cargo +nightly fuzz run differential_meta fuzz/artifacts/differential_meta/crash-2e8676223581e0545a2e41bfb6f56b261b85239d
</code></pre></div>
<h3>Expected Results</h3>
<p>No failure.</p>
<h3>Actual Results</h3>
<p>The module fails to compile:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'&lt;</span><span class="n">unnamed</span><span class="o">&gt;'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">'</span><span class="na">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">instantiate</span><span class="w"> </span><span class="err">`</span><span class="n">lhs</span><span class="err">`</span><span class="w"> </span><span class="n">module</span>: <span class="nc">unable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">wasmtime</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">crates</span><span class="o">/</span><span class="n">fuzzing</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">oracles</span><span class="o">/</span><span class="n">engine</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">99</span>:<span class="mi">21</span><span class="w"></span>
<span class="n">note</span>: <span class="nc">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="err">`</span><span class="n">RUST_BACKTRACE</span><span class="o">=</span><span class="mi">1</span><span class="err">`</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">backtrace</span><span class="w"></span>
<span class="o">==</span><span class="mi">167601</span><span class="o">==</span><span class="w"> </span><span class="n">ERROR</span>: <span class="nc">libFuzzer</span>: <span class="nc">deadly</span><span class="w"> </span><span class="n">signal</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">0</span><span class="w"> </span><span class="mh">0x558ed9957ae1</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__sanitizer_print_stack_trace</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">llvm</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">llvm</span><span class="o">-</span><span class="n">project</span><span class="o">/</span><span class="n">compiler</span><span class="o">-</span><span class="n">rt</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">asan</span><span class="o">/</span><span class="n">asan_stack</span><span class="p">.</span><span class="n">cpp</span>:<span class="mi">87</span>:<span class="mi">3</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">1</span><span class="w"> </span><span class="mh">0x558ee1ede4ab</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">PrintStackTrace</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc6434ab</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">2</span><span class="w"> </span><span class="mh">0x558ee1ec9855</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">Fuzzer</span>::<span class="n">CrashCallback</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc62e855</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">3</span><span class="w"> </span><span class="mh">0x7f2efd75134f</span><span class="w">  </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x5534f</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">4</span><span class="w"> </span><span class="mh">0x7f2efd79dafb</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__pthread_kill_implementation</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0xa1afb</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">5</span><span class="w"> </span><span class="mh">0x7f2efd7512a5</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">gsignal</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x552a5</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">6</span><span class="w"> </span><span class="mh">0x7f2efd7247f2</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">abort</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x287f2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">7</span><span class="w"> </span><span class="mh">0x558ee1f91266</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys</span>::<span class="n">unix</span>::<span class="n">abort_internal</span>::<span class="n">h4e06726a6bdbfc44</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">unix</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">258</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">8</span><span class="w"> </span><span class="mh">0x558ed98ca696</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">process</span>::<span class="n">abort</span>::<span class="n">hded51ab3f7a359d3</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">process</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">2059</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">9</span><span class="w"> </span><span class="mh">0x558ee1ec36e5</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">libfuzzer_sys</span>::<span class="n">initialize</span>::<span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span>::<span class="n">h404fe37255dada4f</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc6286e5</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">10</span><span class="w"> </span><span class="mh">0x558ee1f86a3f</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">rust_panic_with_hook</span>::<span class="n">h73dbf64f0060aa58</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">702</span>:<span class="mi">17</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">11</span><span class="w"> </span><span class="mh">0x558ee1f86876</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">begin_panic_handler</span>::<span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span>::<span class="n">h57f62f8b0c4aa3d9</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">588</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">12</span><span class="w"> </span><span class="mh">0x558ee1f83843</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">__rust_end_short_backtrace</span>::<span class="n">h3194a80099ffb120</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">138</span>:<span class="mi">18</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">13</span><span class="w"> </span><span class="mh">0x558ee1f865a8</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">rust_begin_unwind</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">584</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">14</span><span class="w"> </span><span class="mh">0x558ed98cba42</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">core</span>::<span class="n">panicking</span>::<span class="n">panic_fmt</span>::<span class="n">h77eb0c9a0a627689</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">142</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">15</span><span class="w"> </span><span class="mh">0x558ed998c21b</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_</span><span class="cp">$LT$core</span><span class="o">..</span><span class="n">result</span><span class="o">..</span><span class="nb">Result</span><span class="cp">$LT$T$C$anyhow</span><span class="o">..</span><span class="n">Error</span><span class="cp">$GT$$u20$as$u20$wasmtime_fuzzing</span><span class="o">..</span><span class="n">oracles</span><span class="o">..</span><span class="n">engine</span><span class="o">..</span><span class="n">DiffIgnorable</span><span class="cp">$LT$T$GT$$GT$</span>::<span class="n">expect_or_ignore</span>::<span class="n">h10a9f7d84e5ccc9e</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x40f121b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">16</span><span class="w"> </span><span class="mh">0x558ed99a0f3c</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">differential_meta</span>::<span class="n">run</span>::<span class="n">h900bcd92a959bbf7</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x4105f3c</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">17</span><span class="w"> </span><span class="mh">0x558ed99a434d</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">rust_fuzzer_test_input</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x410934d</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">18</span><span class="w"> </span><span class="mh">0x558ee1ec3838</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__rust_try</span><span class="w"> </span><span class="n">libfuzzer_sys</span><span class="p">.</span><span class="mi">1</span><span class="n">c73df0b</span><span class="o">-</span><span class="n">cgu</span><span class="p">.</span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">19</span><span class="w"> </span><span class="mh">0x558ee1ec2c68</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">LLVMFuzzerTestOneInput</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc627c68</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">20</span><span class="w"> </span><span class="mh">0x558ee1ec9d91</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">Fuzzer</span>::<span class="n">ExecuteCallback</span><span class="p">(</span><span class="n">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">long</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc62ed91</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">21</span><span class="w"> </span><span class="mh">0x558ee1eebf3b</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">RunOneTest</span><span class="p">(</span><span class="n">fuzzer</span>::<span class="n">Fuzzer</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">long</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc650f3b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">22</span><span class="w"> </span><span class="mh">0x558ee1eefb86</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">FuzzerDriver</span><span class="p">(</span><span class="n">int</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">***</span><span class="p">,</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">long</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc654b86</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">23</span><span class="w"> </span><span class="mh">0x558ed98cc3d2</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x40313d2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">24</span><span class="w"> </span><span class="mh">0x7f2efd73c43f</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__libc_start_call_main</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x4043f</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">25</span><span class="w"> </span><span class="mh">0x7f2efd73c4ef</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__libc_start_main</span><span class="o">@</span><span class="n">GLIBC_2</span><span class="p">.</span><span class="mf">2.5</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x404ef</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">26</span><span class="w"> </span><span class="mh">0x558ed98cc534</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_start</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x4031534</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>I tried to replicate this with the following, but that succeeds:</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span><span class="nv">RUST_LOG</span><span class="o">=</span>debug wasmtime compile testcase0.wat
</code></pre></div>
<p>I can see the following configuration is being used:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_fuzzing</span>::<span class="n">generators</span>::<span class="n">config</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">WasmtimeConfig</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">opt_level</span>: <span class="nc">Speed</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">debug_info</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">canonicalize_nans</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">interruptable</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">consume_fuel</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">epoch_interruption</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">memory_config</span>: <span class="nc">Normal</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="n">NormalMemoryConfig</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">static_memory_maximum_size</span>: <span class="nb">Some</span><span class="p">(</span><span class="w"></span>
<span class="w">                    </span><span class="mi">655360</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="p">),</span><span class="w"></span>
<span class="w">                </span><span class="n">static_memory_guard_size</span>: <span class="nb">None</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">dynamic_memory_guard_size</span>: <span class="nb">None</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">guard_before_linear_memory</span>: <span class="nc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">force_jump_veneers</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">memory_init_cow</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">memory_guaranteed_dense_image_size</span>: <span class="mi">9114861713173151358</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">use_precompiled_cwasm</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">strategy</span>: <span class="nc">Pooling</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">strategy</span>: <span class="nc">ReuseAffinity</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">instance_limits</span>: <span class="nc">InstanceLimits</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">count</span>: <span class="mi">55</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">memories</span>: <span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">tables</span>: <span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">memory_pages</span>: <span class="mi">10</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">table_elements</span>: <span class="mi">1000</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">size</span>: <span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="n">codegen</span>: <span class="nc">Native</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">padding_between_functions</span>: <span class="nb">None</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">generate_address_map</span>: <span class="nc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">native_unwind_info</span>: <span class="nc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>And Cranelift seems to be finishing OK:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Global</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">numbering</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Global</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">numbering</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">lowering</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">lowering</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Register</span><span class="w"> </span><span class="n">allocation</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Register</span><span class="w"> </span><span class="n">allocation</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="w"> </span><span class="n">finalization</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="w"> </span><span class="n">finalization</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="w"></span>
</code></pre></div>
<p>How can I figure out what is causing this compilation failure?</p>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: <code>meta-diff</code> branch</p>
<p>Operating system: Fedora 35</p>
<p>Architecture: x86-64</p>
<h3>Extra Info</h3>
<p>Anything else you'd like to add?<br>
</p>
</blockquote>



<a name="292787781"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234676%20fuzz%3A%20failed%20to%20compile%20%60f32.demot.../near/292787781" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234676.20fuzz.3A.20failed.20to.20compile.20.60f32.2Edemot.2E.2E.2E.html#292787781">(Aug 10 2022 at 16:22)</a>:</h4>
<p>abrown edited <a href="https://github.com/bytecodealliance/wasmtime/issues/4676">issue #4676</a>:</p>
<blockquote>
<h3>Test Case</h3>
<div class="codehilite" data-code-language="WebAssembly"><pre><span></span><code><span class="p">(</span><span class="k">module</span>
  <span class="p">(</span><span class="k">type</span> <span class="cm">(;0;)</span> <span class="p">(</span><span class="k">func</span> <span class="p">(</span><span class="k">param</span> <span class="kt">f64</span><span class="p">)</span> <span class="p">(</span><span class="k">result</span> <span class="kt">f32</span><span class="p">)))</span>
  <span class="p">(</span><span class="k">func</span> <span class="cm">(;0;)</span> <span class="p">(</span><span class="k">type</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="k">param</span> <span class="kt">f64</span><span class="p">)</span> <span class="p">(</span><span class="k">result</span> <span class="kt">f32</span><span class="p">)</span>
    <span class="nb">local.get</span> <span class="mi">0</span>
    <span class="nb">f32.demote_f64</span>
  <span class="p">)</span>
  <span class="p">(</span><span class="k">export</span> <span class="s2">"test"</span> <span class="p">(</span><span class="k">func</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">)</span>
</code></pre></div>
<p>Also see attached files (annoyingly renamed with <code>.txt</code> appended due to GitHub upload restrictions):<br>
- <a href="https://github.com/bytecodealliance/wasmtime/files/9302058/testcase0.wat.txt">testcase0.wat.txt</a><br>
- <a href="https://github.com/bytecodealliance/wasmtime/files/9302059/testcase0.wasm.txt">testcase0.wasm.txt</a><br>
- <a href="https://github.com/bytecodealliance/wasmtime/files/9302060/crash-2e8676223581e0545a2e41bfb6f56b261b85239d.txt">crash-2e8676223581e0545a2e41bfb6f56b261b85239d.txt</a></p>
<h3>Steps to Reproduce</h3>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span><span class="nv">RUST_LOG</span><span class="o">=</span>trace cargo +nightly fuzz run differential_meta fuzz/artifacts/differential_meta/crash-2e8676223581e0545a2e41bfb6f56b261b85239d
</code></pre></div>
<h3>Expected Results</h3>
<p>No failure.</p>
<h3>Actual Results</h3>
<p>The module fails to compile:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'&lt;</span><span class="n">unnamed</span><span class="o">&gt;'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">'</span><span class="na">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">instantiate</span><span class="w"> </span><span class="err">`</span><span class="n">lhs</span><span class="err">`</span><span class="w"> </span><span class="n">module</span>: <span class="nc">unable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">wasmtime</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">crates</span><span class="o">/</span><span class="n">fuzzing</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">oracles</span><span class="o">/</span><span class="n">engine</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">99</span>:<span class="mi">21</span><span class="w"></span>
<span class="n">note</span>: <span class="nc">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="err">`</span><span class="n">RUST_BACKTRACE</span><span class="o">=</span><span class="mi">1</span><span class="err">`</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">backtrace</span><span class="w"></span>
<span class="o">==</span><span class="mi">167601</span><span class="o">==</span><span class="w"> </span><span class="n">ERROR</span>: <span class="nc">libFuzzer</span>: <span class="nc">deadly</span><span class="w"> </span><span class="n">signal</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">0</span><span class="w"> </span><span class="mh">0x558ed9957ae1</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__sanitizer_print_stack_trace</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">llvm</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">llvm</span><span class="o">-</span><span class="n">project</span><span class="o">/</span><span class="n">compiler</span><span class="o">-</span><span class="n">rt</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">asan</span><span class="o">/</span><span class="n">asan_stack</span><span class="p">.</span><span class="n">cpp</span>:<span class="mi">87</span>:<span class="mi">3</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">1</span><span class="w"> </span><span class="mh">0x558ee1ede4ab</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">PrintStackTrace</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc6434ab</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">2</span><span class="w"> </span><span class="mh">0x558ee1ec9855</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">Fuzzer</span>::<span class="n">CrashCallback</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc62e855</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">3</span><span class="w"> </span><span class="mh">0x7f2efd75134f</span><span class="w">  </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x5534f</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">4</span><span class="w"> </span><span class="mh">0x7f2efd79dafb</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__pthread_kill_implementation</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0xa1afb</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">5</span><span class="w"> </span><span class="mh">0x7f2efd7512a5</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">gsignal</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x552a5</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">6</span><span class="w"> </span><span class="mh">0x7f2efd7247f2</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">abort</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x287f2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">7</span><span class="w"> </span><span class="mh">0x558ee1f91266</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys</span>::<span class="n">unix</span>::<span class="n">abort_internal</span>::<span class="n">h4e06726a6bdbfc44</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">unix</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">258</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">8</span><span class="w"> </span><span class="mh">0x558ed98ca696</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">process</span>::<span class="n">abort</span>::<span class="n">hded51ab3f7a359d3</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">process</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">2059</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">9</span><span class="w"> </span><span class="mh">0x558ee1ec36e5</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">libfuzzer_sys</span>::<span class="n">initialize</span>::<span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span>::<span class="n">h404fe37255dada4f</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc6286e5</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">10</span><span class="w"> </span><span class="mh">0x558ee1f86a3f</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">rust_panic_with_hook</span>::<span class="n">h73dbf64f0060aa58</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">702</span>:<span class="mi">17</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">11</span><span class="w"> </span><span class="mh">0x558ee1f86876</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">begin_panic_handler</span>::<span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span>::<span class="n">h57f62f8b0c4aa3d9</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">588</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">12</span><span class="w"> </span><span class="mh">0x558ee1f83843</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">__rust_end_short_backtrace</span>::<span class="n">h3194a80099ffb120</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">138</span>:<span class="mi">18</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">13</span><span class="w"> </span><span class="mh">0x558ee1f865a8</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">rust_begin_unwind</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">584</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">14</span><span class="w"> </span><span class="mh">0x558ed98cba42</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">core</span>::<span class="n">panicking</span>::<span class="n">panic_fmt</span>::<span class="n">h77eb0c9a0a627689</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">142</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">15</span><span class="w"> </span><span class="mh">0x558ed998c21b</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_</span><span class="cp">$LT$core</span><span class="o">..</span><span class="n">result</span><span class="o">..</span><span class="nb">Result</span><span class="cp">$LT$T$C$anyhow</span><span class="o">..</span><span class="n">Error</span><span class="cp">$GT$$u20$as$u20$wasmtime_fuzzing</span><span class="o">..</span><span class="n">oracles</span><span class="o">..</span><span class="n">engine</span><span class="o">..</span><span class="n">DiffIgnorable</span><span class="cp">$LT$T$GT$$GT$</span>::<span class="n">expect_or_ignore</span>::<span class="n">h10a9f7d84e5ccc9e</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x40f121b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">16</span><span class="w"> </span><span class="mh">0x558ed99a0f3c</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">differential_meta</span>::<span class="n">run</span>::<span class="n">h900bcd92a959bbf7</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x4105f3c</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">17</span><span class="w"> </span><span class="mh">0x558ed99a434d</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">rust_fuzzer_test_input</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x410934d</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">18</span><span class="w"> </span><span class="mh">0x558ee1ec3838</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__rust_try</span><span class="w"> </span><span class="n">libfuzzer_sys</span><span class="p">.</span><span class="mi">1</span><span class="n">c73df0b</span><span class="o">-</span><span class="n">cgu</span><span class="p">.</span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">19</span><span class="w"> </span><span class="mh">0x558ee1ec2c68</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">LLVMFuzzerTestOneInput</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc627c68</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">20</span><span class="w"> </span><span class="mh">0x558ee1ec9d91</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">Fuzzer</span>::<span class="n">ExecuteCallback</span><span class="p">(</span><span class="n">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">long</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc62ed91</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">21</span><span class="w"> </span><span class="mh">0x558ee1eebf3b</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">RunOneTest</span><span class="p">(</span><span class="n">fuzzer</span>::<span class="n">Fuzzer</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">long</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc650f3b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">22</span><span class="w"> </span><span class="mh">0x558ee1eefb86</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">FuzzerDriver</span><span class="p">(</span><span class="n">int</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">***</span><span class="p">,</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">long</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc654b86</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">23</span><span class="w"> </span><span class="mh">0x558ed98cc3d2</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x40313d2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">24</span><span class="w"> </span><span class="mh">0x7f2efd73c43f</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__libc_start_call_main</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x4043f</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">25</span><span class="w"> </span><span class="mh">0x7f2efd73c4ef</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__libc_start_main</span><span class="o">@</span><span class="n">GLIBC_2</span><span class="p">.</span><span class="mf">2.5</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x404ef</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">26</span><span class="w"> </span><span class="mh">0x558ed98cc534</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_start</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x4031534</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>I tried to replicate this with the following, but that succeeds:</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span><span class="nv">RUST_LOG</span><span class="o">=</span>debug wasmtime compile testcase0.wat
</code></pre></div>
<p>I can see the following configuration is being used:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_fuzzing</span>::<span class="n">generators</span>::<span class="n">config</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">WasmtimeConfig</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">opt_level</span>: <span class="nc">Speed</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">debug_info</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">canonicalize_nans</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">interruptable</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">consume_fuel</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">epoch_interruption</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">memory_config</span>: <span class="nc">Normal</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="n">NormalMemoryConfig</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">static_memory_maximum_size</span>: <span class="nb">Some</span><span class="p">(</span><span class="w"></span>
<span class="w">                    </span><span class="mi">655360</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="p">),</span><span class="w"></span>
<span class="w">                </span><span class="n">static_memory_guard_size</span>: <span class="nb">None</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">dynamic_memory_guard_size</span>: <span class="nb">None</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">guard_before_linear_memory</span>: <span class="nc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">force_jump_veneers</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">memory_init_cow</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">memory_guaranteed_dense_image_size</span>: <span class="mi">9114861713173151358</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">use_precompiled_cwasm</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">strategy</span>: <span class="nc">Pooling</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">strategy</span>: <span class="nc">ReuseAffinity</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">instance_limits</span>: <span class="nc">InstanceLimits</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">count</span>: <span class="mi">55</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">memories</span>: <span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">tables</span>: <span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">memory_pages</span>: <span class="mi">10</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">table_elements</span>: <span class="mi">1000</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">size</span>: <span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="n">codegen</span>: <span class="nc">Native</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">padding_between_functions</span>: <span class="nb">None</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">generate_address_map</span>: <span class="nc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">native_unwind_info</span>: <span class="nc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>And Cranelift seems to be finishing OK:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Global</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">numbering</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Global</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">numbering</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">lowering</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">lowering</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Register</span><span class="w"> </span><span class="n">allocation</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Register</span><span class="w"> </span><span class="n">allocation</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="w"> </span><span class="n">finalization</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="w"> </span><span class="n">finalization</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="w"></span>
</code></pre></div>
<p>How can I figure out what is causing this compilation failure?</p>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: <code>meta-diff</code> branch</p>
<p>Operating system: Fedora 35</p>
<p>Architecture: x86-64</p>
<h3>Extra Info</h3>
<p>It is is unclear what is going on here so this is less a bug at this point and more a request for troubleshooting help.<br>
</p>
</blockquote>



<a name="292792114"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234676%20fuzz%3A%20failed%20to%20compile%20%60f32.demot.../near/292792114" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234676.20fuzz.3A.20failed.20to.20compile.20.60f32.2Edemot.2E.2E.2E.html#292792114">(Aug 10 2022 at 16:47)</a>:</h4>
<p>abrown closed <a href="https://github.com/bytecodealliance/wasmtime/issues/4676">issue #4676</a>:</p>
<blockquote>
<h3>Test Case</h3>
<div class="codehilite" data-code-language="WebAssembly"><pre><span></span><code><span class="p">(</span><span class="k">module</span>
  <span class="p">(</span><span class="k">type</span> <span class="cm">(;0;)</span> <span class="p">(</span><span class="k">func</span> <span class="p">(</span><span class="k">param</span> <span class="kt">f64</span><span class="p">)</span> <span class="p">(</span><span class="k">result</span> <span class="kt">f32</span><span class="p">)))</span>
  <span class="p">(</span><span class="k">func</span> <span class="cm">(;0;)</span> <span class="p">(</span><span class="k">type</span> <span class="mi">0</span><span class="p">)</span> <span class="p">(</span><span class="k">param</span> <span class="kt">f64</span><span class="p">)</span> <span class="p">(</span><span class="k">result</span> <span class="kt">f32</span><span class="p">)</span>
    <span class="nb">local.get</span> <span class="mi">0</span>
    <span class="nb">f32.demote_f64</span>
  <span class="p">)</span>
  <span class="p">(</span><span class="k">export</span> <span class="s2">"test"</span> <span class="p">(</span><span class="k">func</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">)</span>
</code></pre></div>
<p>Also see attached files (annoyingly renamed with <code>.txt</code> appended due to GitHub upload restrictions):<br>
- <a href="https://github.com/bytecodealliance/wasmtime/files/9302058/testcase0.wat.txt">testcase0.wat.txt</a><br>
- <a href="https://github.com/bytecodealliance/wasmtime/files/9302059/testcase0.wasm.txt">testcase0.wasm.txt</a><br>
- <a href="https://github.com/bytecodealliance/wasmtime/files/9302060/crash-2e8676223581e0545a2e41bfb6f56b261b85239d.txt">crash-2e8676223581e0545a2e41bfb6f56b261b85239d.txt</a></p>
<h3>Steps to Reproduce</h3>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span><span class="nv">RUST_LOG</span><span class="o">=</span>trace cargo +nightly fuzz run differential_meta fuzz/artifacts/differential_meta/crash-2e8676223581e0545a2e41bfb6f56b261b85239d
</code></pre></div>
<h3>Expected Results</h3>
<p>No failure.</p>
<h3>Actual Results</h3>
<p>The module fails to compile:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'&lt;</span><span class="n">unnamed</span><span class="o">&gt;'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">'</span><span class="na">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">instantiate</span><span class="w"> </span><span class="err">`</span><span class="n">lhs</span><span class="err">`</span><span class="w"> </span><span class="n">module</span>: <span class="nc">unable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">wasmtime</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">crates</span><span class="o">/</span><span class="n">fuzzing</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">oracles</span><span class="o">/</span><span class="n">engine</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">99</span>:<span class="mi">21</span><span class="w"></span>
<span class="n">note</span>: <span class="nc">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="err">`</span><span class="n">RUST_BACKTRACE</span><span class="o">=</span><span class="mi">1</span><span class="err">`</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">backtrace</span><span class="w"></span>
<span class="o">==</span><span class="mi">167601</span><span class="o">==</span><span class="w"> </span><span class="n">ERROR</span>: <span class="nc">libFuzzer</span>: <span class="nc">deadly</span><span class="w"> </span><span class="n">signal</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">0</span><span class="w"> </span><span class="mh">0x558ed9957ae1</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__sanitizer_print_stack_trace</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="n">llvm</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">llvm</span><span class="o">-</span><span class="n">project</span><span class="o">/</span><span class="n">compiler</span><span class="o">-</span><span class="n">rt</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">asan</span><span class="o">/</span><span class="n">asan_stack</span><span class="p">.</span><span class="n">cpp</span>:<span class="mi">87</span>:<span class="mi">3</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">1</span><span class="w"> </span><span class="mh">0x558ee1ede4ab</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">PrintStackTrace</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc6434ab</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">2</span><span class="w"> </span><span class="mh">0x558ee1ec9855</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">Fuzzer</span>::<span class="n">CrashCallback</span><span class="p">()</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc62e855</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">3</span><span class="w"> </span><span class="mh">0x7f2efd75134f</span><span class="w">  </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x5534f</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">4</span><span class="w"> </span><span class="mh">0x7f2efd79dafb</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__pthread_kill_implementation</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0xa1afb</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">5</span><span class="w"> </span><span class="mh">0x7f2efd7512a5</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">gsignal</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x552a5</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">6</span><span class="w"> </span><span class="mh">0x7f2efd7247f2</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">abort</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x287f2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">7</span><span class="w"> </span><span class="mh">0x558ee1f91266</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys</span>::<span class="n">unix</span>::<span class="n">abort_internal</span>::<span class="n">h4e06726a6bdbfc44</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys</span><span class="o">/</span><span class="n">unix</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">258</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">8</span><span class="w"> </span><span class="mh">0x558ed98ca696</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">process</span>::<span class="n">abort</span>::<span class="n">hded51ab3f7a359d3</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">process</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">2059</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">9</span><span class="w"> </span><span class="mh">0x558ee1ec36e5</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">libfuzzer_sys</span>::<span class="n">initialize</span>::<span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span>::<span class="n">h404fe37255dada4f</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc6286e5</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">10</span><span class="w"> </span><span class="mh">0x558ee1f86a3f</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">rust_panic_with_hook</span>::<span class="n">h73dbf64f0060aa58</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">702</span>:<span class="mi">17</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">11</span><span class="w"> </span><span class="mh">0x558ee1f86876</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">begin_panic_handler</span>::<span class="n">_</span><span class="cp">$u7b$$u7b$closure$u7d$$u7d$</span>::<span class="n">h57f62f8b0c4aa3d9</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">588</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">12</span><span class="w"> </span><span class="mh">0x558ee1f83843</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">__rust_end_short_backtrace</span>::<span class="n">h3194a80099ffb120</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">138</span>:<span class="mi">18</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">13</span><span class="w"> </span><span class="mh">0x558ee1f865a8</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">rust_begin_unwind</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">584</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">14</span><span class="w"> </span><span class="mh">0x558ed98cba42</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">core</span>::<span class="n">panicking</span>::<span class="n">panic_fmt</span>::<span class="n">h77eb0c9a0a627689</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">ca44752a79dd414d9a0ccf7a74533a99080988</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">142</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">15</span><span class="w"> </span><span class="mh">0x558ed998c21b</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_</span><span class="cp">$LT$core</span><span class="o">..</span><span class="n">result</span><span class="o">..</span><span class="nb">Result</span><span class="cp">$LT$T$C$anyhow</span><span class="o">..</span><span class="n">Error</span><span class="cp">$GT$$u20$as$u20$wasmtime_fuzzing</span><span class="o">..</span><span class="n">oracles</span><span class="o">..</span><span class="n">engine</span><span class="o">..</span><span class="n">DiffIgnorable</span><span class="cp">$LT$T$GT$$GT$</span>::<span class="n">expect_or_ignore</span>::<span class="n">h10a9f7d84e5ccc9e</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x40f121b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">16</span><span class="w"> </span><span class="mh">0x558ed99a0f3c</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">differential_meta</span>::<span class="n">run</span>::<span class="n">h900bcd92a959bbf7</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x4105f3c</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">17</span><span class="w"> </span><span class="mh">0x558ed99a434d</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">rust_fuzzer_test_input</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x410934d</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">18</span><span class="w"> </span><span class="mh">0x558ee1ec3838</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__rust_try</span><span class="w"> </span><span class="n">libfuzzer_sys</span><span class="p">.</span><span class="mi">1</span><span class="n">c73df0b</span><span class="o">-</span><span class="n">cgu</span><span class="p">.</span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">19</span><span class="w"> </span><span class="mh">0x558ee1ec2c68</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">LLVMFuzzerTestOneInput</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc627c68</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">20</span><span class="w"> </span><span class="mh">0x558ee1ec9d91</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">Fuzzer</span>::<span class="n">ExecuteCallback</span><span class="p">(</span><span class="n">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">long</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc62ed91</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">21</span><span class="w"> </span><span class="mh">0x558ee1eebf3b</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">RunOneTest</span><span class="p">(</span><span class="n">fuzzer</span>::<span class="n">Fuzzer</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">long</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc650f3b</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">22</span><span class="w"> </span><span class="mh">0x558ee1eefb86</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">fuzzer</span>::<span class="n">FuzzerDriver</span><span class="p">(</span><span class="n">int</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">***</span><span class="p">,</span><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="p">(</span><span class="o">*</span><span class="p">)(</span><span class="n">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="k">const</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">unsigned</span><span class="w"> </span><span class="n">long</span><span class="p">))</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0xc654b86</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">23</span><span class="w"> </span><span class="mh">0x558ed98cc3d2</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x40313d2</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">24</span><span class="w"> </span><span class="mh">0x7f2efd73c43f</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__libc_start_call_main</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x4043f</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">25</span><span class="w"> </span><span class="mh">0x7f2efd73c4ef</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">__libc_start_main</span><span class="o">@</span><span class="n">GLIBC_2</span><span class="p">.</span><span class="mf">2.5</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">lib64</span><span class="o">/</span><span class="n">libc</span><span class="p">.</span><span class="n">so</span><span class="p">.</span><span class="mi">6</span><span class="o">+</span><span class="mh">0x404ef</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">137</span><span class="n">d2c7b8ec99dd2d2c357b21e06cdad2edc6afd</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span>#<span class="mi">26</span><span class="w"> </span><span class="mh">0x558ed98cc534</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">_start</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">abrown</span><span class="o">/</span><span class="n">Code</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="o">-</span><span class="n">gnu</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">differential_meta</span><span class="o">+</span><span class="mh">0x4031534</span><span class="p">)</span><span class="w"> </span><span class="p">(</span><span class="n">BuildId</span>: <span class="mi">5</span><span class="n">a2ef6038ae664e1fec6b5a760adfe91619bbae4</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<p>I tried to replicate this with the following, but that succeeds:</p>
<div class="codehilite" data-code-language="Bash Session"><pre><span></span><code><span class="gp">$ </span><span class="nv">RUST_LOG</span><span class="o">=</span>debug wasmtime compile testcase0.wat
</code></pre></div>
<p>I can see the following configuration is being used:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_fuzzing</span>::<span class="n">generators</span>::<span class="n">config</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">WasmtimeConfig</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">opt_level</span>: <span class="nc">Speed</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">debug_info</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">canonicalize_nans</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">interruptable</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">consume_fuel</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">epoch_interruption</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">memory_config</span>: <span class="nc">Normal</span><span class="p">(</span><span class="w"></span>
<span class="w">            </span><span class="n">NormalMemoryConfig</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">static_memory_maximum_size</span>: <span class="nb">Some</span><span class="p">(</span><span class="w"></span>
<span class="w">                    </span><span class="mi">655360</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="p">),</span><span class="w"></span>
<span class="w">                </span><span class="n">static_memory_guard_size</span>: <span class="nb">None</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">dynamic_memory_guard_size</span>: <span class="nb">None</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">guard_before_linear_memory</span>: <span class="nc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">),</span><span class="w"></span>
<span class="w">        </span><span class="n">force_jump_veneers</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">memory_init_cow</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">memory_guaranteed_dense_image_size</span>: <span class="mi">9114861713173151358</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">use_precompiled_cwasm</span>: <span class="nc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">strategy</span>: <span class="nc">Pooling</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">strategy</span>: <span class="nc">ReuseAffinity</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">instance_limits</span>: <span class="nc">InstanceLimits</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="n">count</span>: <span class="mi">55</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">memories</span>: <span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">tables</span>: <span class="mi">1</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">memory_pages</span>: <span class="mi">10</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">table_elements</span>: <span class="mi">1000</span><span class="p">,</span><span class="w"></span>
<span class="w">                </span><span class="n">size</span>: <span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="n">codegen</span>: <span class="nc">Native</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">padding_between_functions</span>: <span class="nb">None</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">generate_address_map</span>: <span class="nc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">native_unwind_info</span>: <span class="nc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>And Cranelift seems to be finishing OK:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Global</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">numbering</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Global</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">numbering</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">lowering</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">lowering</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Register</span><span class="w"> </span><span class="n">allocation</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Register</span><span class="w"> </span><span class="n">allocation</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="w"> </span><span class="n">finalization</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">emission</span><span class="w"> </span><span class="n">finalization</span><span class="w"></span>
<span class="p">[</span><span class="mi">2022</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span><span class="n">T16</span>:<span class="mi">13</span>:<span class="mi">44</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span>::<span class="n">details</span><span class="p">]</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="w"></span>
</code></pre></div>
<p>How can I figure out what is causing this compilation failure?</p>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: <code>meta-diff</code> branch</p>
<p>Operating system: Fedora 35</p>
<p>Architecture: x86-64</p>
<h3>Extra Info</h3>
<p>It is is unclear what is going on here so this is less a bug at this point and more a request for troubleshooting help.<br>
</p>
</blockquote>



<a name="292843343"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234676%20fuzz%3A%20failed%20to%20compile%20%60f32.demot.../near/292843343" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234676.20fuzz.3A.20failed.20to.20compile.20.60f32.2Edemot.2E.2E.2E.html#292843343">(Aug 10 2022 at 22:35)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/issues/4676#issuecomment-1211352403">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4676">issue #4676</a>:</p>
<blockquote>
<p>I see you closed this; did you figure it out?</p>
</blockquote>



<a name="292845364"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234676%20fuzz%3A%20failed%20to%20compile%20%60f32.demot.../near/292845364" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234676.20fuzz.3A.20failed.20to.20compile.20.60f32.2Edemot.2E.2E.2E.html#292845364">(Aug 10 2022 at 22:56)</a>:</h4>
<p>abrown <a href="https://github.com/bytecodealliance/wasmtime/issues/4676#issuecomment-1211367737">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4676">issue #4676</a>:</p>
<blockquote>
<p>Ok, yeah, I should have documented it here: I chatted with @alexcrichton about this and eventually figured out that it was the pooling allocation strategy that was causing the problem. In <code>oracles.rs</code>, the <code>compile_module</code> function ignores some cases when the randomly-generated allocation strategy makes compilation fail. I was treating the <code>None</code> that was returned there as a compilation failure when I really needed to either a) ignore that the failure happened or b) figure out some way to avoid these kinds of compilation failures in the first place.</p>
<p>Since I'm not sure how to reliably do "b" (I mean, how high do we need to raise the minimum size bound, e.g.?), I think for now I'll probably go with option "a." In my <code>meta-diff</code> branch, I have a <code>DiffIgnoreError</code> wrapper that I can use for marking this error as something that shouldn't fail the fuzz case. (@alexcrichton wasn't too excited about <code>DiffIgnoreError</code>; I think he was thinking that <code>Result&lt;Option&lt;...&gt;&gt;</code> is a better way to convey that information--thoughts?).</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>