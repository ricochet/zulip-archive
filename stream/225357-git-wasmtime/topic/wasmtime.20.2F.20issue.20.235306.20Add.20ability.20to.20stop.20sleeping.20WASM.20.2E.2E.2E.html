<html>
<head><meta charset="utf-8"><title>wasmtime / issue #5306 Add ability to stop sleeping WASM ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html">wasmtime / issue #5306 Add ability to stop sleeping WASM ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="311172743"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235306%20Add%20ability%20to%20stop%20sleeping%20WASM%20.../near/311172743" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html#311172743">(Nov 20 2022 at 18:44)</a>:</h4>
<p>r12f opened <a href="https://github.com/bytecodealliance/wasmtime/issues/5306">issue #5306</a>:</p>
<blockquote>
<h4>Feature</h4>
<p>Currently, when a WASM program calls sleep, it will eventually call into WasiSched::sleep with duration set to the time until next "wake up". However, if we would like to stop this instance in the middle of the sleep, we won't be able to wake this thread up.</p>
<p>&lt;img width="828" alt="image" src="<a href="https://user-images.githubusercontent.com/1533278/202919231-cdda688c-0f92-4f75-aa3b-f92231f0c5bc.png">https://user-images.githubusercontent.com/1533278/202919231-cdda688c-0f92-4f75-aa3b-f92231f0c5bc.png</a>"&gt;</p>
<p>I have checked the following discussions, and I am using async runtime with epoch interrupt to stop the instance. And my guess is that - if we could not be waken up from the sleep syscall, we won't be able to get a chance to check the epoch and stop. But I am not sure if I am missing anything and this feature is already supported or not.</p>
<ul>
<li><a href="https://github.com/bytecodealliance/wasmtime/issues/860">https://github.com/bytecodealliance/wasmtime/issues/860</a></li>
<li><a href="https://github.com/bytecodealliance/wasmtime/issues/1268">https://github.com/bytecodealliance/wasmtime/issues/1268</a></li>
</ul>
<p>This is the WASM program that I am running:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">time</span>::<span class="n">Duration</span><span class="p">;</span><span class="w"></span>

<span class="cp">#[tokio::main(flavor = </span><span class="s">"current_thread"</span><span class="cp">)]</span><span class="w"></span>
<span class="k">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">tokio</span>::<span class="n">time</span>::<span class="n">sleep</span><span class="p">(</span><span class="n">Duration</span>::<span class="n">from_secs</span><span class="p">(</span><span class="mi">100</span><span class="p">)).</span><span class="k">await</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>And here are some key functions that shows up on the stack:</p>
<p><a href="https://github.com/bytecodealliance/wasmtime/blob/main/crates/wasi-common/src/snapshots/preview_0.rs">https://github.com/bytecodealliance/wasmtime/blob/main/crates/wasi-common/src/snapshots/preview_0.rs</a></p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">poll_oneoff</span><span class="o">&lt;'</span><span class="na">a</span><span class="o">&gt;</span><span class="p">(</span><span class="w"></span>
<span class="w">        </span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">subs</span>: <span class="kp">&amp;</span><span class="nc">GuestPtr</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="n">types</span>::<span class="n">Subscription</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">events</span>: <span class="kp">&amp;</span><span class="nc">GuestPtr</span><span class="o">&lt;'</span><span class="na">a</span><span class="p">,</span><span class="w"> </span><span class="n">types</span>::<span class="n">Event</span><span class="o">&gt;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="n">nsubscriptions</span>: <span class="nc">types</span>::<span class="n">Size</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="n">types</span>::<span class="n">Size</span><span class="p">,</span><span class="w"> </span><span class="n">Error</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ......</span>
<span class="w">                    </span><span class="bp">self</span><span class="p">.</span><span class="n">sched</span><span class="w"></span>
<span class="w">                        </span><span class="p">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">Duration</span>::<span class="n">from_nanos</span><span class="p">(</span><span class="n">clocksub</span><span class="p">.</span><span class="n">timeout</span><span class="p">))</span><span class="w"></span>
<span class="w">                        </span><span class="p">.</span><span class="k">await</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="c1">// ......</span>
</code></pre></div>
<p><a href="https://github.com/bytecodealliance/wasmtime/blob/main/crates/wasi-common/cap-std-sync/src/sched.rs">https://github.com/bytecodealliance/wasmtime/blob/main/crates/wasi-common/cap-std-sync/src/sched.rs</a></p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">    </span><span class="k">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">sleep</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">duration</span>: <span class="nc">Duration</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="n">Error</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">std</span>::<span class="n">thread</span>::<span class="n">sleep</span><span class="p">(</span><span class="n">duration</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="nb">Ok</span><span class="p">(())</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h4>Benefit</h4>
<p>This allows us to stop the WASM instances that is sleeping for long time.</p>
<h4>Implementation</h4>
<p>We can probably change sleep to an event wait, and then we can signal the event whenever we got epoch change or other interrupts.</p>
<h4>Alternatives</h4>
<p>Some other ways might be <a href="https://learn.microsoft.com/en-us/windows/win32/api/synchapi/nf-synchapi-sleepex">alertable wait/sleep</a>, but not sure how feasible they are for this case.<br>
</p>
</blockquote>



<a name="311420457"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235306%20Add%20ability%20to%20stop%20sleeping%20WASM%20.../near/311420457" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html#311420457">(Nov 21 2022 at 16:32)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/5306#issuecomment-1322336788">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5306">issue #5306</a>:</p>
<blockquote>
<p>Currently the <code>sync</code>-flavor of the default WASI implementation does not have the support to wake up a sleeping thread and cancel it, but adding such a feature with something like a <code>CondVar</code> seems reasonable to do. Would you be up for making such a PR?</p>
<p>Otherwise I can also recommend using the <code>async</code> support for Wasmtime. An asynchronous sleep doesn't actually block any thread and can be trivially woken up and/or canceled by simply dropping the task.</p>
</blockquote>



<a name="311481482"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235306%20Add%20ability%20to%20stop%20sleeping%20WASM%20.../near/311481482" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html#311481482">(Nov 21 2022 at 21:57)</a>:</h4>
<p>r12f <a href="https://github.com/bytecodealliance/wasmtime/issues/5306#issuecomment-1322703268">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5306">issue #5306</a>:</p>
<blockquote>
<p>Hi Alex, thanks a lot for checking! Actually, I am using the async runtime as below. And I wonder if this is because I am using wasmtime 0.39.1, and this issue will be gone in later versions. I have also enabled "tokio" feature in wasmtime-wasi in Cargo.toml, so it should have the async sched there.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Config</span>::<span class="n">new</span><span class="p">();</span><span class="w"></span>
<span class="w">        </span><span class="n">config</span><span class="p">.</span><span class="n">epoch_interruption</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">config</span><span class="p">.</span><span class="n">async_support</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">config</span><span class="p">.</span><span class="n">consume_fuel</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span><span class="w"></span>

<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">engine</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Engine</span>::<span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
</code></pre></div>
<p>The reason I am still using the old version is because of 2 reasons, but my understanding might be outdated now:</p>
<ul>
<li>I am trying to get socket creation working with wasmtime, so I will need access to things like TcpSockets in cap-std, but IIRC, in later versions, we have blocked the access, because socket in WASI is still in proposal state.</li>
<li>I am also using wit-bindgen to generate code for async host functions. But in latest wit-bindgen, the async keyword is removed, and I am not sure which one should we use at this moment. Writing the function bindings one by one might be too much fun for me : D. I wonder if you happen to know any doc to get me started, it will be awesome!</li>
</ul>
<p>And yes, <code>CondVar</code> should work! Let me check a bit deeper and see how to make it work. I am getting pulled into some urgent weird issues today and will be on business trip next week. And in the worst case, I will come back after next week and continue coding.</p>
</blockquote>



<a name="311647671"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235306%20Add%20ability%20to%20stop%20sleeping%20WASM%20.../near/311647671" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html#311647671">(Nov 22 2022 at 15:39)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/5306#issuecomment-1323871021">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5306">issue #5306</a>:</p>
<blockquote>
<p>Using an older version should be fine for this issue, it has the same support for async sleeping and such. You don't need both <code>epoch_interruption</code> and <code>consume_fuel</code>, though, if you're interested.</p>
<p>The <code>async</code> support in <code>wit-bindgen</code> was unrelated to the <code>.async_support(true)</code> option which is what you want.</p>
</blockquote>



<a name="373235956"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235306%20Add%20ability%20to%20stop%20sleeping%20WASM%20.../near/373235956" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html#373235956">(Jul 07 2023 at 14:46)</a>:</h4>
<p>FedorSmirnov89 <a href="https://github.com/bytecodealliance/wasmtime/issues/5306#issuecomment-1625524903">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5306">issue #5306</a>:</p>
<blockquote>
<p>Hi :) . </p>
<p>I have a similar use case as described by @r12f : I am using wasmtime in asynchronous mode and with the <code>tokio</code> feature enabled. I would like to execute WASM modules asynchronously, e.g., to run multiple different modules within the same thread. However, I would like to not have to rely on the assumption that the modules were written as asynchronous Rust code. I was hoping that it would be possible to achieve asynchronous behavior from modules compiled from synchronous code by using the "fuel-based" way of instantiating the modules (if I understand correctly, this instruments the modules with yield points during compilation). This works really well for all cases that I have tested, with the exception of the case where the modules use a synchronous sleep function in their code, e.g.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">std</span>::<span class="n">thread</span>::<span class="n">sleep</span><span class="p">(</span><span class="n">Duration</span>::<span class="n">from_secs</span><span class="p">(</span><span class="mi">5</span><span class="p">));</span>
</code></pre></div>
<p>in Rust. If I understand correctly (I think @r12f also pointed this out), this is caused by the fact that synchronous sleep calls from the module are translated into a call to <code>std::thread::sleep</code> on the runtime side. In this case, this leads to a blocking future which circumvents the fuel mechanic, since no instructions are executed until the thread is woken up by the OS.</p>
<p>Would there be any downside to using <code>tokio::time::sleep</code> for both synchronous and asynchronous sleep calls from the module? Is there maybe another possibility to run modules written in a synchronous way asynchronously (making them yield when the module calls a sleep function?). Thanks a lot!</p>
<p>(Sorry if I am getting the things wrong. Very new to wasmtime and WASM in general :) )<br>
</p>
</blockquote>



<a name="373243591"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235306%20Add%20ability%20to%20stop%20sleeping%20WASM%20.../near/373243591" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html#373243591">(Jul 07 2023 at 15:11)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/5306#issuecomment-1625560439">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5306">issue #5306</a>:</p>
<blockquote>
<p>@FedorSmirnov89 you'll want to make sure you're using the async implementation of WASI as it sounds like you're instead using the sync version of WASI? Whether or not wasm itself thinks it's blocking is somewhat irrelevant as it's mostly up to the host and how it wants to implement that functionality. The async implementation of WASI is indeed implemented with <code>tokio::time::sleep</code> which would  I believe work as you'd expect.</p>
</blockquote>



<a name="373274100"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235306%20Add%20ability%20to%20stop%20sleeping%20WASM%20.../near/373274100" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html#373274100">(Jul 07 2023 at 16:45)</a>:</h4>
<p>FedorSmirnov89 <a href="https://github.com/bytecodealliance/wasmtime/issues/5306#issuecomment-1625678236">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5306">issue #5306</a>:</p>
<blockquote>
<p>@alexcrichton  Thank you for the super-quick answer!</p>
<p>You are totally right. I was not paying enough attention when looking at the examples in the repository.</p>
<p>After I replaced</p>
<ol>
<li><code>wasmtime_wasi::add_to_linker(&amp;mut linker, |s| s)</code> by <code>wasmtime_wasi::tokio::add_to_linker(&amp;mut linker, |s| s)</code> during the creation of the linker</li>
<li>and <code>use wasmtime_wasi::WasiCtxBuilder</code> by <code>use wasmtime_wasi::tokio::WasiCtxBuilder</code> in the file where I create the wasi context for the module</li>
</ol>
<p>evth worked as expected <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span> . Thank you!</p>
<p>One additional question, if I may: When now I try to run my whole program (which is a wrapper around <code>wasmtime</code> which starts and terminates WASM modules when requested) with a tokio runtime with a <code>flavor = "current_thread"</code>, I get a panic saying "can call blocking only when running on the multi-threaded runtime" (indeed, with a multi-threaded runtime, evth works). As far as I am aware, I am not calling any blocking operations or spawning any threads anywhere in my code (only using <code>tokio::task::spawn</code>). Do you maybe have an idea where the blocking call could be happening? Thank you again <span aria-label="grinning" class="emoji emoji-1f600" role="img" title="grinning">:grinning:</span> <br>
</p>
</blockquote>



<a name="373300295"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235306%20Add%20ability%20to%20stop%20sleeping%20WASM%20.../near/373300295" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html#373300295">(Jul 07 2023 at 18:36)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/5306#issuecomment-1625854161">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5306">issue #5306</a>:</p>
<blockquote>
<p>Are you able to get a stack trace perhaps via <code>RUST_BACKTRACE=1</code>? That'd hopefully help narrow it down as the cause is probably within the WASI implementation of Wasmtime</p>
</blockquote>



<a name="373307001"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235306%20Add%20ability%20to%20stop%20sleeping%20WASM%20.../near/373307001" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html#373307001">(Jul 07 2023 at 19:06)</a>:</h4>
<p>FedorSmirnov89 <a href="https://github.com/bytecodealliance/wasmtime/issues/5306#issuecomment-1625917098">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5306">issue #5306</a>:</p>
<blockquote>
<p>Ah ya. Good tip (should have thought of it <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span> ), I am getting the stack trace below. Seeing that it seems to have a problem with <code>fd_write</code>, I had the guess that the problem may be that the module I was testing it with was printing to the <code>stdout</code> (which is blocking I guess?). Removing the printing from the module solves the problem, so that the module can be run (and stopped) without problems. Is it a problem with the way I am configuring the modules or should modules just not print to run them from within  a single-threaded runtime? Thank you!</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">'</span><span class="na">can</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">blocking</span><span class="w"> </span><span class="n">only</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">multi</span><span class="o">-</span><span class="n">threaded</span><span class="w"> </span><span class="n">runtime</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasi</span><span class="o">-</span><span class="n">tokio</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">123</span>:<span class="mi">5</span>
<span class="n">stack</span><span class="w"> </span><span class="n">backtrace</span>:
   <span class="mi">0</span>: <span class="nc">rust_begin_unwind</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">578</span>:<span class="mi">5</span>
<span class="w">   </span><span class="mi">1</span>: <span class="nc">core</span>::<span class="n">panicking</span>::<span class="n">panic_fmt</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">67</span>:<span class="mi">14</span>
<span class="w">   </span><span class="mi">2</span>: <span class="nc">core</span>::<span class="n">panicking</span>::<span class="n">panic_display</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">150</span>:<span class="mi">5</span>
<span class="w">   </span><span class="mi">3</span>: <span class="nc">tokio</span>::<span class="n">runtime</span>::<span class="n">scheduler</span>::<span class="n">multi_thread</span>::<span class="n">worker</span>::<span class="n">block_in_place</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">tokio</span><span class="o">-</span><span class="mf">1.29.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">runtime</span><span class="o">/</span><span class="n">scheduler</span><span class="o">/</span><span class="n">multi_thread</span><span class="o">/</span><span class="n">worker</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">427</span>:<span class="mi">9</span>
<span class="w">   </span><span class="mi">4</span>: <span class="nc">tokio</span>::<span class="n">task</span>::<span class="n">blocking</span>::<span class="n">block_in_place</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">tokio</span><span class="o">-</span><span class="mf">1.29.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">task</span><span class="o">/</span><span class="n">blocking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">78</span>:<span class="mi">9</span>
<span class="w">   </span><span class="mi">5</span>: <span class="nc">wasi_tokio</span>::<span class="n">block_on_dummy_executor</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasi</span><span class="o">-</span><span class="n">tokio</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">123</span>:<span class="mi">5</span>
<span class="w">   </span><span class="mi">6</span>: <span class="o">&lt;</span><span class="n">wasi_tokio</span>::<span class="n">file</span>::<span class="n">Stdout</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">file</span>::<span class="n">WasiFile</span><span class="o">&gt;</span>::<span class="n">write_vectored</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasi</span><span class="o">-</span><span class="n">tokio</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">file</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">144</span>:<span class="mi">17</span>
<span class="w">   </span><span class="mi">7</span>: <span class="o">&lt;</span><span class="n">core</span>::<span class="n">pin</span>::<span class="n">Pin</span><span class="o">&lt;</span><span class="n">P</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">core</span>::<span class="n">future</span>::<span class="n">future</span>::<span class="n">Future</span><span class="o">&gt;</span>::<span class="n">poll</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">future</span><span class="o">/</span><span class="n">future</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">125</span>:<span class="mi">9</span>
<span class="w">   </span><span class="mi">8</span>: <span class="nc">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="o">&lt;</span><span class="k">impl</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span>::<span class="n">WasiSnapshotPreview1</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">ctx</span>::<span class="n">WasiCtx</span><span class="o">&gt;</span>::<span class="n">fd_write</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasi</span><span class="o">-</span><span class="n">common</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">snapshots</span><span class="o">/</span><span class="n">preview_1</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">466</span>:<span class="mi">56</span>
<span class="w">   </span><span class="mi">9</span>: <span class="o">&lt;</span><span class="n">core</span>::<span class="n">pin</span>::<span class="n">Pin</span><span class="o">&lt;</span><span class="n">P</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">core</span>::<span class="n">future</span>::<span class="n">future</span>::<span class="n">Future</span><span class="o">&gt;</span>::<span class="n">poll</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">future</span><span class="o">/</span><span class="n">future</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">125</span>:<span class="mi">9</span>
<span class="w">  </span><span class="mi">10</span>: <span class="nc">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span>::<span class="n">fd_write</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasi</span><span class="o">-</span><span class="n">common</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">snapshots</span><span class="o">/</span><span class="n">preview_1</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">27</span>:<span class="mi">1</span>
<span class="w">  </span><span class="mi">11</span>: <span class="o">&lt;</span><span class="n">tracing</span>::<span class="n">instrument</span>::<span class="n">Instrumented</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">core</span>::<span class="n">future</span>::<span class="n">future</span>::<span class="n">Future</span><span class="o">&gt;</span>::<span class="n">poll</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">tracing</span><span class="o">-</span><span class="mf">0.1.37</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">instrument</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">272</span>:<span class="mi">9</span>
<span class="w">  </span><span class="mi">12</span>: <span class="nc">wasmtime_wasi</span>::<span class="n">tokio</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">add_wasi_snapshot_preview1_to_linker</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">34</span>:<span class="mi">5</span>
<span class="w">  </span><span class="mi">13</span>: <span class="nc">wasmtime</span>::<span class="n">store</span>::<span class="n">AsyncCx</span>::<span class="n">block_on</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">store</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1876</span>:<span class="mi">17</span>
<span class="w">  </span><span class="mi">14</span>: <span class="nc">wasmtime</span>::<span class="n">linker</span>::<span class="n">Linker</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span>::<span class="n">func_wrap4_async</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">linker</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">165</span>:<span class="mi">32</span>
<span class="w">  </span><span class="mi">15</span>: <span class="o">&lt;</span><span class="n">F</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">func</span>::<span class="n">IntoFunc</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,(</span><span class="n">wasmtime</span>::<span class="n">func</span>::<span class="n">Caller</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">,</span><span class="n">A1</span><span class="p">,</span><span class="n">A2</span><span class="p">,</span><span class="n">A3</span><span class="p">,</span><span class="n">A4</span><span class="p">),</span><span class="n">R</span><span class="o">&gt;&gt;</span>::<span class="n">into_func</span>::<span class="n">native_call_shim</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">func</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1982</span>:<span class="mi">41</span>
<span class="w">  </span><span class="mi">16</span>: <span class="nc">core</span>::<span class="n">ops</span>::<span class="n">function</span>::<span class="nb">FnOnce</span>::<span class="n">call_once</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">ops</span><span class="o">/</span><span class="n">function</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">250</span>:<span class="mi">5</span>
<span class="w">  </span><span class="mi">17</span>: <span class="o">&lt;</span><span class="n">core</span>::<span class="n">panic</span>::<span class="n">unwind_safe</span>::<span class="n">AssertUnwindSafe</span><span class="o">&lt;</span><span class="n">F</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">function</span>::<span class="nb">FnOnce</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;&gt;</span>::<span class="n">call_once</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panic</span><span class="o">/</span><span class="n">unwind_safe</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">271</span>:<span class="mi">9</span>
<span class="w">  </span><span class="mi">18</span>: <span class="nc">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">do_call</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">485</span>:<span class="mi">40</span>
<span class="w">  </span><span class="mi">19</span>: <span class="nc">__rust_try</span>
<span class="w">  </span><span class="mi">20</span>: <span class="nc">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">449</span>:<span class="mi">19</span>
<span class="w">  </span><span class="mi">21</span>: <span class="nc">std</span>::<span class="n">panic</span>::<span class="n">catch_unwind</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">140</span>:<span class="mi">14</span>
<span class="w">  </span><span class="mi">22</span>: <span class="o">&lt;</span><span class="n">F</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">func</span>::<span class="n">IntoFunc</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,(</span><span class="n">wasmtime</span>::<span class="n">func</span>::<span class="n">Caller</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">,</span><span class="n">A1</span><span class="p">,</span><span class="n">A2</span><span class="p">,</span><span class="n">A3</span><span class="p">,</span><span class="n">A4</span><span class="p">),</span><span class="n">R</span><span class="o">&gt;&gt;</span>::<span class="n">into_func</span>::<span class="n">native_call_shim</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">func</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1977</span>:<span class="mi">29</span>
<span class="w">  </span><span class="mi">23</span>: <span class="nc">wasmtime</span>::<span class="n">func</span>::<span class="n">Caller</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span>::<span class="n">with</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">func</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1777</span>:<span class="mi">13</span>
<span class="w">  </span><span class="mi">24</span>: <span class="nc">wasmtime_runtime</span>::<span class="n">instance</span>::<span class="n">Instance</span>::<span class="n">from_vmctx</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">runtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">instance</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">217</span>:<span class="mi">9</span>
<span class="w">  </span><span class="mi">25</span>: <span class="nc">wasmtime</span>::<span class="n">func</span>::<span class="n">Caller</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span>::<span class="n">with</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">func</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1775</span>:<span class="mi">9</span>
<span class="w">  </span><span class="mi">26</span>: <span class="o">&lt;</span><span class="n">F</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">func</span>::<span class="n">IntoFunc</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,(</span><span class="n">wasmtime</span>::<span class="n">func</span>::<span class="n">Caller</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span><span class="p">,</span><span class="n">A1</span><span class="p">,</span><span class="n">A2</span><span class="p">,</span><span class="n">A3</span><span class="p">,</span><span class="n">A4</span><span class="p">),</span><span class="n">R</span><span class="o">&gt;&gt;</span>::<span class="n">into_func</span>::<span class="n">native_call_shim</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">func</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1966</span>:<span class="mi">34</span>
<span class="w">  </span><span class="mi">27</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">28</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">29</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">30</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">31</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">32</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">33</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">34</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">35</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">36</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">37</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">38</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">39</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">40</span>: <span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span>
<span class="w">  </span><span class="mi">41</span>: <span class="o">&lt;</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">func</span>::<span class="n">typed</span>::<span class="n">WasmParams</span><span class="o">&gt;</span>::<span class="n">invoke</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">func</span><span class="o">/</span><span class="n">typed</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">587</span>:<span class="mi">21</span>
<span class="w">  </span><span class="mi">42</span>: <span class="o">&lt;</span><span class="p">(</span><span class="n">A1</span><span class="p">,)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">func</span>::<span class="n">HostAbi</span><span class="o">&gt;</span>::<span class="n">call</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">func</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1684</span>:<span class="mi">18</span>
<span class="w">  </span><span class="mi">43</span>: <span class="o">&lt;</span><span class="p">()</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">func</span>::<span class="n">typed</span>::<span class="n">WasmParams</span><span class="o">&gt;</span>::<span class="n">invoke</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">func</span><span class="o">/</span><span class="n">typed</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">586</span>:<span class="mi">17</span>
<span class="w">  </span><span class="mi">44</span>: <span class="nc">wasmtime</span>::<span class="n">func</span>::<span class="n">typed</span>::<span class="n">TypedFunc</span><span class="o">&lt;</span><span class="n">Params</span><span class="p">,</span><span class="n">Results</span><span class="o">&gt;</span>::<span class="n">call_raw</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">func</span><span class="o">/</span><span class="n">typed</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">181</span>:<span class="mi">17</span>
<span class="w">  </span><span class="mi">45</span>: <span class="nc">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">catch_traps</span>::<span class="n">call_closure</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">runtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">281</span>:<span class="mi">18</span>
<span class="w">  </span><span class="mi">46</span>: <span class="nc">wasmtime_setjmp</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">runtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">helpers</span><span class="p">.</span><span class="n">c</span>:<span class="mi">55</span>:<span class="mi">3</span>
<span class="w">  </span><span class="mi">47</span>: <span class="nc">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">catch_traps</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">runtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">263</span>:<span class="mi">9</span>
<span class="w">  </span><span class="mi">48</span>: <span class="nc">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="o">&lt;</span><span class="k">impl</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">call_thread_state</span>::<span class="n">CallThreadState</span><span class="o">&gt;</span>::<span class="n">with</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">runtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">389</span>:<span class="mi">44</span>
<span class="w">  </span><span class="mi">49</span>: <span class="nc">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">tls</span>::<span class="n">set</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">runtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">740</span>:<span class="mi">13</span>
<span class="w">  </span><span class="mi">50</span>: <span class="nc">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="o">&lt;</span><span class="k">impl</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">call_thread_state</span>::<span class="n">CallThreadState</span><span class="o">&gt;</span>::<span class="n">with</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">runtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">389</span>:<span class="mi">19</span>
<span class="w">  </span><span class="mi">51</span>: <span class="nc">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">catch_traps</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">runtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">traphandlers</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">262</span>:<span class="mi">18</span>
<span class="w">  </span><span class="mi">52</span>: <span class="nc">wasmtime</span>::<span class="n">func</span>::<span class="n">invoke_wasm_and_catch_traps</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">func</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1363</span>:<span class="mi">22</span>
<span class="w">  </span><span class="mi">53</span>: <span class="nc">wasmtime</span>::<span class="n">func</span>::<span class="n">typed</span>::<span class="n">TypedFunc</span><span class="o">&lt;</span><span class="n">Params</span><span class="p">,</span><span class="n">Results</span><span class="o">&gt;</span>::<span class="n">call_raw</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">func</span><span class="o">/</span><span class="n">typed</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">177</span>:<span class="mi">22</span>
<span class="w">  </span><span class="mi">54</span>: <span class="nc">wasmtime</span>::<span class="n">func</span>::<span class="n">typed</span>::<span class="n">TypedFunc</span><span class="o">&lt;</span><span class="n">Params</span><span class="p">,</span><span class="n">Results</span><span class="o">&gt;</span>::<span class="n">call_async</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">func</span><span class="o">/</span><span class="n">typed</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">126</span>:<span class="mi">26</span>
<span class="w">  </span><span class="mi">55</span>: <span class="nc">wasmtime</span>::<span class="n">store</span>::<span class="o">&lt;</span><span class="k">impl</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">store</span>::<span class="n">context</span>::<span class="n">StoreContextMut</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span>::<span class="n">on_fiber</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">store</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1589</span>:<span class="mi">34</span>
<span class="w">  </span><span class="mi">56</span>: <span class="o">&lt;</span><span class="n">alloc</span>::<span class="n">boxed</span>::<span class="nb">Box</span><span class="o">&lt;</span><span class="n">F</span><span class="p">,</span><span class="n">A</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">function</span>::<span class="nb">FnOnce</span><span class="o">&lt;</span><span class="n">Args</span><span class="o">&gt;&gt;</span>::<span class="n">call_once</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">alloc</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">boxed</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1973</span>:<span class="mi">9</span>
<span class="w">  </span><span class="mi">57</span>: <span class="nc">wasmtime_fiber</span>::<span class="n">Suspend</span><span class="o">&lt;</span><span class="n">Resume</span><span class="p">,</span><span class="n">Yield</span><span class="p">,</span><span class="n">Return</span><span class="o">&gt;</span>::<span class="n">execute</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">fiber</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">166</span>:<span class="mi">62</span>
<span class="w">  </span><span class="mi">58</span>: <span class="o">&lt;</span><span class="n">core</span>::<span class="n">panic</span>::<span class="n">unwind_safe</span>::<span class="n">AssertUnwindSafe</span><span class="o">&lt;</span><span class="n">F</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">function</span>::<span class="nb">FnOnce</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;&gt;</span>::<span class="n">call_once</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panic</span><span class="o">/</span><span class="n">unwind_safe</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">271</span>:<span class="mi">9</span>
<span class="w">  </span><span class="mi">59</span>: <span class="nc">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">do_call</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">485</span>:<span class="mi">40</span>
<span class="w">  </span><span class="mi">60</span>: <span class="nc">__rust_try</span>
<span class="w">  </span><span class="mi">61</span>: <span class="nc">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">449</span>:<span class="mi">19</span>
<span class="w">  </span><span class="mi">62</span>: <span class="nc">std</span>::<span class="n">panic</span>::<span class="n">catch_unwind</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">90</span><span class="n">c541806f23a127002de5b4038be731ba1458ca</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">140</span>:<span class="mi">14</span>
<span class="w">  </span><span class="mi">63</span>: <span class="nc">wasmtime_fiber</span>::<span class="n">Suspend</span><span class="o">&lt;</span><span class="n">Resume</span><span class="p">,</span><span class="n">Yield</span><span class="p">,</span><span class="n">Return</span><span class="o">&gt;</span>::<span class="n">execute</span>
<span class="w">             </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">root</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">fiber</span><span class="o">-</span><span class="mf">10.0.1</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">166</span>
<span class="p">[</span><span class="n">message</span><span class="w"> </span><span class="n">truncated</span><span class="p">]</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="373317189"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235306%20Add%20ability%20to%20stop%20sleeping%20WASM%20.../near/373317189" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html#373317189">(Jul 07 2023 at 20:00)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/5306#issuecomment-1626001887">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5306">issue #5306</a>:</p>
<blockquote>
<p>Ah ok that makes sense, thanks for the extra information. This restriction is new to me at least and as far as I'm aware the WASI support was not developed with the intention in mind of explicitly not enabling the current thread executor. Put another way this I think is fine to classify as a normal bug, albeit it's separate from this current one so I think it'd be good to split out.</p>
<p>As to the bug itself, I think that may be resolved in the upcoming preview2 work <a href="https://github.com/bytecodealliance/wasmtime/pull/6556">https://github.com/bytecodealliance/wasmtime/pull/6556</a> with Joel's recent advice of using the tokio-native filesystem constructs. There may still be other issues, though.</p>
<p>For now I'd recommend using the multi-threaded executor.</p>
</blockquote>



<a name="373380952"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235306%20Add%20ability%20to%20stop%20sleeping%20WASM%20.../near/373380952" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html#373380952">(Jul 08 2023 at 04:57)</a>:</h4>
<p>FedorSmirnov89 <a href="https://github.com/bytecodealliance/wasmtime/issues/5306#issuecomment-1626856917">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5306">issue #5306</a>:</p>
<blockquote>
<p>Got it, thank you! Would it make sense for me to create an extra issue describing the problem and providing a minimal example which reproduces it?</p>
</blockquote>



<a name="374072887"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235306%20Add%20ability%20to%20stop%20sleeping%20WASM%20.../near/374072887" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235306.20Add.20ability.20to.20stop.20sleeping.20WASM.20.2E.2E.2E.html#374072887">(Jul 10 2023 at 20:03)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/5306#issuecomment-1629652636">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5306">issue #5306</a>:</p>
<blockquote>
<p>Yes that'd be appreciated!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>