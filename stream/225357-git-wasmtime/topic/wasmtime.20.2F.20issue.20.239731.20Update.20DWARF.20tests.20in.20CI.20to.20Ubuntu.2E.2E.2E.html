<html>
<head><meta charset="utf-8"><title>wasmtime / issue #9731 Update DWARF tests in CI to Ubuntu... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.239731.20Update.20DWARF.20tests.20in.20CI.20to.20Ubuntu.2E.2E.2E.html">wasmtime / issue #9731 Update DWARF tests in CI to Ubuntu...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="486147775"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%239731%20Update%20DWARF%20tests%20in%20CI%20to%20Ubuntu.../near/486147775" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.239731.20Update.20DWARF.20tests.20in.20CI.20to.20Ubuntu.2E.2E.2E.html#486147775">(Dec 04 2024 at 17:47)</a>:</h4>
<p><a href="https://github.com/alexcrichton">alexcrichton</a> added the wasmtime:debugging label to <a href="https://github.com/bytecodealliance/wasmtime/issues/9731">Issue #9731</a>.</p>



<a name="486147781"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%239731%20Update%20DWARF%20tests%20in%20CI%20to%20Ubuntu.../near/486147781" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.239731.20Update.20DWARF.20tests.20in.20CI.20to.20Ubuntu.2E.2E.2E.html#486147781">(Dec 04 2024 at 17:47)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/issues/9731">issue #9731</a>:</p>
<blockquote>
<p>Right now they're pinned to ubuntu-22.04 which will eventually get phased out. I <a href="https://github.com/bytecodealliance/wasmtime/pull/9730">tried to do this</a> and failed. Specifically looks like the latest gdb segfaults:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">failures</span><span class="p">:</span>

<span class="o">----</span><span class="w"> </span><span class="n">debug</span><span class="p">::</span><span class="n">gdb</span><span class="p">::</span><span class="n">test_debug_dwarf_gdb</span><span class="w"> </span><span class="n">stdout</span><span class="w"> </span><span class="o">----</span>
<span class="n">Error</span><span class="p">:</span><span class="w"> </span><span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">execute</span><span class="w"> </span><span class="s">"gdb"</span><span class="w"> </span><span class="s">"--batch"</span><span class="w"> </span><span class="s">"-x"</span><span class="w"> </span><span class="s">"/tmp/.tmpcntwYN"</span><span class="w"> </span><span class="s">"--args"</span><span class="w"> </span><span class="s">"/home/runner/work/wasmtime/wasmtime/target/debug/wasmtime"</span><span class="w"> </span><span class="s">"-Ccache=n"</span><span class="w"> </span><span class="s">"-Ddebug-info"</span><span class="w"> </span><span class="s">"--invoke"</span><span class="w"> </span><span class="s">"fib"</span><span class="w"> </span><span class="s">"tests/all/debug/testsuite/fib-wasm.wasm"</span><span class="w"> </span><span class="s">"3"</span><span class="p">:</span><span class="w"> </span><span class="nc">Function</span><span class="w"> </span><span class="s">"fib"</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">defined</span><span class="p">.</span>
<span class="n">warning</span><span class="p">:</span><span class="w"> </span><span class="nc">Loadable</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="s">".wasmtime.engine"</span><span class="w"> </span><span class="n">outside</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">ELF</span><span class="w"> </span><span class="n">segments</span>
<span class="w">  </span><span class="k">in</span><span class="w"> </span><span class="o">&lt;</span><span class="k">in</span><span class="o">-</span><span class="n">memory</span><span class="o">@</span><span class="mh">0x55555aa86450</span><span class="o">-</span><span class="mh">0x55555aa8a218</span><span class="o">&gt;</span>
<span class="n">warning</span><span class="p">:</span><span class="w"> </span><span class="nc">Loadable</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="s">".wasmtime.bti"</span><span class="w"> </span><span class="n">outside</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">ELF</span><span class="w"> </span><span class="n">segments</span>
<span class="w">  </span><span class="k">in</span><span class="w"> </span><span class="o">&lt;</span><span class="k">in</span><span class="o">-</span><span class="n">memory</span><span class="o">@</span><span class="mh">0x55555aa86450</span><span class="o">-</span><span class="mh">0x55555aa8a218</span><span class="o">&gt;</span>
<span class="n">warning</span><span class="p">:</span><span class="w"> </span><span class="nc">Loadable</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="s">".eh_frame"</span><span class="w"> </span><span class="n">outside</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">ELF</span><span class="w"> </span><span class="n">segments</span>
<span class="w">  </span><span class="k">in</span><span class="w"> </span><span class="o">&lt;</span><span class="k">in</span><span class="o">-</span><span class="n">memory</span><span class="o">@</span><span class="mh">0x55555aa86450</span><span class="o">-</span><span class="mh">0x55555aa8a218</span><span class="o">&gt;</span>
<span class="n">warning</span><span class="p">:</span><span class="w"> </span><span class="nc">Loadable</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="s">".wasmtime.addrmap"</span><span class="w"> </span><span class="n">outside</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">ELF</span><span class="w"> </span><span class="n">segments</span>
<span class="w">  </span><span class="k">in</span><span class="w"> </span><span class="o">&lt;</span><span class="k">in</span><span class="o">-</span><span class="n">memory</span><span class="o">@</span><span class="mh">0x55555aa86450</span><span class="o">-</span><span class="mh">0x55555aa8a218</span><span class="o">&gt;</span>
<span class="n">warning</span><span class="p">:</span><span class="w"> </span><span class="nc">Loadable</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="s">".wasmtime.traps"</span><span class="w"> </span><span class="n">outside</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">ELF</span><span class="w"> </span><span class="n">segments</span>
<span class="w">  </span><span class="k">in</span><span class="w"> </span><span class="o">&lt;</span><span class="k">in</span><span class="o">-</span><span class="n">memory</span><span class="o">@</span><span class="mh">0x55555aa86450</span><span class="o">-</span><span class="mh">0x55555aa8a218</span><span class="o">&gt;</span>
<span class="n">warning</span><span class="p">:</span><span class="w"> </span><span class="nc">Loadable</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="s">".name.wasm"</span><span class="w"> </span><span class="n">outside</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">ELF</span><span class="w"> </span><span class="n">segments</span>
<span class="w">  </span><span class="k">in</span><span class="w"> </span><span class="o">&lt;</span><span class="k">in</span><span class="o">-</span><span class="n">memory</span><span class="o">@</span><span class="mh">0x55555aa86450</span><span class="o">-</span><span class="mh">0x55555aa8a218</span><span class="o">&gt;</span>
<span class="n">warning</span><span class="p">:</span><span class="w"> </span><span class="nc">Loadable</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="s">".wasmtime.info"</span><span class="w"> </span><span class="n">outside</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">ELF</span><span class="w"> </span><span class="n">segments</span>
<span class="w">  </span><span class="k">in</span><span class="w"> </span><span class="o">&lt;</span><span class="k">in</span><span class="o">-</span><span class="n">memory</span><span class="o">@</span><span class="mh">0x55555aa86450</span><span class="o">-</span><span class="mh">0x55555aa8a218</span><span class="o">&gt;</span>
<span class="o">/</span><span class="n">build</span><span class="o">/</span><span class="n">gdb</span><span class="o">-</span><span class="mi">1</span><span class="n">WjiBe</span><span class="o">/</span><span class="n">gdb</span><span class="o">-</span><span class="mf">15.0.50.20240403</span><span class="o">/</span><span class="n">gdb</span><span class="o">/</span><span class="n">dwarf2</span><span class="o">/</span><span class="n">read</span><span class="p">.</span><span class="n">c</span><span class="p">:</span><span class="mi">21450</span><span class="p">:</span><span class="w"> </span><span class="nc">internal</span><span class="o">-</span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="nc">set_lang</span><span class="p">:</span><span class="w"> </span><span class="nc">Assertion</span><span class="w"> </span><span class="err">`</span><span class="n">old_value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">language_unknown</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">old_value</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">lang</span><span class="o">'</span><span class="w"> </span><span class="n">failed</span><span class="p">.</span>
<span class="n">A</span><span class="w"> </span><span class="n">problem</span><span class="w"> </span><span class="n">internal</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">GDB</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">been</span><span class="w"> </span><span class="n">detected</span><span class="p">,</span>
<span class="n">further</span><span class="w"> </span><span class="n">debugging</span><span class="w"> </span><span class="n">may</span><span class="w"> </span><span class="n">prove</span><span class="w"> </span><span class="n">unreliable</span><span class="p">.</span>
<span class="o">-----</span><span class="w"> </span><span class="n">Backtrace</span><span class="w"> </span><span class="o">-----</span>
<span class="mh">0x55d7ff6f7bc6</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ffb13dd4</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ffb140d0</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ffca7f74</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff7e1e41</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff7ea796</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff7eac3b</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff7ead90</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff7f735c</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff7fc30e</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff7ffcc0</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff80350a</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff7ff19c</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff7ff6fa</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff80539f</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff805b5d</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff806259</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ffa3f188</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8bb035</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8bd5a2</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8be9eb</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8c1bb6</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8c2768</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8c2b9d</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff6ddfd8</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff6de24a</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff6e0c6f</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff6eb38d</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ffa4916c</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8b6089</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8b64e8</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff6def27</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8a500f</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8a9047</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8aa1ad</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8aba0d</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ffca8975</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ffca952e</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ffa971a3</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ffa9a3dc</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff81b967</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ffa98480</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff73975b</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff72ca52</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8f7d27</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8f7dba</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8fa273</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff8faefe</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x55d7ff641dab</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0x7f6a9b22a1c9</span><span class="w"> </span><span class="n">__libc_start_call_main</span>
<span class="w">    </span><span class="o">../</span><span class="n">sysdeps</span><span class="o">/</span><span class="n">nptl</span><span class="o">/</span><span class="n">libc_start_call_main</span><span class="p">.</span><span class="n">h</span><span class="p">:</span><span class="mi">58</span>
<span class="mh">0x7f6a9b22a28a</span><span class="w"> </span><span class="n">__libc_start_main_impl</span>
<span class="w">    </span><span class="o">../</span><span class="n">csu</span><span class="o">/</span><span class="n">libc</span><span class="o">-</span><span class="n">start</span><span class="p">.</span><span class="n">c</span><span class="p">:</span><span class="mi">360</span>
<span class="mh">0x55d7ff6501f4</span><span class="w"> </span><span class="o">???</span>
<span class="mh">0xffffffffffffffff</span><span class="w"> </span><span class="o">???</span>
<span class="o">---------------------</span>

<span class="n">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">bug</span><span class="p">,</span><span class="w"> </span><span class="n">please</span><span class="w"> </span><span class="n">report</span><span class="w"> </span><span class="n">it</span><span class="p">.</span><span class="w">  </span><span class="n">For</span><span class="w"> </span><span class="n">instructions</span><span class="p">,</span><span class="w"> </span><span class="n">see</span><span class="p">:</span>
<span class="o">&lt;</span><span class="n">https</span><span class="p">:</span><span class="c1">//www.gnu.org/software/gdb/bugs/&gt;.</span>




<span class="n">failures</span><span class="p">:</span>
<span class="w">    </span><span class="nc">debug</span><span class="p">::</span><span class="n">gdb</span><span class="p">::</span><span class="n">test_debug_dwarf_gdb</span>

<span class="n">test</span><span class="w"> </span><span class="n">result</span><span class="p">:</span><span class="w"> </span><span class="nc">FAILED</span><span class="p">.</span><span class="w"> </span><span class="mi">21</span><span class="w"> </span><span class="n">passed</span><span class="p">;</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">failed</span><span class="p">;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">ignored</span><span class="p">;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">measured</span><span class="p">;</span><span class="w"> </span><span class="mi">731</span><span class="w"> </span><span class="n">filtered</span><span class="w"> </span><span class="n">out</span><span class="p">;</span><span class="w"> </span><span class="n">finished</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">32.48</span><span class="n">s</span>
</code></pre></div>
<p>I'm not sure how best to resolve this, but it's at least not urgent at this time.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>