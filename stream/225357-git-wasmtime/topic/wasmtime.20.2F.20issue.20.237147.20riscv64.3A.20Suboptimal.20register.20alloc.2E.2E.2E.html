<html>
<head><meta charset="utf-8"><title>wasmtime / issue #7147 riscv64: Suboptimal register alloc... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237147.20riscv64.3A.20Suboptimal.20register.20alloc.2E.2E.2E.html">wasmtime / issue #7147 riscv64: Suboptimal register alloc...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="394812642"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237147%20riscv64%3A%20Suboptimal%20register%20alloc.../near/394812642" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237147.20riscv64.3A.20Suboptimal.20register.20alloc.2E.2E.2E.html#394812642">(Oct 04 2023 at 10:47)</a>:</h4>
<p>afonso360 opened <a href="https://github.com/bytecodealliance/wasmtime/issues/7147">issue #7147</a>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This is something that I noticed while working on #7123.</p>
<h3><code>.clif</code> Test Case</h3>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">test</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="n">precise</span><span class="o">-</span><span class="n">output</span>
<span class="n">set</span><span class="w"> </span><span class="n">unwind_info</span><span class="o">=</span><span class="kc">false</span>
<span class="n">target</span><span class="w"> </span><span class="n">riscv64</span>

<span class="n">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
  <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">0</span>
<span class="w">  </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="p">;</span><span class="w"> </span><span class="n">VCode</span>:
<span class="p">;</span><span class="w"> </span><span class="n">block0</span>:
<span class="p">;</span><span class="w">   </span><span class="n">lh</span><span class="w"> </span><span class="n">a3</span><span class="p">,</span><span class="mi">0</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="p">;</span><span class="w">   </span><span class="n">mv</span><span class="w"> </span><span class="n">a4</span><span class="p">,</span><span class="n">a3</span>
<span class="p">;</span><span class="w">   </span><span class="n">lh</span><span class="w"> </span><span class="n">a1</span><span class="p">,</span><span class="mi">2</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="p">;</span><span class="w">   </span><span class="n">mv</span><span class="w"> </span><span class="n">a0</span><span class="p">,</span><span class="n">a4</span>
<span class="p">;</span><span class="w">   </span><span class="n">ret</span>
<span class="p">;</span>
<span class="p">;</span><span class="w"> </span><span class="n">Disassembled</span>:
<span class="p">;</span><span class="w"> </span><span class="n">block0</span>: <span class="p">;</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="mh">0x0</span>
<span class="p">;</span><span class="w">   </span><span class="n">lh</span><span class="w"> </span><span class="n">a3</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="p">;</span><span class="w">   </span><span class="n">mv</span><span class="w"> </span><span class="n">a4</span><span class="p">,</span><span class="w"> </span><span class="n">a3</span>
<span class="p">;</span><span class="w">   </span><span class="n">lh</span><span class="w"> </span><span class="n">a1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="p">;</span><span class="w">   </span><span class="n">mv</span><span class="w"> </span><span class="n">a0</span><span class="p">,</span><span class="w"> </span><span class="n">a4</span>
<span class="p">;</span><span class="w">   </span><span class="n">ret</span>
</code></pre></div>
<h3>Steps to Reproduce</h3>
<ul>
<li><code>clif-util test ./the-above</code></li>
</ul>
<h3>Expected Results</h3>
<p>We could eliminate the first move by generating something along these lines:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">;</span><span class="w"> </span><span class="n">VCode</span>:
<span class="p">;</span><span class="w"> </span><span class="n">block0</span>:
<span class="p">;</span><span class="w">   </span><span class="n">lh</span><span class="w"> </span><span class="n">a3</span><span class="p">,</span><span class="mi">0</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="p">;</span><span class="w">   </span><span class="n">lh</span><span class="w"> </span><span class="n">a1</span><span class="p">,</span><span class="mi">2</span><span class="p">(</span><span class="n">a0</span><span class="p">)</span>
<span class="p">;</span><span class="w">   </span><span class="n">mv</span><span class="w"> </span><span class="n">a0</span><span class="p">,</span><span class="n">a3</span>
<span class="p">;</span><span class="w">   </span><span class="n">ret</span>
</code></pre></div>
<h3>Actual Results</h3>
<p>We get an extra move between loads.</p>
<h3>Versions and Environment</h3>
<p>Cranelift version or commit: main</p>
<p>Operating system: Linux</p>
<p>Architecture: RISC-V</p>
<h3>Extra Info</h3>
<p>VCode:</p>
<div class="codehilite" data-code-language="Python"><pre><span></span><code><span class="n">VCode</span> <span class="p">{</span>
  <span class="n">Entry</span> <span class="n">block</span><span class="p">:</span> <span class="mi">0</span>
  <span class="n">v193</span> <span class="o">:=</span> <span class="n">v196</span>
  <span class="n">v194</span> <span class="o">:=</span> <span class="n">v195</span>
<span class="n">Block</span> <span class="mi">0</span><span class="p">:</span>
    <span class="p">(</span><span class="n">original</span> <span class="n">IR</span> <span class="n">block</span><span class="p">:</span> <span class="n">block0</span><span class="p">)</span>
    <span class="p">(</span><span class="n">instruction</span> <span class="nb">range</span><span class="p">:</span> <span class="mi">0</span> <span class="o">..</span> <span class="mi">4</span><span class="p">)</span>
  <span class="n">Inst</span> <span class="mi">0</span><span class="p">:</span> <span class="n">args</span> <span class="n">v192</span><span class="o">=</span><span class="n">a0</span>
  <span class="n">Inst</span> <span class="mi">1</span><span class="p">:</span> <span class="n">lh</span> <span class="n">v196</span><span class="p">,</span><span class="mi">0</span><span class="p">(</span><span class="n">v192</span><span class="p">)</span>
  <span class="n">Inst</span> <span class="mi">2</span><span class="p">:</span> <span class="n">lh</span> <span class="n">v195</span><span class="p">,</span><span class="mi">2</span><span class="p">(</span><span class="n">v192</span><span class="p">)</span>
  <span class="n">Inst</span> <span class="mi">3</span><span class="p">:</span> <span class="n">rets</span> <span class="n">v193</span><span class="o">=</span><span class="n">a0</span> <span class="n">v194</span><span class="o">=</span><span class="n">a1</span>
<span class="p">}</span>
</code></pre></div>
</blockquote>



<a name="394812643"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237147%20riscv64%3A%20Suboptimal%20register%20alloc.../near/394812643" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237147.20riscv64.3A.20Suboptimal.20register.20alloc.2E.2E.2E.html#394812643">(Oct 04 2023 at 10:47)</a>:</h4>
<p><a href="https://github.com/afonso360">afonso360</a> added the cranelift:area:riscv64 label to <a href="https://github.com/bytecodealliance/wasmtime/issues/7147">Issue #7147</a>.</p>



<a name="394812645"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237147%20riscv64%3A%20Suboptimal%20register%20alloc.../near/394812645" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237147.20riscv64.3A.20Suboptimal.20register.20alloc.2E.2E.2E.html#394812645">(Oct 04 2023 at 10:47)</a>:</h4>
<p><a href="https://github.com/afonso360">afonso360</a> added the cranelift label to <a href="https://github.com/bytecodealliance/wasmtime/issues/7147">Issue #7147</a>.</p>



<a name="394812711"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237147%20riscv64%3A%20Suboptimal%20register%20alloc.../near/394812711" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237147.20riscv64.3A.20Suboptimal.20register.20alloc.2E.2E.2E.html#394812711">(Oct 04 2023 at 10:47)</a>:</h4>
<p>afonso360 <a href="https://github.com/bytecodealliance/wasmtime/issues/7147#issuecomment-1746621561">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7147">issue #7147</a>:</p>
<blockquote>
<p>I couldn't fit this in the initial issue due to a character limit.</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt; Here's the full trace log during compliation: &lt;/summary&gt;</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">afonso</span><span class="o">@</span><span class="n">DESKTOP</span><span class="o">-</span><span class="mi">1</span><span class="n">AHKMV2</span>:<span class="o">~/</span><span class="n">git</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">cranelift</span><span class="cp">$</span><span class="w"> </span><span class="n">RUST_LOG</span><span class="o">=</span><span class="n">trace</span><span class="w"> </span><span class="n">cargo</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">lmao</span><span class="p">.</span><span class="n">clif</span>
<span class="w">    </span><span class="n">Blocking</span><span class="w"> </span><span class="n">waiting</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">lock</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">directory</span>
<span class="w">    </span><span class="n">Finished</span><span class="w"> </span><span class="n">dev</span><span class="w"> </span><span class="p">[</span><span class="n">unoptimized</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">debuginfo</span><span class="p">]</span><span class="w"> </span><span class="n">target</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">45.38</span><span class="n">s</span>
<span class="w">     </span><span class="n">Running</span><span class="w"> </span><span class="err">`</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">afonso</span><span class="o">/</span><span class="n">git</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">clif</span><span class="o">-</span><span class="n">util</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">lmao</span><span class="p">.</span><span class="n">clif</span><span class="err">`</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="o">&lt;</span><span class="n">no</span><span class="w"> </span><span class="n">pass</span><span class="o">&gt;</span><span class="p">)</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">cranelift_filetests</span>::<span class="n">runone</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">---</span>
<span class="n">File</span>: <span class="p">.</span><span class="o">/</span><span class="n">lmao</span><span class="p">.</span><span class="n">clif</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Parsing</span><span class="w"> </span><span class="n">textual</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">file</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Parsing</span><span class="w"> </span><span class="n">textual</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">file</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">cranelift_filetests</span>::<span class="n">subtest</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Test</span>: <span class="nc">compile</span><span class="p">(</span><span class="o">%</span><span class="n">c_lh</span><span class="p">)</span><span class="w"> </span><span class="n">riscv64</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">file</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">context</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">CLIF</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">optimize</span>: <span class="mi">3</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">context</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">CLIF</span><span class="w"> </span><span class="n">blocks</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">optimize</span>: <span class="mi">1</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">context</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Optimizing</span><span class="w"> </span><span class="p">(</span><span class="n">opt</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="nb">None</span><span class="p">)</span>:
<span class="nc">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
    <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">legalizer</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Pre</span><span class="o">-</span><span class="n">legalization</span><span class="w"> </span><span class="n">function</span>:
<span class="nc">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
    <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">legalizer</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Post</span><span class="o">-</span><span class="n">legalization</span><span class="w"> </span><span class="n">function</span>:
<span class="nc">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
    <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">unreachable</span><span class="w"> </span><span class="n">blocks</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">unreachable</span><span class="w"> </span><span class="n">blocks</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="n">phi</span><span class="o">-</span><span class="n">nodes</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">remove_constant_phis</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">do_remove_constant_phis</span>: <span class="nc">done</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">iters</span><span class="p">.</span><span class="w">   </span><span class="mi">0</span><span class="w"> </span><span class="n">formals</span><span class="p">,</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">const</span><span class="p">.</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="n">phi</span><span class="o">-</span><span class="n">nodes</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">abi</span><span class="w">        </span><span class="o">&gt;</span><span class="w"> </span><span class="n">ABISig</span>: <span class="nc">sig</span><span class="w"> </span><span class="n">Signature</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">params</span>: <span class="p">[</span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I64</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">}],</span><span class="w"> </span><span class="n">returns</span>: <span class="p">[</span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I16</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">},</span><span class="w"> </span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I16</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">}],</span><span class="w"> </span><span class="n">call_conv</span>: <span class="nc">Fast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">rets</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">             </span><span class="n">arg</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">stack_ret_arg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">abi</span><span class="w">        </span><span class="o">&gt;</span><span class="w"> </span><span class="n">ABI</span>: <span class="nc">func</span><span class="w"> </span><span class="n">signature</span><span class="w"> </span><span class="n">Signature</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">params</span>: <span class="p">[</span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I64</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">}],</span><span class="w"> </span><span class="n">returns</span>: <span class="p">[</span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I16</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">},</span><span class="w"> </span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I16</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">}],</span><span class="w"> </span><span class="n">call_conv</span>: <span class="nc">Fast</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">blockorder</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">BlockLoweringOrder</span>: <span class="nc">function</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
    <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">blockorder</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">BlockLoweringOrder</span>: <span class="nc">BlockLoweringOrder</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">lowered_order</span>: <span class="p">[</span>
<span class="w">        </span><span class="n">Orig</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">block</span>: <span class="nc">block0</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="n">lowered_succ_indices</span>: <span class="p">[],</span>
<span class="w">    </span><span class="n">lowered_succ_ranges</span>: <span class="p">[</span>
<span class="w">        </span><span class="p">(</span>
<span class="w">            </span><span class="nb">None</span><span class="p">,</span>
<span class="w">            </span><span class="mi">0</span><span class="o">..</span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="n">cold_blocks</span>: <span class="p">{},</span>
<span class="w">    </span><span class="n">indirect_branch_targets</span>: <span class="p">{},</span>
<span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="n">v0</span>: <span class="nc">regs</span><span class="w"> </span><span class="n">ValueRegs</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">parts</span>: <span class="p">[</span><span class="n">v192</span><span class="p">,</span><span class="w"> </span><span class="n">v2097151</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst0</span><span class="w"> </span><span class="p">(</span><span class="n">Load</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">opcode</span>: <span class="nc">Load</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span>: <span class="nc">v0</span><span class="p">,</span><span class="w"> </span><span class="n">flags</span>: <span class="nc">MemFlags</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">bits</span>: <span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">offset</span>: <span class="nc">Offset32</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">})</span>: <span class="nc">result</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="n">regs</span><span class="w"> </span><span class="n">ValueRegs</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">parts</span>: <span class="p">[</span><span class="n">v193</span><span class="p">,</span><span class="w"> </span><span class="n">v2097151</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst1</span><span class="w"> </span><span class="p">(</span><span class="n">Load</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">opcode</span>: <span class="nc">Load</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span>: <span class="nc">v0</span><span class="p">,</span><span class="w"> </span><span class="n">flags</span>: <span class="nc">MemFlags</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">bits</span>: <span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">offset</span>: <span class="nc">Offset32</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">})</span>: <span class="nc">result</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="n">regs</span><span class="w"> </span><span class="n">ValueRegs</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">parts</span>: <span class="p">[</span><span class="n">v194</span><span class="p">,</span><span class="w"> </span><span class="n">v2097151</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst0</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="mi">1</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w">  </span>-&gt; <span class="nc">side</span><span class="o">-</span><span class="n">effecting</span><span class="p">;</span><span class="w"> </span><span class="n">incrementing</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">inst</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst1</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="mi">2</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w">  </span>-&gt; <span class="nc">side</span><span class="o">-</span><span class="n">effecting</span><span class="p">;</span><span class="w"> </span><span class="n">incrementing</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">inst</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst2</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="mi">3</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w">  </span>-&gt; <span class="nc">side</span><span class="o">-</span><span class="n">effecting</span><span class="p">;</span><span class="w"> </span><span class="n">incrementing</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">inst</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">Unused</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Once</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">Once</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Multiple</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w">  </span>-&gt; <span class="nc">pushing</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="n">onto</span><span class="w"> </span><span class="n">stack</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">Unused</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Once</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">Unused</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Once</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">compile</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">CLIF</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">lower</span>: <span class="mi">3</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">compile</span>
<span class="p">[</span><span class="n">message</span><span class="w"> </span><span class="n">truncated</span><span class="p">]</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="394813455"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237147%20riscv64%3A%20Suboptimal%20register%20alloc.../near/394813455" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237147.20riscv64.3A.20Suboptimal.20register.20alloc.2E.2E.2E.html#394813455">(Oct 04 2023 at 10:52)</a>:</h4>
<p><a href="https://github.com/afonso360">afonso360</a> added the cranelift:area:regalloc label to <a href="https://github.com/bytecodealliance/wasmtime/issues/7147">Issue #7147</a>.</p>



<a name="394875558"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237147%20riscv64%3A%20Suboptimal%20register%20alloc.../near/394875558" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237147.20riscv64.3A.20Suboptimal.20register.20alloc.2E.2E.2E.html#394875558">(Oct 04 2023 at 16:20)</a>:</h4>
<p>afonso360 <a href="https://github.com/bytecodealliance/wasmtime/issues/7147#issuecomment-1747240996">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7147">issue #7147</a>:</p>
<blockquote>
<p>Updated locally to the latest regalloc2 (<a href="https://github.com/bytecodealliance/regalloc2/commit/7d90ca9396832ee9efe56180e1b27ca5f7072d8e">7d90ca9</a>) and it still produces the same output.</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt; Trace log &lt;/summary&gt;</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">     </span><span class="n">Running</span><span class="w"> </span><span class="err">`</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">afonso</span><span class="o">/</span><span class="n">git</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">clif</span><span class="o">-</span><span class="n">util</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">lmao</span><span class="p">.</span><span class="n">clif</span><span class="err">`</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="o">&lt;</span><span class="n">no</span><span class="w"> </span><span class="n">pass</span><span class="o">&gt;</span><span class="p">)</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">cranelift_filetests</span>::<span class="n">runone</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">---</span>
<span class="n">File</span>: <span class="p">.</span><span class="o">/</span><span class="n">lmao</span><span class="p">.</span><span class="n">clif</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Parsing</span><span class="w"> </span><span class="n">textual</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">file</span><span class="p">)</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Parsing</span><span class="w"> </span><span class="n">textual</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">2</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">file</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">cranelift_filetests</span>::<span class="n">subtest</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Test</span>: <span class="nc">compile</span><span class="p">(</span><span class="o">%</span><span class="n">c_lh</span><span class="p">)</span><span class="w"> </span><span class="n">riscv64</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">file</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">context</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">CLIF</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">optimize</span>: <span class="mi">3</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">context</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">CLIF</span><span class="w"> </span><span class="n">blocks</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">optimize</span>: <span class="mi">1</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">context</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Optimizing</span><span class="w"> </span><span class="p">(</span><span class="n">opt</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="nb">None</span><span class="p">)</span>:
<span class="nc">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
    <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">legalizer</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Pre</span><span class="o">-</span><span class="n">legalization</span><span class="w"> </span><span class="n">function</span>:
<span class="nc">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
    <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">legalizer</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Post</span><span class="o">-</span><span class="n">legalization</span><span class="w"> </span><span class="n">function</span>:
<span class="nc">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
    <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">unreachable</span><span class="w"> </span><span class="n">blocks</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">unreachable</span><span class="w"> </span><span class="n">blocks</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="n">phi</span><span class="o">-</span><span class="n">nodes</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">remove_constant_phis</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">do_remove_constant_phis</span>: <span class="nc">done</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">iters</span><span class="p">.</span><span class="w">   </span><span class="mi">0</span><span class="w"> </span><span class="n">formals</span><span class="p">,</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">const</span><span class="p">.</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="n">phi</span><span class="o">-</span><span class="n">nodes</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">abi</span><span class="w">        </span><span class="o">&gt;</span><span class="w"> </span><span class="n">ABISig</span>: <span class="nc">sig</span><span class="w"> </span><span class="n">Signature</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">params</span>: <span class="p">[</span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I64</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">}],</span><span class="w"> </span><span class="n">returns</span>: <span class="p">[</span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I16</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">},</span><span class="w"> </span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I16</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">}],</span><span class="w"> </span><span class="n">call_conv</span>: <span class="nc">Fast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">rets</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">             </span><span class="n">arg</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">stack_ret_arg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">abi</span><span class="w">        </span><span class="o">&gt;</span><span class="w"> </span><span class="n">ABI</span>: <span class="nc">func</span><span class="w"> </span><span class="n">signature</span><span class="w"> </span><span class="n">Signature</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">params</span>: <span class="p">[</span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I64</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">}],</span><span class="w"> </span><span class="n">returns</span>: <span class="p">[</span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I16</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">},</span><span class="w"> </span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I16</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">}],</span><span class="w"> </span><span class="n">call_conv</span>: <span class="nc">Fast</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">blockorder</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">BlockLoweringOrder</span>: <span class="nc">function</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
    <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">blockorder</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">BlockLoweringOrder</span>: <span class="nc">BlockLoweringOrder</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">lowered_order</span>: <span class="p">[</span>
<span class="w">        </span><span class="n">Orig</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">block</span>: <span class="nc">block0</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="n">lowered_succ_indices</span>: <span class="p">[],</span>
<span class="w">    </span><span class="n">lowered_succ_ranges</span>: <span class="p">[</span>
<span class="w">        </span><span class="p">(</span>
<span class="w">            </span><span class="nb">None</span><span class="p">,</span>
<span class="w">            </span><span class="mi">0</span><span class="o">..</span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="n">cold_blocks</span>: <span class="p">{},</span>
<span class="w">    </span><span class="n">indirect_branch_targets</span>: <span class="p">{},</span>
<span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="n">v0</span>: <span class="nc">regs</span><span class="w"> </span><span class="n">ValueRegs</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">parts</span>: <span class="p">[</span><span class="n">v192</span><span class="p">,</span><span class="w"> </span><span class="n">v2097151</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst0</span><span class="w"> </span><span class="p">(</span><span class="n">Load</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">opcode</span>: <span class="nc">Load</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span>: <span class="nc">v0</span><span class="p">,</span><span class="w"> </span><span class="n">flags</span>: <span class="nc">MemFlags</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">bits</span>: <span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">offset</span>: <span class="nc">Offset32</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">})</span>: <span class="nc">result</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="n">regs</span><span class="w"> </span><span class="n">ValueRegs</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">parts</span>: <span class="p">[</span><span class="n">v193</span><span class="p">,</span><span class="w"> </span><span class="n">v2097151</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst1</span><span class="w"> </span><span class="p">(</span><span class="n">Load</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">opcode</span>: <span class="nc">Load</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span>: <span class="nc">v0</span><span class="p">,</span><span class="w"> </span><span class="n">flags</span>: <span class="nc">MemFlags</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">bits</span>: <span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">offset</span>: <span class="nc">Offset32</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">})</span>: <span class="nc">result</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="n">regs</span><span class="w"> </span><span class="n">ValueRegs</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">parts</span>: <span class="p">[</span><span class="n">v194</span><span class="p">,</span><span class="w"> </span><span class="n">v2097151</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst0</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="mi">1</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w">  </span>-&gt; <span class="nc">side</span><span class="o">-</span><span class="n">effecting</span><span class="p">;</span><span class="w"> </span><span class="n">incrementing</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">inst</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst1</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="mi">2</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w">  </span>-&gt; <span class="nc">side</span><span class="o">-</span><span class="n">effecting</span><span class="p">;</span><span class="w"> </span><span class="n">incrementing</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">inst</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst2</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="mi">3</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w">  </span>-&gt; <span class="nc">side</span><span class="o">-</span><span class="n">effecting</span><span class="p">;</span><span class="w"> </span><span class="n">incrementing</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">inst</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">Unused</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Once</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">Once</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Multiple</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w">  </span>-&gt; <span class="nc">pushing</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="n">onto</span><span class="w"> </span><span class="n">stack</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">Unused</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Once</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">Unused</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Once</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">compile</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">CLIF</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">lower</span>: <span class="mi">3</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">compile</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">CLIF</span><span class="w"> </span><span class="n">blocks</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">lower</span>: <span class="mi">1</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">lowering</span><span class="p">,</span><span class="w"> </span><span class="p">(</span>
<span class="p">[</span><span class="n">message</span><span class="w"> </span><span class="n">truncated</span><span class="p">]</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="394875581"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237147%20riscv64%3A%20Suboptimal%20register%20alloc.../near/394875581" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237147.20riscv64.3A.20Suboptimal.20register.20alloc.2E.2E.2E.html#394875581">(Oct 04 2023 at 16:20)</a>:</h4>
<p>afonso360 edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/7147#issuecomment-1747240996">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7147">issue #7147</a>:</p>
<blockquote>
<p>Tested locally with the latest regalloc2 (<a href="https://github.com/bytecodealliance/regalloc2/commit/7d90ca9396832ee9efe56180e1b27ca5f7072d8e">7d90ca9</a>) and it still produces the same output.</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt; Trace log &lt;/summary&gt;</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">     </span><span class="n">Running</span><span class="w"> </span><span class="err">`</span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">afonso</span><span class="o">/</span><span class="n">git</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">clif</span><span class="o">-</span><span class="n">util</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">lmao</span><span class="p">.</span><span class="n">clif</span><span class="err">`</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="o">&lt;</span><span class="n">no</span><span class="w"> </span><span class="n">pass</span><span class="o">&gt;</span><span class="p">)</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">cranelift_filetests</span>::<span class="n">runone</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="o">---</span>
<span class="n">File</span>: <span class="p">.</span><span class="o">/</span><span class="n">lmao</span><span class="p">.</span><span class="n">clif</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Parsing</span><span class="w"> </span><span class="n">textual</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">file</span><span class="p">)</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">file_per_thread_logger</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">logging</span><span class="p">;</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="n">prefix</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">cranelift</span><span class="p">.</span><span class="n">dbg</span><span class="p">.</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Parsing</span><span class="w"> </span><span class="n">textual</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">2</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">file</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">INFO</span><span class="w">  </span><span class="n">cranelift_filetests</span>::<span class="n">subtest</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Test</span>: <span class="nc">compile</span><span class="p">(</span><span class="o">%</span><span class="n">c_lh</span><span class="p">)</span><span class="w"> </span><span class="n">riscv64</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Processing</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">file</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">context</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">CLIF</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">optimize</span>: <span class="mi">3</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">context</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">CLIF</span><span class="w"> </span><span class="n">blocks</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">optimize</span>: <span class="mi">1</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">context</span><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Optimizing</span><span class="w"> </span><span class="p">(</span><span class="n">opt</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="nb">None</span><span class="p">)</span>:
<span class="nc">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
    <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">legalizer</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Pre</span><span class="o">-</span><span class="n">legalization</span><span class="w"> </span><span class="n">function</span>:
<span class="nc">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
    <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">legalizer</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Post</span><span class="o">-</span><span class="n">legalization</span><span class="w"> </span><span class="n">function</span>:
<span class="nc">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
    <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">unreachable</span><span class="w"> </span><span class="n">blocks</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">unreachable</span><span class="w"> </span><span class="n">blocks</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="n">phi</span><span class="o">-</span><span class="n">nodes</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">remove_constant_phis</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">do_remove_constant_phis</span>: <span class="nc">done</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">iters</span><span class="p">.</span><span class="w">   </span><span class="mi">0</span><span class="w"> </span><span class="n">formals</span><span class="p">,</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">which</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="k">const</span><span class="p">.</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Remove</span><span class="w"> </span><span class="n">constant</span><span class="w"> </span><span class="n">phi</span><span class="o">-</span><span class="n">nodes</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Compilation</span><span class="w"> </span><span class="n">passes</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Control</span><span class="w"> </span><span class="n">flow</span><span class="w"> </span><span class="n">graph</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">during</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span><span class="p">)</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Dominator</span><span class="w"> </span><span class="n">tree</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Ending</span><span class="w"> </span><span class="n">Verify</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">IR</span>: <span class="mi">0</span><span class="n">ms</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">abi</span><span class="w">        </span><span class="o">&gt;</span><span class="w"> </span><span class="n">ABISig</span>: <span class="nc">sig</span><span class="w"> </span><span class="n">Signature</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">params</span>: <span class="p">[</span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I64</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">}],</span><span class="w"> </span><span class="n">returns</span>: <span class="p">[</span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I16</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">},</span><span class="w"> </span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I16</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">}],</span><span class="w"> </span><span class="n">call_conv</span>: <span class="nc">Fast</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">rets</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
<span class="w">             </span><span class="n">arg</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="n">stack_ret_arg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">abi</span><span class="w">        </span><span class="o">&gt;</span><span class="w"> </span><span class="n">ABI</span>: <span class="nc">func</span><span class="w"> </span><span class="n">signature</span><span class="w"> </span><span class="n">Signature</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">params</span>: <span class="p">[</span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I64</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">}],</span><span class="w"> </span><span class="n">returns</span>: <span class="p">[</span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I16</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">},</span><span class="w"> </span><span class="n">AbiParam</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">value_type</span>: <span class="nc">types</span>::<span class="n">I16</span><span class="p">,</span><span class="w"> </span><span class="n">purpose</span>: <span class="nc">Normal</span><span class="p">,</span><span class="w"> </span><span class="n">extension</span>: <span class="nb">None</span> <span class="p">}],</span><span class="w"> </span><span class="n">call_conv</span>: <span class="nc">Fast</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">blockorder</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">BlockLoweringOrder</span>: <span class="nc">function</span><span class="w"> </span><span class="n">body</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="o">%</span><span class="n">c_lh</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="n">fast</span><span class="w"> </span><span class="p">{</span>
<span class="n">block0</span><span class="p">(</span><span class="n">v0</span>: <span class="kt">i64</span><span class="p">)</span>:
    <span class="nc">v1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span>
<span class="w">    </span><span class="n">v2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">load</span><span class="p">.</span><span class="kt">i16</span><span class="w"> </span><span class="n">v0</span><span class="o">+</span><span class="mi">2</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">v1</span><span class="p">,</span><span class="w"> </span><span class="n">v2</span>
<span class="p">}</span>

<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">blockorder</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">BlockLoweringOrder</span>: <span class="nc">BlockLoweringOrder</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">lowered_order</span>: <span class="p">[</span>
<span class="w">        </span><span class="n">Orig</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">block</span>: <span class="nc">block0</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="n">lowered_succ_indices</span>: <span class="p">[],</span>
<span class="w">    </span><span class="n">lowered_succ_ranges</span>: <span class="p">[</span>
<span class="w">        </span><span class="p">(</span>
<span class="w">            </span><span class="nb">None</span><span class="p">,</span>
<span class="w">            </span><span class="mi">0</span><span class="o">..</span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="p">),</span>
<span class="w">    </span><span class="p">],</span>
<span class="w">    </span><span class="n">cold_blocks</span>: <span class="p">{},</span>
<span class="w">    </span><span class="n">indirect_branch_targets</span>: <span class="p">{},</span>
<span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="n">v0</span>: <span class="nc">regs</span><span class="w"> </span><span class="n">ValueRegs</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">parts</span>: <span class="p">[</span><span class="n">v192</span><span class="p">,</span><span class="w"> </span><span class="n">v2097151</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst0</span><span class="w"> </span><span class="p">(</span><span class="n">Load</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">opcode</span>: <span class="nc">Load</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span>: <span class="nc">v0</span><span class="p">,</span><span class="w"> </span><span class="n">flags</span>: <span class="nc">MemFlags</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">bits</span>: <span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">offset</span>: <span class="nc">Offset32</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">})</span>: <span class="nc">result</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="n">regs</span><span class="w"> </span><span class="n">ValueRegs</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">parts</span>: <span class="p">[</span><span class="n">v193</span><span class="p">,</span><span class="w"> </span><span class="n">v2097151</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst1</span><span class="w"> </span><span class="p">(</span><span class="n">Load</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">opcode</span>: <span class="nc">Load</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span>: <span class="nc">v0</span><span class="p">,</span><span class="w"> </span><span class="n">flags</span>: <span class="nc">MemFlags</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">bits</span>: <span class="mi">0</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="n">offset</span>: <span class="nc">Offset32</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="p">})</span>: <span class="nc">result</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="n">regs</span><span class="w"> </span><span class="n">ValueRegs</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">parts</span>: <span class="p">[</span><span class="n">v194</span><span class="p">,</span><span class="w"> </span><span class="n">v2097151</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst0</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="mi">1</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w">  </span>-&gt; <span class="nc">side</span><span class="o">-</span><span class="n">effecting</span><span class="p">;</span><span class="w"> </span><span class="n">incrementing</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">inst</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst1</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="mi">2</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w">  </span>-&gt; <span class="nc">side</span><span class="o">-</span><span class="n">effecting</span><span class="p">;</span><span class="w"> </span><span class="n">incrementing</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">inst</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bb</span><span class="w"> </span><span class="n">block0</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="n">inst2</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="mi">3</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w">  </span>-&gt; <span class="nc">side</span><span class="o">-</span><span class="n">effecting</span><span class="p">;</span><span class="w"> </span><span class="n">incrementing</span><span class="w"> </span><span class="n">color</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">next</span><span class="w"> </span><span class="n">inst</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">Unused</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Once</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">Once</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Multiple</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w">  </span>-&gt; <span class="nc">pushing</span><span class="w"> </span><span class="n">args</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">v0</span><span class="w"> </span><span class="n">onto</span><span class="w"> </span><span class="n">stack</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="n">v1</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">Unused</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Once</span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">lower</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">arg</span><span class="w"> </span><span class="n">v2</span><span class="w"> </span><span class="n">used</span><span class="p">,</span><span class="w"> </span><span class="n">old</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="n">Unused</span><span class="p">,</span><span class="w"> </span><span class="n">new</span><span class="w"> </span><span class="n">Once</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">compile</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">CLIF</span><span class="w"> </span><span class="n">instructions</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">lower</span>: <span class="mi">3</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">machinst</span>::<span class="n">compile</span><span class="w">    </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">CLIF</span><span class="w"> </span><span class="n">blocks</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">lower</span>: <span class="mi">1</span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">cranelift_codegen</span>::<span class="n">timing</span><span class="w">               </span><span class="o">&gt;</span><span class="w"> </span><span class="n">timing</span>: <span class="nc">Starting</span><span class="w"> </span><span class="n">VCode</span><span class="w"> </span><span class="n">low</span>
<span class="p">[</span><span class="n">message</span><span class="w"> </span><span class="n">truncated</span><span class="p">]</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="394920519"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237147%20riscv64%3A%20Suboptimal%20register%20alloc.../near/394920519" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237147.20riscv64.3A.20Suboptimal.20register.20alloc.2E.2E.2E.html#394920519">(Oct 04 2023 at 21:42)</a>:</h4>
<p>elliottt <a href="https://github.com/bytecodealliance/wasmtime/issues/7147#issuecomment-1747683856">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7147">issue #7147</a>:</p>
<blockquote>
<p>@cfallin and I looked through this, and it looks like the problem is the current splitting heuristic in RA2: it's splitting at the location of the first conflict, which happens to be that first load, rather than at the point where a fixed constraint exists (the return instruction). Splitting early means that we get an allocation of a3 somewhat arbitrarily to v1, however the other half of the split which contains the second load and the return now also conflicts with the ultimate requirement for v1 to be in a0, thus a second split is introduced after the second load. That second split introduces the allocation of v1 to a4, which is why we see the move from a3 to a4 between the first two loads, and ultimately the move from a4 to a0 to satisfy the abi.</p>
<p>One possible solution here would be to augment the split point heuristic to look at the region after the conflict and move the split point to right before the first fixed use, which would in cases like this ensure that we weren't setting ourselves up for additional splits that would require additional moves.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>