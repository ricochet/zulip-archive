<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #1135 Verify immediate and value types a... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231135.20Verify.20immediate.20and.20value.20types.20a.2E.2E.2E.html">wasmtime / Issue #1135 Verify immediate and value types a...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="225057851"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231135%20Verify%20immediate%20and%20value%20types%20a.../near/225057851" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231135.20Verify.20immediate.20and.20value.20types.20a.2E.2E.2E.html#225057851">(Feb 03 2021 at 18:21)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/1135#issuecomment-772719518">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1135">Issue #1135</a>:</p>
<blockquote>
<p>The new backend framework doesn't use legalizations as much as the old backend framework anymore.</p>
</blockquote>



<a name="225059059"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231135%20Verify%20immediate%20and%20value%20types%20a.../near/225059059" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231135.20Verify.20immediate.20and.20value.20types.20a.2E.2E.2E.html#225059059">(Feb 03 2021 at 18:29)</a>:</h4>
<p>abrown closed <a href="https://github.com/bytecodealliance/wasmtime/issues/1135">Issue #1135</a>:</p>
<blockquote>
<p>In <a href="https://github.com/bytecodealliance/cranelift/issues/1012">bytecodealliance/cranelift#1012</a> I noticed that that when we bind a type or immediate to an instruction (e.g. <code>.bind(I32)</code>), we don't verify that they are valid. I believe this happens at some later time but it would be more comprehensible to the user if the error was thrown closer to where they wrote the <code>bind</code> code. </p>
<p>Secondly, I did not see that the order of value types and immediates is checked, so the <code>bind</code> calls could be mixed in some nonsensical order (to the user) that ends up working correctly during codegen. This could be fixed by storing all of the bound parameters together in a single vector instead of separate vectors for value types and immediates.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>