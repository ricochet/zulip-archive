<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6637 handle interface functions correct... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236637.20handle.20interface.20functions.20correct.2E.2E.2E.html">wasmtime / issue #6637 handle interface functions correct...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="369036635"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236637%20handle%20interface%20functions%20correct.../near/369036635" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236637.20handle.20interface.20functions.20correct.2E.2E.2E.html#369036635">(Jun 23 2023 at 22:45)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/6637#issuecomment-1605076351">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6637">issue #6637</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @peterhuene</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "wasmtime:api"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>peterhuene: wasmtime:api</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="369053583"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236637%20handle%20interface%20functions%20correct.../near/369053583" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236637.20handle.20interface.20functions.20correct.2E.2E.2E.html#369053583">(Jun 24 2023 at 01:08)</a>:</h4>
<p>dicej <a href="https://github.com/bytecodealliance/wasmtime/pull/6637#issuecomment-1605208327">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6637">issue #6637</a>:</p>
<blockquote>
<blockquote>
<p>Seems reasonable to me +1</p>
<p>I'd be slightly averse though to a custom <code>Rc</code>-based linked list, so I'd lean more towards something <code>Vec</code> like such as this (feel free to take it or leave it though)</p>
</blockquote>
<p>Sounds reasonable.  I went for the linked list because I assumed there could be more than one sibling <code>LinkerInstance</code> alive at a a given moment and thus couldn't share the same <code>Vec</code>.  But now I see that's not possible since it would create aliasing <code>&amp;mut</code>s.</p>
</blockquote>



<a name="369063019"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236637%20handle%20interface%20functions%20correct.../near/369063019" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236637.20handle.20interface.20functions.20correct.2E.2E.2E.html#369063019">(Jun 24 2023 at 02:35)</a>:</h4>
<p>dicej <a href="https://github.com/bytecodealliance/wasmtime/pull/6637#issuecomment-1605239264">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6637">issue #6637</a>:</p>
<blockquote>
<p>I like @jameysharp's proposal, but Alex's won because it came with a patch :)</p>
</blockquote>



<a name="369725265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236637%20handle%20interface%20functions%20correct.../near/369725265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236637.20handle.20interface.20functions.20correct.2E.2E.2E.html#369725265">(Jun 26 2023 at 14:30)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6637#issuecomment-1607613937">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6637">issue #6637</a>:</p>
<blockquote>
<p>Oh dear I apologize, I saw comments from Jamey and updates from Joel afterwards and I naively didn't actually read the comments and just assumed that the updates handled them! After reading Jamey's comments in more detail I would agree with his suggestion and I think that'd be an excellent refactoring to have. I poked at it for a moment but it was going to get somewhat nontrivial with the <code>matching</code> implementation where the list-of-instances needs to be passed around as context. Nothing insurmountable of course but it might be a bit of a nontrivial refactoring.</p>
<p>I do think though that we won't be able to go to the constant-time implementation of this though because given the current API we always need to walk the path to the current instance in the provided <code>&amp;Component</code> to figure out the type.</p>
<p>@jameysharp how would you feel about deferring your suggestion to an issue? (and/or how do you feel about the current state of the PR as well)</p>
</blockquote>



<a name="372653119"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236637%20handle%20interface%20functions%20correct.../near/372653119" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236637.20handle.20interface.20functions.20correct.2E.2E.2E.html#372653119">(Jul 05 2023 at 16:35)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/pull/6637#issuecomment-1622110986">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6637">issue #6637</a>:</p>
<blockquote>
<p>I'm happy to defer to your judgement, both of you. I think this isn't performance-critical, right? So making it correct is the only important thing right now, and my impression is that this PR does that as-is.</p>
</blockquote>



<a name="372727678"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236637%20handle%20interface%20functions%20correct.../near/372727678" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236637.20handle.20interface.20functions.20correct.2E.2E.2E.html#372727678">(Jul 05 2023 at 22:54)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6637#issuecomment-1622642656">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6637">issue #6637</a>:</p>
<blockquote>
<p>Ok sounds good <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span>. This isn't performance critical yeah so I'll merge this for now and we can follow-up later as necessary</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>