<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8486 cranelift: Update operand aliases in-... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238486.20cranelift.3A.20Update.20operand.20aliases.20in-.2E.2E.2E.html">wasmtime / PR #8486 cranelift: Update operand aliases in-...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="435518301"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238486%20cranelift%3A%20Update%20operand%20aliases%20in-.../near/435518301" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238486.20cranelift.3A.20Update.20operand.20aliases.20in-.2E.2E.2E.html#435518301">(Apr 26 2024 at 05:41)</a>:</h4>
<p>jameysharp opened <a href="https://github.com/bytecodealliance/wasmtime/pull/8486">PR #8486</a> from <code>jameysharp:operand-collector-by-ref</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>Now all registers passed to the operand collector are mutably borrowed directly out of their original locations in the Inst, so it is possible to update them in place.</p>
<p>As an initial demonstration of the utility of this change, the results of the VReg renamer are applied directly to the instructions during operand collection, and then all VReg aliases are cleared after operand collection.</p>
<p>Most of this commit consists of deleting noise from the many <code>get_operands</code> implementations in all the backends: most ampersands and asterisks, and all uses of the <code>ref</code> keyword.</p>
</blockquote>



<a name="435518303"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238486%20cranelift%3A%20Update%20operand%20aliases%20in-.../near/435518303" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238486.20cranelift.3A.20Update.20operand.20aliases.20in-.2E.2E.2E.html#435518303">(Apr 26 2024 at 05:41)</a>:</h4>
<p><strong>jameysharp</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8486">PR #8486</a>.</p>



<a name="435518304"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238486%20cranelift%3A%20Update%20operand%20aliases%20in-.../near/435518304" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238486.20cranelift.3A.20Update.20operand.20aliases.20in-.2E.2E.2E.html#435518304">(Apr 26 2024 at 05:41)</a>:</h4>
<p><strong>jameysharp</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8486">PR #8486</a>.</p>



<a name="435621289"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238486%20cranelift%3A%20Update%20operand%20aliases%20in-.../near/435621289" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238486.20cranelift.3A.20Update.20operand.20aliases.20in-.2E.2E.2E.html#435621289">(Apr 26 2024 at 16:33)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8486#pullrequestreview-2025442474">PR review</a>:</p>
<blockquote>
<p>Very nice!</p>
</blockquote>



<a name="435625638"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238486%20cranelift%3A%20Update%20operand%20aliases%20in-.../near/435625638" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238486.20cranelift.3A.20Update.20operand.20aliases.20in-.2E.2E.2E.html#435625638">(Apr 26 2024 at 16:56)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8486">PR #8486</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>