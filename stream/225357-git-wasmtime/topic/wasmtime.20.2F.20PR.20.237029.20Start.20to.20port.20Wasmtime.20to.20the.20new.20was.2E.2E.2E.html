<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7029 Start to port Wasmtime to the new was... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html">wasmtime / PR #7029 Start to port Wasmtime to the new was...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="390615968"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/390615968" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#390615968">(Sep 12 2023 at 23:56)</a>:</h4>
<p>sunfishcode opened <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a> from <code>sunfishcode:resources</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This imports the new APIs posted in <a href="https://github.com/WebAssembly/wasi-io/issues/46">WebAssembly/wasi-io#46</a>.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="390616110"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/390616110" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#390616110">(Sep 12 2023 at 23:57)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="390621411"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/390621411" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#390621411">(Sep 13 2023 at 00:49)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="390808115"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/390808115" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#390808115">(Sep 13 2023 at 21:51)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391025186"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391025186" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391025186">(Sep 14 2023 at 22:08)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391038754"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391038754" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391038754">(Sep 15 2023 at 00:23)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391040130"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391040130" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391040130">(Sep 15 2023 at 00:32)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391233607"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391233607" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391233607">(Sep 15 2023 at 18:07)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391241669"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391241669" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391241669">(Sep 15 2023 at 18:48)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1629513666">PR review</a>.</p>



<a name="391241670"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391241670" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391241670">(Sep 15 2023 at 18:48)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1629513666">PR review</a>.</p>



<a name="391241671"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391241671" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391241671">(Sep 15 2023 at 18:48)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1327648916">PR review comment</a>:</p>
<blockquote>
<p>This is I believe going to return an error at runtime because borrows can't be returned, they can only be taken.</p>
<p>Two ways I can think of to handle this are:</p>
<ul>
<li>Don't store preopens as <code>Resource&lt;Descriptor&gt;</code>. Instead insert them into the table every time <code>get-directories</code> is called.</li>
<li>Alternatively on <code>HostDescriptor::drop</code> don't actually delete preopens from the table. This will "leak" them in the table but that's ok since it's a static set that doesn't grow.</li>
</ul>
</blockquote>



<a name="391241673"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391241673" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391241673">(Sep 15 2023 at 18:48)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1327664125">PR review comment</a>:</p>
<blockquote>
<p>I think this can all be skipped in favor fo <code>closure_future.await</code>?</p>
<p><code>poll-list</code> is a bit funky since there's more than one future, but here there's just one so I think it should be ok to do a normal <code>.await</code></p>
</blockquote>



<a name="391241674"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391241674" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391241674">(Sep 15 2023 at 18:48)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1327653086">PR review comment</a>:</p>
<blockquote>
<p>Bah this is unfortunate (as are all the other instances of this in this file). If I understand this correctly, this is because the bindings generated. have two distinct <code>Descriptor</code> types meaning that they're not compatible?</p>
<p>If so I can try to add a feature to <code>bindgen!</code> so resources can be specified as opposed to always-generated</p>
</blockquote>



<a name="391249623"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391249623" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391249623">(Sep 15 2023 at 19:38)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391258288"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391258288" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391258288">(Sep 15 2023 at 20:33)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1629692545">PR review</a>.</p>



<a name="391258291"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391258291" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391258291">(Sep 15 2023 at 20:33)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1327764544">PR review comment</a>:</p>
<blockquote>
<p>Yes, exactly. All the <code>sync</code> adapter code has to jump through these hoops for that reason.</p>
</blockquote>



<a name="391259594"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391259594" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391259594">(Sep 15 2023 at 20:38)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391259617"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391259617" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391259617">(Sep 15 2023 at 20:38)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1629698254">PR review</a>.</p>



<a name="391259618"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391259618" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391259618">(Sep 15 2023 at 20:38)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1327768560">PR review comment</a>:</p>
<blockquote>
<p>Done.</p>
</blockquote>



<a name="391259661"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391259661" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391259661">(Sep 15 2023 at 20:39)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1629698834">PR review</a>.</p>



<a name="391259662"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391259662" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391259662">(Sep 15 2023 at 20:39)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1327768945">PR review comment</a>:</p>
<blockquote>
<p>I made it insert them into the table every tine <code>get-directories</code> is called.</p>
</blockquote>



<a name="391259875"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391259875" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391259875">(Sep 15 2023 at 20:40)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391259937"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391259937" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391259937">(Sep 15 2023 at 20:41)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391716590"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391716590" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391716590">(Sep 18 2023 at 14:47)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391774578"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391774578" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391774578">(Sep 18 2023 at 21:01)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1631944324">PR review</a>.</p>



<a name="391774579"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391774579" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391774579">(Sep 18 2023 at 21:01)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1631944324">PR review</a>.</p>



<a name="391774580"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391774580" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391774580">(Sep 18 2023 at 21:01)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1329265157">PR review comment</a>:</p>
<blockquote>
<p>Could this perhaps use <a href="https://doc.rust-lang.org/stable/std/cell/struct.OnceCell.html"><code>OnceCell</code></a>?</p>
</blockquote>



<a name="391774581"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391774581" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391774581">(Sep 18 2023 at 21:01)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1329273261">PR review comment</a>:</p>
<blockquote>
<p>Would you be ok splitting this to a separate PR?</p>
</blockquote>



<a name="391774582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391774582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391774582">(Sep 18 2023 at 21:01)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1329267399">PR review comment</a>:</p>
<blockquote>
<p>Could <code>.as_ref().trapping_unwrap()</code> be used instead? (or was it common enough you felt this was nicer?)</p>
</blockquote>



<a name="391774583"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391774583" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391774583">(Sep 18 2023 at 21:01)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1329269354">PR review comment</a>:</p>
<blockquote>
<p>While this works and there's nothing wrong with it, if you're curious this is what <a href="https://doc.rust-lang.org/stable/std/ptr/fn.drop_in_place.html"><code>drop_in_place</code></a> is for</p>
</blockquote>



<a name="391774584"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391774584" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391774584">(Sep 18 2023 at 21:01)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1329270826">PR review comment</a>:</p>
<blockquote>
<p>If possible we'll definitely want to avoid bringing this back. Was this required though because of the bindings generated? </p>
</blockquote>



<a name="391774585"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391774585" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391774585">(Sep 18 2023 at 21:01)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1329271534">PR review comment</a>:</p>
<blockquote>
<p>If possible I'd prefer to avoid the usage of <code>UnsafeCell</code> here since otherwise it's very easy to trip into corruption by accident. If <code>with_mut</code> stays gone though then the <code>RefCell</code> layer I think can be removed entirely since it's always returning <code>&amp;T</code></p>
</blockquote>



<a name="391776761"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391776761" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391776761">(Sep 18 2023 at 21:18)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391778834"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391778834" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391778834">(Sep 18 2023 at 21:35)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391780293"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391780293" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391780293">(Sep 18 2023 at 21:49)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391780722"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391780722" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391780722">(Sep 18 2023 at 21:53)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1632036315">PR review</a>.</p>



<a name="391780723"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391780723" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391780723">(Sep 18 2023 at 21:53)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1329320639">PR review comment</a>:</p>
<blockquote>
<p>I tried that, but <code>OnceCell</code> pulls in Rust error handling which breaks the adapter build.</p>
</blockquote>



<a name="391784119"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391784119" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391784119">(Sep 18 2023 at 22:19)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1632065864">PR review</a>.</p>



<a name="391784120"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391784120" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391784120">(Sep 18 2023 at 22:19)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1329336376">PR review comment</a>:</p>
<blockquote>
<p>Oh, good idea.</p>
</blockquote>



<a name="391784672"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391784672" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391784672">(Sep 18 2023 at 22:22)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391785554"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391785554" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391785554">(Sep 18 2023 at 22:29)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1632073619">PR review</a>.</p>



<a name="391785555"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391785555" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391785555">(Sep 18 2023 at 22:29)</a>:</h4>
<p>pchickey created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1329346357">PR review comment</a>:</p>
<blockquote>
<p>I had gotten rid of State::with_mut in <a href="https://github.com/bytecodealliance/wasmtime/pull/6973">https://github.com/bytecodealliance/wasmtime/pull/6973</a>, is there a reason this PR brought it back that I haven't spotted, or is this just a git history artifact?</p>
</blockquote>



<a name="391785712"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391785712" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391785712">(Sep 18 2023 at 22:30)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="391786248"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391786248" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391786248">(Sep 18 2023 at 22:34)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1632077468">PR review</a>.</p>



<a name="391786249"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391786249" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391786249">(Sep 18 2023 at 22:34)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1329349080">PR review comment</a>:</p>
<blockquote>
<p>I've now removed the <code>with_mut</code> and this outer <code>UnsafeCell</code>.</p>
<p>I think the scariest part now is the <code>fn descriptors_mut(&amp;self) -&gt; &amp;mut Descriptors</code>, because I couldn't get <code>RefCell</code>/<code>RefMut</code> to work now that <code>get_input_stream</code> needs to return a <code>&amp;Descriptor</code> instead of a <code>u32</code> that it can just copy out. I'll poke around at this to see if I can figure out a better option.</p>
</blockquote>



<a name="391789026"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391789026" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391789026">(Sep 18 2023 at 23:02)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1632097768">PR review</a>.</p>



<a name="391789027"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391789027" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391789027">(Sep 18 2023 at 23:02)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1329363089">PR review comment</a>:</p>
<blockquote>
<p><code>get_input_stream()</code> now needs to return a <code>&amp;Descriptor</code> instead of a <code>Descriptor</code> aka <code>u32</code>. That lifetime constraint appears to make it incompatible with holding the descriptor table in a <code>RefCell</code>. This <code>State::with_mut</code> and the current <code>descriptors(&amp;self) -&gt; &amp;mut Descriptors</code> code are me searching for a way to describe what this code is doing. I don't think I've found the right answer yet.</p>
</blockquote>



<a name="391789217"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391789217" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391789217">(Sep 18 2023 at 23:04)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1632099210">PR review</a>.</p>



<a name="391789218"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391789218" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391789218">(Sep 18 2023 at 23:04)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1329364095">PR review comment</a>:</p>
<blockquote>
<p>Yeah, I can do that. It's convenient for now, because with stderr being a host stream that gets buffered, it's extra important for debugging to have some kind of debug facilty that can dump text directly to the host stderr. But when this PR is closer to landing I can split it out.</p>
</blockquote>



<a name="391929988"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391929988" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391929988">(Sep 19 2023 at 14:51)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1633503795">PR review</a>.</p>



<a name="391929993"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/391929993" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#391929993">(Sep 19 2023 at 14:51)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1330265691">PR review comment</a>:</p>
<blockquote>
<p>Hm that seems like an issue with our stderr design then as well, that should definitely be suitable for debugging. We don't have any writes though that we don't push out via tokio though right? Is the issue that it's a slightly deferred write rather than immediate?</p>
</blockquote>



<a name="393334326"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393334326" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393334326">(Sep 26 2023 at 21:39)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393342663"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393342663" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393342663">(Sep 26 2023 at 22:47)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393533541"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393533541" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393533541">(Sep 27 2023 at 16:52)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393535950"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393535950" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393535950">(Sep 27 2023 at 17:06)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393540552"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393540552" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393540552">(Sep 27 2023 at 17:37)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393540800"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393540800" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393540800">(Sep 27 2023 at 17:39)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1647248380">PR review</a>.</p>



<a name="393540802"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393540802" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393540802">(Sep 27 2023 at 17:39)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1338976875">PR review comment</a>:</p>
<blockquote>
<p>I've now fully removed this.</p>
</blockquote>



<a name="393549484"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393549484" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393549484">(Sep 27 2023 at 18:33)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393551691"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393551691" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393551691">(Sep 27 2023 at 18:48)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1647355073">PR review</a>.</p>



<a name="393551692"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393551692" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393551692">(Sep 27 2023 at 18:48)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1339060785">PR review comment</a>:</p>
<blockquote>
<p>I've now removed the logging code.</p>
</blockquote>



<a name="393551744"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393551744" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393551744">(Sep 27 2023 at 18:48)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1647355585">PR review</a>.</p>



<a name="393551745"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393551745" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393551745">(Sep 27 2023 at 18:48)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1339061203">PR review comment</a>:</p>
<blockquote>
<p>I've now removed <code>State::with_mut</code>.</p>
</blockquote>



<a name="393555671"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393555671" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393555671">(Sep 27 2023 at 19:15)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393559051"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393559051" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393559051">(Sep 27 2023 at 19:39)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393607718"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393607718" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393607718">(Sep 28 2023 at 03:29)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393784223"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393784223" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393784223">(Sep 28 2023 at 18:35)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393787773"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393787773" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393787773">(Sep 28 2023 at 18:57)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1649527053">PR review</a>:</p>
<blockquote>
<p>Ok I've re-reviewed everything here and it all looks good-to-go to me. There's some follow-up cleanups I think but nothing that needs to block this PR <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
</blockquote>



<a name="393789457"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393789457" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393789457">(Sep 28 2023 at 19:08)</a>:</h4>
<p><strong>sunfishcode</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a> as ready for review.</p>



<a name="393789460"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393789460" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393789460">(Sep 28 2023 at 19:08)</a>:</h4>
<p><strong>sunfishcode</strong> requested <a href="https://github.com/pchickey">pchickey</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393789461"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393789461" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393789461">(Sep 28 2023 at 19:08)</a>:</h4>
<p><strong>sunfishcode</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393789462"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393789462" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393789462">(Sep 28 2023 at 19:08)</a>:</h4>
<p><strong>sunfishcode</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393791941"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393791941" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393791941">(Sep 28 2023 at 19:27)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1649535451">PR review</a>:</p>
<blockquote>
<p>Looks good. Some minor stuff I stumbled on, and we'd like to land <a href="https://github.com/bytecodealliance/wasmtime/pull/7091">https://github.com/bytecodealliance/wasmtime/pull/7091</a> first this afternoon, which will create some minor conflicts.</p>
</blockquote>



<a name="393791943"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393791943" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393791943">(Sep 28 2023 at 19:27)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1649535451">PR review</a>:</p>
<blockquote>
<p>Looks good. Some minor stuff I stumbled on, and we'd like to land <a href="https://github.com/bytecodealliance/wasmtime/pull/7091">https://github.com/bytecodealliance/wasmtime/pull/7091</a> first this afternoon, which will create some minor conflicts.</p>
</blockquote>



<a name="393791944"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393791944" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393791944">(Sep 28 2023 at 19:27)</a>:</h4>
<p>pchickey created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1340562210">PR review comment</a>:</p>
<blockquote>
<p>Is this still broken? Just want to note it for a follow-up so we don't forget to go back and fix it.</p>
</blockquote>



<a name="393791945"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393791945" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393791945">(Sep 28 2023 at 19:27)</a>:</h4>
<p>pchickey created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1340578012">PR review comment</a>:</p>
<blockquote>
<p>We can revert the line-oriented changes and move this back to stderr, right?</p>
</blockquote>



<a name="393791946"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393791946" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393791946">(Sep 28 2023 at 19:27)</a>:</h4>
<p>pchickey created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1340577556">PR review comment</a>:</p>
<blockquote>
<p>We can run <code>get_stderr().blocking_write_and_flush()</code> here now, correct? </p>
</blockquote>



<a name="393803823"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393803823" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393803823">(Sep 28 2023 at 20:56)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393812503"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393812503" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393812503">(Sep 28 2023 at 22:13)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393812632"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393812632" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393812632">(Sep 28 2023 at 22:15)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1340712810">PR review comment</a>:</p>
<blockquote>
<p>Yes, I've now reverted them.</p>
</blockquote>



<a name="393812633"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393812633" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393812633">(Sep 28 2023 at 22:15)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1649780848">PR review</a>.</p>



<a name="393812782"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393812782" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393812782">(Sep 28 2023 at 22:16)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1649781673">PR review</a>.</p>



<a name="393812784"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393812784" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393812784">(Sep 28 2023 at 22:16)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1340713338">PR review comment</a>:</p>
<blockquote>
<p>Earlier I had assumed it was failing due to the issue with calling <code>get_stdout</code> multiple times, but it turns out to have been a bug in the poll_oneoff adapter. I've now pushed a patch fixing it.</p>
</blockquote>



<a name="393812814"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393812814" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393812814">(Sep 28 2023 at 22:16)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393812839"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393812839" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393812839">(Sep 28 2023 at 22:16)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1649782139">PR review</a>.</p>



<a name="393812996"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393812996" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393812996">(Sep 28 2023 at 22:18)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#discussion_r1340713610">PR review comment</a>:</p>
<blockquote>
<p>Yep, this is now done.</p>
</blockquote>



<a name="393815880"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393815880" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393815880">(Sep 28 2023 at 22:50)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7029#pullrequestreview-1649806854">PR review</a>.</p>



<a name="393978549"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393978549" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393978549">(Sep 29 2023 at 17:47)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393978659"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393978659" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393978659">(Sep 29 2023 at 17:48)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393984390"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393984390" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393984390">(Sep 29 2023 at 18:30)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393984437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393984437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393984437">(Sep 29 2023 at 18:31)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<a name="393997436"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237029%20Start%20to%20port%20Wasmtime%20to%20the%20new%20was.../near/393997436" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237029.20Start.20to.20port.20Wasmtime.20to.20the.20new.20was.2E.2E.2E.html#393997436">(Sep 29 2023 at 20:09)</a>:</h4>
<p>sunfishcode merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7029">PR #7029</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>