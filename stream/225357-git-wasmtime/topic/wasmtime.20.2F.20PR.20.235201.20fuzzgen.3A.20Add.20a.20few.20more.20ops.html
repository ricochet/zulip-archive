<html>
<head><meta charset="utf-8"><title>wasmtime / PR #5201 fuzzgen: Add a few more ops · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html">wasmtime / PR #5201 fuzzgen: Add a few more ops</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="307975307"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/307975307" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#307975307">(Nov 04 2022 at 14:50)</a>:</h4>
<p>afonso360 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/5201">PR #5201</a> from <code>fuzz-more-ops-2</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This adds <code>bitselect</code>,<code>select</code> and <code>select_spectre_guard</code> to the fuzzgen list of ops.</p>
<p>Fuzzing on x86 &amp; AArch64 for the past couple of hours has not raised any issues.</p>
</blockquote>



<a name="308009287"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308009287" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308009287">(Nov 04 2022 at 17:22)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#pullrequestreview-1168920449">PR review</a>.</p>



<a name="308009290"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308009290" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308009290">(Nov 04 2022 at 17:22)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#discussion_r1014285189">PR review comment</a>:</p>
<blockquote>
<p>Could you add links to #5199 and #5200 here?</p>
</blockquote>



<a name="308009293"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308009293" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308009293">(Nov 04 2022 at 17:22)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#discussion_r1014279665">PR review comment</a>:</p>
<blockquote>
<p>I'm a little hesitant to add opcodes to this list where we have to disable all versions of the opcode on all of the architectures that we're actually fuzzing on. I suppose we could add an <code>insert_select_spectre_guard</code> function that generates an <code>icmp</code> first. It's not great in the long run, since I like your idea of eventually generating this table from the meta instruction definitions. But it would get us some more fuzz test coverage quickly, at least.</p>
</blockquote>



<a name="308009295"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308009295" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308009295">(Nov 04 2022 at 17:22)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#discussion_r1014282670">PR review comment</a>:</p>
<blockquote>
<p>Based on your report in #5200, shouldn't these <code>select.i128</code> opcodes exclude aarch64 as well?</p>
</blockquote>



<a name="308009300"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308009300" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308009300">(Nov 04 2022 at 17:22)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#pullrequestreview-1168920449">PR review</a>.</p>



<a name="308009301"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308009301" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308009301">(Nov 04 2022 at 17:22)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#discussion_r1014285806">PR review comment</a>:</p>
<blockquote>
<p>Could you add links to #5197 and #5198 here?</p>
</blockquote>



<a name="308009819"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308009819" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308009819">(Nov 04 2022 at 17:24)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5201">PR #5201</a> from <code>fuzz-more-ops-2</code> to <code>main</code>.</p>



<a name="308010678"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308010678" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308010678">(Nov 04 2022 at 17:29)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#pullrequestreview-1168941226">PR review</a>.</p>



<a name="308010679"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308010679" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308010679">(Nov 04 2022 at 17:29)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#discussion_r1014294468">PR review comment</a>:</p>
<blockquote>
<p>Yeah, I don't mind adding that right now.</p>
<p>I didn't open issues for <code>select_spectre_guard</code> since I wasn't sure, but are we planning on implementing that? Or does that opcode only make sense when paired with something else?</p>
</blockquote>



<a name="308010698"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308010698" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308010698">(Nov 04 2022 at 17:29)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#discussion_r1014294468">PR review comment</a>.</p>



<a name="308033079"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308033079" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308033079">(Nov 04 2022 at 19:19)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#pullrequestreview-1169093222">PR review</a>.</p>



<a name="308033082"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308033082" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308033082">(Nov 04 2022 at 19:19)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#discussion_r1014392359">PR review comment</a>:</p>
<blockquote>
<p>That's a good question! I've opened #5206 for it.</p>
</blockquote>



<a name="308137220"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308137220" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308137220">(Nov 05 2022 at 12:59)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5201">PR #5201</a> from <code>fuzz-more-ops-2</code> to <code>main</code>.</p>



<a name="308139962"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308139962" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308139962">(Nov 05 2022 at 13:21)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#pullrequestreview-1169407089">PR review</a>.</p>



<a name="308139963"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308139963" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308139963">(Nov 05 2022 at 13:21)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#discussion_r1014635075">PR review comment</a>:</p>
<blockquote>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> Thanks!</p>
<p>I've added the special <code>insert_select_spectre_guard</code>, and surprisingly this works for all variations of <code>select_spectre_guard</code>.</p>
<p>I'll wait for a decision to be reached on #5206 before opening the "missing lowerings" issues.</p>
</blockquote>



<a name="308433140"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308433140" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308433140">(Nov 07 2022 at 17:08)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5201#pullrequestreview-1170785017">PR review</a>.</p>



<a name="308433209"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235201%20fuzzgen%3A%20Add%20a%20few%20more%20ops/near/308433209" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235201.20fuzzgen.3A.20Add.20a.20few.20more.20ops.html#308433209">(Nov 07 2022 at 17:08)</a>:</h4>
<p>jameysharp merged <a href="https://github.com/bytecodealliance/wasmtime/pull/5201">PR #5201</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>