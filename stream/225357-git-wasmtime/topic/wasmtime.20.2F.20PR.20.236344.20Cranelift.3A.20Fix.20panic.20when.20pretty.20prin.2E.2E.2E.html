<html>
<head><meta charset="utf-8"><title>wasmtime / PR #6344 Cranelift: Fix panic when pretty prin... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236344.20Cranelift.3A.20Fix.20panic.20when.20pretty.20prin.2E.2E.2E.html">wasmtime / PR #6344 Cranelift: Fix panic when pretty prin...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="355905084"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236344%20Cranelift%3A%20Fix%20panic%20when%20pretty%20prin.../near/355905084" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236344.20Cranelift.3A.20Fix.20panic.20when.20pretty.20prin.2E.2E.2E.html#355905084">(May 04 2023 at 23:50)</a>:</h4>
<p>T0b1-iOS opened <a href="https://github.com/bytecodealliance/wasmtime/pull/6344">PR #6344</a> from <code>T0b1-iOS:fix-emit-pretty-print</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>Fixes #6333 </p>
<p>It seems that when the <code>next_fixed_nonallocatable</code> function was added to check if the register allocator allocates these correctly, the check for the case that no allocation is present (e.g. in case the instructions are pretty printed when tracing is enabled) was missed. It is present in the getters below.</p>
<p>I added a check for that and now the tests don't panic anymore when tracing is enabled.</p>
</blockquote>



<a name="355905085"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236344%20Cranelift%3A%20Fix%20panic%20when%20pretty%20prin.../near/355905085" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236344.20Cranelift.3A.20Fix.20panic.20when.20pretty.20prin.2E.2E.2E.html#355905085">(May 04 2023 at 23:50)</a>:</h4>
<p><strong>T0b1-iOS</strong> requested <a href="https://github.com/abrown">abrown</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6344">PR #6344</a>.</p>



<a name="355905086"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236344%20Cranelift%3A%20Fix%20panic%20when%20pretty%20prin.../near/355905086" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236344.20Cranelift.3A.20Fix.20panic.20when.20pretty.20prin.2E.2E.2E.html#355905086">(May 04 2023 at 23:50)</a>:</h4>
<p><strong>T0b1-iOS</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6344">PR #6344</a>.</p>



<a name="355905823"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236344%20Cranelift%3A%20Fix%20panic%20when%20pretty%20prin.../near/355905823" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236344.20Cranelift.3A.20Fix.20panic.20when.20pretty.20prin.2E.2E.2E.html#355905823">(May 04 2023 at 23:58)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6344#pullrequestreview-1414057525">PR review</a>:</p>
<blockquote>
<p>Yep, this makes sense; thanks for catching this!</p>
</blockquote>



<a name="355905837"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236344%20Cranelift%3A%20Fix%20panic%20when%20pretty%20prin.../near/355905837" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236344.20Cranelift.3A.20Fix.20panic.20when.20pretty.20prin.2E.2E.2E.html#355905837">(May 04 2023 at 23:59)</a>:</h4>
<p>cfallin has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/6344">PR #6344</a>.</p>



<a name="355911248"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236344%20Cranelift%3A%20Fix%20panic%20when%20pretty%20prin.../near/355911248" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236344.20Cranelift.3A.20Fix.20panic.20when.20pretty.20prin.2E.2E.2E.html#355911248">(May 05 2023 at 00:46)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/6344">PR #6344</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>