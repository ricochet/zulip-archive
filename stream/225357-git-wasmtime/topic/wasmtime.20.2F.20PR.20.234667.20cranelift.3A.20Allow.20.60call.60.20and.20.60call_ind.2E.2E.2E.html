<html>
<head><meta charset="utf-8"><title>wasmtime / PR #4667 cranelift: Allow `call` and `call_ind... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html">wasmtime / PR #4667 cranelift: Allow `call` and `call_ind...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="292653398"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/292653398" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#292653398">(Aug 09 2022 at 20:36)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This is an in progress PR just to share my current ideas for where to take the runtest suite.</p>
<p>It is based on top of #4453 and rewrites a lot of the code, but I felt it would be easier to review as a separate PR.</p>
<p>This PR does a number of things.</p>
<ul>
<li>Changes the order that we run tests from per func, per target to per target, per func.</li>
<li>Compiles the entire file once per target and then calls the trampolines for each run invocation</li>
<li>Renames functions in runtest files, since they must now be unique.</li>
</ul>
<p>TODO:</p>
<ul>
<li>Reuse trampolines based on signature</li>
<li>Renames function to <code>User</code> so that they are linkable in JIT</li>
<li>Adds tests with <code>call</code> and <code>call_indirect</code> !</li>
</ul>
<p>TODO (for a future PR):</p>
<ul>
<li>Add a list of allowed CallConv's per target, so that we can test calling between different CallConv's</li>
</ul>
</blockquote>



<a name="292654208"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/292654208" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#292654208">(Aug 09 2022 at 20:41)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This is an in progress PR just to share my current ideas for where to take the runtest suite.</p>
<p>It is based on top of #4453 and rewrites a lot of the code, but I felt it would be easier to review as a separate PR.</p>
<p>This PR does a number of things.</p>
<ul>
<li>Changes the order that we run tests from per func, per target to per target, per func.</li>
<li>Compiles the entire file once per target and then calls the trampolines for each run invocation</li>
<li>Renames functions in runtest files, since they must now be unique.</li>
</ul>
<p>TODO:</p>
<ul>
<li>Reuse trampolines based on signature</li>
<li>Rename functions to <code>User</code> so that they are linkable in JIT</li>
<li>Adds tests with <code>call</code> and <code>call_indirect</code> !</li>
</ul>
<p>TODO (for a future PR):</p>
<ul>
<li>Add a list of allowed CallConv's per target, so that we can test calling between different CallConv's</li>
</ul>
</blockquote>



<a name="292654309"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/292654309" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#292654309">(Aug 09 2022 at 20:42)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This is an in progress PR just to share my current ideas for where to take the runtest suite.</p>
<p>It is based on top of #4453 and rewrites a lot of the code, but I felt it would be easier to review as a separate PR.</p>
<p>This PR does a number of things.</p>
<ul>
<li>Changes the order that we run tests from per func, per target to per target, per func.</li>
<li>Compiles the entire file once per target and then calls the trampolines for each run invocation</li>
<li>Renames functions in runtest files, since they must now be unique.</li>
</ul>
<p>TODO:</p>
<ul>
<li>Reuse trampolines based on signature</li>
<li>Auto rename functions to <code>ExtName::User</code> so that they are linkable in JIT</li>
<li>Adds tests with <code>call</code> and <code>call_indirect</code> !</li>
</ul>
<p>TODO (for a future PR):</p>
<ul>
<li>Add a list of allowed CallConv's per target, so that we can test calling between different CallConv's</li>
</ul>
</blockquote>



<a name="292654665"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/292654665" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#292654665">(Aug 09 2022 at 20:45)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This is an in progress PR just to share my current ideas for where to take the runtest suite.</p>
<p>It is based on top of #4453 and rewrites a lot of the code, but I felt it would be easier to review as a separate PR.</p>
<p>This PR does a number of things.</p>
<ul>
<li>Changes the order that we run tests from per func, per target to per target, per func.</li>
<li>Compiles the entire file once per target and then calls the trampolines for each run invocation</li>
<li>Renames functions in runtest files, since they must now be unique.</li>
</ul>
<p>TODO:</p>
<ul>
<li>Reuse trampolines based on signature</li>
<li>Auto rename functions to <code>ExtName::User</code> so that they are linkable in JIT</li>
<li>Adds tests with <code>call</code> and <code>call_indirect</code> !</li>
</ul>
<p>TODO (for a future PR):</p>
<ul>
<li>Add a list of allowed CallConv's per target, so that we can test calling between different CallConv's</li>
<li>Generate <code>call</code>'s in the fuzzer</li>
</ul>
</blockquote>



<a name="292659611"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/292659611" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#292659611">(Aug 09 2022 at 21:19)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This is an in progress PR just to share my current ideas for where to take the runtest suite.</p>
<p>It is based on top of #4453 and rewrites a lot of the code, but I felt it would be easier to review as a separate PR.</p>
<p>This PR does a number of things.</p>
<ul>
<li>Changes the order that we run tests from per func, per target to per target, per func.</li>
<li>Compiles the entire file once per target and then calls the trampolines for each run invocation</li>
<li>Renames functions in runtest files, since they must now be unique.</li>
</ul>
<p>TODO:</p>
<ul>
<li>Reuse trampolines based on signature</li>
<li>Auto rename functions to <code>ExtName::User</code> so that they are callable in JIT</li>
<li>Adds tests with <code>call</code> and <code>call_indirect</code> !</li>
</ul>
<p>TODO (for a future PR):</p>
<ul>
<li>Add a list of allowed CallConv's per target, so that we can test calling between different CallConv's</li>
<li>Generate <code>call</code>'s in the fuzzer</li>
</ul>
</blockquote>



<a name="293815158"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293815158" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293815158">(Aug 16 2022 at 23:08)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="293815524"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293815524" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293815524">(Aug 16 2022 at 23:12)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This is an in progress PR just to share my current ideas for where to take the runtest suite.</p>
<p>It is based on top of #4453 and rewrites a lot of the code, but I felt it would be easier to review as a separate PR.</p>
<p>This PR does a number of things.</p>
<ul>
<li>Changes the order that we run tests from per func, per target to per target, per func.</li>
<li>Compiles the entire file once per target and then calls the trampolines for each run invocation</li>
<li>Renames functions in runtest files, since they must now be unique.</li>
<li>Reuse trampolines based on signature</li>
<li>Auto rename functions to <code>ExtName::User</code> so that they are callable in JIT</li>
</ul>
<p>TODO:</p>
<ul>
<li>Adds tests with <code>call</code> and <code>call_indirect</code> !</li>
</ul>
<p>TODO (for a future PR):</p>
<ul>
<li>Add a list of allowed CallConv's per target, so that we can test calling between different CallConv's</li>
<li>Generate <code>call</code>'s in the fuzzer</li>
</ul>
</blockquote>



<a name="293816218"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293816218" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293816218">(Aug 16 2022 at 23:20)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This is an in progress PR just to share my current ideas for where to take the runtest suite.</p>
<p>It is based on top of #4453 and rewrites a lot of the code, but I felt it would be easier to review as a separate PR.</p>
<p>This PR does a number of things.</p>
<ul>
<li>Changes the order that we run tests from per func, per target to per target, per func.</li>
<li>Compiles the entire file once per target and then calls the trampolines for each run invocation</li>
<li>Renames functions in runtest files, since they must now be unique.</li>
<li>Reuses trampolines based on signature (something we lost in #4453)</li>
<li>Internally auto renames functions to <code>ExtName::User</code> so that they are callable in JIT.</li>
</ul>
<p>TODO:</p>
<ul>
<li>Adds tests with <code>call</code> and <code>call_indirect</code> !</li>
</ul>
<p>TODO (for a future PR):</p>
<ul>
<li>Add a list of allowed CallConv's per target, so that we can test calling between different CallConv's</li>
<li>Generate <code>call</code>'s in the fuzzer</li>
</ul>
</blockquote>



<a name="293816581"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293816581" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293816581">(Aug 16 2022 at 23:25)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="293849247"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293849247" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293849247">(Aug 17 2022 at 07:40)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="293851516"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293851516" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293851516">(Aug 17 2022 at 08:01)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="293851653"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293851653" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293851653">(Aug 17 2022 at 08:02)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This is an in progress PR just to share my current ideas for where to take the runtest suite.</p>
<p>It is based on top of #4453 and rewrites a lot of the code, but I felt it would be easier to review as a separate PR.</p>
<p>This PR does a number of things.</p>
<ul>
<li>Changes the order that we run tests from per func, per target to per target, per func.</li>
<li>Compiles the entire file once per target and then calls the trampolines for each run invocation</li>
<li>Renames functions in runtest files, since they must now be unique.</li>
<li>Reuses trampolines based on signature (something we lost in #4453)</li>
<li>Internally auto renames functions to <code>ExtName::User</code> so that they are callable in JIT.</li>
<li>Adds tests with <code>call</code> and <code>call_indirect</code> !</li>
</ul>
<p>TODO (for a future PR):</p>
<ul>
<li>Register all functions at once in <code>test interpreter</code> so that we can also enable <code>call</code> tests there</li>
<li>Add a list of allowed CallConv's per target, so that we can test calling between different CallConv's</li>
<li>Generate <code>call</code>'s in the fuzzer</li>
</ul>
</blockquote>



<a name="293855682"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293855682" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293855682">(Aug 17 2022 at 08:33)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="293856540"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293856540" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293856540">(Aug 17 2022 at 08:40)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="293863139"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293863139" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293863139">(Aug 17 2022 at 09:32)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="293864818"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293864818" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293864818">(Aug 17 2022 at 09:46)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1075393871">PR review</a>.</p>



<a name="293864819"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293864819" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293864819">(Aug 17 2022 at 09:46)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r947699741">PR review comment</a>:</p>
<blockquote>
<p>@akirilov-arm Do we need more variations of this?</p>
<p>Right now this runs the tests with both <code>sign_return_address</code> on and off, but with <code>has_pauth</code> always disabled (even if the host supports it). </p>
<p>My questions here are more directed towards, do we need <code>sign_return_address_all</code>? And if we have <code>has_pauth</code> enabled and we start validating addresses, can we trust that the A key is the correct one to use (unless specified otherwise like it is for MacOSX)?</p>
</blockquote>



<a name="293865007"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293865007" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293865007">(Aug 17 2022 at 09:48)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r947699741">PR review comment</a>.</p>



<a name="293865048"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293865048" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293865048">(Aug 17 2022 at 09:48)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r947699741">PR review comment</a>.</p>



<a name="293866364"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293866364" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293866364">(Aug 17 2022 at 09:58)</a>:</h4>
<p><strong>afonso360</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> as ready for review.</p>



<a name="293913077"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293913077" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293913077">(Aug 17 2022 at 14:52)</a>:</h4>
<p>akirilov-arm created <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r948045392">PR review comment</a>:</p>
<blockquote>
<p>While it is always better to check more options, <code>sign_return_address</code> covers probably at least 90% of the problem space. As for <code>has_pauth</code>, I am not sure what you mean - currently that setting changes just one small code generation detail (whether to use <code>RETAA</code>/<code>RETAB</code> instead of <code>AUTIASP</code>/<code>AUTIBSP</code> + <code>RET</code>), and only when used in combination with <code>sign_return_address</code> (it has no effect otherwise). Concerning the A key, Linux does not impose any particular key choice, even within the same process - the only important detail is to be consistent, that is sign and authenticate a specific pointer value with the same key.</p>
</blockquote>



<a name="293913078"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293913078" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293913078">(Aug 17 2022 at 14:52)</a>:</h4>
<p>akirilov-arm submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1075888129">PR review</a>.</p>



<a name="293944081"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293944081" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293944081">(Aug 17 2022 at 17:36)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r948194028">PR review comment</a>:</p>
<blockquote>
<p>Tell me if I have this right: these tests only worked before because the actual function name was ignored, so it didn't matter that the <code>run</code> comments said <code>little</code> when the function declaration said <code>big</code>.</p>
</blockquote>



<a name="293944083"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293944083" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293944083">(Aug 17 2022 at 17:36)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1076090502">PR review</a>.</p>



<a name="293944084"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293944084" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293944084">(Aug 17 2022 at 17:36)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1076090502">PR review</a>.</p>



<a name="293946789"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293946789" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293946789">(Aug 17 2022 at 17:52)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1076174602">PR review</a>.</p>



<a name="293946790"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293946790" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293946790">(Aug 17 2022 at 17:52)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r948256581">PR review comment</a>:</p>
<blockquote>
<p>Yes, <code>test run</code> (used to) ignore the actual name of the function.</p>
<p>We have had similar issues when we started adding <code>test interpret</code> to the runtests, since it calls functions by their <code>ExternalName</code>, however the interpreter also isn't used in this file.</p>
</blockquote>



<a name="293950946"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293950946" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293950946">(Aug 17 2022 at 18:19)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r948278572">PR review comment</a>:</p>
<blockquote>
<p>That's good to know! I didn't know if adding <code>has_pauth</code> would affect these test cases in any meaningful way. But we might as well test those other cases with <code>has_pauth</code>.</p>
<p>I guess we can leave the more advanced cases for later.<br>
</p>
</blockquote>



<a name="293950947"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293950947" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293950947">(Aug 17 2022 at 18:19)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1076206199">PR review</a>.</p>



<a name="293952341"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/293952341" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#293952341">(Aug 17 2022 at 18:28)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="294059459"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/294059459" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#294059459">(Aug 18 2022 at 11:44)</a>:</h4>
<p>akirilov-arm created <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r949027601">PR review comment</a>:</p>
<blockquote>
<p>I am sorry, but I forgot to mention one important detail - the <code>RETAA</code>/<code>RETAB</code> instruction won't be recognized by hardware that does not support pointer authentication, so it will cause a processor exception, and that's why we can't just enable <code>has_pauth</code> here. Given that <code>sign_return_address</code> is also enabled, <code>has_pauth</code> basically implies generating code that is <strong>not</strong> backward compatible, , i.e. non-<code>HINT</code> instructions, so it is similar to, say, <code>has_avx512vl</code>.</p>
<p>Note that this is <strong>not</strong> an issue with <code>sign_return_address</code> by itself.</p>
</blockquote>



<a name="294059460"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/294059460" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#294059460">(Aug 18 2022 at 11:44)</a>:</h4>
<p>akirilov-arm submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1077198364">PR review</a>.</p>



<a name="294064409"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/294064409" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#294064409">(Aug 18 2022 at 12:15)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1077236395">PR review</a>.</p>



<a name="294064411"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/294064411" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#294064411">(Aug 18 2022 at 12:15)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r949054324">PR review comment</a>:</p>
<blockquote>
<p>That should be ok, we only run these tests if <code>cranelift-native</code> detects that the host <code>has_pauth</code>, otherwise they get skipped in the runtest suite. It won't run the test on every machine, but at least qemu seem to emulate pauth and should run all of these (I haven't confirmed this though).</p>
</blockquote>



<a name="294065038"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/294065038" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#294065038">(Aug 18 2022 at 12:19)</a>:</h4>
<p>akirilov-arm created <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r949058171">PR review comment</a>:</p>
<blockquote>
<p>Ah, I didn't realize that the feature detection logic in <code>cranelift-native</code> overrode the directives in the test files. In that case there is no issue, indeed, and you are absolutely correct that QEMU supports pretty much all ISA extensions that we use.</p>
</blockquote>



<a name="294065039"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/294065039" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#294065039">(Aug 18 2022 at 12:19)</a>:</h4>
<p>akirilov-arm submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1077243939">PR review</a>.</p>



<a name="295021102"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295021102" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295021102">(Aug 24 2022 at 10:54)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="295021433"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295021433" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295021433">(Aug 24 2022 at 10:56)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="295045225"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295045225" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295045225">(Aug 24 2022 at 13:20)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="295238758"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295238758" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295238758">(Aug 25 2022 at 14:24)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="295238985"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295238985" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295238985">(Aug 25 2022 at 14:25)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="295276908"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295276908" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295276908">(Aug 25 2022 at 17:30)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r955229921">PR review comment</a>:</p>
<blockquote>
<p>semicolon at end of statement? (I guess here rustc let it slide because it's the end of the block)</p>
</blockquote>



<a name="295276909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295276909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295276909">(Aug 25 2022 at 17:30)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r955228295">PR review comment</a>:</p>
<blockquote>
<p>Any particular reason for this test to be deleted?</p>
</blockquote>



<a name="295276910"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295276910" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295276910">(Aug 25 2022 at 17:30)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1085824675">PR review</a>.</p>



<a name="295276911"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295276911" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295276911">(Aug 25 2022 at 17:30)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1085824675">PR review</a>.</p>



<a name="295278837"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295278837" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295278837">(Aug 25 2022 at 17:42)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1085862357">PR review</a>.</p>



<a name="295278838"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295278838" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295278838">(Aug 25 2022 at 17:42)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r955253847">PR review comment</a>:</p>
<blockquote>
<p>Yes, s390x crashes when compiling it.</p>
<p>It didn't so far because it didn't have a <code>; run</code> declaration so we never compiled it.</p>
<p>It also looks like a artifact from when it was moved to <a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/filetests/filetests/runtests/i128-bricmp-overflow.clif">i128-bricmp-overflow.clif</a></p>
</blockquote>



<a name="295279232"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295279232" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295279232">(Aug 25 2022 at 17:44)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a> from <code>runtest-multifunc</code> to <code>main</code>.</p>



<a name="295500114"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295500114" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295500114">(Aug 26 2022 at 19:41)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#discussion_r956392048">PR review comment</a>:</p>
<blockquote>
<p>Ah, I see, thanks; this seems reasonable then.</p>
</blockquote>



<a name="295500115"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295500115" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295500115">(Aug 26 2022 at 19:41)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4667#pullrequestreview-1087452090">PR review</a>.</p>



<a name="295500297"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234667%20cranelift%3A%20Allow%20%60call%60%20and%20%60call_ind.../near/295500297" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234667.20cranelift.3A.20Allow.20.60call.60.20and.20.60call_ind.2E.2E.2E.html#295500297">(Aug 26 2022 at 19:42)</a>:</h4>
<p>jameysharp merged <a href="https://github.com/bytecodealliance/wasmtime/pull/4667">PR #4667</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>