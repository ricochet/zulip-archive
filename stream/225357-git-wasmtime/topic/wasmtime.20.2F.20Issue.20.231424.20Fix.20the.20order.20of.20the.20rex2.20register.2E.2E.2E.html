<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #1424 Fix the order of the rex2 register... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231424.20Fix.20the.20order.20of.20the.20rex2.20register.2E.2E.2E.html">wasmtime / Issue #1424 Fix the order of the rex2 register...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="192075405"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231424%20Fix%20the%20order%20of%20the%20rex2%20register.../near/192075405" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231424.20Fix.20the.20order.20of.20the.20rex2.20register.2E.2E.2E.html#192075405">(Mar 27 2020 at 20:28)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/1424#issuecomment-605300604" title="https://github.com/bytecodealliance/wasmtime/pull/1424#issuecomment-605300604">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1424" title="https://github.com/bytecodealliance/wasmtime/pull/1424">Issue #1424</a>:</p>
<blockquote>
<p><a href="https://github.com/bytecodealliance/wasmtime/issues/1423#issuecomment-605295620" title="https://github.com/bytecodealliance/wasmtime/issues/1423#issuecomment-605295620">https://github.com/bytecodealliance/wasmtime/issues/1423#issuecomment-605295620</a></p>
<blockquote>
<p>Could you add an x86_pextr binemit test</p>
</blockquote>
<p>Is the last commit ok, or do you want to test more cases?</p>
</blockquote>



<a name="192077626"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231424%20Fix%20the%20order%20of%20the%20rex2%20register.../near/192077626" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231424.20Fix.20the.20order.20of.20the.20rex2.20register.2E.2E.2E.html#192077626">(Mar 27 2020 at 20:47)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/1424#issuecomment-605308286" title="https://github.com/bytecodealliance/wasmtime/pull/1424#issuecomment-605308286">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1424" title="https://github.com/bytecodealliance/wasmtime/pull/1424">Issue #1424</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>This issue or pull request has been labeled: "cranelift", "cranelift:meta"</p>
<p>&lt;details&gt; &lt;summary&gt;Users Subscribed to "cranelift"&lt;/summary&gt;</p>
<ul>
<li>@bnjbvr</li>
</ul>
<p>&lt;/details&gt;</p>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action" title="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a></p>
</blockquote>



<a name="192123731"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231424%20Fix%20the%20order%20of%20the%20rex2%20register.../near/192123731" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231424.20Fix.20the.20order.20of.20the.20rex2.20register.2E.2E.2E.html#192123731">(Mar 28 2020 at 13:45)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/1424#issuecomment-605449355" title="https://github.com/bytecodealliance/wasmtime/pull/1424#issuecomment-605449355">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1424" title="https://github.com/bytecodealliance/wasmtime/pull/1424">Issue #1424</a>:</p>
<blockquote>
<p>With this I can finally store SIMD vectors in SSA values, rather than memory. This improves performance for tokei from ~50% overhead compared to cg_llvm to ~30% overhead.</p>
</blockquote>



<a name="192141728"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231424%20Fix%20the%20order%20of%20the%20rex2%20register.../near/192141728" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231424.20Fix.20the.20order.20of.20the.20rex2.20register.2E.2E.2E.html#192141728">(Mar 28 2020 at 21:10)</a>:</h4>
<p>abrown <a href="https://github.com/bytecodealliance/wasmtime/pull/1424#issuecomment-605519945" title="https://github.com/bytecodealliance/wasmtime/pull/1424#issuecomment-605519945">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1424" title="https://github.com/bytecodealliance/wasmtime/pull/1424">Issue #1424</a>:</p>
<blockquote>
<p>I don't know if this will give you more flexibility, but note that in #1377 I have added support for declaring constants in the function preamble instead of only through <code>vconst</code>. This also should make it easier to use constants of sizes other than 128-bit. Take a look at <br>
64c8cbf and let me know if you can think of any changes to that that would help cg_clif.</p>
</blockquote>



<a name="192141731"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231424%20Fix%20the%20order%20of%20the%20rex2%20register.../near/192141731" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231424.20Fix.20the.20order.20of.20the.20rex2.20register.2E.2E.2E.html#192141731">(Mar 28 2020 at 21:10)</a>:</h4>
<p>abrown edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1424#issuecomment-605519945" title="https://github.com/bytecodealliance/wasmtime/pull/1424#issuecomment-605519945">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1424" title="https://github.com/bytecodealliance/wasmtime/pull/1424">Issue #1424</a>:</p>
<blockquote>
<p>I don't know if this will give you more flexibility, but note that in #1377 I have added support for declaring constants in the function preamble instead of only through <code>vconst</code>. This also should make it easier to use constants of sizes other than 128-bit. Take a look at 64c8cbf and let me know if you can think of any changes to that that would help cg_clif.</p>
</blockquote>



<a name="192142662"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231424%20Fix%20the%20order%20of%20the%20rex2%20register.../near/192142662" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231424.20Fix.20the.20order.20of.20the.20rex2.20register.2E.2E.2E.html#192142662">(Mar 28 2020 at 21:37)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/1424#issuecomment-605522867" title="https://github.com/bytecodealliance/wasmtime/pull/1424#issuecomment-605522867">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1424" title="https://github.com/bytecodealliance/wasmtime/pull/1424">Issue #1424</a>:</p>
<blockquote>
<p>I don't think any of that PR will help me. At least for now. Creating SIMD values is currently very slow anyway as at MIR level all lanes get assigned separately, meaning that I have to use <code>vconst 0</code> + <code>insertlane</code>. I will obviously need to optimize this :)</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>