<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7569 wasi: fs time precision option · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20fs.20time.20precision.20option.html">wasmtime / PR #7569 wasi: fs time precision option</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="403660863"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20fs%20time%20precision%20option/near/403660863" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20fs.20time.20precision.20option.html#403660863">(Nov 22 2023 at 20:27)</a>:</h4>
<p>guybedford edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>:</p>
<blockquote>
<p>Node.js mtime setting only works up to microsecond accuracy.</p>
<p>This updates the test to work at this level at minimum when the <code>FS_TIME_PRECISION</code> option is set.</p>
<p><del>We could make this a configurable test option, I just wasn't sure how to set up such a conditional build feature for the test program - suggestions welcome if not reducing overall accuracy is preferred.</del></p>
</blockquote>



<a name="403668644"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20fs%20time%20precision%20option/near/403668644" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20fs.20time.20precision.20option.html#403668644">(Nov 22 2023 at 21:37)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7569#pullrequestreview-1745419158">PR review</a>:</p>
<blockquote>
<p>Ok this looks reasonable to me, thanks!</p>
<p>I still don't fully understand why <code>fs_duration_to_precision</code> is required in these tests, and I'll write out here why, but in the meantime I'm going to approve this an queue it for merging since it's just my own curiousity.</p>
<p>All the tests from what I can tell are taking a timestamp reported by the system and then modifying it by some multiple of the configured precision. Assuming that the system is only reporting timestamps with rounded precision already, this means that all timestamps in play should all be appropriately rounded, right? If that's the case that's why I don't understand why this function exists, although I understand that if arbitrary durations were added to timestamps it would be required.</p>
</blockquote>



<a name="403684700"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20fs%20time%20precision%20option/near/403684700" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20fs.20time.20precision.20option.html#403684700">(Nov 23 2023 at 00:23)</a>:</h4>
<p>guybedford updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>.</p>



<a name="403838847"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20fs%20time%20precision%20option/near/403838847" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20fs.20time.20precision.20option.html#403838847">(Nov 23 2023 at 18:32)</a>:</h4>
<p>guybedford updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>.</p>



<a name="404334009"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20fs%20time%20precision%20option/near/404334009" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20fs.20time.20precision.20option.html#404334009">(Nov 27 2023 at 04:50)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>