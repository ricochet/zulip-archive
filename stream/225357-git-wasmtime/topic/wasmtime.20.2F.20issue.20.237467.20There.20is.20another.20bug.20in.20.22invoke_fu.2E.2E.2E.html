<html>
<head><meta charset="utf-8"><title>wasmtime / issue #7467 There is another bug in &quot;invoke_fu... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237467.20There.20is.20another.20bug.20in.20.22invoke_fu.2E.2E.2E.html">wasmtime / issue #7467 There is another bug in &quot;invoke_fu...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="400053752"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237467%20There%20is%20another%20bug%20in%20%22invoke_fu.../near/400053752" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237467.20There.20is.20another.20bug.20in.20.22invoke_fu.2E.2E.2E.html#400053752">(Nov 03 2023 at 02:53)</a>:</h4>
<p><a href="https://github.com/liutao-liu">liutao-liu</a> added the bug label to <a href="https://github.com/bytecodealliance/wasmtime/issues/7467">Issue #7467</a>.</p>



<a name="400053754"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237467%20There%20is%20another%20bug%20in%20%22invoke_fu.../near/400053754" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237467.20There.20is.20another.20bug.20in.20.22invoke_fu.2E.2E.2E.html#400053754">(Nov 03 2023 at 02:53)</a>:</h4>
<p>liutao-liu opened <a href="https://github.com/bytecodealliance/wasmtime/issues/7467">issue #7467</a>:</p>
<blockquote>
<p>Similar to this <a href="https://github.com/bytecodealliance/wasmtime/issues/7401">issue</a>, nan:0x200000 and -nan:0x200000 cannot be parsed, and the same error message "invalid float literal" is reported.</p>
<p>In addition, <code>-nan</code> is parsed into <code>nan</code>, which is incorrect. <code>nan</code> and<code>-nan</code> represent different meanings, and their bits are different.<br>
</p>
</blockquote>



<a name="400055203"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237467%20There%20is%20another%20bug%20in%20%22invoke_fu.../near/400055203" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237467.20There.20is.20another.20bug.20in.20.22invoke_fu.2E.2E.2E.html#400055203">(Nov 03 2023 at 03:06)</a>:</h4>
<p>liutao-liu edited <a href="https://github.com/bytecodealliance/wasmtime/issues/7467">issue #7467</a>:</p>
<blockquote>
<p>Similar to this <a href="https://github.com/bytecodealliance/wasmtime/issues/7401">issue</a>, <code>nan:0x200000</code> and <code>-nan:0x200000</code> cannot be parsed, and the same error message "invalid float literal" is reported.</p>
<p>In addition, <code>-nan</code> is parsed into <code>nan</code>, which is incorrect. <code>nan</code> and<code>-nan</code> represent different meanings, and their bits are different.<br>
</p>
</blockquote>



<a name="400166872"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237467%20There%20is%20another%20bug%20in%20%22invoke_fu.../near/400166872" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237467.20There.20is.20another.20bug.20in.20.22invoke_fu.2E.2E.2E.html#400166872">(Nov 03 2023 at 16:23)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/7467#issuecomment-1792746482">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7467">issue #7467</a>:</p>
<blockquote>
<p>Yes this is expected as the CLI uses the Rust standard libray to parse floats right now, which is not the same as the text format of WebAssembly.</p>
</blockquote>



<a name="400267044"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237467%20There%20is%20another%20bug%20in%20%22invoke_fu.../near/400267044" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237467.20There.20is.20another.20bug.20in.20.22invoke_fu.2E.2E.2E.html#400267044">(Nov 04 2023 at 07:54)</a>:</h4>
<p>liutao-liu <a href="https://github.com/bytecodealliance/wasmtime/issues/7467#issuecomment-1793374965">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7467">issue #7467</a>:</p>
<blockquote>
<blockquote>
<p>Yes this is expected as the CLI uses the Rust standard libray to parse floats right now, which is not the same as the text format of WebAssembly.</p>
</blockquote>
<p>Is that going to fix the problem?</p>
</blockquote>



<a name="400575981"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237467%20There%20is%20another%20bug%20in%20%22invoke_fu.../near/400575981" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237467.20There.20is.20another.20bug.20in.20.22invoke_fu.2E.2E.2E.html#400575981">(Nov 06 2023 at 17:00)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/7467#issuecomment-1795496658">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7467">issue #7467</a>:</p>
<blockquote>
<p>Sorry I'm not sure if I understand your question? </p>
<p>To clarify what I'm saying, the parsing of f32/f64 in the CLI isn't specified right now in Wasmtime and it's "whatever rust libstd happens to implement". The syntax you're describing here I think is probably coming from the text format of WebAssembly, however, which isn't plumbed into this part of Wasmtime right now. Assuming you want the same text format of WebAssembly then yes I believe that will resolve this issue.</p>
</blockquote>



<a name="400641573"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237467%20There%20is%20another%20bug%20in%20%22invoke_fu.../near/400641573" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237467.20There.20is.20another.20bug.20in.20.22invoke_fu.2E.2E.2E.html#400641573">(Nov 07 2023 at 01:34)</a>:</h4>
<p>liutao-liu <a href="https://github.com/bytecodealliance/wasmtime/issues/7467#issuecomment-1797130353">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7467">issue #7467</a>:</p>
<blockquote>
<p>Yes brother, I shouldn't describe it as a problem, this format is from webAssembly. It would be great if wasmtime should support this format in the future.</p>
</blockquote>



<a name="401051349"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237467%20There%20is%20another%20bug%20in%20%22invoke_fu.../near/401051349" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237467.20There.20is.20another.20bug.20in.20.22invoke_fu.2E.2E.2E.html#401051349">(Nov 09 2023 at 01:18)</a>:</h4>
<p>liutao-liu closed <a href="https://github.com/bytecodealliance/wasmtime/issues/7467">issue #7467</a>:</p>
<blockquote>
<p>Similar to this <a href="https://github.com/bytecodealliance/wasmtime/issues/7401">issue</a>, <code>nan:0x200000</code> and <code>-nan:0x200000</code> cannot be parsed, and the same error message "invalid float literal" is reported.</p>
<p>In addition, <code>-nan</code> is parsed into <code>nan</code>, which is incorrect. <code>nan</code> and<code>-nan</code> represent different meanings, and their bits are different.<br>
</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>