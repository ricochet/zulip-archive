<html>
<head><meta charset="utf-8"><title>wasmtime / issue #5408 CI: upgrade to Ubuntu 22.04 · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235408.20CI.3A.20upgrade.20to.20Ubuntu.2022.2E04.html">wasmtime / issue #5408 CI: upgrade to Ubuntu 22.04</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="314959769"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235408%20CI%3A%20upgrade%20to%20Ubuntu%2022.04/near/314959769" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235408.20CI.3A.20upgrade.20to.20Ubuntu.2022.2E04.html#314959769">(Dec 09 2022 at 18:48)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/issues/5408">issue #5408</a>:</p>
<blockquote>
<p>In #5407 we pinned to 20.04 because of issues such as missing <code>libclang1-9</code> in <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/3659854687/jobs/6186416352">this CI run</a> with an Ubuntu 22.04 image.</p>
<p>We should resolve all issues that appear on 22.04 and upgrade to the new version when possible.</p>
</blockquote>



<a name="314986943"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235408%20CI%3A%20upgrade%20to%20Ubuntu%2022.04/near/314986943" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235408.20CI.3A.20upgrade.20to.20Ubuntu.2022.2E04.html#314986943">(Dec 09 2022 at 21:37)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/5408#issuecomment-1344805432">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5408">issue #5408</a>:</p>
<blockquote>
<p>After <a href="https://github.com/bytecodealliance/wasmtime/pull/5410">https://github.com/bytecodealliance/wasmtime/pull/5410</a> the only 20.04 builder is the wasi-nn builder, and @abrown <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/3659854687/jobs/6186417666">this is a failure on the 22.04 builder</a> which gives:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Warning</span>: <span class="nc">apt</span><span class="o">-</span><span class="n">key</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">deprecated</span><span class="p">.</span><span class="w"> </span><span class="n">Manage</span><span class="w"> </span><span class="n">keyring</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">trusted</span><span class="p">.</span><span class="n">gpg</span><span class="p">.</span><span class="n">d</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="p">(</span><span class="n">see</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">key</span><span class="p">(</span><span class="mi">8</span><span class="p">)).</span><span class="w"></span>
<span class="n">OK</span><span class="w"></span>
<span class="n">deb</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//apt.repos.intel.com/openvino/2022 jammy main</span>

<span class="n">WARNING</span>: <span class="nc">apt</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">stable</span><span class="w"> </span><span class="n">CLI</span><span class="w"> </span><span class="n">interface</span><span class="p">.</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">caution</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">scripts</span><span class="p">.</span><span class="w"></span>

<span class="n">Get</span>:<span class="mi">1</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//packages.microsoft.com/ubuntu/22.04/prod jammy InRelease [10.5 kB]</span>
<span class="n">Hit</span>:<span class="mi">2</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy InRelease</span>
<span class="n">Get</span>:<span class="mi">3</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-updates InRelease [114 kB]</span>
<span class="n">Get</span>:<span class="mi">4</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-backports InRelease [99.8 kB]</span>
<span class="n">Get</span>:<span class="mi">5</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-security InRelease [110 kB]</span>
<span class="n">Get</span>:<span class="mi">6</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//packages.microsoft.com/ubuntu/22.04/prod jammy/main arm64 Packages [16.7 kB]</span>
<span class="n">Get</span>:<span class="mi">7</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//packages.microsoft.com/ubuntu/22.04/prod jammy/main armhf Packages [10.6 kB]</span>
<span class="n">Get</span>:<span class="mi">8</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//packages.microsoft.com/ubuntu/22.04/prod jammy/main amd64 Packages [60.1 kB]</span>
<span class="n">Get</span>:<span class="mi">9</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 Packages [758 kB]</span>
<span class="n">Get</span>:<span class="mi">10</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-updates/main Translation-en [169 kB]</span>
<span class="n">Hit</span>:<span class="mi">11</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//ppa.launchpadcontent.net/ubuntu-toolchain-r/test/ubuntu jammy InRelease</span>
<span class="n">Get</span>:<span class="mi">12</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-updates/main amd64 c-n-f Metadata [11.4 kB]</span>
<span class="n">Get</span>:<span class="mi">13</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-updates/restricted amd64 Packages [488 kB]</span>
<span class="n">Get</span>:<span class="mi">14</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-updates/restricted Translation-en [74.9 kB]</span>
<span class="n">Get</span>:<span class="mi">15</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 Packages [761 kB]</span>
<span class="n">Get</span>:<span class="mi">16</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-updates/universe Translation-en [128 kB]</span>
<span class="n">Get</span>:<span class="mi">17</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-updates/universe amd64 c-n-f Metadata [14.0 kB]</span>
<span class="n">Get</span>:<span class="mi">18</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-updates/multiverse amd64 Packages [7300 B]</span>
<span class="n">Get</span>:<span class="mi">19</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-backports/main amd64 Packages [3324 B]</span>
<span class="n">Get</span>:<span class="mi">20</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-backports/main Translation-en [1580 B]</span>
<span class="n">Get</span>:<span class="mi">21</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-backports/main amd64 c-n-f Metadata [272 B]</span>
<span class="n">Get</span>:<span class="mi">22</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-backports/universe amd64 Packages [6740 B]</span>
<span class="n">Get</span>:<span class="mi">23</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-backports/universe amd64 c-n-f Metadata [348 B]</span>
<span class="n">Get</span>:<span class="mi">24</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-security/main amd64 Packages [525 kB]</span>
<span class="n">Get</span>:<span class="mi">25</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-security/main Translation-en [113 kB]</span>
<span class="n">Get</span>:<span class="mi">26</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-security/main amd64 c-n-f Metadata [7352 B]</span>
<span class="n">Get</span>:<span class="mi">27</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-security/restricted amd64 Packages [452 kB]</span>
<span class="n">Get</span>:<span class="mi">28</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-security/restricted Translation-en [69.2 kB]</span>
<span class="n">Get</span>:<span class="mi">29</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-security/universe amd64 Packages [622 kB]</span>
<span class="n">Get</span>:<span class="mi">30</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-security/universe Translation-en [82.7 kB]</span>
<span class="n">Get</span>:<span class="mi">31</span><span class="w"> </span><span class="n">http</span>:<span class="c1">//azure.archive.ubuntu.com/ubuntu jammy-security/universe amd64 c-n-f Metadata [11.0 kB]</span>
<span class="n">Ign</span>:<span class="mi">32</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//apt.repos.intel.com/openvino/2022 jammy InRelease</span>
<span class="nb">Err</span>:<span class="mi">33</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//apt.repos.intel.com/openvino/2022 jammy Release</span>
<span class="w">  </span><span class="mi">404</span><span class="w">  </span><span class="n">Not</span><span class="w"> </span><span class="n">Found</span><span class="w"> </span><span class="p">[</span><span class="n">IP</span>: <span class="mf">184.50.211.30</span><span class="w"> </span><span class="mi">443</span><span class="p">]</span><span class="w"></span>
<span class="n">Reading</span><span class="w"> </span><span class="n">package</span><span class="w"> </span><span class="n">lists</span><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="n">E</span>: <span class="nc">The</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="o">'</span><span class="na">https</span>:<span class="c1">//apt.repos.intel.com/openvino/2022 jammy Release' does not have a Release file.</span>
<span class="n">Error</span>: <span class="nc">Process</span><span class="w"> </span><span class="n">completed</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">exit</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="mf">100.</span><span class="w"></span>
</code></pre></div>
<p>Upgrading to 22.04 is not of the utmost urgency at all, but might be good to forward to folks at Intel I think hosting openvino there? </p>
</blockquote>



<a name="315000466"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235408%20CI%3A%20upgrade%20to%20Ubuntu%2022.04/near/315000466" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235408.20CI.3A.20upgrade.20to.20Ubuntu.2022.2E04.html#315000466">(Dec 09 2022 at 23:18)</a>:</h4>
<p>abrown <a href="https://github.com/bytecodealliance/wasmtime/issues/5408#issuecomment-1344879351">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5408">issue #5408</a>:</p>
<blockquote>
<p>I saw this in a different repository as well (failure to pull OpenVINO packages for Ubuntu 22.04) and I contacted the packaging folks for OpenVINO. They said the next release of OpenVINO (2022.3, I believe, so that should be coming soon!) will have the Ubuntu 22.04 packages. Can we wait for a few weeks to unpin the CI task? Feel free to assign this to me if the wasi-nn tests are the only task preventing us from moving to 22.04 and I will fix this once I see the new packages.</p>
</blockquote>



<a name="315001312"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235408%20CI%3A%20upgrade%20to%20Ubuntu%2022.04/near/315001312" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235408.20CI.3A.20upgrade.20to.20Ubuntu.2022.2E04.html#315001312">(Dec 09 2022 at 23:27)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/5408#issuecomment-1344884831">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5408">issue #5408</a>:</p>
<blockquote>
<p>Oh no rush at all a few weeks is totally fine. Just the wasi-nn job is pinned and we only need to upgrade at this point before the runner is removed which will take years probably </p>
</blockquote>



<a name="347468236"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235408%20CI%3A%20upgrade%20to%20Ubuntu%2022.04/near/347468236" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235408.20CI.3A.20upgrade.20to.20Ubuntu.2022.2E04.html#347468236">(Apr 06 2023 at 16:31)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/5408">issue #5408</a>:</p>
<blockquote>
<p>In #5407 we pinned to 20.04 because of issues such as missing <code>libclang1-9</code> in <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/3659854687/jobs/6186416352">this CI run</a> with an Ubuntu 22.04 image.</p>
<p>We should resolve all issues that appear on 22.04 and upgrade to the new version when possible.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>