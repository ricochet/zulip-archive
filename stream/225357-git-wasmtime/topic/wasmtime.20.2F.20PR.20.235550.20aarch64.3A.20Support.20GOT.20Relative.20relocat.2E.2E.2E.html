<html>
<head><meta charset="utf-8"><title>wasmtime / PR #5550 aarch64: Support GOT Relative relocat... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235550.20aarch64.3A.20Support.20GOT.20Relative.20relocat.2E.2E.2E.html">wasmtime / PR #5550 aarch64: Support GOT Relative relocat...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="320115621"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235550%20aarch64%3A%20Support%20GOT%20Relative%20relocat.../near/320115621" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235550.20aarch64.3A.20Support.20GOT.20Relative.20relocat.2E.2E.2E.html#320115621">(Jan 08 2023 at 20:21)</a>:</h4>
<p>afonso360 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/5550">PR #5550</a> from <code>aarch64-got</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This PR adds support for using the GOT in PIC mode on AArch64. It implements the relocations for both ELF and MachO.</p>
<p>In order to support the MachO relocations we need to update the object crate. Unfortunately that also brings a few other dependencies which also need to be vetted. </p>
<p><a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1350337637">@cfallin has already validated the object crate update up to <code>0.30.0</code> in #5434</a> so we just need to do <code>0.30.0 -&gt; 0.30.1</code> and the rest of the new dependencies.</p>
<p>Tested this using <a href="https://github.com/acw/cranelift-hmmm/">the awesome example</a> provided by @acw in <a href="#narrow/stream/217117-cranelift/topic/Tricks.20with.20linkage.20internal.20.2F.20module.20external.20functions.3F">zulip</a>.<br>
On aarch64-linux I was able to fully test this, on aarch64-darwin the decompiled file seems correct but I don't have a M1/2 machine to link and run it. Maybe @acw can test and report back if anything is wrong?</p>
<p>Fixes #2907<br>
Fixes #5544</p>
</blockquote>



<a name="320333593"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235550%20aarch64%3A%20Support%20GOT%20Relative%20relocat.../near/320333593" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235550.20aarch64.3A.20Support.20GOT.20Relative.20relocat.2E.2E.2E.html#320333593">(Jan 09 2023 at 21:23)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5550">PR #5550</a> from <code>aarch64-got</code> to <code>main</code>.</p>



<a name="320333845"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235550%20aarch64%3A%20Support%20GOT%20Relative%20relocat.../near/320333845" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235550.20aarch64.3A.20Support.20GOT.20Relative.20relocat.2E.2E.2E.html#320333845">(Jan 09 2023 at 21:25)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5550">PR #5550</a> from <code>aarch64-got</code> to <code>main</code>.</p>



<a name="323133994"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235550%20aarch64%3A%20Support%20GOT%20Relative%20relocat.../near/323133994" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235550.20aarch64.3A.20Support.20GOT.20Relative.20relocat.2E.2E.2E.html#323133994">(Jan 23 2023 at 22:57)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5550">PR #5550</a> from <code>aarch64-got</code> to <code>main</code>.</p>



<a name="323697670"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235550%20aarch64%3A%20Support%20GOT%20Relative%20relocat.../near/323697670" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235550.20aarch64.3A.20Support.20GOT.20Relative.20relocat.2E.2E.2E.html#323697670">(Jan 26 2023 at 11:43)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5550">PR #5550</a> from <code>aarch64-got</code> to <code>main</code>.</p>



<a name="323823871"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235550%20aarch64%3A%20Support%20GOT%20Relative%20relocat.../near/323823871" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235550.20aarch64.3A.20Support.20GOT.20Relative.20relocat.2E.2E.2E.html#323823871">(Jan 26 2023 at 19:43)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5550">PR #5550</a> from <code>aarch64-got</code> to <code>main</code>.</p>



<a name="326773778"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235550%20aarch64%3A%20Support%20GOT%20Relative%20relocat.../near/326773778" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235550.20aarch64.3A.20Support.20GOT.20Relative.20relocat.2E.2E.2E.html#326773778">(Feb 09 2023 at 10:09)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5550">PR #5550</a> from <code>aarch64-got</code> to <code>main</code>.</p>



<a name="327991877"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235550%20aarch64%3A%20Support%20GOT%20Relative%20relocat.../near/327991877" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235550.20aarch64.3A.20Support.20GOT.20Relative.20relocat.2E.2E.2E.html#327991877">(Feb 15 2023 at 12:11)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5550">PR #5550</a> from <code>aarch64-got</code> to <code>main</code>.</p>



<a name="328126918"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235550%20aarch64%3A%20Support%20GOT%20Relative%20relocat.../near/328126918" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235550.20aarch64.3A.20Support.20GOT.20Relative.20relocat.2E.2E.2E.html#328126918">(Feb 15 2023 at 23:18)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5550#pullrequestreview-1300515420">PR review</a>.</p>



<a name="328126985"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235550%20aarch64%3A%20Support%20GOT%20Relative%20relocat.../near/328126985" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235550.20aarch64.3A.20Support.20GOT.20Relative.20relocat.2E.2E.2E.html#328126985">(Feb 15 2023 at 23:19)</a>:</h4>
<p>jameysharp merged <a href="https://github.com/bytecodealliance/wasmtime/pull/5550">PR #5550</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>