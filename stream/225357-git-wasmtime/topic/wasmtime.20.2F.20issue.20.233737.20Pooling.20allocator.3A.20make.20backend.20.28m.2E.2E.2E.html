<html>
<head><meta charset="utf-8"><title>wasmtime / issue #3737 Pooling allocator: make backend (m... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233737.20Pooling.20allocator.3A.20make.20backend.20.28m.2E.2E.2E.html">wasmtime / issue #3737 Pooling allocator: make backend (m...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="269685995"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233737%20Pooling%20allocator%3A%20make%20backend%20%28m.../near/269685995" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233737.20Pooling.20allocator.3A.20make.20backend.20.28m.2E.2E.2E.html#269685995">(Jan 28 2022 at 04:44)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/3737#issuecomment-1023882798">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3737">issue #3737</a>:</p>
<blockquote>
<p>@alexcrichton This is my exploration of what a "dynamic backend choice" might look like, as per your comment in the earlier review. I'm not entirely sure I like it -- it actually creates much more complexity passing through the backend choice everywhere, and it creates additional states to test (one backend included, but user has chosen another).</p>
<p>My intuition here is that simplicity is better found by just reducing the number of backends -- e.g. if/when we decide that memfd supersedes uffd, we can remove that, and then we can do memfd by default on Linux, and all of memfd is already built to support some memories having images and others not, so it should support dynamic fallback to mmap much more gracefully.</p>
<p>I'm also worried that since uffd was built as a static feature choice, I may have missed something somewhere that needs a dynamic branch -- this feels like a somewhat dangerous refactor.</p>
<p>Thoughts?</p>
</blockquote>



<a name="269687263"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233737%20Pooling%20allocator%3A%20make%20backend%20%28m.../near/269687263" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233737.20Pooling.20allocator.3A.20make.20backend.20.28m.2E.2E.2E.html#269687263">(Jan 28 2022 at 05:06)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/3737#issuecomment-1023890766">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3737">issue #3737</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @peterhuene</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "wasmtime:api"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>peterhuene: wasmtime:api</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="271353471"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233737%20Pooling%20allocator%3A%20make%20backend%20%28m.../near/271353471" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233737.20Pooling.20allocator.3A.20make.20backend.20.28m.2E.2E.2E.html#271353471">(Feb 09 2022 at 21:59)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/3737#issuecomment-1034231785">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3737">issue #3737</a>:</p>
<blockquote>
<p>This has been superseded by #3778 (for memfd; and I think we're likely to remove uffd), so I'll go ahead and close this. Can bring it back if needed and we decide we want to keep uffd around with a dynamic switch.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>