<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6720 Add docs on how to profile with sa... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236720.20Add.20docs.20on.20how.20to.20profile.20with.20sa.2E.2E.2E.html">wasmtime / issue #6720 Add docs on how to profile with sa...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="374967153"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236720%20Add%20docs%20on%20how%20to%20profile%20with%20sa.../near/374967153" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236720.20Add.20docs.20on.20how.20to.20profile.20with.20sa.2E.2E.2E.html#374967153">(Jul 13 2023 at 15:09)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/pull/6720#issuecomment-1634420238">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6720">issue #6720</a>:</p>
<blockquote>
<p>Thank you! After your previous PR, @michelledaviest and @cfallin were recently trying out Samply with Wasmtime on macOS and we ran into issues, so I'm hoping this will help. I don't remember what the issues were though; Michelle and Chris, could you take a look at these instructions and see if they help you?</p>
</blockquote>



<a name="375008613"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236720%20Add%20docs%20on%20how%20to%20profile%20with%20sa.../near/375008613" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236720.20Add.20docs.20on.20how.20to.20profile.20with.20sa.2E.2E.2E.html#375008613">(Jul 13 2023 at 17:26)</a>:</h4>
<p>michelledaviest <a href="https://github.com/bytecodealliance/wasmtime/pull/6720#issuecomment-1634629548">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6720">issue #6720</a>:</p>
<blockquote>
<p>Hi! Our specific issue was that while samply works with perfmaps in wasmtime, the call tree and flamegraph that comes up only allows you to expand host code to show native code. The guest code function addresses don't get symbol names associated with them and can't be expanded into native code, so you can't actually inspect any of the guest code. Regardless, these instructions are exactly how I ran samply with perfmaps.</p>
</blockquote>



<a name="375954245"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236720%20Add%20docs%20on%20how%20to%20profile%20with%20sa.../near/375954245" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236720.20Add.20docs.20on.20how.20to.20profile.20with.20sa.2E.2E.2E.html#375954245">(Jul 17 2023 at 09:45)</a>:</h4>
<p>Maaarcocr <a href="https://github.com/bytecodealliance/wasmtime/pull/6720#issuecomment-1637719823">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6720">issue #6720</a>:</p>
<blockquote>
<blockquote>
<p>Hi! Our specific issue was that while samply works with perfmaps in wasmtime, the call tree and flamegraph that comes up only allows you to expand host code to show native code. The guest code function addresses don't get symbol names associated with them and can't be expanded into native code, so you can't actually inspect any of the guest code. Regardless, these instructions are exactly how I ran samply with perfmaps.</p>
</blockquote>
<p>I think the issue may be that I was running a version of samply built from source, which has support for perfmaps. I think the latest release on <a href="http://crates.io">crates.io</a> may not do so, which leads to not seeing guest code symbolised. I'll make sure to adjust the docs to outline this. This may change in the future when samply releases a new version. </p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>