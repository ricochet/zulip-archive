<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2859 wasi-nn: turn it on by default · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232859.20wasi-nn.3A.20turn.20it.20on.20by.20default.html">wasmtime / Issue #2859 wasi-nn: turn it on by default</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="236257488"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232859%20wasi-nn%3A%20turn%20it%20on%20by%20default/near/236257488" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232859.20wasi-nn.3A.20turn.20it.20on.20by.20default.html#236257488">(Apr 26 2021 at 22:59)</a>:</h4>
<p>abrown <a href="https://github.com/bytecodealliance/wasmtime/pull/2859#issuecomment-827194085">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2859">Issue #2859</a>:</p>
<blockquote>
<p>Several comments:</p>
<ul>
<li>the <code>cargo-deny</code> error is due to <code>libloading</code>'s ISC license: is this an issue?</li>
<li>in the past we had discussed enabling wasi-nn with a runtime flag (e.g., <code>--enable-wasi-nn</code>) but, after a discussion with @alexcrichton, it seemed to make more sense to enable it this way: the <code>wasi_ephemeral_nn::*</code> names are always made available by the Wasmtime engine but they only matter for users who import them.</li>
</ul>
</blockquote>



<a name="236258708"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232859%20wasi-nn%3A%20turn%20it%20on%20by%20default/near/236258708" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232859.20wasi-nn.3A.20turn.20it.20on.20by.20default.html#236258708">(Apr 26 2021 at 23:10)</a>:</h4>
<p>abrown <a href="https://github.com/bytecodealliance/wasmtime/pull/2859#issuecomment-827197993">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2859">Issue #2859</a>:</p>
<blockquote>
<ul>
<li>@pchickey, it would seem as though I should now be using more OS-agnostic paths to point to the WITX files to avoid <a href="https://github.com/bytecodealliance/wasmtime/pull/2859/checks?check_run_id=2443140264#step:8:326">this type of thing</a> but I see in <code>crates/wasi</code> that you are still using the forward slash for paths--is there something I'm missing?</li>
</ul>
</blockquote>



<a name="236281076"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232859%20wasi-nn%3A%20turn%20it%20on%20by%20default/near/236281076" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232859.20wasi-nn.3A.20turn.20it.20on.20by.20default.html#236281076">(Apr 27 2021 at 04:13)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/pull/2859#issuecomment-827299801">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2859">Issue #2859</a>:</p>
<blockquote>
<p>I've never seen that error in the from_witx macro before - the same syntax is working fine in wasi-common, so I'm not sure what is up with that. I will take a look tomorrow</p>
</blockquote>



<a name="236303447"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232859%20wasi-nn%3A%20turn%20it%20on%20by%20default/near/236303447" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232859.20wasi-nn.3A.20turn.20it.20on.20by.20default.html#236303447">(Apr 27 2021 at 08:55)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/pull/2859#issuecomment-827439723">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2859">Issue #2859</a>:</p>
<blockquote>
<p>The worry I'd have about enabling the wasi-nn module (or other modules somewhat early in the standardization process) is that we don't yet have a solid migration path defined. I fear that people could interpret this as a signal for more stability than we can actually guarantee right now.</p>
<p>The situation seems somewhat analogous to that in Node.js, where experimental JS features or Node APIs also need to be enabled explicitly, instead of just being available to content. To wit, Node has a <code>--experimental-wasi-unstable-preview1</code> flag  <span aria-label="big smile" class="emoji emoji-1f604" role="img" title="big smile">:big_smile:</span> </p>
<p>For now, I'd prefer introducing a runtime flag instead of just making wasi-nn available unconditionally. Ideally not in the form of a one-off <code>--enable-wasi-nn</code>, but something like <code>--experimental-wasi-modules=wasi-nn,[..]</code>.</p>
</blockquote>



<a name="236554278"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232859%20wasi-nn%3A%20turn%20it%20on%20by%20default/near/236554278" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232859.20wasi-nn.3A.20turn.20it.20on.20by.20default.html#236554278">(Apr 28 2021 at 18:17)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/2859#issuecomment-828674533">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2859">Issue #2859</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @peterhuene</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "wasmtime:api"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>peterhuene: wasmtime:api</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>