<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #1473 clif-util: don&#x27;t require a target ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231473.20clif-util.3A.20don.27t.20require.20a.20target.20.2E.2E.2E.html">wasmtime / Issue #1473 clif-util: don&#x27;t require a target ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="193070158"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231473%20clif-util%3A%20don%27t%20require%20a%20target%20.../near/193070158" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231473.20clif-util.3A.20don.27t.20require.20a.20target.20.2E.2E.2E.html#193070158">(Apr 06 2020 at 16:55)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/issues/1473" title="https://github.com/bytecodealliance/wasmtime/issues/1473">Issue #1473</a>:</p>
<blockquote>
<p>Translating wasm into clif should not require a target, but right now it does:</p>
<div class="codehilite"><pre><span></span>$ cargo run -- wasm -tp ~/scratch/two-plus-five.wasm
    Finished dev [unoptimized + debuginfo] target(s) in 0.06s
     Running `/home/fitzgen/wasmtime/target/debug/clif-util wasm -tp /home/fitzgen/scratch/two-plus-five.wasm`
Error: the wasm command requires an explicit isa.
</pre></div>


<p>When the <code>-t</code> flag is passed, and therefore we are only doing wasm to clif translation, we should not require a <code>--target</code> flag.</p>
</blockquote>



<a name="193070159"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231473%20clif-util%3A%20don%27t%20require%20a%20target%20.../near/193070159" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231473.20clif-util.3A.20don.27t.20require.20a.20target.20.2E.2E.2E.html#193070159">(Apr 06 2020 at 16:55)</a>:</h4>
<p>fitzgen labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/1473" title="https://github.com/bytecodealliance/wasmtime/issues/1473">Issue #1473</a>:</p>
<blockquote>
<p>Translating wasm into clif should not require a target, but right now it does:</p>
<div class="codehilite"><pre><span></span>$ cargo run -- wasm -tp ~/scratch/two-plus-five.wasm
    Finished dev [unoptimized + debuginfo] target(s) in 0.06s
     Running `/home/fitzgen/wasmtime/target/debug/clif-util wasm -tp /home/fitzgen/scratch/two-plus-five.wasm`
Error: the wasm command requires an explicit isa.
</pre></div>


<p>When the <code>-t</code> flag is passed, and therefore we are only doing wasm to clif translation, we should not require a <code>--target</code> flag.</p>
</blockquote>



<a name="193070175"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231473%20clif-util%3A%20don%27t%20require%20a%20target%20.../near/193070175" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231473.20clif-util.3A.20don.27t.20require.20a.20target.20.2E.2E.2E.html#193070175">(Apr 06 2020 at 16:55)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/issues/1473#issuecomment-609913618" title="https://github.com/bytecodealliance/wasmtime/issues/1473#issuecomment-609913618">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1473" title="https://github.com/bytecodealliance/wasmtime/issues/1473">Issue #1473</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>This issue or pull request has been labeled: "cranelift"</p>
<p>&lt;details&gt; &lt;summary&gt;Users Subscribed to "cranelift"&lt;/summary&gt;</p>
<ul>
<li>@bnjbvr</li>
</ul>
<p>&lt;/details&gt;</p>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action" title="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a></p>
</blockquote>



<a name="225078570"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231473%20clif-util%3A%20don%27t%20require%20a%20target%20.../near/225078570" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231473.20clif-util.3A.20don.27t.20require.20a.20target.20.2E.2E.2E.html#225078570">(Feb 03 2021 at 20:44)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/1473#issuecomment-772810421">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1473">Issue #1473</a>:</p>
<blockquote>
<p>The target is necessary to get the pointer size for things like reference types.</p>
</blockquote>



<a name="225089051"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231473%20clif-util%3A%20don%27t%20require%20a%20target%20.../near/225089051" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231473.20clif-util.3A.20don.27t.20require.20a.20target.20.2E.2E.2E.html#225089051">(Feb 03 2021 at 21:57)</a>:</h4>
<p>abrown <a href="https://github.com/bytecodealliance/wasmtime/issues/1473#issuecomment-772851454">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1473">Issue #1473</a>:</p>
<blockquote>
<p>I think it would be nice to have a sane default here: if <code>--target</code> is not passed, try to use the host's native target. I've run into this several times in the past and it's annoying.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>