<html>
<head><meta charset="utf-8"><title>wasmtime / PR #3773 ISLE: emit traps as safepoints on x64 · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233773.20ISLE.3A.20emit.20traps.20as.20safepoints.20on.20x64.html">wasmtime / PR #3773 ISLE: emit traps as safepoints on x64</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="271021376"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233773%20ISLE%3A%20emit%20traps%20as%20safepoints%20on%20x64/near/271021376" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233773.20ISLE.3A.20emit.20traps.20as.20safepoints.20on.20x64.html#271021376">(Feb 07 2022 at 18:26)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/3773">PR #3773</a>.</p>



<a name="271021377"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233773%20ISLE%3A%20emit%20traps%20as%20safepoints%20on%20x64/near/271021377" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233773.20ISLE.3A.20emit.20traps.20as.20safepoints.20on.20x64.html#271021377">(Feb 07 2022 at 18:26)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/pull/3773">PR #3773</a> from <code>x64-traps-safepoints</code> to <code>main</code>:</p>
<blockquote>
<p>This adds support for emitting safepoints from ISLE on x64 and makes traps safepoints, just like they used to be before they were ported to ISLE in 658c5d33c.</p>
<p>This doesn't actually affect Wasmtime at all, since Wasmtime never uses resumable traps, and we unwind the stack for regular traps, meaning that we never inspect the safepoint's spill slots. But maybe other Cranelift users rely on traps being safepoints, so best to keep the old behavior given that we don't have a strong reason to change it.</p>
</blockquote>



<a name="271024899"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233773%20ISLE%3A%20emit%20traps%20as%20safepoints%20on%20x64/near/271024899" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233773.20ISLE.3A.20emit.20traps.20as.20safepoints.20on.20x64.html#271024899">(Feb 07 2022 at 18:52)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3773#pullrequestreview-875110639">PR review</a>.</p>



<a name="271025675"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233773%20ISLE%3A%20emit%20traps%20as%20safepoints%20on%20x64/near/271025675" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233773.20ISLE.3A.20emit.20traps.20as.20safepoints.20on.20x64.html#271025675">(Feb 07 2022 at 18:57)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/3773">PR #3773</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>