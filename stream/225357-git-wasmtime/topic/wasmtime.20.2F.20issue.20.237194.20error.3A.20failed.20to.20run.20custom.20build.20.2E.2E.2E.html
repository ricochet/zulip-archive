<html>
<head><meta charset="utf-8"><title>wasmtime / issue #7194 error: failed to run custom build ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html">wasmtime / issue #7194 error: failed to run custom build ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="395622120"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/395622120" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#395622120">(Oct 09 2023 at 05:41)</a>:</h4>
<p>blue-freedom-technologies opened <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>:</p>
<blockquote>
<h3>Problem</h3>
<p>Not able to build the rust application using the command "cargo build --bin test-app".<br>
After adding this crate <a href="">subxt</a> to the cargo.toml.</p>
<h3>Steps</h3>
<p>1)adding this crate <a href="">subxt</a> to the cargo.toml.<br>
2)cargo build --bin test-app <br>
3) error.</p>
<h3>Possible Solution(s)</h3>
<p>Probably the <a href="">subxt</a> crate has something that is confusing the compiler. </p>
<h3>Notes</h3>
<p>This is an test application for a <a href="https://www.espressif.com/en/products/socs/esp32-c6">ESP32-c6</a> microcontroller. We are using the <a href="https://github.com/esp-rs/esp-idf-hal">esp-idf-hal</a>.<br>
We have the test-app code in <a href="https://github.com/blue-freedom-technologies/test-app/tree/main">here</a>.</p>
<h3>Version</h3>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>cargo 1.75.0-nightly (794d0a825 2023-10-03)
release: 1.75.0-nightly
commit-hash: 794d0a82547f3081044c0aca7b6083733ce51344
commit-date: 2023-10-03
host: x86_64-unknown-linux-gnu
libgit2: 1.7.1 (sys:0.18.1 vendored)
libcurl: 8.3.0-DEV (sys:0.4.66+curl-8.3.0 vendored ssl:OpenSSL/1.1.1u)
ssl: OpenSSL 1.1.1u  30 May 2023
os: Ubuntu 22.04 (jammy) [64-bit]
</code></pre></div>
<h3>Error</h3>
<p><div class="codehilite" data-code-language="Text only"><pre><span></span><code>Running `/home/silveira/bluefreedom/test-app/target/debug/build/wasmtime-runtime-af8c978cc181d296/build-script-build`
The following warnings were emitted during compilation:

warning: cc: error: unrecognized argument in option ‘-mabi=ilp32’
warning: cc: note: valid arguments to ‘-mabi=’ are: ms sysv
warning: cc: error: unrecognized argument in option ‘-mcmodel=medany’
warning: cc: note: valid arguments to ‘-mcmodel=’ are: 32 kernel large medium small

error: failed to run custom build command for `wasmtime-runtime v8.0.1`

Caused by:
  process didn't exit successfully: `/home/silveira/bluefreedom/test-app/target/debug/build/wasmtime-runtime-af8c978cc181d296/build-script-build` (exit status: 1)
  --- stdout
  cargo:rerun-if-changed=src/helpers.c
  TARGET = Some("riscv32imac-esp-espidf")
  OPT_LEVEL = Some("z")
  HOST = Some("x86_64-unknown-linux-gnu")
  cargo:rerun-if-env-changed=CC_riscv32imac-esp-espidf
  CC_riscv32imac-esp-espidf = None
  cargo:rerun-if-env-changed=CC_riscv32imac_esp_espidf
  CC_riscv32imac_esp_espidf = None
  cargo:rerun-if-env-changed=TARGET_CC
  TARGET_CC = None
  cargo:rerun-if-env-changed=CC
  CC = None
  RUSTC_LINKER = Some("ldproxy")
  cargo:rerun-if-env-changed=CROSS_COMPILE
  CROSS_COMPILE = None
  cargo:rerun-if-env-changed=CRATE_CC_NO_DEFAULTS
  CRATE_CC_NO_DEFAULTS = None
  DEBUG = Some("true")
  CARGO_CFG_TARGET_FEATURE = Some("a,c,m")
  cargo:rerun-if-env-changed=CFLAGS_riscv32imac-esp-espidf
  CFLAGS_riscv32imac-esp-espidf = None
  cargo:rerun-if-env-changed=CFLAGS_riscv32imac_esp_espidf
  CFLAGS_riscv32imac_esp_espidf = None
  cargo:rerun-if-env-changed=TARGET_CFLAGS
  TARGET_CFLAGS = None
  cargo:rerun-if-env-changed=CFLAGS
  CFLAGS = None
  running: "cc" "-Os" "-ffunction-sections" "-fdata-sections" "-fPIC" "-g" "-fno-omit-frame-pointer" "-march=rv32imac" "-mabi=ilp32" "-mcmodel=medany" "-Wall" "-Wextra" "-DCFG_TARGET_OS_espidf" "-DCFG_TARGET_ARCH_riscv32" "-o" "/home/silveira/bluefreedom/test-app/target/riscv32imac-esp-espidf/debug/build/wasmtime-runtime-d75f6ee2ec7ef9d7/out/src/helpers.o" "-c" "src/helpers.c"
  cargo:warning=cc: error: unrecognized argument in option ‘-mabi=ilp32’

  cargo:warning=cc: note: valid arguments to ‘-mabi=’ are: ms sysv

  cargo:warning=cc: error: unrecognized argument in option ‘-mcmodel=medany’

  cargo:warning=cc: note: valid arguments to ‘-mcmodel=’ are: 32 kernel large medium small

  exit status: 1

  --- stderr


  error occurred: Command "cc" "-Os" "-ffunction-sections" "-fdata-sections" "-fPIC" "-g" "-fno-omit-frame-pointer" "-march=rv32imac" "-mabi=ilp32" "-mcmodel=medany" "-Wall" "-Wextra" "-DCFG_TARGET_OS_espidf" "-DCFG_TARGET_ARCH_riscv32" "-o" "/home/silveira/bluefreedom/test-app/target/riscv32imac-esp-espidf/debug/build/wasmtime-runtime-d75f6ee2ec7ef9d7/out/src/helpers.o" "-c" "src/helpers.c" with args "cc" did not execute successfully (status code exit status: 1).

warning: build failed, waiting for other jobs to finish...
</code></pre></div><br>
</p>
</blockquote>



<a name="395625313"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/395625313" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#395625313">(Oct 09 2023 at 06:11)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/7194#issuecomment-1752396439">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>:</p>
<blockquote>
<p>Wasmtime currently doesn't support any 32bit architectures.</p>
</blockquote>



<a name="395669061"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/395669061" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#395669061">(Oct 09 2023 at 10:40)</a>:</h4>
<p>blue-freedom-technologies <a href="https://github.com/bytecodealliance/wasmtime/issues/7194#issuecomment-1752764274">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>:</p>
<blockquote>
<p>That's right,  sorry for the trouble. </p>
</blockquote>



<a name="395669063"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/395669063" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#395669063">(Oct 09 2023 at 10:40)</a>:</h4>
<p>blue-freedom-technologies closed <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>:</p>
<blockquote>
<h3>Problem</h3>
<p>Not able to build the rust application using the command "cargo build --bin test-app".<br>
After adding this crate <a href="">subxt</a> to the cargo.toml.</p>
<h3>Steps</h3>
<p>1)adding this crate <a href="">subxt</a> to the cargo.toml.<br>
2)cargo build --bin test-app <br>
3) error.</p>
<h3>Possible Solution(s)</h3>
<p>Probably the <a href="">subxt</a> crate has something that is confusing the compiler. </p>
<h3>Notes</h3>
<p>This is an test application for a <a href="https://www.espressif.com/en/products/socs/esp32-c6">ESP32-c6</a> microcontroller. We are using the <a href="https://github.com/esp-rs/esp-idf-hal">esp-idf-hal</a>.<br>
We have the test-app code in <a href="https://github.com/blue-freedom-technologies/test-app/tree/main">here</a>.</p>
<h3>Version</h3>
<div class="codehilite" data-code-language="Text only"><pre><span></span><code>cargo 1.75.0-nightly (794d0a825 2023-10-03)
release: 1.75.0-nightly
commit-hash: 794d0a82547f3081044c0aca7b6083733ce51344
commit-date: 2023-10-03
host: x86_64-unknown-linux-gnu
libgit2: 1.7.1 (sys:0.18.1 vendored)
libcurl: 8.3.0-DEV (sys:0.4.66+curl-8.3.0 vendored ssl:OpenSSL/1.1.1u)
ssl: OpenSSL 1.1.1u  30 May 2023
os: Ubuntu 22.04 (jammy) [64-bit]
</code></pre></div>
<h3>Error</h3>
<p><div class="codehilite" data-code-language="Text only"><pre><span></span><code>Running `/home/silveira/bluefreedom/test-app/target/debug/build/wasmtime-runtime-af8c978cc181d296/build-script-build`
The following warnings were emitted during compilation:

warning: cc: error: unrecognized argument in option ‘-mabi=ilp32’
warning: cc: note: valid arguments to ‘-mabi=’ are: ms sysv
warning: cc: error: unrecognized argument in option ‘-mcmodel=medany’
warning: cc: note: valid arguments to ‘-mcmodel=’ are: 32 kernel large medium small

error: failed to run custom build command for `wasmtime-runtime v8.0.1`

Caused by:
  process didn't exit successfully: `/home/silveira/bluefreedom/test-app/target/debug/build/wasmtime-runtime-af8c978cc181d296/build-script-build` (exit status: 1)
  --- stdout
  cargo:rerun-if-changed=src/helpers.c
  TARGET = Some("riscv32imac-esp-espidf")
  OPT_LEVEL = Some("z")
  HOST = Some("x86_64-unknown-linux-gnu")
  cargo:rerun-if-env-changed=CC_riscv32imac-esp-espidf
  CC_riscv32imac-esp-espidf = None
  cargo:rerun-if-env-changed=CC_riscv32imac_esp_espidf
  CC_riscv32imac_esp_espidf = None
  cargo:rerun-if-env-changed=TARGET_CC
  TARGET_CC = None
  cargo:rerun-if-env-changed=CC
  CC = None
  RUSTC_LINKER = Some("ldproxy")
  cargo:rerun-if-env-changed=CROSS_COMPILE
  CROSS_COMPILE = None
  cargo:rerun-if-env-changed=CRATE_CC_NO_DEFAULTS
  CRATE_CC_NO_DEFAULTS = None
  DEBUG = Some("true")
  CARGO_CFG_TARGET_FEATURE = Some("a,c,m")
  cargo:rerun-if-env-changed=CFLAGS_riscv32imac-esp-espidf
  CFLAGS_riscv32imac-esp-espidf = None
  cargo:rerun-if-env-changed=CFLAGS_riscv32imac_esp_espidf
  CFLAGS_riscv32imac_esp_espidf = None
  cargo:rerun-if-env-changed=TARGET_CFLAGS
  TARGET_CFLAGS = None
  cargo:rerun-if-env-changed=CFLAGS
  CFLAGS = None
  running: "cc" "-Os" "-ffunction-sections" "-fdata-sections" "-fPIC" "-g" "-fno-omit-frame-pointer" "-march=rv32imac" "-mabi=ilp32" "-mcmodel=medany" "-Wall" "-Wextra" "-DCFG_TARGET_OS_espidf" "-DCFG_TARGET_ARCH_riscv32" "-o" "/home/silveira/bluefreedom/test-app/target/riscv32imac-esp-espidf/debug/build/wasmtime-runtime-d75f6ee2ec7ef9d7/out/src/helpers.o" "-c" "src/helpers.c"
  cargo:warning=cc: error: unrecognized argument in option ‘-mabi=ilp32’

  cargo:warning=cc: note: valid arguments to ‘-mabi=’ are: ms sysv

  cargo:warning=cc: error: unrecognized argument in option ‘-mcmodel=medany’

  cargo:warning=cc: note: valid arguments to ‘-mcmodel=’ are: 32 kernel large medium small

  exit status: 1

  --- stderr


  error occurred: Command "cc" "-Os" "-ffunction-sections" "-fdata-sections" "-fPIC" "-g" "-fno-omit-frame-pointer" "-march=rv32imac" "-mabi=ilp32" "-mcmodel=medany" "-Wall" "-Wextra" "-DCFG_TARGET_OS_espidf" "-DCFG_TARGET_ARCH_riscv32" "-o" "/home/silveira/bluefreedom/test-app/target/riscv32imac-esp-espidf/debug/build/wasmtime-runtime-d75f6ee2ec7ef9d7/out/src/helpers.o" "-c" "src/helpers.c" with args "cc" did not execute successfully (status code exit status: 1).

warning: build failed, waiting for other jobs to finish...
</code></pre></div><br>
</p>
</blockquote>



<a name="395806395"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/395806395" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#395806395">(Oct 10 2023 at 04:37)</a>:</h4>
<p>blue-freedom-technologies edited <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>.</p>



<a name="401529553"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/401529553" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#401529553">(Nov 11 2023 at 17:03)</a>:</h4>
<p>harry2855 <a href="https://github.com/bytecodealliance/wasmtime/issues/7194#issuecomment-1806866442">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>:</p>
<blockquote>
<p>@bjorn3 I am using Macbook Air M1, still getting this error. Do you have an idea of possible reasons?</p>
</blockquote>



<a name="401529930"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/401529930" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#401529930">(Nov 11 2023 at 17:10)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/7194#issuecomment-1806867982">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>:</p>
<blockquote>
<p>Can you post the full error message?</p>
</blockquote>



<a name="401533677"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/401533677" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#401533677">(Nov 11 2023 at 18:16)</a>:</h4>
<p>harry2855 <a href="https://github.com/bytecodealliance/wasmtime/issues/7194#issuecomment-1806882589">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="code"><pre><span></span><code>The following warnings were emitted during compilation:

warning: wasmtime-runtime@8.0.1: src/helpers.c:1:10: fatal error: 'setjmp.h' file not found
warning: wasmtime-runtime@8.0.1: #include &lt;setjmp.h&gt;
warning: wasmtime-runtime@8.0.1:          ^~~~~~~~~~
warning: wasmtime-runtime@8.0.1: 1 error generated.

error: failed to run custom build command for `wasmtime-runtime v8.0.1`

Caused by:
  process didn't exit successfully: `/Users/harry/Desktop/blockchain/ink-Stable-Coin/contracts/stable-coin/target/ink/release/build/wasmtime-runtime-90f91f7d3dfa62f2/build-script-build` (exit status: 1)
  --- stdout
  cargo:rerun-if-changed=src/helpers.c
  TARGET = Some("wasm32-unknown-unknown")
  OPT_LEVEL = Some("z")
  HOST = Some("aarch64-apple-darwin")
  cargo:rerun-if-env-changed=CC_wasm32-unknown-unknown
  CC_wasm32-unknown-unknown = None
  cargo:rerun-if-env-changed=CC_wasm32_unknown_unknown
  CC_wasm32_unknown_unknown = None
  cargo:rerun-if-env-changed=TARGET_CC
  TARGET_CC = None
  cargo:rerun-if-env-changed=CC
  CC = None
  cargo:rerun-if-env-changed=CRATE_CC_NO_DEFAULTS
  CRATE_CC_NO_DEFAULTS = None
  DEBUG = Some("false")
  cargo:rerun-if-env-changed=CFLAGS_wasm32-unknown-unknown
  CFLAGS_wasm32-unknown-unknown = None
  cargo:rerun-if-env-changed=CFLAGS_wasm32_unknown_unknown
  CFLAGS_wasm32_unknown_unknown = None
  cargo:rerun-if-env-changed=TARGET_CFLAGS
  TARGET_CFLAGS = None
  cargo:rerun-if-env-changed=CFLAGS
  CFLAGS = None
  running: "clang" "-Oz" "-ffunction-sections" "-fdata-sections" "-fPIC" "--target=wasm32-unknown-unknown" "-Wall" "-Wextra" "-DCFG_TARGET_OS_unknown" "-DCFG_TARGET_ARCH_wasm32" "-o" "/Users/harry/Desktop/blockchain/ink-Stable-Coin/contracts/stable-coin/target/ink/wasm32-unknown-unknown/release/build/wasmtime-runtime-4f7b010b9427d08c/out/src/helpers.o" "-c" "src/helpers.c"
  cargo:warning=src/helpers.c:1:10: fatal error: 'setjmp.h' file not found

  cargo:warning=#include &lt;setjmp.h&gt;

  cargo:warning=         ^~~~~~~~~~

  cargo:warning=1 error generated.

  exit status: 1

  --- stderr


  error occurred: Command "clang" "-Oz" "-ffunction-sections" "-fdata-sections" "-fPIC" "--target=wasm32-unknown-unknown" "-Wall" "-Wextra" "-DCFG_TARGET_OS_unknown" "-DCFG_TARGET_ARCH_wasm32" "-o" "/Users/harry/Desktop/blockchain/ink-Stable-Coin/contracts/stable-coin/target/ink/wasm32-unknown-unknown/release/build/wasmtime-runtime-4f7b010b9427d08c/out/src/helpers.o" "-c" "src/helpers.c" with args "clang" did not execute successfully (status code exit status: 1).
 ```

And below is my cargo.toml file:
```code
[package]
name = "stable_coin_contract"
version= "4.0.0-beta.1"
authors = ["Brushfam &lt;dominik.krizo@727.ventures&gt;"]
edition = "2021"

[dependencies]
ink = { version = "4.3.0", default-features = false}

scale = { package = "parity-scale-codec", version = "3", default-features = false, features = ["derive"] }
scale-info = { version = "2.6", default-features = false, features = ["derive"], optional = true }
dia-oracle-getter = { path = "../oracle-contracts/oracle-getter", default-features = false }
# These dependencies
openbrush = { tag = "4.0.0-beta", git = "https://github.com/Brushfam/openbrush-contracts", default-features = false, features = ["ownable", "psp22"] }
drink = { version = "0.6" }
[dev-dependencies]
dia-oracle = { path = "../oracle-contracts/oracle", default-features = false }
dia-oracle-setter = { path = "../oracle-contracts/oracle-setter", default-features = false }
[lib]
name = "stable_coin_contract"
path = "lib.rs"

[features]
default = ["std"]
std = [
    "ink/std",
    "scale/std",
    "scale-info/std",
    # These dependencies
    "openbrush/std",
    "dia-oracle-getter/std",
]
ink-as-dependency = []

[profile.dev]
codegen-units = 16
</code></pre></div><br>
</p>
</blockquote>



<a name="401533700"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/401533700" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#401533700">(Nov 11 2023 at 18:16)</a>:</h4>
<p>harry2855 edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/7194#issuecomment-1806882589">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>:</p>
<blockquote>
<p>I got this error</p>
<p><div class="codehilite" data-code-language="code"><pre><span></span><code>The following warnings were emitted during compilation:

warning: wasmtime-runtime@8.0.1: src/helpers.c:1:10: fatal error: 'setjmp.h' file not found
warning: wasmtime-runtime@8.0.1: #include &lt;setjmp.h&gt;
warning: wasmtime-runtime@8.0.1:          ^~~~~~~~~~
warning: wasmtime-runtime@8.0.1: 1 error generated.

error: failed to run custom build command for `wasmtime-runtime v8.0.1`

Caused by:
  process didn't exit successfully: `/Users/harry/Desktop/blockchain/ink-Stable-Coin/contracts/stable-coin/target/ink/release/build/wasmtime-runtime-90f91f7d3dfa62f2/build-script-build` (exit status: 1)
  --- stdout
  cargo:rerun-if-changed=src/helpers.c
  TARGET = Some("wasm32-unknown-unknown")
  OPT_LEVEL = Some("z")
  HOST = Some("aarch64-apple-darwin")
  cargo:rerun-if-env-changed=CC_wasm32-unknown-unknown
  CC_wasm32-unknown-unknown = None
  cargo:rerun-if-env-changed=CC_wasm32_unknown_unknown
  CC_wasm32_unknown_unknown = None
  cargo:rerun-if-env-changed=TARGET_CC
  TARGET_CC = None
  cargo:rerun-if-env-changed=CC
  CC = None
  cargo:rerun-if-env-changed=CRATE_CC_NO_DEFAULTS
  CRATE_CC_NO_DEFAULTS = None
  DEBUG = Some("false")
  cargo:rerun-if-env-changed=CFLAGS_wasm32-unknown-unknown
  CFLAGS_wasm32-unknown-unknown = None
  cargo:rerun-if-env-changed=CFLAGS_wasm32_unknown_unknown
  CFLAGS_wasm32_unknown_unknown = None
  cargo:rerun-if-env-changed=TARGET_CFLAGS
  TARGET_CFLAGS = None
  cargo:rerun-if-env-changed=CFLAGS
  CFLAGS = None
  running: "clang" "-Oz" "-ffunction-sections" "-fdata-sections" "-fPIC" "--target=wasm32-unknown-unknown" "-Wall" "-Wextra" "-DCFG_TARGET_OS_unknown" "-DCFG_TARGET_ARCH_wasm32" "-o" "/Users/harry/Desktop/blockchain/ink-Stable-Coin/contracts/stable-coin/target/ink/wasm32-unknown-unknown/release/build/wasmtime-runtime-4f7b010b9427d08c/out/src/helpers.o" "-c" "src/helpers.c"
  cargo:warning=src/helpers.c:1:10: fatal error: 'setjmp.h' file not found

  cargo:warning=#include &lt;setjmp.h&gt;

  cargo:warning=         ^~~~~~~~~~

  cargo:warning=1 error generated.

  exit status: 1

  --- stderr


  error occurred: Command "clang" "-Oz" "-ffunction-sections" "-fdata-sections" "-fPIC" "--target=wasm32-unknown-unknown" "-Wall" "-Wextra" "-DCFG_TARGET_OS_unknown" "-DCFG_TARGET_ARCH_wasm32" "-o" "/Users/harry/Desktop/blockchain/ink-Stable-Coin/contracts/stable-coin/target/ink/wasm32-unknown-unknown/release/build/wasmtime-runtime-4f7b010b9427d08c/out/src/helpers.o" "-c" "src/helpers.c" with args "clang" did not execute successfully (status code exit status: 1).
 ```

And below is my cargo.toml file:
```code
[package]
name = "stable_coin_contract"
version= "4.0.0-beta.1"
authors = ["Brushfam &lt;dominik.krizo@727.ventures&gt;"]
edition = "2021"

[dependencies]
ink = { version = "4.3.0", default-features = false}

scale = { package = "parity-scale-codec", version = "3", default-features = false, features = ["derive"] }
scale-info = { version = "2.6", default-features = false, features = ["derive"], optional = true }
dia-oracle-getter = { path = "../oracle-contracts/oracle-getter", default-features = false }
# These dependencies
openbrush = { tag = "4.0.0-beta", git = "https://github.com/Brushfam/openbrush-contracts", default-features = false, features = ["ownable", "psp22"] }
drink = { version = "0.6" }
[dev-dependencies]
dia-oracle = { path = "../oracle-contracts/oracle", default-features = false }
dia-oracle-setter = { path = "../oracle-contracts/oracle-setter", default-features = false }
[lib]
name = "stable_coin_contract"
path = "lib.rs"

[features]
default = ["std"]
std = [
    "ink/std",
    "scale/std",
    "scale-info/std",
    # These dependencies
    "openbrush/std",
    "dia-oracle-getter/std",
]
ink-as-dependency = []

[profile.dev]
codegen-units = 16
</code></pre></div><br>
</p>
</blockquote>



<a name="401639027"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/401639027" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#401639027">(Nov 12 2023 at 20:42)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/7194#issuecomment-1807233772">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>:</p>
<blockquote>
<p>@harry2855 it looks like you're building Wasmtime for the <code>wasm32-unknown-unknown</code> target itself which is not supported. </p>
</blockquote>



<a name="401835071"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/401835071" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#401835071">(Nov 13 2023 at 19:55)</a>:</h4>
<p>harry2855 <a href="https://github.com/bytecodealliance/wasmtime/issues/7194#issuecomment-1808949995">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>:</p>
<blockquote>
<p>@alexcrichton What are the alternatives then? Should I have to change it to wasm64-unknown-unknown?</p>
</blockquote>



<a name="401841363"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/401841363" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#401841363">(Nov 13 2023 at 20:40)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/7194#issuecomment-1809065114">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>:</p>
<blockquote>
<p>No, at this time Wasmtime cannot itself be compiled to WebAssembly, it's not a supported target. (either wasm32 or wasm64)</p>
</blockquote>



<a name="401844811"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237194%20error%3A%20failed%20to%20run%20custom%20build%20.../near/401844811" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237194.20error.3A.20failed.20to.20run.20custom.20build.20.2E.2E.2E.html#401844811">(Nov 13 2023 at 21:03)</a>:</h4>
<p>harry2855 <a href="https://github.com/bytecodealliance/wasmtime/issues/7194#issuecomment-1809117378">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7194">issue #7194</a>:</p>
<blockquote>
<p>Okay, thanks for your time. </p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>