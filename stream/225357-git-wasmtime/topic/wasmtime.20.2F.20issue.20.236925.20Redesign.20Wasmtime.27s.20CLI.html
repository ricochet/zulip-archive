<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6925 Redesign Wasmtime&#x27;s CLI · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html">wasmtime / issue #6925 Redesign Wasmtime&#x27;s CLI</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="387939192"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/387939192" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#387939192">(Aug 29 2023 at 18:21)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1697901512">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>Also, as a final note, there's a shed with bikes here and we gotta figure out the color. I'm happy to hand out paint brushes to anyone willing! AKA now's the time for bikeshedding this where we only get to do this once really IMO</p>
</blockquote>



<a name="387939946"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/387939946" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#387939946">(Aug 29 2023 at 18:25)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1697893906">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>I'll note that this is a breaking change and we're in the period of "no breaking changes before WasmCon", so this shouldn't land for a few weeks. Additionally some more background for this is available at <a href="https://github.com/bytecodealliance/wasmtime/issues/6741">https://github.com/bytecodealliance/wasmtime/issues/6741</a> too.</p>
<p>Finally here's some snippets:</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt;&lt;code&gt;./target/debug/wasmtime -h&lt;/code&gt;&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Wasmtime</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">Runtime</span>

<span class="n">Usage</span>: <span class="nc">wasmtime</span><span class="w"> </span><span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="n">WASM</span><span class="o">&gt;..</span><span class="p">.</span>
<span class="w">       </span><span class="n">wasmtime</span><span class="w"> </span><span class="o">&lt;</span><span class="n">COMMAND</span><span class="o">&gt;</span>

<span class="n">Commands</span>:
  <span class="nc">config</span><span class="w">    </span><span class="n">Controls</span><span class="w"> </span><span class="n">Wasmtime</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">settings</span>
<span class="w">  </span><span class="n">compile</span><span class="w">   </span><span class="n">Compiles</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span>
<span class="w">  </span><span class="n">explore</span><span class="w">   </span><span class="n">Explore</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compilation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">native</span><span class="w"> </span><span class="n">code</span>
<span class="w">  </span><span class="n">run</span><span class="w">       </span><span class="n">Runs</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span>
<span class="w">  </span><span class="n">settings</span><span class="w">  </span><span class="n">Displays</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">target</span>
<span class="w">  </span><span class="n">wast</span><span class="w">      </span><span class="n">Runs</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="n">file</span>
<span class="w">  </span><span class="n">help</span><span class="w">      </span><span class="n">Print</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">subcommand</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="n">Arguments</span>:
  <span class="o">&lt;</span><span class="n">WASM</span><span class="o">&gt;..</span><span class="p">.</span><span class="w">  </span><span class="n">The</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">pass</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">it</span>

<span class="n">Options</span>:
  <span class="o">-</span><span class="n">O</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">optimize</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">    </span><span class="n">Optimization</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">tuning</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">performance</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">codegen</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">     </span><span class="n">Codegen</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">debug</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">       </span><span class="n">Debug</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">wasm</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">        </span><span class="n">Options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">semantic</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">WebAssembly</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">wasi</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">        </span><span class="n">Options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">WASI</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">proposals</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">S</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">      </span><span class="o">--</span><span class="n">allow</span><span class="o">-</span><span class="n">precompiled</span><span class="w">            </span><span class="n">Allow</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">precompiled</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">modules</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">`</span><span class="o">*</span><span class="p">.</span><span class="n">cwasm</span><span class="err">`</span><span class="w"> </span><span class="n">files</span>
<span class="w">      </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="o">&lt;</span><span class="n">GUEST_DIR</span><span class="p">[</span>::<span class="n">HOST_DIR</span><span class="p">]</span><span class="o">&gt;</span><span class="w">  </span><span class="n">Grant</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">guest</span>
<span class="w">      </span><span class="o">--</span><span class="n">env</span><span class="w"> </span><span class="o">&lt;</span><span class="n">NAME</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">]</span><span class="o">&gt;</span><span class="w">             </span><span class="n">Pass</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">program</span>
<span class="w">      </span><span class="o">--</span><span class="n">invoke</span><span class="w"> </span><span class="o">&lt;</span><span class="n">FUNCTION</span><span class="o">&gt;</span><span class="w">            </span><span class="n">The</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span>
<span class="w">      </span><span class="o">--</span><span class="n">preload</span><span class="w"> </span><span class="o">&lt;</span><span class="n">NAME</span><span class="o">=</span><span class="n">MODULE_PATH</span><span class="o">&gt;</span><span class="w">   </span><span class="n">Load</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span>
<span class="w">      </span><span class="o">--</span><span class="n">profile</span><span class="w"> </span><span class="o">&lt;</span><span class="n">STRATEGY</span><span class="o">&gt;</span><span class="w">           </span><span class="n">Profiling</span><span class="w"> </span><span class="n">strategy</span><span class="w"> </span><span class="p">(</span><span class="n">valid</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span>: <span class="nc">perfmap</span><span class="p">,</span><span class="w"> </span><span class="n">jitdump</span><span class="p">,</span><span class="w"> </span><span class="n">vtune</span><span class="p">,</span><span class="w"> </span><span class="n">guest</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">help</span><span class="w">                         </span><span class="n">Print</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="p">(</span><span class="n">see</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">'--</span><span class="n">help</span><span class="o">'</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">V</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">version</span><span class="w">                      </span><span class="n">Print</span><span class="w"> </span><span class="n">version</span>

<span class="n">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">subcommand</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">provided</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">`</span><span class="n">run</span><span class="err">`</span><span class="w"> </span><span class="n">subcommand</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="p">.</span>

<span class="n">Usage</span><span class="w"> </span><span class="n">examples</span>:

<span class="nc">Running</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">function</span>:

  <span class="nc">wasmtime</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">wasm</span>

<span class="n">Passing</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span>:

  <span class="nc">wasmtime</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="n">arg1</span><span class="w"> </span><span class="n">arg2</span><span class="w"> </span><span class="n">arg3</span>

<span class="n">Invoking</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="w"> </span><span class="err">`</span><span class="n">add</span><span class="err">`</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span>:

  <span class="nc">wasmtime</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">invoke</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt;&lt;code&gt;./target/debug/wasmtime run -h&lt;/code&gt;&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Runs</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span>

<span class="n">Usage</span>: <span class="nc">wasmtime</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="n">WASM</span><span class="o">&gt;..</span><span class="p">.</span>

<span class="n">Arguments</span>:
  <span class="o">&lt;</span><span class="n">WASM</span><span class="o">&gt;..</span><span class="p">.</span><span class="w">  </span><span class="n">The</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">pass</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">it</span>

<span class="n">Options</span>:
  <span class="o">-</span><span class="n">O</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">optimize</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">    </span><span class="n">Optimization</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">tuning</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">performance</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">codegen</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">     </span><span class="n">Codegen</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">debug</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">       </span><span class="n">Debug</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">wasm</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">        </span><span class="n">Options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">semantic</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">WebAssembly</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">wasi</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">        </span><span class="n">Options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">WASI</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">proposals</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">S</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">      </span><span class="o">--</span><span class="n">allow</span><span class="o">-</span><span class="n">precompiled</span><span class="w">            </span><span class="n">Allow</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">precompiled</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">modules</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">`</span><span class="o">*</span><span class="p">.</span><span class="n">cwasm</span><span class="err">`</span><span class="w"> </span><span class="n">files</span>
<span class="w">      </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="o">&lt;</span><span class="n">GUEST_DIR</span><span class="p">[</span>::<span class="n">HOST_DIR</span><span class="p">]</span><span class="o">&gt;</span><span class="w">  </span><span class="n">Grant</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">guest</span>
<span class="w">      </span><span class="o">--</span><span class="n">env</span><span class="w"> </span><span class="o">&lt;</span><span class="n">NAME</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">]</span><span class="o">&gt;</span><span class="w">             </span><span class="n">Pass</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">program</span>
<span class="w">      </span><span class="o">--</span><span class="n">invoke</span><span class="w"> </span><span class="o">&lt;</span><span class="n">FUNCTION</span><span class="o">&gt;</span><span class="w">            </span><span class="n">The</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span>
<span class="w">      </span><span class="o">--</span><span class="n">preload</span><span class="w"> </span><span class="o">&lt;</span><span class="n">NAME</span><span class="o">=</span><span class="n">MODULE_PATH</span><span class="o">&gt;</span><span class="w">   </span><span class="n">Load</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span>
<span class="w">      </span><span class="o">--</span><span class="n">profile</span><span class="w"> </span><span class="o">&lt;</span><span class="n">STRATEGY</span><span class="o">&gt;</span><span class="w">           </span><span class="n">Profiling</span><span class="w"> </span><span class="n">strategy</span><span class="w"> </span><span class="p">(</span><span class="n">valid</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span>: <span class="nc">perfmap</span><span class="p">,</span><span class="w"> </span><span class="n">jitdump</span><span class="p">,</span><span class="w"> </span><span class="n">vtune</span><span class="p">,</span><span class="w"> </span><span class="n">guest</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">help</span><span class="w">                         </span><span class="n">Print</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="p">(</span><span class="n">see</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">'--</span><span class="n">help</span><span class="o">'</span><span class="p">)</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt;&lt;code&gt;./target/debug/wasmtime compile -h&lt;/code&gt;&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Compiles</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span>

<span class="n">Usage</span>: <span class="nc">wasmtime</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="n">MODULE</span><span class="o">&gt;</span>

<span class="n">Arguments</span>:
  <span class="o">&lt;</span><span class="n">MODULE</span><span class="o">&gt;</span><span class="w">  </span><span class="n">The</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compile</span>

<span class="n">Options</span>:
  <span class="o">-</span><span class="n">O</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">optimize</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">  </span><span class="n">Optimization</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">tuning</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">performance</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">codegen</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">   </span><span class="n">Codegen</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">debug</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">     </span><span class="n">Debug</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">wasm</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">      </span><span class="n">Options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">semantic</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">WebAssembly</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">wasi</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">      </span><span class="n">Options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">WASI</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">proposals</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">S</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">      </span><span class="o">--</span><span class="n">target</span><span class="w"> </span><span class="o">&lt;</span><span class="n">TARGET</span><span class="o">&gt;</span><span class="w">            </span><span class="n">The</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">triple</span><span class="p">;</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">triple</span>
<span class="w">  </span><span class="o">-</span><span class="n">o</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">output</span><span class="w"> </span><span class="o">&lt;</span><span class="n">OUTPUT</span><span class="o">&gt;</span><span class="w">            </span><span class="n">The</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="n">module</span><span class="p">;</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">&lt;</span><span class="n">MODULE</span><span class="o">&gt;</span><span class="p">.</span><span class="n">cwasm</span>
<span class="w">      </span><span class="o">--</span><span class="n">emit</span><span class="o">-</span><span class="n">clif</span><span class="w"> </span><span class="o">&lt;</span><span class="n">PATH</span><span class="o">&gt;</span><span class="w">           </span><span class="n">The</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">clif</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">into</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">clif</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">function</span>
<span class="w">  </span><span class="o">-</span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">help</span><span class="w">                       </span><span class="n">Print</span><span class="w"> </span><span class="n">help</span>
<span class="w">  </span><span class="o">-</span><span class="n">V</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">version</span><span class="w">                    </span><span class="n">Print</span><span class="w"> </span><span class="n">version</span>

<span class="n">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">CPU</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">presets</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compilation</span><span class="p">.</span>

<span class="n">Usage</span><span class="w"> </span><span class="n">examples</span>:

<span class="nc">Compiling</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">platform</span>:

  <span class="nc">wasmtime</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">wasm</span>

<span class="n">Specifying</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">file</span>:

  <span class="nc">wasmtime</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">output</span><span class="p">.</span><span class="n">cwasm</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="n">wasm</span>

<span class="n">Compiling</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="p">(</span><span class="n">Linux</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">CPU</span><span class="w"> </span><span class="n">preset</span><span class="w"> </span><span class="p">(</span><span class="n">Skylake</span><span class="p">)</span>:

  <span class="nc">wasmtime</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="o">--</span><span class="n">target</span><span class="w"> </span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="w"> </span><span class="o">-</span><span class="n">Ccranelift</span><span class="o">-</span><span class="n">skylake</span><span class="w"> </span><span class="n">foo</span><span class="p">.</span><span class="n">wasm</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt;&lt;code&gt;./target/debug/wasmtime -O help&lt;/code&gt;&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Available</span><span class="w"> </span><span class="n">optimize</span><span class="w"> </span><span class="n">options</span>:

  <span class="o">-</span><span class="n">O</span><span class="w">                          </span><span class="n">opt</span><span class="o">-</span><span class="n">level</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Optimization</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="n">default</span>: <span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w">          </span><span class="n">dynamic</span><span class="o">-</span><span class="n">memory</span><span class="o">-</span><span class="n">guard</span><span class="o">-</span><span class="n">size</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Byte</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">guard</span><span class="w"> </span><span class="n">region</span><span class="w"> </span><span class="n">after</span><span class="w"> </span><span class="n">dynamic</span><span class="w"> </span><span class="n">memories</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">allocated</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w">             </span><span class="k">static</span><span class="o">-</span><span class="n">memory</span><span class="o">-</span><span class="n">forced</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Force</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"static"</span><span class="w"> </span><span class="n">style</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">memories</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w">         </span><span class="k">static</span><span class="o">-</span><span class="n">memory</span><span class="o">-</span><span class="n">maximum</span><span class="o">-</span><span class="n">size</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">becomes</span><span class="w"> </span><span class="n">dynamically</span><span class="w"> </span><span class="n">relocatable</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">up</span><span class="o">-</span><span class="n">front</span><span class="o">-</span><span class="n">reserved</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w">           </span><span class="k">static</span><span class="o">-</span><span class="n">memory</span><span class="o">-</span><span class="n">guard</span><span class="o">-</span><span class="n">size</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Byte</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">guard</span><span class="w"> </span><span class="n">region</span><span class="w"> </span><span class="n">after</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">memories</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">allocated</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="n">dynamic</span><span class="o">-</span><span class="n">memory</span><span class="o">-</span><span class="n">reserved</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">growth</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Bytes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reserve</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">linear</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">growth</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">dynamic</span><span class="w"> </span><span class="n">memories</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w">                </span><span class="n">pooling</span><span class="o">-</span><span class="n">allocator</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Enable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pooling</span><span class="w"> </span><span class="n">allocator</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">place</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">on</span><span class="o">-</span><span class="n">demand</span><span class="w"> </span><span class="n">allocator</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w">                  </span><span class="n">memory</span><span class="o">-</span><span class="n">init</span><span class="o">-</span><span class="n">cow</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Configure</span><span class="w"> </span><span class="n">attempting</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">initialize</span><span class="w"> </span><span class="n">linear</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">copy</span><span class="o">-</span><span class="n">on</span><span class="o">-</span><span class="n">write</span><span class="w"> </span><span class="n">mapping</span><span class="w"> </span><span class="p">(</span><span class="n">default</span>: <span class="nc">yes</span><span class="p">)</span>

<span class="n">pass</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="n">help</span><span class="o">-</span><span class="n">long</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">longer</span><span class="o">-</span><span class="n">form</span><span class="w"> </span><span class="n">explanations</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt;&lt;code&gt;./target/debug/wasmtime -C help&lt;/code&gt;&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Available</span><span class="w"> </span><span class="n">codegen</span><span class="w"> </span><span class="n">options</span>:

  <span class="o">-</span><span class="n">C</span><span class="w">                   </span><span class="n">compiler</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Either</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="err">`</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="err">`</span><span class="n">winch</span><span class="err">`</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="n">cranelift</span><span class="o">-</span><span class="n">debug</span><span class="o">-</span><span class="n">verifier</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Enable</span><span class="w"> </span><span class="n">Cranelift</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">internal</span><span class="w"> </span><span class="n">debug</span><span class="w"> </span><span class="n">verifier</span><span class="w"> </span><span class="p">(</span><span class="n">expensive</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="w">                    </span><span class="n">cache</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Whether</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="n">modules</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="w">               </span><span class="n">cache</span><span class="o">-</span><span class="n">config</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Configuration</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">caching</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="w">     </span><span class="n">parallel</span><span class="o">-</span><span class="n">compilation</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Whether</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">parallel</span><span class="w"> </span><span class="n">compilation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">modules</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="w">          </span><span class="n">cranelift</span><span class="o">-&lt;</span><span class="n">KEY</span><span class="o">&gt;</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cranelift</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="n">option</span><span class="p">.</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="w"> </span><span class="n">settings</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span><span class="p">.</span>

<span class="n">pass</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="n">help</span><span class="o">-</span><span class="n">long</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">longer</span><span class="o">-</span><span class="n">form</span><span class="w"> </span><span class="n">explanations</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt;&lt;code&gt;./target/debug/wasmtime -W help&lt;/code&gt;&lt;/summary&gt;</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Available</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">options</span>:

  <span class="o">-</span><span class="n">W</span><span class="w">       </span><span class="n">nan</span><span class="o">-</span><span class="n">canonicalization</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Enable</span><span class="w"> </span><span class="n">canonicalization</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">NaN</span><span class="w"> </span><span class="n">values</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                         </span><span class="n">fuel</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Enable</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">fuel</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="n">units</span><span class="w"> </span><span class="n">fuel</span><span class="p">,</span><span class="w"> </span><span class="n">trapping</span><span class="w"> </span><span class="n">after</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">fuel</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">         </span><span class="n">epoch</span><span class="o">-</span><span class="n">interruption</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Yield</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">global</span><span class="w"> </span><span class="n">epoch</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="n">changes</span><span class="p">,</span><span class="w"> </span><span class="n">allowing</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="n">operation</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">blocking</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">executor</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">               </span><span class="n">max</span><span class="o">-</span><span class="n">wasm</span><span class="o">-</span><span class="n">stack</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">consume</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="n">overflow</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">reported</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">      </span><span class="n">unknown</span><span class="o">-</span><span class="n">exports</span><span class="o">-</span><span class="n">allow</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Allow</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">exports</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">commands</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">       </span><span class="n">unknown</span><span class="o">-</span><span class="n">imports</span><span class="o">-</span><span class="n">trap</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Allow</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">functions</span><span class="p">,</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">immediately</span><span class="w"> </span><span class="n">traps</span><span class="p">,</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">commands</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">    </span><span class="n">unknown</span><span class="o">-</span><span class="n">imports</span><span class="o">-</span><span class="n">default</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Allow</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">functions</span><span class="p">,</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">values</span><span class="p">,</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">commands</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                  </span><span class="n">wmemcheck</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Enables</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">checking</span><span class="p">.</span><span class="w"> </span><span class="p">(</span><span class="n">see</span><span class="w"> </span><span class="n">wmemcheck</span><span class="p">.</span><span class="n">md</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">info</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">              </span><span class="n">max</span><span class="o">-</span><span class="n">memory</span><span class="o">-</span><span class="n">size</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">linear</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reach</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">           </span><span class="n">max</span><span class="o">-</span><span class="n">table</span><span class="o">-</span><span class="n">elements</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="n">elements</span><span class="p">,</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reach</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                </span><span class="n">max</span><span class="o">-</span><span class="n">instances</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">instances</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                   </span><span class="n">max</span><span class="o">-</span><span class="n">tables</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                 </span><span class="n">max</span><span class="o">-</span><span class="n">memories</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">linear</span><span class="w"> </span><span class="n">memories</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">       </span><span class="n">trap</span><span class="o">-</span><span class="n">on</span><span class="o">-</span><span class="n">grow</span><span class="o">-</span><span class="n">failure</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Force</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">trap</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">raised</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="err">`</span><span class="n">memory</span><span class="p">.</span><span class="n">grow</span><span class="err">`</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="err">`</span><span class="n">table</span><span class="p">.</span><span class="n">grow</span><span class="err">`</span><span class="w"> </span><span class="n">failure</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">returning</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">instructions</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                      </span><span class="n">timeout</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">timing</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="n">ms</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">              </span><span class="n">all</span><span class="o">-</span><span class="n">proposals</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Configures</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">proposals</span><span class="w"> </span><span class="n">implemented</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                </span><span class="n">bulk</span><span class="o">-</span><span class="n">memory</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Configure</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">bulk</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">proposal</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">               </span><span class="n">multi</span><span class="o">-</span><span class="n">memory</span><span class="p">[</span><span class="o">=</span><span class="n">val</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Configure</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">multi</span><span class="o">-</span><span class="n">memory</span><span class="w"> </span><span class="n">proposal</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span>
<span class="p">[</span><span class="n">message</span><span class="w"> </span><span class="n">truncated</span><span class="p">]</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="387944047"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/387944047" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#387944047">(Aug 29 2023 at 18:53)</a>:</h4>
<p>abrown <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1697967103">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>bikeshed: in the printed <code>--help</code> output, can we get all the <code>val</code> (I'm only looking under <code>-S</code> but this may apply elsewhere) to be printed as <code>y|n</code> or <code>&lt;encoding&gt;::&lt;dir&gt;</code> or whatever that flag expects? Essentially communicate more clearly what kinds of things are valid after <code>=</code>?</p>
</blockquote>



<a name="387949909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/387949909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#387949909">(Aug 29 2023 at 19:30)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1698014344">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>Good point! Updated to that now</p>
</blockquote>



<a name="387963640"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/387963640" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#387963640">(Aug 29 2023 at 20:44)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1698103669">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @peterhuene</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "wasmtime:api", "wasmtime:config", "wasmtime:docs"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>peterhuene: wasmtime:api</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="387970193"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/387970193" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#387970193">(Aug 29 2023 at 21:18)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1698104202">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<h4>Label Messager: wasmtime:config</h4>
<p>It looks like you are changing Wasmtime's configuration options. Make sure to<br>
complete this check list:</p>
<ul>
<li>
<p>[ ] If you added a new <code>Config</code> method, you wrote extensive documentation for<br>
      it.</p>
<p>&lt;details&gt;</p>
<p>Our documentation should be of the following form:</p>
<p>```text<br>
Short, simple summary sentence.</p>
<p>More details. These details can be multiple paragraphs. There should be<br>
information about not just the method, but its parameters and results as<br>
well.</p>
<p>Is this method fallible? If so, when can it return an error?</p>
<p>Can this method panic? If so, when does it panic?</p>
<h1>Example</h1>
<p>Optional example here.<br>
```</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[ ] If you added a new <code>Config</code> method, or modified an existing one, you<br>
  ensured that this configuration is exercised by the fuzz targets.</p>
<p>&lt;details&gt;</p>
<p>For example, if you expose a new strategy for allocating the next instance<br>
slot inside the pooling allocator, you should ensure that at least one of our<br>
fuzz targets exercises that new strategy.</p>
<p>Often, all that is required of you is to ensure that there is a knob for this<br>
configuration option in [<code>wasmtime_fuzzing::Config</code>][fuzzing-config] (or one<br>
of its nested <code>struct</code>s).</p>
<p>Rarely, this may require authoring a new fuzz target to specifically test this<br>
configuration. See [our docs on fuzzing][fuzzing-docs] for more details.</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[ ] If you are enabling a configuration option by default, make sure that it<br>
  has been fuzzed for at least two weeks before turning it on by default.</p>
</li>
</ul>
<p>[fuzzing-config]: <a href="https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194">https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194</a><br>
[fuzzing-docs]: <a href="https://docs.wasmtime.dev/contributing-fuzzing.html">https://docs.wasmtime.dev/contributing-fuzzing.html</a></p>
<hr>
<p>&lt;details&gt;</p>
<p>To modify this label's message, edit the &lt;code&gt;.github/label-messager/wasmtime-config.md&lt;/code&gt; file.</p>
<p>To add new label messages or remove existing label messages, edit the<br>
&lt;code&gt;.github/label-messager.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/label-messager-action">Learn more.</a></p>
<p>&lt;/details&gt;</p>
</blockquote>



<a name="388352443"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/388352443" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#388352443">(Aug 31 2023 at 15:39)</a>:</h4>
<p>alexcrichton edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1697893906">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>I'll note that this is a breaking change and we're in the period of "no breaking changes before WasmCon", so this shouldn't land for a few weeks. Additionally some more background for this is available at <a href="https://github.com/bytecodealliance/wasmtime/issues/6741">https://github.com/bytecodealliance/wasmtime/issues/6741</a> too.</p>
<p>Finally here's some snippets:</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt;&lt;code&gt;./target/debug/wasmtime -h&lt;/code&gt;&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Wasmtime</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">Runtime</span>

<span class="n">Usage</span>: <span class="nc">wasmtime</span><span class="w"> </span><span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="n">WASM</span><span class="o">&gt;..</span><span class="p">.</span>
<span class="w">       </span><span class="n">wasmtime</span><span class="w"> </span><span class="o">&lt;</span><span class="n">COMMAND</span><span class="o">&gt;</span>

<span class="n">Commands</span>:
  <span class="nc">config</span><span class="w">    </span><span class="n">Controls</span><span class="w"> </span><span class="n">Wasmtime</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">settings</span>
<span class="w">  </span><span class="n">compile</span><span class="w">   </span><span class="n">Compiles</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span>
<span class="w">  </span><span class="n">explore</span><span class="w">   </span><span class="n">Explore</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compilation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">native</span><span class="w"> </span><span class="n">code</span>
<span class="w">  </span><span class="n">run</span><span class="w">       </span><span class="n">Runs</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span>
<span class="w">  </span><span class="n">settings</span><span class="w">  </span><span class="n">Displays</span><span class="w"> </span><span class="n">available</span><span class="w"> </span><span class="n">Cranelift</span><span class="w"> </span><span class="n">settings</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">target</span>
<span class="w">  </span><span class="n">wast</span><span class="w">      </span><span class="n">Runs</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">test</span><span class="w"> </span><span class="n">script</span><span class="w"> </span><span class="n">file</span>
<span class="w">  </span><span class="n">help</span><span class="w">      </span><span class="n">Print</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">message</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">subcommand</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

<span class="n">Arguments</span>:
  <span class="o">&lt;</span><span class="n">WASM</span><span class="o">&gt;..</span><span class="p">.</span><span class="w">  </span><span class="n">The</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">pass</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">it</span>

<span class="n">Options</span>:
  <span class="o">-</span><span class="n">O</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">optimize</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">    </span><span class="n">Optimization</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">tuning</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">performance</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">codegen</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">     </span><span class="n">Codegen</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">debug</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">       </span><span class="n">Debug</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">wasm</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">        </span><span class="n">Options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">semantic</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">WebAssembly</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">wasi</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">        </span><span class="n">Options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">WASI</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">proposals</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">S</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">      </span><span class="o">--</span><span class="n">allow</span><span class="o">-</span><span class="n">precompiled</span><span class="w">            </span><span class="n">Allow</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">precompiled</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">modules</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">`</span><span class="o">*</span><span class="p">.</span><span class="n">cwasm</span><span class="err">`</span><span class="w"> </span><span class="n">files</span>
<span class="w">      </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="o">&lt;</span><span class="n">GUEST_DIR</span><span class="p">[</span>::<span class="n">HOST_DIR</span><span class="p">]</span><span class="o">&gt;</span><span class="w">  </span><span class="n">Grant</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">guest</span>
<span class="w">      </span><span class="o">--</span><span class="n">env</span><span class="w"> </span><span class="o">&lt;</span><span class="n">NAME</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">]</span><span class="o">&gt;</span><span class="w">             </span><span class="n">Pass</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">program</span>
<span class="w">      </span><span class="o">--</span><span class="n">invoke</span><span class="w"> </span><span class="o">&lt;</span><span class="n">FUNCTION</span><span class="o">&gt;</span><span class="w">            </span><span class="n">The</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span>
<span class="w">      </span><span class="o">--</span><span class="n">preload</span><span class="w"> </span><span class="o">&lt;</span><span class="n">NAME</span><span class="o">=</span><span class="n">MODULE_PATH</span><span class="o">&gt;</span><span class="w">   </span><span class="n">Load</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span>
<span class="w">      </span><span class="o">--</span><span class="n">profile</span><span class="w"> </span><span class="o">&lt;</span><span class="n">STRATEGY</span><span class="o">&gt;</span><span class="w">           </span><span class="n">Profiling</span><span class="w"> </span><span class="n">strategy</span><span class="w"> </span><span class="p">(</span><span class="n">valid</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span>: <span class="nc">perfmap</span><span class="p">,</span><span class="w"> </span><span class="n">jitdump</span><span class="p">,</span><span class="w"> </span><span class="n">vtune</span><span class="p">,</span><span class="w"> </span><span class="n">guest</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">help</span><span class="w">                         </span><span class="n">Print</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="p">(</span><span class="n">see</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">'--</span><span class="n">help</span><span class="o">'</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">V</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">version</span><span class="w">                      </span><span class="n">Print</span><span class="w"> </span><span class="n">version</span>

<span class="n">If</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">subcommand</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">provided</span><span class="p">,</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="err">`</span><span class="n">run</span><span class="err">`</span><span class="w"> </span><span class="n">subcommand</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">used</span><span class="p">.</span>

<span class="n">Usage</span><span class="w"> </span><span class="n">examples</span>:

<span class="nc">Running</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="n">function</span>:

  <span class="nc">wasmtime</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">wasm</span>

<span class="n">Passing</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">line</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span>:

  <span class="nc">wasmtime</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="n">arg1</span><span class="w"> </span><span class="n">arg2</span><span class="w"> </span><span class="n">arg3</span>

<span class="n">Invoking</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="p">(</span><span class="n">e</span><span class="p">.</span><span class="n">g</span><span class="p">.</span><span class="w"> </span><span class="err">`</span><span class="n">add</span><span class="err">`</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span>:

  <span class="nc">wasmtime</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">invoke</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="mi">2</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt;&lt;code&gt;./target/debug/wasmtime run -h&lt;/code&gt;&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Runs</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span>

<span class="n">Usage</span>: <span class="nc">wasmtime</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="n">WASM</span><span class="o">&gt;..</span><span class="p">.</span>

<span class="n">Arguments</span>:
  <span class="o">&lt;</span><span class="n">WASM</span><span class="o">&gt;..</span><span class="p">.</span><span class="w">  </span><span class="n">The</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">arguments</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">pass</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">it</span>

<span class="n">Options</span>:
  <span class="o">-</span><span class="n">O</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">optimize</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">    </span><span class="n">Optimization</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">tuning</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">performance</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">codegen</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">     </span><span class="n">Codegen</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">debug</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">       </span><span class="n">Debug</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">wasm</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">        </span><span class="n">Options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">semantic</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">WebAssembly</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">wasi</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">        </span><span class="n">Options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">WASI</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">proposals</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">S</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">      </span><span class="o">--</span><span class="n">allow</span><span class="o">-</span><span class="n">precompiled</span><span class="w">            </span><span class="n">Allow</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">precompiled</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">modules</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="err">`</span><span class="o">*</span><span class="p">.</span><span class="n">cwasm</span><span class="err">`</span><span class="w"> </span><span class="n">files</span>
<span class="w">      </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="o">&lt;</span><span class="n">GUEST_DIR</span><span class="p">[</span>::<span class="n">HOST_DIR</span><span class="p">]</span><span class="o">&gt;</span><span class="w">  </span><span class="n">Grant</span><span class="w"> </span><span class="n">access</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">guest</span>
<span class="w">      </span><span class="o">--</span><span class="n">env</span><span class="w"> </span><span class="o">&lt;</span><span class="n">NAME</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">]</span><span class="o">&gt;</span><span class="w">             </span><span class="n">Pass</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">program</span>
<span class="w">      </span><span class="o">--</span><span class="n">invoke</span><span class="w"> </span><span class="o">&lt;</span><span class="n">FUNCTION</span><span class="o">&gt;</span><span class="w">            </span><span class="n">The</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span>
<span class="w">      </span><span class="o">--</span><span class="n">preload</span><span class="w"> </span><span class="o">&lt;</span><span class="n">NAME</span><span class="o">=</span><span class="n">MODULE_PATH</span><span class="o">&gt;</span><span class="w">   </span><span class="n">Load</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">given</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span>
<span class="w">      </span><span class="o">--</span><span class="n">profile</span><span class="w"> </span><span class="o">&lt;</span><span class="n">STRATEGY</span><span class="o">&gt;</span><span class="w">           </span><span class="n">Profiling</span><span class="w"> </span><span class="n">strategy</span><span class="w"> </span><span class="p">(</span><span class="n">valid</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="n">are</span>: <span class="nc">perfmap</span><span class="p">,</span><span class="w"> </span><span class="n">jitdump</span><span class="p">,</span><span class="w"> </span><span class="n">vtune</span><span class="p">,</span><span class="w"> </span><span class="n">guest</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">help</span><span class="w">                         </span><span class="n">Print</span><span class="w"> </span><span class="n">help</span><span class="w"> </span><span class="p">(</span><span class="n">see</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">'--</span><span class="n">help</span><span class="o">'</span><span class="p">)</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt;&lt;code&gt;./target/debug/wasmtime compile -h&lt;/code&gt;&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Compiles</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span>

<span class="n">Usage</span>: <span class="nc">wasmtime</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="p">[</span><span class="n">OPTIONS</span><span class="p">]</span><span class="w"> </span><span class="o">&lt;</span><span class="n">MODULE</span><span class="o">&gt;</span>

<span class="n">Arguments</span>:
  <span class="o">&lt;</span><span class="n">MODULE</span><span class="o">&gt;</span><span class="w">  </span><span class="n">The</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">compile</span>

<span class="n">Options</span>:
  <span class="o">-</span><span class="n">O</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">optimize</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">  </span><span class="n">Optimization</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">tuning</span><span class="w"> </span><span class="n">related</span><span class="w"> </span><span class="n">options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">performance</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">codegen</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">   </span><span class="n">Codegen</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">D</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">debug</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">     </span><span class="n">Debug</span><span class="o">-</span><span class="n">related</span><span class="w"> </span><span class="n">configuration</span><span class="w"> </span><span class="n">options</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">wasm</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">      </span><span class="n">Options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">semantic</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">WebAssembly</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">W</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">  </span><span class="o">-</span><span class="n">S</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">wasi</span><span class="w"> </span><span class="o">&lt;</span><span class="n">KEY</span><span class="p">[</span><span class="o">=</span><span class="n">VAL</span><span class="p">[,</span><span class="o">..</span><span class="p">]]</span><span class="o">&gt;</span><span class="w">      </span><span class="n">Options</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">configuring</span><span class="w"> </span><span class="n">WASI</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">proposals</span><span class="p">,</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">S</span><span class="w"> </span><span class="n">help</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span>
<span class="w">      </span><span class="o">--</span><span class="n">target</span><span class="w"> </span><span class="o">&lt;</span><span class="n">TARGET</span><span class="o">&gt;</span><span class="w">            </span><span class="n">The</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="n">triple</span><span class="p">;</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">host</span><span class="w"> </span><span class="n">triple</span>
<span class="w">  </span><span class="o">-</span><span class="n">o</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">output</span><span class="w"> </span><span class="o">&lt;</span><span class="n">OUTPUT</span><span class="o">&gt;</span><span class="w">            </span><span class="n">The</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="n">module</span><span class="p">;</span><span class="w"> </span><span class="n">defaults</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">&lt;</span><span class="n">MODULE</span><span class="o">&gt;</span><span class="p">.</span><span class="n">cwasm</span>
<span class="w">      </span><span class="o">--</span><span class="n">emit</span><span class="o">-</span><span class="n">clif</span><span class="w"> </span><span class="o">&lt;</span><span class="n">PATH</span><span class="o">&gt;</span><span class="w">           </span><span class="n">The</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">write</span><span class="w"> </span><span class="n">clif</span><span class="w"> </span><span class="n">files</span><span class="w"> </span><span class="n">into</span><span class="p">,</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">clif</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">per</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">function</span>
<span class="w">  </span><span class="o">-</span><span class="n">h</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">help</span><span class="w">                       </span><span class="n">Print</span><span class="w"> </span><span class="n">help</span>
<span class="w">  </span><span class="o">-</span><span class="n">V</span><span class="p">,</span><span class="w"> </span><span class="o">--</span><span class="n">version</span><span class="w">                    </span><span class="n">Print</span><span class="w"> </span><span class="n">version</span>

<span class="n">By</span><span class="w"> </span><span class="n">default</span><span class="p">,</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">CPU</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">presets</span><span class="w"> </span><span class="n">will</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">enabled</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">compilation</span><span class="p">.</span>

<span class="n">Usage</span><span class="w"> </span><span class="n">examples</span>:

<span class="nc">Compiling</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">platform</span>:

  <span class="nc">wasmtime</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="n">example</span><span class="p">.</span><span class="n">wasm</span>

<span class="n">Specifying</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">output</span><span class="w"> </span><span class="n">file</span>:

  <span class="nc">wasmtime</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="o">-</span><span class="n">o</span><span class="w"> </span><span class="n">output</span><span class="p">.</span><span class="n">cwasm</span><span class="w"> </span><span class="n">input</span><span class="p">.</span><span class="n">wasm</span>

<span class="n">Compiling</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">specific</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="p">(</span><span class="n">Linux</span><span class="p">)</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">CPU</span><span class="w"> </span><span class="n">preset</span><span class="w"> </span><span class="p">(</span><span class="n">Skylake</span><span class="p">)</span>:

  <span class="nc">wasmtime</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="o">--</span><span class="n">target</span><span class="w"> </span><span class="n">x86_64</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">linux</span><span class="w"> </span><span class="o">-</span><span class="n">Ccranelift</span><span class="o">-</span><span class="n">skylake</span><span class="w"> </span><span class="n">foo</span><span class="p">.</span><span class="n">wasm</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt;&lt;code&gt;./target/debug/wasmtime -O help&lt;/code&gt;&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Available</span><span class="w"> </span><span class="n">optimize</span><span class="w"> </span><span class="n">options</span>:

  <span class="o">-</span><span class="n">O</span><span class="w">                    </span><span class="n">opt</span><span class="o">-</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="o">|</span><span class="mi">1</span><span class="o">|</span><span class="mi">2</span><span class="o">|</span><span class="n">s</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Optimization</span><span class="w"> </span><span class="n">level</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">generated</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="p">(</span><span class="mi">0</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">s</span><span class="p">;</span><span class="w"> </span><span class="n">default</span>: <span class="mi">0</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w">          </span><span class="n">dynamic</span><span class="o">-</span><span class="n">memory</span><span class="o">-</span><span class="n">guard</span><span class="o">-</span><span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Byte</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">guard</span><span class="w"> </span><span class="n">region</span><span class="w"> </span><span class="n">after</span><span class="w"> </span><span class="n">dynamic</span><span class="w"> </span><span class="n">memories</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">allocated</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w">           </span><span class="k">static</span><span class="o">-</span><span class="n">memory</span><span class="o">-</span><span class="n">forced</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Force</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="s">"static"</span><span class="w"> </span><span class="n">style</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">memories</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w">         </span><span class="k">static</span><span class="o">-</span><span class="n">memory</span><span class="o">-</span><span class="n">maximum</span><span class="o">-</span><span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">it</span><span class="w"> </span><span class="n">becomes</span><span class="w"> </span><span class="n">dynamically</span><span class="w"> </span><span class="n">relocatable</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">up</span><span class="o">-</span><span class="n">front</span><span class="o">-</span><span class="n">reserved</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w">           </span><span class="k">static</span><span class="o">-</span><span class="n">memory</span><span class="o">-</span><span class="n">guard</span><span class="o">-</span><span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Byte</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">guard</span><span class="w"> </span><span class="n">region</span><span class="w"> </span><span class="n">after</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="n">memories</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">allocated</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="n">dynamic</span><span class="o">-</span><span class="n">memory</span><span class="o">-</span><span class="n">reserved</span><span class="o">-</span><span class="k">for</span><span class="o">-</span><span class="n">growth</span><span class="o">=</span><span class="n">N</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Bytes</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reserve</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">linear</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">growth</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">dynamic</span><span class="w"> </span><span class="n">memories</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w">              </span><span class="n">pooling</span><span class="o">-</span><span class="n">allocator</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Enable</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">pooling</span><span class="w"> </span><span class="n">allocator</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">place</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">on</span><span class="o">-</span><span class="n">demand</span><span class="w"> </span><span class="n">allocator</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">O</span><span class="w">                </span><span class="n">memory</span><span class="o">-</span><span class="n">init</span><span class="o">-</span><span class="n">cow</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Configure</span><span class="w"> </span><span class="n">attempting</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">initialize</span><span class="w"> </span><span class="n">linear</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">via</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">copy</span><span class="o">-</span><span class="n">on</span><span class="o">-</span><span class="n">write</span><span class="w"> </span><span class="n">mapping</span><span class="w"> </span><span class="p">(</span><span class="n">default</span>: <span class="nc">yes</span><span class="p">)</span>

<span class="n">pass</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">O</span><span class="w"> </span><span class="n">help</span><span class="o">-</span><span class="n">long</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">longer</span><span class="o">-</span><span class="n">form</span><span class="w"> </span><span class="n">explanations</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt;&lt;code&gt;./target/debug/wasmtime -C help&lt;/code&gt;&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Available</span><span class="w"> </span><span class="n">codegen</span><span class="w"> </span><span class="n">options</span>:

  <span class="o">-</span><span class="n">C</span><span class="w">       </span><span class="n">compiler</span><span class="o">=</span><span class="n">winch</span><span class="o">|</span><span class="n">cranelift</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Either</span><span class="w"> </span><span class="err">`</span><span class="n">cranelift</span><span class="err">`</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="err">`</span><span class="n">winch</span><span class="err">`</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="n">cranelift</span><span class="o">-</span><span class="n">debug</span><span class="o">-</span><span class="n">verifier</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Enable</span><span class="w"> </span><span class="n">Cranelift</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">internal</span><span class="w"> </span><span class="n">debug</span><span class="w"> </span><span class="n">verifier</span><span class="w"> </span><span class="p">(</span><span class="n">expensive</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="w">                    </span><span class="n">cache</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Whether</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">caching</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="n">modules</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="w">               </span><span class="n">cache</span><span class="o">-</span><span class="n">config</span><span class="o">=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Configuration</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">compiled</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">caching</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="w">     </span><span class="n">parallel</span><span class="o">-</span><span class="n">compilation</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Whether</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">enable</span><span class="w"> </span><span class="n">parallel</span><span class="w"> </span><span class="n">compilation</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">modules</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">C</span><span class="w">            </span><span class="n">cranelift</span><span class="o">-&lt;</span><span class="n">KEY</span><span class="o">&gt;=</span><span class="n">val</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Set</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">cranelift</span><span class="o">-</span><span class="n">specific</span><span class="w"> </span><span class="n">option</span><span class="p">.</span><span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="err">`</span><span class="n">wasmtime</span><span class="w"> </span><span class="n">settings</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">all</span><span class="p">.</span>

<span class="n">pass</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="n">help</span><span class="o">-</span><span class="n">long</span><span class="err">`</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="n">longer</span><span class="o">-</span><span class="n">form</span><span class="w"> </span><span class="n">explanations</span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;</p>
<p>&lt;summary&gt;&lt;code&gt;./target/debug/wasmtime -W help&lt;/code&gt;&lt;/summary&gt;</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Available</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">options</span>:

  <span class="o">-</span><span class="n">W</span><span class="w">       </span><span class="n">nan</span><span class="o">-</span><span class="n">canonicalization</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Enable</span><span class="w"> </span><span class="n">canonicalization</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">NaN</span><span class="w"> </span><span class="n">values</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                           </span><span class="n">fuel</span><span class="o">=</span><span class="n">N</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Enable</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">fuel</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="n">units</span><span class="w"> </span><span class="n">fuel</span><span class="p">,</span><span class="w"> </span><span class="n">trapping</span><span class="w"> </span><span class="n">after</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">fuel</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">         </span><span class="n">epoch</span><span class="o">-</span><span class="n">interruption</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Yield</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">global</span><span class="w"> </span><span class="n">epoch</span><span class="w"> </span><span class="n">counter</span><span class="w"> </span><span class="n">changes</span><span class="p">,</span><span class="w"> </span><span class="n">allowing</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="n">operation</span><span class="w"> </span><span class="n">without</span><span class="w"> </span><span class="n">blocking</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">executor</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                 </span><span class="n">max</span><span class="o">-</span><span class="n">wasm</span><span class="o">-</span><span class="n">stack</span><span class="o">=</span><span class="n">N</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">consume</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">stack</span><span class="w"> </span><span class="n">overflow</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">reported</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">      </span><span class="n">unknown</span><span class="o">-</span><span class="n">exports</span><span class="o">-</span><span class="n">allow</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Allow</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">exports</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">commands</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">       </span><span class="n">unknown</span><span class="o">-</span><span class="n">imports</span><span class="o">-</span><span class="n">trap</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Allow</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">functions</span><span class="p">,</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">immediately</span><span class="w"> </span><span class="n">traps</span><span class="p">,</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">commands</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">    </span><span class="n">unknown</span><span class="o">-</span><span class="n">imports</span><span class="o">-</span><span class="n">default</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Allow</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">import</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="n">functions</span><span class="p">,</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">implementation</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">returns</span><span class="w"> </span><span class="n">default</span><span class="w"> </span><span class="n">values</span><span class="p">,</span><span class="w"> </span><span class="n">when</span><span class="w"> </span><span class="n">running</span><span class="w"> </span><span class="n">commands</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                  </span><span class="n">wmemcheck</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Enables</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">checking</span><span class="p">.</span><span class="w"> </span><span class="p">(</span><span class="n">see</span><span class="w"> </span><span class="n">wmemcheck</span><span class="p">.</span><span class="n">md</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">info</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                </span><span class="n">max</span><span class="o">-</span><span class="n">memory</span><span class="o">-</span><span class="n">size</span><span class="o">=</span><span class="n">N</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">bytes</span><span class="p">,</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">linear</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reach</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">             </span><span class="n">max</span><span class="o">-</span><span class="n">table</span><span class="o">-</span><span class="n">elements</span><span class="o">=</span><span class="n">N</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">size</span><span class="p">,</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="n">elements</span><span class="p">,</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">reach</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                  </span><span class="n">max</span><span class="o">-</span><span class="n">instances</span><span class="o">=</span><span class="n">N</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">instances</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                     </span><span class="n">max</span><span class="o">-</span><span class="n">tables</span><span class="o">=</span><span class="n">N</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">tables</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                   </span><span class="n">max</span><span class="o">-</span><span class="n">memories</span><span class="o">=</span><span class="n">N</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">number</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">linear</span><span class="w"> </span><span class="n">memories</span><span class="w"> </span><span class="n">allowed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">created</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">       </span><span class="n">trap</span><span class="o">-</span><span class="n">on</span><span class="o">-</span><span class="n">grow</span><span class="o">-</span><span class="n">failure</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Force</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">trap</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">be</span><span class="w"> </span><span class="n">raised</span><span class="w"> </span><span class="n">on</span><span class="w"> </span><span class="err">`</span><span class="n">memory</span><span class="p">.</span><span class="n">grow</span><span class="err">`</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="err">`</span><span class="n">table</span><span class="p">.</span><span class="n">grow</span><span class="err">`</span><span class="w"> </span><span class="n">failure</span><span class="w"> </span><span class="n">instead</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">returning</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="w"> </span><span class="n">from</span><span class="w"> </span><span class="n">these</span><span class="w"> </span><span class="n">instructions</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">              </span><span class="n">timeout</span><span class="o">=</span><span class="n">N</span><span class="o">|</span><span class="n">Ns</span><span class="o">|</span><span class="n">Nms</span><span class="o">|..</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Maximum</span><span class="w"> </span><span class="n">execution</span><span class="w"> </span><span class="n">time</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">code</span><span class="w"> </span><span class="n">before</span><span class="w"> </span><span class="n">timing</span><span class="w"> </span><span class="n">out</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="mi">100</span><span class="n">ms</span><span class="p">,</span><span class="w"> </span><span class="n">etc</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">              </span><span class="n">all</span><span class="o">-</span><span class="n">proposals</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Configures</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">all</span><span class="w"> </span><span class="n">WebAssembly</span><span class="w"> </span><span class="n">proposals</span><span class="w"> </span><span class="n">implemented</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                </span><span class="n">bulk</span><span class="o">-</span><span class="n">memory</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Configure</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">bulk</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">proposal</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">               </span><span class="n">multi</span><span class="o">-</span><span class="n">memory</span><span class="p">[</span><span class="o">=</span><span class="n">y</span><span class="o">|</span><span class="n">n</span><span class="p">]</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="n">Configure</span><span class="w"> </span><span class="n">support</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">multi</span><span class="o">-</span><span class="n">memory</span><span class="w"> </span><span class="n">proposal</span><span class="p">.</span>
<span class="w">  </span><span class="o">-</span><span class="n">W</span><span class="w">                </span><span class="n">mu</span>
<span class="p">[</span><span class="n">message</span><span class="w"> </span><span class="n">truncated</span><span class="p">]</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="388376747"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/388376747" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#388376747">(Aug 31 2023 at 17:43)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1701489921">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>From today's Wasmtime meeting discussion the conclusion is that this PR will land in Wasmtime 14.0.0 and will be coupled with <a href="https://github.com/bytecodealliance/wasmtime/pull/6737">https://github.com/bytecodealliance/wasmtime/pull/6737</a>. Despite <a href="https://github.com/bytecodealliance/wasmtime/pull/6737">https://github.com/bytecodealliance/wasmtime/pull/6737</a> being a landed PR on main it was reverted for 12.0.0 and is <a href="https://github.com/bytecodealliance/wasmtime/pull/6944">being reverted</a> for the upcoming 13.0.0 branch. That'll re-land via a separate future PR for the 14.0.0 release once the 13.0.0 branch is created.</p>
</blockquote>



<a name="388397531"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/388397531" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#388397531">(Aug 31 2023 at 20:02)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1701706461">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>I've converted this PR to a draft while we wait for Wasmtime 13.0.0 to get branched. In the meantime I've created a <a href="#narrow/stream/217126-wasmtime/topic/Upcoming.20changes.20to.20Wasmtime's.20CLI/near/388395163">stream on Zulip to discuss these changes</a> and there's a <a href="https://github.com/bytecodealliance/wasmtime/pull/6946">sibling PR</a> for how Wasmtime's options are required to be first now.</p>
</blockquote>



<a name="390324309"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/390324309" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#390324309">(Sep 11 2023 at 14:33)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1714013372">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>Ok now that we're post-WasmCon and given @abrown's previous approval I'm going to go ahead and land this.</p>
</blockquote>



<a name="398135087"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/398135087" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#398135087">(Oct 23 2023 at 18:13)</a>:</h4>
<p>ydnar <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1775752545">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>This broke TinyGo (and also mainline Go’s <code>wasip1</code> runner): <a href="https://github.com/tinygo-org/tinygo/issues/3970">https://github.com/tinygo-org/tinygo/issues/3970</a></p>
<p>Would it be possible to introduce a minor change for backwards compatibility? I think these would be sufficient to fix at least TinyGo and Go:</p>
<ol>
<li>Support <code>--mapdir=GUEST::HOST</code> as an alias for <code>--dir=HOST::GUEST</code></li>
<li>If the command args includes <code>--</code>, then interpret everything before the <code>--</code> as arguments to <code>wasmtime</code>, and everything after <code>--</code> as arguments to the guest program</li>
</ol>
</blockquote>



<a name="398136404"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/398136404" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#398136404">(Oct 23 2023 at 18:24)</a>:</h4>
<p>ydnar edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1775752545">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>This broke TinyGo (and also mainline Go’s <code>wasip1</code> runner): <a href="https://github.com/tinygo-org/tinygo/issues/3970">https://github.com/tinygo-org/tinygo/issues/3970</a></p>
<p>Would it be possible to introduce a minor change for backwards compatibility? I think these would be sufficient to fix at least TinyGo and Go:</p>
<ol>
<li>Support <code>--mapdir=GUEST::HOST</code> as an alias for <code>--dir=HOST::GUEST</code></li>
<li>If the command args includes <code>--</code>, then interpret everything before the <code>--</code> as arguments to <code>wasmtime</code>, and everything after <code>--</code> as arguments to the guest program</li>
</ol>
<p>Edit: the above changes would fix TinyGo, but not mainline Go, which uses <code>--max-wasm-stack N</code> (now changed to <code>-W max-wasm-stack=N</code></p>
</blockquote>



<a name="398137990"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/398137990" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#398137990">(Oct 23 2023 at 18:37)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1775791396">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>Thanks for the report! I suspect that <a href="https://github.com/bytecodealliance/wasmtime/issues/7336">https://github.com/bytecodealliance/wasmtime/issues/7336</a> is a good place to continue discussion perhaps? (looks like y'all raced in reports!)</p>
<p>While it would be possible to implement something like what you mention, is it possible to require Wasmtime 14 and update scripts for Wasmtime 14?</p>
</blockquote>



<a name="398139913"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/398139913" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#398139913">(Oct 23 2023 at 18:52)</a>:</h4>
<p>ydnar <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1775825684">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>I made a PR for TinyGo (<a href="https://github.com/tinygo-org/tinygo/pull/3972">https://github.com/tinygo-org/tinygo/pull/3972</a>), but landing a change to mainline Go will take time.</p>
<p>We got bit by this on Friday when CI started breaking. While it’s our fault for not pinning the version of <code>wasmtime</code>, I’m somewhat surprised y’all didn’t release at least one major version of <code>wasmtime</code> with a compatibility shim and deprecation warnings, so dependents would have time to migrate.</p>
</blockquote>



<a name="398140133"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/398140133" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#398140133">(Oct 23 2023 at 18:54)</a>:</h4>
<p>ydnar edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1775825684">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>I made a PR for TinyGo (<a href="https://github.com/tinygo-org/tinygo/pull/3972">https://github.com/tinygo-org/tinygo/pull/3972</a>), but landing a change to mainline Go will take time.</p>
<p>We got bit by this on Friday when CI started breaking. While it’s our fault for not pinning the version of <code>wasmtime</code>, I’m somewhat surprised y’all didn’t release at least one major version of <code>wasmtime</code> with a compatibility shim and deprecation warnings, so dependents would have time to migrate.</p>
<p>Edit: for example:</p>
<p><code>--max-wasm-stack: deprecated in wasmtime v14. Did you mean -W max-wasm-stack=N?</code></p>
</blockquote>



<a name="398141319"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236925%20Redesign%20Wasmtime%27s%20CLI/near/398141319" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236925.20Redesign.20Wasmtime.27s.20CLI.html#398141319">(Oct 23 2023 at 19:02)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6925#issuecomment-1775847262">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6925">issue #6925</a>:</p>
<blockquote>
<p>Yes we decided in the development of this that smoothing the path with warnings and such was unfortunately not tenable in this case. For example many previous invocations are reinterpreted entirely differently and we didn't want one release of some breakage and another release of even more breakage. If it works in your CI I'd definitely recommend pinning Wasmtime versions with explicit updates.</p>
<p>FWIW if you're curious we attempted to discuss this broadly with lots of lead time about this. If you've got suggestions for how to improve the communication process and ensure this doesn't slip through the cracks again for y'all, please let us know!</p>
<ul>
<li><a href="https://github.com/bytecodealliance/wasmtime/issues/6741">original issue</a></li>
<li><a href="#narrow/stream/217126-wasmtime/topic/Upcoming.20changes.20to.20Wasmtime's.20CLI/near/388395163">Zulip discussion</a></li>
<li><a href="https://github.com/bytecodealliance/meetings/blob/main/wasmtime/2023/wasmtime-08-31.md">Discussed in a bi-weekly meeting</a></li>
</ul>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>