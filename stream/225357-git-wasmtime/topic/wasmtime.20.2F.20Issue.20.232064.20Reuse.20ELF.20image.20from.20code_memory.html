<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2064 Reuse ELF image from code_memory · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232064.20Reuse.20ELF.20image.20from.20code_memory.html">wasmtime / Issue #2064 Reuse ELF image from code_memory</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="206299854"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232064%20Reuse%20ELF%20image%20from%20code_memory/near/206299854" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232064.20Reuse.20ELF.20image.20from.20code_memory.html#206299854">(Aug 07 2020 at 19:28)</a>:</h4>
<p>yurydelendik <a href="https://github.com/bytecodealliance/wasmtime/pull/2064#issuecomment-670676687">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2064">Issue #2064</a>:</p>
<blockquote>
<blockquote>
<p>I can see the entire ELF image being copied into the code memory, but I'm having trouble figuring out the end goal ofthis PR. Is the intention that the Object isn't kept around which duplicates resident memory by having code twice? This isn't related to minimizing the number of copies, right?</p>
</blockquote>
<p>The end goal not only remove copy operations but also reduce amount of data copies as well. Currently, we are keeping pristine ELF image copy along with code_memory, which only needed for <code>Module::serialize</code> (so almost never). This PR tries to remove this data from memory.</p>
<p>It is low priority for this optimization. Though it will probably be needed when we will emit ELF image directly into the code_memory.</p>
</blockquote>



<a name="206305800"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232064%20Reuse%20ELF%20image%20from%20code_memory/near/206305800" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232064.20Reuse.20ELF.20image.20from.20code_memory.html#206305800">(Aug 07 2020 at 20:31)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/2064#issuecomment-670701217">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2064">Issue #2064</a>:</p>
<blockquote>
<p>Ah ok I see, so it's removing some duplicates we store next to each other. Ok that makes sense to me! I'd be happy landing this since it at least improves along those lines and will be needed for future refactorings anyway.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>