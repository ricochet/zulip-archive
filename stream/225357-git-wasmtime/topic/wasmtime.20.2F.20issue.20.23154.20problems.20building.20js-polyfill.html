<html>
<head><meta charset="utf-8"><title>wasmtime / issue #154 problems building js-polyfill · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.23154.20problems.20building.20js-polyfill.html">wasmtime / issue #154 problems building js-polyfill</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="323824613"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%23154%20problems%20building%20js-polyfill/near/323824613" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.23154.20problems.20building.20js-polyfill.html#323824613">(Jan 26 2023 at 19:46)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/154#issuecomment-1405537118">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/154">issue #154</a>:</p>
<blockquote>
<p>I think this can be closed now as the polyfill at <a href="https://wasi.dev/polyfill/index.html">https://wasi.dev/polyfill/index.html</a> is gone.</p>
</blockquote>



<a name="323904868"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%23154%20problems%20building%20js-polyfill/near/323904868" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.23154.20problems.20building.20js-polyfill.html#323904868">(Jan 26 2023 at 20:41)</a>:</h4>
<p>jameysharp closed <a href="https://github.com/bytecodealliance/wasmtime/issues/154">issue #154</a>:</p>
<blockquote>
<p>I get an error when I try to build the browser polyfill:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="o">~/</span><span class="n">checkouts</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">/</span><span class="n">js</span><span class="o">-</span><span class="n">polyfill</span><span class="cp">$</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">build</span><span class="p">.</span><span class="n">sh</span><span class="w"></span>
<span class="n">error</span>: <span class="nc">Linking</span><span class="w"> </span><span class="n">globals</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="o">'</span><span class="na">rwlock_init</span><span class="o">'</span>: <span class="nc">symbol</span><span class="w"> </span><span class="n">multiply</span><span class="w"> </span><span class="n">defined</span><span class="o">!</span><span class="w"></span>
<span class="n">shared</span>:<span class="nc">ERROR</span>: <span class="nc">Failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">llvm</span><span class="w"> </span><span class="n">optimizations</span>:
</code></pre></div>
<p>I am using emscripten 1.38.31:</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="o">~/</span><span class="n">checkouts</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="o">/</span><span class="n">js</span><span class="o">-</span><span class="n">polyfill</span><span class="cp">$</span><span class="w"> </span><span class="n">emcc</span><span class="w"> </span><span class="o">--</span><span class="n">version</span><span class="w"></span>
<span class="n">emcc</span><span class="w"> </span><span class="p">(</span><span class="n">Emscripten</span><span class="w"> </span><span class="n">gcc</span><span class="o">/</span><span class="n">clang</span><span class="o">-</span><span class="n">like</span><span class="w"> </span><span class="n">replacement</span><span class="p">)</span><span class="w"> </span><span class="mf">1.38.31</span><span class="w"> </span><span class="p">(</span><span class="n">commit</span><span class="w"> </span><span class="mf">040e49</span><span class="n">ad1e084ab4c464a9ca098c49b8c7085ffe</span><span class="p">)</span><span class="w"></span>
<span class="n">Copyright</span><span class="w"> </span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="w"> </span><span class="mi">2014</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Emscripten</span><span class="w"> </span><span class="n">authors</span><span class="w"> </span><span class="p">(</span><span class="n">see</span><span class="w"> </span><span class="n">AUTHORS</span><span class="p">.</span><span class="n">txt</span><span class="p">)</span><span class="w"></span>
<span class="n">This</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">free</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">open</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="n">software</span><span class="w"> </span><span class="n">under</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">MIT</span><span class="w"> </span><span class="n">license</span><span class="p">.</span><span class="w"></span>
<span class="n">There</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">NO</span><span class="w"> </span><span class="n">warranty</span><span class="p">;</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">even</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">MERCHANTABILITY</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">FITNESS</span><span class="w"> </span><span class="n">FOR</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="n">PARTICULAR</span><span class="w"> </span><span class="n">PURPOSE</span><span class="p">.</span><span class="w"></span>
<span class="w"> </span><span class="err">```</span><span class="w"></span>

<span class="n">What</span><span class="w"> </span><span class="n">version</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">emscripten</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">work</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">polyfill</span><span class="o">?</span><span class="w"></span>

<span class="o">~~~</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>