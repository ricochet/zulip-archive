<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8159 Don&#x27;t check for null in `call_indirec... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html">wasmtime / PR #8159 Don&#x27;t check for null in `call_indirec...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="427186804"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427186804" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427186804">(Mar 17 2024 at 18:28)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/8159">PR #8159</a> from <code>alexcrichton:no-null-chekc-functions</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This PR is an implementation of #5291 to slightly optimize the lowering of <code>call_indirect</code> and <code>call_ref</code> in Wasmtime. Explicitly checks for null function pointers are no longer present and instead we let a segfault happen when loading from a null function pointer. This segfault is caught and the relevant instruction is annotated with the appropriate trap code.</p>
<p>This support first starts by refactoring the <code>MemFlags</code> API to no longer purely be flags but instead be a mixture of flags and "flag regions". The <code>vmctx</code>/<code>heap</code>/<code>table</code> alias regions are bundled into two bits now and the various trap-related bits are now bundled into four bits. This enables putting arbitrary trap codes in a <code>MemFlags</code> so long as they aren't <code>TrapCode::User(_)</code>.</p>
<p>Closes #5291 </p>
</blockquote>



<a name="427186808"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427186808" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427186808">(Mar 17 2024 at 18:28)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8159">PR #8159</a>.</p>



<a name="427186809"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427186809" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427186809">(Mar 17 2024 at 18:28)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8159">PR #8159</a>.</p>



<a name="427186811"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427186811" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427186811">(Mar 17 2024 at 18:28)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8159">PR #8159</a>.</p>



<a name="427186813"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427186813" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427186813">(Mar 17 2024 at 18:28)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8159">PR #8159</a>.</p>



<a name="427187229"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427187229" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427187229">(Mar 17 2024 at 18:30)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8159">PR #8159</a>.</p>



<a name="427190225"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427190225" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427190225">(Mar 17 2024 at 18:44)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#issuecomment-2002574903">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8159">PR #8159</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @peterhuene</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "cranelift:wasm", "wasmtime:api"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>peterhuene: wasmtime:api</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="427226507"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427226507" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427226507">(Mar 17 2024 at 21:27)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#pullrequestreview-1941588628">PR review</a>:</p>
<blockquote>
<p>LGTM, nice!</p>
</blockquote>



<a name="427226509"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427226509" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427226509">(Mar 17 2024 at 21:27)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#pullrequestreview-1941588628">PR review</a>:</p>
<blockquote>
<p>LGTM, nice!</p>
</blockquote>



<a name="427226510"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427226510" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427226510">(Mar 17 2024 at 21:27)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#discussion_r1527615755">PR review comment</a>:</p>
<blockquote>
<p>s/the interpreted/interpreted/</p>
</blockquote>



<a name="427264654"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427264654" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427264654">(Mar 18 2024 at 00:16)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#pullrequestreview-1941618185">PR review</a>:</p>
<blockquote>
<p>I would kind of prefer to land the <code>MemFlags</code> changes separately from the "don't explicitly check for null function pointers" changes, if that's not too much trouble to split up. The commit history here is almost right for doing that with a quick rebase but I think only part of the "Trim the MemFlags API" commit applies.</p>
<p>I'm interested in whether you or Chris or anyone else have opinions on the other comments I've left below too.</p>
</blockquote>



<a name="427264655"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427264655" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427264655">(Mar 18 2024 at 00:16)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#pullrequestreview-1941618185">PR review</a>:</p>
<blockquote>
<p>I would kind of prefer to land the <code>MemFlags</code> changes separately from the "don't explicitly check for null function pointers" changes, if that's not too much trouble to split up. The commit history here is almost right for doing that with a quick rebase but I think only part of the "Trim the MemFlags API" commit applies.</p>
<p>I'm interested in whether you or Chris or anyone else have opinions on the other comments I've left below too.</p>
</blockquote>



<a name="427264656"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427264656" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427264656">(Mar 18 2024 at 00:16)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#discussion_r1527644526">PR review comment</a>:</p>
<blockquote>
<p>Since I just added this <code>tabletrap</code> flag and haven't merged the work that would have used it yet, I don't think we need to preserve compatibility for it here.</p>
</blockquote>



<a name="427264657"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427264657" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427264657">(Mar 18 2024 at 00:16)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#discussion_r1527643612">PR review comment</a>:</p>
<blockquote>
<p>There's a very slight cost to attaching trap metadata to an instruction, right? Just a few extra bytes in read-only data, I assume, but not completely free? This comment would still apply to avoiding that cost by plumbing the non-nullability through and avoiding setting the metadata at all. Is it worth keeping part of this comment here?</p>
</blockquote>



<a name="427264658"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427264658" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427264658">(Mar 18 2024 at 00:16)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#discussion_r1527651441">PR review comment</a>:</p>
<blockquote>
<p>I'm inclined to think that we don't need to track whether <code>heap_oob</code> was set explicitly or just used as a default, so my instinct is to use just one encoding for it. I could easily be talked into the approach you've taken here, but I think it at least needs a bit more of a comment explaining why it appears twice here, and why the zero case doesn't appear in <code>with_trap_code</code> below.</p>
</blockquote>



<a name="427321502"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427321502" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427321502">(Mar 18 2024 at 04:13)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#issuecomment-2002896773">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8159">PR #8159</a>:</p>
<blockquote>
<blockquote>
<p>prefer to land the MemFlags changes separately</p>
</blockquote>
<p><a href="https://github.com/bytecodealliance/wasmtime/pull/8162">Certainly!</a></p>
</blockquote>



<a name="427321548"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427321548" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427321548">(Mar 18 2024 at 04:14)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#pullrequestreview-1941942456">PR review</a>.</p>



<a name="427321552"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427321552" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427321552">(Mar 18 2024 at 04:14)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#discussion_r1527786268">PR review comment</a>:</p>
<blockquote>
<p>Good point, I'll be sure to add this back in when rebasing</p>
</blockquote>



<a name="427321623"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427321623" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427321623">(Mar 18 2024 at 04:14)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#pullrequestreview-1941942656">PR review</a>.</p>



<a name="427321625"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427321625" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427321625">(Mar 18 2024 at 04:14)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#discussion_r1527786485">PR review comment</a>:</p>
<blockquote>
<p>Nah I think that makes the most sense in retrospect too, no need to be needlessly complicated.</p>
</blockquote>



<a name="427517809"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427517809" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427517809">(Mar 18 2024 at 15:53)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#pullrequestreview-1943511573">PR review</a>.</p>



<a name="427517810"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427517810" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427517810">(Mar 18 2024 at 15:53)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#discussion_r1528827000">PR review comment</a>:</p>
<blockquote>
<p>We should have a test somewhere, maybe here, that <code>mem::size_of&lt;VMFuncRef&gt;() &lt; PAGE_SIZE</code>, since we should only rely on the presence of a single null guard page.</p>
</blockquote>



<a name="427517811"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427517811" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427517811">(Mar 18 2024 at 15:53)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#pullrequestreview-1943511573">PR review</a>.</p>



<a name="427531170"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427531170" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427531170">(Mar 18 2024 at 16:51)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8159">PR #8159</a>.</p>



<a name="427531336"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427531336" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427531336">(Mar 18 2024 at 16:52)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#issuecomment-2004442538">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8159">PR #8159</a>:</p>
<blockquote>
<p>Updated and rebased!</p>
</blockquote>



<a name="427556992"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427556992" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427556992">(Mar 18 2024 at 19:08)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8159#pullrequestreview-1943960046">PR review</a>:</p>
<blockquote>
<p>This feels very satisfying! Also TIL that you can do static asserts by putting <code>assert!</code> in a const-eval block.</p>
</blockquote>



<a name="427564227"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238159%20Don%27t%20check%20for%20null%20in%20%60call_indirec.../near/427564227" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238159.20Don.27t.20check.20for.20null.20in.20.60call_indirec.2E.2E.2E.html#427564227">(Mar 18 2024 at 19:55)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8159">PR #8159</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>