<html>
<head><meta charset="utf-8"><title>wasmtime / issue #5444 Sync cranelift&#x27;s preset list with ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html">wasmtime / issue #5444 Sync cranelift&#x27;s preset list with ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="316028039"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/316028039" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#316028039">(Dec 15 2022 at 12:29)</a>:</h4>
<p>bjorn3 opened <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<h4>Feature</h4>
<p>Cranelift already has a bunch of presets for cpu families. It doesn't include newer cpu families though. This is a request to also add those newer cpu families.</p>
<h4>Benefit</h4>
<p>This allows passing the rustc <code>-Ctarget-cpu</code> argument directly to Cranelift in cg_clif without requiring a map from LLVM cpu name to Cranelift preset.</p>
</blockquote>



<a name="316086330"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/316086330" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#316086330">(Dec 15 2022 at 16:40)</a>:</h4>
<p>jameysharp labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<h4>Feature</h4>
<p>Cranelift already has a bunch of presets for cpu families. It doesn't include newer cpu families though. This is a request to also add those newer cpu families.</p>
<h4>Benefit</h4>
<p>This allows passing the rustc <code>-Ctarget-cpu</code> argument directly to Cranelift in cg_clif without requiring a map from LLVM cpu name to Cranelift preset.</p>
</blockquote>



<a name="316086670"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/316086670" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#316086670">(Dec 15 2022 at 16:41)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1353376065">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<p>Sounds reasonable to me!</p>
<p>Do our existing names already match LLVM's names? If any don't, I think we should keep the current names as aliases in addition to the LLVM names.</p>
<p>I'd also encourage whoever implements this to leave a comment in each relevant file in <code>cranelift/codegen/meta/src/isa/</code> with a link to the corresponding source in LLVM.</p>
<p>@bjorn3, I'm labeling this as a "good first issue". If you'd like somebody else to take it on, could you comment here with links to the best sources for LLVM's CPU family names?</p>
</blockquote>



<a name="316093515"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/316093515" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#316093515">(Dec 15 2022 at 17:11)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1353419992">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<blockquote>
<p>Do our existing names already match LLVM's names? If any don't, I think we should keep the current names as aliases in addition to the LLVM names.</p>
</blockquote>
<p>I believe they do at least for x86_64.</p>
<blockquote>
<p>If you'd like somebody else to take it on, could you comment here with links to the best sources for LLVM's CPU family names?</p>
</blockquote>
<p>For x86/x86_64 this is: <a href="https://github.com/llvm/llvm-project/blob/d4493dd1ed58ac3f1eab0c4ca6e363e2b15bfd1c/llvm/lib/Target/X86/X86.td#L1300-L1643">https://github.com/llvm/llvm-project/blob/d4493dd1ed58ac3f1eab0c4ca6e363e2b15bfd1c/llvm/lib/Target/X86/X86.td#L1300-L1643</a> The actual feature lists are declared in the section above.</p>
</blockquote>



<a name="316097488"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/316097488" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#316097488">(Dec 15 2022 at 17:28)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1353455867">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<p>A thought: would it make sense to have variants/architecture levels for x86 in <code>target-lexicon</code>, the same way it seems to have these for at least ARM, RISC-V and a few others? I'm definitely in favor of de-facto standardization in this case; there's no reason to try to define a different view of the world than what LLVM does. But the place for that might be in a crate whose job is to provide a taxonomy of targets :-)</p>
</blockquote>



<a name="316098703"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/316098703" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#316098703">(Dec 15 2022 at 17:33)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1353461593">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<p>target-lexicon parses rustc target triples. Rustc target triples distinguish between variants for arm, riscv and a couple of others, but they do not distinguish between target levels on x86_64 and only basic difference on x86 (i586 without sse and i686 with sse). These variants where rustc distinguishes between them generally affect the abi or are significant perf improvements for regular usecases.</p>
</blockquote>



<a name="316952169"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/316952169" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#316952169">(Dec 20 2022 at 13:39)</a>:</h4>
<p>MozarellaMan <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1359367387">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<p>Hey! I was looking at giving this a try, I just have a few questions. If I'm understanding this right - it would be basically making sure cranelift has at least these presets that rustc (on x86_64) has:</p>
<p>From running: <code>rustc --print target-cpus</code></p>
<blockquote>
<p><code>alderlake
    amdfam10
    athlon
    athlon-4
    athlon-fx
    athlon-mp
    athlon-tbird
    athlon-xp
    athlon64
    athlon64-sse3
    atom
    barcelona
    bdver1
    bdver2
    bdver3
    bdver4
    bonnell
    broadwell
    btver1
    btver2
    c3
    c3-2
    cannonlake
    cascadelake
    cooperlake
    core-avx-i
    core-avx2
    core2
    corei7
    corei7-avx
    generic
    geode
    goldmont
    goldmont-plus
    haswell
    i386
    i486
    i586
    i686
    icelake-client
    icelake-server
    ivybridge
    k6
    k6-2
    k6-3
    k8
    k8-sse3
    knl
    knm
    lakemont
    nehalem
    nocona
    opteron
    opteron-sse3
    penryn
    pentium
    pentium-m
    pentium-mmx
    pentium4
    pentium4m
    pentiumpro
    prescott
    rocketlake
    sandybridge
    sapphirerapids
    silvermont
    skx
    skylake
    skylake-avx512
    slm
    tigerlake
    tremont
    westmere
    winchip-c6
    winchip2
    x86-64
    x86-64-v2
    x86-64-v3
    x86-64-v4
    yonah
    znver1
    znver2
    znver3</code></p>
</blockquote>
<p>From @bjorn3's link I can compare what feature settings LLVM has and what settings cranelift has in <code>cranelift/codegen/meta/src/isa/</code>. It looks like this would require a few new settings in cranelift. </p>
<p>For example LLVM has: <code>def FeatureSGX     : SubtargetFeature&lt;"sgx", "HasSGX", "true",
                                      "Enable Software Guard Extensions"&gt;;</code><br>
Which isn't present in cranelift's settings... but from what I understand these feature settings are only useful if cranelift actually uses them right?</p>
<p>Also, each <code>BoolSettingIndex</code> in <code>cranelift/codegen/meta/src/isa/</code> has a <code>comment</code> field - what is that?</p>
</blockquote>



<a name="316959392"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/316959392" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#316959392">(Dec 20 2022 at 14:11)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1359424203">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<p>I think adding new features isn't necessary until Cranelift actually starts using them.</p>
<p>The comment argument seems to indicate which cpuid bit determines if the feature is available or not. Not sure if it is used anywhere though.</p>
</blockquote>



<a name="316998762"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/316998762" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#316998762">(Dec 20 2022 at 17:19)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1359829565">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<p>I agree, don't bother adding new features; we should only add them when we have a use for them.</p>
<p>The <code>comment</code> field appears to be literally used in a Rust doc comment in the generated source code. The <code>Flags</code> types that have those doc comments apparently aren't visible on <a href="http://docs.rs">docs.rs</a> though, so that's not super helpful. Figuring out why they're missing would be nice...</p>
</blockquote>



<a name="317405920"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/317405920" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#317405920">(Dec 22 2022 at 16:39)</a>:</h4>
<p>MozarellaMan <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1363077924">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<p>From looking at this a bit more, it seems like a ton of the target cpus in LLVM's list would basically be the same as the baseline cranelift preset. Is it worth adding these? Or just the newer CPU familes that use at least one of the features cranelift uses?</p>
</blockquote>



<a name="317406939"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/317406939" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#317406939">(Dec 22 2022 at 16:43)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1363085037">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<blockquote>
<p>Is it worth adding these?</p>
</blockquote>
<p>Yes, otherwise passing <code>-Ctarget-cpu=some_cpu_that_wasnt_added_as_preset</code> to rustc when using cg_clif would still fail due to the missing preset. Older ones are less of a priority though, so if you consider it too much work to add all, I did be happy if you only add newer ones too.</p>
</blockquote>



<a name="321281573"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/321281573" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#321281573">(Jan 14 2023 at 00:06)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1382597172">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<p>Fixed by <a href="https://github.com/bytecodealliance/wasmtime/pull/5490">https://github.com/bytecodealliance/wasmtime/pull/5490</a></p>
</blockquote>



<a name="321281574"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/321281574" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#321281574">(Jan 14 2023 at 00:06)</a>:</h4>
<p>bjorn3 closed <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<h4>Feature</h4>
<p>Cranelift already has a bunch of presets for cpu families. It doesn't include newer cpu families though. This is a request to also add those newer cpu families.</p>
<h4>Benefit</h4>
<p>This allows passing the rustc <code>-Ctarget-cpu</code> argument directly to Cranelift in cg_clif without requiring a map from LLVM cpu name to Cranelift preset.</p>
</blockquote>



<a name="321282121"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/321282121" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#321282121">(Jan 14 2023 at 00:13)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1382599792">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<p>I wasn't going to close this yet since so far we only have the Intel CPU presets, not AMD or other vendors. But at least we have a solid idea of how to finish off the work now!</p>
</blockquote>



<a name="321282122"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/321282122" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#321282122">(Jan 14 2023 at 00:13)</a>:</h4>
<p>jameysharp reopened <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<h4>Feature</h4>
<p>Cranelift already has a bunch of presets for cpu families. It doesn't include newer cpu families though. This is a request to also add those newer cpu families.</p>
<h4>Benefit</h4>
<p>This allows passing the rustc <code>-Ctarget-cpu</code> argument directly to Cranelift in cg_clif without requiring a map from LLVM cpu name to Cranelift preset.</p>
</blockquote>



<a name="321309580"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/321309580" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#321309580">(Jan 14 2023 at 07:20)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1382681233">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<p>Right, forgot about AMD.</p>
</blockquote>



<a name="321368094"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/321368094" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#321368094">(Jan 14 2023 at 14:48)</a>:</h4>
<p>MozarellaMan <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-1382789984">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<p>Will be looking at doing the AMD ones now, sorry I just started with Intel ones to get feedback on the approach :)</p>
</blockquote>



<a name="446312254"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/446312254" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#446312254">(Jun 22 2024 at 19:11)</a>:</h4>
<p>bjorn3 closed <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<h4>Feature</h4>
<p>Cranelift already has a bunch of presets for cpu families. It doesn't include newer cpu families though. This is a request to also add those newer cpu families.</p>
<h4>Benefit</h4>
<p>This allows passing the rustc <code>-Ctarget-cpu</code> argument directly to Cranelift in cg_clif without requiring a map from LLVM cpu name to Cranelift preset.</p>
</blockquote>



<a name="446312256"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235444%20Sync%20cranelift%27s%20preset%20list%20with%20.../near/446312256" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235444.20Sync.20cranelift.27s.20preset.20list.20with.20.2E.2E.2E.html#446312256">(Jun 22 2024 at 19:11)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/5444#issuecomment-2184159485">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5444">issue #5444</a>:</p>
<blockquote>
<p>Fixed by <a href="https://github.com/bytecodealliance/wasmtime/pull/5575">https://github.com/bytecodealliance/wasmtime/pull/5575</a></p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>