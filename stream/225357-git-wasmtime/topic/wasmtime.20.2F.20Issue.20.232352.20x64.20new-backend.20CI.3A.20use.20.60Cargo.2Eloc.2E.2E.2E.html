<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2352 x64 new-backend CI: use `Cargo.loc... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232352.20x64.20new-backend.20CI.3A.20use.20.60Cargo.2Eloc.2E.2E.2E.html">wasmtime / Issue #2352 x64 new-backend CI: use `Cargo.loc...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="215364982"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232352%20x64%20new-backend%20CI%3A%20use%20%60Cargo.loc.../near/215364982" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232352.20x64.20new-backend.20CI.3A.20use.20.60Cargo.2Eloc.2E.2E.2E.html#215364982">(Nov 02 2020 at 19:17)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/2352#issuecomment-720672394">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2352">Issue #2352</a>:</p>
<blockquote>
<p>I think this should fix the CI failure in #2345.</p>
</blockquote>



<a name="215378398"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232352%20x64%20new-backend%20CI%3A%20use%20%60Cargo.loc.../near/215378398" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232352.20x64.20new-backend.20CI.3A.20use.20.60Cargo.2Eloc.2E.2E.2E.html#215378398">(Nov 02 2020 at 21:03)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/2352#issuecomment-720723112">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2352">Issue #2352</a>:</p>
<blockquote>
<p>Hm so in theory <code>--locked</code> has no user-visible effect other than returning errors instead of downloading new things, but if a <code>Cargo.lock</code> exists and works then <code>--locked</code>-or-not in theory should be the same. I've seen this issue crop up a few times (the one on #2345), and I suspect it may be a bug in Cargo, so if it shows up even with this added let me know and I can try to dig in more.</p>
</blockquote>



<a name="215381214"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232352%20x64%20new-backend%20CI%3A%20use%20%60Cargo.loc.../near/215381214" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232352.20x64.20new-backend.20CI.3A.20use.20.60Cargo.2Eloc.2E.2E.2E.html#215381214">(Nov 02 2020 at 21:26)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/2352#issuecomment-720733783">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2352">Issue #2352</a>:</p>
<blockquote>
<p>Ah, I see, I had misunderstood what the flag does, then; though I suppose it doesn't hurt to use it here if we use it for other runs?</p>
<p>Of note is that this build does turn on the new crate-version resolver (?) with <code>-Zpackage-features</code> -- if it is a bug I would guess that could be the reason we see it. Perhaps we could instead create a root-level feature to enable the new x64 backend and get this working without the Cargo feature -- or do you suspect the bug would still be hit?</p>
</blockquote>



<a name="215392871"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232352%20x64%20new-backend%20CI%3A%20use%20%60Cargo.loc.../near/215392871" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232352.20x64.20new-backend.20CI.3A.20use.20.60Cargo.2Eloc.2E.2E.2E.html#215392871">(Nov 02 2020 at 23:25)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/2352#issuecomment-720783026">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2352">Issue #2352</a>:</p>
<blockquote>
<p>Yeah if anything I suspect a bug with <code>-Zpackage-features</code> rather than in Wasmtime or our CI, I just haven't ever dug in!</p>
</blockquote>



<a name="215406943"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232352%20x64%20new-backend%20CI%3A%20use%20%60Cargo.loc.../near/215406943" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232352.20x64.20new-backend.20CI.3A.20use.20.60Cargo.2Eloc.2E.2E.2E.html#215406943">(Nov 03 2020 at 02:29)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/2352#issuecomment-720872194">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2352">Issue #2352</a>:</p>
<blockquote>
<p>Ah after some testing locally this is a bug that was fixed in Cargo, but we're pinned to an older nightly so we don't have it fixed yet. I'll send a PR update.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>