<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7327 riscv64: Refactor FRM and fcvt-to-int... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html">wasmtime / PR #7327 riscv64: Refactor FRM and fcvt-to-int...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="397971325"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/397971325" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#397971325">(Oct 22 2023 at 20:49)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/afonso360">afonso360</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7327">PR #7327</a>.</p>



<a name="397971326"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/397971326" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#397971326">(Oct 22 2023 at 20:49)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/7327">PR #7327</a> from <code>alexcrichton:rv64-frm</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This commit started out with the goal of deleting the <code>FcvtToInt</code> macro instruction by moving it into ISLE but it ended up having some surrounding refactors as well. The original goal is achieved and all float-to-int conversion now happens in ISLE. Additionally handling of the FRM (float rounding mode) state of each instruction is now explicit which means that Cranelift code emission now defaults to <code>FRM::RNE</code> (round-to-nearest ties-to-evens) rather than the runtime state in the <code>fcsr</code>. This was a theoretical bug with the previous code where if the register didn't have <code>RNE</code> in it then the code wouldn't perform correctly.</p>
</blockquote>



<a name="397971327"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/397971327" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#397971327">(Oct 22 2023 at 20:49)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/abrown">abrown</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7327">PR #7327</a>.</p>



<a name="397971328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/397971328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#397971328">(Oct 22 2023 at 20:49)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7327">PR #7327</a>.</p>



<a name="398075337"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398075337" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398075337">(Oct 23 2023 at 12:34)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7327#pullrequestreview-1692164036">PR review</a>:</p>
<blockquote>
<p>Neat! I like explicitly including FRM in the instructions instead of relying on FCSR.</p>
<p>This also fixes #5992 and #5993, could you add those test cases as regression tests and enable those instruction in fuzzgen <a href="https://github.com/bytecodealliance/wasmtime/blob/ce796a968416f07e75ca7a4c55e628bcf241cd04/cranelift/fuzzgen/src/function_generator.rs#L760">here</a>?</p>
<p>I've been fuzzing this with those instruction enabled since yesterday and it hasn't found anything.</p>
</blockquote>



<a name="398075338"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398075338" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398075338">(Oct 23 2023 at 12:34)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7327#pullrequestreview-1692164036">PR review</a>:</p>
<blockquote>
<p>Neat! I like explicitly including FRM in the instructions instead of relying on FCSR.</p>
<p>This also fixes #5992 and #5993, could you add those test cases as regression tests and enable those instruction in fuzzgen <a href="https://github.com/bytecodealliance/wasmtime/blob/ce796a968416f07e75ca7a4c55e628bcf241cd04/cranelift/fuzzgen/src/function_generator.rs#L760">here</a>?</p>
<p>I've been fuzzing this with those instruction enabled since yesterday and it hasn't found anything.</p>
</blockquote>



<a name="398075339"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398075339" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398075339">(Oct 23 2023 at 12:34)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/7327#discussion_r1368425028">PR review comment</a>:</p>
<blockquote>
<p>I went looking for an answer to this, the <a href="https://github.com/riscv-non-isa/riscv-elf-psabi-doc/blob/master/riscv-cc.adoc#frame-pointer-convention">psABI document</a> states:</p>
<blockquote>
<p>The Floating-Point Control and Status Register (fcsr) must have thread storage duration in accordance with C11 section 7.6 "Floating-point environment &lt;fenv.h&gt;".</p>
</blockquote>
<p>Which doesn't mean a whole lot to me, but is clarified in the <a href="https://github.com/riscv-non-isa/riscv-elf-psabi-doc/pull/73#issuecomment-401785037">PR that introduced that sentence</a> to mean that OS's are responsible for preserving it per thread, and otherwise programs are allowed to do pretty much whatever they feel like.</p>
<hr>
<p>I couldn't find any information as to whether using <code>fcsr</code> is better than encoding the rounding mode in the instruction, but I personally like including the rounding mode explicitly it in the instruction, as long as it doesn't break anything.</p>
</blockquote>



<a name="398075341"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398075341" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398075341">(Oct 23 2023 at 12:34)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/7327#discussion_r1368441258">PR review comment</a>:</p>
<blockquote>
<p>I found this slightly hard to read, do you think something like this would be more readable? This is purely personal preference so feel free to ignore it.</p>
<p>The comment regarding <code>fcvt</code> would be helpful though since it took me a while to figure that out.</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>match (float, int) {
    // Saturating cases for larger integers are handled using the `fcvt.{w,d}.{s,d}` instruction directly, that
    // automatically saturates up/down to the correct limit.
    (I8, F32) if saturating =&gt; f32::from(i8::MIN).to_bits().into(),
    (I8, F64) if saturating =&gt; f64::from(i8::MIN).to_bits(),
    (I16, F32) if saturating =&gt; f32::from(i16::MIN).to_bits().into(),
    (I16, F64) if saturating =&gt; f64::from(i16::MIN).to_bits(),

    (_, F32) if !saturating =&gt; f32_cvt_to_int_bounds(true, int.bits()).0.to_bits().into(),
    (_, F64) if !saturating =&gt; f64_cvt_to_int_bounds(true, int.bits()).0.to_bits(),
    _ =&gt; unimplemented!(),
}
</code></pre></div><br>
</p>
</blockquote>



<a name="398076038"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398076038" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398076038">(Oct 23 2023 at 12:38)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7327#discussion_r1368441258">PR review comment</a>.</p>



<a name="398098004"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398098004" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398098004">(Oct 23 2023 at 14:29)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7327">PR #7327</a>.</p>



<a name="398100697"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398100697" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398100697">(Oct 23 2023 at 14:42)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7327">PR #7327</a>.</p>



<a name="398101469"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398101469" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398101469">(Oct 23 2023 at 14:46)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7327#pullrequestreview-1692769475">PR review</a>.</p>



<a name="398101475"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398101475" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398101475">(Oct 23 2023 at 14:46)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7327#discussion_r1368802353">PR review comment</a>:</p>
<blockquote>
<p>No I struggled trying to make this readable, and I like what you have, so replacing!</p>
</blockquote>



<a name="398101501"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398101501" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398101501">(Oct 23 2023 at 14:46)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7327">PR #7327</a>.</p>



<a name="398102024"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398102024" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398102024">(Oct 23 2023 at 14:49)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7327#pullrequestreview-1692776982">PR review</a>.</p>



<a name="398102025"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398102025" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398102025">(Oct 23 2023 at 14:49)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7327#discussion_r1368806743">PR review comment</a>:</p>
<blockquote>
<p>Oh nice, thanks! Ok so sounds like <code>fcsr</code> isn't something that needs to be preserved across a function call so it could be used here.</p>
<p>To clarify though I wasn't thinking of using <code>fcsr</code> for rounding modes here but rather instead for overflow detection. Basically using the bits described by this in the spec:</p>
<blockquote>
<p>The accrued exception flags indicate the exception conditions that have arisen on any floating-point arithmetic instruction since the field was last reset by software, as shown in Table 11.2. The base RISC-V ISA does not support generating a trap on the setting of a floating-point exception flag.</p>
</blockquote>
<p>In theory just before this float-to-int conversion it might be possible to set the <code>fcsr</code> exception flags to zero, perform the conversion, and then maybe trap if the exception flags are nonzero. I haven't found good docs yet as to how precisely the flags are set on the <code>fcvt.*</code> instructions so I was holding off on possibly trying this until the future. (and that LLVM doesn't seem to use this and I presume LLVM folks have thought more about perf than I have)</p>
</blockquote>



<a name="398107860"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398107860" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398107860">(Oct 23 2023 at 15:16)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7327">PR #7327</a>.</p>



<a name="398108160"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398108160" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398108160">(Oct 23 2023 at 15:17)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7327">PR #7327</a>:</p>
<blockquote>
<p>This commit started out with the goal of deleting the <code>FcvtToInt</code> macro instruction by moving it into ISLE but it ended up having some surrounding refactors as well. The original goal is achieved and all float-to-int conversion now happens in ISLE. Additionally handling of the FRM (float rounding mode) state of each instruction is now explicit which means that Cranelift code emission now defaults to <code>FRM::RNE</code> (round-to-nearest ties-to-evens) rather than the runtime state in the <code>fcsr</code>. This was a theoretical bug with the previous code where if the register didn't have <code>RNE</code> in it then the code wouldn't perform correctly.</p>
<p>Closes #6015</p>
</blockquote>



<a name="398149696"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398149696" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398149696">(Oct 23 2023 at 20:18)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7327#pullrequestreview-1693455247">PR review</a>.</p>



<a name="398149697"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398149697" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398149697">(Oct 23 2023 at 20:18)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/7327#discussion_r1369223093">PR review comment</a>:</p>
<blockquote>
<p>Oh yeah, that's a neat idea. I have no idea if that is better or worse than manually checking, but if we could get the same semantics, it would at least be a much shorter sequence. I'd like to benchmark that, but I only have an in-order core to test and I'm not sure if that would bias the results against larger machines.</p>
</blockquote>



<a name="398157038"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237327%20riscv64%3A%20Refactor%20FRM%20and%20fcvt-to-int.../near/398157038" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237327.20riscv64.3A.20Refactor.20FRM.20and.20fcvt-to-int.2E.2E.2E.html#398157038">(Oct 23 2023 at 21:11)</a>:</h4>
<p>afonso360 merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7327">PR #7327</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>