<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8903 Various cleanups to the ABI handling ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html">wasmtime / PR #8903 Various cleanups to the ABI handling ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="449296803"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/449296803" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#449296803">(Jul 05 2024 at 12:05)</a>:</h4>
<p>bjorn3 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/8903">PR #8903</a> from <code>bjorn3:abi-cleanup-part1</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>These are the relatively trivial parts split out of <a href="https://github.com/bytecodealliance/wasmtime/pull/8875">https://github.com/bytecodealliance/wasmtime/pull/8875</a>. Each commit is a separate improvement.</p>
</blockquote>



<a name="449296805"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/449296805" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#449296805">(Jul 05 2024 at 12:05)</a>:</h4>
<p><strong>bjorn3</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8903">PR #8903</a>.</p>



<a name="449296808"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/449296808" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#449296808">(Jul 05 2024 at 12:05)</a>:</h4>
<p><strong>bjorn3</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8903">PR #8903</a>.</p>



<a name="449316765"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/449316765" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#449316765">(Jul 05 2024 at 13:44)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/8903#issuecomment-2210906177">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8903">PR #8903</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @cfallin, @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "cranelift:area:aarch64", "cranelift:area:machinst", "cranelift:area:x64", "isle"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>cfallin: isle</li>
<li>fitzgen: isle</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="449323553"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/449323553" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#449323553">(Jul 05 2024 at 14:20)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/8903#issuecomment-2210966939">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8903">PR #8903</a>:</p>
<blockquote>
<p><a href="https://github.com/bytecodealliance/wasmtime/pull/8903/commits/20850f8054c255a049f00a2f037d774695c7f449">https://github.com/bytecodealliance/wasmtime/pull/8903/commits/20850f8054c255a049f00a2f037d774695c7f449</a> is responsible for the crash. It can be reproduced using <code>cargo test --test wast -- Cranelift/pooling/tests/misc_testsuite/custom-page-sizes/custom-page-sizes.wast</code>.</p>
</blockquote>



<a name="449332327"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/449332327" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#449332327">(Jul 05 2024 at 15:06)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/8903#issuecomment-2211038724">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8903">PR #8903</a>:</p>
<blockquote>
<p>Never mind. It actually crashes on the main branch too.</p>
</blockquote>



<a name="449939260"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/449939260" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#449939260">(Jul 08 2024 at 17:48)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8903">PR #8903</a>.</p>



<a name="451792901"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/451792901" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#451792901">(Jul 16 2024 at 15:50)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/8903#issuecomment-2231281413">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8903">PR #8903</a>:</p>
<blockquote>
<p>Gentle ping</p>
</blockquote>



<a name="451796464"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/451796464" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#451796464">(Jul 16 2024 at 16:04)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8903#pullrequestreview-2180704805">PR review</a>:</p>
<blockquote>
<p>This looks great, thanks! I like the functional style (returning result registers) for <code>gen_retval</code>, that simplified things greatly. One naming request below otherwise good to merge.</p>
</blockquote>



<a name="451796465"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/451796465" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#451796465">(Jul 16 2024 at 16:04)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8903#pullrequestreview-2180704805">PR review</a>:</p>
<blockquote>
<p>This looks great, thanks! I like the functional style (returning result registers) for <code>gen_retval</code>, that simplified things greatly. One naming request below otherwise good to merge.</p>
</blockquote>



<a name="451796467"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/451796467" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#451796467">(Jul 16 2024 at 16:04)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/8903#discussion_r1679686373">PR review comment</a>:</p>
<blockquote>
<p>Can we call this <code>ret</code> rather than <code>arg</code> for consistency (with <code>rets</code>)?</p>
</blockquote>



<a name="451798726"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/451798726" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#451798726">(Jul 16 2024 at 16:11)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8903">PR #8903</a>.</p>



<a name="451798746"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/451798746" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#451798746">(Jul 16 2024 at 16:11)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8903#pullrequestreview-2180725173">PR review</a>.</p>



<a name="451798747"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/451798747" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#451798747">(Jul 16 2024 at 16:11)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/8903#discussion_r1679698989">PR review comment</a>:</p>
<blockquote>
<p>Done</p>
</blockquote>



<a name="451799712"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/451799712" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#451799712">(Jul 16 2024 at 16:14)</a>:</h4>
<p>cfallin has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/8903">PR #8903</a>.</p>



<a name="451806210"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238903%20Various%20cleanups%20to%20the%20ABI%20handling%20.../near/451806210" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238903.20Various.20cleanups.20to.20the.20ABI.20handling.20.2E.2E.2E.html#451806210">(Jul 16 2024 at 16:38)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8903">PR #8903</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>