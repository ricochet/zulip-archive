<html>
<head><meta charset="utf-8"><title>wasmtime / issue #3593 cranelift: let JIT targets be exte... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233593.20cranelift.3A.20let.20JIT.20targets.20be.20exte.2E.2E.2E.html">wasmtime / issue #3593 cranelift: let JIT targets be exte...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="264261745"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233593%20cranelift%3A%20let%20JIT%20targets%20be%20exte.../near/264261745" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233593.20cranelift.3A.20let.20JIT.20targets.20be.20exte.2E.2E.2E.html#264261745">(Dec 09 2021 at 06:23)</a>:</h4>
<p>stevefan1999 opened <a href="https://github.com/bytecodealliance/wasmtime/issues/3593">issue #3593</a>:</p>
<blockquote>
<p>For example, you want to build a RISC-V JIT which does not exist ATM, or exotic platforms such as Atmel and Xtensa, or even targets different bitcode such as LLVM and RyuJIT. We could also retain the x86 target this way which is vital to building some legacy application for legacy platform such as Windows XP.</p>
</blockquote>



<a name="264262700"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233593%20cranelift%3A%20let%20JIT%20targets%20be%20exte.../near/264262700" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233593.20cranelift.3A.20let.20JIT.20targets.20be.20exte.2E.2E.2E.html#264262700">(Dec 09 2021 at 06:44)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/3593#issuecomment-989562170">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3593">issue #3593</a>:</p>
<blockquote>
<p>Hi @stevefan1999 -- thanks for the suggestion!</p>
<p>I think that while there's no technical reason that would prevent definition of a machine backend out-of-tree, it would also mean that we would need to expose more API than we do today, and make some guarantees about the stability of these APIs. Otherwise, an externally-maintained machine backend would need frequent changes to continue working.</p>
<p>In practice we tend to make changes to the backend framework together with all backends, when we need to do so, without much hesitation; for example, introducing a new trait method or tweaking a function signature. It would be a significant limitation to not be able to do such refactors easily.</p>
<p>We'd be happy to accept contributions for new machine backends in-tree; RISC-V, for example, is of interest to a bunch of folks. If it were to exist, there would be significant willingness to maintain and improve it in-tree, I think. Likewise for x86-32: if someone wants to build this out, it would be perfectly reasonable to keep it in-tree.</p>
<p>Translators to another IR, such as LLVM bitcode, are a bit of different matter IMHO as these generally do not operate within our compiler-backend framework (LLVM bitcode is at a similar abstraction level to CLIF and doesn't need CFG lowering or register allocation, for example). @bjorn3 prototyped a CLIF-to-LLVM translator in #3391 and we suggested then to maintain it out-of-tree for now. That' s an existence proof that such things are possible today :-)</p>
</blockquote>



<a name="269470175"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233593%20cranelift%3A%20let%20JIT%20targets%20be%20exte.../near/269470175" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233593.20cranelift.3A.20let.20JIT.20targets.20be.20exte.2E.2E.2E.html#269470175">(Jan 26 2022 at 19:44)</a>:</h4>
<p>akirilov-arm labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/3593">issue #3593</a>:</p>
<blockquote>
<p>For example, you want to build a RISC-V JIT which does not exist ATM, or exotic platforms such as Atmel and Xtensa, or even targets different bitcode such as LLVM and RyuJIT. We could also retain the x86 target this way which is vital to building some legacy application for legacy platform such as Windows XP.</p>
</blockquote>



<a name="269470176"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233593%20cranelift%3A%20let%20JIT%20targets%20be%20exte.../near/269470176" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233593.20cranelift.3A.20let.20JIT.20targets.20be.20exte.2E.2E.2E.html#269470176">(Jan 26 2022 at 19:44)</a>:</h4>
<p>akirilov-arm labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/3593">issue #3593</a>:</p>
<blockquote>
<p>For example, you want to build a RISC-V JIT which does not exist ATM, or exotic platforms such as Atmel and Xtensa, or even targets different bitcode such as LLVM and RyuJIT. We could also retain the x86 target this way which is vital to building some legacy application for legacy platform such as Windows XP.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>