<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7315 Build &quot;min&quot; artifacts on CI · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237315.20Build.20.22min.22.20artifacts.20on.20CI.html">wasmtime / PR #7315 Build &quot;min&quot; artifacts on CI</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="397784640"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237315%20Build%20%22min%22%20artifacts%20on%20CI/near/397784640" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237315.20Build.20.22min.22.20artifacts.20on.20CI.html#397784640">(Oct 20 2023 at 22:41)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7315">PR #7315</a>.</p>



<a name="397784641"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237315%20Build%20%22min%22%20artifacts%20on%20CI/near/397784641" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237315.20Build.20.22min.22.20artifacts.20on.20CI.html#397784641">(Oct 20 2023 at 22:41)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7315">PR #7315</a>.</p>



<a name="397784642"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237315%20Build%20%22min%22%20artifacts%20on%20CI/near/397784642" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237315.20Build.20.22min.22.20artifacts.20on.20CI.html#397784642">(Oct 20 2023 at 22:41)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7315">PR #7315</a>.</p>



<a name="397784644"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237315%20Build%20%22min%22%20artifacts%20on%20CI/near/397784644" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237315.20Build.20.22min.22.20artifacts.20on.20CI.html#397784644">(Oct 20 2023 at 22:41)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/7315">PR #7315</a> from <code>alexcrichton:min-builds</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This commit updates the binary artifacts produced by CI to include "min"<br>
builds where all default features are disabled. Additionally all the<br>
stops are pulled in terms of build flags, nightly versions, etc, to get<br>
a build that is as small as possible without actual source code changes.<br>
This effectively codifies the instructions in <a href="https://github.com/bytecodealliance/wasmtime/pull/7282">https://github.com/bytecodealliance/wasmtime/pull/7282</a> into an easily<br>
downloadable artifact.</p>
<p>No new tarballs are created for github releases but instead tarballs<br>
that previously had a <code>wasmtime</code> executable for example now have a<br>
<code>wasmtime-min</code> executable. Furthermore the C API which previously had<br>
<code>libwasmtime.so</code> for example now has <code>libwasmtime-min.so</code>. The intention<br>
is that the minimum-size artifacts are handy for determining a rough<br>
size of Wasmtime but they're not so important that it seems worthwhile<br>
to dedicate entire release entries for.</p>
<p>CI is refactored to support these minimum builds with separate builders.<br>
This means that a single tarball produced as a final result is actually<br>
two separate tarballs merged together, one for the normal build we do<br>
today plus a new "min" tarball produced on the new "min" builders.<br>
Various scripts and CI organization has been adjusted accordingly.</p>
<p>While here I went ahead and enabled <code>panic=abort</code> and debuginfo<br>
stripping in our current release artifacts. While this doesn't affect a<br>
whole lot it's less to upload to GitHub Actions all the time.</p>
</blockquote>



<a name="397784680"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237315%20Build%20%22min%22%20artifacts%20on%20CI/near/397784680" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237315.20Build.20.22min.22.20artifacts.20on.20CI.html#397784680">(Oct 20 2023 at 22:41)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7315">PR #7315</a>.</p>



<a name="398120347"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237315%20Build%20%22min%22%20artifacts%20on%20CI/near/398120347" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237315.20Build.20.22min.22.20artifacts.20on.20CI.html#398120347">(Oct 23 2023 at 16:26)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7315#pullrequestreview-1692996685">PR review</a>.</p>



<a name="398129098"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237315%20Build%20%22min%22%20artifacts%20on%20CI/near/398129098" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237315.20Build.20.22min.22.20artifacts.20on.20CI.html#398129098">(Oct 23 2023 at 17:27)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7315">PR #7315</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>