<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1769 Make vconst BxN match specification · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231769.20Make.20vconst.20BxN.20match.20specification.html">wasmtime / PR #1769 Make vconst BxN match specification</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="198911082"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231769%20Make%20vconst%20BxN%20match%20specification/near/198911082" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231769.20Make.20vconst.20BxN.20match.20specification.html#198911082">(May 27 2020 at 15:45)</a>:</h4>
<p>teapotd opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1769">PR #1769</a> from <code>vconst-boolean-fix</code> to <code>master</code>:</p>
<blockquote>
<p><a href="https://github.com/bytecodealliance/wasmtime/blob/master/cranelift/docs/ir.md#boolean-types">Cranelift IR docs</a> for boolean types say:</p>
<blockquote>
<p>Several larger boolean types are also defined, primarily to be used as SIMD element types. They can be stored in memory, and are represented as <strong>either all zero bits or all one bits</strong>.</p>
</blockquote>
<p>According to <a href="#narrow/stream/217117-cranelift/topic/general/near/198816881">Zulip conversation</a>, this applies only to boolean vector types, and it matches the <a href="https://github.com/WebAssembly/simd/blob/master/proposals/simd/SIMD.md#comparisons">WASM SIMD spec</a>:</p>
<blockquote>
<p>The comparison operations all compare two vectors lane-wise, and produce a mask vector with the same number of lanes as the input interpretation where the bits in each lane are 0 for false and all ones for true.</p>
</blockquote>
<p>The <code>vconst.BxN</code> instruction currently produces vector with values <code>0</code> or <code>1</code> instead of masks. This PR changes it to produce masks.</p>
<p>r? @abrown </p>
</blockquote>



<a name="198914380"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231769%20Make%20vconst%20BxN%20match%20specification/near/198914380" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231769.20Make.20vconst.20BxN.20match.20specification.html#198914380">(May 27 2020 at 16:09)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/abrown">abrown</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1769">PR #1769</a>.</p>



<a name="198916479"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231769%20Make%20vconst%20BxN%20match%20specification/near/198916479" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231769.20Make.20vconst.20BxN.20match.20specification.html#198916479">(May 27 2020 at 16:24)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1769#pullrequestreview-419398025">PR Review</a>.</p>



<a name="198918098"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231769%20Make%20vconst%20BxN%20match%20specification/near/198918098" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231769.20Make.20vconst.20BxN.20match.20specification.html#198918098">(May 27 2020 at 16:37)</a>:</h4>
<p>abrown merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1769">PR #1769</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>