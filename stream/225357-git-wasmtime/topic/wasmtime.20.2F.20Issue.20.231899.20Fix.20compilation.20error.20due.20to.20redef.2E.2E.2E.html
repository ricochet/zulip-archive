<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #1899 Fix compilation error due to redef... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html">wasmtime / Issue #1899 Fix compilation error due to redef...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="201290033"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201290033" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201290033">(Jun 18 2020 at 16:11)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646131224">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @peterhuene</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "wasmtime:c-api"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>peterhuene: wasmtime:c-api</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="201298398"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201298398" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201298398">(Jun 18 2020 at 17:11)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646183722">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>Thanks for the PR! I'm curious, though, how did this turn into an error? We're compiling the C examples on CI which in theory would catch this. Is there a way we can catch this on our own CI?</p>
</blockquote>



<a name="201298747"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201298747" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201298747">(Jun 18 2020 at 17:14)</a>:</h4>
<p>AlexEne <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646186419">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>I just tried to use this in my project. I am surprised that the C examples compile in your CI? <br>
I'm using clang on OSX and was basically going through the example code trying to instantiate a VM.  <br>
Maybe it gets ignored on certain compilers if the symbol isn't referenced at all?</p>
</blockquote>



<a name="201299082"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201299082" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201299082">(Jun 18 2020 at 17:17)</a>:</h4>
<p>AlexEne edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646186419">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>I just tried to use this in my project. I am surprised that the C examples compile in your CI? <br>
I'm using clang on OSX and was basically going through the example code trying to instantiate a VM.  <br>
Maybe it gets ignored on certain compilers if the symbol isn't referenced at all?</p>
<p>Also I'm compiling it as C++, not C, maybe it's allowed in C?</p>
</blockquote>



<a name="201299319"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201299319" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201299319">(Jun 18 2020 at 17:19)</a>:</h4>
<p>AlexEne edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646186419">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>I'm using clang on OSX and was basically going through the example code trying to instantiate a VM.  </p>
<p>Also I'm compiling it as C++, not C, maybe it's allowed in C?</p>
</blockquote>



<a name="201299946"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201299946" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201299946">(Jun 18 2020 at 17:24)</a>:</h4>
<p>AlexEne edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646186419">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>I'm using clang on OSX and was basically going through the example code trying to instantiate a VM.  </p>
<p>Also I'm compiling it as C++, not C, maybe it's allowed in C? if that's the case just compiling the examples as C++ should do the trick.</p>
</blockquote>



<a name="201302036"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201302036" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201302036">(Jun 18 2020 at 17:41)</a>:</h4>
<p>AlexEne edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646186419">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>I'm using clang on OSX and was basically going through the example code trying to instantiate a VM.  </p>
<p>Also I'm compiling it as C++, not C, maybe it's allowed in C? if that's the case just compiling the examples as C++ should do the trick.</p>
<p>That being said, I was looking at the current CI run for this PR and I can't find where the examples are compiled.</p>
</blockquote>



<a name="201302396"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201302396" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201302396">(Jun 18 2020 at 17:43)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646211464">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>Hm we're compiling the examples on macOS as well, so we should see it there if it's an issue. Do you perhaps have some extra warnings or such turned on which would cause this to be an error?</p>
</blockquote>



<a name="201302796"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201302796" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201302796">(Jun 18 2020 at 17:46)</a>:</h4>
<p>AlexEne <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646212978">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>I do have warnings set as errors, however this looks like it's a hard error, not a warning: </p>
<div class="codehilite"><pre><span></span><code>In file included from myfile.cpp:2:
wasmtime/crates/c-api/include/wasmtime.h:42:6: error: definition of type &#39;wasmtime_profiling_strategy_t&#39; conflicts with typedef of the same name
enum wasmtime_profiling_strategy_t { // ProfilingStrategy
     ^
wasmtime/crates/c-api/include/wasmtime.h:41:17: note: &#39;wasmtime_profiling_strategy_t&#39; declared here
typedef uint8_t wasmtime_profiling_strategy_t;
</code></pre></div>


</blockquote>



<a name="201303031"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201303031" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201303031">(Jun 18 2020 at 17:48)</a>:</h4>
<p>AlexEne edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646212978">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>I do have warnings set as errors, however this looks like it's a hard error, not a warning: </p>
<div class="codehilite"><pre><span></span><code>In file included from myfile.cpp:2:
wasmtime/crates/c-api/include/wasmtime.h:42:6: error: definition of type &#39;wasmtime_profiling_strategy_t&#39; conflicts with typedef of the same name
enum wasmtime_profiling_strategy_t { // ProfilingStrategy
     ^
wasmtime/crates/c-api/include/wasmtime.h:41:17: note: &#39;wasmtime_profiling_strategy_t&#39; declared here
typedef uint8_t wasmtime_profiling_strategy_t;
</code></pre></div>


<p>I was looking through the tests that run on this PR, but can't find any reference of compiling the examples (it's a long log :D) <a href="https://pipelines.actions.githubusercontent.com/ceoZblEsqJYG99Z8v3Kua3u5YSq6xmgwoMNvYfC5How3o8shjd/_apis/pipelines/1/runs/39807/signedlogcontent/26?urlExpires=2020-06-18T17%3A48%3A21.3835673Z&amp;urlSigningMethod=HMACV1&amp;urlSignature=haTCuoUHaScfQ3HsHjt2sR7t0baZqGOInfcIxUaV95g%3D">https://pipelines.actions.githubusercontent.com/ceoZblEsqJYG99Z8v3Kua3u5YSq6xmgwoMNvYfC5How3o8shjd/_apis/pipelines/1/runs/39807/signedlogcontent/26?urlExpires=2020-06-18T17%3A48%3A21.3835673Z&amp;urlSigningMethod=HMACV1&amp;urlSignature=haTCuoUHaScfQ3HsHjt2sR7t0baZqGOInfcIxUaV95g%3D</a></p>
</blockquote>



<a name="201303082"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201303082" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201303082">(Jun 18 2020 at 17:49)</a>:</h4>
<p>AlexEne edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646212978">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>I do have warnings set as errors, however this looks like it's a hard error, not a warning: </p>
<div class="codehilite"><pre><span></span><code>In file included from myfile.cpp:2:
wasmtime/crates/c-api/include/wasmtime.h:42:6: error: definition of type &#39;wasmtime_profiling_strategy_t&#39; conflicts with typedef of the same name
enum wasmtime_profiling_strategy_t { // ProfilingStrategy
     ^
wasmtime/crates/c-api/include/wasmtime.h:41:17: note: &#39;wasmtime_profiling_strategy_t&#39; declared here
typedef uint8_t wasmtime_profiling_strategy_t;
</code></pre></div>


<p>I was looking through the tests that run on this PR, but can't find any reference of compiling the examples (it's a long log :D), what is the exact step that should do it?</p>
</blockquote>



<a name="201303393"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201303393" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201303393">(Jun 18 2020 at 17:51)</a>:</h4>
<p>AlexEne <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646215698">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>Just to clarify this is an error when compiling a host VM that's written in C++ that wants to use WASMTime, not an error in compiling C-&gt;WASM (I did find some of these tested in the nightly runs).</p>
</blockquote>



<a name="201303478"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201303478" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201303478">(Jun 18 2020 at 17:52)</a>:</h4>
<p>AlexEne edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646215698">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>Just to clarify this is an error when compiling a host VM that's written in C++ that wants to use WASMTime's C bindings, not an error in compiling C-&gt;WASM (I did find some of these tested in the nightly runs).</p>
</blockquote>



<a name="201303551"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201303551" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201303551">(Jun 18 2020 at 17:53)</a>:</h4>
<p>AlexEne edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646215698">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>Just to clarify this is an error when compiling a host VM that's written in C++ that wants to use WASMTime's through it's C bindings, not an error in compiling C-&gt;WASM (I did find some of these tested in the nightly runs).</p>
</blockquote>



<a name="201307025"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201307025" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201307025">(Jun 18 2020 at 18:23)</a>:</h4>
<p>peterhuene <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646231271">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>This is indeed illegal in C++ and we don't have any examples that include <code>wasmtime.h</code> from a C++ source file (clang and gcc both use the file extension to default the language).</p>
<p>We should probably add a <code>hello.cc</code> to <code>examples/</code> to catch this in CI.</p>
</blockquote>



<a name="201307135"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201307135" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201307135">(Jun 18 2020 at 18:24)</a>:</h4>
<p>peterhuene edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646231271">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>This is indeed illegal in C++ and we don't have any examples that include <code>wasmtime.h</code> from a C++ source file (clang and gcc both use the file extension to default the language).</p>
<p>We should probably add a <code>hello.cc</code> to <code>examples/</code> to catch this in CI.</p>
<p>@AlexEne would you mind adding one in this PR?</p>
</blockquote>



<a name="201310078"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201310078" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201310078">(Jun 18 2020 at 18:49)</a>:</h4>
<p>AlexEne <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646243793">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>I added a new file, I wanted initially to just rename <code>hello.c</code> -&gt; <code>hello.cc</code>, but I noticed that you refernce it in some places as a C example and I don't know how strongly you feel about C/C++ distinction so I left both in there.</p>
</blockquote>



<a name="201313699"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201313699" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201313699">(Jun 18 2020 at 19:18)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646257429">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>Ah nice find! I think though to run these examples we'll need to add support <a href="https://github.com/bytecodealliance/wasmtime/blob/f84903fa430228afe4306e7b1bf5a57ace0d4497/crates/misc/run-examples/src/main.rs#L54-L70">to this runner</a> as well.</p>
</blockquote>



<a name="201317898"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201317898" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201317898">(Jun 18 2020 at 19:54)</a>:</h4>
<p>AlexEne <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646273922">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>Ah, so that's where it was, I will add it to the file.</p>
</blockquote>



<a name="201336690"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201336690" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201336690">(Jun 18 2020 at 23:10)</a>:</h4>
<p>AlexEne <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646349663">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>I've added a way for tests to also compile and run any <code>.cc</code> files found, in additon to the <code>.c</code> files. The C++ files are optional so if none are found they are skipped, but if  <code>.c</code> files are missing tests will fail as before.</p>
<p>Output:</p>
<div class="codehilite"><pre><span></span><code>======== C/C++ example `hello` ============
Running for file: &quot;examples/hello.c&quot;
Initializing...
Loading binary...
Compiling module...
Instantiating module...
Extracting export...
Calling fib...
&gt; fib(6) = 21
Shutting down...
Done.
Running for file: &quot;examples/hello.cc&quot;
Generating Code...
Compiling...
Generating Code...
hello.obj : warning LNK4042: object specified more than once; extras ignored
Initializing...
Loading binary...
Compiling module...
Instantiating module...
Extracting export...
Calling fib...
&gt; fib(6) = 21
Shutting down...
Done.
</code></pre></div>


</blockquote>



<a name="201336955"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201336955" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201336955">(Jun 18 2020 at 23:14)</a>:</h4>
<p>AlexEne edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646349663">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>I've added a way for tests to also compile and run any <code>.cc</code> files found, in additon to the <code>.c</code> files. The C++ files are optional so if none are found they are skipped, but if  <code>.c</code> files are missing tests will fail as before.</p>
<p>Output:</p>
<div class="codehilite"><pre><span></span><code>======== C/C++ example `hello` ============
hello.c
Initializing...
Loading binary...
Compiling module...
Instantiating module...
Extracting export...
Calling fib...
&gt; fib(6) = 21
Shutting down...
Done.
hello.cc
Initializing...
Loading binary...
Compiling module...
Instantiating module...
Extracting export...
Calling fib...
&gt; fib(6) = 21
Shutting down...
</code></pre></div>


</blockquote>



<a name="201355287"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231899%20Fix%20compilation%20error%20due%20to%20redef.../near/201355287" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231899.20Fix.20compilation.20error.20due.20to.20redef.2E.2E.2E.html#201355287">(Jun 19 2020 at 05:59)</a>:</h4>
<p>peterhuene <a href="https://github.com/bytecodealliance/wasmtime/pull/1899#issuecomment-646451592">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1899">Issue #1899</a>:</p>
<blockquote>
<p>Thanks for fixing this and adding a test case!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>