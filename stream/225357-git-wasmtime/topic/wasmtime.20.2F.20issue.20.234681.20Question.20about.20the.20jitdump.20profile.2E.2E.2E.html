<html>
<head><meta charset="utf-8"><title>wasmtime / issue #4681 Question about the jitdump profile... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234681.20Question.20about.20the.20jitdump.20profile.2E.2E.2E.html">wasmtime / issue #4681 Question about the jitdump profile...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="292815624"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234681%20Question%20about%20the%20jitdump%20profile.../near/292815624" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234681.20Question.20about.20the.20jitdump.20profile.2E.2E.2E.html#292815624">(Aug 10 2022 at 19:06)</a>:</h4>
<p>scarlet25151 opened <a href="https://github.com/bytecodealliance/wasmtime/issues/4681">issue #4681</a>:</p>
<blockquote>
<p>Hi all, thanks for your answer, <br>
I saw in the code:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/a25d52046b0b641ab5acc447d7702f91d43b2bbd/crates/jit/src/profiling/jitdump_linux.rs#L85">https://github.com/bytecodealliance/wasmtime/blob/a25d52046b0b641ab5acc447d7702f91d43b2bbd/crates/jit/src/profiling/jitdump_linux.rs#L85</a><br>
the agent would load all the function, and for the function <code>finished_functions</code> <br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/a25d52046b0b641ab5acc447d7702f91d43b2bbd/crates/jit/src/instantiate.rs#L540-L553">https://github.com/bytecodealliance/wasmtime/blob/a25d52046b0b641ab5acc447d7702f91d43b2bbd/crates/jit/src/instantiate.rs#L540-L553</a><br>
I saw it will return map of all finished JIT functions, so I would like to make sure if I would use AOT compile the function it will be listed here or not? Or are all functions, no matter where it comes from, they would be listed here?</p>
</blockquote>



<a name="292817291"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234681%20Question%20about%20the%20jitdump%20profile.../near/292817291" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234681.20Question.20about.20the.20jitdump.20profile.2E.2E.2E.html#292817291">(Aug 10 2022 at 19:17)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/4681#issuecomment-1211153910">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4681">issue #4681</a>:</p>
<blockquote>
<p>I don't fully understand your question, but if you're asking whether an AOT-compiled module and a JIT-compiled module both work with profiling the answer is yes, both should work the same way. Or are you perhaps asking a different question?</p>
</blockquote>



<a name="292817698"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234681%20Question%20about%20the%20jitdump%20profile.../near/292817698" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234681.20Question.20about.20the.20jitdump.20profile.2E.2E.2E.html#292817698">(Aug 10 2022 at 19:20)</a>:</h4>
<p>scarlet25151 <a href="https://github.com/bytecodealliance/wasmtime/issues/4681#issuecomment-1211157021">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4681">issue #4681</a>:</p>
<blockquote>
<p>@alexcrichton thank you for the confirmation, I think what I would like to make sure is for both AOT-compiled and JIT-compiled module, the functions inside the module should be load in the same way so when we calling <code>module.finished_functions()</code> they should be the same?</p>
</blockquote>



<a name="292818040"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234681%20Question%20about%20the%20jitdump%20profile.../near/292818040" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234681.20Question.20about.20the.20jitdump.20profile.2E.2E.2E.html#292818040">(Aug 10 2022 at 19:23)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/4681#issuecomment-1211159961">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4681">issue #4681</a>:</p>
<blockquote>
<p>Correct, yes. If you're seeing different behavior locally, though, that's a bug we need to fix.</p>
</blockquote>



<a name="292818331"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234681%20Question%20about%20the%20jitdump%20profile.../near/292818331" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234681.20Question.20about.20the.20jitdump.20profile.2E.2E.2E.html#292818331">(Aug 10 2022 at 19:25)</a>:</h4>
<p>scarlet25151 <a href="https://github.com/bytecodealliance/wasmtime/issues/4681#issuecomment-1211164733">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4681">issue #4681</a>:</p>
<blockquote>
<p>Cool, appreciate for the answer, I think the issue can be closed.</p>
</blockquote>



<a name="292818332"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234681%20Question%20about%20the%20jitdump%20profile.../near/292818332" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234681.20Question.20about.20the.20jitdump.20profile.2E.2E.2E.html#292818332">(Aug 10 2022 at 19:25)</a>:</h4>
<p>scarlet25151 closed <a href="https://github.com/bytecodealliance/wasmtime/issues/4681">issue #4681</a>:</p>
<blockquote>
<p>Hi all, thanks for your answer, <br>
I saw in the code:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/a25d52046b0b641ab5acc447d7702f91d43b2bbd/crates/jit/src/profiling/jitdump_linux.rs#L85">https://github.com/bytecodealliance/wasmtime/blob/a25d52046b0b641ab5acc447d7702f91d43b2bbd/crates/jit/src/profiling/jitdump_linux.rs#L85</a><br>
the agent would load all the function, and for the function <code>finished_functions</code> <br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/a25d52046b0b641ab5acc447d7702f91d43b2bbd/crates/jit/src/instantiate.rs#L540-L553">https://github.com/bytecodealliance/wasmtime/blob/a25d52046b0b641ab5acc447d7702f91d43b2bbd/crates/jit/src/instantiate.rs#L540-L553</a><br>
I saw it will return map of all finished JIT functions, so I would like to make sure if I would use AOT compile the function it will be listed here or not? Or are all functions, no matter where it comes from, they would be listed here?</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>