<html>
<head><meta charset="utf-8"><title>wasmtime / PR #4602 cranelift: Sign extend immediates in ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html">wasmtime / PR #4602 cranelift: Sign extend immediates in ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="291926666"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/291926666" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#291926666">(Aug 03 2022 at 22:05)</a>:</h4>
<p>afonso360 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/4602">PR #4602</a> from <code>iadd_imm_fix_sext</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This PR alters the behaviour of <code>*_imm</code> instructions to sign extend their immediate argument when the control type is <code>i128</code>.</p>
<p>This comes from a fuzzer issue where the interpreter was sign extending the immediates but the legalizations were not.</p>
<p>Fixes: #4568</p>
</blockquote>



<a name="291926871"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/291926871" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#291926871">(Aug 03 2022 at 22:07)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4602">PR #4602</a> from <code>iadd_imm_fix_sext</code> to <code>main</code>.</p>



<a name="291973317"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/291973317" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#291973317">(Aug 04 2022 at 07:16)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4602">PR #4602</a> from <code>iadd_imm_fix_sext</code> to <code>main</code>.</p>



<a name="292641127"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292641127" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292641127">(Aug 09 2022 at 19:15)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4602">PR #4602</a> from <code>iadd_imm_fix_sext</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This PR alters the behaviour of <code>*_imm</code> instructions to sign extend their immediate argument when the control type is <code>i128</code>.</p>
<p>This comes from a fuzzer issue where the interpreter was sign extending the immediates but the legalizations were not.</p>
<p>Fixes: #4568<br>
Fixes: #4641</p>
</blockquote>



<a name="292642703"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292642703" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292642703">(Aug 09 2022 at 19:26)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4602">PR #4602</a> from <code>iadd_imm_fix_sext</code> to <code>main</code>.</p>



<a name="292642928"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292642928" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292642928">(Aug 09 2022 at 19:27)</a>:</h4>
<p><strong>afonso360</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/4602">PR #4602</a> as ready for review.</p>



<a name="292651434"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292651434" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292651434">(Aug 09 2022 at 20:23)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#pullrequestreview-1067326627">PR review</a>.</p>



<a name="292651435"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292651435" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292651435">(Aug 09 2022 at 20:23)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#discussion_r941761563">PR review comment</a>:</p>
<blockquote>
<p>It looks like it's a behavioral change if we panic here. The outer match just skips the instruction if it doesn't have an expansion for it. Maybe that's why the previous implementation duplicated so much code? I think @cfallin probably needs to weigh in on how this case should be handled.</p>
<p>Gotta say, though, I _really_ like how much shorter your version is. I hope we can preserve that clarity even if this bit has to change.</p>
<p>It might help to introduce a function that's something like this (but I haven't tested this code, let alone compiled it):</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span> <span class="nf">imm_const</span><span class="p">(</span><span class="n">pos</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">FuncCursor</span><span class="p">,</span><span class="w"> </span><span class="n">arg</span>: <span class="nc">Value</span><span class="p">,</span><span class="w"> </span><span class="n">imm</span>: <span class="nc">Imm64</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">Value</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="p">.</span><span class="n">func</span><span class="p">.</span><span class="n">dfg</span><span class="p">.</span><span class="n">value_type</span><span class="p">(</span><span class="n">arg</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">imm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="p">.</span><span class="n">ins</span><span class="p">().</span><span class="n">iconst</span><span class="p">(</span><span class="n">ty</span><span class="p">,</span><span class="w"> </span><span class="n">imm</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="n">ty</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">I128</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">imm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pos</span><span class="p">.</span><span class="n">ins</span><span class="p">().</span><span class="n">iconst</span><span class="p">(</span><span class="n">I64</span><span class="p">,</span><span class="w"> </span><span class="n">imm</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">pos</span><span class="p">.</span><span class="n">ins</span><span class="p">().</span><span class="n">sextend</span><span class="p">(</span><span class="n">I128</span><span class="p">,</span><span class="w"> </span><span class="n">imm</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">pos</span><span class="p">.</span><span class="n">ins</span><span class="p">().</span><span class="n">iconst</span><span class="p">(</span><span class="n">ty</span><span class="p">.</span><span class="n">lane_type</span><span class="p">(),</span><span class="w"> </span><span class="n">imm</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<a name="292651436"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292651436" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292651436">(Aug 09 2022 at 20:23)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#pullrequestreview-1067326627">PR review</a>.</p>



<a name="292664393"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292664393" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292664393">(Aug 09 2022 at 21:57)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#pullrequestreview-1067429722">PR review</a>.</p>



<a name="292664394"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292664394" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292664394">(Aug 09 2022 at 21:57)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#discussion_r941837397">PR review comment</a>:</p>
<blockquote>
<p>Yes, we don't want to hit an <code>unimplemented!()</code> here; I think we just want an empty match-arm body (<code>_ =&gt; {}</code>) instead. That way we still construct the <code>imm</code> but we just don't do anything with it.</p>
</blockquote>



<a name="292664395"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292664395" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292664395">(Aug 09 2022 at 21:57)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#pullrequestreview-1067429722">PR review</a>.</p>



<a name="292665960"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292665960" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292665960">(Aug 09 2022 at 22:10)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#discussion_r941844731">PR review comment</a>:</p>
<blockquote>
<p>Wouldn't an empty match-arm body there cause <code>simple_legalize</code> to loop, trying to legalize the same instruction repeatedly?</p>
</blockquote>



<a name="292665961"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292665961" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292665961">(Aug 09 2022 at 22:10)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#pullrequestreview-1067439863">PR review</a>.</p>



<a name="292666249"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292666249" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292666249">(Aug 09 2022 at 22:13)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#discussion_r941846540">PR review comment</a>:</p>
<blockquote>
<p>The toplevel loop is a <code>while let Some(inst) = pos.next_inst()</code>, so it's stepping through insts with no action taken in the loop body. Though actually the more precise thing to do is to replicate the fallback <code>_ =&gt; { ... }</code> below, which sets <code>prev_pos</code> first then continues, I think.</p>
</blockquote>



<a name="292666250"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292666250" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292666250">(Aug 09 2022 at 22:13)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#pullrequestreview-1067442111">PR review</a>.</p>



<a name="292667660"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292667660" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292667660">(Aug 09 2022 at 22:27)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#pullrequestreview-1067450850">PR review</a>.</p>



<a name="292667662"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292667662" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292667662">(Aug 09 2022 at 22:27)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#discussion_r941853307">PR review comment</a>:</p>
<blockquote>
<p>The statement after the <code>match</code> is <code>pos.set_position(prev_pos);</code> and the intent appears to be to re-examine the result of every legalization. So it looks to me like termination of this function relies on every match arm replacing the instruction that it originally matched on. But yes, copying the <code>prev_pos</code> assignment from the fallback case should work, I think.</p>
</blockquote>



<a name="292741904"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292741904" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292741904">(Aug 10 2022 at 12:06)</a>:</h4>
<p>akirilov-arm submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#pullrequestreview-1068156853">PR review</a>.</p>



<a name="292741905"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292741905" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292741905">(Aug 10 2022 at 12:06)</a>:</h4>
<p>akirilov-arm submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#pullrequestreview-1068156853">PR review</a>.</p>



<a name="292741906"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292741906" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292741906">(Aug 10 2022 at 12:06)</a>:</h4>
<p>akirilov-arm created <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#discussion_r942365954">PR review comment</a>:</p>
<blockquote>
<p>I don't have an opinion myself yet, but is sign-extending the best approach in this case?</p>
</blockquote>



<a name="292741907"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292741907" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292741907">(Aug 10 2022 at 12:06)</a>:</h4>
<p>akirilov-arm created <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#discussion_r942367642">PR review comment</a>:</p>
<blockquote>
<p>Ditto for all logical operations and rotations.</p>
</blockquote>



<a name="292741909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/292741909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#292741909">(Aug 10 2022 at 12:06)</a>:</h4>
<p>akirilov-arm created <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#discussion_r942366444">PR review comment</a>:</p>
<blockquote>
<p>Ditto.</p>
</blockquote>



<a name="293586885"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/293586885" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#293586885">(Aug 15 2022 at 17:16)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4602">PR #4602</a> from <code>iadd_imm_fix_sext</code> to <code>main</code>.</p>



<a name="293587480"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/293587480" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#293587480">(Aug 15 2022 at 17:20)</a>:</h4>
<p><strong>afonso360</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/4602">PR #4602</a>.</p>



<a name="293589634"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/293589634" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#293589634">(Aug 15 2022 at 17:34)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4602#pullrequestreview-1072981817">PR review</a>.</p>



<a name="293589661"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/293589661" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#293589661">(Aug 15 2022 at 17:34)</a>:</h4>
<p>cfallin has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/4602">PR #4602</a>.</p>



<a name="293595333"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234602%20cranelift%3A%20Sign%20extend%20immediates%20in%20.../near/293595333" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234602.20cranelift.3A.20Sign.20extend.20immediates.20in.20.2E.2E.2E.html#293595333">(Aug 15 2022 at 18:08)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/4602">PR #4602</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>