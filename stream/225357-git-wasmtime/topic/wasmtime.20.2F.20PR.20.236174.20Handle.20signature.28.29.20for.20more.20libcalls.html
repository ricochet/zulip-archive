<html>
<head><meta charset="utf-8"><title>wasmtime / PR #6174 Handle signature() for more libcalls · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html">wasmtime / PR #6174 Handle signature() for more libcalls</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="347659188"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/347659188" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#347659188">(Apr 07 2023 at 13:00)</a>:</h4>
<p>bjorn3 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/6174">PR #6174</a> from <code>bjorn3:bsc-unwinding-more-libcall-sigs</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This is necessary to be able to call them in the interpreter. All the remaining libcalls which signature() doesn't handle are never used in clif ir. Only in code compiled by a backend.</p>
</blockquote>



<a name="347659191"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/347659191" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#347659191">(Apr 07 2023 at 13:00)</a>:</h4>
<p><strong>bjorn3</strong> requested <a href="https://github.com/jameysharp">jameysharp</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6174">PR #6174</a>.</p>



<a name="347659192"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/347659192" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#347659192">(Apr 07 2023 at 13:00)</a>:</h4>
<p><strong>bjorn3</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6174">PR #6174</a>.</p>



<a name="347659435"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/347659435" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#347659435">(Apr 07 2023 at 13:02)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6174">PR #6174</a>.</p>



<a name="347663311"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/347663311" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#347663311">(Apr 07 2023 at 13:20)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6174">PR #6174</a>.</p>



<a name="347663475"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/347663475" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#347663475">(Apr 07 2023 at 13:21)</a>:</h4>
<p><strong>bjorn3</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/6174">PR #6174</a> as ready for review.</p>



<a name="348300534"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/348300534" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#348300534">(Apr 10 2023 at 20:39)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6174#pullrequestreview-1378094719">PR review</a>.</p>



<a name="348300535"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/348300535" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#348300535">(Apr 10 2023 at 20:39)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6174#pullrequestreview-1378094719">PR review</a>.</p>



<a name="348300536"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/348300536" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#348300536">(Apr 10 2023 at 20:39)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/6174#discussion_r1162063608">PR review comment</a>:</p>
<blockquote>
<p>I think we have the target architecture available on <code>self</code> here and could compute the pointer size from it. I'm not too worried about it right now so you could leave a FIXME comment like you did in the interpreter if you prefer.</p>
</blockquote>



<a name="348300537"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/348300537" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#348300537">(Apr 10 2023 at 20:39)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/6174#discussion_r1162068544">PR review comment</a>:</p>
<blockquote>
<p>I had a really hard time figuring out why the length arguments also use <code>pointer_type</code> since they aren't pointers. You are correct but maybe we can make this a little more clear.</p>
<p>One way might be to rename that parameter; maybe <code>int_pointer_type</code>?</p>
<p>Another way is to just add a comment. Actually I'd kind of appreciate a comment on each libcall signature anyway. Maybe describing its API in either C or Rust syntax, as a reminder, so it's easy to compare that to the ABI we're transforming it to.</p>
</blockquote>



<a name="348411914"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/348411914" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#348411914">(Apr 11 2023 at 09:58)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6174">PR #6174</a>.</p>



<a name="348412154"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/348412154" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#348412154">(Apr 11 2023 at 09:59)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6174#pullrequestreview-1378873479">PR review</a>.</p>



<a name="348412155"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/348412155" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#348412155">(Apr 11 2023 at 09:59)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/6174#discussion_r1162582654">PR review comment</a>:</p>
<blockquote>
<p>Added the C function signatures in comments. I don't really like <code>int_pointer_type</code> as name as I think it can be interpreted as either a type that is used for <code>int*</code> pointers or for the <code>int</code> type and pointers, but it is used for <code>size_t</code> and pointers.</p>
</blockquote>



<a name="348413017"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/348413017" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#348413017">(Apr 11 2023 at 10:03)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6174">PR #6174</a>.</p>



<a name="348515278"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/348515278" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#348515278">(Apr 11 2023 at 16:50)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6174#pullrequestreview-1379710110">PR review</a>.</p>



<a name="348524468"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236174%20Handle%20signature%28%29%20for%20more%20libcalls/near/348524468" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236174.20Handle.20signature.28.29.20for.20more.20libcalls.html#348524468">(Apr 11 2023 at 17:30)</a>:</h4>
<p>jameysharp merged <a href="https://github.com/bytecodealliance/wasmtime/pull/6174">PR #6174</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>