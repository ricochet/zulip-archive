<html>
<head><meta charset="utf-8"><title>wasmtime / issue #3779 `wasmtime` CLI has `--consume-fuel... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233779.20.60wasmtime.60.20CLI.20has.20.60--consume-fuel.2E.2E.2E.html">wasmtime / issue #3779 `wasmtime` CLI has `--consume-fuel...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="271192941"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233779%20%60wasmtime%60%20CLI%20has%20%60--consume-fuel.../near/271192941" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233779.20.60wasmtime.60.20CLI.20has.20.60--consume-fuel.2E.2E.2E.html#271192941">(Feb 08 2022 at 21:22)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/issues/3779">issue #3779</a>:</p>
<blockquote>
<p>Seems like an oversight on our part.</p>
<p>I'm imagining that we would</p>
<ol>
<li>Make the default amount of fuel <code>0</code> in the CLI</li>
<li>Add a <code>--add-fuel &lt;N&gt;</code> option to add <code>N</code> fuel to the store</li>
</ol>
<p>I think (1) miiiiight be slightly controversial? As an alternative, we would have a <code>--set-fuel &lt;N&gt;</code> option, instead of <code>--add-fuel &lt;N&gt;</code>, and then we would have to ensure that the store gets exactly <code>N</code> fuel rather than adding <code>N</code> additional fuel to it. This is a little bit of a divergence from the <code>Config</code> methods, so I prefer the former, but I'm open either way.</p>
<hr>
<p>In any case, this should be a pretty easy thing to implement for anyone looking to dive into the Wasmtime code base for the first time. The changes would need to be made around here:</p>
<p><a href="https://github.com/bytecodealliance/wasmtime/blob/4f01711d42906c34ae566f0d8eaafd824b711587/src/lib.rs#L237-L239">https://github.com/bytecodealliance/wasmtime/blob/4f01711d42906c34ae566f0d8eaafd824b711587/src/lib.rs#L237-L239</a></p>
<p><a href="https://github.com/bytecodealliance/wasmtime/blob/4f01711d42906c34ae566f0d8eaafd824b711587/src/lib.rs#L331">https://github.com/bytecodealliance/wasmtime/blob/4f01711d42906c34ae566f0d8eaafd824b711587/src/lib.rs#L331</a></p>
<p>See <a href="https://docs.wasmtime.dev/contributing.html">https://docs.wasmtime.dev/contributing.html</a> for contributing details.</p>
</blockquote>



<a name="271192942"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233779%20%60wasmtime%60%20CLI%20has%20%60--consume-fuel.../near/271192942" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233779.20.60wasmtime.60.20CLI.20has.20.60--consume-fuel.2E.2E.2E.html#271192942">(Feb 08 2022 at 21:22)</a>:</h4>
<p>fitzgen labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/3779">issue #3779</a>:</p>
<blockquote>
<p>Seems like an oversight on our part.</p>
<p>I'm imagining that we would</p>
<ol>
<li>Make the default amount of fuel <code>0</code> in the CLI</li>
<li>Add a <code>--add-fuel &lt;N&gt;</code> option to add <code>N</code> fuel to the store</li>
</ol>
<p>I think (1) miiiiight be slightly controversial? As an alternative, we would have a <code>--set-fuel &lt;N&gt;</code> option, instead of <code>--add-fuel &lt;N&gt;</code>, and then we would have to ensure that the store gets exactly <code>N</code> fuel rather than adding <code>N</code> additional fuel to it. This is a little bit of a divergence from the <code>Config</code> methods, so I prefer the former, but I'm open either way.</p>
<hr>
<p>In any case, this should be a pretty easy thing to implement for anyone looking to dive into the Wasmtime code base for the first time. The changes would need to be made around here:</p>
<p><a href="https://github.com/bytecodealliance/wasmtime/blob/4f01711d42906c34ae566f0d8eaafd824b711587/src/lib.rs#L237-L239">https://github.com/bytecodealliance/wasmtime/blob/4f01711d42906c34ae566f0d8eaafd824b711587/src/lib.rs#L237-L239</a></p>
<p><a href="https://github.com/bytecodealliance/wasmtime/blob/4f01711d42906c34ae566f0d8eaafd824b711587/src/lib.rs#L331">https://github.com/bytecodealliance/wasmtime/blob/4f01711d42906c34ae566f0d8eaafd824b711587/src/lib.rs#L331</a></p>
<p>See <a href="https://docs.wasmtime.dev/contributing.html">https://docs.wasmtime.dev/contributing.html</a> for contributing details.</p>
</blockquote>



<a name="271622135"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233779%20%60wasmtime%60%20CLI%20has%20%60--consume-fuel.../near/271622135" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233779.20.60wasmtime.60.20CLI.20has.20.60--consume-fuel.2E.2E.2E.html#271622135">(Feb 11 2022 at 19:01)</a>:</h4>
<p>ilikepi63 <a href="https://github.com/bytecodealliance/wasmtime/issues/3779#issuecomment-1036523715">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3779">issue #3779</a>:</p>
<blockquote>
<p><a href="https://github.com/bytecodealliance/wasmtime/pull/3792">https://github.com/bytecodealliance/wasmtime/pull/3792</a></p>
</blockquote>



<a name="274424797"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233779%20%60wasmtime%60%20CLI%20has%20%60--consume-fuel.../near/274424797" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233779.20.60wasmtime.60.20CLI.20has.20.60--consume-fuel.2E.2E.2E.html#274424797">(Mar 07 2022 at 17:16)</a>:</h4>
<p>sdeleuze <a href="https://github.com/bytecodealliance/wasmtime/issues/3779#issuecomment-1060927867">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3779">issue #3779</a>:</p>
<blockquote>
<p>Hi, should this issue be closed since #3792 has been merged via 85cf4b042a67706669a1f1edea582d885b787a93?</p>
</blockquote>



<a name="274427660"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233779%20%60wasmtime%60%20CLI%20has%20%60--consume-fuel.../near/274427660" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233779.20.60wasmtime.60.20CLI.20has.20.60--consume-fuel.2E.2E.2E.html#274427660">(Mar 07 2022 at 17:33)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/issues/3779#issuecomment-1060944895">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3779">issue #3779</a>:</p>
<blockquote>
<p>Yes, thanks.</p>
</blockquote>



<a name="274427661"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233779%20%60wasmtime%60%20CLI%20has%20%60--consume-fuel.../near/274427661" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233779.20.60wasmtime.60.20CLI.20has.20.60--consume-fuel.2E.2E.2E.html#274427661">(Mar 07 2022 at 17:33)</a>:</h4>
<p>fitzgen closed <a href="https://github.com/bytecodealliance/wasmtime/issues/3779">issue #3779</a>:</p>
<blockquote>
<p>Seems like an oversight on our part.</p>
<p>I'm imagining that we would</p>
<ol>
<li>Make the default amount of fuel <code>0</code> in the CLI</li>
<li>Add a <code>--add-fuel &lt;N&gt;</code> option to add <code>N</code> fuel to the store</li>
</ol>
<p>I think (1) miiiiight be slightly controversial? As an alternative, we would have a <code>--set-fuel &lt;N&gt;</code> option, instead of <code>--add-fuel &lt;N&gt;</code>, and then we would have to ensure that the store gets exactly <code>N</code> fuel rather than adding <code>N</code> additional fuel to it. This is a little bit of a divergence from the <code>Config</code> methods, so I prefer the former, but I'm open either way.</p>
<hr>
<p>In any case, this should be a pretty easy thing to implement for anyone looking to dive into the Wasmtime code base for the first time. The changes would need to be made around here:</p>
<p><a href="https://github.com/bytecodealliance/wasmtime/blob/4f01711d42906c34ae566f0d8eaafd824b711587/src/lib.rs#L237-L239">https://github.com/bytecodealliance/wasmtime/blob/4f01711d42906c34ae566f0d8eaafd824b711587/src/lib.rs#L237-L239</a></p>
<p><a href="https://github.com/bytecodealliance/wasmtime/blob/4f01711d42906c34ae566f0d8eaafd824b711587/src/lib.rs#L331">https://github.com/bytecodealliance/wasmtime/blob/4f01711d42906c34ae566f0d8eaafd824b711587/src/lib.rs#L331</a></p>
<p>See <a href="https://docs.wasmtime.dev/contributing.html">https://docs.wasmtime.dev/contributing.html</a> for contributing details.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>