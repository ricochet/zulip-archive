<html>
<head><meta charset="utf-8"><title>wasmtime / PR #6773 Remove cranelift-codegen-shared · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236773.20Remove.20cranelift-codegen-shared.html">wasmtime / PR #6773 Remove cranelift-codegen-shared</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="378590509"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236773%20Remove%20cranelift-codegen-shared/near/378590509" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236773.20Remove.20cranelift-codegen-shared.html#378590509">(Jul 25 2023 at 19:55)</a>:</h4>
<p>bjorn3 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/6773">PR #6773</a> from <code>bjorn3:cleanup3</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>Based on <a href="https://github.com/bytecodealliance/wasmtime/pull/6772">https://github.com/bytecodealliance/wasmtime/pull/6772</a></p>
</blockquote>



<a name="378590513"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236773%20Remove%20cranelift-codegen-shared/near/378590513" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236773.20Remove.20cranelift-codegen-shared.html#378590513">(Jul 25 2023 at 19:55)</a>:</h4>
<p><strong>bjorn3</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6773">PR #6773</a>.</p>



<a name="378590514"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236773%20Remove%20cranelift-codegen-shared/near/378590514" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236773.20Remove.20cranelift-codegen-shared.html#378590514">(Jul 25 2023 at 19:55)</a>:</h4>
<p><strong>bjorn3</strong> requested <a href="https://github.com/abrown">abrown</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6773">PR #6773</a>.</p>



<a name="378590516"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236773%20Remove%20cranelift-codegen-shared/near/378590516" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236773.20Remove.20cranelift-codegen-shared.html#378590516">(Jul 25 2023 at 19:55)</a>:</h4>
<p><strong>bjorn3</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6773">PR #6773</a>.</p>



<a name="378607073"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236773%20Remove%20cranelift-codegen-shared/near/378607073" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236773.20Remove.20cranelift-codegen-shared.html#378607073">(Jul 25 2023 at 21:24)</a>:</h4>
<p><strong>elliottt</strong> requested <a href="https://github.com/jameysharp">jameysharp</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6773">PR #6773</a>.</p>



<a name="378791486"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236773%20Remove%20cranelift-codegen-shared/near/378791486" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236773.20Remove.20cranelift-codegen-shared.html#378791486">(Jul 26 2023 at 12:59)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6773">PR #6773</a>.</p>



<a name="380463200"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236773%20Remove%20cranelift-codegen-shared/near/380463200" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236773.20Remove.20cranelift-codegen-shared.html#380463200">(Jul 31 2023 at 19:10)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6773#pullrequestreview-1555573226">PR review</a>:</p>
<blockquote>
<p>I discussed this today with @cfallin and @fitzgen and we're in favor of these changes. Reducing the time it takes to build Cranelift is super helpful. I was a little uncomfortable with adding more strings we have to emit from codegen-meta but the change is well-motivated and you've done a great job making the result as easy to maintain as possible. Thanks!</p>
<p>I think one further change is necessary before we can merge this: don't we need to remove <code>cranelift-codegen-shared</code> from both lists in <code>scripts/publish.rs</code>? I think the <code>verify-publish</code> CI job would have caught this but it was skipped.</p>
<p>Thanks also to @elliottt for reminding me that I hadn't responded to this PR yet.</p>
</blockquote>



<a name="380463203"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236773%20Remove%20cranelift-codegen-shared/near/380463203" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236773.20Remove.20cranelift-codegen-shared.html#380463203">(Jul 31 2023 at 19:10)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6773#pullrequestreview-1555573226">PR review</a>:</p>
<blockquote>
<p>I discussed this today with @cfallin and @fitzgen and we're in favor of these changes. Reducing the time it takes to build Cranelift is super helpful. I was a little uncomfortable with adding more strings we have to emit from codegen-meta but the change is well-motivated and you've done a great job making the result as easy to maintain as possible. Thanks!</p>
<p>I think one further change is necessary before we can merge this: don't we need to remove <code>cranelift-codegen-shared</code> from both lists in <code>scripts/publish.rs</code>? I think the <code>verify-publish</code> CI job would have caught this but it was skipped.</p>
<p>Thanks also to @elliottt for reminding me that I hadn't responded to this PR yet.</p>
</blockquote>



<a name="380463204"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236773%20Remove%20cranelift-codegen-shared/near/380463204" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236773.20Remove.20cranelift-codegen-shared.html#380463204">(Jul 31 2023 at 19:10)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/6773#discussion_r1279757803">PR review comment</a>:</p>
<blockquote>
<p>I don't feel strongly about this, but I'd be tempted to use a macro here to ensure that the name of the constant is always the same in the generated source as it is in the meta crate. Something like <code>constants!(fmt, LANE_BASE, REFERENCE_BASE, ...)</code> I guess.</p>
<p>I'm happy to merge this as-is, but I thought I'd mention it since I think <code>publish.rs</code> needs to be fixed anyway. Let me know whether you want to change this too.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>