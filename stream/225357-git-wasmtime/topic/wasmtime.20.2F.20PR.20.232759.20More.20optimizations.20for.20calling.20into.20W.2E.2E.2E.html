<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2759 More optimizations for calling into W... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html">wasmtime / PR #2759 More optimizations for calling into W...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="231549327"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231549327" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231549327">(Mar 23 2021 at 21:49)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/2759">PR #2759</a> from <code>fast-call2</code> to <code>main</code>:</p>
<blockquote>
<p>This continues <a href="https://github.com/bytecodealliance/wasmtime/pull/2757">https://github.com/bytecodealliance/wasmtime/pull/2757</a> a bit more by optimizing calls into WebAssembly. The first commit should affect all platforms, but is only a minor speedup. The second commit is a macOS-specific improvement but is a very large improvement for macOS. I believe after this all platforms should be again performing roughly on-par with one another.</p>
</blockquote>



<a name="231565606"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231565606" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231565606">(Mar 24 2021 at 00:36)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2759">PR #2759</a> from <code>fast-call2</code> to <code>main</code>.</p>



<a name="231614862"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231614862" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231614862">(Mar 24 2021 at 10:57)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2759#pullrequestreview-619555945">PR Review</a>.</p>



<a name="231614863"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231614863" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231614863">(Mar 24 2021 at 10:57)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2759#pullrequestreview-619555945">PR Review</a>.</p>



<a name="231614864"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231614864" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231614864">(Mar 24 2021 at 10:57)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2759#discussion_r600355750">PR Review Comment</a>:</p>
<blockquote>
<p>nit: unregisters</p>
</blockquote>



<a name="231614865"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231614865" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231614865">(Mar 24 2021 at 10:57)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2759#discussion_r600369190">PR Review Comment</a>:</p>
<blockquote>
<p>Missing comment here.</p>
</blockquote>



<a name="231614866"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231614866" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231614866">(Mar 24 2021 at 10:57)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2759#discussion_r600353582">PR Review Comment</a>:</p>
<blockquote>
<p>There was a check in the unix implementation that the <code>jmp_buf</code> could be set to 1 (meaning a custom signal handler has run and the trap handler should return early). Is it not necessary anymore?</p>
</blockquote>



<a name="231614867"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231614867" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231614867">(Mar 24 2021 at 10:57)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2759#discussion_r600369046">PR Review Comment</a>:</p>
<blockquote>
<p>Missing comment here?</p>
</blockquote>



<a name="231614868"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231614868" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231614868">(Mar 24 2021 at 10:57)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2759#discussion_r600365588">PR Review Comment</a>:</p>
<blockquote>
<p>Can we check that the start is the same? And as a poor man's check for function, that the <code>functions.size()</code> match?</p>
</blockquote>



<a name="231640748"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231640748" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231640748">(Mar 24 2021 at 14:14)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2759#pullrequestreview-619771069">PR Review</a>.</p>



<a name="231640749"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231640749" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231640749">(Mar 24 2021 at 14:14)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/2759#discussion_r600516568">PR Review Comment</a>:</p>
<blockquote>
<p>Ah yeah I realized that it was no longer necessary since we don't run the custom trap handler on macOS, it's only run on Unix and Windows now.</p>
</blockquote>



<a name="231652907"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231652907" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231652907">(Mar 24 2021 at 15:22)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2759#pullrequestreview-619863895">PR Review</a>.</p>



<a name="231652908"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231652908" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231652908">(Mar 24 2021 at 15:22)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/2759#discussion_r600586666">PR Review Comment</a>:</p>
<blockquote>
<p>Weird I remember writing docs here... I guess I accidentally blew them away!</p>
</blockquote>



<a name="231653226"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231653226" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231653226">(Mar 24 2021 at 15:24)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2759">PR #2759</a> from <code>fast-call2</code> to <code>main</code>.</p>



<a name="231666921"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232759%20More%20optimizations%20for%20calling%20into%20W.../near/231666921" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232759.20More.20optimizations.20for.20calling.20into.20W.2E.2E.2E.html#231666921">(Mar 24 2021 at 16:41)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/2759">PR #2759</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>