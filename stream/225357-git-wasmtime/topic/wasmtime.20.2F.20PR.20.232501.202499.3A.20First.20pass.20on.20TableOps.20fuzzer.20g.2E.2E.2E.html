<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2501 2499: First pass on TableOps fuzzer g... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html">wasmtime / PR #2501 2499: First pass on TableOps fuzzer g...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="219882419"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219882419" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219882419">(Dec 14 2020 at 18:30)</a>:</h4>
<p>dhaynespls edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2501">PR #2501</a> from <code>dhaynespls/2499-tableops-to-wasm-encoder</code> to <code>main</code>:</p>
<blockquote>
<p>This PR migrates the TableOps fuzzer generator from the old string concatenation strategy to utilizing <code>wasm_encoder</code> to generate a wasm binary for us.</p>
<p>Tests updated accordingly.</p>
<p>Closes #2499 <br>
</p>
</blockquote>



<a name="219882901"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219882901" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219882901">(Dec 14 2020 at 18:34)</a>:</h4>
<p>dhaynespls updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2501">PR #2501</a> from <code>dhaynespls/2499-tableops-to-wasm-encoder</code> to <code>main</code>:</p>
<blockquote>
<p>This PR migrates the TableOps fuzzer generator from the old string concatenation strategy to utilizing <code>wasm_encoder</code> to generate a wasm binary for us.</p>
<p>Tests updated accordingly.</p>
<p>Closes #2499 <br>
</p>
</blockquote>



<a name="219885586"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219885586" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219885586">(Dec 14 2020 at 18:53)</a>:</h4>
<p>dhaynespls submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-551795794">PR Review</a>.</p>



<a name="219885587"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219885587" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219885587">(Dec 14 2020 at 18:53)</a>:</h4>
<p>dhaynespls created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542641526">PR Review Comment</a>:</p>
<blockquote>
<p>cc @fitzgen I'm like .. 99% sure this new output is doing something different than your original expected output but I'm not exactly sure how to use the library to produce a concise copy. </p>
<p>(other than the order of sections which I followed <a href="https://webassembly.github.io/spec/core/binary/modules.html#binary-module">https://webassembly.github.io/spec/core/binary/modules.html#binary-module</a> for per the docs)</p>
</blockquote>



<a name="219886289"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219886289" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219886289">(Dec 14 2020 at 18:58)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-551791162">PR Review</a>.</p>



<a name="219886290"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219886290" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219886290">(Dec 14 2020 at 18:58)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-551791162">PR Review</a>.</p>



<a name="219886291"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219886291" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219886291">(Dec 14 2020 at 18:58)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542637282">PR Review Comment</a>:</p>
<blockquote>
<p>The <code>0</code>th function is the gc function import (the function index space goes <code>[import function 0, import function 1, import function 2, ..., defined function 0, defined function 1, defined function 2, ...]</code>) so this index should be <code>1</code> here.</p>
</blockquote>



<a name="219886292"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219886292" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219886292">(Dec 14 2020 at 18:58)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542639670">PR Review Comment</a>:</p>
<blockquote>
<p>These two instructions' order should be swapped. The result of the <code>table.get</code> is the thing we want to drop, so we want to do the <code>table.get</code> which pushes its result on top of the Wasm stack, and then do a <code>drop</code>, which pops the value off and drops it.</p>
</blockquote>



<a name="219886294"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219886294" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219886294">(Dec 14 2020 at 18:58)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542634899">PR Review Comment</a>:</p>
<blockquote>
<p>You'll also need to define the type for this imported function in the type section (and make sure you aren't mixing up type indices for the gc and run functions' signatures):</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">types</span><span class="p">.</span><span class="n">function</span><span class="p">(</span><span class="n">vec</span><span class="o">!</span><span class="p">[],</span><span class="w"> </span><span class="n">vec</span><span class="o">!</span><span class="p">[]);</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<a name="219886295"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219886295" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219886295">(Dec 14 2020 at 18:58)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542640858">PR Review Comment</a>:</p>
<blockquote>
<p>Similarly, these need to be swapped around as well so that the <code>table.get</code> comes before the <code>{local,table}.set</code>.</p>
</blockquote>



<a name="219886296"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219886296" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219886296">(Dec 14 2020 at 18:58)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542645104">PR Review Comment</a>:</p>
<blockquote>
<p>Here is the fully elaborated/desugared WAT that we should expect:</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>  (type (;0;) (func))
  (type (;1;) (func (param externref externref)))
  (import "" "gc" (func (;0;) (type 0)))
  (func (;1;) (type 1) (param externref externref)
    call 0
    table.get 0
    drop
    local.get 2
    table.set 1
    table.get 4
    table.set 3)
  (table (;0;) 10 externref)
  (export "run" (func 1)))
</code></pre></div><br>
</p>
</blockquote>



<a name="219886297"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219886297" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219886297">(Dec 14 2020 at 18:58)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542646027">PR Review Comment</a>:</p>
<blockquote>
<p>Heads up: we just published 0.2 recently, and may have 0.3 out in the next day or so.</p>
</blockquote>



<a name="219886342"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219886342" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219886342">(Dec 14 2020 at 18:58)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-551800816">PR Review</a>.</p>



<a name="219886343"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219886343" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219886343">(Dec 14 2020 at 18:58)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542648274">PR Review Comment</a>:</p>
<blockquote>
<p>See my comments below :)</p>
</blockquote>



<a name="219886416"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219886416" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219886416">(Dec 14 2020 at 18:59)</a>:</h4>
<p>dhaynespls submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-551801264">PR Review</a>.</p>



<a name="219886418"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219886418" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219886418">(Dec 14 2020 at 18:59)</a>:</h4>
<p>dhaynespls created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542649183">PR Review Comment</a>:</p>
<blockquote>
<p>oh awesome you just reviewed I'll resolve this one and use your comments</p>
</blockquote>



<a name="219887173"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219887173" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219887173">(Dec 14 2020 at 19:04)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-551805387">PR Review</a>.</p>



<a name="219887175"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219887175" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219887175">(Dec 14 2020 at 19:04)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542655854">PR Review Comment</a>:</p>
<blockquote>
<p>Also, the <code>table.{get,set}</code> should take the table index as a Wasm stack operand (created via <code>i32.const</code>) not as an immediate that is part of the instruction (which specifies which table is being used):</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// Stack: []</span>
<span class="n">func</span><span class="p">.</span><span class="n">instruction</span><span class="p">(</span><span class="n">Instruction</span>::<span class="n">I32Const</span><span class="p">(</span><span class="o">*</span><span class="n">y</span><span class="p">);</span><span class="w"></span>
<span class="c1">// Stack: [y]</span>
<span class="n">func</span><span class="p">.</span><span class="n">instruction</span><span class="p">(</span><span class="n">Instruction</span>::<span class="n">I32Const</span><span class="p">(</span><span class="o">*</span><span class="n">x</span><span class="p">));</span><span class="w"></span>
<span class="c1">// Stack: [y, x]</span>
<span class="n">func</span><span class="p">.</span><span class="n">instruction</span><span class="p">(</span><span class="n">Instruction</span>::<span class="n">TableGet</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">table</span>: <span class="mi">0</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="c1">// Stack: [y, ref0]</span>
<span class="n">func</span><span class="p">.</span><span class="n">instruction</span><span class="p">(</span><span class="n">Instruction</span>::<span class="n">TableSet</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">table</span>: <span class="mi">0</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="c1">// Stack: []</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="219887239"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219887239" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219887239">(Dec 14 2020 at 19:05)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542655854">PR Review Comment</a>.</p>



<a name="219887260"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219887260" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219887260">(Dec 14 2020 at 19:05)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542655854">PR Review Comment</a>.</p>



<a name="219887432"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219887432" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219887432">(Dec 14 2020 at 19:06)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542645104">PR Review Comment</a>.</p>



<a name="219887464"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/219887464" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#219887464">(Dec 14 2020 at 19:06)</a>:</h4>
<p>fitzgen edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542645104">PR Review Comment</a>.</p>



<a name="220020599"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220020599" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220020599">(Dec 15 2020 at 18:22)</a>:</h4>
<p>dhaynespls updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2501">PR #2501</a> from <code>dhaynespls/2499-tableops-to-wasm-encoder</code> to <code>main</code>:</p>
<blockquote>
<p>This PR migrates the TableOps fuzzer generator from the old string concatenation strategy to utilizing <code>wasm_encoder</code> to generate a wasm binary for us.</p>
<p>Tests updated accordingly.</p>
<p>Closes #2499 <br>
</p>
</blockquote>



<a name="220020751"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220020751" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220020751">(Dec 15 2020 at 18:23)</a>:</h4>
<p>dhaynespls submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-552743969">PR Review</a>.</p>



<a name="220020752"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220020752" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220020752">(Dec 15 2020 at 18:23)</a>:</h4>
<p>dhaynespls created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r543580902">PR Review Comment</a>:</p>
<blockquote>
<p>Thanks for clarifying this, I was confused what <code>table: </code> was referring to (table index or value to put/get into a table). </p>
</blockquote>



<a name="220020818"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220020818" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220020818">(Dec 15 2020 at 18:23)</a>:</h4>
<p>dhaynespls submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-552744347">PR Review</a>.</p>



<a name="220020819"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220020819" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220020819">(Dec 15 2020 at 18:23)</a>:</h4>
<p>dhaynespls created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r543581217">PR Review Comment</a>:</p>
<blockquote>
<p>OH that makes total sense -- I wasn't thinking in terms of putting things onto a stack first before using them </p>
</blockquote>



<a name="220021051"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220021051" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220021051">(Dec 15 2020 at 18:25)</a>:</h4>
<p>dhaynespls created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r543582254">PR Review Comment</a>:</p>
<blockquote>
<p>In the function body I needed to add the table index to your expected output ie. <code>table.get 0</code> </p>
</blockquote>



<a name="220021052"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220021052" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220021052">(Dec 15 2020 at 18:25)</a>:</h4>
<p>dhaynespls submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-552745449">PR Review</a>.</p>



<a name="220021200"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220021200" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220021200">(Dec 15 2020 at 18:26)</a>:</h4>
<p>dhaynespls updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2501">PR #2501</a> from <code>dhaynespls/2499-tableops-to-wasm-encoder</code> to <code>main</code>:</p>
<blockquote>
<p>This PR migrates the TableOps fuzzer generator from the old string concatenation strategy to utilizing <code>wasm_encoder</code> to generate a wasm binary for us.</p>
<p>Tests updated accordingly.</p>
<p>Closes #2499 <br>
</p>
</blockquote>



<a name="220041932"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220041932" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220041932">(Dec 15 2020 at 21:02)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-552864620">PR Review</a>.</p>



<a name="220041933"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220041933" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220041933">(Dec 15 2020 at 21:02)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-552864620">PR Review</a>.</p>



<a name="220041934"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220041934" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220041934">(Dec 15 2020 at 21:02)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r543682795">PR Review Comment</a>:</p>
<blockquote>
<p>Nitpick: there's a typo here ("a a") so we might as well wordsmith this a tiny bit while we're here:</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>    /// Serialize this module into a Wasm binary.
</code></pre></div><br>
</p>
</blockquote>



<a name="220041935"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220041935" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220041935">(Dec 15 2020 at 21:02)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r543682606">PR Review Comment</a>:</p>
<blockquote>
<p>This will let us avoid the wasm-&gt;wat disassembly (and thus have higher fuzzing throughput) unless logging is enabled:</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>        let wasm = ops.to_wasm_binary();
        log_wasm(&amp;wasm);
</code></pre></div><br>
</p>
</blockquote>



<a name="220054992"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220054992" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220054992">(Dec 15 2020 at 22:53)</a>:</h4>
<p>dhaynespls updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2501">PR #2501</a> from <code>dhaynespls/2499-tableops-to-wasm-encoder</code> to <code>main</code>:</p>
<blockquote>
<p>This PR migrates the TableOps fuzzer generator from the old string concatenation strategy to utilizing <code>wasm_encoder</code> to generate a wasm binary for us.</p>
<p>Tests updated accordingly.</p>
<p>Closes #2499 <br>
</p>
</blockquote>



<a name="220064312"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220064312" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220064312">(Dec 16 2020 at 00:38)</a>:</h4>
<p>dhaynespls updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2501">PR #2501</a> from <code>dhaynespls/2499-tableops-to-wasm-encoder</code> to <code>main</code>:</p>
<blockquote>
<p>This PR migrates the TableOps fuzzer generator from the old string concatenation strategy to utilizing <code>wasm_encoder</code> to generate a wasm binary for us.</p>
<p>Tests updated accordingly.</p>
<p>Closes #2499 <br>
</p>
</blockquote>



<a name="220307612"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%202499%3A%20First%20pass%20on%20TableOps%20fuzzer%20g.../near/220307612" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.202499.3A.20First.20pass.20on.20TableOps.20fuzzer.20g.2E.2E.2E.html#220307612">(Dec 17 2020 at 21:47)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/2501">PR #2501</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>