<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9911 pulley: Implement vector sqmul_round_sat · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html">wasmtime / PR #9911 pulley: Implement vector sqmul_round_sat</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="491163337"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491163337" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491163337">(Dec 29 2024 at 09:55)</a>:</h4>
<p>eagr opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9911">PR #9911</a> from <code>eagr:pulley-sqmul</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>part of #9783 </p>
</blockquote>



<a name="491163338"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491163338" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491163338">(Dec 29 2024 at 09:55)</a>:</h4>
<p><strong>eagr</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9911">PR #9911</a>.</p>



<a name="491163339"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491163339" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491163339">(Dec 29 2024 at 09:55)</a>:</h4>
<p><strong>eagr</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9911">PR #9911</a>.</p>



<a name="491163341"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491163341" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491163341">(Dec 29 2024 at 09:55)</a>:</h4>
<p><strong>eagr</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9911">PR #9911</a>.</p>



<a name="491163342"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491163342" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491163342">(Dec 29 2024 at 09:55)</a>:</h4>
<p><strong>eagr</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9911">PR #9911</a>.</p>



<a name="491163345"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491163345" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491163345">(Dec 29 2024 at 09:55)</a>:</h4>
<p><strong>eagr</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9911">PR #9911</a>.</p>



<a name="491169750"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491169750" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491169750">(Dec 29 2024 at 11:44)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/9911#issuecomment-2564697838">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9911">PR #9911</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "cranelift:meta", "pulley"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>fitzgen: pulley</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="491198484"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491198484" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491198484">(Dec 29 2024 at 18:45)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9911#pullrequestreview-2524992426">PR review</a>.</p>



<a name="491198485"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491198485" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491198485">(Dec 29 2024 at 18:45)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9911#discussion_r1899177003">PR review comment</a>:</p>
<blockquote>
<p>I'm a bit surprised by the lack of parentheses around this, I would have expected:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="kd">let</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">i32</span><span class="p">::</span><span class="n">from</span><span class="p">(</span><span class="o">*</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kt">i32</span><span class="p">::</span><span class="n">from</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="mi">1</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">14</span><span class="p">))</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="mi">15</span><span class="p">;</span>
</code></pre></div>
<p>as otherwise the final term <code>(1 &lt;&lt; 14) &gt;&gt; 15</code> looks like it currently evaluates to 0.</p>
<p>Tests, however, are passing with this PR which means that either the precedence rules of parsing in Rust are different from what I expect or that the tests don't actually cover the case which needs the parentheses to be right here. Would you be up for debugging this a bit to figure out what's going on test-wise?</p>
</blockquote>



<a name="491201562"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491201562" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491201562">(Dec 29 2024 at 19:36)</a>:</h4>
<p>eagr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9911#pullrequestreview-2524997352">PR review</a>.</p>



<a name="491201564"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491201564" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491201564">(Dec 29 2024 at 19:36)</a>:</h4>
<p>eagr created <a href="https://github.com/bytecodealliance/wasmtime/pull/9911#discussion_r1899182932">PR review comment</a>:</p>
<blockquote>
<p>You must have always been in the good habit of applying parentheses when in doubt so you don't have to remember the precedence rules :)</p>
<p>I think this is equivalent to what you expect. Let me just add those parentheses and you'd see the same result. The code reads better that way anyways. And btw the tests are looking good to me.</p>
</blockquote>



<a name="491201822"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491201822" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491201822">(Dec 29 2024 at 19:41)</a>:</h4>
<p>eagr updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9911">PR #9911</a>.</p>



<a name="491203144"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491203144" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491203144">(Dec 29 2024 at 20:02)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9911#pullrequestreview-2524999730">PR review</a>.</p>



<a name="491203148"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491203148" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491203148">(Dec 29 2024 at 20:02)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9911#discussion_r1899185936">PR review comment</a>:</p>
<blockquote>
<p>Oh nice, thanks for checking!</p>
</blockquote>



<a name="491203153"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491203153" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491203153">(Dec 29 2024 at 20:02)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9911#pullrequestreview-2524999741">PR review</a>.</p>



<a name="491204406"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239911%20pulley%3A%20Implement%20vector%20sqmul_round_sat/near/491204406" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239911.20pulley.3A.20Implement.20vector.20sqmul_round_sat.html#491204406">(Dec 29 2024 at 20:21)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9911">PR #9911</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>