<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9096 add `rust-toolchain.toml` · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239096.20add.20.60rust-toolchain.2Etoml.60.html">wasmtime / PR #9096 add `rust-toolchain.toml`</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="459511376"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239096%20add%20%60rust-toolchain.toml%60/near/459511376" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239096.20add.20.60rust-toolchain.2Etoml.60.html#459511376">(Aug 09 2024 at 15:54)</a>:</h4>
<p><strong>Kmeakin</strong> requested <a href="https://github.com/elliottt">elliottt</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9096">PR #9096</a>.</p>



<a name="459511377"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239096%20add%20%60rust-toolchain.toml%60/near/459511377" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239096.20add.20.60rust-toolchain.2Etoml.60.html#459511377">(Aug 09 2024 at 15:54)</a>:</h4>
<p>Kmeakin opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9096">PR #9096</a> from <code>Kmeakin:km/rust-toolchain</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>I hit a confusing error trying to build wasmtime on the nightly toolchain (<a href="#narrow/stream/217126-wasmtime/topic/.22failed.20to.20reduce.20input.20adapter.20module.20to.20its.20minimal.20size.22/near/456716867">https://bytecodealliance.zulipchat.com/#narrow/stream/217126-wasmtime/topic/.22failed.20to.20reduce.20input.20adapter.20module.20to.20its.20minimal.20size.22/near/456716867</a>). I thought it would be a good idea to include a <code>rust-toolchain.toml</code> file so <code>cargo build</code> just works out of the box without any setup required</p>
</blockquote>



<a name="459511378"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239096%20add%20%60rust-toolchain.toml%60/near/459511378" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239096.20add.20.60rust-toolchain.2Etoml.60.html#459511378">(Aug 09 2024 at 15:54)</a>:</h4>
<p><strong>Kmeakin</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9096">PR #9096</a>.</p>



<a name="459511746"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239096%20add%20%60rust-toolchain.toml%60/near/459511746" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239096.20add.20.60rust-toolchain.2Etoml.60.html#459511746">(Aug 09 2024 at 15:56)</a>:</h4>
<p><strong>elliottt</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9096">PR #9096</a>.</p>



<a name="459543164"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239096%20add%20%60rust-toolchain.toml%60/near/459543164" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239096.20add.20.60rust-toolchain.2Etoml.60.html#459543164">(Aug 09 2024 at 18:15)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9096#issuecomment-2278491763">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9096">PR #9096</a>:</p>
<blockquote>
<p>Thanks! Personally though I'd prefer to not do this. I find <code>rust-toolchain.toml</code> difficult to deal with because it's difficult to override for example in CI to try out different versions (e.g. this is overriding on CI right now to <code>stable</code> instead of pinned versions). Possible to do of course but I also find it a bit jarring to run <code>cargo build</code> locally only to have a toolchain downloaded.</p>
<p>Not to say I disagree with the motivation of this PR though. Confusing errors are never great and pinning dependencies are a great way of weeding that out. My only defense against this is a hand-wavy argument that we're generally not affected by breakage in upstream rust-lang/rust. My experience is it's pretty common to get new lint warnings (which doesn't break builds) and otherwise full-on breakage is pretty rare. If we were a much larger project where this happened more frequently I think it might make sense to pin toolchains, but in lieu of that I'd lean towards the default of "fix the occasional bug report when this does happen" and otherwise stick to only having an msrv marker for warning the toolchain is too old</p>
</blockquote>



<a name="459549579"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239096%20add%20%60rust-toolchain.toml%60/near/459549579" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239096.20add.20.60rust-toolchain.2Etoml.60.html#459549579">(Aug 09 2024 at 18:38)</a>:</h4>
<p>Kmeakin closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/9096">PR #9096</a>.</p>



<a name="459549581"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239096%20add%20%60rust-toolchain.toml%60/near/459549581" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239096.20add.20.60rust-toolchain.2Etoml.60.html#459549581">(Aug 09 2024 at 18:38)</a>:</h4>
<p>Kmeakin <a href="https://github.com/bytecodealliance/wasmtime/pull/9096#issuecomment-2278529425">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9096">PR #9096</a>:</p>
<blockquote>
<p>Thanks, I'll close this</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>