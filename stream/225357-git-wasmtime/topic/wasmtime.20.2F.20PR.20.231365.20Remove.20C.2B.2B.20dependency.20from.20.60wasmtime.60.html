<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1365 Remove C++ dependency from `wasmtime` · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231365.20Remove.20C.2B.2B.20dependency.20from.20.60wasmtime.60.html">wasmtime / PR #1365 Remove C++ dependency from `wasmtime`</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="191174981"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231365%20Remove%20C%2B%2B%20dependency%20from%20%60wasmtime%60/near/191174981" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231365.20Remove.20C.2B.2B.20dependency.20from.20.60wasmtime.60.html#191174981">(Mar 19 2020 at 21:02)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1365" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1365">PR #1365</a> from <code>no-cpp</code> to <code>master</code>:</p>
<blockquote>
<p>This commit removes the last wads of C++ that we have in wasmtime,<br>
meaning that building wasmtime no longer requires a C++ compiler. It<br>
still does require a C toolchain for some minor purposes, but hopefully<br>
we can remove that over time too!</p>
<p>The motivation for doing this is to consolidate all our signal-handling<br>
code into one location in one language so you don't have to keep<br>
crossing back and forth when understanding what's going on. This also<br>
allows us to remove some extra cruft that wasn't necessary from the C++<br>
original implementation. Additionally this should also make building<br>
wasmtime a bit more portable since it's often easier to acquire a C<br>
toolchain than it is to acquire a C++ toolchain. (e.g. if you're<br>
cross-compiling to a musl target)</p>
</blockquote>



<a name="191266329"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231365%20Remove%20C%2B%2B%20dependency%20from%20%60wasmtime%60/near/191266329" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231365.20Remove.20C.2B.2B.20dependency.20from.20.60wasmtime.60.html#191266329">(Mar 20 2020 at 16:24)</a>:</h4>
<p>pepyakin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1365#pullrequestreview-378609217" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1365#pullrequestreview-378609217">PR Review</a>.</p>



<a name="191266330"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231365%20Remove%20C%2B%2B%20dependency%20from%20%60wasmtime%60/near/191266330" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231365.20Remove.20C.2B.2B.20dependency.20from.20.60wasmtime.60.html#191266330">(Mar 20 2020 at 16:24)</a>:</h4>
<p>pepyakin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1365#pullrequestreview-378609217" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1365#pullrequestreview-378609217">PR Review</a>.</p>



<a name="191266331"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231365%20Remove%20C%2B%2B%20dependency%20from%20%60wasmtime%60/near/191266331" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231365.20Remove.20C.2B.2B.20dependency.20from.20.60wasmtime.60.html#191266331">(Mar 20 2020 at 16:24)</a>:</h4>
<p>pepyakin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1365#discussion_r395733325" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1365#discussion_r395733325">PR Review Comment</a>:</p>
<blockquote>
<p>isn't this a signal for <code>signal</code>?</p>
</blockquote>



<a name="191266332"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231365%20Remove%20C%2B%2B%20dependency%20from%20%60wasmtime%60/near/191266332" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231365.20Remove.20C.2B.2B.20dependency.20from.20.60wasmtime.60.html#191266332">(Mar 20 2020 at 16:24)</a>:</h4>
<p>pepyakin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1365#discussion_r395745829" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1365#discussion_r395745829">PR Review Comment</a>:</p>
<blockquote>
<p>Why do we want to reset the handling_trap flag here? It seems that <code>handle_trap</code> already takes care about this and windows version doesn't do this either.</p>
</blockquote>



<a name="191266748"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231365%20Remove%20C%2B%2B%20dependency%20from%20%60wasmtime%60/near/191266748" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231365.20Remove.20C.2B.2B.20dependency.20from.20.60wasmtime.60.html#191266748">(Mar 20 2020 at 16:27)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1365" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1365">PR #1365</a> from <code>no-cpp</code> to <code>master</code>:</p>
<blockquote>
<p>This commit removes the last wads of C++ that we have in wasmtime,<br>
meaning that building wasmtime no longer requires a C++ compiler. It<br>
still does require a C toolchain for some minor purposes, but hopefully<br>
we can remove that over time too!</p>
<p>The motivation for doing this is to consolidate all our signal-handling<br>
code into one location in one language so you don't have to keep<br>
crossing back and forth when understanding what's going on. This also<br>
allows us to remove some extra cruft that wasn't necessary from the C++<br>
original implementation. Additionally this should also make building<br>
wasmtime a bit more portable since it's often easier to acquire a C<br>
toolchain than it is to acquire a C++ toolchain. (e.g. if you're<br>
cross-compiling to a musl target)</p>
</blockquote>



<a name="191266799"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231365%20Remove%20C%2B%2B%20dependency%20from%20%60wasmtime%60/near/191266799" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231365.20Remove.20C.2B.2B.20dependency.20from.20.60wasmtime.60.html#191266799">(Mar 20 2020 at 16:28)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1365#pullrequestreview-378633802" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1365#pullrequestreview-378633802">PR Review</a>.</p>



<a name="191266800"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231365%20Remove%20C%2B%2B%20dependency%20from%20%60wasmtime%60/near/191266800" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231365.20Remove.20C.2B.2B.20dependency.20from.20.60wasmtime.60.html#191266800">(Mar 20 2020 at 16:28)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1365#discussion_r395752224" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1365#discussion_r395752224">PR Review Comment</a>:</p>
<blockquote>
<p>Oops my mistake, forgot to move this when refactoring.</p>
</blockquote>



<a name="191286830"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231365%20Remove%20C%2B%2B%20dependency%20from%20%60wasmtime%60/near/191286830" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231365.20Remove.20C.2B.2B.20dependency.20from.20.60wasmtime.60.html#191286830">(Mar 20 2020 at 18:52)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1365#pullrequestreview-378736166" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1365#pullrequestreview-378736166">PR Review</a>.</p>



<a name="191297303"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231365%20Remove%20C%2B%2B%20dependency%20from%20%60wasmtime%60/near/191297303" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231365.20Remove.20C.2B.2B.20dependency.20from.20.60wasmtime.60.html#191297303">(Mar 20 2020 at 20:21)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1365" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1365">PR #1365</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>