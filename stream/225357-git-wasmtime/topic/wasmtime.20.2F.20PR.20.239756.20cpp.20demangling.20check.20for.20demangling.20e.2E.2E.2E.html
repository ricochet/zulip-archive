<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9756 cpp demangling check for demangling e... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239756.20cpp.20demangling.20check.20for.20demangling.20e.2E.2E.2E.html">wasmtime / PR #9756 cpp demangling check for demangling e...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="486574327"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239756%20cpp%20demangling%20check%20for%20demangling%20e.../near/486574327" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239756.20cpp.20demangling.20check.20for.20demangling.20e.2E.2E.2E.html#486574327">(Dec 06 2024 at 18:40)</a>:</h4>
<p><strong>chobermaier</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9756">PR #9756</a>.</p>



<a name="486574328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239756%20cpp%20demangling%20check%20for%20demangling%20e.../near/486574328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239756.20cpp.20demangling.20check.20for.20demangling.20e.2E.2E.2E.html#486574328">(Dec 06 2024 at 18:40)</a>:</h4>
<p>chobermaier opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9756">PR #9756</a> from <code>chobermaier:main</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>The use of cpp_demangle in <code>crates/environ/src/demangling.rs</code> missed a check if demangling would actually succeed.</p>
<p>This PR's wraps the use of cpp_demangle with an explicitly call of <a href="https://docs.rs/cpp_demangle/latest/cpp_demangle/struct.Symbol.html#method.demangle">demangle</a> and can therefore check its Result.  <br>
The current implicit demangle call did not check this result. In some cases this lead to failed unwrapping in <a href="https://github.com/bytecodealliance/wasmtime/blob/66989d9d6cfabb4c0781134b8d78bcbd81c6e511/crates/wasmtime/src/runtime/instantiate.rs#L73">instantiate.rs</a>.</p>
<p>see issue #9753 <br>
</p>
</blockquote>



<a name="486574329"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239756%20cpp%20demangling%20check%20for%20demangling%20e.../near/486574329" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239756.20cpp.20demangling.20check.20for.20demangling.20e.2E.2E.2E.html#486574329">(Dec 06 2024 at 18:40)</a>:</h4>
<p><strong>chobermaier</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9756">PR #9756</a>.</p>



<a name="486581549"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239756%20cpp%20demangling%20check%20for%20demangling%20e.../near/486581549" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239756.20cpp.20demangling.20check.20for.20demangling.20e.2E.2E.2E.html#486581549">(Dec 06 2024 at 19:30)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9756#pullrequestreview-2485700792">PR review</a>:</p>
<blockquote>
<p>Thanks for this!</p>
</blockquote>



<a name="486581603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239756%20cpp%20demangling%20check%20for%20demangling%20e.../near/486581603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239756.20cpp.20demangling.20check.20for.20demangling.20e.2E.2E.2E.html#486581603">(Dec 06 2024 at 19:30)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9756">PR #9756</a>:</p>
<blockquote>
<p>The use of cpp_demangle in <code>crates/environ/src/demangling.rs</code> missed a check if demangling would actually succeed.</p>
<p>This PR's wraps the use of cpp_demangle with an explicitly call of <a href="https://docs.rs/cpp_demangle/latest/cpp_demangle/struct.Symbol.html#method.demangle">demangle</a> and can therefore check its Result.  <br>
The current implicit demangle call did not check this result. In some cases this lead to failed unwrapping in <a href="https://github.com/bytecodealliance/wasmtime/blob/66989d9d6cfabb4c0781134b8d78bcbd81c6e511/crates/wasmtime/src/runtime/instantiate.rs#L73">instantiate.rs</a>.</p>
<p>Closes #9753 <br>
</p>
</blockquote>



<a name="486583882"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239756%20cpp%20demangling%20check%20for%20demangling%20e.../near/486583882" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239756.20cpp.20demangling.20check.20for.20demangling.20e.2E.2E.2E.html#486583882">(Dec 06 2024 at 19:46)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9756">PR #9756</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>