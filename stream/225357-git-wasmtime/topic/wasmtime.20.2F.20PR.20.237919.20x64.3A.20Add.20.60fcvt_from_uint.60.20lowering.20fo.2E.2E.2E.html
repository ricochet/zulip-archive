<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7919 x64: Add `fcvt_from_uint` lowering fo... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237919.20x64.3A.20Add.20.60fcvt_from_uint.60.20lowering.20fo.2E.2E.2E.html">wasmtime / PR #7919 x64: Add `fcvt_from_uint` lowering fo...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="421099441"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237919%20x64%3A%20Add%20%60fcvt_from_uint%60%20lowering%20fo.../near/421099441" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237919.20x64.3A.20Add.20.60fcvt_from_uint.60.20lowering.20fo.2E.2E.2E.html#421099441">(Feb 12 2024 at 18:20)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/7919">PR #7919</a> from <code>alexcrichton:x64-float-lwoering</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This commit adds a general purpose lowering for the <code>fcvt_from_uint</code> instruction in addition to the previously specialized lowering for what the wasm frontend produces. This is unlikely to get triggered much from the wasm frontend except when intermediate optimizations change the shape of code. The goal of this commit is to address issues such as those identified in #7915 and historically by ensuring that there's a lowering for the instruction for all input types instead of trying to massage the input into the right form.</p>
<p>This instruction lowering was crafted by studying LLVM's output and I've put commentary to the best of my ability as to what's going on.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="421099443"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237919%20x64%3A%20Add%20%60fcvt_from_uint%60%20lowering%20fo.../near/421099443" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237919.20x64.3A.20Add.20.60fcvt_from_uint.60.20lowering.20fo.2E.2E.2E.html#421099443">(Feb 12 2024 at 18:20)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7919">PR #7919</a>.</p>



<a name="421099445"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237919%20x64%3A%20Add%20%60fcvt_from_uint%60%20lowering%20fo.../near/421099445" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237919.20x64.3A.20Add.20.60fcvt_from_uint.60.20lowering.20fo.2E.2E.2E.html#421099445">(Feb 12 2024 at 18:20)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7919">PR #7919</a>.</p>



<a name="421114651"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237919%20x64%3A%20Add%20%60fcvt_from_uint%60%20lowering%20fo.../near/421114651" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237919.20x64.3A.20Add.20.60fcvt_from_uint.60.20lowering.20fo.2E.2E.2E.html#421114651">(Feb 12 2024 at 19:44)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7919#pullrequestreview-1876049919">PR review</a>.</p>



<a name="421114653"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237919%20x64%3A%20Add%20%60fcvt_from_uint%60%20lowering%20fo.../near/421114653" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237919.20x64.3A.20Add.20.60fcvt_from_uint.60.20lowering.20fo.2E.2E.2E.html#421114653">(Feb 12 2024 at 19:44)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7919#pullrequestreview-1876049919">PR review</a>.</p>



<a name="421114656"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237919%20x64%3A%20Add%20%60fcvt_from_uint%60%20lowering%20fo.../near/421114656" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237919.20x64.3A.20Add.20.60fcvt_from_uint.60.20lowering.20fo.2E.2E.2E.html#421114656">(Feb 12 2024 at 19:44)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/7919#discussion_r1486682067">PR review comment</a>:</p>
<blockquote>
<p><span aria-label="magic wand" class="emoji emoji-1fa84" role="img" title="magic wand">:magic_wand:</span> </p>
</blockquote>



<a name="421123176"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237919%20x64%3A%20Add%20%60fcvt_from_uint%60%20lowering%20fo.../near/421123176" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237919.20x64.3A.20Add.20.60fcvt_from_uint.60.20lowering.20fo.2E.2E.2E.html#421123176">(Feb 12 2024 at 20:33)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7919">PR #7919</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>