<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8676 chore: add test to http request witho... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html">wasmtime / PR #8676 chore: add test to http request witho...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="439904809"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439904809" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439904809">(May 21 2024 at 21:03)</a>:</h4>
<p><strong>morenol</strong> requested <a href="https://github.com/elliottt">elliottt</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8676">PR #8676</a>.</p>



<a name="439904810"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439904810" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439904810">(May 21 2024 at 21:03)</a>:</h4>
<p>morenol opened <a href="https://github.com/bytecodealliance/wasmtime/pull/8676">PR #8676</a> from <code>morenol:add-test-to-http-request-without-port</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="439904812"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439904812" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439904812">(May 21 2024 at 21:03)</a>:</h4>
<p><strong>morenol</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8676">PR #8676</a>.</p>



<a name="439906394"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439906394" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439906394">(May 21 2024 at 21:13)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#pullrequestreview-2069633625">PR review</a>.</p>



<a name="439906395"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439906395" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439906395">(May 21 2024 at 21:13)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#pullrequestreview-2069633625">PR review</a>.</p>



<a name="439906396"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439906396" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439906396">(May 21 2024 at 21:13)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#discussion_r1608957922">PR review comment</a>:</p>
<blockquote>
<p>Could you add an additional request for a path that will return a 200?</p>
</blockquote>



<a name="439906431"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439906431" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439906431">(May 21 2024 at 21:13)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#issuecomment-2123452205">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8676">PR #8676</a>:</p>
<blockquote>
<p>Thanks! To land this though it'll need to pass CI, so mind folding this into <a href="https://github.com/bytecodealliance/wasmtime/pull/8671">https://github.com/bytecodealliance/wasmtime/pull/8671</a>?</p>
</blockquote>



<a name="439906746"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439906746" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439906746">(May 21 2024 at 21:15)</a>:</h4>
<p>morenol <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#issuecomment-2123454624">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8676">PR #8676</a>:</p>
<blockquote>
<p>Yes, I was just trying to make sure that this fails on main, but it looks like it is failing not in the expected way for me to fail.</p>
</blockquote>



<a name="439906789"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439906789" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439906789">(May 21 2024 at 21:15)</a>:</h4>
<p>morenol submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#pullrequestreview-2069636884">PR review</a>.</p>



<a name="439906790"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439906790" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439906790">(May 21 2024 at 21:15)</a>:</h4>
<p>morenol created <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#discussion_r1608960033">PR review comment</a>:</p>
<blockquote>
<p>Sure, for some reason this is returning <code>404</code> in the CI, any idea why?</p>
</blockquote>



<a name="439906846"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439906846" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439906846">(May 21 2024 at 21:16)</a>:</h4>
<p>morenol edited <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#discussion_r1608960033">PR review comment</a>.</p>



<a name="439907451"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439907451" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439907451">(May 21 2024 at 21:20)</a>:</h4>
<p>morenol edited <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#discussion_r1608960033">PR review comment</a>.</p>



<a name="439933447"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439933447" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439933447">(May 22 2024 at 00:34)</a>:</h4>
<p>iawia002 <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#issuecomment-2123653310">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8676">PR #8676</a>:</p>
<blockquote>
<blockquote>
<p>Thanks! To land this though it'll need to pass CI, so mind folding this into #8671?</p>
</blockquote>
<p>I am back online, @morenol do you mind if I cherry-pick this commit into #8671 and square them into one commit? I hope we can land this fix soon.</p>
</blockquote>



<a name="439933900"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439933900" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439933900">(May 22 2024 at 00:39)</a>:</h4>
<p>iawia002 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#issuecomment-2123653310">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8676">PR #8676</a>:</p>
<blockquote>
<blockquote>
<p>Thanks! To land this though it'll need to pass CI, so mind folding this into #8671?</p>
</blockquote>
<p>I am back online, @morenol do you mind if I cherry-pick this commit into #8671 and square them into one commit? For the URL without a port, I think it needs #8671 to be merged first. I hope we can land this fix soon.</p>
</blockquote>



<a name="439933939"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439933939" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439933939">(May 22 2024 at 00:39)</a>:</h4>
<p>morenol <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#issuecomment-2123666266">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8676">PR #8676</a>:</p>
<blockquote>
<p>I don't mind but I think that this test is not accurate, feel free to check and create a test that could reproduce the current issue</p>
</blockquote>



<a name="439936022"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439936022" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439936022">(May 22 2024 at 01:01)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#pullrequestreview-2069923719">PR review</a>.</p>



<a name="439936023"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439936023" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439936023">(May 22 2024 at 01:01)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#discussion_r1609131895">PR review comment</a>:</p>
<blockquote>
<p>Ah, my mistake: this is handing that request to the <code>API_PROXY_COMPONENT</code> test-program, located in <code>crates/test-programs/src/bin/api-proxy.rs</code>. That incoming handler will always return a 200, as it runs sanity checks on the state of the request as seen by an incoming handler.</p>
<p>I think you'll want to add a new incoming handler like <a href="http://api-proxy.rs">api-proxy.rs</a> that actually forwards the requests on, returning the result that it gets directly. Alternatively, you could add a new incoming handler that makes the request to <code>example.com</code> and returns that response, for any incoming request that it receives.</p>
</blockquote>



<a name="439938960"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439938960" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439938960">(May 22 2024 at 01:33)</a>:</h4>
<p>morenol updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8676">PR #8676</a>.</p>



<a name="439945585"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439945585" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439945585">(May 22 2024 at 02:41)</a>:</h4>
<p>morenol updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8676">PR #8676</a>.</p>



<a name="439946227"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439946227" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439946227">(May 22 2024 at 02:47)</a>:</h4>
<p>morenol closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/8676">PR #8676</a>.</p>



<a name="439946228"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238676%20chore%3A%20add%20test%20to%20http%20request%20witho.../near/439946228" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238676.20chore.3A.20add.20test.20to.20http.20request.20witho.2E.2E.2E.html#439946228">(May 22 2024 at 02:47)</a>:</h4>
<p>morenol <a href="https://github.com/bytecodealliance/wasmtime/pull/8676#issuecomment-2123770000">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8676">PR #8676</a>:</p>
<blockquote>
<p>Closed since a similar test was added in #8671</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>