<html>
<head><meta charset="utf-8"><title>wasmtime / issue #4594 components: Support creation of a ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234594.20components.3A.20Support.20creation.20of.20a.20.2E.2E.2E.html">wasmtime / issue #4594 components: Support creation of a ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="291859456"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234594%20components%3A%20Support%20creation%20of%20a%20.../near/291859456" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234594.20components.3A.20Support.20creation.20of.20a.20.2E.2E.2E.html#291859456">(Aug 03 2022 at 14:41)</a>:</h4>
<p>alexcrichton labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/4594">issue #4594</a>:</p>
<blockquote>
<p>Currently the <code>Linker::func_new</code> API added in <a href="https://github.com/bytecodealliance/wasmtime/pull/4537">https://github.com/bytecodealliance/wasmtime/pull/4537</a> has a bit of an odd API for the creation of a host function. Instead of taking a <code>Component</code>/string pair this should ideally look similar to the core wasm support where a function type is created directly.</p>
<p>This will entail being able to create a function type at runtime. Note that this is nontrivial compared to the support for core wasm since the type hierarchy is more complicated. I'm not sure how best this would work.</p>
<p>Additionally shortly after this is implemented we'll need to also implement the ability to compare two types across two different <code>ComponentTypes</code> stores. Currently type equality only checks indices but in the case of different indices a deep type equality needs to be performed.</p>
</blockquote>



<a name="291859459"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234594%20components%3A%20Support%20creation%20of%20a%20.../near/291859459" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234594.20components.3A.20Support.20creation.20of.20a.20.2E.2E.2E.html#291859459">(Aug 03 2022 at 14:41)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/issues/4594">issue #4594</a>:</p>
<blockquote>
<p>Currently the <code>Linker::func_new</code> API added in <a href="https://github.com/bytecodealliance/wasmtime/pull/4537">https://github.com/bytecodealliance/wasmtime/pull/4537</a> has a bit of an odd API for the creation of a host function. Instead of taking a <code>Component</code>/string pair this should ideally look similar to the core wasm support where a function type is created directly.</p>
<p>This will entail being able to create a function type at runtime. Note that this is nontrivial compared to the support for core wasm since the type hierarchy is more complicated. I'm not sure how best this would work.</p>
<p>Additionally shortly after this is implemented we'll need to also implement the ability to compare two types across two different <code>ComponentTypes</code> stores. Currently type equality only checks indices but in the case of different indices a deep type equality needs to be performed.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>