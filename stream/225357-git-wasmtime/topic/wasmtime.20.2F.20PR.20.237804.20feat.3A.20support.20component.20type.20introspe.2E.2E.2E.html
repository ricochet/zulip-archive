<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7804 feat: support component type introspe... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html">wasmtime / PR #7804 feat: support component type introspe...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="417522511"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/417522511" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#417522511">(Jan 23 2024 at 20:24)</a>:</h4>
<p>rvolosatovs edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>.</p>



<a name="417522551"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/417522551" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#417522551">(Jan 23 2024 at 20:25)</a>:</h4>
<p>rvolosatovs edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>:</p>
<blockquote>
<p>This allows for embedders to introspect the component type to e.g. construct <code>Val</code>s of complex types expected by the components at runtime.<br>
Closes #7726 <br>
I'll work on adding a simple test once I verify this covers my own use case</p>
<p>cc @alexcrichton </p>
</blockquote>



<a name="417523087"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/417523087" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#417523087">(Jan 23 2024 at 20:28)</a>:</h4>
<p>rvolosatovs <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#issuecomment-1906866933">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>:</p>
<blockquote>
<p>@alexcrichton I've studied the <code>wasmtime_environ</code> implementation a little bit and looks like I came up with a solution that makes sense (after all types are resolved, "synthesize" a <code>TypeComponent</code> and store in <code>ComponentTypes</code> on <code>finish</code>).</p>
<p>I've added a test case reusing the <code>dynamic::everything</code> (it does not actually contain everything, but hopefully this is "good enough"). PTAL</p>
</blockquote>



<a name="417523093"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/417523093" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#417523093">(Jan 23 2024 at 20:28)</a>:</h4>
<p><strong>rvolosatovs</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a> as ready for review.</p>



<a name="417523094"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/417523094" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#417523094">(Jan 23 2024 at 20:28)</a>:</h4>
<p><strong>rvolosatovs</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>.</p>



<a name="417523095"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/417523095" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#417523095">(Jan 23 2024 at 20:28)</a>:</h4>
<p><strong>rvolosatovs</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>.</p>



<a name="417523181"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/417523181" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#417523181">(Jan 23 2024 at 20:29)</a>:</h4>
<p>rvolosatovs edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#issuecomment-1906866933">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>:</p>
<blockquote>
<p>@alexcrichton I've studied the <code>wasmtime_environ</code> implementation a little bit and looks like I came up with a solution that makes sense (after all types are resolved, "synthesize" a <code>TypeComponent</code> and store in <code>ComponentTypes</code> on <code>finish</code>).</p>
<p>I've added a test case reusing a big chunk of the <code>dynamic::everything</code> component (it does not actually contain everything, but hopefully this is "good enough"). PTAL</p>
</blockquote>



<a name="417530437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/417530437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#417530437">(Jan 23 2024 at 21:19)</a>:</h4>
<p>rvolosatovs edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#issuecomment-1906866933">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>:</p>
<blockquote>
<p>@alexcrichton I've studied the <code>wasmtime_environ</code> implementation a little bit and looks like I came up with a solution that makes sense (after all types are resolved, "synthesize" a <code>TypeComponent</code> and store in <code>ComponentTypes</code> on <code>finish</code> to acquire a type index, which is then propagated further).<br>
I had to also add the type index info to exports, which was missing.</p>
<p>I've added a test case reusing a big chunk of the <code>dynamic::everything</code> component (it does not actually contain everything, but hopefully this is "good enough"). PTAL</p>
</blockquote>



<a name="417534220"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/417534220" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#417534220">(Jan 23 2024 at 21:44)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>.</p>



<a name="417680321"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/417680321" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#417680321">(Jan 24 2024 at 16:18)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#pullrequestreview-1841798609">PR review</a>.</p>



<a name="417680322"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/417680322" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#417680322">(Jan 24 2024 at 16:18)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#pullrequestreview-1841798609">PR review</a>.</p>



<a name="417680323"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/417680323" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#417680323">(Jan 24 2024 at 16:18)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#discussion_r1465178536">PR review comment</a>:</p>
<blockquote>
<p>This is the main thing that I'm worried about with this PR right now. This means that if a component exports a locally-defined core wasm module and/or a "bag of items" instance then wasmtime will lie and not actually report the export from the type. I think it should be possible to implement this though with some more type-threading-around, however. All the types of all intermediate values are present and accounted for during validation, we just need to pluck it out at the right time and thread it through the system to show up here.</p>
</blockquote>



<a name="418069610"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418069610" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418069610">(Jan 25 2024 at 12:32)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>.</p>



<a name="418070738"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418070738" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418070738">(Jan 25 2024 at 12:39)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>.</p>



<a name="418071399"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418071399" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418071399">(Jan 25 2024 at 12:43)</a>:</h4>
<p>rvolosatovs <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#issuecomment-1910127240">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>:</p>
<blockquote>
<p>@alexcrichton although in our conversation yesterday we discussed that the static module and "instance item bag" case type indexes should be constructed somewhere along the way and thrown out, that did not seem to be the case in all occurrences, therefore in the proposed approach the static module type is "synthesized" from compiled artifacts on <code>finish</code> and for cases where instance type is not assigned yet, that is also done recursively in the same step.<br>
Note that updated test case - I duplicated, for the most part, test cases that were causing panics during development due to type not being available (in particular, the "instance item bag" case)</p>
</blockquote>



<a name="418071441"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418071441" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418071441">(Jan 25 2024 at 12:43)</a>:</h4>
<p>rvolosatovs edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#issuecomment-1910127240">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>:</p>
<blockquote>
<p>@alexcrichton although in our conversation yesterday we discussed that the static module and "instance item bag" case type indexes should be constructed somewhere along the way and thrown out, that did not seem to be the case in all occurrences, therefore in the proposed approach the static module type is "synthesized" from compiled artifacts on <code>finish</code> for cases where instance type is not assigned yet, that is also done recursively in the same step.<br>
Note that updated test case - I duplicated, for the most part, test cases that were causing panics during development due to type not being available (in particular, the "instance item bag" case)</p>
</blockquote>



<a name="418071573"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418071573" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418071573">(Jan 25 2024 at 12:44)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#pullrequestreview-1843632938">PR review</a>.</p>



<a name="418071574"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418071574" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418071574">(Jan 25 2024 at 12:44)</a>:</h4>
<p>rvolosatovs created <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#discussion_r1466318625">PR review comment</a>:</p>
<blockquote>
<p>It appears that we can pluck most of these out, but not for all cases, see updated implementation</p>
</blockquote>



<a name="418071592"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418071592" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418071592">(Jan 25 2024 at 12:44)</a>:</h4>
<p><strong>rvolosatovs</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>.</p>



<a name="418072385"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418072385" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418072385">(Jan 25 2024 at 12:49)</a>:</h4>
<p>rvolosatovs updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>.</p>



<a name="418073746"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418073746" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418073746">(Jan 25 2024 at 12:57)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#pullrequestreview-1843660563">PR review</a>.</p>



<a name="418073747"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418073747" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418073747">(Jan 25 2024 at 12:57)</a>:</h4>
<p>rvolosatovs created <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#discussion_r1466335128">PR review comment</a>:</p>
<blockquote>
<p>@alexcrichton I'm getting a bit lost here, is <code>ty</code> here the correct type index or is it actually the parent instance type index?</p>
</blockquote>



<a name="418253620"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418253620" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418253620">(Jan 26 2024 at 11:04)</a>:</h4>
<p>rvolosatovs deleted <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#discussion_r1466335128">PR review comment</a>.</p>



<a name="418336797"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418336797" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418336797">(Jan 26 2024 at 19:14)</a>:</h4>
<p>rvolosatovs edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#issuecomment-1910127240">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>:</p>
<blockquote>
<p>@alexcrichton although in our conversation yesterday we discussed that the static module and "instance item bag" case type indexes should be constructed somewhere along the way and thrown out, that did not seem to be the case in all occurrences, therefore in the proposed approach the static module type is "synthesized" from compiled artifacts on <code>finish</code> for cases where instance type is not assigned yet, that is also done recursively in the same step.<br>
Note the updated test case - I duplicated, for the most part, test cases that were causing panics during development due to type not being available (in particular, the "instance item bag" case)</p>
</blockquote>



<a name="418343550"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418343550" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418343550">(Jan 26 2024 at 20:02)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#pullrequestreview-1846460012">PR review</a>:</p>
<blockquote>
<p>Looks great to me, thanks!</p>
</blockquote>



<a name="418349288"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418349288" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418349288">(Jan 26 2024 at 20:49)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>.</p>



<a name="418523398"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237804%20feat%3A%20support%20component%20type%20introspe.../near/418523398" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237804.20feat.3A.20support.20component.20type.20introspe.2E.2E.2E.html#418523398">(Jan 28 2024 at 18:15)</a>:</h4>
<p>sehz <a href="https://github.com/bytecodealliance/wasmtime/pull/7804#issuecomment-1913679888">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/7804">PR #7804</a>:</p>
<blockquote>
<p>Nice work!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>