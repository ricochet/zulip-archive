<html>
<head><meta charset="utf-8"><title>wasmtime / issue #4063 Cranelift-object emit_to_file prop... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234063.20Cranelift-object.20emit_to_file.20prop.2E.2E.2E.html">wasmtime / issue #4063 Cranelift-object emit_to_file prop...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="279725869"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234063%20Cranelift-object%20emit_to_file%20prop.../near/279725869" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234063.20Cranelift-object.20emit_to_file.20prop.2E.2E.2E.html#279725869">(Apr 21 2022 at 19:11)</a>:</h4>
<p>InfRandomness opened <a href="https://github.com/bytecodealliance/wasmtime/issues/4063">issue #4063</a>:</p>
<blockquote>
<p>Thanks for filing a feature request! Please fill out the TODOs below.</p>
<h4>Feature</h4>
<p>TODO: Brief description of the feature/improvement you'd like to see in<br>
Cranelift/Wasmtime.</p>
<p>I would like to see in cranelift-object (<a href="https://docs.rs/cranelift-object/0.82.3/cranelift_object/struct.ObjectProduct.html#method.emit">https://docs.rs/cranelift-object/0.82.3/cranelift_object/struct.ObjectProduct.html#method.emit</a>), where we would create a new function called emit_to_file, essentially passing in a <a href="https://doc.rust-lang.org/std/fs/struct.File.html">File</a>, and that function would then call <a href="https://docs.rs/object/0.27.1/object/write/struct.Object.html#method.emit">https://docs.rs/object/0.27.1/object/write/struct.Object.html#method.emit</a> with the File's buffer.</p>
<p>I think this would be nice instead of having to call <code>ObjectProduct.emit()</code>, and then having to transform the <code>Vec&lt;u8&gt;</code> into a slice to be written into a file;</p>
<p>This may very feel redundant, too</p>
<h4>Implementation</h4>
<p>TODO: Do you have an implementation plan, and/or ideas for data structures or<br>
algorithms to use? Yes</p>
<h4>Alternatives</h4>
<p>TODO: What are the alternative implementation approaches or alternative ways to<br>
solve the problem that this feature would solve? How do these alternatives<br>
compare to this proposal?<br>
Transform the <code>Vec&lt;u8&gt;</code> returned by <code>ObjectProduct.emit()</code> into a slice and write it to a file<br>
</p>
</blockquote>



<a name="279737229"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234063%20Cranelift-object%20emit_to_file%20prop.../near/279737229" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234063.20Cranelift-object.20emit_to_file.20prop.2E.2E.2E.html#279737229">(Apr 21 2022 at 20:42)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/4063#issuecomment-1105739505">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4063">issue #4063</a>:</p>
<blockquote>
<p>You can call both product.object.emit() and product.object.write_stream() already.</p>
</blockquote>



<a name="279779196"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234063%20Cranelift-object%20emit_to_file%20prop.../near/279779196" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234063.20Cranelift-object.20emit_to_file.20prop.2E.2E.2E.html#279779196">(Apr 22 2022 at 04:53)</a>:</h4>
<p>InfRandomness closed <a href="https://github.com/bytecodealliance/wasmtime/issues/4063">issue #4063</a>:</p>
<blockquote>
<p>Thanks for filing a feature request! Please fill out the TODOs below.</p>
<h4>Feature</h4>
<p>TODO: Brief description of the feature/improvement you'd like to see in<br>
Cranelift/Wasmtime.</p>
<p>I would like to see in cranelift-object (<a href="https://docs.rs/cranelift-object/0.82.3/cranelift_object/struct.ObjectProduct.html#method.emit">https://docs.rs/cranelift-object/0.82.3/cranelift_object/struct.ObjectProduct.html#method.emit</a>), where we would create a new function called emit_to_file, essentially passing in a <a href="https://doc.rust-lang.org/std/fs/struct.File.html">File</a>, and that function would then call <a href="https://docs.rs/object/0.27.1/object/write/struct.Object.html#method.emit">https://docs.rs/object/0.27.1/object/write/struct.Object.html#method.emit</a> with the File's buffer.</p>
<p>I think this would be nice instead of having to call <code>ObjectProduct.emit()</code>, and then having to transform the <code>Vec&lt;u8&gt;</code> into a slice to be written into a file;</p>
<p>This may very feel redundant, too</p>
<h4>Implementation</h4>
<p>TODO: Do you have an implementation plan, and/or ideas for data structures or<br>
algorithms to use? Yes</p>
<h4>Alternatives</h4>
<p>TODO: What are the alternative implementation approaches or alternative ways to<br>
solve the problem that this feature would solve? How do these alternatives<br>
compare to this proposal?<br>
Transform the <code>Vec&lt;u8&gt;</code> returned by <code>ObjectProduct.emit()</code> into a slice and write it to a file<br>
</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>