<html>
<head><meta charset="utf-8"><title>wasmtime / PR #4401 Convert `scalar_to_vector` to ISLE (A... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html">wasmtime / PR #4401 Convert `scalar_to_vector` to ISLE (A...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="288809861"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/288809861" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#288809861">(Jul 07 2022 at 14:00)</a>:</h4>
<p>dheaton-arm opened <a href="https://github.com/bytecodealliance/wasmtime/pull/4401">PR #4401</a> from <code>isle-scalartovector</code> to <code>main</code>:</p>
<blockquote>
<p>Converted the exisiting implementation of <code>scalar_to_vector</code> for AArch64 to<br>
ISLE.</p>
<p>Copyright (c) 2022 Arm Limited</p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="288820131"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/288820131" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#288820131">(Jul 07 2022 at 15:13)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4401#pullrequestreview-1031750485">PR review</a>.</p>



<a name="288820132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/288820132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#288820132">(Jul 07 2022 at 15:13)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4401#discussion_r915992945">PR review comment</a>:</p>
<blockquote>
<p>Just a drive-by-comment, but I know that historically we've had some issues where instructions were expanded over time to accept more types and we sometimes forget to update previous instruction lowerings to account for the new types flowing in. Could the <code>multi_lane _ _</code> matcher here be replaced with <code>$I32X4</code> perhaps to avoid that? Reading over the previous lowering it looks like only <code>I32X4</code> and <code>I64X2</code> are supported so it may make sense to only list those two so if other types are ever used in the future an error pops out during lowering rather than the wrong lowering be used and waiting until runtime to have the error.</p>
</blockquote>



<a name="288821297"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/288821297" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#288821297">(Jul 07 2022 at 15:21)</a>:</h4>
<p>dheaton-arm submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4401#pullrequestreview-1031762286">PR review</a>.</p>



<a name="288821298"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/288821298" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#288821298">(Jul 07 2022 at 15:21)</a>:</h4>
<p>dheaton-arm created <a href="https://github.com/bytecodealliance/wasmtime/pull/4401#discussion_r916001310">PR review comment</a>:</p>
<blockquote>
<p>The AArch64 backend itself supports <code>i8 -&gt; i8x16</code> and <code>i16 -&gt; i16x8</code> using the <code>multi_lane _ _</code> rule as it is (see <code>runtests/simd-scalartovector-aarch64.clif</code>).</p>
</blockquote>



<a name="288821560"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/288821560" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#288821560">(Jul 07 2022 at 15:22)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4401#pullrequestreview-1031764802">PR review</a>.</p>



<a name="288821562"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/288821562" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#288821562">(Jul 07 2022 at 15:22)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4401#discussion_r916003188">PR review comment</a>:</p>
<blockquote>
<p>Oh sorry I missed that, disregard me then!</p>
</blockquote>



<a name="288839443"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/288839443" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#288839443">(Jul 07 2022 at 17:35)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4401#pullrequestreview-1031938554">PR review</a>.</p>



<a name="288839444"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/288839444" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#288839444">(Jul 07 2022 at 17:35)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4401#discussion_r916124277">PR review comment</a>:</p>
<blockquote>
<p>Here as well we'll want a rule priority (as in #4399) so this rule is ensured to be matched after the above case.</p>
</blockquote>



<a name="288839445"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/288839445" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#288839445">(Jul 07 2022 at 17:35)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4401#pullrequestreview-1031938554">PR review</a>.</p>



<a name="289447813"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/289447813" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#289447813">(Jul 13 2022 at 12:02)</a>:</h4>
<p>dheaton-arm updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4401">PR #4401</a> from <code>isle-scalartovector</code> to <code>main</code>.</p>



<a name="290003053"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/290003053" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#290003053">(Jul 18 2022 at 18:11)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4401#pullrequestreview-1042288431">PR review</a>.</p>



<a name="290003064"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234401%20Convert%20%60scalar_to_vector%60%20to%20ISLE%20%28A.../near/290003064" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234401.20Convert.20.60scalar_to_vector.60.20to.20ISLE.20.28A.2E.2E.2E.html#290003064">(Jul 18 2022 at 18:11)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/4401">PR #4401</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>