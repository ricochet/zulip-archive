<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2638 Code runs in Wasmer (Cranelift JIT... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html">wasmtime / Issue #2638 Code runs in Wasmer (Cranelift JIT...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="225286986"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225286986" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225286986">(Feb 05 2021 at 11:25)</a>:</h4>
<p>abbec edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<ul>
<li>
<p>What are the steps to reproduce the issue?<br>
Run <code>wasmtime run python.wasm --dir . -- -m test</code> in a clone of cpython version 3.8 (or at least the Lib folder).<br>
<a href="https://github.com/bytecodealliance/wasmtime/files/5932022/python.wasm.zip">python.wasm.zip</a></p>
</li>
<li>
<p>What do you expect to happen? What does actually happen? Does it panic, and<br>
  if so, with which assertion?<br>
I expect it to run without crashing like Wasmer using the Cranelift JIT backend does.</p>
</li>
</ul>
<p>&lt;details&gt;<br>
&lt;summary&gt;Callstack&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">python</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">test</span><span class="w"></span>
<span class="n">Error</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="err">`</span><span class="n">python</span><span class="p">.</span><span class="n">wasm</span><span class="err">`</span><span class="w"></span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="mi">0</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">default</span><span class="w"></span>
<span class="w">    </span><span class="mi">1</span>: <span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span>: <span class="nc">out</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">bounds</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">access</span><span class="w"></span>
<span class="w">       </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
           <span class="mi">0</span>: <span class="mh">0x68557c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">dlmalloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">1</span>: <span class="mh">0x68760e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">realloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">2</span>: <span class="mh">0x452d56</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyMem_RawRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">3</span>: <span class="mh">0x457580</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyMem_DebugRawRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">4</span>: <span class="mh">0x4556ae</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyMem_RawRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">5</span>: <span class="mh">0x453028</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Realloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">6</span>: <span class="mh">0x457580</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyMem_DebugRawRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">7</span>: <span class="mh">0x4582ba</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyMem_DebugRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">8</span>: <span class="mh">0x458587</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyMem_Realloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">9</span>: <span class="mh">0x42c1b5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">list_resize</span><span class="w"></span>
<span class="w">          </span><span class="mi">10</span>: <span class="mh">0x42c52f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">app1</span><span class="w"></span>
<span class="w">          </span><span class="mi">11</span>: <span class="mh">0x42c369</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyList_Append</span><span class="w"></span>
<span class="w">          </span><span class="mi">12</span>: <span class="mh">0x4af5b1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_posix_listdir</span><span class="w"></span>
<span class="w">          </span><span class="mi">13</span>: <span class="mh">0x49cad9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">os_listdir_impl</span><span class="w"></span>
<span class="w">          </span><span class="mi">14</span>: <span class="mh">0x49c9a1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">os_listdir</span><span class="w"></span>
<span class="w">          </span><span class="mi">15</span>: <span class="mh">0x20f6a5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">cfunction_vectorcall_FASTCALL_KEYWORDS</span><span class="w"></span>
<span class="w">          </span><span class="mi">16</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">17</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">18</span>: <span class="mh">0x1ffd1d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">19</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">20</span>: <span class="mh">0x2d3d85</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">function_code_fastcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">21</span>: <span class="mh">0x2d4508</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">22</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">23</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">24</span>: <span class="mh">0x1ffe37</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">25</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">26</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">27</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">28</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">29</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">30</span>: <span class="mh">0x1ffe37</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">31</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">32</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">33</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">34</span>: <span class="mh">0x19e67e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">35</span>: <span class="mh">0x19dd65</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">method_vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">36</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">37</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">38</span>: <span class="mh">0x1ffd1d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">39</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">40</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">41</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">42</span>: <span class="mh">0x19e67e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">43</span>: <span class="mh">0x19dd65</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">method_vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">44</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">45</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">46</span>: <span class="mh">0x200057</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">47</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">48</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">49</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">50</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">51</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">52</span>: <span class="mh">0x200057</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">53</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">54</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">55</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">56</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">57</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">58</span>: <span class="mh">0x1ffd1d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">59</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">60</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">61</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">62</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">63</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">64</span>: <span class="mh">0x200057</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">65</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">66</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">67</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">68</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">69</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">70</span>: <span class="mh">0x200057</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">71</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">72</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">73</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">74</span>: <span class="mh">0x2d2079</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyVectorcall_Call</span><span class="w"></span>
<span class="w">          </span><span class="mi">75</span>: <span class="mh">0x2d2407</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyObject_Call</span><span class="w"></span>
<span class="w">          </span><span class="mi">76</span>: <span class="mh">0x48a8dc</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">pymain_run_module</span><span class="w"></span>
<span class="w">          </span><span class="mi">77</span>: <span class="mh">0x489a3e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">pymain_run_python</span><span class="w"></span>
<span class="w">          </span><span class="mi">78</span>: <span class="mh">0x489625</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">Py_RunMain</span><span class="w"></span>
<span class="w">          </span><span class="mi">79</span>: <span class="mh">0x48b4e9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">pymain_main</span><span class="w"></span>
<span class="w">          </span><span class="mi">80</span>: <span class="mh">0x48b974</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">Py_BytesMain</span><span class="w"></span>
<span class="w">          </span><span class="mi">81</span>: <span class="mh">0x421d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">main</span><span class="w"></span>
<span class="w">          </span><span class="mi">82</span>: <span class="mh">0x68a7ff</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__main_void</span><span class="w"></span>
<span class="w">          </span><span class="mi">83</span>: <span class="mh">0x689d72</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__original_main</span><span class="w"></span>
<span class="w">          </span><span class="mi">84</span>: <span class="mh">0x41b3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_start</span><span class="w"></span>
<span class="w">       </span><span class="n">note</span>: <span class="nc">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="err">`</span><span class="n">WASMTIME_BACKTRACE_DETAILS</span><span class="o">=</span><span class="mi">1</span><span class="err">`</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">information</span><span class="w"></span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;<br>
&lt;summary&gt;Detailed Callstack&lt;/summary&gt;</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">WASMTIME_BACKTRACE_DETAILS</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">python</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">test</span><span class="w"></span>
<span class="n">Error</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="err">`</span><span class="n">python</span><span class="p">.</span><span class="n">wasm</span><span class="err">`</span><span class="w"></span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="mi">0</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">default</span><span class="w"></span>
<span class="w">    </span><span class="mi">1</span>: <span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span>: <span class="nc">out</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">bounds</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">access</span><span class="w"></span>
<span class="w">       </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
           <span class="mi">0</span>: <span class="mh">0x68557c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">dlmalloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">1</span>: <span class="mh">0x68760e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">realloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">2</span>: <span class="mh">0x452d56</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyMem_RawRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">122</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">3</span>: <span class="mh">0x457580</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyMem_DebugRawRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">2241</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">           </span><span class="mi">4</span>: <span class="mh">0x4556ae</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyMem_RawRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">591</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">5</span>: <span class="mh">0x453028</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyObject_Realloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">1987</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">6</span>: <span class="mh">0x457580</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyMem_DebugRawRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">2241</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">           </span><span class="mi">7</span>: <span class="mh">0x4582ba</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyMem_DebugRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">2327</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">8</span>: <span class="mh">0x458587</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyMem_Realloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">624</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">9</span>: <span class="mh">0x42c1b5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">list_resize</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">listobject</span><span class="p">.</span><span class="n">c</span>:<span class="mi">70</span>:<span class="mi">26</span><span class="w"></span>
<span class="w">          </span><span class="mi">10</span>: <span class="mh">0x42c52f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">app1</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">listobject</span><span class="p">.</span><span class="n">c</span>:<span class="mi">340</span>:<span class="mi">9</span><span class="w"></span>
<span class="w">          </span><span class="mi">11</span>: <span class="mh">0x42c369</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyList_Append</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">listobject</span><span class="p">.</span><span class="n">c</span>:<span class="mi">352</span>:<span class="mi">16</span><span class="w"></span>
<span class="w">          </span><span class="mi">12</span>: <span class="mh">0x4af5b1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_posix_listdir</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Modules</span><span class="o">/</span><span class="n">posixmodule</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3831</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">          </span><span class="mi">13</span>: <span class="mh">0x49cad9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">os_listdir_impl</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Modules</span><span class="o">/</span><span class="n">posixmodule</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3887</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">14</span>: <span class="mh">0x49c9a1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">os_listdir</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Modules</span><span class="o">/</span><span class="n">clinic</span><span class="o">/</span><span class="n">posixmodule</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">h</span>:<span class="mi">1197</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">          </span><span class="mi">15</span>: <span class="mh">0x20f6a5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">cfunction_vectorcall_FASTCALL_KEYWORDS</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">methodobject</span><span class="p">.</span><span class="n">c</span>:<span class="mi">437</span>:<span class="mi">24</span><span class="w"></span>
<span class="w">          </span><span class="mi">16</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Include</span><span class="o">/</span><span class="n">cpython</span><span class="o">/</span><span class="kr">abstract</span><span class="p">.</span><span class="n">h</span>:<span class="mi">127</span>:<span class="mi">11</span><span class="w"></span>
<span class="w">          </span><span class="mi">17</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">call_function</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">4963</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">          </span><span class="mi">18</span>: <span class="mh">0x1ffd1d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3469</span>:<span class="mi">23</span><span class="w"></span>
<span class="w">          </span><span class="mi">19</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">741</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">20</span>: <span class="mh">0x2d3d85</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">function_code_fastcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">call</span><span class="p">.</span><span class="n">c</span>:<span class="mi">283</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">          </span><span class="mi">21</span>: <span class="mh">0x2d4508</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">call</span><span class="p">.</span><span class="n">c</span>:<span class="mi">410</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">          </span><span class="mi">22</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Include</span><span class="o">/</span><span class="n">cpython</span><span class="o">/</span><span class="kr">abstract</span><span class="p">.</span><span class="n">h</span>:<span class="mi">127</span>:<span class="mi">11</span><span class="w"></span>
<span class="w">          </span><span class="mi">23</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">call_function</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">4963</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">          </span><span class="mi">24</span>: <span class="mh">0x1ffe37</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3486</span>:<span class="mi">23</span><span class="w"></span>
<span class="w">          </span><span class="mi">25</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">741</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">26</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">4298</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">          </span><span class="mi">27</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">call</span><span class="p">.</span><span class="n">c</span>:<span class="mi">435</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">28</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Include</span><span class="o">/</span><span class="n">cpython</span><span class="o">/</span><span class="kr">abstract</span><span class="p">.</span><span class="n">h</span>:<span class="mi">127</span>:<span class="mi">11</span><span class="w"></span>
<span class="w">          </span><span class="mi">29</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">call_function</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">4963</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">          </span><span class="mi">30</span>: <span class="mh">0x1ffe37</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3486</span>:<span class="mi">23</span><span class="w"></span>
<span class="w">          </span><span class="mi">31</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">741</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">32</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"></span>
<span class="p">[</span><span class="n">message</span><span class="w"> </span><span class="n">truncated</span><span class="p">]</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<a name="225334615"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225334615" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225334615">(Feb 05 2021 at 18:06)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774195102">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>I was not able to reproduce this with 0.22.0 or main (e4827ad7) on x64 linux. I assume from your homedir path that your crash is on x64 macos?</p>
</blockquote>



<a name="225340820"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225340820" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225340820">(Feb 05 2021 at 18:56)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774224026">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>The backtrace also looks like it was in <code>_posix_listdir</code> in Python, so this may have been fixed by either <a href="https://github.com/bytecodealliance/wasmtime/pull/2620">https://github.com/bytecodealliance/wasmtime/pull/2620</a> or the large wasi rewrite in <a href="https://github.com/bytecodealliance/wasmtime/pull/2487">https://github.com/bytecodealliance/wasmtime/pull/2487</a>. @abbec would you be able to test the master branch of wasmtime and see if it works for you?</p>
</blockquote>



<a name="225341669"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225341669" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225341669">(Feb 05 2021 at 19:03)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774227533">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>Running the install script from <a href="https://wasmtime.dev/">wasmtime.dev</a> again should install the latest build based on the main branch, so that should work for testing this, I think.</p>
</blockquote>



<a name="225342956"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225342956" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225342956">(Feb 05 2021 at 19:12)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774232553">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>And indeed, with the latest build I don't get a crash. I do get an error about a missing import, though, which is what #2637 is about.</p>
<p>&lt;details&gt;<br>
&lt;summary&gt;Output with the latest build&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Could</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="n">independent</span><span class="w"> </span><span class="n">libraries</span><span class="w"> </span><span class="o">&lt;</span><span class="n">prefix</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Could</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">platform</span><span class="w"> </span><span class="n">dependent</span><span class="w"> </span><span class="n">libraries</span><span class="w"> </span><span class="o">&lt;</span><span class="n">exec_prefix</span><span class="o">&gt;</span><span class="w"></span>
<span class="n">Consider</span><span class="w"> </span><span class="n">setting</span><span class="w"> </span><span class="cp">$PYTHONHOME</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="o">&lt;</span><span class="n">prefix</span><span class="o">&gt;</span><span class="p">[</span>:<span class="o">&lt;</span><span class="n">exec_prefix</span><span class="o">&gt;</span><span class="p">]</span><span class="w"></span>
<span class="n">Python</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">configuration</span>:
  <span class="nc">PYTHONHOME</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">not</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="n">PYTHONPATH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">not</span><span class="w"> </span><span class="n">set</span><span class="p">)</span><span class="w"></span>
<span class="w">  </span><span class="n">program</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'</span><span class="na">python</span><span class="p">.</span><span class="n">wasm</span><span class="o">'</span><span class="w"></span>
<span class="w">  </span><span class="n">isolated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">  </span><span class="n">environment</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">  </span><span class="n">user</span><span class="w"> </span><span class="n">site</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">  </span><span class="n">import</span><span class="w"> </span><span class="n">site</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">  </span><span class="n">sys</span><span class="p">.</span><span class="n">_base_executable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">''</span><span class="w"></span>
<span class="w">  </span><span class="n">sys</span><span class="p">.</span><span class="n">base_prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'/</span><span class="n">nix</span><span class="o">/</span><span class="n">store</span><span class="o">/</span><span class="mi">7</span><span class="n">s2gi17s0hb2rjbdxn94cslllcabd13k</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">python38</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">shell</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">'</span><span class="w"></span>
<span class="w">  </span><span class="n">sys</span><span class="p">.</span><span class="n">base_exec_prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'/</span><span class="n">nix</span><span class="o">/</span><span class="n">store</span><span class="o">/</span><span class="mi">7</span><span class="n">s2gi17s0hb2rjbdxn94cslllcabd13k</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">python38</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">shell</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">'</span><span class="w"></span>
<span class="w">  </span><span class="n">sys</span><span class="p">.</span><span class="n">executable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">''</span><span class="w"></span>
<span class="w">  </span><span class="n">sys</span><span class="p">.</span><span class="n">prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'/</span><span class="n">nix</span><span class="o">/</span><span class="n">store</span><span class="o">/</span><span class="mi">7</span><span class="n">s2gi17s0hb2rjbdxn94cslllcabd13k</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">python38</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">shell</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">'</span><span class="w"></span>
<span class="w">  </span><span class="n">sys</span><span class="p">.</span><span class="n">exec_prefix</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">'/</span><span class="n">nix</span><span class="o">/</span><span class="n">store</span><span class="o">/</span><span class="mi">7</span><span class="n">s2gi17s0hb2rjbdxn94cslllcabd13k</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">python38</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">shell</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">'</span><span class="w"></span>
<span class="w">  </span><span class="n">sys</span><span class="p">.</span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="o">'/</span><span class="n">nix</span><span class="o">/</span><span class="n">store</span><span class="o">/</span><span class="mi">7</span><span class="n">s2gi17s0hb2rjbdxn94cslllcabd13k</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">python38</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">shell</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python38</span><span class="p">.</span><span class="n">zip</span><span class="o">'</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="o">'/</span><span class="n">nix</span><span class="o">/</span><span class="n">store</span><span class="o">/</span><span class="mi">7</span><span class="n">s2gi17s0hb2rjbdxn94cslllcabd13k</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">python38</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">shell</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python3</span><span class="p">.</span><span class="mi">8</span><span class="o">'</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="o">'/</span><span class="n">nix</span><span class="o">/</span><span class="n">store</span><span class="o">/</span><span class="mi">7</span><span class="n">s2gi17s0hb2rjbdxn94cslllcabd13k</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">python38</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">-</span><span class="n">shell</span><span class="o">-</span><span class="n">wasm32</span><span class="o">-</span><span class="n">unknown</span><span class="o">-</span><span class="n">wasi</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">lib</span><span class="o">-</span><span class="n">dynload</span><span class="o">'</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="n">Fatal</span><span class="w"> </span><span class="n">Python</span><span class="w"> </span><span class="n">error</span>: <span class="nc">init_fs_encoding</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">get</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">Python</span><span class="w"> </span><span class="n">codec</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">filesystem</span><span class="w"> </span><span class="n">encoding</span><span class="w"></span>
<span class="n">Python</span><span class="w"> </span><span class="n">runtime</span><span class="w"> </span><span class="n">state</span>: <span class="nc">core</span><span class="w"> </span><span class="n">initialized</span><span class="w"></span>
<span class="n">ModuleNotFoundError</span>: <span class="nc">No</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="n">named</span><span class="w"> </span><span class="o">'</span><span class="na">encodings</span><span class="o">'</span><span class="w"></span>

<span class="n">Current</span><span class="w"> </span><span class="n">thread</span><span class="w"> </span><span class="mh">0x00000001</span><span class="w"> </span><span class="p">(</span><span class="n">most</span><span class="w"> </span><span class="n">recent</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">first</span><span class="p">)</span>:
<span class="o">&lt;</span><span class="n">no</span><span class="w"> </span><span class="n">Python</span><span class="w"> </span><span class="n">frame</span><span class="o">&gt;</span><span class="w"></span>
</code></pre></div>
<p>&lt;/details&gt;</p>
</blockquote>



<a name="225345677"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225345677" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225345677">(Feb 05 2021 at 19:34)</a>:</h4>
<p>abbec <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774244019">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>@tschneidereit you need --dir pointing to a clone of cpython (or at least something containing a Lib folder)</p>
</blockquote>



<a name="225345967"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225345967" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225345967">(Feb 05 2021 at 19:36)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774244816">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>Ah, I see. Does it work for you with that in the latest Wasmtime build?</p>
</blockquote>



<a name="225345987"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225345987" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225345987">(Feb 05 2021 at 19:36)</a>:</h4>
<p>abbec <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774244848">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<blockquote>
<p>I was not able to reproduce this with 0.22.0 or main (e4827ad7) on x64 linux. I assume from your homedir path that your crash is on x64 macos?</p>
</blockquote>
<p>Do you get the same as @tschneidereit because python needs a copy of its lib dir or else you will not "get to" the crash.</p>
<p>I did try latest but --dir seems broken there</p>
</blockquote>



<a name="225346464"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225346464" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225346464">(Feb 05 2021 at 19:40)</a>:</h4>
<p>abbec <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774246608">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<blockquote>
<p>The backtrace also looks like it was in <code>_posix_listdir</code> in Python, so this may have been fixed by either <a href="https://github.com/bytecodealliance/wasmtime/pull/2620">https://github.com/bytecodealliance/wasmtime/pull/2620</a> or the large wasi rewrite in <a href="https://github.com/bytecodealliance/wasmtime/pull/2487">https://github.com/bytecodealliance/wasmtime/pull/2487</a>. @abbec would you be able to test the master branch of wasmtime and see if it works for you?</p>
</blockquote>
<p>Ah that readdir fix does look interesting, will try that. Unfortunately the large wasi rewrite seems to have broken --dir (as stated in the comment above) so it isn't possible to test there :(</p>
</blockquote>



<a name="225347516"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225347516" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225347516">(Feb 05 2021 at 19:49)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774250829">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>@abbec hm can you provide the exact invocations you're using of the wasmtime CLI? I'm only able to get the errors that @tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774232553">mentioned above</a> regardless what version of wasmtime I use, I've never been able to get the original trap you mentioned. </p>
</blockquote>



<a name="225347577"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225347577" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225347577">(Feb 05 2021 at 19:49)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774251134">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>Er, and to clarify, I don't know what repository of cpython you're using, what commit you're using, or the exact working directory of the invocation you gisted above.</p>
</blockquote>



<a name="225349437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225349437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225349437">(Feb 05 2021 at 20:05)</a>:</h4>
<p>abbec <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774259396">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>Python needs access to its' standard library when running and I am using a checkout of cpython (the 3.8 branch) and passing that in as --dir .</p>
</blockquote>



<a name="225349640"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225349640" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225349640">(Feb 05 2021 at 20:06)</a>:</h4>
<p>abbec edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774259396">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>Python needs access to its' standard library when running and I am using a checkout of cpython (the 3.8 branch) and passing that in as --dir .</p>
<p>The exact command line inside a cpython (branch 3.8) clone is <code>wasmtime run python.wasm --dir . -- -m test</code></p>
</blockquote>



<a name="225350088"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225350088" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225350088">(Feb 05 2021 at 20:10)</a>:</h4>
<p>abbec <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774261575">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>I can create a self-contained example</p>
</blockquote>



<a name="225351073"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225351073" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225351073">(Feb 05 2021 at 20:18)</a>:</h4>
<p>abbec <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774265601">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>Here is a self-contained bundle with the crash. Just unpack and run <code>run.sh</code> inside the folder: <br>
<a href="https://github.com/bytecodealliance/wasmtime/files/5935101/python-crash.zip">python-crash.zip</a><br>
</p>
</blockquote>



<a name="225354079"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225354079" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225354079">(Feb 05 2021 at 20:45)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774279303">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>We made some subtle but, it turns out, breaking changes to how WASI rights work with the new wasi-common that landed yesterday. Without source code for how your python's wasi integration works, I can't debug much further, but here's what is going on to get you the <code>[Errno 76] Capabilities insufficient: './Lib'</code>. I produced this with the environment var <code>RUST_LOG=wasi_common=trace</code> on a debug build.</p>
<p>In short, it looks like when you opened the <code>./Lib</code> directory under <code>.</code> (Fd(3)), the <code>fs_rights_base</code> argument did not contain the rights to do a readdir or any of the other typical directory operations - only the <code>FILESTAT_GET | FILESTAT_SET_TIMES</code> rights end up being applicable to directories from that set.</p>
<p>The entire WASI rights system is difficult to understand, poorly documented, implemented completely different (if at all) across various WASI implementations, and not actually very useful. We are going to get rid of it soon. In the meantime, I'm not sure why your code requested file rights as the base, and we should figure out how to debug that. I'm happy to look at your python WASI build source to help debug it, or hop on a zoom call together this afternoon...</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">wiggle</span><span class="w"> </span><span class="n">abi</span><span class="p">;</span><span class="w"> </span><span class="n">module</span><span class="o">=</span><span class="s">"wasi_snapshot_preview1"</span><span class="w"> </span><span class="n">function</span><span class="o">=</span><span class="s">"path_open"</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">fd</span><span class="o">=</span><span class="n">Fd</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">dirflags</span><span class="o">=</span><span class="n">Lookupflags</span><span class="p">(</span><span class="n">SYMLINK_FOLLOW</span><span class="w"> </span><span class="p">(</span><span class="mh">0x1</span><span class="p">))</span><span class="w"> </span><span class="n">path</span><span class="o">=*</span><span class="n">guest</span><span class="w"> </span><span class="mh">0x0</span><span class="o">/</span><span class="mi">3</span><span class="w"> </span><span class="n">oflags</span><span class="o">=</span><span class="n">Oflags</span><span class="p">(</span><span class="n">DIRECTORY</span><span class="w"> </span><span class="p">(</span><span class="mh">0x2</span><span class="p">))</span><span class="w"> </span><span class="n">fs_rights_base</span><span class="o">=</span><span class="n">Rights</span><span class="p">(</span><span class="n">FD_READ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_SEEK</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FDSTAT_SET_FLAGS</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_SYNC</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_TELL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_ADVISE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FILESTAT_GET</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FILESTAT_SET_TIMES</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">POLL_FD_READWRITE</span><span class="w"> </span><span class="p">(</span><span class="mh">0x8a000be</span><span class="p">))</span><span class="w"> </span><span class="n">fs_rights_inheriting</span><span class="o">=</span><span class="n">Rights</span><span class="p">(</span><span class="n">FD_DATASYNC</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_READ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_SEEK</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FDSTAT_SET_FLAGS</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_SYNC</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_TELL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_WRITE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_ADVISE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_ALLOCATE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FILESTAT_GET</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FILESTAT_SET_SIZE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FILESTAT_SET_TIMES</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">POLL_FD_READWRITE</span><span class="w"> </span><span class="p">(</span><span class="mh">0x8e001ff</span><span class="p">))</span><span class="w"> </span><span class="n">fdflags</span><span class="o">=</span><span class="n">Fdflags</span><span class="p">(</span><span class="n">NONBLOCK</span><span class="w"> </span><span class="p">(</span><span class="mh">0x4</span><span class="p">))</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">opened_fd</span><span class="o">=</span><span class="n">Fd</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">success</span><span class="o">=</span><span class="n">No</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">occurred</span><span class="p">.</span><span class="w"> </span><span class="n">System</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">completed</span><span class="w"> </span><span class="n">successfully</span><span class="p">.</span><span class="w"> </span><span class="p">(</span><span class="n">Errno</span>::<span class="n">Success</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">wiggle</span><span class="w"> </span><span class="n">abi</span><span class="p">;</span><span class="w"> </span><span class="n">module</span><span class="o">=</span><span class="s">"wasi_snapshot_preview1"</span><span class="w"> </span><span class="n">function</span><span class="o">=</span><span class="s">"fd_readdir"</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">fd</span><span class="o">=</span><span class="n">Fd</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="n">buf</span><span class="o">=*</span><span class="n">guest</span><span class="w"> </span><span class="mh">0xb83810</span><span class="w"> </span><span class="n">buf_len</span><span class="o">=</span><span class="mi">4096</span><span class="w"> </span><span class="n">cookie</span><span class="o">=</span><span class="mi">0</span><span class="w"></span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span><span class="w">                         </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Error</span>: <span class="nc">desired</span><span class="w"> </span><span class="n">READDIR</span><span class="p">,</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">FILESTAT_GET</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FILESTAT_SET_TIMES</span><span class="w"></span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="nc">Not</span><span class="w"> </span><span class="n">capable</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">error</span><span class="o">=</span><span class="nb">Ok</span><span class="p">(</span><span class="n">Notcapable</span><span class="p">)</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<a name="225355144"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225355144" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225355144">(Feb 05 2021 at 20:54)</a>:</h4>
<p>pchickey edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774279303">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>We made some subtle but, it turns out, breaking changes to how WASI rights work with the new wasi-common that landed yesterday. Without source code for how your python's wasi integration works, I can't debug much further, but here's what is going on to get you the <code>[Errno 76] Capabilities insufficient: './Lib'</code>. I produced this with the environment var <code>RUST_LOG=wasi_common=trace</code> on a debug build.</p>
<p>In short, it looks like when you opened the <code>./Lib</code> directory under <code>.</code> (Fd(3)), the <code>fs_rights_base</code> argument did not contain the rights to do a readdir or any of the other typical directory operations - only the <code>FILESTAT_GET | FILESTAT_SET_TIMES</code> rights end up being applicable to directories from that set.</p>
<p>The entire WASI rights system is difficult to understand, poorly documented, implemented completely different (if at all) across various WASI implementations, and not actually very useful. We are going to get rid of it soon. In the meantime, I'm not sure why your code requested file rights as the base (this could very well be a bug in the wasi-common rewrite) and we should figure out how to debug that. I'm happy to look at your python WASI build source to help debug it, or hop on a zoom call together this afternoon...</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">wiggle</span><span class="w"> </span><span class="n">abi</span><span class="p">;</span><span class="w"> </span><span class="n">module</span><span class="o">=</span><span class="s">"wasi_snapshot_preview1"</span><span class="w"> </span><span class="n">function</span><span class="o">=</span><span class="s">"path_open"</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">fd</span><span class="o">=</span><span class="n">Fd</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">dirflags</span><span class="o">=</span><span class="n">Lookupflags</span><span class="p">(</span><span class="n">SYMLINK_FOLLOW</span><span class="w"> </span><span class="p">(</span><span class="mh">0x1</span><span class="p">))</span><span class="w"> </span><span class="n">path</span><span class="o">=*</span><span class="n">guest</span><span class="w"> </span><span class="mh">0x0</span><span class="o">/</span><span class="mi">3</span><span class="w"> </span><span class="n">oflags</span><span class="o">=</span><span class="n">Oflags</span><span class="p">(</span><span class="n">DIRECTORY</span><span class="w"> </span><span class="p">(</span><span class="mh">0x2</span><span class="p">))</span><span class="w"> </span><span class="n">fs_rights_base</span><span class="o">=</span><span class="n">Rights</span><span class="p">(</span><span class="n">FD_READ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_SEEK</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FDSTAT_SET_FLAGS</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_SYNC</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_TELL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_ADVISE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FILESTAT_GET</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FILESTAT_SET_TIMES</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">POLL_FD_READWRITE</span><span class="w"> </span><span class="p">(</span><span class="mh">0x8a000be</span><span class="p">))</span><span class="w"> </span><span class="n">fs_rights_inheriting</span><span class="o">=</span><span class="n">Rights</span><span class="p">(</span><span class="n">FD_DATASYNC</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_READ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_SEEK</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FDSTAT_SET_FLAGS</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_SYNC</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_TELL</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_WRITE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_ADVISE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_ALLOCATE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FILESTAT_GET</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FILESTAT_SET_SIZE</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FD_FILESTAT_SET_TIMES</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">POLL_FD_READWRITE</span><span class="w"> </span><span class="p">(</span><span class="mh">0x8e001ff</span><span class="p">))</span><span class="w"> </span><span class="n">fdflags</span><span class="o">=</span><span class="n">Fdflags</span><span class="p">(</span><span class="n">NONBLOCK</span><span class="w"> </span><span class="p">(</span><span class="mh">0x4</span><span class="p">))</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">opened_fd</span><span class="o">=</span><span class="n">Fd</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">success</span><span class="o">=</span><span class="n">No</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">occurred</span><span class="p">.</span><span class="w"> </span><span class="n">System</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">completed</span><span class="w"> </span><span class="n">successfully</span><span class="p">.</span><span class="w"> </span><span class="p">(</span><span class="n">Errno</span>::<span class="n">Success</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">wiggle</span><span class="w"> </span><span class="n">abi</span><span class="p">;</span><span class="w"> </span><span class="n">module</span><span class="o">=</span><span class="s">"wasi_snapshot_preview1"</span><span class="w"> </span><span class="n">function</span><span class="o">=</span><span class="s">"fd_readdir"</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">fd</span><span class="o">=</span><span class="n">Fd</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span><span class="w"> </span><span class="n">buf</span><span class="o">=*</span><span class="n">guest</span><span class="w"> </span><span class="mh">0xb83810</span><span class="w"> </span><span class="n">buf_len</span><span class="o">=</span><span class="mi">4096</span><span class="w"> </span><span class="n">cookie</span><span class="o">=</span><span class="mi">0</span><span class="w"></span>
<span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span><span class="w">                         </span><span class="o">&gt;</span><span class="w"> </span><span class="n">Error</span>: <span class="nc">desired</span><span class="w"> </span><span class="n">READDIR</span><span class="p">,</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">FILESTAT_GET</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">FILESTAT_SET_TIMES</span><span class="w"></span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="nc">Not</span><span class="w"> </span><span class="n">capable</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">snapshots</span>::<span class="n">preview_1</span>::<span class="n">wasi_snapshot_preview1</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">error</span><span class="o">=</span><span class="nb">Ok</span><span class="p">(</span><span class="n">Notcapable</span><span class="p">)</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<a name="225355151"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225355151" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225355151">(Feb 05 2021 at 20:54)</a>:</h4>
<p>abbec <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774283166">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>It is a largely unmodified Python except for a few "hacks". </p>
<p>A zoom call sounds super helpful and I am in the CEST time zone but suggest a time :)</p>
<p>Although that breakage is interesting though, this is more about the crash I get before that change :)</p>
</blockquote>



<a name="225355205"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225355205" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225355205">(Feb 05 2021 at 20:54)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774283396">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>I backed up to <code>v0.22.0</code> and the rights problem doesn't occur there. instead, we get all the way to a subtraction with overflow panic (compiling to debug mode helps here!) in our fd_readdir impl that has since been fixed (separately of the wasi-common rewrite <a href="https://github.com/bytecodealliance/wasmtime/pull/2620">https://github.com/bytecodealliance/wasmtime/pull/2620</a>)</p>
</blockquote>



<a name="225355246"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225355246" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225355246">(Feb 05 2021 at 20:54)</a>:</h4>
<p>pchickey edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774283396">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>I backed up to <code>v0.22.0</code> and the rights problem doesn't occur there. instead, we get all the way to a subtraction with overflow panic (compiling to debug mode helps here!) in our fd_readdir impl that has since been fixed (separately of the wasi-common rewrite <a href="https://github.com/bytecodealliance/wasmtime/pull/2620">https://github.com/bytecodealliance/wasmtime/pull/2620</a>)</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">wasi</span>::<span class="n">wasi_snapshot_preview1</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">wiggle</span><span class="w"> </span><span class="n">abi</span><span class="p">;</span><span class="w"> </span><span class="n">module</span><span class="o">=</span><span class="s">"wasi_snapshot_preview1"</span><span class="w"> </span><span class="n">function</span><span class="o">=</span><span class="s">"fd_readdir"</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">wasi</span>::<span class="n">wasi_snapshot_preview1</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">fd</span><span class="o">=</span><span class="n">Fd</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="n">buf</span><span class="o">=*</span><span class="n">guest</span><span class="w"> </span><span class="mh">0xc88970</span><span class="w"> </span><span class="n">buf_len</span><span class="o">=</span><span class="mi">4096</span><span class="w"> </span><span class="n">cookie</span><span class="o">=</span><span class="mi">1711012349524439084</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">sys</span>::<span class="n">unix</span>::<span class="n">fd</span><span class="w">                     </span><span class="o">&gt;</span><span class="w"> </span><span class="n">fd_readdir</span>: <span class="nc">doing</span><span class="w"> </span><span class="n">seekdir</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">1711012349524439084</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">wasi</span>::<span class="n">wasi_snapshot_preview1</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">bufused</span><span class="o">=</span><span class="mi">4096</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">wasi</span>::<span class="n">wasi_snapshot_preview1</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">success</span><span class="o">=</span><span class="n">No</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">occurred</span><span class="p">.</span><span class="w"> </span><span class="n">System</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="n">completed</span><span class="w"> </span><span class="n">successfully</span><span class="p">.</span><span class="w"> </span><span class="p">(</span><span class="n">Errno</span>::<span class="n">Success</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">wasi</span>::<span class="n">wasi_snapshot_preview1</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">wiggle</span><span class="w"> </span><span class="n">abi</span><span class="p">;</span><span class="w"> </span><span class="n">module</span><span class="o">=</span><span class="s">"wasi_snapshot_preview1"</span><span class="w"> </span><span class="n">function</span><span class="o">=</span><span class="s">"fd_readdir"</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">wasi</span>::<span class="n">wasi_snapshot_preview1</span><span class="w">      </span><span class="o">&gt;</span><span class="w"> </span><span class="n">fd</span><span class="o">=</span><span class="n">Fd</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="w"> </span><span class="n">buf</span><span class="o">=*</span><span class="n">guest</span><span class="w"> </span><span class="mh">0xc88970</span><span class="w"> </span><span class="n">buf_len</span><span class="o">=</span><span class="mi">4096</span><span class="w"> </span><span class="n">cookie</span><span class="o">=</span><span class="mi">3052825016181861124</span><span class="w"></span>
<span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasi_common</span>::<span class="n">sys</span>::<span class="n">unix</span>::<span class="n">fd</span><span class="w">                     </span><span class="o">&gt;</span><span class="w"> </span><span class="n">fd_readdir</span>: <span class="nc">doing</span><span class="w"> </span><span class="n">seekdir</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">3052825016181861124</span><span class="w"></span>
<span class="n">thread</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">'</span><span class="na">attempt</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">subtract</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">overflow</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">crates</span><span class="o">/</span><span class="n">wasi</span><span class="o">-</span><span class="n">common</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">snapshots</span><span class="o">/</span><span class="n">wasi_snapshot_preview1</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">310</span>:<span class="mi">51</span><span class="w"></span>
<span class="n">note</span>: <span class="nc">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="err">`</span><span class="n">RUST_BACKTRACE</span><span class="o">=</span><span class="mi">1</span><span class="err">`</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">backtrace</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<a name="225355614"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225355614" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225355614">(Feb 05 2021 at 20:57)</a>:</h4>
<p>abbec <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774284763">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>Also, the code producing the binary is more or less <a href="https://github.com/goodbyekansas/cpython/tree/embed-test">here</a></p>
</blockquote>



<a name="225355817"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225355817" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225355817">(Feb 05 2021 at 20:59)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774285553">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>ok. mailed you at the address in your github profile as well if you want to zoom in 30 mins</p>
</blockquote>



<a name="225355840"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225355840" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225355840">(Feb 05 2021 at 20:59)</a>:</h4>
<p>abbec <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774285669">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<blockquote>
<p>I backed up to <code>v0.22.0</code> and the rights problem doesn't occur there. instead, we get all the way to a subtraction with overflow panic (compiling to debug mode helps here!) in our fd_readdir impl that has since been fixed (separately of the wasi-common rewrite <a href="https://github.com/bytecodealliance/wasmtime/pull/2620">https://github.com/bytecodealliance/wasmtime/pull/2620</a>)</p>
<p>```</p>
<p>TRACE wasi_common::wasi::wasi_snapshot_preview1      &gt; wiggle abi; module="wasi_snapshot_preview1" function="fd_readdir"</p>
<p>TRACE wasi_common::wasi::wasi_snapshot_preview1      &gt; fd=Fd(4) buf=*guest 0xc88970 buf_len=4096 cookie=1711012349524439084</p>
<p>TRACE wasi_common::sys::unix::fd                     &gt; fd_readdir: doing seekdir to 1711012349524439084</p>
<p>TRACE wasi_common::wasi::wasi_snapshot_preview1      &gt; bufused=4096</p>
<p>TRACE wasi_common::wasi::wasi_snapshot_preview1      &gt; success=No error occurred. System call completed successfully. (Errno::Success(0))</p>
<p>TRACE wasi_common::wasi::wasi_snapshot_preview1      &gt; wiggle abi; module="wasi_snapshot_preview1" function="fd_readdir"</p>
<p>TRACE wasi_common::wasi::wasi_snapshot_preview1      &gt; fd=Fd(4) buf=*guest 0xc88970 buf_len=4096 cookie=3052825016181861124</p>
<p>TRACE wasi_common::sys::unix::fd                     &gt; fd_readdir: doing seekdir to 3052825016181861124</p>
<p>thread 'main' panicked at 'attempt to subtract with overflow', crates/wasi-common/src/snapshots/wasi_snapshot_preview1.rs:310:51</p>
<p>note: run with <code>RUST_BACKTRACE=1</code> environment variable to display a backtrace</p>
<p>```</p>
</blockquote>
<p>Wow! Nice find! Then we know that :) Thanks a lot!</p>
</blockquote>



<a name="225361123"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225361123" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225361123">(Feb 05 2021 at 21:36)</a>:</h4>
<p>pchickey assigned <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a> (assigned to pchickey):</p>
<blockquote>
<ul>
<li>
<p>What are the steps to reproduce the issue?<br>
Run <code>wasmtime run python.wasm --dir . -- -m test</code> in a clone of cpython version 3.8 (or at least the Lib folder).<br>
<a href="https://github.com/bytecodealliance/wasmtime/files/5932022/python.wasm.zip">python.wasm.zip</a></p>
</li>
<li>
<p>What do you expect to happen? What does actually happen? Does it panic, and<br>
  if so, with which assertion?<br>
I expect it to run without crashing like Wasmer using the Cranelift JIT backend does.</p>
</li>
</ul>
<p>&lt;details&gt;<br>
&lt;summary&gt;Callstack&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">python</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">test</span><span class="w"></span>
<span class="n">Error</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="err">`</span><span class="n">python</span><span class="p">.</span><span class="n">wasm</span><span class="err">`</span><span class="w"></span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="mi">0</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">default</span><span class="w"></span>
<span class="w">    </span><span class="mi">1</span>: <span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span>: <span class="nc">out</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">bounds</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">access</span><span class="w"></span>
<span class="w">       </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
           <span class="mi">0</span>: <span class="mh">0x68557c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">dlmalloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">1</span>: <span class="mh">0x68760e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">realloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">2</span>: <span class="mh">0x452d56</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyMem_RawRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">3</span>: <span class="mh">0x457580</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyMem_DebugRawRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">4</span>: <span class="mh">0x4556ae</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyMem_RawRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">5</span>: <span class="mh">0x453028</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Realloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">6</span>: <span class="mh">0x457580</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyMem_DebugRawRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">7</span>: <span class="mh">0x4582ba</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyMem_DebugRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">8</span>: <span class="mh">0x458587</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyMem_Realloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">9</span>: <span class="mh">0x42c1b5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">list_resize</span><span class="w"></span>
<span class="w">          </span><span class="mi">10</span>: <span class="mh">0x42c52f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">app1</span><span class="w"></span>
<span class="w">          </span><span class="mi">11</span>: <span class="mh">0x42c369</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyList_Append</span><span class="w"></span>
<span class="w">          </span><span class="mi">12</span>: <span class="mh">0x4af5b1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_posix_listdir</span><span class="w"></span>
<span class="w">          </span><span class="mi">13</span>: <span class="mh">0x49cad9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">os_listdir_impl</span><span class="w"></span>
<span class="w">          </span><span class="mi">14</span>: <span class="mh">0x49c9a1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">os_listdir</span><span class="w"></span>
<span class="w">          </span><span class="mi">15</span>: <span class="mh">0x20f6a5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">cfunction_vectorcall_FASTCALL_KEYWORDS</span><span class="w"></span>
<span class="w">          </span><span class="mi">16</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">17</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">18</span>: <span class="mh">0x1ffd1d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">19</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">20</span>: <span class="mh">0x2d3d85</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">function_code_fastcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">21</span>: <span class="mh">0x2d4508</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">22</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">23</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">24</span>: <span class="mh">0x1ffe37</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">25</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">26</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">27</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">28</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">29</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">30</span>: <span class="mh">0x1ffe37</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">31</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">32</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">33</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">34</span>: <span class="mh">0x19e67e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">35</span>: <span class="mh">0x19dd65</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">method_vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">36</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">37</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">38</span>: <span class="mh">0x1ffd1d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">39</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">40</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">41</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">42</span>: <span class="mh">0x19e67e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">43</span>: <span class="mh">0x19dd65</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">method_vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">44</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">45</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">46</span>: <span class="mh">0x200057</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">47</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">48</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">49</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">50</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">51</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">52</span>: <span class="mh">0x200057</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">53</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">54</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">55</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">56</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">57</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">58</span>: <span class="mh">0x1ffd1d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">59</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">60</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">61</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">62</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">63</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">64</span>: <span class="mh">0x200057</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">65</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">66</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">67</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">68</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">69</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">70</span>: <span class="mh">0x200057</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">71</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">72</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">73</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">74</span>: <span class="mh">0x2d2079</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyVectorcall_Call</span><span class="w"></span>
<span class="w">          </span><span class="mi">75</span>: <span class="mh">0x2d2407</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyObject_Call</span><span class="w"></span>
<span class="w">          </span><span class="mi">76</span>: <span class="mh">0x48a8dc</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">pymain_run_module</span><span class="w"></span>
<span class="w">          </span><span class="mi">77</span>: <span class="mh">0x489a3e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">pymain_run_python</span><span class="w"></span>
<span class="w">          </span><span class="mi">78</span>: <span class="mh">0x489625</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">Py_RunMain</span><span class="w"></span>
<span class="w">          </span><span class="mi">79</span>: <span class="mh">0x48b4e9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">pymain_main</span><span class="w"></span>
<span class="w">          </span><span class="mi">80</span>: <span class="mh">0x48b974</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">Py_BytesMain</span><span class="w"></span>
<span class="w">          </span><span class="mi">81</span>: <span class="mh">0x421d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">main</span><span class="w"></span>
<span class="w">          </span><span class="mi">82</span>: <span class="mh">0x68a7ff</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__main_void</span><span class="w"></span>
<span class="w">          </span><span class="mi">83</span>: <span class="mh">0x689d72</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__original_main</span><span class="w"></span>
<span class="w">          </span><span class="mi">84</span>: <span class="mh">0x41b3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_start</span><span class="w"></span>
<span class="w">       </span><span class="n">note</span>: <span class="nc">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="err">`</span><span class="n">WASMTIME_BACKTRACE_DETAILS</span><span class="o">=</span><span class="mi">1</span><span class="err">`</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">information</span><span class="w"></span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;<br>
&lt;summary&gt;Detailed Callstack&lt;/summary&gt;</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">WASMTIME_BACKTRACE_DETAILS</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">python</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">test</span><span class="w"></span>
<span class="n">Error</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="err">`</span><span class="n">python</span><span class="p">.</span><span class="n">wasm</span><span class="err">`</span><span class="w"></span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="mi">0</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">default</span><span class="w"></span>
<span class="w">    </span><span class="mi">1</span>: <span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span>: <span class="nc">out</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">bounds</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">access</span><span class="w"></span>
<span class="w">       </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
           <span class="mi">0</span>: <span class="mh">0x68557c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">dlmalloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">1</span>: <span class="mh">0x68760e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">realloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">2</span>: <span class="mh">0x452d56</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyMem_RawRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">122</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">3</span>: <span class="mh">0x457580</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyMem_DebugRawRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">2241</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">           </span><span class="mi">4</span>: <span class="mh">0x4556ae</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyMem_RawRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">591</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">5</span>: <span class="mh">0x453028</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyObject_Realloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">1987</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">6</span>: <span class="mh">0x457580</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyMem_DebugRawRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">2241</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">           </span><span class="mi">7</span>: <span class="mh">0x4582ba</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyMem_DebugRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">2327</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">8</span>: <span class="mh">0x458587</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyMem_Realloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">624</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">9</span>: <span class="mh">0x42c1b5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">list_resize</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">listobject</span><span class="p">.</span><span class="n">c</span>:<span class="mi">70</span>:<span class="mi">26</span><span class="w"></span>
<span class="w">          </span><span class="mi">10</span>: <span class="mh">0x42c52f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">app1</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">listobject</span><span class="p">.</span><span class="n">c</span>:<span class="mi">340</span>:<span class="mi">9</span><span class="w"></span>
<span class="w">          </span><span class="mi">11</span>: <span class="mh">0x42c369</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyList_Append</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">listobject</span><span class="p">.</span><span class="n">c</span>:<span class="mi">352</span>:<span class="mi">16</span><span class="w"></span>
<span class="w">          </span><span class="mi">12</span>: <span class="mh">0x4af5b1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_posix_listdir</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Modules</span><span class="o">/</span><span class="n">posixmodule</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3831</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">          </span><span class="mi">13</span>: <span class="mh">0x49cad9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">os_listdir_impl</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Modules</span><span class="o">/</span><span class="n">posixmodule</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3887</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">14</span>: <span class="mh">0x49c9a1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">os_listdir</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Modules</span><span class="o">/</span><span class="n">clinic</span><span class="o">/</span><span class="n">posixmodule</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">h</span>:<span class="mi">1197</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">          </span><span class="mi">15</span>: <span class="mh">0x20f6a5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">cfunction_vectorcall_FASTCALL_KEYWORDS</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">methodobject</span><span class="p">.</span><span class="n">c</span>:<span class="mi">437</span>:<span class="mi">24</span><span class="w"></span>
<span class="w">          </span><span class="mi">16</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Include</span><span class="o">/</span><span class="n">cpython</span><span class="o">/</span><span class="kr">abstract</span><span class="p">.</span><span class="n">h</span>:<span class="mi">127</span>:<span class="mi">11</span><span class="w"></span>
<span class="w">          </span><span class="mi">17</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">call_function</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">4963</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">          </span><span class="mi">18</span>: <span class="mh">0x1ffd1d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3469</span>:<span class="mi">23</span><span class="w"></span>
<span class="w">          </span><span class="mi">19</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">741</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">20</span>: <span class="mh">0x2d3d85</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">function_code_fastcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">call</span><span class="p">.</span><span class="n">c</span>:<span class="mi">283</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">          </span><span class="mi">21</span>: <span class="mh">0x2d4508</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">call</span><span class="p">.</span><span class="n">c</span>:<span class="mi">410</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">          </span><span class="mi">22</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Include</span><span class="o">/</span><span class="n">cpython</span><span class="o">/</span><span class="kr">abstract</span><span class="p">.</span><span class="n">h</span>:<span class="mi">127</span>:<span class="mi">11</span><span class="w"></span>
<span class="w">          </span><span class="mi">23</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">call_function</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">4963</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">          </span><span class="mi">24</span>: <span class="mh">0x1ffe37</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3486</span>:<span class="mi">23</span><span class="w"></span>
<span class="w">          </span><span class="mi">25</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">741</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">26</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">4298</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">          </span><span class="mi">27</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">call</span><span class="p">.</span><span class="n">c</span>:<span class="mi">435</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">28</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Include</span><span class="o">/</span><span class="n">cpython</span><span class="o">/</span><span class="kr">abstract</span><span class="p">.</span><span class="n">h</span>:<span class="mi">127</span>:<span class="mi">11</span><span class="w"></span>
<span class="w">          </span><span class="mi">29</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">call_function</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">4963</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">          </span><span class="mi">30</span>: <span class="mh">0x1ffe37</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3486</span>:<span class="mi">23</span><span class="w"></span>
<span class="w">          </span><span class="mi">31</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">741</span>:<span class="mi">1</span><span class="w"></span>
<span class="p">[</span><span class="n">message</span><span class="w"> </span><span class="n">truncated</span><span class="p">]</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<a name="225365941"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225365941" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225365941">(Feb 05 2021 at 22:20)</a>:</h4>
<p>abbec <a href="https://github.com/bytecodealliance/wasmtime/issues/2638#issuecomment-774319524">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a>:</p>
<blockquote>
<p>Just wanted to say that this was some serious first-class support! Thanks everyone! <span aria-label="heart" class="emoji emoji-2764" role="img" title="heart">:heart:</span>️ </p>
</blockquote>



<a name="225935491"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232638%20Code%20runs%20in%20Wasmer%20%28Cranelift%20JIT.../near/225935491" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232638.20Code.20runs.20in.20Wasmer.20.28Cranelift.20JIT.2E.2E.2E.html#225935491">(Feb 11 2021 at 00:53)</a>:</h4>
<p>sunfishcode closed <a href="https://github.com/bytecodealliance/wasmtime/issues/2638">Issue #2638</a> (assigned to pchickey):</p>
<blockquote>
<ul>
<li>
<p>What are the steps to reproduce the issue?<br>
Run <code>wasmtime run python.wasm --dir . -- -m test</code> in a clone of cpython version 3.8 (or at least the Lib folder).<br>
<a href="https://github.com/bytecodealliance/wasmtime/files/5932022/python.wasm.zip">python.wasm.zip</a></p>
</li>
<li>
<p>What do you expect to happen? What does actually happen? Does it panic, and<br>
  if so, with which assertion?<br>
I expect it to run without crashing like Wasmer using the Cranelift JIT backend does.</p>
</li>
</ul>
<p>&lt;details&gt;<br>
&lt;summary&gt;Callstack&lt;/summary&gt;</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">python</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">test</span><span class="w"></span>
<span class="n">Error</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="err">`</span><span class="n">python</span><span class="p">.</span><span class="n">wasm</span><span class="err">`</span><span class="w"></span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="mi">0</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">default</span><span class="w"></span>
<span class="w">    </span><span class="mi">1</span>: <span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span>: <span class="nc">out</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">bounds</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">access</span><span class="w"></span>
<span class="w">       </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
           <span class="mi">0</span>: <span class="mh">0x68557c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">dlmalloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">1</span>: <span class="mh">0x68760e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">realloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">2</span>: <span class="mh">0x452d56</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyMem_RawRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">3</span>: <span class="mh">0x457580</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyMem_DebugRawRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">4</span>: <span class="mh">0x4556ae</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyMem_RawRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">5</span>: <span class="mh">0x453028</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Realloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">6</span>: <span class="mh">0x457580</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyMem_DebugRawRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">7</span>: <span class="mh">0x4582ba</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyMem_DebugRealloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">8</span>: <span class="mh">0x458587</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyMem_Realloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">9</span>: <span class="mh">0x42c1b5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">list_resize</span><span class="w"></span>
<span class="w">          </span><span class="mi">10</span>: <span class="mh">0x42c52f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">app1</span><span class="w"></span>
<span class="w">          </span><span class="mi">11</span>: <span class="mh">0x42c369</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyList_Append</span><span class="w"></span>
<span class="w">          </span><span class="mi">12</span>: <span class="mh">0x4af5b1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_posix_listdir</span><span class="w"></span>
<span class="w">          </span><span class="mi">13</span>: <span class="mh">0x49cad9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">os_listdir_impl</span><span class="w"></span>
<span class="w">          </span><span class="mi">14</span>: <span class="mh">0x49c9a1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">os_listdir</span><span class="w"></span>
<span class="w">          </span><span class="mi">15</span>: <span class="mh">0x20f6a5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">cfunction_vectorcall_FASTCALL_KEYWORDS</span><span class="w"></span>
<span class="w">          </span><span class="mi">16</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">17</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">18</span>: <span class="mh">0x1ffd1d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">19</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">20</span>: <span class="mh">0x2d3d85</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">function_code_fastcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">21</span>: <span class="mh">0x2d4508</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">22</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">23</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">24</span>: <span class="mh">0x1ffe37</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">25</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">26</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">27</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">28</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">29</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">30</span>: <span class="mh">0x1ffe37</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">31</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">32</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">33</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">34</span>: <span class="mh">0x19e67e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">35</span>: <span class="mh">0x19dd65</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">method_vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">36</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">37</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">38</span>: <span class="mh">0x1ffd1d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">39</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">40</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">41</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">42</span>: <span class="mh">0x19e67e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">43</span>: <span class="mh">0x19dd65</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">method_vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">44</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">45</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">46</span>: <span class="mh">0x200057</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">47</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">48</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">49</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">50</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">51</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">52</span>: <span class="mh">0x200057</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">53</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">54</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">55</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">56</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">57</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">58</span>: <span class="mh">0x1ffd1d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">59</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">60</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">61</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">62</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">63</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">64</span>: <span class="mh">0x200057</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">65</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">66</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">67</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">68</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">69</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">call_function</span><span class="w"></span>
<span class="w">          </span><span class="mi">70</span>: <span class="mh">0x200057</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">          </span><span class="mi">71</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">          </span><span class="mi">72</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">          </span><span class="mi">73</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">          </span><span class="mi">74</span>: <span class="mh">0x2d2079</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyVectorcall_Call</span><span class="w"></span>
<span class="w">          </span><span class="mi">75</span>: <span class="mh">0x2d2407</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">PyObject_Call</span><span class="w"></span>
<span class="w">          </span><span class="mi">76</span>: <span class="mh">0x48a8dc</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">pymain_run_module</span><span class="w"></span>
<span class="w">          </span><span class="mi">77</span>: <span class="mh">0x489a3e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">pymain_run_python</span><span class="w"></span>
<span class="w">          </span><span class="mi">78</span>: <span class="mh">0x489625</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">Py_RunMain</span><span class="w"></span>
<span class="w">          </span><span class="mi">79</span>: <span class="mh">0x48b4e9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">pymain_main</span><span class="w"></span>
<span class="w">          </span><span class="mi">80</span>: <span class="mh">0x48b974</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">Py_BytesMain</span><span class="w"></span>
<span class="w">          </span><span class="mi">81</span>: <span class="mh">0x421d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">main</span><span class="w"></span>
<span class="w">          </span><span class="mi">82</span>: <span class="mh">0x68a7ff</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__main_void</span><span class="w"></span>
<span class="w">          </span><span class="mi">83</span>: <span class="mh">0x689d72</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__original_main</span><span class="w"></span>
<span class="w">          </span><span class="mi">84</span>: <span class="mh">0x41b3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">_start</span><span class="w"></span>
<span class="w">       </span><span class="n">note</span>: <span class="nc">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="err">`</span><span class="n">WASMTIME_BACKTRACE_DETAILS</span><span class="o">=</span><span class="mi">1</span><span class="err">`</span><span class="w"> </span><span class="n">environment</span><span class="w"> </span><span class="n">variable</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">display</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">information</span><span class="w"></span>
</code></pre></div>
<p>&lt;/details&gt;</p>
<p>&lt;details&gt;<br>
&lt;summary&gt;Detailed Callstack&lt;/summary&gt;</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">$</span><span class="w"> </span><span class="n">WASMTIME_BACKTRACE_DETAILS</span><span class="o">=</span><span class="mi">1</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">python</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">--</span><span class="w"> </span><span class="o">-</span><span class="n">m</span><span class="w"> </span><span class="n">test</span><span class="w"></span>
<span class="n">Error</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="err">`</span><span class="n">python</span><span class="p">.</span><span class="n">wasm</span><span class="err">`</span><span class="w"></span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="mi">0</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">invoke</span><span class="w"> </span><span class="n">command</span><span class="w"> </span><span class="n">default</span><span class="w"></span>
<span class="w">    </span><span class="mi">1</span>: <span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span>: <span class="nc">out</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">bounds</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">access</span><span class="w"></span>
<span class="w">       </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
           <span class="mi">0</span>: <span class="mh">0x68557c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">dlmalloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">1</span>: <span class="mh">0x68760e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">realloc</span><span class="w"></span>
<span class="w">           </span><span class="mi">2</span>: <span class="mh">0x452d56</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyMem_RawRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">122</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">3</span>: <span class="mh">0x457580</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyMem_DebugRawRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">2241</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">           </span><span class="mi">4</span>: <span class="mh">0x4556ae</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyMem_RawRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">591</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">5</span>: <span class="mh">0x453028</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyObject_Realloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">1987</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">6</span>: <span class="mh">0x457580</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyMem_DebugRawRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">2241</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">           </span><span class="mi">7</span>: <span class="mh">0x4582ba</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyMem_DebugRealloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">2327</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">8</span>: <span class="mh">0x458587</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyMem_Realloc</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">obmalloc</span><span class="p">.</span><span class="n">c</span>:<span class="mi">624</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">           </span><span class="mi">9</span>: <span class="mh">0x42c1b5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">list_resize</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">listobject</span><span class="p">.</span><span class="n">c</span>:<span class="mi">70</span>:<span class="mi">26</span><span class="w"></span>
<span class="w">          </span><span class="mi">10</span>: <span class="mh">0x42c52f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">app1</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">listobject</span><span class="p">.</span><span class="n">c</span>:<span class="mi">340</span>:<span class="mi">9</span><span class="w"></span>
<span class="w">          </span><span class="mi">11</span>: <span class="mh">0x42c369</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyList_Append</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">listobject</span><span class="p">.</span><span class="n">c</span>:<span class="mi">352</span>:<span class="mi">16</span><span class="w"></span>
<span class="w">          </span><span class="mi">12</span>: <span class="mh">0x4af5b1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_posix_listdir</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Modules</span><span class="o">/</span><span class="n">posixmodule</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3831</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">          </span><span class="mi">13</span>: <span class="mh">0x49cad9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">os_listdir_impl</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Modules</span><span class="o">/</span><span class="n">posixmodule</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3887</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">14</span>: <span class="mh">0x49c9a1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">os_listdir</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Modules</span><span class="o">/</span><span class="n">clinic</span><span class="o">/</span><span class="n">posixmodule</span><span class="p">.</span><span class="n">c</span><span class="p">.</span><span class="n">h</span>:<span class="mi">1197</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">          </span><span class="mi">15</span>: <span class="mh">0x20f6a5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">cfunction_vectorcall_FASTCALL_KEYWORDS</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">methodobject</span><span class="p">.</span><span class="n">c</span>:<span class="mi">437</span>:<span class="mi">24</span><span class="w"></span>
<span class="w">          </span><span class="mi">16</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Include</span><span class="o">/</span><span class="n">cpython</span><span class="o">/</span><span class="kr">abstract</span><span class="p">.</span><span class="n">h</span>:<span class="mi">127</span>:<span class="mi">11</span><span class="w"></span>
<span class="w">          </span><span class="mi">17</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">call_function</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">4963</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">          </span><span class="mi">18</span>: <span class="mh">0x1ffd1d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3469</span>:<span class="mi">23</span><span class="w"></span>
<span class="w">          </span><span class="mi">19</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">741</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">20</span>: <span class="mh">0x2d3d85</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">function_code_fastcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">call</span><span class="p">.</span><span class="n">c</span>:<span class="mi">283</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">          </span><span class="mi">21</span>: <span class="mh">0x2d4508</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">call</span><span class="p">.</span><span class="n">c</span>:<span class="mi">410</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">          </span><span class="mi">22</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Include</span><span class="o">/</span><span class="n">cpython</span><span class="o">/</span><span class="kr">abstract</span><span class="p">.</span><span class="n">h</span>:<span class="mi">127</span>:<span class="mi">11</span><span class="w"></span>
<span class="w">          </span><span class="mi">23</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">call_function</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">4963</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">          </span><span class="mi">24</span>: <span class="mh">0x1ffe37</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3486</span>:<span class="mi">23</span><span class="w"></span>
<span class="w">          </span><span class="mi">25</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">741</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">26</span>: <span class="mh">0x1eaa0e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyEval_EvalCodeWithName</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">4298</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">          </span><span class="mi">27</span>: <span class="mh">0x2d4a6c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyFunction_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Objects</span><span class="o">/</span><span class="n">call</span><span class="p">.</span><span class="n">c</span>:<span class="mi">435</span>:<span class="mi">12</span><span class="w"></span>
<span class="w">          </span><span class="mi">28</span>: <span class="mh">0x20bc53</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyObject_Vectorcall</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="p">.</span><span class="o">/</span><span class="n">Include</span><span class="o">/</span><span class="n">cpython</span><span class="o">/</span><span class="kr">abstract</span><span class="p">.</span><span class="n">h</span>:<span class="mi">127</span>:<span class="mi">11</span><span class="w"></span>
<span class="w">          </span><span class="mi">29</span>: <span class="mh">0x20a7d7</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">call_function</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">4963</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">          </span><span class="mi">30</span>: <span class="mh">0x1ffe37</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">_PyEval_EvalFrameDefault</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">3486</span>:<span class="mi">23</span><span class="w"></span>
<span class="w">          </span><span class="mi">31</span>: <span class="mh">0x1eac4f</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">PyEval_EvalFrameEx</span><span class="w"></span>
<span class="w">                           </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">abbe</span><span class="o">/</span><span class="n">code</span><span class="o">/</span><span class="n">gbk</span><span class="o">-</span><span class="n">python</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">ceval</span><span class="p">.</span><span class="n">c</span>:<span class="mi">741</span>:
<span class="p">[</span><span class="n">message</span><span class="w"> </span><span class="n">truncated</span><span class="p">]</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>