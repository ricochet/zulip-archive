<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #537 Debug a wasm application with reaso... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23537.20Debug.20a.20wasm.20application.20with.20reaso.2E.2E.2E.html">wasmtime / Issue #537 Debug a wasm application with reaso...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="190295773"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23537%20Debug%20a%20wasm%20application%20with%20reaso.../near/190295773" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23537.20Debug.20a.20wasm.20application.20with.20reaso.2E.2E.2E.html#190295773">(Mar 11 2020 at 15:39)</a>:</h4>
<p>yurydelendik edited <a href="https://github.com/bytecodealliance/wasmtime/issues/537" target="_blank" title="https://github.com/bytecodealliance/wasmtime/issues/537">Issue #537</a>:</p>
<blockquote>
<p>I'm trying to run a large (~15 MB) wasm application that crashes on <code>ud2</code>. Is there any way to determine which function the crash address corresponds to?</p>
</blockquote>



<a name="190296170"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23537%20Debug%20a%20wasm%20application%20with%20reaso.../near/190296170" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23537.20Debug.20a.20wasm.20application.20with.20reaso.2E.2E.2E.html#190296170">(Mar 11 2020 at 15:42)</a>:</h4>
<p>whitequark <a href="https://github.com/bytecodealliance/wasmtime/issues/537#issuecomment-597707685" target="_blank" title="https://github.com/bytecodealliance/wasmtime/issues/537#issuecomment-597707685">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/537" target="_blank" title="https://github.com/bytecodealliance/wasmtime/issues/537">Issue #537</a>:</p>
<blockquote>
<p>@yurydelendik Are the build instructions <a href="https://github.com/YosysHQ/yosys/pull/1483" target="_blank" title="https://github.com/YosysHQ/yosys/pull/1483">here</a> sufficient?</p>
</blockquote>



<a name="190329570"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23537%20Debug%20a%20wasm%20application%20with%20reaso.../near/190329570" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23537.20Debug.20a.20wasm.20application.20with.20reaso.2E.2E.2E.html#190329570">(Mar 11 2020 at 20:46)</a>:</h4>
<p>yurydelendik <a href="https://github.com/bytecodealliance/wasmtime/issues/537#issuecomment-597870512" target="_blank" title="https://github.com/bytecodealliance/wasmtime/issues/537#issuecomment-597870512">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/537" target="_blank" title="https://github.com/bytecodealliance/wasmtime/issues/537">Issue #537</a>:</p>
<blockquote>
<p>@whitequark it was not trivial but I was able to produce "yosys.wasm".</p>
<p>I added another commit to #1260. With this PR, per Activity Monitor and Instruments on my computer, the DWARF transform does not take more than 50 sec and memory is not growing past 2.4Gb. If you have time, can you confirm that it is the case on your side?</p>
</blockquote>



<a name="190627264"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23537%20Debug%20a%20wasm%20application%20with%20reaso.../near/190627264" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23537.20Debug.20a.20wasm.20application.20with.20reaso.2E.2E.2E.html#190627264">(Mar 15 2020 at 03:16)</a>:</h4>
<p>whitequark <a href="https://github.com/bytecodealliance/wasmtime/issues/537#issuecomment-599162241" target="_blank" title="https://github.com/bytecodealliance/wasmtime/issues/537#issuecomment-599162241">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/537" target="_blank" title="https://github.com/bytecodealliance/wasmtime/issues/537">Issue #537</a>:</p>
<blockquote>
<p>I greatly appreciate your work here. Unfortunately right now I'm not in a position to reproduce those results for personal reasons. The numbers you mention seem like they would allow me to proceed with my original work on wasm-ing Yosys; I won't get around to that for a while, so I'm closing the issue, because it seems like you've pretty much solved it. I'll make sure to report my results once I get around to it.</p>
</blockquote>



<a name="190627265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23537%20Debug%20a%20wasm%20application%20with%20reaso.../near/190627265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23537.20Debug.20a.20wasm.20application.20with.20reaso.2E.2E.2E.html#190627265">(Mar 15 2020 at 03:16)</a>:</h4>
<p>whitequark closed <a href="https://github.com/bytecodealliance/wasmtime/issues/537" target="_blank" title="https://github.com/bytecodealliance/wasmtime/issues/537">Issue #537</a>:</p>
<blockquote>
<p>I'm trying to run a large (~15 MB) wasm application that crashes on <code>ud2</code>. Is there any way to determine which function the crash address corresponds to?</p>
</blockquote>



<a name="195258843"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23537%20Debug%20a%20wasm%20application%20with%20reaso.../near/195258843" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23537.20Debug.20a.20wasm.20application.20with.20reaso.2E.2E.2E.html#195258843">(Apr 25 2020 at 00:22)</a>:</h4>
<p>whitequark <a href="https://github.com/bytecodealliance/wasmtime/issues/537#issuecomment-619289597" title="https://github.com/bytecodealliance/wasmtime/issues/537#issuecomment-619289597">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/537" title="https://github.com/bytecodealliance/wasmtime/issues/537">Issue #537</a>:</p>
<blockquote>
<p>@yurydelendik I just got around reproducing these results. Unfortunately, it seems that I hit a snag; on freshly compiled Yosys with WASI SDK 10, I get this if I pass <code>-g</code> after something like a minute of high CPU load:</p>
<div class="codehilite"><pre><span></span>Error: failed to run main module `yosys.wasm`

Caused by:
    0: Debug information error
    1: Hit the end of input before it was expected
</pre></div>


<p>Here's the <a href="https://mega.nz/file/YoYVnQpQ#6ExaY_N6KMK_w7c9wF01Zg2gM_ap0qpJkF1nJpDFYuo" title="https://mega.nz/file/YoYVnQpQ#6ExaY_N6KMK_w7c9wF01Zg2gM_ap0qpJkF1nJpDFYuo">problematic wasm file</a>.</p>
<p>However, I'd like to say that even if you never fix this, y'all are still totally awesome. That's because I don't need debug information anymore! Almost everything in Yosys (except for a bizarre <code>argv</code>-related bug I have no idea what to make of) that I tested so far not only works perfectly well, but also with amazingly low startup latency and incredible speed.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>