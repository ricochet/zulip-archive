<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #1720 Add build instructions for Aarch64... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231720.20Add.20build.20instructions.20for.20Aarch64.2E.2E.2E.html">wasmtime / Issue #1720 Add build instructions for Aarch64...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="197865032"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231720%20Add%20build%20instructions%20for%20Aarch64.../near/197865032" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231720.20Add.20build.20instructions.20for.20Aarch64.2E.2E.2E.html#197865032">(May 17 2020 at 19:28)</a>:</h4>
<p>tschneidereit opened <a href="https://github.com/bytecodealliance/wasmtime/issues/1720">Issue #1720</a>:</p>
<blockquote>
<p>We're creating aarch64 builds in CI, but for people wanting to do so themselves using cross-compilation, it's hard to figure out how.</p>
<p>We should have documentation for how to do this for at least x64 Linux, but ideally also macOS and, if feasible, Windows.</p>
<p>CC @alexcrichton </p>
</blockquote>



<a name="197865066"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231720%20Add%20build%20instructions%20for%20Aarch64.../near/197865066" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231720.20Add.20build.20instructions.20for.20Aarch64.2E.2E.2E.html#197865066">(May 17 2020 at 19:29)</a>:</h4>
<p>tschneidereit labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/1720">Issue #1720</a>:</p>
<blockquote>
<p>We're creating aarch64 builds in CI, but for people wanting to do so themselves using cross-compilation, it's hard to figure out how.</p>
<p>We should have documentation for how to do this for at least x64 Linux, but ideally also macOS and, if feasible, Windows.</p>
<p>CC @alexcrichton </p>
</blockquote>



<a name="197865069"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231720%20Add%20build%20instructions%20for%20Aarch64.../near/197865069" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231720.20Add.20build.20instructions.20for.20Aarch64.2E.2E.2E.html#197865069">(May 17 2020 at 19:29)</a>:</h4>
<p>tschneidereit labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/1720">Issue #1720</a>:</p>
<blockquote>
<p>We're creating aarch64 builds in CI, but for people wanting to do so themselves using cross-compilation, it's hard to figure out how.</p>
<p>We should have documentation for how to do this for at least x64 Linux, but ideally also macOS and, if feasible, Windows.</p>
<p>CC @alexcrichton </p>
</blockquote>



<a name="197865116"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231720%20Add%20build%20instructions%20for%20Aarch64.../near/197865116" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231720.20Add.20build.20instructions.20for.20Aarch64.2E.2E.2E.html#197865116">(May 17 2020 at 19:30)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/issues/1720#issuecomment-629848348">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1720">Issue #1720</a>:</p>
<blockquote>
<p>Oh, and ideally we'd have this for both Wasmtime and Cranelift, but those are probably separate tasks.</p>
</blockquote>



<a name="197931387"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231720%20Add%20build%20instructions%20for%20Aarch64.../near/197931387" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231720.20Add.20build.20instructions.20for.20Aarch64.2E.2E.2E.html#197931387">(May 18 2020 at 13:08)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/1720#issuecomment-630171275">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1720">Issue #1720</a>:</p>
<blockquote>
<p>Hm so in theory this is the same as cross-compilation of any other Rust code, where you'd first install a native toolchain for the linker and then you'd execute <code>cargo build --target aarch64-unknown-linux-gnu</code>.</p>
<p>Beyond that I feel that documentation for Wasmtime would cover all the standard "this applies to all cross compilation in Rust" bullet points:</p>
<ul>
<li>A native toolchain which compiles to AArch64 is required. <ul>
<li>This is typically extremely difficult to obtain on macOS and Windows. </li>
<li>If you're not using a package manager with an AArch64 toolchain on Linux, it's also likely extremely hard to obtain. </li>
<li>The name of the toolchain in Linux package managers likely varies widely across distributions.</li>
</ul>
</li>
<li>You'll need to install the rustup target via <code>rustup target add</code></li>
<li>The final binary shows up in <code>target/aarch64-unknown-linux-gnu/*</code> instead of <code>target/*</code></li>
</ul>
<p>@tschneidereit do you have an idea on what folks were getting tripped up on more specifically?</p>
</blockquote>



<a name="197931433"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231720%20Add%20build%20instructions%20for%20Aarch64.../near/197931433" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231720.20Add.20build.20instructions.20for.20Aarch64.2E.2E.2E.html#197931433">(May 18 2020 at 13:08)</a>:</h4>
<p>alexcrichton edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/1720#issuecomment-630171275">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1720">Issue #1720</a>:</p>
<blockquote>
<p>Hm so in theory this is the same as cross-compilation of any other Rust code, where you'd first install a native toolchain for the linker and then you'd execute <code>cargo build --target aarch64-unknown-linux-gnu</code>.</p>
<p>Beyond that I feel that documentation for Wasmtime would cover all the standard "this applies to all cross compilation in Rust" bullet points:</p>
<ul>
<li>A native toolchain which compiles to AArch64 is required. <ul>
<li>This is typically extremely difficult to obtain on macOS and Windows. </li>
<li>If you're not using a package manager with an AArch64 toolchain on Linux, it's also likely extremely hard to obtain. </li>
<li>The name of the toolchain in Linux package managers likely varies widely across distributions.</li>
</ul>
</li>
<li>You'll need to install the rustup target via <code>rustup target add</code></li>
<li>The final binary shows up in <code>target/aarch64-unknown-linux-gnu/*</code> instead of <code>target/*</code></li>
<li>You'll have to configure Cargo to pass the right linker to rustc since it otherwise won't find it.</li>
</ul>
<p>@tschneidereit do you have an idea on what folks were getting tripped up on more specifically?</p>
</blockquote>



<a name="197931549"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231720%20Add%20build%20instructions%20for%20Aarch64.../near/197931549" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231720.20Add.20build.20instructions.20for.20Aarch64.2E.2E.2E.html#197931549">(May 18 2020 at 13:09)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/1720#issuecomment-630171983">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1720">Issue #1720</a>:</p>
<blockquote>
<p>To be clear it seems fine to document all this, it's just worth knowing that it's not really anything novel or specific to Wasmtime itself. I'm mostly just curious if there's something else that I'm missing about what we would need to document.</p>
</blockquote>



<a name="197932738"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231720%20Add%20build%20instructions%20for%20Aarch64.../near/197932738" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231720.20Add.20build.20instructions.20for.20Aarch64.2E.2E.2E.html#197932738">(May 18 2020 at 13:18)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/issues/1720#issuecomment-630177190">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1720">Issue #1720</a>:</p>
<blockquote>
<p>@alexcrichton thank you for the explanation, that makes a lot of sense. Based on <a href="https://twitter.com/KevinHoffman/status/1261653823115968512">this Twitter thread</a>, I tried building for Aarch64 myself, and honestly simply didn't know where to even begin. If there is good general documentation, perhaps we could link to that in our docs? Something like "follow this general guide, then take these exact steps for Wasmtime, specifically".</p>
<p>Also, I just realized that it'd be good to have this both for building the shared library and CLI, and for embedding in other Rust projects. I think the ladder is what @autodidaddict, @dlmanning, and @squillace are talking about in that Twitter thread.</p>
</blockquote>



<a name="197932795"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231720%20Add%20build%20instructions%20for%20Aarch64.../near/197932795" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231720.20Add.20build.20instructions.20for.20Aarch64.2E.2E.2E.html#197932795">(May 18 2020 at 13:19)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/issues/1720#issuecomment-630177518">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1720">Issue #1720</a>:</p>
<blockquote>
<blockquote>
<div class="codehilite"><pre><span></span><code>* This is typically extremely difficult to obtain on macOS and Windows.
</code></pre></div>


</blockquote>
<p>Oh, and this is where the "if feasible" comes in :)</p>
</blockquote>



<a name="197940576"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231720%20Add%20build%20instructions%20for%20Aarch64.../near/197940576" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231720.20Add.20build.20instructions.20for.20Aarch64.2E.2E.2E.html#197940576">(May 18 2020 at 14:15)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/1720#issuecomment-630210990">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1720">Issue #1720</a>:</p>
<blockquote>
<p>I don't personally know of standard docs now that I think about it (so documenting this regardless definitely makes sense), although if others know some it'd be great to link!</p>
<p>That twitter looks a bit like the wrong version of the source is being used, especially if unsupported platform errors show up for AArch64. In any case I've opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1721">https://github.com/bytecodealliance/wasmtime/pull/1721</a> to help improve the state of things.</p>
</blockquote>



<a name="197954554"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231720%20Add%20build%20instructions%20for%20Aarch64.../near/197954554" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231720.20Add.20build.20instructions.20for.20Aarch64.2E.2E.2E.html#197954554">(May 18 2020 at 15:52)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/1720">Issue #1720</a>:</p>
<blockquote>
<p>We're creating aarch64 builds in CI, but for people wanting to do so themselves using cross-compilation, it's hard to figure out how.</p>
<p>We should have documentation for how to do this for at least x64 Linux, but ideally also macOS and, if feasible, Windows.</p>
<p>CC @alexcrichton </p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>