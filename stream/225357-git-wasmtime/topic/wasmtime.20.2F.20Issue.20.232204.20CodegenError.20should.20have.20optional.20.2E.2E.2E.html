<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2204 CodegenError should have optional ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232204.20CodegenError.20should.20have.20optional.20.2E.2E.2E.html">wasmtime / Issue #2204 CodegenError should have optional ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="210156003"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232204%20CodegenError%20should%20have%20optional%20.../near/210156003" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232204.20CodegenError.20should.20have.20optional.20.2E.2E.2E.html#210156003">(Sep 15 2020 at 16:51)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/issues/2204">Issue #2204</a>:</p>
<blockquote>
<p><code>pretty_error</code> should be replaced with methods on <code>CodegenError</code> that mutate the error and provide the context that <code>pretty_error</code> otherwise adds, and the <code>CodegenError</code>'s <code>Display</code> impl should print what <code>pretty_error</code> creates when it has the necessary context.</p>
<p>These context-adding methods would be similar to how the <code>wast</code> crate adds file contents and filename context to errors with these methods:</p>
<ul>
<li><a href="https://docs.rs/wast/24.0.0/wast/struct.Error.html#method.set_text">https://docs.rs/wast/24.0.0/wast/struct.Error.html#method.set_text</a></li>
<li><a href="https://docs.rs/wast/24.0.0/wast/struct.Error.html#method.set_path">https://docs.rs/wast/24.0.0/wast/struct.Error.html#method.set_path</a></li>
</ul>
<p>Then we can delete <code>pretty_error</code>, and avoid using string as an error type in more places (notably in <code>cranelift-filetests</code> and its <code>pretty_anyhow_error</code> workaround).</p>
</blockquote>



<a name="210156004"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232204%20CodegenError%20should%20have%20optional%20.../near/210156004" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232204.20CodegenError.20should.20have.20optional.20.2E.2E.2E.html#210156004">(Sep 15 2020 at 16:51)</a>:</h4>
<p>fitzgen labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/2204">Issue #2204</a>:</p>
<blockquote>
<p><code>pretty_error</code> should be replaced with methods on <code>CodegenError</code> that mutate the error and provide the context that <code>pretty_error</code> otherwise adds, and the <code>CodegenError</code>'s <code>Display</code> impl should print what <code>pretty_error</code> creates when it has the necessary context.</p>
<p>These context-adding methods would be similar to how the <code>wast</code> crate adds file contents and filename context to errors with these methods:</p>
<ul>
<li><a href="https://docs.rs/wast/24.0.0/wast/struct.Error.html#method.set_text">https://docs.rs/wast/24.0.0/wast/struct.Error.html#method.set_text</a></li>
<li><a href="https://docs.rs/wast/24.0.0/wast/struct.Error.html#method.set_path">https://docs.rs/wast/24.0.0/wast/struct.Error.html#method.set_path</a></li>
</ul>
<p>Then we can delete <code>pretty_error</code>, and avoid using string as an error type in more places (notably in <code>cranelift-filetests</code> and its <code>pretty_anyhow_error</code> workaround).</p>
</blockquote>



<a name="210156005"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232204%20CodegenError%20should%20have%20optional%20.../near/210156005" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232204.20CodegenError.20should.20have.20optional.20.2E.2E.2E.html#210156005">(Sep 15 2020 at 16:51)</a>:</h4>
<p>fitzgen labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/2204">Issue #2204</a>:</p>
<blockquote>
<p><code>pretty_error</code> should be replaced with methods on <code>CodegenError</code> that mutate the error and provide the context that <code>pretty_error</code> otherwise adds, and the <code>CodegenError</code>'s <code>Display</code> impl should print what <code>pretty_error</code> creates when it has the necessary context.</p>
<p>These context-adding methods would be similar to how the <code>wast</code> crate adds file contents and filename context to errors with these methods:</p>
<ul>
<li><a href="https://docs.rs/wast/24.0.0/wast/struct.Error.html#method.set_text">https://docs.rs/wast/24.0.0/wast/struct.Error.html#method.set_text</a></li>
<li><a href="https://docs.rs/wast/24.0.0/wast/struct.Error.html#method.set_path">https://docs.rs/wast/24.0.0/wast/struct.Error.html#method.set_path</a></li>
</ul>
<p>Then we can delete <code>pretty_error</code>, and avoid using string as an error type in more places (notably in <code>cranelift-filetests</code> and its <code>pretty_anyhow_error</code> workaround).</p>
</blockquote>



<a name="210156028"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232204%20CodegenError%20should%20have%20optional%20.../near/210156028" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232204.20CodegenError.20should.20have.20optional.20.2E.2E.2E.html#210156028">(Sep 15 2020 at 16:51)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/issues/2204#issuecomment-692841257">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2204">Issue #2204</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @bnjbvr</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>bnjbvr: cranelift</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="210159911"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232204%20CodegenError%20should%20have%20optional%20.../near/210159911" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232204.20CodegenError.20should.20have.20optional.20.2E.2E.2E.html#210159911">(Sep 15 2020 at 17:18)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/2204#issuecomment-692855653">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2204">Issue #2204</a>:</p>
<blockquote>
<p><code>pretty_error</code> takes a reference to <code>isa</code> and <code>func</code>. Doing this would require <code>CodegenError</code> to borrow from them.</p>
</blockquote>



<a name="210163992"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232204%20CodegenError%20should%20have%20optional%20.../near/210163992" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232204.20CodegenError.20should.20have.20optional.20.2E.2E.2E.html#210163992">(Sep 15 2020 at 17:48)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/issues/2204#issuecomment-692874394">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2204">Issue #2204</a>:</p>
<blockquote>
<p>The idea is to take copies of the data gathered from those things and store them into the error, rather than borrow those things.</p>
</blockquote>



<a name="210169072"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232204%20CodegenError%20should%20have%20optional%20.../near/210169072" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232204.20CodegenError.20should.20have.20optional.20.2E.2E.2E.html#210169072">(Sep 15 2020 at 18:24)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/2204#issuecomment-692892547">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2204">Issue #2204</a>:</p>
<blockquote>
<p><code>pretty_error</code> needs the entire function, as the error shows the full function source. From the target isa it needs the register_info and encoding_info.</p>
</blockquote>



<a name="211797936"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232204%20CodegenError%20should%20have%20optional%20.../near/211797936" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232204.20CodegenError.20should.20have.20optional.20.2E.2E.2E.html#211797936">(Sep 30 2020 at 17:59)</a>:</h4>
<p>taegyunkim <a href="https://github.com/bytecodealliance/wasmtime/issues/2204#issuecomment-701549817">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2204">Issue #2204</a>:</p>
<blockquote>
<p>I'd like to take this issue. Is anyone looking into this? </p>
</blockquote>



<a name="211806195"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232204%20CodegenError%20should%20have%20optional%20.../near/211806195" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232204.20CodegenError.20should.20have.20optional.20.2E.2E.2E.html#211806195">(Sep 30 2020 at 19:09)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/issues/2204#issuecomment-701587120">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2204">Issue #2204</a>:</p>
<blockquote>
<p>It's all you @taegyunkim!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>