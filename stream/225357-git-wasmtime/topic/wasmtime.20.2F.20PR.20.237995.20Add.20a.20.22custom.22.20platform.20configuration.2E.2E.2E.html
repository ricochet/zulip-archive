<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7995 Add a &quot;custom&quot; platform configuration... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html">wasmtime / PR #7995 Add a &quot;custom&quot; platform configuration...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="423116561"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423116561" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423116561">(Feb 24 2024 at 00:49)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a> from <code>alexcrichton:min-platform-upstream</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This commit leverages adds a new "platform" to Wasmtime to be supported in the <code>crates/runtime/src/sys</code> folder. This joins preexisting platforms such as Unix and Windows. The goal of this platform is to be an opt-in way to build Wasmtime for targets that don't have a predefined way to run.</p>
<p>The new "custom" platform requires <code>--cfg wasmtime_custom_platform</code> to be passed to the Rust compiler, for example by using <code>RUSTFLAGS</code>. This new platform bottoms out in a C API that is intended to be small and Linux-like. The C API is effectively the interface to virtual memory that Wasmtime requires. This C API is also available as a header file at <code>examples/min-platform/embedding/wasmtime-platform.h</code> (generated by <code>cbindgen</code>).</p>
<p>The main purpose of this is to make it easier to experiment with porting Wasmtime to new platforms. By decoupling a platform implementation from Wasmtime itself it should be possible to run these experiments out-of-tree. An example of this I've been working on is getting Wasmtime running on bare-metal with a custom kernel. This support enables defining the platform interface of the custom kernel's syscalls outside of Wasmtime.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="423116562"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423116562" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423116562">(Feb 24 2024 at 00:49)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423116564"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423116564" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423116564">(Feb 24 2024 at 00:49)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423116565"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423116565" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423116565">(Feb 24 2024 at 00:49)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423116808"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423116808" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423116808">(Feb 24 2024 at 00:53)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423117355"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423117355" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423117355">(Feb 24 2024 at 01:01)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423117460"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423117460" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423117460">(Feb 24 2024 at 01:02)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423117954"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423117954" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423117954">(Feb 24 2024 at 01:09)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423157715"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423157715" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423157715">(Feb 24 2024 at 10:19)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1899396106">PR review</a>.</p>



<a name="423157716"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423157716" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423157716">(Feb 24 2024 at 10:19)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1501389971">PR review comment</a>:</p>
<blockquote>
<p>Is <code>ptr</code> guaranteed to stay valid until the memory image is freed or does the implementation need to copy the data elsewhere?</p>
</blockquote>



<a name="423157835"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423157835" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423157835">(Feb 24 2024 at 10:21)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1899396242">PR review</a>.</p>



<a name="423157836"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423157836" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423157836">(Feb 24 2024 at 10:21)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1501390467">PR review comment</a>:</p>
<blockquote>
<p>I assume wasmtime_munmap is used to unmap this memory range again. Is that correct?</p>
</blockquote>



<a name="423157926"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423157926" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423157926">(Feb 24 2024 at 10:22)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1899396377">PR review</a>.</p>



<a name="423157927"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423157927" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423157927">(Feb 24 2024 at 10:22)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1501390799">PR review comment</a>:</p>
<blockquote>
<p>Why does this need access to the memory image? It only modifies the VM mapping, right? And doesn't need to read the original content of the memory image.</p>
</blockquote>



<a name="423157953"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423157953" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423157953">(Feb 24 2024 at 10:23)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1899396423">PR review</a>.</p>



<a name="423157954"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423157954" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423157954">(Feb 24 2024 at 10:23)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1501390910">PR review comment</a>:</p>
<blockquote>
<p>Are all derived VM mappings guaranteed to be unmapped before calling this?</p>
</blockquote>



<a name="423158096"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423158096" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423158096">(Feb 24 2024 at 10:24)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1899396584">PR review</a>.</p>



<a name="423158097"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423158097" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423158097">(Feb 24 2024 at 10:24)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1501391524">PR review comment</a>:</p>
<blockquote>
<p>Why not return an error and have the rust side panic? That would allow recovering from the error. It would be pretty bad for a kernel to simply crash because of an allocation failure.</p>
</blockquote>



<a name="423158331"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423158331" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423158331">(Feb 24 2024 at 10:27)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1899396820">PR review</a>.</p>



<a name="423158332"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423158332" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423158332">(Feb 24 2024 at 10:27)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1501392239">PR review comment</a>:</p>
<blockquote>
<p>What is the empty symbol used for? Is it for the <code>STT_FILE</code> symbols? If so skipping <code>SymbolKind::File</code> above makes more sense I think.</p>
</blockquote>



<a name="423416287"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423416287" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423416287">(Feb 26 2024 at 15:08)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1901080975">PR review</a>:</p>
<blockquote>
<p>r=me with answers to bjorn3's questions/comments</p>
</blockquote>



<a name="423416288"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423416288" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423416288">(Feb 26 2024 at 15:08)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1901080975">PR review</a>:</p>
<blockquote>
<p>r=me with answers to bjorn3's questions/comments</p>
</blockquote>



<a name="423416290"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423416290" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423416290">(Feb 26 2024 at 15:08)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1502736675">PR review comment</a>:</p>
<blockquote>
<p>Can we remove "probably" here? If I were attempting to implement this API, I wouldn't know what to do with that.</p>
</blockquote>



<a name="423416292"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423416292" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423416292">(Feb 26 2024 at 15:08)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1502741230">PR review comment</a>:</p>
<blockquote>
<p>The nomicon recommends against uninhabited types to represent C opaque types: <a href="https://doc.rust-lang.org/nomicon/ffi.html#representing-opaque-structs">https://doc.rust-lang.org/nomicon/ffi.html#representing-opaque-structs</a></p>
<p>Any reason not to follow their guidance here?</p>
</blockquote>



<a name="423416293"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423416293" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423416293">(Feb 26 2024 at 15:08)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1502748982">PR review comment</a>:</p>
<blockquote>
<p>Does <code>len</code> have to be a multiple of the system's page size? Is the resulting memory image rounded up to the page size? Is this stuff visible at all to Wasmtime?</p>
</blockquote>



<a name="423416296"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423416296" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423416296">(Feb 26 2024 at 15:08)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1502744785">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>    /// Returns 1 if `wasmtime_longjmp` was not called and `callback` returned.
</code></pre></div><br>
</p>
</blockquote>



<a name="423449505"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423449505" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423449505">(Feb 26 2024 at 17:31)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1901584979">PR review</a>.</p>



<a name="423449506"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423449506" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423449506">(Feb 26 2024 at 17:31)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1503037924">PR review comment</a>:</p>
<blockquote>
<p>Good question, I'll expand the docs to indicate that a copy is required.</p>
</blockquote>



<a name="423449824"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423449824" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423449824">(Feb 26 2024 at 17:33)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1901587996">PR review</a>.</p>



<a name="423449826"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423449826" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423449826">(Feb 26 2024 at 17:33)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1503040255">PR review comment</a>:</p>
<blockquote>
<p>Correct, I'll expand the docs here</p>
</blockquote>



<a name="423450570"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423450570" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423450570">(Feb 26 2024 at 17:37)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1901596576">PR review</a>.</p>



<a name="423450572"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423450572" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423450572">(Feb 26 2024 at 17:37)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1503047224">PR review comment</a>:</p>
<blockquote>
<p>I was mostly just reflecting the existing Wasmtime API, which has not been meticulously thought out, onto the C API. You're right though that this entire function I think is not necessary, and I've replaced it with a call to <code>wasmtime_mmap_remap</code>.</p>
</blockquote>



<a name="423450857"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423450857" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423450857">(Feb 26 2024 at 17:39)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1901599349">PR review</a>.</p>



<a name="423450858"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423450858" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423450858">(Feb 26 2024 at 17:39)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1503049452">PR review comment</a>:</p>
<blockquote>
<p>Not currently, no, I'll expand the documentation.</p>
</blockquote>



<a name="423451234"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423451234" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423451234">(Feb 26 2024 at 17:41)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1901604181">PR review</a>.</p>



<a name="423451235"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423451235" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423451235">(Feb 26 2024 at 17:41)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1503053469">PR review comment</a>:</p>
<blockquote>
<p>Ah I didn't question it much, but turns out it's <code>SymbolKind::Null</code> so I filtered that out to remove this case.</p>
</blockquote>



<a name="423451800"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423451800" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423451800">(Feb 26 2024 at 17:46)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1901612152">PR review</a>.</p>



<a name="423451802"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423451802" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423451802">(Feb 26 2024 at 17:46)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1503059912">PR review comment</a>:</p>
<blockquote>
<p>Sort of, but also sort of not. I've expanded the words here to describe that the meaning of an unhandled trap is embedder-specific. Basically if Wasmtime doesn't handle a <code>SIGSEGV</code>, for example, it's up to the application of what to do next. Wasmtime can't know whether that is surely an "abort the process" kind of exception.</p>
</blockquote>



<a name="423452300"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423452300" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423452300">(Feb 26 2024 at 17:49)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1901619745">PR review</a>.</p>



<a name="423452301"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423452301" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423452301">(Feb 26 2024 at 17:49)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1503065476">PR review comment</a>:</p>
<blockquote>
<p>Unfortunately that recommendation doesn't generate the right C header bindings.</p>
<p>I'm also not aware of any compiler issues using <code>*mut Uninhabited</code>, which is what these bindings are doing. While I know <code>&amp;mut Uninhabited</code> is bad, the former is not plagued with the same issues as far as I'm aware.</p>
</blockquote>



<a name="423452622"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423452622" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423452622">(Feb 26 2024 at 17:51)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1901623676">PR review</a>.</p>



<a name="423452624"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423452624" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423452624">(Feb 26 2024 at 17:51)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1503068409">PR review comment</a>:</p>
<blockquote>
<p>Yes they're both guaranteed to be page aligned, updated docs to match.</p>
<blockquote>
<p>Is this stuff visible at all to Wasmtime?</p>
</blockquote>
<p>Could you elaborate on this? (e.g. what you mean by "stuff")</p>
</blockquote>



<a name="423452676"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423452676" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423452676">(Feb 26 2024 at 17:51)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423452992"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423452992" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423452992">(Feb 26 2024 at 17:53)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1901628302">PR review</a>.</p>



<a name="423452993"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423452993" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423452993">(Feb 26 2024 at 17:53)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1503071792">PR review comment</a>:</p>
<blockquote>
<p>I'd be tempted to say the embedding should crash in an embedding-defined way if possible to get better stack frames/debugging/etc. This API isn't intended to be set in stone until the end of time so I'm imagining it can change in the future to returning a result. In the meantime though whether the embedder aborts or Wasmtime aborts seems six-to-one-half-dozen-or-the-other to me</p>
</blockquote>



<a name="423463514"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423463514" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423463514">(Feb 26 2024 at 18:57)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1901749176">PR review</a>.</p>



<a name="423463536"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423463536" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423463536">(Feb 26 2024 at 18:57)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1503145367">PR review comment</a>:</p>
<blockquote>
<p>The embedder could return an error bringing down just a single wasm instance without crashing the entire process.</p>
</blockquote>



<a name="423668405"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423668405" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423668405">(Feb 27 2024 at 18:09)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#pullrequestreview-1904423241">PR review</a>.</p>



<a name="423668406"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423668406" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423668406">(Feb 27 2024 at 18:09)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#discussion_r1504724747">PR review comment</a>:</p>
<blockquote>
<p>That's a good point yeah, and it's also true that <code>Result</code> is already in all these locations, so you've convinced me and I'll remove the assumed aborts here</p>
</blockquote>



<a name="423671545"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423671545" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423671545">(Feb 27 2024 at 18:28)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423671648"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423671648" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423671648">(Feb 27 2024 at 18:29)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/7995#issuecomment-1967355023">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>:</p>
<blockquote>
<p>Ok I've updated to make the C API fallible and Wasmtime propagates the error codes (thanks for pushing back on that @bjorn3!)</p>
</blockquote>



<a name="423871220"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423871220" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423871220">(Feb 28 2024 at 17:49)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423871227"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423871227" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423871227">(Feb 28 2024 at 17:49)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423886936"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423886936" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423886936">(Feb 28 2024 at 19:22)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423893022"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423893022" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423893022">(Feb 28 2024 at 20:00)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<a name="423901064"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237995%20Add%20a%20%22custom%22%20platform%20configuration.../near/423901064" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237995.20Add.20a.20.22custom.22.20platform.20configuration.2E.2E.2E.html#423901064">(Feb 28 2024 at 20:52)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7995">PR #7995</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>