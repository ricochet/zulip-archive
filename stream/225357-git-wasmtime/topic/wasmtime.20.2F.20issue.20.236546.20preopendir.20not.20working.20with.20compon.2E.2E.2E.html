<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6546 preopendir not working with compon... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html">wasmtime / issue #6546 preopendir not working with compon...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="364793729"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236546%20preopendir%20not%20working%20with%20compon.../near/364793729" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html#364793729">(Jun 09 2023 at 09:47)</a>:</h4>
<p>hurae opened <a href="https://github.com/bytecodealliance/wasmtime/issues/6546">issue #6546</a>:</p>
<blockquote>
<h3>Test Case</h3>
<p>Simple read file metadata example, works fine with wasi preview1, but panic for component model.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// wit/see.wit</span>
<span class="n">package</span><span class="w"> </span><span class="n">plugin</span>:<span class="nc">see</span>

<span class="n">world</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">export</span><span class="w"> </span><span class="n">run</span>: <span class="nc">func</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nc">result</span>
<span class="p">}</span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// seesee/src/lib.rs</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">fs</span>::<span class="n">metadata</span><span class="p">;</span>

<span class="n">wit_bindgen</span>::<span class="n">generate</span><span class="o">!</span><span class="p">({</span>
<span class="w">    </span><span class="n">path</span>: <span class="s">"../wit/see.wit"</span><span class="p">,</span>
<span class="w">    </span><span class="n">world</span>: <span class="s">"see"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">struct</span> <span class="nc">Checks</span><span class="p">;</span>

<span class="k">impl</span><span class="w"> </span><span class="n">See</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Checks</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">run</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"/tmp/hello.txt"</span><span class="p">;</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">metadata</span><span class="p">(</span><span class="n">path</span><span class="p">).</span><span class="n">unwrap</span><span class="p">();</span>
<span class="w">        </span><span class="fm">println!</span><span class="p">(</span><span class="s">"metadata: {:?}"</span><span class="p">,</span><span class="w"> </span><span class="n">metadata</span><span class="p">);</span>
<span class="w">        </span><span class="nb">Ok</span><span class="p">(())</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">export_see</span><span class="o">!</span><span class="p">(</span><span class="n">Checks</span><span class="p">);</span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// part of Cargo.toml</span>
<span class="n">wasmtime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"https://github.com/bytecodealliance/wasmtime"</span><span class="p">,</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"release-10.0.0"</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="o">-</span><span class="n">features</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="s">"cranelift"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"component-model"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"async"</span><span class="p">,</span>
<span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"https://github.com/bytecodealliance/wasmtime"</span><span class="p">,</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"release-10.0.0"</span><span class="p">}</span>
</code></pre></div>
<h3>Steps to Reproduce</h3>
<ul>
<li>new a rust project placed with above code</li>
<li>run <code>cargo build --target wasm32-wasi --release</code></li>
<li>run <code>wasm-tools component new seesee.wasm --adapt wasi_snapshot_preview1=component-type-version-3-f7ae056/wasi_snapshot_preview1.reactor.wasm -o seesee.component.wasm</code> to produce the component wasm file</li>
<li>create <code>/tmp/hello.txt</code> file with content <code>hahaha</code></li>
<li>run <code>call_run</code> func with api provided by wasmtime crate and set preopened_dir with <code>/tmp</code>.</li>
</ul>
<p>The last step is just a copy of <code>src/commands/run.rs</code> which replaced all related things to component version.</p>
<h3>Expected Results</h3>
<p>print metadata of file to stdout.</p>
<h3>Actual Results</h3>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="err">└─</span><span class="o">&gt;</span><span class="w"> </span><span class="err">❯</span><span class="w">  </span><span class="n">cargo</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="o">../</span><span class="n">rskyeye</span><span class="o">/</span><span class="n">seesee</span><span class="o">/</span><span class="n">seesee</span><span class="p">.</span><span class="n">component</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span>
<span class="w">    </span><span class="n">Finished</span><span class="w"> </span><span class="n">dev</span><span class="w"> </span><span class="p">[</span><span class="n">unoptimized</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">debuginfo</span><span class="p">]</span><span class="w"> </span><span class="n">target</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">0.18</span><span class="n">s</span>
<span class="w">     </span><span class="n">Running</span><span class="w"> </span><span class="err">`</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">runner</span><span class="w"> </span><span class="o">../</span><span class="n">rskyeye</span><span class="o">/</span><span class="n">seesee</span><span class="o">/</span><span class="n">seesee</span><span class="p">.</span><span class="n">component</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="err">`</span>
<span class="n">Error</span>: <span class="nc">error</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
    <span class="mi">0</span>: <span class="mh">0x16a4c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!&lt;</span><span class="n">core</span>::<span class="n">result</span>::<span class="nb">Result</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="n">E</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">TrappingUnwrap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span>::<span class="n">trapping_unwrap</span>::<span class="n">hf0327b60ad60be4c</span>
<span class="w">    </span><span class="mi">1</span>: <span class="mh">0x1669b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">descriptors</span>::<span class="n">Descriptors</span>::<span class="n">new</span>::<span class="n">h128f28896896514d</span>
<span class="w">    </span><span class="mi">2</span>: <span class="mh">0x1506b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">State</span>::<span class="n">descriptors</span>::<span class="n">h5db82afb67da21a2</span>
<span class="w">    </span><span class="mi">3</span>: <span class="mh">0x151f1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">fd_prestat_get</span>
<span class="w">    </span><span class="mi">4</span>: <span class="mh">0x184c9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">shim</span><span class="o">!</span><span class="n">adapt</span><span class="o">-</span><span class="n">wasi_snapshot_preview1</span><span class="o">-</span><span class="n">fd_prestat_get</span>
<span class="w">    </span><span class="mi">5</span>: <span class="mh">0xcc34</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasi_fd_prestat_get</span>
<span class="w">    </span><span class="mi">6</span>: <span class="mh">0xcf45</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasilibc_populate_preopens</span>
<span class="w">    </span><span class="mi">7</span>:  <span class="mh">0xa68</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasm_call_ctors</span>
<span class="w">    </span><span class="mi">8</span>: <span class="mh">0x573e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">run</span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span>: <span class="nc">wasm</span><span class="w"> </span><span class="err">`</span><span class="n">unreachable</span><span class="err">`</span><span class="w"> </span><span class="n">instruction</span><span class="w"> </span><span class="n">executed</span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: </p>
<p>Tried both branch "release-10.0.0" and commit "92024ad11728efa9b3b59b426ebc7cc817cebf6b" which is the last component type version 2 version.</p>
<p>component adapter:</p>
<p>Tried both commit <code>92024ad</code> (component type version 2, with wasm-tools 1.0.34) and <code>f7ae056</code> (component type version 3, with wasm-tools 1.0.35) with exactly the same commit of <code>wasmtime</code> and <code>wasmtime_wasi</code>.</p>
<p>Operating system: <code>Linux fedora 6.2.14-300.fc38.x86_64</code></p>
<p>Architecture: AMD64</p>
<h3>Extra Info</h3>
<p>The same wasm file works before composing to component with adapter when run following command on all of version <code>8.0.0</code>, <code>9.0.0</code>, <code>9.0.3</code> and commit <code>92024ad11728efa9b3b59b426ebc7cc817cebf6b</code>:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">wasmtime</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">seesee</span><span class="p">.</span><span class="n">wasi</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">invoke</span><span class="w"> </span><span class="n">run</span>
</code></pre></div>
</blockquote>



<a name="364793731"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236546%20preopendir%20not%20working%20with%20compon.../near/364793731" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html#364793731">(Jun 09 2023 at 09:47)</a>:</h4>
<p>hurae labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/6546">issue #6546</a>:</p>
<blockquote>
<h3>Test Case</h3>
<p>Simple read file metadata example, works fine with wasi preview1, but panic for component model.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// wit/see.wit</span>
<span class="n">package</span><span class="w"> </span><span class="n">plugin</span>:<span class="nc">see</span>

<span class="n">world</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">export</span><span class="w"> </span><span class="n">run</span>: <span class="nc">func</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nc">result</span>
<span class="p">}</span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// seesee/src/lib.rs</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">fs</span>::<span class="n">metadata</span><span class="p">;</span>

<span class="n">wit_bindgen</span>::<span class="n">generate</span><span class="o">!</span><span class="p">({</span>
<span class="w">    </span><span class="n">path</span>: <span class="s">"../wit/see.wit"</span><span class="p">,</span>
<span class="w">    </span><span class="n">world</span>: <span class="s">"see"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">struct</span> <span class="nc">Checks</span><span class="p">;</span>

<span class="k">impl</span><span class="w"> </span><span class="n">See</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Checks</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">run</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"/tmp/hello.txt"</span><span class="p">;</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">metadata</span><span class="p">(</span><span class="n">path</span><span class="p">).</span><span class="n">unwrap</span><span class="p">();</span>
<span class="w">        </span><span class="fm">println!</span><span class="p">(</span><span class="s">"metadata: {:?}"</span><span class="p">,</span><span class="w"> </span><span class="n">metadata</span><span class="p">);</span>
<span class="w">        </span><span class="nb">Ok</span><span class="p">(())</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">export_see</span><span class="o">!</span><span class="p">(</span><span class="n">Checks</span><span class="p">);</span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// part of Cargo.toml</span>
<span class="n">wasmtime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"https://github.com/bytecodealliance/wasmtime"</span><span class="p">,</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"release-10.0.0"</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="o">-</span><span class="n">features</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="s">"cranelift"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"component-model"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"async"</span><span class="p">,</span>
<span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"https://github.com/bytecodealliance/wasmtime"</span><span class="p">,</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"release-10.0.0"</span><span class="p">}</span>
</code></pre></div>
<h3>Steps to Reproduce</h3>
<ul>
<li>new a rust project placed with above code</li>
<li>run <code>cargo build --target wasm32-wasi --release</code></li>
<li>run <code>wasm-tools component new seesee.wasm --adapt wasi_snapshot_preview1=component-type-version-3-f7ae056/wasi_snapshot_preview1.reactor.wasm -o seesee.component.wasm</code> to produce the component wasm file</li>
<li>create <code>/tmp/hello.txt</code> file with content <code>hahaha</code></li>
<li>run <code>call_run</code> func with api provided by wasmtime crate and set preopened_dir with <code>/tmp</code>.</li>
</ul>
<p>The last step is just a copy of <code>src/commands/run.rs</code> which replaced all related things to component version.</p>
<h3>Expected Results</h3>
<p>print metadata of file to stdout.</p>
<h3>Actual Results</h3>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="err">└─</span><span class="o">&gt;</span><span class="w"> </span><span class="err">❯</span><span class="w">  </span><span class="n">cargo</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="o">../</span><span class="n">rskyeye</span><span class="o">/</span><span class="n">seesee</span><span class="o">/</span><span class="n">seesee</span><span class="p">.</span><span class="n">component</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span>
<span class="w">    </span><span class="n">Finished</span><span class="w"> </span><span class="n">dev</span><span class="w"> </span><span class="p">[</span><span class="n">unoptimized</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">debuginfo</span><span class="p">]</span><span class="w"> </span><span class="n">target</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">0.18</span><span class="n">s</span>
<span class="w">     </span><span class="n">Running</span><span class="w"> </span><span class="err">`</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">runner</span><span class="w"> </span><span class="o">../</span><span class="n">rskyeye</span><span class="o">/</span><span class="n">seesee</span><span class="o">/</span><span class="n">seesee</span><span class="p">.</span><span class="n">component</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="err">`</span>
<span class="n">Error</span>: <span class="nc">error</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
    <span class="mi">0</span>: <span class="mh">0x16a4c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!&lt;</span><span class="n">core</span>::<span class="n">result</span>::<span class="nb">Result</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="n">E</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">TrappingUnwrap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span>::<span class="n">trapping_unwrap</span>::<span class="n">hf0327b60ad60be4c</span>
<span class="w">    </span><span class="mi">1</span>: <span class="mh">0x1669b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">descriptors</span>::<span class="n">Descriptors</span>::<span class="n">new</span>::<span class="n">h128f28896896514d</span>
<span class="w">    </span><span class="mi">2</span>: <span class="mh">0x1506b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">State</span>::<span class="n">descriptors</span>::<span class="n">h5db82afb67da21a2</span>
<span class="w">    </span><span class="mi">3</span>: <span class="mh">0x151f1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">fd_prestat_get</span>
<span class="w">    </span><span class="mi">4</span>: <span class="mh">0x184c9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">shim</span><span class="o">!</span><span class="n">adapt</span><span class="o">-</span><span class="n">wasi_snapshot_preview1</span><span class="o">-</span><span class="n">fd_prestat_get</span>
<span class="w">    </span><span class="mi">5</span>: <span class="mh">0xcc34</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasi_fd_prestat_get</span>
<span class="w">    </span><span class="mi">6</span>: <span class="mh">0xcf45</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasilibc_populate_preopens</span>
<span class="w">    </span><span class="mi">7</span>:  <span class="mh">0xa68</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasm_call_ctors</span>
<span class="w">    </span><span class="mi">8</span>: <span class="mh">0x573e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">run</span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span>: <span class="nc">wasm</span><span class="w"> </span><span class="err">`</span><span class="n">unreachable</span><span class="err">`</span><span class="w"> </span><span class="n">instruction</span><span class="w"> </span><span class="n">executed</span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: </p>
<p>Tried both branch "release-10.0.0" and commit "92024ad11728efa9b3b59b426ebc7cc817cebf6b" which is the last component type version 2 version.</p>
<p>component adapter:</p>
<p>Tried both commit <code>92024ad</code> (component type version 2, with wasm-tools 1.0.34) and <code>f7ae056</code> (component type version 3, with wasm-tools 1.0.35) with exactly the same commit of <code>wasmtime</code> and <code>wasmtime_wasi</code>.</p>
<p>Operating system: <code>Linux fedora 6.2.14-300.fc38.x86_64</code></p>
<p>Architecture: AMD64</p>
<h3>Extra Info</h3>
<p>The same wasm file works before composing to component with adapter when run following command on all of version <code>8.0.0</code>, <code>9.0.0</code>, <code>9.0.3</code> and commit <code>92024ad11728efa9b3b59b426ebc7cc817cebf6b</code>:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">wasmtime</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">seesee</span><span class="p">.</span><span class="n">wasi</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">invoke</span><span class="w"> </span><span class="n">run</span>
</code></pre></div>
</blockquote>



<a name="364884025"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236546%20preopendir%20not%20working%20with%20compon.../near/364884025" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html#364884025">(Jun 09 2023 at 15:00)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/issues/6546#issuecomment-1584726005">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6546">issue #6546</a>:</p>
<blockquote>
<p>Can you please add <code>RUST_LOG=wasmtime_wasi=trace</code> and reproduce again? And initialize the default tracing subscriber at the start of your runner if it doesn't already have one.</p>
</blockquote>



<a name="365426972"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236546%20preopendir%20not%20working%20with%20compon.../near/365426972" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html#365426972">(Jun 12 2023 at 03:13)</a>:</h4>
<p>hurae <a href="https://github.com/bytecodealliance/wasmtime/issues/6546#issuecomment-1586511497">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6546">issue #6546</a>:</p>
<blockquote>
<p><code>RUST_LOG=wasmtime_wasi=trace</code> didn't produce any log. By setting <code>RUST_LOG=trace,cranelift_codegen=info,wasmtime_cranelift::compiler=info,cranelift_wasm::func_translator=info</code>, I got this:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">wasmtime</span><span class="p">.</span><span class="n">engine</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">symtab</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">strtab</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">shstrtab</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">======</span><span class="w"> </span><span class="n">Capturing</span><span class="w"> </span><span class="n">Backtrace</span><span class="w"> </span><span class="o">======</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">contiguous</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="o">===</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">trampoline_sp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00007f3b83873220</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w">    </span><span class="n">initial</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00007f3b83897e8f</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w">    </span><span class="n">initial</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00007f3b83872ff0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83897e8f</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83872ff0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838976f2</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873090</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83894d60</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838730e0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83895037</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873140</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838994e6</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873170</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83890b4b</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873180</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b8389123d</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838731d0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b8387501f</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838731e0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83880889</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873210</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">Done</span><span class="w"> </span><span class="n">tracing</span><span class="w"> </span><span class="n">contiguous</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="o">===</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">======</span><span class="w"> </span><span class="n">Done</span><span class="w"> </span><span class="n">Capturing</span><span class="w"> </span><span class="n">Backtrace</span><span class="w"> </span><span class="p">(</span><span class="n">reached</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">activations</span><span class="p">)</span><span class="w"> </span><span class="o">======</span>
<span class="n">Error</span>: <span class="nc">error</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
    <span class="mi">0</span>: <span class="mh">0x19db4</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!&lt;</span><span class="n">core</span>::<span class="n">result</span>::<span class="nb">Result</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="n">E</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">TrappingUnwrap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span>::<span class="n">trapping_unwrap</span>::<span class="n">hf0327b60ad60be4c</span>
<span class="w">    </span><span class="mi">1</span>: <span class="mh">0x19a03</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">descriptors</span>::<span class="n">Descriptors</span>::<span class="n">new</span>::<span class="n">h128f28896896514d</span>
<span class="w">    </span><span class="mi">2</span>: <span class="mh">0x183d3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">State</span>::<span class="n">descriptors</span>::<span class="n">h5db82afb67da21a2</span>
<span class="w">    </span><span class="mi">3</span>: <span class="mh">0x18559</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">fd_prestat_get</span>
<span class="w">    </span><span class="mi">4</span>: <span class="mh">0x1b831</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">shim</span><span class="o">!</span><span class="n">adapt</span><span class="o">-</span><span class="n">wasi_snapshot_preview1</span><span class="o">-</span><span class="n">fd_prestat_get</span>
<span class="w">    </span><span class="mi">5</span>: <span class="mh">0xec31</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasi_fd_prestat_get</span>
<span class="w">    </span><span class="mi">6</span>: <span class="mh">0xef42</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasilibc_populate_preopens</span>
<span class="w">    </span><span class="mi">7</span>:  <span class="mh">0xabb</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasm_call_ctors</span>
<span class="w">    </span><span class="mi">8</span>: <span class="mh">0x622d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">run</span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span>: <span class="nc">wasm</span><span class="w"> </span><span class="err">`</span><span class="n">unreachable</span><span class="err">`</span><span class="w"> </span><span class="n">instruction</span><span class="w"> </span><span class="n">executed</span>
</code></pre></div>
<p>It seems not helpful either.</p>
</blockquote>



<a name="365427194"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236546%20preopendir%20not%20working%20with%20compon.../near/365427194" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html#365427194">(Jun 12 2023 at 03:15)</a>:</h4>
<p>hurae edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/6546#issuecomment-1586511497">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6546">issue #6546</a>:</p>
<blockquote>
<p><code>RUST_LOG=wasmtime_wasi=trace</code> didn't produce any log. By setting <code>RUST_LOG=trace,cranelift_codegen=info,wasmtime_cranelift::compiler=info,cranelift_wasm::func_translator=info</code>, I got this:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">wasmtime</span><span class="p">.</span><span class="n">engine</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">symtab</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">strtab</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">shstrtab</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">======</span><span class="w"> </span><span class="n">Capturing</span><span class="w"> </span><span class="n">Backtrace</span><span class="w"> </span><span class="o">======</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">contiguous</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="o">===</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">trampoline_sp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00007f3b83873220</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w">    </span><span class="n">initial</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00007f3b83897e8f</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w">    </span><span class="n">initial</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00007f3b83872ff0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83897e8f</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83872ff0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838976f2</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873090</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83894d60</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838730e0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83895037</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873140</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838994e6</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873170</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83890b4b</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873180</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b8389123d</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838731d0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b8387501f</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838731e0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83880889</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873210</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">Done</span><span class="w"> </span><span class="n">tracing</span><span class="w"> </span><span class="n">contiguous</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="o">===</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">======</span><span class="w"> </span><span class="n">Done</span><span class="w"> </span><span class="n">Capturing</span><span class="w"> </span><span class="n">Backtrace</span><span class="w"> </span><span class="p">(</span><span class="n">reached</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">activations</span><span class="p">)</span><span class="w"> </span><span class="o">======</span>
<span class="n">Error</span>: <span class="nc">error</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
    <span class="mi">0</span>: <span class="mh">0x19db4</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!&lt;</span><span class="n">core</span>::<span class="n">result</span>::<span class="nb">Result</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="n">E</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">TrappingUnwrap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span>::<span class="n">trapping_unwrap</span>::<span class="n">hf0327b60ad60be4c</span>
<span class="w">    </span><span class="mi">1</span>: <span class="mh">0x19a03</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">descriptors</span>::<span class="n">Descriptors</span>::<span class="n">new</span>::<span class="n">h128f28896896514d</span>
<span class="w">    </span><span class="mi">2</span>: <span class="mh">0x183d3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">State</span>::<span class="n">descriptors</span>::<span class="n">h5db82afb67da21a2</span>
<span class="w">    </span><span class="mi">3</span>: <span class="mh">0x18559</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">fd_prestat_get</span>
<span class="w">    </span><span class="mi">4</span>: <span class="mh">0x1b831</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">shim</span><span class="o">!</span><span class="n">adapt</span><span class="o">-</span><span class="n">wasi_snapshot_preview1</span><span class="o">-</span><span class="n">fd_prestat_get</span>
<span class="w">    </span><span class="mi">5</span>: <span class="mh">0xec31</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasi_fd_prestat_get</span>
<span class="w">    </span><span class="mi">6</span>: <span class="mh">0xef42</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasilibc_populate_preopens</span>
<span class="w">    </span><span class="mi">7</span>:  <span class="mh">0xabb</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasm_call_ctors</span>
<span class="w">    </span><span class="mi">8</span>: <span class="mh">0x622d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">run</span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span>: <span class="nc">wasm</span><span class="w"> </span><span class="err">`</span><span class="n">unreachable</span><span class="err">`</span><span class="w"> </span><span class="n">instruction</span><span class="w"> </span><span class="n">executed</span>
</code></pre></div>
<p>It seems not helpful either. By the way, here is my main function:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#[tokio::main(flavor = </span><span class="s">"multi_thread"</span><span class="cp">, worker_threads = 4)]</span>
<span class="k">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Initialize the default subscriber</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">subscriber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FmtSubscriber</span>::<span class="n">builder</span><span class="p">().</span><span class="n">finish</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Set the default subscriber for the application</span>
<span class="w">    </span><span class="n">tracing</span>::<span class="n">subscriber</span>::<span class="n">set_global_default</span><span class="p">(</span><span class="n">subscriber</span><span class="p">).</span><span class="n">expect</span><span class="p">(</span><span class="s">"Failed to set default subscriber"</span><span class="p">);</span>
<span class="w">    </span><span class="n">env_logger</span>::<span class="n">init</span><span class="p">();</span>

<span class="w">    </span><span class="n">Command</span>::<span class="n">try_parse</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="n">unwrap_or_else</span><span class="p">(</span><span class="o">|</span><span class="n">e</span>: <span class="nc">Error</span><span class="o">|</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">kind</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ErrorKind</span>::<span class="n">InvalidSubcommand</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ErrorKind</span>::<span class="n">UnknownArgument</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Command</span>::<span class="n">Run</span><span class="p">(</span><span class="n">RunCommand</span>::<span class="n">parse</span><span class="p">())</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="n">_</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">exit</span><span class="p">(),</span>
<span class="w">        </span><span class="p">})</span>
<span class="w">        </span><span class="p">.</span><span class="n">execute</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="k">await</span>
<span class="p">}</span>
</code></pre></div>
<p>Hope I didn't make anything wrong.</p>
</blockquote>



<a name="365427514"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236546%20preopendir%20not%20working%20with%20compon.../near/365427514" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html#365427514">(Jun 12 2023 at 03:19)</a>:</h4>
<p>hurae edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/6546#issuecomment-1586511497">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6546">issue #6546</a>:</p>
<blockquote>
<p>Reproduced in branch "release-10.0.0".</p>
<p><code>RUST_LOG=wasmtime_wasi=trace</code> didn't produce any log. By setting <code>RUST_LOG=trace,cranelift_codegen=info,wasmtime_cranelift::compiler=info,cranelift_wasm::func_translator=info</code>, I got this:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">creating</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">09</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">component</span>::<span class="n">dfg</span><span class="p">]</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">InstanceId</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">wasmtime</span><span class="p">.</span><span class="n">engine</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">symtab</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">strtab</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">DEBUG</span><span class="w"> </span><span class="n">wasmtime_jit</span>::<span class="n">code_memory</span><span class="p">]</span><span class="w"> </span><span class="n">ignoring</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="p">.</span><span class="n">shstrtab</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">======</span><span class="w"> </span><span class="n">Capturing</span><span class="w"> </span><span class="n">Backtrace</span><span class="w"> </span><span class="o">======</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">contiguous</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="o">===</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">trampoline_sp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00007f3b83873220</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w">    </span><span class="n">initial</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00007f3b83897e8f</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w">    </span><span class="n">initial</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00007f3b83872ff0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83897e8f</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83872ff0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838976f2</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873090</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83894d60</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838730e0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83895037</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873140</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838994e6</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873170</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83890b4b</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873180</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b8389123d</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838731d0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b8387501f</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b838731e0</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">---</span><span class="w"> </span><span class="n">Tracing</span><span class="w"> </span><span class="n">through</span><span class="w"> </span><span class="n">one</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">---</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">pc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83880889</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="n">fp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x7f3b83873210</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="n">Done</span><span class="w"> </span><span class="n">tracing</span><span class="w"> </span><span class="n">contiguous</span><span class="w"> </span><span class="n">sequence</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Wasm</span><span class="w"> </span><span class="n">frames</span><span class="w"> </span><span class="o">===</span>
<span class="p">[</span><span class="mi">2023</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">12</span><span class="n">T03</span>:<span class="mi">11</span>:<span class="mi">11</span><span class="n">Z</span><span class="w"> </span><span class="n">TRACE</span><span class="w"> </span><span class="n">wasmtime_runtime</span>::<span class="n">traphandlers</span>::<span class="n">backtrace</span><span class="p">]</span><span class="w"> </span><span class="o">======</span><span class="w"> </span><span class="n">Done</span><span class="w"> </span><span class="n">Capturing</span><span class="w"> </span><span class="n">Backtrace</span><span class="w"> </span><span class="p">(</span><span class="n">reached</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">activations</span><span class="p">)</span><span class="w"> </span><span class="o">======</span>
<span class="n">Error</span>: <span class="nc">error</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
    <span class="mi">0</span>: <span class="mh">0x19db4</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!&lt;</span><span class="n">core</span>::<span class="n">result</span>::<span class="nb">Result</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="n">E</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">TrappingUnwrap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span>::<span class="n">trapping_unwrap</span>::<span class="n">hf0327b60ad60be4c</span>
<span class="w">    </span><span class="mi">1</span>: <span class="mh">0x19a03</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">descriptors</span>::<span class="n">Descriptors</span>::<span class="n">new</span>::<span class="n">h128f28896896514d</span>
<span class="w">    </span><span class="mi">2</span>: <span class="mh">0x183d3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">State</span>::<span class="n">descriptors</span>::<span class="n">h5db82afb67da21a2</span>
<span class="w">    </span><span class="mi">3</span>: <span class="mh">0x18559</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">fd_prestat_get</span>
<span class="w">    </span><span class="mi">4</span>: <span class="mh">0x1b831</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">shim</span><span class="o">!</span><span class="n">adapt</span><span class="o">-</span><span class="n">wasi_snapshot_preview1</span><span class="o">-</span><span class="n">fd_prestat_get</span>
<span class="w">    </span><span class="mi">5</span>: <span class="mh">0xec31</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasi_fd_prestat_get</span>
<span class="w">    </span><span class="mi">6</span>: <span class="mh">0xef42</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasilibc_populate_preopens</span>
<span class="w">    </span><span class="mi">7</span>:  <span class="mh">0xabb</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasm_call_ctors</span>
<span class="w">    </span><span class="mi">8</span>: <span class="mh">0x622d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">run</span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span>: <span class="nc">wasm</span><span class="w"> </span><span class="err">`</span><span class="n">unreachable</span><span class="err">`</span><span class="w"> </span><span class="n">instruction</span><span class="w"> </span><span class="n">executed</span>
</code></pre></div>
<p>It seems not helpful either. By the way, here is my main function:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="cp">#[tokio::main(flavor = </span><span class="s">"multi_thread"</span><span class="cp">, worker_threads = 4)]</span>
<span class="k">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// Initialize the default subscriber</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">subscriber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FmtSubscriber</span>::<span class="n">builder</span><span class="p">().</span><span class="n">finish</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// Set the default subscriber for the application</span>
<span class="w">    </span><span class="n">tracing</span>::<span class="n">subscriber</span>::<span class="n">set_global_default</span><span class="p">(</span><span class="n">subscriber</span><span class="p">).</span><span class="n">expect</span><span class="p">(</span><span class="s">"Failed to set default subscriber"</span><span class="p">);</span>
<span class="w">    </span><span class="n">env_logger</span>::<span class="n">init</span><span class="p">();</span>

<span class="w">    </span><span class="n">Command</span>::<span class="n">try_parse</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="n">unwrap_or_else</span><span class="p">(</span><span class="o">|</span><span class="n">e</span>: <span class="nc">Error</span><span class="o">|</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">kind</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">ErrorKind</span>::<span class="n">InvalidSubcommand</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ErrorKind</span>::<span class="n">UnknownArgument</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">Command</span>::<span class="n">Run</span><span class="p">(</span><span class="n">RunCommand</span>::<span class="n">parse</span><span class="p">())</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="n">_</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">e</span><span class="p">.</span><span class="n">exit</span><span class="p">(),</span>
<span class="w">        </span><span class="p">})</span>
<span class="w">        </span><span class="p">.</span><span class="n">execute</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="k">await</span>
<span class="p">}</span>
</code></pre></div>
<p>Hope I didn't make anything wrong.</p>
</blockquote>



<a name="365442107"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236546%20preopendir%20not%20working%20with%20compon.../near/365442107" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html#365442107">(Jun 12 2023 at 05:20)</a>:</h4>
<p>hurae <a href="https://github.com/bytecodealliance/wasmtime/issues/6546#issuecomment-1586601410">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6546">issue #6546</a>:</p>
<blockquote>
<p>Is this the right combination?</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="p">{</span>
<span class="w">    </span><span class="n">Config</span><span class="p">,</span><span class="w"> </span><span class="n">Engine</span><span class="p">,</span><span class="w"> </span><span class="n">InstanceAllocationStrategy</span><span class="p">,</span><span class="w"> </span><span class="n">OptLevel</span><span class="p">,</span><span class="w"> </span><span class="n">ProfilingStrategy</span><span class="p">,</span><span class="w"> </span><span class="n">Store</span><span class="p">,</span>
<span class="w">    </span><span class="n">StoreLimits</span><span class="p">,</span><span class="w"> </span><span class="n">StoreLimitsBuilder</span><span class="p">,</span><span class="w"> </span><span class="n">Strategy</span><span class="p">,</span>
<span class="p">};</span>
<span class="k">use</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">component</span>::<span class="p">{</span><span class="n">Component</span><span class="p">,</span><span class="w"> </span><span class="n">Linker</span><span class="p">};</span>
<span class="k">use</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">component</span>::<span class="n">bindgen</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">StoreLimits</span><span class="p">;</span>
<span class="k">use</span><span class="w"> </span><span class="n">wasmtime_wasi</span>::<span class="p">{</span><span class="n">ambient_authority</span><span class="p">,</span><span class="w"> </span><span class="n">Dir</span><span class="p">};</span>
<span class="k">use</span><span class="w"> </span><span class="n">wasmtime_wasi</span>::<span class="n">preview2</span>::<span class="p">{</span><span class="n">DirPerms</span><span class="p">,</span><span class="w"> </span><span class="n">FilePerms</span><span class="p">,</span><span class="w"> </span><span class="n">Table</span><span class="p">,</span><span class="w"> </span><span class="n">WasiCtxBuilder</span><span class="p">,</span><span class="w"> </span><span class="n">WasiCtx</span><span class="p">,</span><span class="w"> </span><span class="n">WasiView</span><span class="p">};</span>
<span class="k">use</span><span class="w"> </span><span class="n">wasmtime_wasi</span>::<span class="n">preview2</span>::<span class="n">wasi</span>::<span class="n">command</span><span class="p">;</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="368096179"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236546%20preopendir%20not%20working%20with%20compon.../near/368096179" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html#368096179">(Jun 21 2023 at 02:53)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/issues/6546#issuecomment-1599995953">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6546">issue #6546</a>:</p>
<blockquote>
<p>I was on vacation last week. Can you please provide a zip file with a complete reproduction, so I can investigate locally?</p>
</blockquote>



<a name="368158997"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236546%20preopendir%20not%20working%20with%20compon.../near/368158997" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html#368158997">(Jun 21 2023 at 08:49)</a>:</h4>
<p>hurae <a href="https://github.com/bytecodealliance/wasmtime/issues/6546#issuecomment-1600445909">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6546">issue #6546</a>:</p>
<blockquote>
<p>sure, here the full demo with plugin and runner, also bring with the wasm file and trace log.</p>
<p><a href="https://github.com/bytecodealliance/wasmtime/files/11815550/demo.zip">demo.zip</a><br>
</p>
</blockquote>



<a name="368655050"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236546%20preopendir%20not%20working%20with%20compon.../near/368655050" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html#368655050">(Jun 22 2023 at 18:10)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/issues/6546#issuecomment-1603106807">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6546">issue #6546</a>:</p>
<blockquote>
<p>The bug here is that you are throwing away the table used to initialize the WasiCtx, and creating a new one in your RunnerHostCtx.</p>
<p>The correct implementation is:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="sd">/// Populates the given `Linker` with WASI APIs.</span>
<span class="k">fn</span> <span class="nf">populate_with_wasi</span><span class="p">(</span>
<span class="w">    </span><span class="n">engine</span>: <span class="kp">&amp;</span><span class="nc">Engine</span><span class="p">,</span>
<span class="w">    </span><span class="n">linker</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">Linker</span><span class="o">&lt;</span><span class="n">RunnerHostCtx</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="n">preopen_dirs</span>: <span class="nb">Vec</span><span class="o">&lt;</span><span class="p">(</span><span class="nb">String</span><span class="p">,</span><span class="w"> </span><span class="n">Dir</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
<span class="w">    </span><span class="n">argv</span>: <span class="kp">&amp;</span><span class="p">[</span><span class="nb">String</span><span class="p">],</span>
<span class="w">    </span><span class="n">env</span>: <span class="kp">&amp;</span><span class="p">[(</span><span class="nb">String</span><span class="p">,</span><span class="w"> </span><span class="nb">String</span><span class="p">)],</span>
<span class="p">)</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="n">Store</span><span class="o">&lt;</span><span class="n">RunnerHostCtx</span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// enable wasi preview2 support</span>
<span class="w">    </span><span class="n">wasmtime_wasi</span>::<span class="n">preview2</span>::<span class="n">wasi</span>::<span class="n">command</span>::<span class="n">add_to_linker</span><span class="p">(</span><span class="n">linker</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// enable host bindings support</span>
<span class="w">    </span><span class="c1">// Command::add_to_linker(linker, |host| host)?;</span>

<span class="w">    </span><span class="c1">// setup wasi context</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">WasiCtxBuilder</span>::<span class="n">new</span><span class="p">();</span>
<span class="w">    </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">builder</span>
<span class="w">        </span><span class="p">.</span><span class="n">inherit_stdout</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="n">inherit_stderr</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="n">set_args</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>
<span class="w">        </span><span class="p">.</span><span class="n">set_env</span><span class="p">(</span><span class="n">env</span><span class="p">);</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">dir</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">preopen_dirs</span><span class="p">.</span><span class="n">into_iter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">builder</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="n">push_preopened_dir</span><span class="p">(</span><span class="n">dir</span><span class="p">,</span><span class="w"> </span><span class="n">DirPerms</span>::<span class="n">all</span><span class="p">(),</span><span class="w"> </span><span class="n">FilePerms</span>::<span class="n">all</span><span class="p">(),</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">table</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Table</span>::<span class="n">new</span><span class="p">();</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">wasi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">builder</span><span class="p">.</span><span class="n">build</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">table</span><span class="p">)</span><span class="o">?</span><span class="p">;</span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Store</span>::<span class="n">new</span><span class="p">(</span>
<span class="w">        </span><span class="n">engine</span><span class="p">,</span>
<span class="w">        </span><span class="n">RunnerHostCtx</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">wasi</span><span class="p">,</span>
<span class="w">            </span><span class="n">limits</span>: <span class="nc">StoreLimits</span>::<span class="n">default</span><span class="p">(),</span>
<span class="w">            </span><span class="n">table</span><span class="p">,</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">    </span><span class="p">);</span>

<span class="w">    </span><span class="nb">Ok</span><span class="p">(</span><span class="n">store</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div>
<p>Also, tracing wasnt working properly, the correct invocation is apparently </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">tracing_subscriber</span>::<span class="p">{</span><span class="n">fmt</span><span class="p">,</span><span class="w"> </span><span class="n">prelude</span>::<span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">EnvFilter</span><span class="p">};</span>
<span class="w"> </span><span class="o">..</span><span class="p">.</span>
<span class="k">async</span><span class="w"> </span><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">tracing_subscriber</span>::<span class="n">registry</span><span class="p">()</span>
<span class="w">        </span><span class="p">.</span><span class="n">with</span><span class="p">(</span><span class="n">fmt</span>::<span class="n">layer</span><span class="p">())</span>
<span class="w">        </span><span class="p">.</span><span class="n">with</span><span class="p">(</span><span class="n">EnvFilter</span>::<span class="n">from_default_env</span><span class="p">())</span>
<span class="w">        </span><span class="p">.</span><span class="n">init</span><span class="p">();</span>
<span class="o">..</span><span class="p">.</span>
<span class="p">}</span>
</code></pre></div>
<p>and requires the <code>features = [ "env-filter" ]</code> in the dep on tracing-subscriber.</p>
<p>I expect this solves your other bug as well.</p>
</blockquote>



<a name="369386064"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236546%20preopendir%20not%20working%20with%20compon.../near/369386064" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html#369386064">(Jun 25 2023 at 11:53)</a>:</h4>
<p>hurae <a href="https://github.com/bytecodealliance/wasmtime/issues/6546#issuecomment-1606054935">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6546">issue #6546</a>:</p>
<blockquote>
<p>It worked, thanks.</p>
</blockquote>



<a name="369386066"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236546%20preopendir%20not%20working%20with%20compon.../near/369386066" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236546.20preopendir.20not.20working.20with.20compon.2E.2E.2E.html#369386066">(Jun 25 2023 at 11:53)</a>:</h4>
<p>hurae closed <a href="https://github.com/bytecodealliance/wasmtime/issues/6546">issue #6546</a>:</p>
<blockquote>
<h3>Test Case</h3>
<p>Simple read file metadata example, works fine with wasi preview1, but panic for component model.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// wit/see.wit</span>
<span class="n">package</span><span class="w"> </span><span class="n">plugin</span>:<span class="nc">see</span>

<span class="n">world</span><span class="w"> </span><span class="n">see</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">export</span><span class="w"> </span><span class="n">run</span>: <span class="nc">func</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nc">result</span>
<span class="p">}</span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// seesee/src/lib.rs</span>
<span class="k">use</span><span class="w"> </span><span class="n">std</span>::<span class="n">fs</span>::<span class="n">metadata</span><span class="p">;</span>

<span class="n">wit_bindgen</span>::<span class="n">generate</span><span class="o">!</span><span class="p">({</span>
<span class="w">    </span><span class="n">path</span>: <span class="s">"../wit/see.wit"</span><span class="p">,</span>
<span class="w">    </span><span class="n">world</span>: <span class="s">"see"</span><span class="p">,</span>
<span class="p">});</span>

<span class="k">struct</span> <span class="nc">Checks</span><span class="p">;</span>

<span class="k">impl</span><span class="w"> </span><span class="n">See</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Checks</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">fn</span> <span class="nf">run</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"/tmp/hello.txt"</span><span class="p">;</span>
<span class="w">        </span><span class="kd">let</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">metadata</span><span class="p">(</span><span class="n">path</span><span class="p">).</span><span class="n">unwrap</span><span class="p">();</span>
<span class="w">        </span><span class="fm">println!</span><span class="p">(</span><span class="s">"metadata: {:?}"</span><span class="p">,</span><span class="w"> </span><span class="n">metadata</span><span class="p">);</span>
<span class="w">        </span><span class="nb">Ok</span><span class="p">(())</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">export_see</span><span class="o">!</span><span class="p">(</span><span class="n">Checks</span><span class="p">);</span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="c1">// part of Cargo.toml</span>
<span class="n">wasmtime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"https://github.com/bytecodealliance/wasmtime"</span><span class="p">,</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"release-10.0.0"</span><span class="p">,</span><span class="w"> </span><span class="n">default</span><span class="o">-</span><span class="n">features</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="s">"cranelift"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"component-model"</span><span class="p">,</span>
<span class="w">  </span><span class="s">"async"</span><span class="p">,</span>
<span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="n">wasmtime</span><span class="o">-</span><span class="n">wasi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"https://github.com/bytecodealliance/wasmtime"</span><span class="p">,</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"release-10.0.0"</span><span class="p">}</span>
</code></pre></div>
<h3>Steps to Reproduce</h3>
<ul>
<li>new a rust project placed with above code</li>
<li>run <code>cargo build --target wasm32-wasi --release</code></li>
<li>run <code>wasm-tools component new seesee.wasm --adapt wasi_snapshot_preview1=component-type-version-3-f7ae056/wasi_snapshot_preview1.reactor.wasm -o seesee.component.wasm</code> to produce the component wasm file</li>
<li>create <code>/tmp/hello.txt</code> file with content <code>hahaha</code></li>
<li>run <code>call_run</code> func with api provided by wasmtime crate and set preopened_dir with <code>/tmp</code>.</li>
</ul>
<p>The last step is just a copy of <code>src/commands/run.rs</code> which replaced all related things to component version.</p>
<h3>Expected Results</h3>
<p>print metadata of file to stdout.</p>
<h3>Actual Results</h3>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="err">└─</span><span class="o">&gt;</span><span class="w"> </span><span class="err">❯</span><span class="w">  </span><span class="n">cargo</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="o">../</span><span class="n">rskyeye</span><span class="o">/</span><span class="n">seesee</span><span class="o">/</span><span class="n">seesee</span><span class="p">.</span><span class="n">component</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span>
<span class="w">    </span><span class="n">Finished</span><span class="w"> </span><span class="n">dev</span><span class="w"> </span><span class="p">[</span><span class="n">unoptimized</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">debuginfo</span><span class="p">]</span><span class="w"> </span><span class="n">target</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">0.18</span><span class="n">s</span>
<span class="w">     </span><span class="n">Running</span><span class="w"> </span><span class="err">`</span><span class="n">target</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">runner</span><span class="w"> </span><span class="o">../</span><span class="n">rskyeye</span><span class="o">/</span><span class="n">seesee</span><span class="o">/</span><span class="n">seesee</span><span class="p">.</span><span class="n">component</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">dir</span><span class="w"> </span><span class="o">/</span><span class="n">tmp</span><span class="err">`</span>
<span class="n">Error</span>: <span class="nc">error</span><span class="w"> </span><span class="k">while</span><span class="w"> </span><span class="n">executing</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
    <span class="mi">0</span>: <span class="mh">0x16a4c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!&lt;</span><span class="n">core</span>::<span class="n">result</span>::<span class="nb">Result</span><span class="o">&lt;</span><span class="n">T</span><span class="p">,</span><span class="n">E</span><span class="o">&gt;</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">TrappingUnwrap</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;&gt;</span>::<span class="n">trapping_unwrap</span>::<span class="n">hf0327b60ad60be4c</span>
<span class="w">    </span><span class="mi">1</span>: <span class="mh">0x1669b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">descriptors</span>::<span class="n">Descriptors</span>::<span class="n">new</span>::<span class="n">h128f28896896514d</span>
<span class="w">    </span><span class="mi">2</span>: <span class="mh">0x1506b</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">wasi_preview1_component_adapter</span>::<span class="n">State</span>::<span class="n">descriptors</span>::<span class="n">h5db82afb67da21a2</span>
<span class="w">    </span><span class="mi">3</span>: <span class="mh">0x151f1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">adapter</span>:<span class="nc">wasi_snapshot_preview1</span><span class="o">!</span><span class="n">fd_prestat_get</span>
<span class="w">    </span><span class="mi">4</span>: <span class="mh">0x184c9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">component</span>:<span class="nc">shim</span><span class="o">!</span><span class="n">adapt</span><span class="o">-</span><span class="n">wasi_snapshot_preview1</span><span class="o">-</span><span class="n">fd_prestat_get</span>
<span class="w">    </span><span class="mi">5</span>: <span class="mh">0xcc34</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasi_fd_prestat_get</span>
<span class="w">    </span><span class="mi">6</span>: <span class="mh">0xcf45</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasilibc_populate_preopens</span>
<span class="w">    </span><span class="mi">7</span>:  <span class="mh">0xa68</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">__wasm_call_ctors</span>
<span class="w">    </span><span class="mi">8</span>: <span class="mh">0x573e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!</span><span class="n">run</span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="nc">wasm</span><span class="w"> </span><span class="n">trap</span>: <span class="nc">wasm</span><span class="w"> </span><span class="err">`</span><span class="n">unreachable</span><span class="err">`</span><span class="w"> </span><span class="n">instruction</span><span class="w"> </span><span class="n">executed</span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: </p>
<p>Tried both branch "release-10.0.0" and commit "92024ad11728efa9b3b59b426ebc7cc817cebf6b" which is the last component type version 2 version.</p>
<p>component adapter:</p>
<p>Tried both commit <code>92024ad</code> (component type version 2, with wasm-tools 1.0.34) and <code>f7ae056</code> (component type version 3, with wasm-tools 1.0.35) with exactly the same commit of <code>wasmtime</code> and <code>wasmtime_wasi</code>.</p>
<p>Operating system: <code>Linux fedora 6.2.14-300.fc38.x86_64</code></p>
<p>Architecture: AMD64</p>
<h3>Extra Info</h3>
<p>The same wasm file works before composing to component with adapter when run following command on all of version <code>8.0.0</code>, <code>9.0.0</code>, <code>9.0.3</code> and commit <code>92024ad11728efa9b3b59b426ebc7cc817cebf6b</code>:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">wasmtime</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">seesee</span><span class="p">.</span><span class="n">wasi</span><span class="p">.</span><span class="n">wasm</span><span class="w"> </span><span class="o">--</span><span class="n">invoke</span><span class="w"> </span><span class="n">run</span>
</code></pre></div>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>