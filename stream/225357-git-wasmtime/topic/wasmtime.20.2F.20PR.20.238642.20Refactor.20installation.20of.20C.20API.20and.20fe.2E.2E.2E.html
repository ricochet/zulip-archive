<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8642 Refactor installation of C API and fe... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html">wasmtime / PR #8642 Refactor installation of C API and fe...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="439142559"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439142559" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439142559">(May 17 2024 at 03:55)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/pull/8642">PR #8642</a>.</p>



<a name="439146394"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439146394" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439146394">(May 17 2024 at 04:23)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#issuecomment-2116597819">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8642">PR #8642</a>:</p>
<blockquote>
<p>@rockwotj would you be able to give this a once-over perhaps? If not no worries, but you probably know more about CMake than I!</p>
</blockquote>



<a name="439146402"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439146402" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439146402">(May 17 2024 at 04:23)</a>:</h4>
<p><strong>alexcrichton</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/8642">PR #8642</a> as ready for review.</p>



<a name="439146406"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439146406" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439146406">(May 17 2024 at 04:23)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/elliottt">elliottt</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8642">PR #8642</a>.</p>



<a name="439146409"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439146409" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439146409">(May 17 2024 at 04:23)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8642">PR #8642</a>.</p>



<a name="439146410"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439146410" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439146410">(May 17 2024 at 04:23)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8642">PR #8642</a>.</p>



<a name="439241361"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439241361" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439241361">(May 17 2024 at 15:02)</a>:</h4>
<p>dundargoc submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#pullrequestreview-2063675512">PR review</a>.</p>



<a name="439241362"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439241362" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439241362">(May 17 2024 at 15:02)</a>:</h4>
<p>dundargoc created <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1605152297">PR review comment</a>:</p>
<blockquote>
<p>Sus. <code>option</code> is for cache variables that are booleans, but it looks like <code>WASMTIME_USER_CARGO_BUILD_OPTIONS</code> is supposed to be a string. This doesn't look correct.</p>
</blockquote>



<a name="439241501"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439241501" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439241501">(May 17 2024 at 15:03)</a>:</h4>
<p>dundargoc created <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1605153541">PR review comment</a>:</p>
<blockquote>
<p>Same thing, <code>option</code> is for booleans and this expects a string.</p>
</blockquote>



<a name="439241502"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439241502" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439241502">(May 17 2024 at 15:03)</a>:</h4>
<p>dundargoc submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#pullrequestreview-2063678184">PR review</a>.</p>



<a name="439246239"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439246239" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439246239">(May 17 2024 at 15:27)</a>:</h4>
<p>dundargoc submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#pullrequestreview-2063750268">PR review</a>.</p>



<a name="439246241"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439246241" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439246241">(May 17 2024 at 15:27)</a>:</h4>
<p>dundargoc created <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1605195001">PR review comment</a>:</p>
<blockquote>
<p>Nitpick: arguably cleaner</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>  set(feature_default "${default} AND NOT ${WASMTIME_DISABLE_ALL_FEATURES}")
</code></pre></div><br>
</p>
</blockquote>



<a name="439248238"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439248238" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439248238">(May 17 2024 at 15:37)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#pullrequestreview-2063770951">PR review</a>.</p>



<a name="439248241"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439248241" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439248241">(May 17 2024 at 15:37)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1605207538">PR review comment</a>:</p>
<blockquote>
<p>Thanks! I didn't really realize that <code>set(...)</code> here was doing that. I'll switch back.</p>
</blockquote>



<a name="439248263"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439248263" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439248263">(May 17 2024 at 15:37)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8642">PR #8642</a>.</p>



<a name="439248662"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439248662" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439248662">(May 17 2024 at 15:39)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#pullrequestreview-2063775860">PR review</a>.</p>



<a name="439248663"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439248663" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439248663">(May 17 2024 at 15:39)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1605210259">PR review comment</a>:</p>
<blockquote>
<p>I don't think I fully understand cmake evaluation contexts and strings and what's a variable when, but when I use your suggestion it looks like it sets <code>feature_default</code> to the string <code>ON AND NOT OFF</code> and I'm not sure why but the default build has all features off.</p>
<p>I'm also not sure if I'm supposed to do something like <code>if(${${cmake_name}})</code> below instead of just <code>if(${cmake_name})</code> (sorry I'm very new to cmake)</p>
</blockquote>



<a name="439255379"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439255379" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439255379">(May 17 2024 at 16:21)</a>:</h4>
<p>dundargoc submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#pullrequestreview-2063870181">PR review</a>.</p>



<a name="439255384"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439255384" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439255384">(May 17 2024 at 16:21)</a>:</h4>
<p>dundargoc created <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1605263553">PR review comment</a>:</p>
<blockquote>
<blockquote>
<p>I don't think I fully understand cmake evaluation contexts and strings and what's a variable when, but when I use your suggestion it looks like it sets <code>feature_default</code> to the string <code>ON AND NOT OFF</code> and I'm not sure why but the default build has all features off.</p>
</blockquote>
<p>You might need to delete the build folder. Since cache variables are persistent they will keep their values unless you change them specifically. If you build with <code>WASMTIME_DISABLE_ALL_FEATURES=OFF</code>, and then rebuild it with <code>WASMTIME_DISABLE_ALL_FEATURES=ON</code>, then it won't do anything since the other cache variables have already got a value. This problem exists in the original version of the code too. Cmake cache variables are in general footgunny.</p>
<blockquote>
<p>I'm also not sure if I'm supposed to do something like <code>if(${${cmake_name}})</code> below instead of just <code>if(${cmake_name})</code> (sorry I'm very new to cmake)</p>
</blockquote>
<p>Nah, <code>if(${cmake_name})</code> is correct. For some reason <code>if</code> expects the variable name and not the value itself. I'm not sure how to feel about it tbh :).</p>
<p>In any case, I think the original code is fine as is, just wanted to present an alternative.</p>
</blockquote>



<a name="439255658"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439255658" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439255658">(May 17 2024 at 16:23)</a>:</h4>
<p>dundargoc deleted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1605263553">PR review comment</a>.</p>



<a name="439256224"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439256224" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439256224">(May 17 2024 at 16:26)</a>:</h4>
<p>dundargoc submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#pullrequestreview-2063879216">PR review</a>.</p>



<a name="439256225"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439256225" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439256225">(May 17 2024 at 16:26)</a>:</h4>
<p>dundargoc created <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1605269113">PR review comment</a>:</p>
<blockquote>
<p>Actually I retried it and my suggestion was wrong. My bad, I should've investigated better beforehand. Ignore my comment, your method is the way to go.</p>
</blockquote>



<a name="439270628"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439270628" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439270628">(May 17 2024 at 18:08)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#pullrequestreview-2064110379">PR review</a>.</p>



<a name="439270630"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439270630" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439270630">(May 17 2024 at 18:08)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1605390630">PR review comment</a>:</p>
<blockquote>
<p>Ah ok makes sense, and no worries! Thanks for taking a look regardless!</p>
</blockquote>



<a name="439297534"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439297534" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439297534">(May 17 2024 at 22:03)</a>:</h4>
<p>rockwotj submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#pullrequestreview-2064440087">PR review</a>:</p>
<blockquote>
<p>Very nice! This is a great change. Just a few small things</p>
</blockquote>



<a name="439297536"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439297536" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439297536">(May 17 2024 at 22:03)</a>:</h4>
<p>rockwotj submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#pullrequestreview-2064440087">PR review</a>:</p>
<blockquote>
<p>Very nice! This is a great change. Just a few small things</p>
</blockquote>



<a name="439297537"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439297537" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439297537">(May 17 2024 at 22:03)</a>:</h4>
<p>rockwotj created <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1605579547">PR review comment</a>:</p>
<blockquote>
<p>While I am thinking about it - the c compiler should be set as an environment variable for the cc crate. There are a number of ways to set it in cmake that don't involve the environment variables that the cc crate uses</p>
</blockquote>



<a name="439297538"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439297538" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439297538">(May 17 2024 at 22:03)</a>:</h4>
<p>rockwotj created <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1605578035">PR review comment</a>:</p>
<blockquote>
<p>I generally see people do if not debug (inverting this check). It seems better to default to release builds for an external library</p>
</blockquote>



<a name="439297539"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439297539" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439297539">(May 17 2024 at 22:03)</a>:</h4>
<p>rockwotj created <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1605577168">PR review comment</a>:</p>
<blockquote>
<p>nit: you could move the WASMTIME_FEATURE_ prefix creation into the macro</p>
</blockquote>



<a name="439590980"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439590980" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439590980">(May 20 2024 at 14:59)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8642">PR #8642</a>.</p>



<a name="439591292"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439591292" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439591292">(May 20 2024 at 15:01)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#pullrequestreview-2066417913">PR review</a>.</p>



<a name="439591293"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439591293" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439591293">(May 20 2024 at 15:01)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#discussion_r1606897277">PR review comment</a>:</p>
<blockquote>
<p>True! I'm a bit wary to do that though since cmake's cross-compilation defaults are not always as good as the <code>cc</code> crate's auto-detection. Do you know if there's a way to only pass the C compiler env vars and such if explicitly configured in cmake? </p>
</blockquote>



<a name="439595514"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439595514" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439595514">(May 20 2024 at 15:21)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#pullrequestreview-2066457525">PR review</a>.</p>



<a name="439597727"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439597727" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439597727">(May 20 2024 at 15:32)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/8642#issuecomment-2120696938">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8642">PR #8642</a>:</p>
<blockquote>
<p>Thanks @dundargoc and @rockwotj!</p>
</blockquote>



<a name="439600503"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238642%20Refactor%20installation%20of%20C%20API%20and%20fe.../near/439600503" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238642.20Refactor.20installation.20of.20C.20API.20and.20fe.2E.2E.2E.html#439600503">(May 20 2024 at 15:46)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8642">PR #8642</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>