<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6161 Some improvements to the wasi-http... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236161.20Some.20improvements.20to.20the.20wasi-http.2E.2E.2E.html">wasmtime / issue #6161 Some improvements to the wasi-http...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="347273767"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236161%20Some%20improvements%20to%20the%20wasi-http.../near/347273767" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236161.20Some.20improvements.20to.20the.20wasi-http.2E.2E.2E.html#347273767">(Apr 06 2023 at 00:05)</a>:</h4>
<p>brendandburns <a href="https://github.com/bytecodealliance/wasmtime/pull/6161#issuecomment-1498312414">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6161">issue #6161</a>:</p>
<blockquote>
<p>fwiw, the test failed b/c there was a <code>502</code> error from <a href="http://postman-echo.com">postman-echo.com</a>. We may want to turn up a localhost server instead to reduce flakiness.</p>
</blockquote>



<a name="347488146"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236161%20Some%20improvements%20to%20the%20wasi-http.../near/347488146" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236161.20Some.20improvements.20to.20the.20wasi-http.2E.2E.2E.html#347488146">(Apr 06 2023 at 18:08)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/6161#issuecomment-1499437803">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6161">issue #6161</a>:</p>
<blockquote>
<blockquote>
<p>fwiw, the test failed b/c there was a <code>502</code> error from <a href="http://postman-echo.com">postman-echo.com</a>. We may want to turn up a localhost server instead to reduce flakiness.</p>
</blockquote>
<p>I'd strongly +1 this: I was confused just now watching CI logs and seeing queries to an external website. We definitely should not have dependencies on a third-party service like this in our core CI flows, especially given that we will sometimes have time-sensitive CI builds (e.g. for security issues) that cannot tolerate third-party downtime.</p>
</blockquote>



<a name="347492985"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236161%20Some%20improvements%20to%20the%20wasi-http.../near/347492985" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236161.20Some.20improvements.20to.20the.20wasi-http.2E.2E.2E.html#347492985">(Apr 06 2023 at 18:35)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/pull/6161#issuecomment-1499466247">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6161">issue #6161</a>:</p>
<blockquote>
<p>Agreed, this is one of the things i thought was OK for an initial prototype but we should remedy pretty quickly.</p>
<p>In addition to having integration tests that run against local webservers, we can also pursue writing tests by abstracting over how hyper forms connections, and connect to hyper services in the same process, skipping syscalls entirely. We would still want some tests to connect on a "real" local network to make sure that code gets exercised as well.</p>
</blockquote>



<a name="347525937"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236161%20Some%20improvements%20to%20the%20wasi-http.../near/347525937" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236161.20Some.20improvements.20to.20the.20wasi-http.2E.2E.2E.html#347525937">(Apr 06 2023 at 22:08)</a>:</h4>
<p>brendandburns <a href="https://github.com/bytecodealliance/wasmtime/pull/6161#issuecomment-1499683725">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6161">issue #6161</a>:</p>
<blockquote>
<p>I will update the tests in this PR to run against <code>localhost</code></p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>