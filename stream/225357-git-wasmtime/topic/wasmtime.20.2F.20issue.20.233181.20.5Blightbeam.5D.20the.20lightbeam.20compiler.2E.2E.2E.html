<html>
<head><meta charset="utf-8"><title>wasmtime / issue #3181 [lightbeam] the lightbeam compiler... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233181.20.5Blightbeam.5D.20the.20lightbeam.20compiler.2E.2E.2E.html">wasmtime / issue #3181 [lightbeam] the lightbeam compiler...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="249228002"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233181%20%5Blightbeam%5D%20the%20lightbeam%20compiler.../near/249228002" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233181.20.5Blightbeam.5D.20the.20lightbeam.20compiler.2E.2E.2E.html#249228002">(Aug 12 2021 at 12:30)</a>:</h4>
<p>lei-april opened <a href="https://github.com/bytecodealliance/wasmtime/issues/3181">issue #3181</a>:</p>
<blockquote>
<h3>Test Case</h3>
<p>Example for C embedding from the official doc site: <a href="https://docs.wasmtime.dev/examples-c-hello-world.html">https://docs.wasmtime.dev/examples-c-hello-world.html</a></p>
<p>With a few changes to enable the lightbeam compiler:</p>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code>48c48,50
&lt;   wasm_engine_t *engine = wasm_engine_new();
<span class="gd">---</span>
&gt;   wasm_config_t* config = wasm_config_new();
&gt;   wasmtime_config_strategy_set(config, WASMTIME_STRATEGY_LIGHTBEAM);
&gt;   wasm_engine_t *engine = wasm_engine_new_with_config(config);
</code></pre></div>
<h3>Steps to Reproduce</h3>
<p>Compile and run the above example, using wasmtime's main branch with lightbeam enabled.</p>
<h3>Expected Results</h3>
<p>The example runs correctly.</p>
<h3>Actual Results</h3>
<p>The compiler panics:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Initializing</span><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="n">Compiling</span><span class="w"> </span><span class="n">module</span><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="n">thread</span><span class="w"> </span><span class="o">'&lt;</span><span class="n">unnamed</span><span class="o">&gt;'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">'</span><span class="na">not</span><span class="w"> </span><span class="n">implemented</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">crates</span><span class="o">/</span><span class="n">lightbeam</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">224</span>:<span class="mi">9</span><span class="w"></span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: 44f9ccd31640f8d88073d7e57347573d4fd01c14</p>
<p>Operating system: Linux</p>
<p>Architecture: x86-64<br>
</p>
</blockquote>



<a name="249228003"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233181%20%5Blightbeam%5D%20the%20lightbeam%20compiler.../near/249228003" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233181.20.5Blightbeam.5D.20the.20lightbeam.20compiler.2E.2E.2E.html#249228003">(Aug 12 2021 at 12:30)</a>:</h4>
<p>lei-april labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/3181">issue #3181</a>:</p>
<blockquote>
<h3>Test Case</h3>
<p>Example for C embedding from the official doc site: <a href="https://docs.wasmtime.dev/examples-c-hello-world.html">https://docs.wasmtime.dev/examples-c-hello-world.html</a></p>
<p>With a few changes to enable the lightbeam compiler:</p>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code>48c48,50
&lt;   wasm_engine_t *engine = wasm_engine_new();
<span class="gd">---</span>
&gt;   wasm_config_t* config = wasm_config_new();
&gt;   wasmtime_config_strategy_set(config, WASMTIME_STRATEGY_LIGHTBEAM);
&gt;   wasm_engine_t *engine = wasm_engine_new_with_config(config);
</code></pre></div>
<h3>Steps to Reproduce</h3>
<p>Compile and run the above example, using wasmtime's main branch with lightbeam enabled.</p>
<h3>Expected Results</h3>
<p>The example runs correctly.</p>
<h3>Actual Results</h3>
<p>The compiler panics:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Initializing</span><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="n">Compiling</span><span class="w"> </span><span class="n">module</span><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="n">thread</span><span class="w"> </span><span class="o">'&lt;</span><span class="n">unnamed</span><span class="o">&gt;'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">'</span><span class="na">not</span><span class="w"> </span><span class="n">implemented</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">crates</span><span class="o">/</span><span class="n">lightbeam</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">224</span>:<span class="mi">9</span><span class="w"></span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: 44f9ccd31640f8d88073d7e57347573d4fd01c14</p>
<p>Operating system: Linux</p>
<p>Architecture: x86-64<br>
</p>
</blockquote>



<a name="249228744"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233181%20%5Blightbeam%5D%20the%20lightbeam%20compiler.../near/249228744" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233181.20.5Blightbeam.5D.20the.20lightbeam.20compiler.2E.2E.2E.html#249228744">(Aug 12 2021 at 12:38)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/3181#issuecomment-897604535">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3181">issue #3181</a>:</p>
<blockquote>
<p>Lightbeam is unmaintained and has probably been broken for quite a while.</p>
</blockquote>



<a name="249315699"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233181%20%5Blightbeam%5D%20the%20lightbeam%20compiler.../near/249315699" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233181.20.5Blightbeam.5D.20the.20lightbeam.20compiler.2E.2E.2E.html#249315699">(Aug 13 2021 at 02:36)</a>:</h4>
<p>lei-april <a href="https://github.com/bytecodealliance/wasmtime/issues/3181#issuecomment-898131235">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3181">issue #3181</a>:</p>
<blockquote>
<blockquote>
<p>Lightbeam is unmaintained and has probably been broken for quite a while.</p>
</blockquote>
<p>So is there any plan to fix it?</p>
</blockquote>



<a name="249328228"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233181%20%5Blightbeam%5D%20the%20lightbeam%20compiler.../near/249328228" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233181.20.5Blightbeam.5D.20the.20lightbeam.20compiler.2E.2E.2E.html#249328228">(Aug 13 2021 at 06:40)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/3181#issuecomment-898228336">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3181">issue #3181</a>:</p>
<blockquote>
<p>Not that I am aware of.</p>
</blockquote>



<a name="255087487"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233181%20%5Blightbeam%5D%20the%20lightbeam%20compiler.../near/255087487" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233181.20.5Blightbeam.5D.20the.20lightbeam.20compiler.2E.2E.2E.html#255087487">(Sep 27 2021 at 17:31)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/3181#issuecomment-928097554">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3181">issue #3181</a>:</p>
<blockquote>
<p>Lightbeam was removed in <a href="https://github.com/bytecodealliance/wasmtime/pull/3390">https://github.com/bytecodealliance/wasmtime/pull/3390</a> as explained in <a href="https://github.com/bytecodealliance/rfcs/pull/14">RFC 14</a>, so I'm going to close this.</p>
</blockquote>



<a name="255087490"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233181%20%5Blightbeam%5D%20the%20lightbeam%20compiler.../near/255087490" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233181.20.5Blightbeam.5D.20the.20lightbeam.20compiler.2E.2E.2E.html#255087490">(Sep 27 2021 at 17:31)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/3181">issue #3181</a>:</p>
<blockquote>
<h3>Test Case</h3>
<p>Example for C embedding from the official doc site: <a href="https://docs.wasmtime.dev/examples-c-hello-world.html">https://docs.wasmtime.dev/examples-c-hello-world.html</a></p>
<p>With a few changes to enable the lightbeam compiler:</p>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code>48c48,50
&lt;   wasm_engine_t *engine = wasm_engine_new();
<span class="gd">---</span>
&gt;   wasm_config_t* config = wasm_config_new();
&gt;   wasmtime_config_strategy_set(config, WASMTIME_STRATEGY_LIGHTBEAM);
&gt;   wasm_engine_t *engine = wasm_engine_new_with_config(config);
</code></pre></div>
<h3>Steps to Reproduce</h3>
<p>Compile and run the above example, using wasmtime's main branch with lightbeam enabled.</p>
<h3>Expected Results</h3>
<p>The example runs correctly.</p>
<h3>Actual Results</h3>
<p>The compiler panics:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Initializing</span><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="n">Compiling</span><span class="w"> </span><span class="n">module</span><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="n">thread</span><span class="w"> </span><span class="o">'&lt;</span><span class="n">unnamed</span><span class="o">&gt;'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">'</span><span class="na">not</span><span class="w"> </span><span class="n">implemented</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">crates</span><span class="o">/</span><span class="n">lightbeam</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">224</span>:<span class="mi">9</span><span class="w"></span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: 44f9ccd31640f8d88073d7e57347573d4fd01c14</p>
<p>Operating system: Linux</p>
<p>Architecture: x86-64<br>
</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>