<html>
<head><meta charset="utf-8"><title>wasmtime / PR #6820 Memcheck for Wasm guests in Wasmtime · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html">wasmtime / PR #6820 Memcheck for Wasm guests in Wasmtime</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="383765646"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/383765646" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#383765646">(Aug 10 2023 at 21:50)</a>:</h4>
<p>cfallin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>:</p>
<blockquote>
<p>This PR introduces <code>wmemcheck</code>, a memory checker for a Wasm guest running inside Wasmtime.</p>
<p><code>wmemcheck</code> operates by recognizing calls to malloc and free inside the Wasm module, and tracking which bytes are valid. It then instruments loads and stores and flags errors when accesses are invalid. This is inspired by the <code>memcheck</code> tool in Valgrind, hence the name.</p>
<p>The functionality is off by default and is enabled with <code>wasmtime run --wmemcheck</code>.</p>
</blockquote>



<a name="383769981"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/383769981" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#383769981">(Aug 10 2023 at 22:12)</a>:</h4>
<p>iximeow submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6820#pullrequestreview-1572800423">PR review</a>:</p>
<blockquote>
<p>cross-acking @cfallin's commits, but also generally happy to approve. thanks so much for your work on this Sophia!</p>
<p>i know there are a few open comments here but they're all small enough we can do followup PRs specifically oriented towards f.ex <code>docs/wmemcheck.md</code> and usage advice. so, seems good!</p>
</blockquote>



<a name="383770988"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/383770988" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#383770988">(Aug 10 2023 at 22:17)</a>:</h4>
<p>cfallin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>:</p>
<blockquote>
<p>This PR introduces <code>wmemcheck</code>, a memory checker for a Wasm guest running inside Wasmtime.</p>
<p><code>wmemcheck</code> operates by recognizing calls to malloc and free inside the Wasm module, and tracking which bytes are valid. It then instruments loads and stores and flags errors when accesses are invalid. This is inspired by the <code>memcheck</code> tool in Valgrind, hence the name.</p>
<p>The functionality is off by default and is enabled with <code>wasmtime run --wmemcheck</code>.</p>
<p>Co-authored-by: Chris Fallin &lt;<a href="mailto:chris@cfallin.org">chris@cfallin.org</a>&gt;<br>
Co-authored-by: iximeow &lt;<a href="mailto:me@iximeow.net">me@iximeow.net</a>&gt;</p>
</blockquote>



<a name="383771574"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/383771574" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#383771574">(Aug 10 2023 at 22:21)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<a name="383771613"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/383771613" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#383771613">(Aug 10 2023 at 22:21)</a>:</h4>
<p>cfallin has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<a name="383800627"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/383800627" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#383800627">(Aug 11 2023 at 01:59)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<a name="383804102"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/383804102" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#383804102">(Aug 11 2023 at 02:10)</a>:</h4>
<p>cfallin has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<a name="383809995"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/383809995" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#383809995">(Aug 11 2023 at 02:41)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<a name="383810034"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/383810034" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#383810034">(Aug 11 2023 at 02:41)</a>:</h4>
<p>cfallin has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<a name="384819725"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/384819725" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#384819725">(Aug 14 2023 at 15:31)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<a name="384821518"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/384821518" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#384821518">(Aug 14 2023 at 15:37)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<a name="384821918"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/384821918" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#384821918">(Aug 14 2023 at 15:38)</a>:</h4>
<p>cfallin has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<a name="384838495"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/384838495" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#384838495">(Aug 14 2023 at 16:31)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<a name="384838551"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/384838551" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#384838551">(Aug 14 2023 at 16:32)</a>:</h4>
<p>cfallin has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<a name="385330135"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/385330135" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#385330135">(Aug 16 2023 at 03:21)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<a name="385335710"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236820%20Memcheck%20for%20Wasm%20guests%20in%20Wasmtime/near/385335710" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236820.20Memcheck.20for.20Wasm.20guests.20in.20Wasmtime.html#385335710">(Aug 16 2023 at 04:25)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/6820">PR #6820</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>