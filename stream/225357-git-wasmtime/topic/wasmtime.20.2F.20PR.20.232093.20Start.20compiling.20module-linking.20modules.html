<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2093 Start compiling module-linking modules · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html">wasmtime / PR #2093 Start compiling module-linking modules</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="205948339"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/205948339" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#205948339">(Aug 04 2020 at 19:16)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">PR #2093</a> from <code>compile-nested-modules</code> to <code>main</code>:</p>
<blockquote>
<p>This commit is intended to be the first of many in implementing the<br>
module linking proposal. At this time this builds on #2059 so it<br>
shouldn't land yet. The goal of this commit is to compile bare-bones<br>
modules which use module linking, e.g. those with nested modules.</p>
<p>My hope with module linking is that almost everything in wasmtime only<br>
needs mild refactorings to handle it. The goal is that all per-module<br>
structures are still per-module and at the top level there's just a<br>
<code>Vec</code> containing a bunch of modules. That's implemented currently where<br>
<code>wasmtime::Module</code> contains <code>Arc&lt;[CompiledModule]&gt;</code> and an index of<br>
which one it's pointing to. This should enable<br>
serialization/deserialization of any module in a nested modules<br>
scenario, no matter how you got it.</p>
<p>Tons of features of the module linking proposal are missing from this<br>
commit. For example instantiation flat out doesn't work, nor does<br>
import/export of modules or instances. That'll be coming as future<br>
commits, but the purpose here is to start laying groundwork in Wasmtime<br>
for handling lots of modules in lots of places.</p>
</blockquote>



<a name="215405153"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/215405153" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#215405153">(Nov 03 2020 at 02:02)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">PR #2093</a> from <code>compile-nested-modules</code> to <code>main</code>:</p>
<blockquote>
<p>This commit is intended to be the first of many in implementing the<br>
module linking proposal. At this time this builds on #2059 so it<br>
shouldn't land yet. The goal of this commit is to compile bare-bones<br>
modules which use module linking, e.g. those with nested modules.</p>
<p>My hope with module linking is that almost everything in wasmtime only<br>
needs mild refactorings to handle it. The goal is that all per-module<br>
structures are still per-module and at the top level there's just a<br>
<code>Vec</code> containing a bunch of modules. That's implemented currently where<br>
<code>wasmtime::Module</code> contains <code>Arc&lt;[CompiledModule]&gt;</code> and an index of<br>
which one it's pointing to. This should enable<br>
serialization/deserialization of any module in a nested modules<br>
scenario, no matter how you got it.</p>
<p>Tons of features of the module linking proposal are missing from this<br>
commit. For example instantiation flat out doesn't work, nor does<br>
import/export of modules or instances. That'll be coming as future<br>
commits, but the purpose here is to start laying groundwork in Wasmtime<br>
for handling lots of modules in lots of places.</p>
</blockquote>



<a name="215405852"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/215405852" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#215405852">(Nov 03 2020 at 02:11)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">PR #2093</a> from <code>compile-nested-modules</code> to <code>main</code>:</p>
<blockquote>
<p>This commit is intended to be the first of many in implementing the<br>
module linking proposal. At this time this builds on #2059 so it<br>
shouldn't land yet. The goal of this commit is to compile bare-bones<br>
modules which use module linking, e.g. those with nested modules.</p>
<p>My hope with module linking is that almost everything in wasmtime only<br>
needs mild refactorings to handle it. The goal is that all per-module<br>
structures are still per-module and at the top level there's just a<br>
<code>Vec</code> containing a bunch of modules. That's implemented currently where<br>
<code>wasmtime::Module</code> contains <code>Arc&lt;[CompiledModule]&gt;</code> and an index of<br>
which one it's pointing to. This should enable<br>
serialization/deserialization of any module in a nested modules<br>
scenario, no matter how you got it.</p>
<p>Tons of features of the module linking proposal are missing from this<br>
commit. For example instantiation flat out doesn't work, nor does<br>
import/export of modules or instances. That'll be coming as future<br>
commits, but the purpose here is to start laying groundwork in Wasmtime<br>
for handling lots of modules in lots of places.</p>
</blockquote>



<a name="215407050"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/215407050" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#215407050">(Nov 03 2020 at 02:31)</a>:</h4>
<p><strong>alexcrichton</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">PR #2093</a> as ready for review.</p>



<a name="215492642"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/215492642" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#215492642">(Nov 03 2020 at 18:25)</a>:</h4>
<p><strong>tschneidereit</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">PR #2093</a>.</p>



<a name="215778290"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/215778290" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#215778290">(Nov 05 2020 at 21:44)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2093#pullrequestreview-524663273">PR Review</a>.</p>



<a name="215778291"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/215778291" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#215778291">(Nov 05 2020 at 21:44)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2093#pullrequestreview-524663273">PR Review</a>.</p>



<a name="215778292"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/215778292" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#215778292">(Nov 05 2020 at 21:44)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/2093#discussion_r518362155">PR Review Comment</a>:</p>
<blockquote>
<p>So this only includes nested submodules, not the top level module? Good to make this explicit in the comment.</p>
</blockquote>



<a name="215857155"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/215857155" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#215857155">(Nov 06 2020 at 15:00)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2093#pullrequestreview-525231330">PR Review</a>.</p>



<a name="215857158"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/215857158" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#215857158">(Nov 06 2020 at 15:00)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/2093#discussion_r518806280">PR Review Comment</a>:</p>
<blockquote>
<p>Ah good point, but yes, this only includes the top-level module's modules (or whatever the current module is), basically just "we found the <code>module</code> section in the wasm file"</p>
</blockquote>



<a name="215888803"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/215888803" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#215888803">(Nov 06 2020 at 18:56)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">PR #2093</a> from <code>compile-nested-modules</code> to <code>main</code>:</p>
<blockquote>
<p>This commit is intended to be the first of many in implementing the<br>
module linking proposal. At this time this builds on #2059 so it<br>
shouldn't land yet. The goal of this commit is to compile bare-bones<br>
modules which use module linking, e.g. those with nested modules.</p>
<p>My hope with module linking is that almost everything in wasmtime only<br>
needs mild refactorings to handle it. The goal is that all per-module<br>
structures are still per-module and at the top level there's just a<br>
<code>Vec</code> containing a bunch of modules. That's implemented currently where<br>
<code>wasmtime::Module</code> contains <code>Arc&lt;[CompiledModule]&gt;</code> and an index of<br>
which one it's pointing to. This should enable<br>
serialization/deserialization of any module in a nested modules<br>
scenario, no matter how you got it.</p>
<p>Tons of features of the module linking proposal are missing from this<br>
commit. For example instantiation flat out doesn't work, nor does<br>
import/export of modules or instances. That'll be coming as future<br>
commits, but the purpose here is to start laying groundwork in Wasmtime<br>
for handling lots of modules in lots of places.</p>
</blockquote>



<a name="215889075"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/215889075" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#215889075">(Nov 06 2020 at 18:58)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">PR #2093</a> from <code>compile-nested-modules</code> to <code>main</code>:</p>
<blockquote>
<p>This commit is intended to be the first of many in implementing the<br>
module linking proposal. At this time this builds on #2059 so it<br>
shouldn't land yet. The goal of this commit is to compile bare-bones<br>
modules which use module linking, e.g. those with nested modules.</p>
<p>My hope with module linking is that almost everything in wasmtime only<br>
needs mild refactorings to handle it. The goal is that all per-module<br>
structures are still per-module and at the top level there's just a<br>
<code>Vec</code> containing a bunch of modules. That's implemented currently where<br>
<code>wasmtime::Module</code> contains <code>Arc&lt;[CompiledModule]&gt;</code> and an index of<br>
which one it's pointing to. This should enable<br>
serialization/deserialization of any module in a nested modules<br>
scenario, no matter how you got it.</p>
<p>Tons of features of the module linking proposal are missing from this<br>
commit. For example instantiation flat out doesn't work, nor does<br>
import/export of modules or instances. That'll be coming as future<br>
commits, but the purpose here is to start laying groundwork in Wasmtime<br>
for handling lots of modules in lots of places.</p>
</blockquote>



<a name="215893091"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232093%20Start%20compiling%20module-linking%20modules/near/215893091" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232093.20Start.20compiling.20module-linking.20modules.html#215893091">(Nov 06 2020 at 19:32)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">PR #2093</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>