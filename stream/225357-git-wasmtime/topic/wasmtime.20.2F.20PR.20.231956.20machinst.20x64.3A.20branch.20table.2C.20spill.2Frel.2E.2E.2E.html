<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1956 machinst x64: branch table, spill/rel... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html">wasmtime / PR #1956 machinst x64: branch table, spill/rel...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="202595599"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202595599" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202595599">(Jul 01 2020 at 17:04)</a>:</h4>
<p>bnjbvr opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1956">PR #1956</a> from <code>x64</code> to <code>main</code>:</p>
<blockquote>
<p>This makes it possible to run a basic C hello world with wasmtime. It's a large PR but the commit splitting should make it easier to review. I'll add emit tests for div/idiv before landing, but reviewing shouldn't be blocked on this.</p>
</blockquote>



<a name="202595600"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202595600" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202595600">(Jul 01 2020 at 17:04)</a>:</h4>
<p><strong>bnjbvr</strong> requested <a href="https://github.com/cfallin">cfallin</a> and <a href="https://github.com/julian-seward1">julian-seward1</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1956">PR #1956</a>.</p>



<a name="202595601"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202595601" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202595601">(Jul 01 2020 at 17:04)</a>:</h4>
<p><strong>bnjbvr</strong> requested <a href="https://github.com/cfallin">cfallin</a> and <a href="https://github.com/julian-seward1">julian-seward1</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1956">PR #1956</a>.</p>



<a name="202612855"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612855" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612855">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-441116861">PR Review</a>.</p>



<a name="202612856"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612856" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612856">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-441116861">PR Review</a>.</p>



<a name="202612858"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612858" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612858">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448553523">PR Review Comment</a>:</p>
<blockquote>
<p>Maybe rename <code>JmpRel32</code> to <code>PCRel32</code> (since this is not a jump)?</p>
</blockquote>



<a name="202612860"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612860" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612860">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448554115">PR Review Comment</a>:</p>
<blockquote>
<p>Perhaps <code>u32::try_from(offset).expect("rip-relative can't hold &gt;= U32_MAX values")</code>?</p>
</blockquote>



<a name="202612861"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612861" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612861">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448560452">PR Review Comment</a>:</p>
<blockquote>
<p>Maybe add a clarifying note here that <code>off_into_table</code> is an addend and the label-use resolution adds the target-relative-to-this-entry to the addend so that the result is target-relative-to-JT-start?</p>
<p>(I neglected to document this logic in the analogous over on the aarch64 side; feel free to do a drive-by edit with the same comment over there...)</p>
</blockquote>



<a name="202612862"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612862" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612862">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448559301">PR Review Comment</a>:</p>
<blockquote>
<p>Maybe add a note here that we don't need to worry about islands, despite exceeding the "worst-case inst size" (with the potentially large inline targets array), because on x64 our only label-use type right now has a 2GB range? If we later consider using shorter-range label references, we'll have to revisit this.</p>
</blockquote>



<a name="202612863"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612863" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612863">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448556028">PR Review Comment</a>:</p>
<blockquote>
<p>I think there might be a slightly shorter way to test for zero/nonzero: <code>test Rdivisor, Rdivisor</code> / <code>jnz ...</code>. Then we don't need the zero-immediate. Saves a byte, anyway...</p>
</blockquote>



<a name="202612865"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612865" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612865">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448561325">PR Review Comment</a>:</p>
<blockquote>
<p>Suggestion: could we make the <code>ShowWithRRU</code> pretty-print format here use assembler-parseable syntax, i.e., <code>lea 0(%rip), %rdi</code>? This makes it slightly more mechanical (hence easier to do by hand, and easier to possibly automate later) to verify that the golden bytes match the instruction.</p>
</blockquote>



<a name="202612866"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612866" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612866">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448563215">PR Review Comment</a>:</p>
<blockquote>
<p>It might be worthwhile to go ahead and box up / out-of-line some of this, like we did with <code>JTSequenceInfo</code>, to keep the <code>Inst</code> size down.</p>
</blockquote>



<a name="202612867"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612867" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612867">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448561963">PR Review Comment</a>:</p>
<blockquote>
<p>Perhaps we should have an enum for this, like the <code>InstSize</code> enum over in aarch64? (We could make it <code>#[repr(u8)]</code> and assign the arms the above numeric values.)</p>
</blockquote>



<a name="202612868"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612868" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612868">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448564477">PR Review Comment</a>:</p>
<blockquote>
<p>Use the <code>test</code> instruction (as above) to save an immediate byte?</p>
</blockquote>



<a name="202612869"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612869" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612869">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448566511">PR Review Comment</a>:</p>
<blockquote>
<p>I wonder if there's a way to merge these signed cases with the above unsigned to reduce duplication a bit. Especially if the unsigned checks (and divide itself) also become a meta-instruction, the lowering is more similar above and below, I think?</p>
</blockquote>



<a name="202612870"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612870" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612870">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448567750">PR Review Comment</a>:</p>
<blockquote>
<p>On a little further thought after our conversation yesterday: I think we should actually probably avoid this fixed offset, because there is a chance that instructions are inserted between the use (jump) and destination (after trap). In particular, we might get spills/reloads; or a later optimization pass, if we eventually have some on the VCode, could rearrange things. So I think we should do here what you did for the signed case below, and wrap up all of the checks into one VCode meta-instruction.</p>
</blockquote>



<a name="202612871"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612871" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612871">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448568522">PR Review Comment</a>:</p>
<blockquote>
<p>Yes, I'd suggest something like the <code>NarrowValueMode</code> stuff, but deferring that till later is definitely OK!</p>
</blockquote>



<a name="202612872"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202612872" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202612872">(Jul 01 2020 at 19:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448569587">PR Review Comment</a>:</p>
<blockquote>
<p>It seems in some places the backend measures size in bits, while in others (e.g. size field in a divide VCode instruction) it is in bytes. Might be good to standardize on bits (given that all the types, e.g. <code>I8</code>, are named as such), and use the enum suggested above here as well; it could have a <code>from_bits</code> as on <code>InstSize</code> in aarch64.</p>
</blockquote>



<a name="202671897"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202671897" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202671897">(Jul 02 2020 at 10:36)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-441556082">PR Review</a>.</p>



<a name="202671898"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202671898" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202671898">(Jul 02 2020 at 10:36)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r448909291">PR Review Comment</a>:</p>
<blockquote>
<p>Interestingly, there's also a <code>PCRel32</code> in addition to <code>JmpRel32</code>: the former adds the value read at the offset before patching, while the latter does subtract 4 to the read value before patching (because control flow instructions are relative to the start of the next instruction on x64). This is one of these cases here. Should i rename <code>JmpRel32</code> to <code>PCRel32Disp4</code> or something like this instead?</p>
</blockquote>



<a name="202697765"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202697765" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202697765">(Jul 02 2020 at 14:43)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449053665">PR Review Comment</a>:</p>
<blockquote>
<p>Yep, it'll probably be part of a greater refactoring though; some instructions use a boolean to distinguish 32 bits encodings from 64 bits encodings, not implementing all the other ones. Maybe cg_clif wants the smaller sizes encodings? But if not, implementing only 32 and 64 bits might be sufficient in general.</p>
</blockquote>



<a name="202697775"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202697775" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202697775">(Jul 02 2020 at 14:43)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-441747587">PR Review</a>.</p>



<a name="202698010"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202698010" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202698010">(Jul 02 2020 at 14:45)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-441749109">PR Review</a>.</p>



<a name="202698012"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202698012" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202698012">(Jul 02 2020 at 14:45)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449054770">PR Review Comment</a>:</p>
<blockquote>
<p>Added to the todo list, will probably make more sense once all the instructions have been implemented.</p>
</blockquote>



<a name="202713909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202713909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202713909">(Jul 02 2020 at 16:47)</a>:</h4>
<p>bnjbvr updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1956">PR #1956</a> from <code>x64</code> to <code>main</code>:</p>
<blockquote>
<p>This makes it possible to run a basic C hello world with wasmtime. It's a large PR but the commit splitting should make it easier to review. I'll add emit tests for div/idiv before landing, but reviewing shouldn't be blocked on this.</p>
</blockquote>



<a name="202769291"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202769291" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202769291">(Jul 03 2020 at 05:09)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-442148674">PR Review</a>.</p>



<a name="202769292"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202769292" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202769292">(Jul 03 2020 at 05:09)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449378054">PR Review Comment</a>:</p>
<blockquote>
<p>As a general comment, I think we should try to avoid generating 8- and 16- bit instructions as much as possible, and instead generate 32-bit insns where we ignore the upper 24 or 16 bits of the result.  The reason is to avoid partial register stalls.  These are documented in the Intel Opt manual, in my copy Sec 3.5.2.4 (Partial Register Stalls), with similar comments in following sections (Partial XMM Register Stalls, Partial Flag Register Stalls).</p>
<p>Also, 16-bit instructions which contain an immediate field are subject to the stalls described in Sec 3.4.2.3 (Length Changing Prefixes).</p>
</blockquote>



<a name="202770671"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202770671" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202770671">(Jul 03 2020 at 05:49)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-442160053">PR Review</a>.</p>



<a name="202770672"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202770672" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202770672">(Jul 03 2020 at 05:49)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449387713">PR Review Comment</a>:</p>
<blockquote>
<p>Maybe <code>LabelUse</code>s need to be architecture-specific, then, if they are not already?</p>
</blockquote>



<a name="202770872"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202770872" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202770872">(Jul 03 2020 at 05:53)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-442161355">PR Review</a>.</p>



<a name="202770873"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202770873" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202770873">(Jul 03 2020 at 05:53)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449388747">PR Review Comment</a>:</p>
<blockquote>
<p>I agree; but I also don't think this is critical.  We could quite reasonably change <code>cmp $0, ..</code> into <code>tst ..</code> (and maybe some other patterns) in future work to optimise the x64 isel, so we don't delay landing this one further.</p>
</blockquote>



<a name="202771233"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202771233" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202771233">(Jul 03 2020 at 06:02)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-442164063">PR Review</a>.</p>



<a name="202771234"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202771234" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202771234">(Jul 03 2020 at 06:02)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449390985">PR Review Comment</a>:</p>
<blockquote>
<p>Or have a naming scheme that makes the units explicit?  For example, <code>offset_szW</code> -- offset in words.  <code>offset_szB</code> -- offset in bytes.  <code>offset_sz</code> -- offset in bits.  Also, useful variants -- <code>offset_szBlg2</code> -- log 2 of size in bytes, etc.</p>
</blockquote>



<a name="202773128"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202773128" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202773128">(Jul 03 2020 at 06:47)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-442164562">PR Review</a>.</p>



<a name="202773129"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202773129" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202773129">(Jul 03 2020 at 06:47)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-442164562">PR Review</a>.</p>



<a name="202773130"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202773130" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202773130">(Jul 03 2020 at 06:47)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449391360">PR Review Comment</a>:</p>
<blockquote>
<p>also for and, or, xor, mul</p>
</blockquote>



<a name="202773131"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202773131" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202773131">(Jul 03 2020 at 06:47)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449401612">PR Review Comment</a>:</p>
<blockquote>
<p>I think this needs to show the inverse of <code>trap_code</code> (viz, <code>trap_code ^ 1</code>) since what this currently displays is "skip the trap if <code>trap_code</code> is true".</p>
</blockquote>



<a name="202773132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202773132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202773132">(Jul 03 2020 at 06:47)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449393919">PR Review Comment</a>:</p>
<blockquote>
<p>Please could you add here, a comment showing what instructions are actually emitted?  It's pretty hard to infer from reading the code.  Same for SignExtendRaxRdx et al.</p>
</blockquote>



<a name="202773133"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202773133" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202773133">(Jul 03 2020 at 06:47)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449396863">PR Review Comment</a>:</p>
<blockquote>
<p>Given that <code>cwd</code> is 6690, <code>cdq</code> is 90 and <code>cqo</code> is 4890, (or something like that), and there's only three possibilities, I think it would be clearer to the reader just to write the relevant sink.putN calls directly.  These widening insns are ancient 1970s-era stuff and don't fit in the "standard" RM-&gt;R scheme.</p>
</blockquote>



<a name="202773134"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202773134" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202773134">(Jul 03 2020 at 06:47)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449392603">PR Review Comment</a>:</p>
<blockquote>
<p>Per comments I added to one of Chris's comments, I think we should generate 32-bit insns instead of 8- or 16-bit insns except where we absolutely can't avoid them (eg, stores), so as to avoid partial register stall hazards.</p>
</blockquote>



<a name="202783642"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202783642" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202783642">(Jul 03 2020 at 09:21)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-442275021">PR Review</a>.</p>



<a name="202783644"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202783644" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202783644">(Jul 03 2020 at 09:21)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449477732">PR Review Comment</a>:</p>
<blockquote>
<p>They are architecture-specific, already: this is defined in inst/mod.rs.</p>
</blockquote>



<a name="202785711"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202785711" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202785711">(Jul 03 2020 at 09:47)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#pullrequestreview-442292000">PR Review</a>.</p>



<a name="202785712"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202785712" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202785712">(Jul 03 2020 at 09:47)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/1956#discussion_r449490804">PR Review Comment</a>:</p>
<blockquote>
<p>Good point, I'll revisit this by re-checking all the lowering.</p>
</blockquote>



<a name="202795962"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202795962" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202795962">(Jul 03 2020 at 11:58)</a>:</h4>
<p>bnjbvr updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1956">PR #1956</a> from <code>x64</code> to <code>main</code>:</p>
<blockquote>
<p>This makes it possible to run a basic C hello world with wasmtime. It's a large PR but the commit splitting should make it easier to review. I'll add emit tests for div/idiv before landing, but reviewing shouldn't be blocked on this.</p>
</blockquote>



<a name="202798904"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231956%20machinst%20x64%3A%20branch%20table%2C%20spill/rel.../near/202798904" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231956.20machinst.20x64.3A.20branch.20table.2C.20spill.2Frel.2E.2E.2E.html#202798904">(Jul 03 2020 at 12:33)</a>:</h4>
<p>bnjbvr merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1956">PR #1956</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>