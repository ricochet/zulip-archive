<html>
<head><meta charset="utf-8"><title>wasmtime / issue #1045 Tracking issue for missing i8/i16 ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231045.20Tracking.20issue.20for.20missing.20i8.2Fi16.20.2E.2E.2E.html">wasmtime / issue #1045 Tracking issue for missing i8/i16 ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="247582991"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231045%20Tracking%20issue%20for%20missing%20i8/i16%20.../near/247582991" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231045.20Tracking.20issue.20for.20missing.20i8.2Fi16.20.2E.2E.2E.html#247582991">(Jul 29 2021 at 13:29)</a>:</h4>
<p>bjorn3 edited <a href="https://github.com/bytecodealliance/wasmtime/issues/1045">issue #1045</a>:</p>
<blockquote>
<p>Opening this issue to prevent polluting the issue list</p>
<ul>
<li>
<p>[x] clz.i16</p>
<p>```<br>
  target x86_64</p>
<p>function %clz_i16(i16) -&gt; i16 fast {<br>
  ebb0(v0: i16):<br>
      v1 = clz.i16 v0<br>
      return v1<br>
  }<br>
  ```</p>
<p><code>
  function %clz_i16(i16 [%rdi]) -&gt; i16 [%rax] fast {
                                  ebb0(v0: i16):
                                      v1 = clz.i16 v0
  [Op1ret#c3]                         return v1
                                      ^~~~~~ verifier inst1: v1 is a ghost value used by a real [Op1ret#c3] instruction
  }
  </code></p>
</li>
<li>
<p>[x] ireduce i16 -&gt; i8</p>
<p>```<br>
  target x86_64</p>
<p>function %ireduce_i8(i16) -&gt; i8 fast {<br>
  ebb0(v0: i16):<br>
      v1 = ireduce.i8 v0<br>
      return v1<br>
  }<br>
  ```</p>
<p>```<br>
  function %ireduce_i8(i16 [%rdi]) -&gt; i8 [%rax] fast {<br>
                                  ebb0(v0: i16):<br>
                                      v1 = ireduce.i8 v0<br>
  [Op1ret#c3]                         return v1<br>
                                      ^~~~~~ verifier inst1: v1 is a ghost value used by a real [Op1ret#c3] instruction</p>
<p>}<br>
  ```</p>
</li>
<li>
<p>[x] icmp.i8</p>
</li>
<li>[x] icmp_imm.i8</li>
<li>
<p>[x] ushr.i8</p>
</li>
<li>
<p>[ ] iadd_cout.i8</p>
</li>
<li>
<p>[ ] isub_bout.i8</p>
</li>
<li>
<p>[x] select.i8</p>
</li>
<li>
<p>[x] rotl.i8</p>
</li>
<li>[ ] rotr.i8</li>
</ul>
<p>Edit: update for <a href="https://github.com/bytecodealliance/cranelift/issues/524">bytecodealliance/cranelift#524</a><br>
Edit2: add <code>isplit.i32</code> and <code>iconcat.i32</code><br>
Edit3: removed <code>isplit.i32</code> and <code>iconcat.i32</code></p>
</blockquote>



<a name="247583004"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231045%20Tracking%20issue%20for%20missing%20i8/i16%20.../near/247583004" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231045.20Tracking.20issue.20for.20missing.20i8.2Fi16.20.2E.2E.2E.html#247583004">(Jul 29 2021 at 13:29)</a>:</h4>
<p>bjorn3 edited <a href="https://github.com/bytecodealliance/wasmtime/issues/1045">issue #1045</a>:</p>
<blockquote>
<p>Opening this issue to prevent polluting the issue list</p>
<ul>
<li>
<p>[x] clz.i16</p>
<p>```<br>
  target x86_64</p>
<p>function %clz_i16(i16) -&gt; i16 fast {<br>
  ebb0(v0: i16):<br>
      v1 = clz.i16 v0<br>
      return v1<br>
  }<br>
  ```</p>
<p><code>
  function %clz_i16(i16 [%rdi]) -&gt; i16 [%rax] fast {
                                  ebb0(v0: i16):
                                      v1 = clz.i16 v0
  [Op1ret#c3]                         return v1
                                      ^~~~~~ verifier inst1: v1 is a ghost value used by a real [Op1ret#c3] instruction
  }
  </code></p>
</li>
<li>
<p>[x] ireduce i16 -&gt; i8</p>
<p>```<br>
  target x86_64</p>
<p>function %ireduce_i8(i16) -&gt; i8 fast {<br>
  ebb0(v0: i16):<br>
      v1 = ireduce.i8 v0<br>
      return v1<br>
  }<br>
  ```</p>
<p>```<br>
  function %ireduce_i8(i16 [%rdi]) -&gt; i8 [%rax] fast {<br>
                                  ebb0(v0: i16):<br>
                                      v1 = ireduce.i8 v0<br>
  [Op1ret#c3]                         return v1<br>
                                      ^~~~~~ verifier inst1: v1 is a ghost value used by a real [Op1ret#c3] instruction</p>
<p>}<br>
  ```</p>
</li>
<li>
<p>[x] icmp.i8</p>
</li>
<li>[x] icmp_imm.i8</li>
<li>
<p>[x] ushr.i8</p>
</li>
<li>
<p>[ ] iadd_cout.i8</p>
</li>
<li>
<p>[ ] isub_bout.i8</p>
</li>
<li>
<p>[x] select.i8</p>
</li>
<li>
<p>[x] rotl.i8</p>
</li>
<li>[x] rotr.i8</li>
</ul>
<p>Edit: update for <a href="https://github.com/bytecodealliance/cranelift/issues/524">bytecodealliance/cranelift#524</a><br>
Edit2: add <code>isplit.i32</code> and <code>iconcat.i32</code><br>
Edit3: removed <code>isplit.i32</code> and <code>iconcat.i32</code></p>
</blockquote>



<a name="247609085"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231045%20Tracking%20issue%20for%20missing%20i8/i16%20.../near/247609085" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231045.20Tracking.20issue.20for.20missing.20i8.2Fi16.20.2E.2E.2E.html#247609085">(Jul 29 2021 at 16:44)</a>:</h4>
<p>bjorn3 edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/1045#issuecomment-500834648">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1045">issue #1045</a>:</p>
<blockquote>
<ul>
<li>[x] <code>rot{l,r}_imm.i16</code></li>
</ul>
</blockquote>



<a name="281213303"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231045%20Tracking%20issue%20for%20missing%20i8/i16%20.../near/281213303" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231045.20Tracking.20issue.20for.20missing.20i8.2Fi16.20.2E.2E.2E.html#281213303">(May 04 2022 at 20:12)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/1045#issuecomment-1117848888">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1045">issue #1045</a>:</p>
<blockquote>
<p>@bjorn3 can you comment on whether there are any remaining opcode/type combinations needed for i8/i16 by cg_clif, or whether we can close this issue?</p>
</blockquote>



<a name="281213846"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231045%20Tracking%20issue%20for%20missing%20i8/i16%20.../near/281213846" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231045.20Tracking.20issue.20for.20missing.20i8.2Fi16.20.2E.2E.2E.html#281213846">(May 04 2022 at 20:17)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/1045#issuecomment-1117853392">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1045">issue #1045</a>:</p>
<blockquote>
<p>fcvt_to_*int_sat.i8/i16 are the last ones I believe.</p>
</blockquote>



<a name="281213880"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231045%20Tracking%20issue%20for%20missing%20i8/i16%20.../near/281213880" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231045.20Tracking.20issue.20for.20missing.20i8.2Fi16.20.2E.2E.2E.html#281213880">(May 04 2022 at 20:17)</a>:</h4>
<p>bjorn3 edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/1045#issuecomment-1117853392">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1045">issue #1045</a>:</p>
<blockquote>
<p>fcvt_to_*int_sat.i8/i16 are the last ones remaining I believe.</p>
</blockquote>



<a name="281218642"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231045%20Tracking%20issue%20for%20missing%20i8/i16%20.../near/281218642" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231045.20Tracking.20issue.20for.20missing.20i8.2Fi16.20.2E.2E.2E.html#281218642">(May 04 2022 at 20:59)</a>:</h4>
<p>cfallin labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/1045">issue #1045</a>:</p>
<blockquote>
<p>Opening this issue to prevent polluting the issue list</p>
<ul>
<li>
<p>[x] clz.i16</p>
<p>```<br>
  target x86_64</p>
<p>function %clz_i16(i16) -&gt; i16 fast {<br>
  ebb0(v0: i16):<br>
      v1 = clz.i16 v0<br>
      return v1<br>
  }<br>
  ```</p>
<p><code>
  function %clz_i16(i16 [%rdi]) -&gt; i16 [%rax] fast {
                                  ebb0(v0: i16):
                                      v1 = clz.i16 v0
  [Op1ret#c3]                         return v1
                                      ^~~~~~ verifier inst1: v1 is a ghost value used by a real [Op1ret#c3] instruction
  }
  </code></p>
</li>
<li>
<p>[x] ireduce i16 -&gt; i8</p>
<p>```<br>
  target x86_64</p>
<p>function %ireduce_i8(i16) -&gt; i8 fast {<br>
  ebb0(v0: i16):<br>
      v1 = ireduce.i8 v0<br>
      return v1<br>
  }<br>
  ```</p>
<p>```<br>
  function %ireduce_i8(i16 [%rdi]) -&gt; i8 [%rax] fast {<br>
                                  ebb0(v0: i16):<br>
                                      v1 = ireduce.i8 v0<br>
  [Op1ret#c3]                         return v1<br>
                                      ^~~~~~ verifier inst1: v1 is a ghost value used by a real [Op1ret#c3] instruction</p>
<p>}<br>
  ```</p>
</li>
<li>
<p>[x] icmp.i8</p>
</li>
<li>[x] icmp_imm.i8</li>
<li>
<p>[x] ushr.i8</p>
</li>
<li>
<p>[ ] iadd_cout.i8</p>
</li>
<li>
<p>[ ] isub_bout.i8</p>
</li>
<li>
<p>[x] select.i8</p>
</li>
<li>
<p>[x] rotl.i8</p>
</li>
<li>[x] rotr.i8</li>
</ul>
<p>Edit: update for <a href="https://github.com/bytecodealliance/cranelift/issues/524">bytecodealliance/cranelift#524</a><br>
Edit2: add <code>isplit.i32</code> and <code>iconcat.i32</code><br>
Edit3: removed <code>isplit.i32</code> and <code>iconcat.i32</code></p>
</blockquote>



<a name="281218648"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231045%20Tracking%20issue%20for%20missing%20i8/i16%20.../near/281218648" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231045.20Tracking.20issue.20for.20missing.20i8.2Fi16.20.2E.2E.2E.html#281218648">(May 04 2022 at 20:59)</a>:</h4>
<p>cfallin labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/1045">issue #1045</a>:</p>
<blockquote>
<p>Opening this issue to prevent polluting the issue list</p>
<ul>
<li>
<p>[x] clz.i16</p>
<p>```<br>
  target x86_64</p>
<p>function %clz_i16(i16) -&gt; i16 fast {<br>
  ebb0(v0: i16):<br>
      v1 = clz.i16 v0<br>
      return v1<br>
  }<br>
  ```</p>
<p><code>
  function %clz_i16(i16 [%rdi]) -&gt; i16 [%rax] fast {
                                  ebb0(v0: i16):
                                      v1 = clz.i16 v0
  [Op1ret#c3]                         return v1
                                      ^~~~~~ verifier inst1: v1 is a ghost value used by a real [Op1ret#c3] instruction
  }
  </code></p>
</li>
<li>
<p>[x] ireduce i16 -&gt; i8</p>
<p>```<br>
  target x86_64</p>
<p>function %ireduce_i8(i16) -&gt; i8 fast {<br>
  ebb0(v0: i16):<br>
      v1 = ireduce.i8 v0<br>
      return v1<br>
  }<br>
  ```</p>
<p>```<br>
  function %ireduce_i8(i16 [%rdi]) -&gt; i8 [%rax] fast {<br>
                                  ebb0(v0: i16):<br>
                                      v1 = ireduce.i8 v0<br>
  [Op1ret#c3]                         return v1<br>
                                      ^~~~~~ verifier inst1: v1 is a ghost value used by a real [Op1ret#c3] instruction</p>
<p>}<br>
  ```</p>
</li>
<li>
<p>[x] icmp.i8</p>
</li>
<li>[x] icmp_imm.i8</li>
<li>
<p>[x] ushr.i8</p>
</li>
<li>
<p>[ ] iadd_cout.i8</p>
</li>
<li>
<p>[ ] isub_bout.i8</p>
</li>
<li>
<p>[x] select.i8</p>
</li>
<li>
<p>[x] rotl.i8</p>
</li>
<li>[x] rotr.i8</li>
</ul>
<p>Edit: update for <a href="https://github.com/bytecodealliance/cranelift/issues/524">bytecodealliance/cranelift#524</a><br>
Edit2: add <code>isplit.i32</code> and <code>iconcat.i32</code><br>
Edit3: removed <code>isplit.i32</code> and <code>iconcat.i32</code></p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>