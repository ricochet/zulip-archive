<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #1310 Enable jitdump profiling support b... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231310.20Enable.20jitdump.20profiling.20support.20b.2E.2E.2E.html">wasmtime / Issue #1310 Enable jitdump profiling support b...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="190532410"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231310%20Enable%20jitdump%20profiling%20support%20b.../near/190532410" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231310.20Enable.20jitdump.20profiling.20support.20b.2E.2E.2E.html#190532410">(Mar 13 2020 at 17:33)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/1310#issuecomment-598835277" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1310#issuecomment-598835277">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1310" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1310">Issue #1310</a>:</p>
<blockquote>
<p>cc @jlb6740</p>
<p>I was playing around with this some more and this, for me at least, also seems to support <code>-g</code> out of the box. I passed <code>-g</code> and got at least some line number/etc in the output. They didn't seem like the most accurate things in the world, but then again I've found <code>perf</code>'s sources to rarely be that accurate anyway!</p>
<p>In any case I'm curious on your thoughts on this!</p>
</blockquote>



<a name="190542778"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231310%20Enable%20jitdump%20profiling%20support%20b.../near/190542778" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231310.20Enable.20jitdump.20profiling.20support.20b.2E.2E.2E.html#190542778">(Mar 13 2020 at 19:06)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/1310#issuecomment-598871204" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1310#issuecomment-598871204">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1310" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1310">Issue #1310</a>:</p>
<blockquote>
<blockquote>
<p>The <code>jitdump</code> Cargo feature is now enabled by default which means that<br>
our published binaries, C API artifacts, and crates will support<br>
profiling at runtime by default. </p>
</blockquote>
<p>@alexcrichton I think initially this was designed to not be the case out of concern to not bring in dependent crates if profiling support wasn't desired. Specifically for a production build jitdump support should not be baked in by default I don't think. Also, when vtune support is added should that also be default?  Should we just make this default for the debug build but optional for the production build?</p>
</blockquote>



<a name="190543760"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231310%20Enable%20jitdump%20profiling%20support%20b.../near/190543760" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231310.20Enable.20jitdump.20profiling.20support.20b.2E.2E.2E.html#190543760">(Mar 13 2020 at 19:16)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/1310#issuecomment-598874729" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1310#issuecomment-598874729">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1310" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1310">Issue #1310</a>:</p>
<blockquote>
<p>Oh definitely yeah, I think we want the ability to build without profiling support, but on reading all this it looks like the profiling support is pretty lightweight so it seemed reasonable to enable by default. The binaries we ship I think we're ok enabling them, and then users building their own binaries still have the option to turn this feature on/off. </p>
<p>I'm fine going either way myself, I just found this to be so slick once it worked it seemed like we'd want it in official builds by default :)</p>
</blockquote>



<a name="190548341"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231310%20Enable%20jitdump%20profiling%20support%20b.../near/190548341" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231310.20Enable.20jitdump.20profiling.20support.20b.2E.2E.2E.html#190548341">(Mar 13 2020 at 20:00)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/1310#issuecomment-598889276" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1310#issuecomment-598889276">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1310" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1310">Issue #1310</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>This issue or pull request has been labeled: "wasi", "wasmtime:api", "wasmtime:c-api", "wasmtime:docs"</p>
<p>&lt;details&gt; &lt;summary&gt;Users Subscribed to "wasmtime:api"&lt;/summary&gt;</p>
<ul>
<li>@peterhuene</li>
</ul>
<p>&lt;/details&gt;<br>
&lt;details&gt; &lt;summary&gt;Users Subscribed to "wasmtime:c-api"&lt;/summary&gt;</p>
<ul>
<li>@peterhuene</li>
</ul>
<p>&lt;/details&gt;</p>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action" target="_blank" title="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a></p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>