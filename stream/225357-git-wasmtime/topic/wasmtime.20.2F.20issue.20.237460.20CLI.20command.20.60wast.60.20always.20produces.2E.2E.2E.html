<html>
<head><meta charset="utf-8"><title>wasmtime / issue #7460 CLI command `wast` always produces... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237460.20CLI.20command.20.60wast.60.20always.20produces.2E.2E.2E.html">wasmtime / issue #7460 CLI command `wast` always produces...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="399987499"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237460%20CLI%20command%20%60wast%60%20always%20produces.../near/399987499" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237460.20CLI.20command.20.60wast.60.20always.20produces.2E.2E.2E.html#399987499">(Nov 02 2023 at 17:08)</a>:</h4>
<p>dhil opened <a href="https://github.com/bytecodealliance/wasmtime/issues/7460">issue #7460</a>:</p>
<blockquote>
<p>It seems no matter what file (valid Wast, invalid Wast, existing, non-existing) you feed to <code>wast</code> CLI command it always fails with an instantiation error, e.g.</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$<span class="w"> </span>./target/debug/wasmtime<span class="w"> </span>wast<span class="w"> </span>foo.wast
thread<span class="w"> </span><span class="s1">'main'</span><span class="w"> </span>panicked<span class="w"> </span>at<span class="w"> </span><span class="s1">'error instantiating "spectest": failed to parse WebAssembly module</span>

<span class="s1">Caused by:</span>
<span class="s1">    Invalid input WebAssembly code at offset 0: magic header not detected: bad magic number'</span>,<span class="w"> </span>src/commands/wast.rs:33:14
note:<span class="w"> </span>run<span class="w"> </span>with<span class="w"> </span><span class="sb">`</span><span class="nv">RUST_BACKTRACE</span><span class="o">=</span><span class="m">1</span><span class="sb">`</span><span class="w"> </span>environment<span class="w"> </span>variable<span class="w"> </span>to<span class="w"> </span>display<span class="w"> </span>a<span class="w"> </span>backtrace
</code></pre></div>
<p>The above snippet using the debug build from commit e0bfa7336de20f76048edbdc0157ee637a2c5fea.</p>
</blockquote>



<a name="399987537"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237460%20CLI%20command%20%60wast%60%20always%20produces.../near/399987537" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237460.20CLI.20command.20.60wast.60.20always.20produces.2E.2E.2E.html#399987537">(Nov 02 2023 at 17:08)</a>:</h4>
<p>dhil edited <a href="https://github.com/bytecodealliance/wasmtime/issues/7460">issue #7460</a>:</p>
<blockquote>
<p>It seems no matter what file (valid Wast, invalid Wast, existing, non-existing) you feed to <code>wast</code> CLI command it always fails with an instantiation error, e.g.</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$<span class="w"> </span>./target/debug/wasmtime<span class="w"> </span>wast<span class="w"> </span>foo.wast
thread<span class="w"> </span><span class="s1">'main'</span><span class="w"> </span>panicked<span class="w"> </span>at<span class="w"> </span><span class="s1">'error instantiating "spectest": failed to parse WebAssembly module</span>

<span class="s1">Caused by:</span>
<span class="s1">    Invalid input WebAssembly code at offset 0: magic header not detected: bad magic number'</span>,<span class="w"> </span>src/commands/wast.rs:33:14
note:<span class="w"> </span>run<span class="w"> </span>with<span class="w"> </span><span class="sb">`</span><span class="nv">RUST_BACKTRACE</span><span class="o">=</span><span class="m">1</span><span class="sb">`</span><span class="w"> </span>environment<span class="w"> </span>variable<span class="w"> </span>to<span class="w"> </span>display<span class="w"> </span>a<span class="w"> </span>backtrace
</code></pre></div>
<p>The above snippet uses the debug build from commit e0bfa7336de20f76048edbdc0157ee637a2c5fea.</p>
</blockquote>



<a name="399987705"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237460%20CLI%20command%20%60wast%60%20always%20produces.../near/399987705" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237460.20CLI.20command.20.60wast.60.20always.20produces.2E.2E.2E.html#399987705">(Nov 02 2023 at 17:09)</a>:</h4>
<p>dhil edited <a href="https://github.com/bytecodealliance/wasmtime/issues/7460">issue #7460</a>:</p>
<blockquote>
<p>It seems no matter what file (valid Wast, invalid Wast, existing, non-existing) you feed to the <code>wast</code> CLI command, it always fails with an instantiation error, e.g.</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$<span class="w"> </span>./target/debug/wasmtime<span class="w"> </span>wast<span class="w"> </span>foo.wast
thread<span class="w"> </span><span class="s1">'main'</span><span class="w"> </span>panicked<span class="w"> </span>at<span class="w"> </span><span class="s1">'error instantiating "spectest": failed to parse WebAssembly module</span>

<span class="s1">Caused by:</span>
<span class="s1">    Invalid input WebAssembly code at offset 0: magic header not detected: bad magic number'</span>,<span class="w"> </span>src/commands/wast.rs:33:14
note:<span class="w"> </span>run<span class="w"> </span>with<span class="w"> </span><span class="sb">`</span><span class="nv">RUST_BACKTRACE</span><span class="o">=</span><span class="m">1</span><span class="sb">`</span><span class="w"> </span>environment<span class="w"> </span>variable<span class="w"> </span>to<span class="w"> </span>display<span class="w"> </span>a<span class="w"> </span>backtrace
</code></pre></div>
<p>The above snippet uses the debug build from commit e0bfa7336de20f76048edbdc0157ee637a2c5fea.</p>
</blockquote>



<a name="400491740"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237460%20CLI%20command%20%60wast%60%20always%20produces.../near/400491740" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237460.20CLI.20command.20.60wast.60.20always.20produces.2E.2E.2E.html#400491740">(Nov 06 2023 at 09:28)</a>:</h4>
<p>dhil closed <a href="https://github.com/bytecodealliance/wasmtime/issues/7460">issue #7460</a>:</p>
<blockquote>
<p>It seems no matter what file (valid Wast, invalid Wast, existing, non-existing) you feed to the <code>wast</code> CLI command, it always fails with an instantiation error, e.g.</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>$<span class="w"> </span>./target/debug/wasmtime<span class="w"> </span>wast<span class="w"> </span>foo.wast
thread<span class="w"> </span><span class="s1">'main'</span><span class="w"> </span>panicked<span class="w"> </span>at<span class="w"> </span><span class="s1">'error instantiating "spectest": failed to parse WebAssembly module</span>

<span class="s1">Caused by:</span>
<span class="s1">    Invalid input WebAssembly code at offset 0: magic header not detected: bad magic number'</span>,<span class="w"> </span>src/commands/wast.rs:33:14
note:<span class="w"> </span>run<span class="w"> </span>with<span class="w"> </span><span class="sb">`</span><span class="nv">RUST_BACKTRACE</span><span class="o">=</span><span class="m">1</span><span class="sb">`</span><span class="w"> </span>environment<span class="w"> </span>variable<span class="w"> </span>to<span class="w"> </span>display<span class="w"> </span>a<span class="w"> </span>backtrace
</code></pre></div>
<p>The above snippet uses the debug build from commit e0bfa7336de20f76048edbdc0157ee637a2c5fea.</p>
</blockquote>



<a name="400491742"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237460%20CLI%20command%20%60wast%60%20always%20produces.../near/400491742" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237460.20CLI.20command.20.60wast.60.20always.20produces.2E.2E.2E.html#400491742">(Nov 06 2023 at 09:28)</a>:</h4>
<p>dhil <a href="https://github.com/bytecodealliance/wasmtime/issues/7460#issuecomment-1794402568">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7460">issue #7460</a>:</p>
<blockquote>
<p>This issue seems to have been resolved by #7464.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>