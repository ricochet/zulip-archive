<html>
<head><meta charset="utf-8"><title>wasmtime / PR #6047 Validate the OPCODE_SIGNATURES table · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html">wasmtime / PR #6047 Validate the OPCODE_SIGNATURES table</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="342619523"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342619523" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342619523">(Mar 17 2023 at 17:02)</a>:</h4>
<p>elliottt opened <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a> from <code>trevor/validate-opcode-signatures</code> to <code>main</code>:</p>
<blockquote>
<p>Note: this PR is rebased on top of #6046, and shouldn't be merged without it.</p>
<p>Add a program to cranelift-fuzzgen that can be used to validate the <code>OPCODE_SIGNATURES</code> table that we maintain in cranelift-fuzzgen. Additionally, fix some signatures that were identified as not matching the signature from the instruction's specification.</p>
<p>This is incremental work towards generating instruction instantiations in cranelift-fuzzgen using the instruction specification instead of explicitly opting-in an instruction.</p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="342619881"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342619881" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342619881">(Mar 17 2023 at 17:03)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#pullrequestreview-1346346703">PR review</a>.</p>



<a name="342619885"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342619885" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342619885">(Mar 17 2023 at 17:03)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#discussion_r1140490484">PR review comment</a>:</p>
<blockquote>
<p>An alternate approach here would be to instead use the signature to check the <code>OPCODE_SIGNATURES</code> table, however explicitly generating all instantiations leaves the door open to using that set to generate the complement of signatures that we don't currently generate instructions for when fuzzing.</p>
</blockquote>



<a name="342620373"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342620373" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342620373">(Mar 17 2023 at 17:05)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#pullrequestreview-1346349617">PR review</a>.</p>



<a name="342620374"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342620374" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342620374">(Mar 17 2023 at 17:05)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#discussion_r1140492368">PR review comment</a>:</p>
<blockquote>
<p>One question I have here is if this is the best way to report this information. Perhaps reworking this program as a test instead would be better, as that would prevent any backsliding on the existing signatures?</p>
</blockquote>



<a name="342620693"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342620693" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342620693">(Mar 17 2023 at 17:07)</a>:</h4>
<p><strong>elliottt</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a> as ready for review.</p>



<a name="342620722"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342620722" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342620722">(Mar 17 2023 at 17:07)</a>:</h4>
<p><strong>elliottt</strong> requested <a href="https://github.com/afonso360">afonso360</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a>.</p>



<a name="342622336"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342622336" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342622336">(Mar 17 2023 at 17:15)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a> from <code>trevor/validate-opcode-signatures</code> to <code>main</code>.</p>



<a name="342624087"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342624087" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342624087">(Mar 17 2023 at 17:22)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a> from <code>trevor/validate-opcode-signatures</code> to <code>main</code>.</p>



<a name="342631549"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342631549" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342631549">(Mar 17 2023 at 17:54)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#pullrequestreview-1346364181">PR review</a>.</p>



<a name="342631550"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342631550" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342631550">(Mar 17 2023 at 17:54)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#pullrequestreview-1346364181">PR review</a>.</p>



<a name="342631553"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342631553" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342631553">(Mar 17 2023 at 17:54)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#discussion_r1140509628">PR review comment</a>:</p>
<blockquote>
<p>I was initially surprised as to how this didn't crash, but I guess we never generate <code>F64X4</code>'s so we never selected this!</p>
</blockquote>



<a name="342631554"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342631554" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342631554">(Mar 17 2023 at 17:54)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#discussion_r1140530718">PR review comment</a>:</p>
<blockquote>
<p>This took me a while to figure out, but I think its the same thing I wrote in my <a href="https://github.com/afonso360/cranelift-opcode-gen/blob/75bb630898fef4761d8058dd5a5582364e301ca4/src/main.rs#L15-L37">proof of concept code</a> a while ago!</p>
<p>Adding some sort of comment explaining this operation at a high level would be really helpful. </p>
<p>In my POC I borrowed the name from <a href="https://docs.rs/itertools/latest/itertools/trait.Itertools.html#method.multi_cartesian_product">Itertools::multi_cartesian_product</a> which does the same operation, I'm not sure if that is the correct mathematical name for the operation, but it made sense at the time.</p>
</blockquote>



<a name="342631556"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342631556" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342631556">(Mar 17 2023 at 17:54)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#discussion_r1140501981">PR review comment</a>:</p>
<blockquote>
<p>Yeah, changing this to be a test would be awesome, that way we definitely wouldn't miss wrong signatures. (which there are way more than I would have thought <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span>)</p>
</blockquote>



<a name="342637875"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342637875" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342637875">(Mar 17 2023 at 18:21)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#pullrequestreview-1346470850">PR review</a>.</p>



<a name="342637876"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342637876" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342637876">(Mar 17 2023 at 18:21)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#discussion_r1140570896">PR review comment</a>:</p>
<blockquote>
<p>That's definitely the right name -- I'll add some comments so this thing isn't quite so opaque :)</p>
</blockquote>



<a name="342638485"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342638485" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342638485">(Mar 17 2023 at 18:24)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a> from <code>trevor/validate-opcode-signatures</code> to <code>main</code>.</p>



<a name="342664920"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342664920" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342664920">(Mar 17 2023 at 21:02)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a> from <code>trevor/validate-opcode-signatures</code> to <code>main</code>.</p>



<a name="342664952"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342664952" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342664952">(Mar 17 2023 at 21:02)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a> from <code>trevor/validate-opcode-signatures</code> to <code>main</code>.</p>



<a name="342665041"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342665041" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342665041">(Mar 17 2023 at 21:03)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#pullrequestreview-1346736498">PR review</a>.</p>



<a name="342665043"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342665043" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342665043">(Mar 17 2023 at 21:03)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#discussion_r1140705355">PR review comment</a>:</p>
<blockquote>
<p>I reworked it as a test, so you'll see the output if a new signature is added that doesn't match the constraints of the instruction DSL <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
</blockquote>



<a name="342665612"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342665612" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342665612">(Mar 17 2023 at 21:08)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a> from <code>trevor/validate-opcode-signatures</code> to <code>main</code>.</p>



<a name="342665641"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342665641" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342665641">(Mar 17 2023 at 21:08)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a> from <code>trevor/validate-opcode-signatures</code> to <code>main</code>.</p>



<a name="342665687"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342665687" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342665687">(Mar 17 2023 at 21:09)</a>:</h4>
<p>elliottt edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a> from <code>trevor/validate-opcode-signatures</code> to <code>main</code>:</p>
<blockquote>
<p>Note: this PR is rebased on top of #6046, and shouldn't be merged without it.</p>
<p>Add a test to cranelift-fuzzgen that validates the <code>OPCODE_SIGNATURES</code> table by comparing it against valid instruction instantiations. Additionally, fix some signatures that were identified as not matching the signature from the instruction's specification.</p>
<p>This is incremental work towards generating instruction instantiations in cranelift-fuzzgen using the instruction specification instead of explicitly opting-in an instruction.</p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="342665857"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342665857" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342665857">(Mar 17 2023 at 21:11)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#pullrequestreview-1346742590">PR review</a>.</p>



<a name="342665859"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342665859" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342665859">(Mar 17 2023 at 21:11)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/6047#discussion_r1140711472">PR review comment</a>:</p>
<blockquote>
<p>This is the current list of discrepancies that we'll need to fix to ensure that <code>OPCODE_SIGNATURES</code> is reflecting the current state of instruction constraints. A separate issue will be to reconcile the instruction constraints with the current behavior of the backends, but we'll get there eventually :) </p>
</blockquote>



<a name="342669423"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342669423" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342669423">(Mar 17 2023 at 21:40)</a>:</h4>
<p>elliottt edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a> from <code>trevor/validate-opcode-signatures</code> to <code>main</code>:</p>
<blockquote>
<p>Add a test to cranelift-fuzzgen that validates the <code>OPCODE_SIGNATURES</code> table by comparing it against valid instruction instantiations. Additionally, fix some signatures that were identified as not matching the signature from the instruction's specification.</p>
<p>This is incremental work towards generating instruction instantiations in cranelift-fuzzgen using the instruction specification instead of explicitly opting-in an instruction.</p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="342682164"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342682164" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342682164">(Mar 17 2023 at 23:21)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a> from <code>trevor/validate-opcode-signatures</code> to <code>main</code>.</p>



<a name="342830231"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236047%20Validate%20the%20OPCODE_SIGNATURES%20table/near/342830231" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236047.20Validate.20the.20OPCODE_SIGNATURES.20table.html#342830231">(Mar 18 2023 at 19:14)</a>:</h4>
<p>elliottt merged <a href="https://github.com/bytecodealliance/wasmtime/pull/6047">PR #6047</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>