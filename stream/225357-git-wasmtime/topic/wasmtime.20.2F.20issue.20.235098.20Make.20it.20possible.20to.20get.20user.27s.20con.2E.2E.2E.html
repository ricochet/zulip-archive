<html>
<head><meta charset="utf-8"><title>wasmtime / issue #5098 Make it possible to get user&#x27;s con... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235098.20Make.20it.20possible.20to.20get.20user.27s.20con.2E.2E.2E.html">wasmtime / issue #5098 Make it possible to get user&#x27;s con...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="305474078"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235098%20Make%20it%20possible%20to%20get%20user%27s%20con.../near/305474078" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235098.20Make.20it.20possible.20to.20get.20user.27s.20con.2E.2E.2E.html#305474078">(Oct 22 2022 at 02:17)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/5098#issuecomment-1287584720">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5098">issue #5098</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @peterhuene</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "wasmtime:api"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>peterhuene: wasmtime:api</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="305838044"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235098%20Make%20it%20possible%20to%20get%20user%27s%20con.../near/305838044" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235098.20Make.20it.20possible.20to.20get.20user.27s.20con.2E.2E.2E.html#305838044">(Oct 24 2022 at 14:54)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/5098#issuecomment-1289164025">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5098">issue #5098</a>:</p>
<blockquote>
<p>Personally I'm a bit hesitant to dive into this world of errors and downcasting and trying to make <code>Trap</code> look like an <code>anyhow::Error</code>, mostly because we'll probably just have a long tail of feature requests. I wonder, though, if we could perhaps make a slight change to the embedding APIs and solve this? For example I think the underlying issue here is the ability for an embedder to return an error in a host function and get back the original error on "the other side". I think that could be possible with:</p>
<ul>
<li>Change all host functions to return <code>anyhow::Error</code> as the <code>Result</code> error instead of <code>Trap</code></li>
<li>Remove the <code>From</code> impls for <code>Trap</code> for error-looking things</li>
<li>Change all Wasmtime APIs that return <code>Result&lt;_, Trap&gt;</code> to instead return <code>anyhow::Result&lt;_&gt;</code></li>
</ul>
<p>That would effectively mean that we punt all error handling to <code>anyhow</code> and everything is plumbed through there rather than having to go through <code>Trap</code>. Traps would then always be a "leaf" error which wouldn't contain anything other than a message -- and we could perhaps even do away with that since there's probably no need for a host-created <code>Trap</code> at that point any more.</p>
<p>While it would be a more impactful change in terms of embedding APIs at least to me it feels more sustainable over time than slowly moving much of <code>anyhow::Error</code> into <code>Trap</code> which. Basically, in retrospect, I think that the current design of <code>Trap</code> may be a mistake.</p>
</blockquote>



<a name="305887930"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235098%20Make%20it%20possible%20to%20get%20user%27s%20con.../near/305887930" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235098.20Make.20it.20possible.20to.20get.20user.27s.20con.2E.2E.2E.html#305887930">(Oct 24 2022 at 18:21)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/pull/5098#issuecomment-1289416973">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5098">issue #5098</a>:</p>
<blockquote>
<p>I spent some time thinking about this and I totally agree we should try changing the design to use anyhow everywhere and see how it goes. For instance, it has the additional knock-on effect that the i32 exit can become a concrete user error <code>struct I32Exit(i32)</code> belonging to the <code>wasi-common</code> crate, something we all wanted since the i32 variant was added to traps when Wasi was created.</p>
<p>However, I'm worrying about prioritizing this redesign right now, because it will involve touching a lot of crates, tests, and downstream consumers of wasmtime. This project isn't on the critical path for our current thrust to make the component model a usable thing. So, with that in mind, I'd rather merge this non-breaking (except for the Box error thing) change now, and then circle back and revisit the whole design a bit later.</p>
</blockquote>



<a name="305909978"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235098%20Make%20it%20possible%20to%20get%20user%27s%20con.../near/305909978" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235098.20Make.20it.20possible.20to.20get.20user.27s.20con.2E.2E.2E.html#305909978">(Oct 24 2022 at 20:37)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/pull/5098#issuecomment-1289585304">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5098">issue #5098</a>:</p>
<blockquote>
<p>It occurred to me that we only need to merge this PR to get the benefits of moving WASI to a concrete exit type, so I guess thats an additional argument towards merging - it makes our migration path clearer</p>
</blockquote>



<a name="305910008"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235098%20Make%20it%20possible%20to%20get%20user%27s%20con.../near/305910008" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235098.20Make.20it.20possible.20to.20get.20user.27s.20con.2E.2E.2E.html#305910008">(Oct 24 2022 at 20:37)</a>:</h4>
<p>pchickey edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/5098#issuecomment-1289585304">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5098">issue #5098</a>:</p>
<blockquote>
<p>It occurred to me that we only need to merge this PR to get the benefits of moving WASI to a concrete exit type, so I guess thats an additional argument towards merging - it makes our migration path incremental</p>
</blockquote>



<a name="305912265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235098%20Make%20it%20possible%20to%20get%20user%27s%20con.../near/305912265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235098.20Make.20it.20possible.20to.20get.20user.27s.20con.2E.2E.2E.html#305912265">(Oct 24 2022 at 20:55)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/5098#issuecomment-1289605593">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5098">issue #5098</a>:</p>
<blockquote>
<p>I'm ok taking a more expedient route, but I wouldn't expect this to have much "complicated" churn with it since signatures can largely "just" be updated and <code>?</code> should continue to work as usual. I realize though that the churn, while easy to handle, can be large and cumbersome.</p>
<p>As-is though this'll need to change a little bit since when printing a stack of errors this'll double-print the error that the trap represents with <code>anyhow::Error</code>. It'll be printed by <code>Display for Trap</code> and then it will additionally be printed by the <code>.source()</code> since that returns the same trap. I think that we would at least need to fix that before landing, even in an interim state.</p>
</blockquote>



<a name="306342431"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235098%20Make%20it%20possible%20to%20get%20user%27s%20con.../near/306342431" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235098.20Make.20it.20possible.20to.20get.20user.27s.20con.2E.2E.2E.html#306342431">(Oct 26 2022 at 22:12)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/pull/5098#issuecomment-1292717687">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5098">issue #5098</a>:</p>
<blockquote>
<p>It appears to me that the trap source only gets printed twice with <code>println!("{:?}", anyhow::Error::from(the_trap))</code> - anyhow's display impl doesn't print the source. I don't think we should make Trap's Display impl less useful when the only benefit is to improve an anyhow::Error wrapper's Debug impl.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">anyhow</span>::<span class="nb">Result</span><span class="p">;</span><span class="w"></span>
<span class="k">use</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="o">*</span><span class="p">;</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Store</span>::<span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span>::<span class="n">default</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">wat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">r#"</span>
<span class="s">        (module</span>
<span class="s">        (func $hello (import "" "hello"))</span>
<span class="s">        (func (export "run") (call $hello))</span>
<span class="s">        )</span>
<span class="s">    "#</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="cp">#[derive(Debug)]</span><span class="w"></span>
<span class="w">    </span><span class="k">struct</span> <span class="nc">MyTrap</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">impl</span><span class="w"> </span><span class="n">std</span>::<span class="n">fmt</span>::<span class="n">Display</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">MyTrap</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">fn</span> <span class="nf">fmt</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">f</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">std</span>::<span class="n">fmt</span>::<span class="n">Formatter</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">std</span>::<span class="n">fmt</span>::<span class="nb">Result</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="fm">write!</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="s">"my trap"</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">impl</span><span class="w"> </span><span class="n">std</span>::<span class="n">error</span>::<span class="n">Error</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">MyTrap</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Module</span>::<span class="n">new</span><span class="p">(</span><span class="n">store</span><span class="p">.</span><span class="n">engine</span><span class="p">(),</span><span class="w"> </span><span class="n">wat</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">hello_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FuncType</span>::<span class="n">new</span><span class="p">(</span><span class="nb">None</span><span class="p">,</span><span class="w"> </span><span class="nb">None</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">hello_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Func</span>::<span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="n">hello_type</span><span class="p">,</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nb">Err</span><span class="p">(</span><span class="n">Trap</span>::<span class="n">from</span><span class="p">(</span><span class="n">anyhow</span>::<span class="n">Error</span>::<span class="n">from</span><span class="p">(</span><span class="n">MyTrap</span><span class="p">)))</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instance</span>::<span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">module</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[</span><span class="n">hello_func</span><span class="p">.</span><span class="n">into</span><span class="p">()])</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">run_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">instance</span><span class="p">.</span><span class="n">get_typed_func</span>::<span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="p">(),</span><span class="w"> </span><span class="n">_</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="s">"run"</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">run_func</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">call</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="p">())</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">err</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="s">"error calling function"</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"display run_func's err: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"debug run_func's err: {:?}"</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span>::<span class="n">error</span>::<span class="n">Error</span>::<span class="n">source</span><span class="p">(</span><span class="o">&amp;</span><span class="n">e</span><span class="p">).</span><span class="n">expect</span><span class="p">(</span><span class="s">"trap has a source"</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"display err's source: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"debug err's source: {:?}"</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="n">source</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">downcast_ref</span>::<span class="o">&lt;</span><span class="n">MyTrap</span><span class="o">&gt;</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="s">"source downcasts to MyTrap"</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="nb">drop</span><span class="p">(</span><span class="n">source</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">anyhow</span>::<span class="n">Error</span>::<span class="n">from</span><span class="p">(</span><span class="n">e</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"display run_func's anyhow'd err: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"debug run_func's anyhow'd err: {:?}"</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">source</span><span class="p">().</span><span class="n">expect</span><span class="p">(</span><span class="s">"anyhow trap has a source"</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"display anyhow'd err's source: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"debug anyhow'd err's source: {:?}"</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="nb">Ok</span><span class="p">(())</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">display</span><span class="w"> </span><span class="n">run_func</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">err</span>: <span class="nc">my</span><span class="w"> </span><span class="n">trap</span><span class="w"></span>
<span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
    <span class="mi">0</span>:   <span class="mh">0x2c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!&lt;</span><span class="n">wasm</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="w"></span>

<span class="n">debug</span><span class="w"> </span><span class="n">run_func</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">err</span>: <span class="nc">Trap</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">reason</span>: <span class="nc">Error</span><span class="p">(</span><span class="n">my</span><span class="w"> </span><span class="n">trap</span><span class="p">),</span><span class="w"> </span><span class="n">wasm_trace</span>: <span class="p">[</span><span class="n">FrameInfo</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">module_name</span>: <span class="nb">None</span><span class="p">,</span><span class="w"> </span><span class="n">func_index</span>: <span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">func_name</span>: <span class="nb">None</span><span class="p">,</span><span class="w"> </span><span class="n">func_start</span>: <span class="nc">FilePos</span><span class="p">(</span><span class="mi">43</span><span class="p">),</span><span class="w"> </span><span class="n">instr</span>: <span class="nb">Some</span><span class="p">(</span><span class="n">FilePos</span><span class="p">(</span><span class="mi">44</span><span class="p">)),</span><span class="w"> </span><span class="n">symbols</span>: <span class="p">[]</span><span class="w"> </span><span class="p">}],</span><span class="w"> </span><span class="n">runtime_trace</span>: <span class="nc">Backtrace</span><span class="p">([</span><span class="n">Frame</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">pc</span>: <span class="mi">140485629587494</span><span class="p">,</span><span class="w"> </span><span class="n">fp</span>: <span class="mi">140726870698496</span><span class="w"> </span><span class="p">}])</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">display</span><span class="w"> </span><span class="n">err</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">source</span>: <span class="nc">my</span><span class="w"> </span><span class="n">trap</span><span class="w"></span>
<span class="n">debug</span><span class="w"> </span><span class="n">err</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">source</span>: <span class="nc">MyTrap</span><span class="w"></span>
<span class="n">display</span><span class="w"> </span><span class="n">run_func</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">anyhow</span><span class="o">'</span><span class="na">d</span><span class="w"> </span><span class="n">err</span>: <span class="nc">my</span><span class="w"> </span><span class="n">trap</span><span class="w"></span>
<span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
    <span class="mi">0</span>:   <span class="mh">0x2c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!&lt;</span><span class="n">wasm</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="w"></span>

<span class="n">debug</span><span class="w"> </span><span class="n">run_func</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">anyhow</span><span class="o">'</span><span class="na">d</span><span class="w"> </span><span class="n">err</span>: <span class="nc">my</span><span class="w"> </span><span class="n">trap</span><span class="w"></span>
<span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
    <span class="mi">0</span>:   <span class="mh">0x2c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!&lt;</span><span class="n">wasm</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="w"></span>


<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="nc">my</span><span class="w"> </span><span class="n">trap</span><span class="w"></span>
<span class="n">display</span><span class="w"> </span><span class="n">anyhow</span><span class="o">'</span><span class="na">d</span><span class="w"> </span><span class="n">err</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">source</span>: <span class="nc">my</span><span class="w"> </span><span class="n">trap</span><span class="w"></span>
<span class="n">debug</span><span class="w"> </span><span class="n">anyhow</span><span class="o">'</span><span class="na">d</span><span class="w"> </span><span class="n">err</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">source</span>: <span class="nc">MyTrap</span><span class="w"></span>
</code></pre></div>
</blockquote>



<a name="306342572"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235098%20Make%20it%20possible%20to%20get%20user%27s%20con.../near/306342572" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235098.20Make.20it.20possible.20to.20get.20user.27s.20con.2E.2E.2E.html#306342572">(Oct 26 2022 at 22:14)</a>:</h4>
<p>pchickey edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/5098#issuecomment-1292717687">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5098">issue #5098</a>:</p>
<blockquote>
<p>It appears to me that the trap source only gets printed twice with <code>println!("{:?}", anyhow::Error::from(the_trap))</code> - anyhow's display impl doesn't print the source. I don't think we should make Trap's Display impl less useful when the only benefit is to improve an anyhow::Error wrapper's Debug impl.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">use</span><span class="w"> </span><span class="n">anyhow</span>::<span class="nb">Result</span><span class="p">;</span><span class="w"></span>
<span class="k">use</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="o">*</span><span class="p">;</span><span class="w"></span>

<span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nb">Result</span><span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Store</span>::<span class="o">&lt;</span><span class="p">()</span><span class="o">&gt;</span>::<span class="n">default</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">wat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">r#"</span>
<span class="s">        (module</span>
<span class="s">        (func $hello (import "" "hello"))</span>
<span class="s">        (func (export "run") (call $hello))</span>
<span class="s">        )</span>
<span class="s">    "#</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="cp">#[derive(Debug)]</span><span class="w"></span>
<span class="w">    </span><span class="k">struct</span> <span class="nc">MyTrap</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">impl</span><span class="w"> </span><span class="n">std</span>::<span class="n">fmt</span>::<span class="n">Display</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">MyTrap</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">fn</span> <span class="nf">fmt</span><span class="p">(</span><span class="o">&amp;</span><span class="bp">self</span><span class="p">,</span><span class="w"> </span><span class="n">f</span>: <span class="kp">&amp;</span><span class="nc">mut</span><span class="w"> </span><span class="n">std</span>::<span class="n">fmt</span>::<span class="n">Formatter</span><span class="o">&lt;'</span><span class="nb">_</span><span class="o">&gt;</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="nc">std</span>::<span class="n">fmt</span>::<span class="nb">Result</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="fm">write!</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="s">"my trap"</span><span class="p">)</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">impl</span><span class="w"> </span><span class="n">std</span>::<span class="n">error</span>::<span class="n">Error</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">MyTrap</span><span class="w"> </span><span class="p">{}</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Module</span>::<span class="n">new</span><span class="p">(</span><span class="n">store</span><span class="p">.</span><span class="n">engine</span><span class="p">(),</span><span class="w"> </span><span class="n">wat</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">hello_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FuncType</span>::<span class="n">new</span><span class="p">(</span><span class="nb">None</span><span class="p">,</span><span class="w"> </span><span class="nb">None</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">hello_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Func</span>::<span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="n">hello_type</span><span class="p">,</span><span class="w"> </span><span class="o">|</span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="p">,</span><span class="w"> </span><span class="n">_</span><span class="o">|</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nb">Err</span><span class="p">(</span><span class="n">Trap</span>::<span class="n">from</span><span class="p">(</span><span class="n">anyhow</span>::<span class="n">Error</span>::<span class="n">from</span><span class="p">(</span><span class="n">MyTrap</span><span class="p">)))</span><span class="w"></span>
<span class="w">    </span><span class="p">});</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">instance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Instance</span>::<span class="n">new</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">module</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[</span><span class="n">hello_func</span><span class="p">.</span><span class="n">into</span><span class="p">()])</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">run_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">instance</span><span class="p">.</span><span class="n">get_typed_func</span>::<span class="o">&lt;</span><span class="p">(),</span><span class="w"> </span><span class="p">(),</span><span class="w"> </span><span class="n">_</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="s">"run"</span><span class="p">)</span><span class="o">?</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">e</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">run_func</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">call</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="n">store</span><span class="p">,</span><span class="w"> </span><span class="p">())</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">err</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="s">"error calling function"</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"display run_func's err: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"debug run_func's err: {:?}"</span><span class="p">,</span><span class="w"> </span><span class="n">e</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">std</span>::<span class="n">error</span>::<span class="n">Error</span>::<span class="n">source</span><span class="p">(</span><span class="o">&amp;</span><span class="n">e</span><span class="p">).</span><span class="n">expect</span><span class="p">(</span><span class="s">"trap has a source"</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"display err's source: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"debug err's source: {:?}"</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="n">source</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">downcast_ref</span>::<span class="o">&lt;</span><span class="n">MyTrap</span><span class="o">&gt;</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="s">"source downcasts to MyTrap"</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="nb">drop</span><span class="p">(</span><span class="n">source</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">anyhow</span>::<span class="n">Error</span>::<span class="n">from</span><span class="p">(</span><span class="n">e</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"display run_func's anyhow'd err: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"debug run_func's anyhow'd err: {:?}"</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="n">source</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">source</span><span class="p">().</span><span class="n">expect</span><span class="p">(</span><span class="s">"anyhow trap has a source"</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"display anyhow'd err's source: {}"</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="fm">println!</span><span class="p">(</span><span class="s">"debug anyhow'd err's source: {:?}"</span><span class="p">,</span><span class="w"> </span><span class="n">source</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="n">source</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">downcast_ref</span>::<span class="o">&lt;</span><span class="n">MyTrap</span><span class="o">&gt;</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span><span class="p">.</span><span class="n">expect</span><span class="p">(</span><span class="s">"source downcasts to MyTrap"</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="nb">Ok</span><span class="p">(())</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">display</span><span class="w"> </span><span class="n">run_func</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">err</span>: <span class="nc">my</span><span class="w"> </span><span class="n">trap</span><span class="w"></span>
<span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
    <span class="mi">0</span>:   <span class="mh">0x2c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!&lt;</span><span class="n">wasm</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="w"></span>

<span class="n">debug</span><span class="w"> </span><span class="n">run_func</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">err</span>: <span class="nc">Trap</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">reason</span>: <span class="nc">Error</span><span class="p">(</span><span class="n">my</span><span class="w"> </span><span class="n">trap</span><span class="p">),</span><span class="w"> </span><span class="n">wasm_trace</span>: <span class="p">[</span><span class="n">FrameInfo</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">module_name</span>: <span class="nb">None</span><span class="p">,</span><span class="w"> </span><span class="n">func_index</span>: <span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">func_name</span>: <span class="nb">None</span><span class="p">,</span><span class="w"> </span><span class="n">func_start</span>: <span class="nc">FilePos</span><span class="p">(</span><span class="mi">43</span><span class="p">),</span><span class="w"> </span><span class="n">instr</span>: <span class="nb">Some</span><span class="p">(</span><span class="n">FilePos</span><span class="p">(</span><span class="mi">44</span><span class="p">)),</span><span class="w"> </span><span class="n">symbols</span>: <span class="p">[]</span><span class="w"> </span><span class="p">}],</span><span class="w"> </span><span class="n">runtime_trace</span>: <span class="nc">Backtrace</span><span class="p">([</span><span class="n">Frame</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">pc</span>: <span class="mi">140485629587494</span><span class="p">,</span><span class="w"> </span><span class="n">fp</span>: <span class="mi">140726870698496</span><span class="w"> </span><span class="p">}])</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<span class="n">display</span><span class="w"> </span><span class="n">err</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">source</span>: <span class="nc">my</span><span class="w"> </span><span class="n">trap</span><span class="w"></span>
<span class="n">debug</span><span class="w"> </span><span class="n">err</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">source</span>: <span class="nc">MyTrap</span><span class="w"></span>
<span class="n">display</span><span class="w"> </span><span class="n">run_func</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">anyhow</span><span class="o">'</span><span class="na">d</span><span class="w"> </span><span class="n">err</span>: <span class="nc">my</span><span class="w"> </span><span class="n">trap</span><span class="w"></span>
<span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
    <span class="mi">0</span>:   <span class="mh">0x2c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!&lt;</span><span class="n">wasm</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="w"></span>

<span class="n">debug</span><span class="w"> </span><span class="n">run_func</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">anyhow</span><span class="o">'</span><span class="na">d</span><span class="w"> </span><span class="n">err</span>: <span class="nc">my</span><span class="w"> </span><span class="n">trap</span><span class="w"></span>
<span class="n">wasm</span><span class="w"> </span><span class="n">backtrace</span>:
    <span class="mi">0</span>:   <span class="mh">0x2c</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;!&lt;</span><span class="n">wasm</span><span class="w"> </span><span class="n">function</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="w"></span>


<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="nc">my</span><span class="w"> </span><span class="n">trap</span><span class="w"></span>
<span class="n">display</span><span class="w"> </span><span class="n">anyhow</span><span class="o">'</span><span class="na">d</span><span class="w"> </span><span class="n">err</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">source</span>: <span class="nc">my</span><span class="w"> </span><span class="n">trap</span><span class="w"></span>
<span class="n">debug</span><span class="w"> </span><span class="n">anyhow</span><span class="o">'</span><span class="na">d</span><span class="w"> </span><span class="n">err</span><span class="o">'</span><span class="na">s</span><span class="w"> </span><span class="n">source</span>: <span class="nc">MyTrap</span><span class="w"></span>
</code></pre></div>
</blockquote>



<a name="306471670"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235098%20Make%20it%20possible%20to%20get%20user%27s%20con.../near/306471670" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235098.20Make.20it.20possible.20to.20get.20user.27s.20con.2E.2E.2E.html#306471670">(Oct 27 2022 at 15:13)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/5098#issuecomment-1293685863">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5098">issue #5098</a>:</p>
<blockquote>
<p>Right yeah the hit is to <code>Debug for anyhow::Error</code>, although that's the primary mechanism by which errors are displayed AFAIK for <code>anyhow</code>, notably used by the CLI for example. </p>
<p>If you'd prefer I'd be happy to take on the change to use <code>anyhow::Error</code> everywhere and remove the ability for <code>Trap</code> to contain arbitrary host errors, personally I think that's the best way forward without contorting ourselves too much internally within <code>wasmtime::Trap</code></p>
</blockquote>



<a name="306488400"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235098%20Make%20it%20possible%20to%20get%20user%27s%20con.../near/306488400" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235098.20Make.20it.20possible.20to.20get.20user.27s.20con.2E.2E.2E.html#306488400">(Oct 27 2022 at 16:30)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/pull/5098#issuecomment-1293784405">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5098">issue #5098</a>:</p>
<blockquote>
<p>OK, that works for me. I took a whack at it the other day for about 90 minutes and got sidetracked into wiggle. I'd rather go mess with snapshot1.wasm today than traps :)</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>