<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7284 riscv64: Improve scalar_to_vector for... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237284.20riscv64.3A.20Improve.20scalar_to_vector.20for.2E.2E.2E.html">wasmtime / PR #7284 riscv64: Improve scalar_to_vector for...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="397361848"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237284%20riscv64%3A%20Improve%20scalar_to_vector%20for.../near/397361848" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237284.20riscv64.3A.20Improve.20scalar_to_vector.20for.2E.2E.2E.html#397361848">(Oct 18 2023 at 18:04)</a>:</h4>
<p><strong>BieVic</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7284">PR #7284</a>.</p>



<a name="397361849"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237284%20riscv64%3A%20Improve%20scalar_to_vector%20for.../near/397361849" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237284.20riscv64.3A.20Improve.20scalar_to_vector.20for.2E.2E.2E.html#397361849">(Oct 18 2023 at 18:04)</a>:</h4>
<p><strong>BieVic</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7284">PR #7284</a>.</p>



<a name="397361850"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237284%20riscv64%3A%20Improve%20scalar_to_vector%20for.../near/397361850" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237284.20riscv64.3A.20Improve.20scalar_to_vector.20for.2E.2E.2E.html#397361850">(Oct 18 2023 at 18:04)</a>:</h4>
<p>BieVic opened <a href="https://github.com/bytecodealliance/wasmtime/pull/7284">PR #7284</a> from <code>BieVic:rv64-vmerge-vim</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This simple improvement adds a rule for the <code>vmerge.vim</code> instruction and an <code>imm5_from_value</code> extractor.<br>
Closes #7189 <br>
</p>
</blockquote>



<a name="397387368"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237284%20riscv64%3A%20Improve%20scalar_to_vector%20for.../near/397387368" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237284.20riscv64.3A.20Improve.20scalar_to_vector.20for.2E.2E.2E.html#397387368">(Oct 18 2023 at 21:46)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7284#pullrequestreview-1686179455">PR review</a>:</p>
<blockquote>
<p>This looks great to me <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> . Thanks for working on this!</p>
<p>Could you also add a run test over at <code>cranelift/filetests/filetests/runtests/simd-scalartovector.clif</code> so that this also gets tested that way in CI?</p>
</blockquote>



<a name="397387369"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237284%20riscv64%3A%20Improve%20scalar_to_vector%20for.../near/397387369" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237284.20riscv64.3A.20Improve.20scalar_to_vector.20for.2E.2E.2E.html#397387369">(Oct 18 2023 at 21:46)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7284#pullrequestreview-1686179455">PR review</a>:</p>
<blockquote>
<p>This looks great to me <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> . Thanks for working on this!</p>
<p>Could you also add a run test over at <code>cranelift/filetests/filetests/runtests/simd-scalartovector.clif</code> so that this also gets tested that way in CI?</p>
</blockquote>



<a name="397387370"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237284%20riscv64%3A%20Improve%20scalar_to_vector%20for.../near/397387370" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237284.20riscv64.3A.20Improve.20scalar_to_vector.20for.2E.2E.2E.html#397387370">(Oct 18 2023 at 21:46)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/7284#discussion_r1364558878">PR review comment</a>:</p>
<blockquote>
<div class="codehilite" data-code-language="suggestion"><pre><span></span><code>(rule (replicated_imm5 (splat (imm5_from_value n))) n)
</code></pre></div>
<p>Now that we've extracted <code>imm5_from_value</code> into a separate rule, we should also use it here, so that we don't have duplicate definitions.</p>
</blockquote>



<a name="397528312"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237284%20riscv64%3A%20Improve%20scalar_to_vector%20for.../near/397528312" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237284.20riscv64.3A.20Improve.20scalar_to_vector.20for.2E.2E.2E.html#397528312">(Oct 19 2023 at 15:20)</a>:</h4>
<p>BieVic updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7284">PR #7284</a>.</p>



<a name="397532123"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237284%20riscv64%3A%20Improve%20scalar_to_vector%20for.../near/397532123" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237284.20riscv64.3A.20Improve.20scalar_to_vector.20for.2E.2E.2E.html#397532123">(Oct 19 2023 at 15:41)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7284#pullrequestreview-1688078858">PR review</a>:</p>
<blockquote>
<p>Looks great, Thanks!</p>
</blockquote>



<a name="397532139"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237284%20riscv64%3A%20Improve%20scalar_to_vector%20for.../near/397532139" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237284.20riscv64.3A.20Improve.20scalar_to_vector.20for.2E.2E.2E.html#397532139">(Oct 19 2023 at 15:41)</a>:</h4>
<p>afonso360 has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/7284">PR #7284</a>.</p>



<a name="397543285"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237284%20riscv64%3A%20Improve%20scalar_to_vector%20for.../near/397543285" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237284.20riscv64.3A.20Improve.20scalar_to_vector.20for.2E.2E.2E.html#397543285">(Oct 19 2023 at 16:52)</a>:</h4>
<p>afonso360 merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7284">PR #7284</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>