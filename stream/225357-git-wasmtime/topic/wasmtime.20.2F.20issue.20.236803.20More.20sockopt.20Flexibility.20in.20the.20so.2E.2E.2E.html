<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6803 More sockopt Flexibility in the so... ¬∑ git-wasmtime ¬∑ Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236803.20More.20sockopt.20Flexibility.20in.20the.20so.2E.2E.2E.html">wasmtime / issue #6803 More sockopt Flexibility in the so...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="381900366"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236803%20More%20sockopt%20Flexibility%20in%20the%20so.../near/381900366" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236803.20More.20sockopt.20Flexibility.20in.20the.20so.2E.2E.2E.html#381900366">(Aug 04 2023 at 15:51)</a>:</h4>
<p>keithmattix edited <a href="https://github.com/bytecodealliance/wasmtime/issues/6803">issue #6803</a>:</p>
<blockquote>
<h4>Feature</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span>üèæ Hello! For the purposes of building something service mesh-esque using wasm, more flexible SOCK_OPT functionality in the socket interface would be extremely beneficial. The big one we use in mesh world is <code>SO_ORIGINAL_DST</code>, but there are others. How would I go about passing ~arbitrary socket options to the underlying host?</p>
<h4>Benefit</h4>
<p>Service mesh and other networking applications can have access to more complex socket functionality on the host.</p>
<h4>Implementation</h4>
<p>TBD<br>
</p>
</blockquote>



<a name="382766896"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236803%20More%20sockopt%20Flexibility%20in%20the%20so.../near/382766896" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236803.20More.20sockopt.20Flexibility.20in.20the.20so.2E.2E.2E.html#382766896">(Aug 07 2023 at 21:56)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/issues/6803#issuecomment-1668628382">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6803">issue #6803</a>:</p>
<blockquote>
<p>I'm not sure the context of this request. We have a rudimentary sockets implementation as part of WASI preview 1, but it doesn't have any spec written down nor any tests in our tree, and we aren't looking to spend any additional effort on that spec or implementation (and in fact may delete it - see <a href="https://github.com/bytecodealliance/wasmtime/issues/6370">https://github.com/bytecodealliance/wasmtime/issues/6370</a> - are you a user? if so, can you help contribute compatibility support?). We are planning to implement <a href="https://github.com/WebAssembly/wasi-sockets">https://github.com/WebAssembly/wasi-sockets</a> very soon, which we feel is a much better spec for both users and implementors. </p>
</blockquote>



<a name="382766971"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236803%20More%20sockopt%20Flexibility%20in%20the%20so.../near/382766971" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236803.20More.20sockopt.20Flexibility.20in.20the.20so.2E.2E.2E.html#382766971">(Aug 07 2023 at 21:56)</a>:</h4>
<p>pchickey edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/6803#issuecomment-1668628382">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6803">issue #6803</a>:</p>
<blockquote>
<p>I'm not sure the context of this request. We have a rudimentary sockets implementation as part of WASI preview 1, but it doesn't have any spec written down nor any tests in our tree, and we aren't looking to spend any additional effort on that spec or implementation (and in fact may delete it - see <a href="https://github.com/bytecodealliance/wasmtime/issues/6370">https://github.com/bytecodealliance/wasmtime/issues/6370</a> - are you a user? if so, can you help contribute compatibility support?).</p>
<p>We are planning to implement <a href="https://github.com/WebAssembly/wasi-sockets">https://github.com/WebAssembly/wasi-sockets</a> very soon, which we feel is a much better spec for both users and implementors. Does that spec have the options you need? If not, lets please discuss it in that spec repo.</p>
</blockquote>



<a name="382770405"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236803%20More%20sockopt%20Flexibility%20in%20the%20so.../near/382770405" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236803.20More.20sockopt.20Flexibility.20in.20the.20so.2E.2E.2E.html#382770405">(Aug 07 2023 at 22:24)</a>:</h4>
<p>keithmattix <a href="https://github.com/bytecodealliance/wasmtime/issues/6803#issuecomment-1668652980">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6803">issue #6803</a>:</p>
<blockquote>
<p>Ah I wasn't aware of that other repo; I still don't see the options there, so I'll create an issue in that repo</p>
</blockquote>



<a name="382770409"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236803%20More%20sockopt%20Flexibility%20in%20the%20so.../near/382770409" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236803.20More.20sockopt.20Flexibility.20in.20the.20so.2E.2E.2E.html#382770409">(Aug 07 2023 at 22:24)</a>:</h4>
<p>keithmattix closed <a href="https://github.com/bytecodealliance/wasmtime/issues/6803">issue #6803</a>:</p>
<blockquote>
<h4>Feature</h4>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span>üèæ Hello! For the purposes of building something service mesh-esque using wasm, more flexible SOCK_OPT functionality in the socket interface would be extremely beneficial. The big one we use in mesh world is <code>SO_ORIGINAL_DST</code>, but there are others. How would I go about passing ~arbitrary socket options to the underlying host?</p>
<h4>Benefit</h4>
<p>Service mesh and other networking applications can have access to more complex socket functionality on the host.</p>
<h4>Implementation</h4>
<p>TBD<br>
</p>
</blockquote>



<a name="382775275"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236803%20More%20sockopt%20Flexibility%20in%20the%20so.../near/382775275" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236803.20More.20sockopt.20Flexibility.20in.20the.20so.2E.2E.2E.html#382775275">(Aug 07 2023 at 23:04)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/issues/6803#issuecomment-1668683271">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6803">issue #6803</a>:</p>
<blockquote>
<p>Ok. Just to confirm, you're not using any existing sockets functionality in the wasi-common preview 1 implementation, so you won't be affected if it gets deleted without a direct replacement, and instead have to adopt wasi-sockets in preview 2 instead?</p>
</blockquote>



<a name="383002258"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236803%20More%20sockopt%20Flexibility%20in%20the%20so.../near/383002258" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236803.20More.20sockopt.20Flexibility.20in.20the.20so.2E.2E.2E.html#383002258">(Aug 08 2023 at 15:42)</a>:</h4>
<p>keithmattix <a href="https://github.com/bytecodealliance/wasmtime/issues/6803#issuecomment-1669861661">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6803">issue #6803</a>:</p>
<blockquote>
<p>Yes! I explained more in <a href="https://github.com/webassembly/wasi-sockets/issues/45">webassembly/wasi-sockets#45</a></p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>