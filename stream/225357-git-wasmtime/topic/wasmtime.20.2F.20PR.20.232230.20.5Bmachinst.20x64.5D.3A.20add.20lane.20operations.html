<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2230 [machinst x64]: add lane operations · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html">wasmtime / PR #2230 [machinst x64]: add lane operations</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="211289343"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211289343" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211289343">(Sep 25 2020 at 17:36)</a>:</h4>
<p>abrown opened <a href="https://github.com/bytecodealliance/wasmtime/pull/2230">PR #2230</a> from <code>lane</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds x64 implementations for <code>extract_lane</code>, <code>replace_lane</code>, <code>shuffle</code>, and <code>swizzle</code> as well as some saturating addition (necessary for <code>swizzle</code>). I cannot yet enable the <code>simd_lane.wast</code> test because it also uses other instructions like <code>splat</code>, <code>all_true</code>, and <code>any_true</code> but I did verify that the assertions in <code>simd_lane.wast</code> that do not use these instructions pass.</p>
</blockquote>



<a name="211289771"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211289771" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211289771">(Sep 25 2020 at 17:40)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#pullrequestreview-496621522">PR Review</a>.</p>



<a name="211289772"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211289772" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211289772">(Sep 25 2020 at 17:40)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#discussion_r495138223">PR Review Comment</a>:</p>
<blockquote>
<p>The frontend could have incorrectly passed for example 2 as lane. Maybe add a <code>debug_assert!</code> that <code>lane &lt; src_ty.lane_count()</code>?</p>
</blockquote>



<a name="211289778"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211289778" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211289778">(Sep 25 2020 at 17:40)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#pullrequestreview-496621568">PR Review</a>.</p>



<a name="211289780"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211289780" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211289780">(Sep 25 2020 at 17:40)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#discussion_r495138269">PR Review Comment</a>:</p>
<blockquote>
<p>These assertions were only valid for <code>CMPP*</code>; with the addition of <code>PINSR*</code> and <code>PEXTR*</code> the reg classes can come from I64 in either slot (perhaps we could keep the <code>imm</code> assertion with <code>imm &lt; 16</code>).</p>
</blockquote>



<a name="211330572"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211330572" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211330572">(Sep 25 2020 at 23:57)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#pullrequestreview-496915113">PR Review</a>.</p>



<a name="211330573"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211330573" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211330573">(Sep 25 2020 at 23:57)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#pullrequestreview-496915113">PR Review</a>.</p>



<a name="211330574"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211330574" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211330574">(Sep 25 2020 at 23:57)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#discussion_r495323698">PR Review Comment</a>:</p>
<blockquote>
<p>Little style preference mostly, but maybe do a <code>let swapped = match *op { ... };</code> and then <code>let (dst, src) = if swapped { ... } else { ... };</code>? This keeps the code duplication down in case we add more logic around the <code>emit_...()</code> call later.</p>
</blockquote>



<a name="211330575"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211330575" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211330575">(Sep 25 2020 at 23:57)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#discussion_r495323928">PR Review Comment</a>:</p>
<blockquote>
<p>I'd prefer an <code>assert!()</code> here to ensure we avoid those opcodes, then avoid the extra nesting level of the if/else.</p>
</blockquote>



<a name="211330576"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211330576" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211330576">(Sep 25 2020 at 23:57)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#discussion_r495324616">PR Review Comment</a>:</p>
<blockquote>
<p>Doc comment and/or better name for this field perhaps? All the others are self-explanatory but I'm not sure what just <code>w</code> means without context...</p>
</blockquote>



<a name="211330577"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211330577" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211330577">(Sep 25 2020 at 23:57)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#discussion_r495325431">PR Review Comment</a>:</p>
<blockquote>
<p>Also, on preview below, the raw bool params to the encoding functions are somewhat bothersome; can we make this an enum instead for more self-documenting goodness?</p>
</blockquote>



<a name="211330578"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211330578" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211330578">(Sep 25 2020 at 23:57)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#discussion_r495328300">PR Review Comment</a>:</p>
<blockquote>
<p>comment clarification request: somewhat subtle, but let's note that the <em>CLIF</em> instruction spec also specifies this behavior. In theory we might have chosen a simpler behavior at the CLIF level and done the Wasm-required magic in the translation; the swizzle op in CLIF just happens to be aligned with Wasm. (It probably doesn't matter much and is unlikely to change, but precision doesn't hurt...).</p>
</blockquote>



<a name="211473755"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211473755" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211473755">(Sep 28 2020 at 10:14)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#pullrequestreview-497373262">PR Review</a>.</p>



<a name="211480690"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211480690" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211480690">(Sep 28 2020 at 11:41)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#pullrequestreview-497424649">PR Review</a>.</p>



<a name="211480691"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211480691" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211480691">(Sep 28 2020 at 11:41)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#pullrequestreview-497424649">PR Review</a>.</p>



<a name="211480692"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211480692" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211480692">(Sep 28 2020 at 11:41)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#discussion_r495872717">PR Review Comment</a>:</p>
<blockquote>
<p>Even better, for static goodness: use a different Vcode instruction for these two opcodes, so that the error becomes a compile time error.</p>
</blockquote>



<a name="211480693"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211480693" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211480693">(Sep 28 2020 at 11:41)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#discussion_r495875158">PR Review Comment</a>:</p>
<blockquote>
<p>While this may map the intel manual more closely, it's unusual and quite disturbing to see an input named <code>dst0</code> here, and it could lead to mental mapping errors (e.g. this can be written to without any issue). Can you name this <code>in_vec</code> or something like this?</p>
</blockquote>



<a name="211480695"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211480695" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211480695">(Sep 28 2020 at 11:41)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#discussion_r495873200">PR Review Comment</a>:</p>
<blockquote>
<p>Also, the tradition has to name this <code>is64</code> to indicate a 64-bits operation or something along those lines.</p>
</blockquote>



<a name="211520480"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211520480" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211520480">(Sep 28 2020 at 17:06)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#pullrequestreview-497732140">PR Review</a>.</p>



<a name="211520481"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211520481" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211520481">(Sep 28 2020 at 17:06)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#discussion_r496104769">PR Review Comment</a>:</p>
<blockquote>
<p>I went with the <code>assert!</code> here; it's a bit burdensome to create new <code>Inst</code> variants and creating new ones just adds to the chaos of deciding which variant to pick during lowering.</p>
</blockquote>



<a name="211521195"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211521195" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211521195">(Sep 28 2020 at 17:11)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#pullrequestreview-497736367">PR Review</a>.</p>



<a name="211521196"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211521196" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211521196">(Sep 28 2020 at 17:11)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/2230#discussion_r496107943">PR Review Comment</a>:</p>
<blockquote>
<p>Added additional documentation here. But note that we shouldn't translate the semantics at the Wasm-to-CLIF level because that would disadvantage ARM since the semantics of their instruction matches the Wasm SIMD semantics. (If you look at issues in the Wasm SIMD repository I've brought up several times how the Wasm SIMD semantics are skewed towards matching ARM semantics).</p>
</blockquote>



<a name="211537871"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211537871" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211537871">(Sep 28 2020 at 19:24)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2230">PR #2230</a> from <code>lane</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds x64 implementations for <code>extract_lane</code>, <code>replace_lane</code>, <code>shuffle</code>, and <code>swizzle</code> as well as some saturating addition (necessary for <code>swizzle</code>). I cannot yet enable the <code>simd_lane.wast</code> test because it also uses other instructions like <code>splat</code>, <code>all_true</code>, and <code>any_true</code> but I did verify that the assertions in <code>simd_lane.wast</code> that do not use these instructions pass.</p>
</blockquote>



<a name="211640055"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232230%20%5Bmachinst%20x64%5D%3A%20add%20lane%20operations/near/211640055" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232230.20.5Bmachinst.20x64.5D.3A.20add.20lane.20operations.html#211640055">(Sep 29 2020 at 15:45)</a>:</h4>
<p>abrown merged <a href="https://github.com/bytecodealliance/wasmtime/pull/2230">PR #2230</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>