<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6391 Land preview2-prototyping&#x27;s Wasi P... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236391.20Land.20preview2-prototyping.27s.20Wasi.20P.2E.2E.2E.html">wasmtime / issue #6391 Land preview2-prototyping&#x27;s Wasi P...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="359491323"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236391%20Land%20preview2-prototyping%27s%20Wasi%20P.../near/359491323" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236391.20Land.20preview2-prototyping.27s.20Wasi.20P.2E.2E.2E.html#359491323">(May 18 2023 at 20:31)</a>:</h4>
<p>pchickey <a href="https://github.com/bytecodealliance/wasmtime/pull/6391#issuecomment-1553609991">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6391">issue #6391</a>:</p>
<blockquote>
<p>That's correct: The new implementation is totally separate from the old one. There are a number of known deficiencies with the new implementation but we decided its time to move to this and iterate here. The new implementation won't replace the old one until we have resolved all of those problems, and it passes all of the same tests.</p>
<p>The comment in <code>file_dir_sync.rs</code> is a @sunfishcode question - I don't actually know what that means.</p>
</blockquote>



<a name="359493138"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236391%20Land%20preview2-prototyping%27s%20Wasi%20P.../near/359493138" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236391.20Land.20preview2-prototyping.27s.20Wasi.20P.2E.2E.2E.html#359493138">(May 18 2023 at 20:42)</a>:</h4>
<p>sunfishcode <a href="https://github.com/bytecodealliance/wasmtime/pull/6391#issuecomment-1553619717">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6391">issue #6391</a>:</p>
<blockquote>
<p>I think that comment in <a href="http://file_dir_sync.rs">file_dir_sync.rs</a> is outdated. I think we can uncomment those two lines.</p>
<p>Windows doesn't have a way to do a sync on a directory handle. Originally, WASI's impl would fail on Windows because we'd try to call the Windows API for files and it would fail when passed a directory handle. Now, we handle this so that it silently does nothing, which is the direction I think WASI as a whole is heading. The semantics for <code>sync</code> are "do whatever <code>sync</code> means in the underlying fs", and on Windows, that means do nothing.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>