<html>
<head><meta charset="utf-8"><title>wasmtime / issue #5017 Tls and abi for riscv64. · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235017.20Tls.20and.20abi.20for.20riscv64.2E.html">wasmtime / issue #5017 Tls and abi for riscv64.</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="302405786"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235017%20Tls%20and%20abi%20for%20riscv64./near/302405786" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235017.20Tls.20and.20abi.20for.20riscv64.2E.html#302405786">(Oct 05 2022 at 08:02)</a>:</h4>
<p>yuyang-ok <a href="https://github.com/bytecodealliance/wasmtime/pull/5017#issuecomment-1268080410">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5017">issue #5017</a>:</p>
<blockquote>
<p>I think I have finish this, But not tested.</p>
</blockquote>



<a name="302430380"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235017%20Tls%20and%20abi%20for%20riscv64./near/302430380" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235017.20Tls.20and.20abi.20for.20riscv64.2E.html#302430380">(Oct 05 2022 at 10:44)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/5017#issuecomment-1268263117">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5017">issue #5017</a>:</p>
<blockquote>
<p><code>frontend_config</code> is a method on the <code>TargetIsa</code> trait, which by default calls the <code>default_call_conv</code> method on the same trait to get the right call conv. Could you please implement <code>default_call_conv</code> of the <code>TargetIsa</code> trait instead?</p>
</blockquote>



<a name="302569027"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235017%20Tls%20and%20abi%20for%20riscv64./near/302569027" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235017.20Tls.20and.20abi.20for.20riscv64.2E.html#302569027">(Oct 06 2022 at 01:01)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/5017#issuecomment-1269166552">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5017">issue #5017</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @peterhuene</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "cranelift:area:x64", "cranelift:meta", "wasmtime:api"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>peterhuene: wasmtime:api</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="302961044"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235017%20Tls%20and%20abi%20for%20riscv64./near/302961044" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235017.20Tls.20and.20abi.20for.20riscv64.2E.html#302961044">(Oct 08 2022 at 02:59)</a>:</h4>
<p>yuyang-ok <a href="https://github.com/bytecodealliance/wasmtime/pull/5017#issuecomment-1272207923">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5017">issue #5017</a>:</p>
<blockquote>
<p>@bjorn3 <code>system_v_riscv_float_abi</code> has  been tested, I think <code>tls_value</code> cann't have  more meaningful  test right now.  <br>
</p>
</blockquote>



<a name="302972574"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235017%20Tls%20and%20abi%20for%20riscv64./near/302972574" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235017.20Tls.20and.20abi.20for.20riscv64.2E.html#302972574">(Oct 08 2022 at 06:39)</a>:</h4>
<p>yuyang-ok edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/5017#issuecomment-1272207923">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5017">issue #5017</a>:</p>
<blockquote>
<p>@bjorn3 <code>system_v_riscv_float_abi</code> has  been tested, I think <code>tls_value</code> cann't have  more meaningful  test right now at current framework.  <br>
</p>
</blockquote>



<a name="303084623"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235017%20Tls%20and%20abi%20for%20riscv64./near/303084623" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235017.20Tls.20and.20abi.20for.20riscv64.2E.html#303084623">(Oct 09 2022 at 02:50)</a>:</h4>
<p>yuyang-ok <a href="https://github.com/bytecodealliance/wasmtime/pull/5017#issuecomment-1272440921">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5017">issue #5017</a>:</p>
<blockquote>
<p>Is there some run test against <a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/filetests/filetests/isa/x64/tls_elf.clif#L16"><code>https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/filetests/filetests/isa/x64/tls_elf.clif</code> </a><br>
looks like not right.<br>
you just load the addr, should <code>load_i64</code> after load the addr.</p>
</blockquote>
<p>movq %rax, [%rax]</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code>
</code></pre></div>



<a name="310539261"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235017%20Tls%20and%20abi%20for%20riscv64./near/310539261" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235017.20Tls.20and.20abi.20for.20riscv64.2E.html#310539261">(Nov 17 2022 at 03:25)</a>:</h4>
<p>yuyang-ok <a href="https://github.com/bytecodealliance/wasmtime/pull/5017#issuecomment-1318009742">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5017">issue #5017</a>:</p>
<blockquote>
<p>I am little confused about the problem,How about merge and support riscv float abi.</p>
</blockquote>



<a name="395244726"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235017%20Tls%20and%20abi%20for%20riscv64./near/395244726" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235017.20Tls.20and.20abi.20for.20riscv64.2E.html#395244726">(Oct 06 2023 at 12:01)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/5017#issuecomment-1750523370">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5017">issue #5017</a>:</p>
<blockquote>
<p><a href="https://github.com/bytecodealliance/wasmtime/pull/7003">https://github.com/bytecodealliance/wasmtime/pull/7003</a> has implemented TLS support for riscv64.</p>
</blockquote>



<a name="395265278"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235017%20Tls%20and%20abi%20for%20riscv64./near/395265278" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235017.20Tls.20and.20abi.20for.20riscv64.2E.html#395265278">(Oct 06 2023 at 13:55)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/5017#issuecomment-1750723001">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5017">issue #5017</a>:</p>
<blockquote>
<p>Indeed! I'll close this in that case and it can be resubmitted with a rebase if necessary still.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>