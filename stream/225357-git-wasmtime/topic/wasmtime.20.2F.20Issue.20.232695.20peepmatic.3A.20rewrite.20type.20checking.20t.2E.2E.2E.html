<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2695 peepmatic: rewrite type checking t... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232695.20peepmatic.3A.20rewrite.20type.20checking.20t.2E.2E.2E.html">wasmtime / Issue #2695 peepmatic: rewrite type checking t...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="228277135"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232695%20peepmatic%3A%20rewrite%20type%20checking%20t.../near/228277135" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232695.20peepmatic.3A.20rewrite.20type.20checking.20t.2E.2E.2E.html#228277135">(Mar 01 2021 at 18:02)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/issues/2695">Issue #2695</a>:</p>
<blockquote>
<p>I originally punted on implementing this by hand and just gave all the type constraints to Z3, which was easy and is usually fast, but occasionally Z3 gets confused and hangs. Also the fuzzers have discovered inputs where Z3 hangs, which leads to noise in our fuzzing results.</p>
<p>We should rewrite Peepmatic's type checking to use the traditional approach to unifying type constraints via union-find.</p>
</blockquote>



<a name="228277136"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232695%20peepmatic%3A%20rewrite%20type%20checking%20t.../near/228277136" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232695.20peepmatic.3A.20rewrite.20type.20checking.20t.2E.2E.2E.html#228277136">(Mar 01 2021 at 18:02)</a>:</h4>
<p>fitzgen labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/2695">Issue #2695</a>:</p>
<blockquote>
<p>I originally punted on implementing this by hand and just gave all the type constraints to Z3, which was easy and is usually fast, but occasionally Z3 gets confused and hangs. Also the fuzzers have discovered inputs where Z3 hangs, which leads to noise in our fuzzing results.</p>
<p>We should rewrite Peepmatic's type checking to use the traditional approach to unifying type constraints via union-find.</p>
</blockquote>



<a name="228277203"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232695%20peepmatic%3A%20rewrite%20type%20checking%20t.../near/228277203" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232695.20peepmatic.3A.20rewrite.20type.20checking.20t.2E.2E.2E.html#228277203">(Mar 01 2021 at 18:02)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/issues/2695#issuecomment-788152045">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2695">Issue #2695</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift:area:peepmatic"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>fitzgen: cranelift:area:peepmatic</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="228277793"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232695%20peepmatic%3A%20rewrite%20type%20checking%20t.../near/228277793" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232695.20peepmatic.3A.20rewrite.20type.20checking.20t.2E.2E.2E.html#228277793">(Mar 01 2021 at 18:06)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/issues/2695#issuecomment-788154419">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2695">Issue #2695</a>:</p>
<blockquote>
<p>When we do this, we should re-introduce the fuzz targets removed in <a href="https://github.com/bytecodealliance/wasmtime/pull/2696">https://github.com/bytecodealliance/wasmtime/pull/2696</a></p>
</blockquote>



<a name="228304832"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232695%20peepmatic%3A%20rewrite%20type%20checking%20t.../near/228304832" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232695.20peepmatic.3A.20rewrite.20type.20checking.20t.2E.2E.2E.html#228304832">(Mar 01 2021 at 20:59)</a>:</h4>
<p>fitzgen closed <a href="https://github.com/bytecodealliance/wasmtime/issues/2695">Issue #2695</a>:</p>
<blockquote>
<p>I originally punted on implementing this by hand and just gave all the type constraints to Z3, which was easy and is usually fast, but occasionally Z3 gets confused and hangs. Also the fuzzers have discovered inputs where Z3 hangs, which leads to noise in our fuzzing results.</p>
<p>We should rewrite Peepmatic's type checking to use the traditional approach to unifying type constraints via union-find.</p>
</blockquote>



<a name="228314463"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232695%20peepmatic%3A%20rewrite%20type%20checking%20t.../near/228314463" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232695.20peepmatic.3A.20rewrite.20type.20checking.20t.2E.2E.2E.html#228314463">(Mar 01 2021 at 22:04)</a>:</h4>
<p>lqd <a href="https://github.com/bytecodealliance/wasmtime/issues/2695#issuecomment-788332284">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2695">Issue #2695</a>:</p>
<blockquote>
<p>@fitzgen this was probably fixed by mistake automatically by github because of the "when we fix" this issue text in that PR ? :)</p>
</blockquote>



<a name="228315138"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232695%20peepmatic%3A%20rewrite%20type%20checking%20t.../near/228315138" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232695.20peepmatic.3A.20rewrite.20type.20checking.20t.2E.2E.2E.html#228315138">(Mar 01 2021 at 22:08)</a>:</h4>
<p>fitzgen reopened <a href="https://github.com/bytecodealliance/wasmtime/issues/2695">Issue #2695</a>:</p>
<blockquote>
<p>I originally punted on implementing this by hand and just gave all the type constraints to Z3, which was easy and is usually fast, but occasionally Z3 gets confused and hangs. Also the fuzzers have discovered inputs where Z3 hangs, which leads to noise in our fuzzing results.</p>
<p>We should rewrite Peepmatic's type checking to use the traditional approach to unifying type constraints via union-find.</p>
</blockquote>



<a name="228315139"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232695%20peepmatic%3A%20rewrite%20type%20checking%20t.../near/228315139" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232695.20peepmatic.3A.20rewrite.20type.20checking.20t.2E.2E.2E.html#228315139">(Mar 01 2021 at 22:08)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/issues/2695#issuecomment-788335211">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2695">Issue #2695</a>:</p>
<blockquote>
<p>Ah yes, thanks for the heads up!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>