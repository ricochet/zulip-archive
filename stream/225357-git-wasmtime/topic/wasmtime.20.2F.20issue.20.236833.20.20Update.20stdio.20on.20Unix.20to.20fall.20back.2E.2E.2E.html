<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6833  Update stdio on Unix to fall back... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236833.20.20Update.20stdio.20on.20Unix.20to.20fall.20back.2E.2E.2E.html">wasmtime / issue #6833  Update stdio on Unix to fall back...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="383787732"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236833%20%20Update%20stdio%20on%20Unix%20to%20fall%20back.../near/383787732" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236833.20.20Update.20stdio.20on.20Unix.20to.20fall.20back.2E.2E.2E.html#383787732">(Aug 11 2023 at 00:36)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6833#issuecomment-1674088629">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6833">issue #6833</a>:</p>
<blockquote>
<p>Sounds good to me <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
<p>I've updated this to implement that instead. One concern I had about that approach is that historically in Rust I've been bitten about how the nonblocking flag affects the file description, not to be confused with the file descriptor. For example if many processes share the same stdout then if any of them set stdout to nonblocking then they all have a nonblocking stdout (which most are not prepared for). I'm a little concerned about Wasmtime here marking stdin as nonblocking since it could affect other components of the runtime too. I've confirmed locally though that at the very least <code>pipe</code> creates two file descriptions so it should be ok there.</p>
<p>I do still think there's a possibility for problems when Wasmtime is integrated with FFI for example, but I'm ok to wait for a bit and see if that crops up</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>