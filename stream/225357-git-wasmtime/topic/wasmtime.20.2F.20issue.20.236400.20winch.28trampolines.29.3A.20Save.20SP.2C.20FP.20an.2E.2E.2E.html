<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6400 winch(trampolines): Save SP, FP an... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236400.20winch.28trampolines.29.3A.20Save.20SP.2C.20FP.20an.2E.2E.2E.html">wasmtime / issue #6400 winch(trampolines): Save SP, FP an...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="359057058"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236400%20winch%28trampolines%29%3A%20Save%20SP%2C%20FP%20an.../near/359057058" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236400.20winch.28trampolines.29.3A.20Save.20SP.2C.20FP.20an.2E.2E.2E.html#359057058">(May 17 2023 at 18:44)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/6400#issuecomment-1551889143">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6400">issue #6400</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @saulecabrera</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "winch"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>saulecabrera: winch</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="359060213"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236400%20winch%28trampolines%29%3A%20Save%20SP%2C%20FP%20an.../near/359060213" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236400.20winch.28trampolines.29.3A.20Save.20SP.2C.20FP.20an.2E.2E.2E.html#359060213">(May 17 2023 at 19:00)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6400#issuecomment-1551907309">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6400">issue #6400</a>:</p>
<blockquote>
<p>I think that failure may be a bug with github's merge queue...</p>
</blockquote>



<a name="359060396"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236400%20winch%28trampolines%29%3A%20Save%20SP%2C%20FP%20an.../near/359060396" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236400.20winch.28trampolines.29.3A.20Save.20SP.2C.20FP.20an.2E.2E.2E.html#359060396">(May 17 2023 at 19:01)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/6400#issuecomment-1551908704">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6400">issue #6400</a>:</p>
<blockquote>
<p>Oh that makes sense; I was taking a look to see if it was a failure due my changes, but all jobs were marked as cancelled. </p>
</blockquote>



<a name="359065808"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236400%20winch%28trampolines%29%3A%20Save%20SP%2C%20FP%20an.../near/359065808" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236400.20winch.28trampolines.29.3A.20Save.20SP.2C.20FP.20an.2E.2E.2E.html#359065808">(May 17 2023 at 19:30)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6400#issuecomment-1551941579">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6400">issue #6400</a>:</p>
<blockquote>
<p>It's a bit odd but I think that one is legitimate. I think MSVC failed there with 127, which may mean that there's something Windows-specific about the failure.</p>
</blockquote>



<a name="359068294"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236400%20winch%28trampolines%29%3A%20Save%20SP%2C%20FP%20an.../near/359068294" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236400.20winch.28trampolines.29.3A.20Save.20SP.2C.20FP.20an.2E.2E.2E.html#359068294">(May 17 2023 at 19:44)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/6400#issuecomment-1551955917">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6400">issue #6400</a>:</p>
<blockquote>
<p>Yep, I see it; I'll take a look!</p>
</blockquote>



<a name="360255051"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236400%20winch%28trampolines%29%3A%20Save%20SP%2C%20FP%20an.../near/360255051" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236400.20winch.28trampolines.29.3A.20Save.20SP.2C.20FP.20an.2E.2E.2E.html#360255051">(May 22 2023 at 12:37)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/6400#issuecomment-1557145503">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6400">issue #6400</a>:</p>
<blockquote>
<p>I spent some time debugging this issue and it's indeed legitimate. The root cause of the failure in MSVC is the lack of unwind info, which as far as I understand is required in Windows; I can reproduce the exact same failure by disabling the unwind info generation in Cranelift. I'm working on a separate PR to add support for emitting unwind info in Winch. </p>
</blockquote>



<a name="360286755"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236400%20winch%28trampolines%29%3A%20Save%20SP%2C%20FP%20an.../near/360286755" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236400.20winch.28trampolines.29.3A.20Save.20SP.2C.20FP.20an.2E.2E.2E.html#360286755">(May 22 2023 at 14:19)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6400#issuecomment-1557308109">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6400">issue #6400</a>:</p>
<blockquote>
<p>Ah that sounds familiar! If you want to add <code>#[cfg_attr(windows, ignore)]</code> now for those tests with a comment I think that'd be sufficient.</p>
</blockquote>



<a name="360350779"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236400%20winch%28trampolines%29%3A%20Save%20SP%2C%20FP%20an.../near/360350779" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236400.20winch.28trampolines.29.3A.20Save.20SP.2C.20FP.20an.2E.2E.2E.html#360350779">(May 22 2023 at 18:44)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/6400#issuecomment-1557721583">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6400">issue #6400</a>:</p>
<blockquote>
<p>Sounds good, yeah, I'll ignore them to land this PR and put them back when introducing support for the emitting unwind info. </p>
</blockquote>



<a name="360351152"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236400%20winch%28trampolines%29%3A%20Save%20SP%2C%20FP%20an.../near/360351152" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236400.20winch.28trampolines.29.3A.20Save.20SP.2C.20FP.20an.2E.2E.2E.html#360351152">(May 22 2023 at 18:46)</a>:</h4>
<p>saulecabrera edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/6400#issuecomment-1557721583">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6400">issue #6400</a>:</p>
<blockquote>
<p>Sounds good, yeah, I'll ignore them to land this PR and put them back once I introduce support for emitting the unwind information.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>