<html>
<head><meta charset="utf-8"><title>wasmtime / PR #4072 ISLE: add support for extended left-h... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html">wasmtime / PR #4072 ISLE: add support for extended left-h...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="280171319"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280171319" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280171319">(Apr 26 2022 at 07:38)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/pull/4072">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>:</p>
<blockquote>
<p>This PR adds support for <code>given</code> clauses, as proposed in<br>
rfcs#21. These clauses augment the left-hand side (pattern-matching<br>
phase) of rules in the ISLE instruction-selection DSL with<br>
sub-patterns matching on sub-expressions. The ability to list<br>
additional match operations to perform, out-of-line from the original<br>
toplevel pattern, greatly simplifies some idioms. See the RFC for more<br>
details and examples of use.</p>
<p>Creating this as a draft since the RFC is pending; the intent for now<br>
is to provide an implementation to play with, given initial positive feedback,<br>
but this will not merge until after the RFC does.</p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="280171404"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280171404" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280171404">(Apr 26 2022 at 07:39)</a>:</h4>
<p>cfallin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4072">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>:</p>
<blockquote>
<p>This PR adds support for <code>given</code> clauses, as proposed in<br>
<a href="http://bytecodealliance/rfcs#21">RFC #21</a>. These clauses augment the left-hand side (pattern-matching<br>
phase) of rules in the ISLE instruction-selection DSL with<br>
sub-patterns matching on sub-expressions. The ability to list<br>
additional match operations to perform, out-of-line from the original<br>
toplevel pattern, greatly simplifies some idioms. See the RFC for more<br>
details and examples of use.</p>
<p>Creating this as a draft since the RFC is pending; the intent for now<br>
is to provide an implementation to play with, given initial positive feedback,<br>
but this will not merge until after the RFC does.</p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="280554483"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280554483" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280554483">(Apr 28 2022 at 20:57)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4072">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>.</p>



<a name="280554541"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280554541" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280554541">(Apr 28 2022 at 20:58)</a>:</h4>
<p><strong>cfallin</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/4072">PR #4072</a> as ready for review.</p>



<a name="280555594"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280555594" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280555594">(Apr 28 2022 at 21:06)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4072">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>.</p>



<a name="280555804"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280555804" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280555804">(Apr 28 2022 at 21:08)</a>:</h4>
<p>cfallin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4072">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>:</p>
<blockquote>
<p>This PR adds support for <code>given</code> clauses, as proposed in<br>
<a href="https://github.com/bytecodealliance/rfcs/issues/21">bytecodealliance/rfcs#21</a>. These clauses augment the left-hand side (pattern-matching<br>
phase) of rules in the ISLE instruction-selection DSL with<br>
sub-patterns matching on sub-expressions. The ability to list<br>
additional match operations to perform, out-of-line from the original<br>
toplevel pattern, greatly simplifies some idioms. See the RFC for more<br>
details and examples of use.</p>
<p>Creating this as a draft since the RFC is pending; the intent for now<br>
is to provide an implementation to play with, given initial positive feedback,<br>
but this will not merge until after the RFC does.</p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="280555829"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280555829" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280555829">(Apr 28 2022 at 21:08)</a>:</h4>
<p>cfallin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4072">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>:</p>
<blockquote>
<p>This PR adds support for <code>given</code> clauses, as proposed in<br>
<a href="https://github.com/bytecodealliance/rfcs/issues/21">bytecodealliance/rfcs#21</a>. These clauses augment the left-hand side (pattern-matching<br>
phase) of rules in the ISLE instruction-selection DSL with<br>
sub-patterns matching on sub-expressions. The ability to list<br>
additional match operations to perform, out-of-line from the original<br>
toplevel pattern, greatly simplifies some idioms. See the RFC for more<br>
details and examples of use.</p>
<p>Creating this as a draft since the RFC is pending; the intent for now<br>
is to provide an implementation to play with, given initial positive feedback,<br>
but this will not merge until after the RFC does.</p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="280555856"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280555856" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280555856">(Apr 28 2022 at 21:08)</a>:</h4>
<p>cfallin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4072">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>:</p>
<blockquote>
<p>This PR adds support for <code>if-let</code> clauses, as proposed in<br>
<a href="https://github.com/bytecodealliance/rfcs/issues/21">bytecodealliance/rfcs#21</a>. These clauses augment the left-hand side (pattern-matching<br>
phase) of rules in the ISLE instruction-selection DSL with<br>
sub-patterns matching on sub-expressions. The ability to list<br>
additional match operations to perform, out-of-line from the original<br>
toplevel pattern, greatly simplifies some idioms. See the RFC for more<br>
details and examples of use.</p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="280562212"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280562212" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280562212">(Apr 28 2022 at 22:09)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4072#pullrequestreview-957089140">PR review</a>.</p>



<a name="280562213"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280562213" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280562213">(Apr 28 2022 at 22:09)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4072#pullrequestreview-957089140">PR review</a>.</p>



<a name="280562214"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280562214" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280562214">(Apr 28 2022 at 22:09)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4072#discussion_r861340295">PR review comment</a>:</p>
<blockquote>
<p>I sort of wonder whether we should have some sort of grouping so that it is more clear that the <code>if-let</code>s are part of the LHS, and not the RHS? Because right now it could syntactically go either way if you don't already know what's going on.</p>
</blockquote>



<a name="280565540"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280565540" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280565540">(Apr 28 2022 at 22:47)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4072">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>.</p>



<a name="280565741"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280565741" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280565741">(Apr 28 2022 at 22:49)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4072#pullrequestreview-957119992">PR review</a>.</p>



<a name="280565743"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280565743" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280565743">(Apr 28 2022 at 22:49)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4072#discussion_r861363674">PR review comment</a>:</p>
<blockquote>
<p>It's a good question for sure. IMHO it gets sort of complicated if we take as granted that we don't want to change syntax for cases without if-let clauses... that implies that (if we want straightforward parsing without unlimited lookahead at least) cases <em>with</em> if-lets need a wrapper form around the pattern, like <code>(rule (let PAT (if-let ...) (if-let ...)) RHS)</code> maybe, reusing the <code>let</code> keyword. It could work; happy to discuss further and we can always refactor if we find an improved syntax :-)</p>
</blockquote>



<a name="280566234"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280566234" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280566234">(Apr 28 2022 at 22:56)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4072#pullrequestreview-957123438">PR review</a>.</p>



<a name="280566235"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280566235" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280566235">(Apr 28 2022 at 22:56)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4072#discussion_r861366366">PR review comment</a>:</p>
<blockquote>
<p>Yeah, that's basically what peepmatic used: <code>(=&gt; PATTERN RHS)</code> and <code>(=&gt; (when PATTERN PREDICATES...) RHS)</code>. I didn't love it but it did work.</p>
</blockquote>



<a name="280569358"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280569358" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280569358">(Apr 28 2022 at 23:36)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4072#pullrequestreview-957143415">PR review</a>.</p>



<a name="280569359"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280569359" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280569359">(Apr 28 2022 at 23:36)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4072#discussion_r861382090">PR review comment</a>:</p>
<blockquote>
<p>Hmm, yeah, it's not immediately clear to me that this is less confusing -- seeing the prefix/wrapper form first, if one doesn't know what it does, is possibly worse than seeing a top-level pattern that looks like the other rules and then additional conditions separately...</p>
<p>Regarding which part of the rule the <code>if-let</code> clauses are a part of: if I squint the right way, it seems like it actually kind of doesn't matter? In other words I can build a consistent mental model for what's going on as "go down the list of patterns/conditions, and when we reach the end we have the answer". That's a level of understanding that's more basic than the strict phase separation we talk about in the term-rewriting flow, but it's (IMHO) not too bad for a casual user tweaking some rules.</p>
<p>I think I'll err on the side of the syntax in the RFC and go ahead and merge this but absolutely we can still talk more about it if you (or anyone else) have further thoughts!</p>
</blockquote>



<a name="280569378"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234072%20ISLE%3A%20add%20support%20for%20extended%20left-h.../near/280569378" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234072.20ISLE.3A.20add.20support.20for.20extended.20left-h.2E.2E.2E.html#280569378">(Apr 28 2022 at 23:37)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/4072">PR #4072</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>