<html>
<head><meta charset="utf-8"><title>wasmtime / issue #8832 wasi-http: Consider unhiding `add_... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.238832.20wasi-http.3A.20Consider.20unhiding.20.60add_.2E.2E.2E.html">wasmtime / issue #8832 wasi-http: Consider unhiding `add_...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="445363672"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%238832%20wasi-http%3A%20Consider%20unhiding%20%60add_.../near/445363672" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.238832.20wasi-http.3A.20Consider.20unhiding.20.60add_.2E.2E.2E.html#445363672">(Jun 18 2024 at 13:56)</a>:</h4>
<p>lann opened <a href="https://github.com/bytecodealliance/wasmtime/issues/8832">issue #8832</a>:</p>
<blockquote>
<p>These functions allow linking just the <code>types</code> and <code>outbound-handler</code> interfaces without the rest of the <code>proxy</code> world. I'm not sure why they are currently hidden; this seems like a generally useful feature.</p>
</blockquote>



<a name="445364089"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%238832%20wasi-http%3A%20Consider%20unhiding%20%60add_.../near/445364089" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.238832.20wasi-http.3A.20Consider.20unhiding.20.60add_.2E.2E.2E.html#445364089">(Jun 18 2024 at 13:58)</a>:</h4>
<p>lann edited <a href="https://github.com/bytecodealliance/wasmtime/issues/8832">issue #8832</a>:</p>
<blockquote>
<p>These functions allow linking just the <code>types</code> and <code>outbound-handler</code> interfaces without the rest of the <code>proxy</code> world. I'm not sure why they are currently hidden; this seems like a generally useful feature.</p>
<p>They could probably use better names as well since they only add 2 out of 3 of the http interfaces.</p>
</blockquote>



<a name="445405687"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%238832%20wasi-http%3A%20Consider%20unhiding%20%60add_.../near/445405687" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.238832.20wasi-http.3A.20Consider.20unhiding.20.60add_.2E.2E.2E.html#445405687">(Jun 18 2024 at 16:26)</a>:</h4>
<p>landonxjames <a href="https://github.com/bytecodealliance/wasmtime/issues/8832#issuecomment-2176510648">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/8832">issue #8832</a>:</p>
<blockquote>
<p>Just to give my use-case for this. I work on the AWS Rust SDK and I maintain our <a href="https://crates.io/crates/aws-smithy-wasm">aws-smithy-wasm</a> crate. This includes a <a href="https://docs.rs/aws-smithy-wasm/0.1.3/aws_smithy_wasm/wasi/struct.WasiHttpClient.html">WasiHttpClient</a> for sending outbound HTTP calls to AWS services. So the full <code>proxy</code> world is overkill for my needs and I would prefer to link in the minimal set of interfaces that I need. </p>
<p>That seems possible today with the <code>add_to_linker_get_host</code> functions, but I haven't had time to go through and figure out what I actually need to implement for the <code>host_getter</code> yet.</p>
</blockquote>



<a name="445419405"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%238832%20wasi-http%3A%20Consider%20unhiding%20%60add_.../near/445419405" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.238832.20wasi-http.3A.20Consider.20unhiding.20.60add_.2E.2E.2E.html#445419405">(Jun 18 2024 at 17:30)</a>:</h4>
<p>lann <a href="https://github.com/bytecodealliance/wasmtime/issues/8832#issuecomment-2176621284">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/8832">issue #8832</a>:</p>
<blockquote>
<p>As another use-case, Spin just uses the hidden function anyway :slightly_smiling_face:  <a href="https://github.com/fermyon/spin/blob/bc86ff322cf3e1aee19e3001094a5231bcbcd9df/crates/trigger/src/lib.rs#L146">https://github.com/fermyon/spin/blob/bc86ff322cf3e1aee19e3001094a5231bcbcd9df/crates/trigger/src/lib.rs#L146</a></p>
</blockquote>



<a name="446648040"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%238832%20wasi-http%3A%20Consider%20unhiding%20%60add_.../near/446648040" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.238832.20wasi-http.3A.20Consider.20unhiding.20.60add_.2E.2E.2E.html#446648040">(Jun 24 2024 at 15:39)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/8832">issue #8832</a>:</p>
<blockquote>
<p>These functions allow linking just the <code>types</code> and <code>outbound-handler</code> interfaces without the rest of the <code>proxy</code> world. I'm not sure why they are currently hidden; this seems like a generally useful feature.</p>
<p>They could probably use better names as well since they only add 2 out of 3 of the http interfaces.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>