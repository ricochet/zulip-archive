<html>
<head><meta charset="utf-8"><title>wasmtime / issue #3999 Assertion in debugger mode (left &lt;... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html">wasmtime / issue #3999 Assertion in debugger mode (left &lt;...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="278013820"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/278013820" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#278013820">(Apr 06 2022 at 12:11)</a>:</h4>
<p>dbezhetskov opened <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<h3>Test Case</h3>
<p><a href="https://user-images.githubusercontent.com/5621716/161971426-a7599e7d-886f-4101-b379-8f5c20a38a8e.mov">https://user-images.githubusercontent.com/5621716/161971426-a7599e7d-886f-4101-b379-8f5c20a38a8e.mov</a></p>
<p>( couldn't upload .wasm file so I'd changed extension to .mov, it is actually .wasm file)</p>
<h3>Steps to Reproduce</h3>
<p>RUST_BACKTRACE=1 gdb --args wasmtime run -g preinitialized.wasm</p>
<h3>Expected Results</h3>
<p>debug break</p>
<h3>Actual Results</h3>
<p>crash:</p>
<p>thread 'main' panicked at 'assertion failed: <code>(left &lt; right)</code><br>
  left: <code>9699</code>,<br>
 right: <code>7415</code>', crates/cranelift/src/debug/transform/expression.rs:690:13<br>
stack backtrace:<br>
   0: rust_begin_unwind<br>
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/std/src/panicking.rs:498:5<br>
   1: core::panicking::panic_fmt<br>
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/core/src/panicking.rs:116:14<br>
   2: wasmtime_cranelift::debug::transform::expression::ValueLabelRangesBuilder::process_label<br>
   3: wasmtime_cranelift::debug::transform::expression::CompiledExpression::build_with_locals<br>
   4: wasmtime_cranelift::debug::transform::simulate::generate_simulated_dwarf<br>
   5: wasmtime_cranelift::debug::transform::transform_dwarf<br>
   6: wasmtime_cranelift::debug::write_debuginfo::emit_dwarf<br>
   7: &lt;wasmtime_cranelift::compiler::Compiler as wasmtime_environ::compilation::Compiler&gt;::emit_obj<br>
   8: core::ops::function::impls::&lt;impl core::ops::function::FnMut&lt;A&gt; for &amp;F&gt;::call_mut<br>
   9: &lt;core::iter::adapters:<span aria-label="map" class="emoji emoji-1f5fa" role="img" title="map">:map:</span>:Map&lt;I,F&gt; as core::iter::traits::iterator::Iterator&gt;::try_fold<br>
  10: &lt;rayon::iter::fold::FoldFolder&lt;C,ID,F&gt; as rayon::iter::plumbing::Folder&lt;T&gt;&gt;::consume_iter<br>
  11: rayon::iter::plumbing::bridge_producer_consumer::helper<br>
  12: &lt;rayon::vec::IntoIter&lt;T&gt; as rayon::iter::IndexedParallelIterator&gt;::with_producer<br>
  13: &lt;rayon::iter::while_some::WhileSome&lt;I&gt; as rayon::iter::ParallelIterator&gt;::drive_unindexed<br>
  14: rayon::iter::collect::&lt;impl rayon::iter::ParallelExtend&lt;T&gt; for alloc::vec::Vec&lt;T&gt;&gt;::par_extend<br>
  15: rayon::result::&lt;impl rayon::iter::FromParallelIterator&lt;core::result::Result&lt;T,E&gt;&gt; for core::result::Result&lt;C,E&gt;&gt;::from_par_iter<br>
  16: wasmtime::module::Module::build_artifacts<br>
  17: core::ops::function::FnOnce::call_once<br>
  18: wasmtime_cache::ModuleCacheEntry::get_data_raw<br>
  19: wasmtime::module::Module::from_binary<br>
  20: wasmtime::module::Module::from_file<br>
  21: wasmtime_cli::commands::run::RunCommand::load_module<br>
  22: wasmtime_cli::commands::run::RunCommand::load_main_module<br>
  23: wasmtime_cli::commands::run::RunCommand::execute<br>
  24: wasmtime::main<br>
note: Some details are omitted, run with <code>RUST_BACKTRACE=full</code> for a verbose backtrace.</p>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: wasmtime 0.35.2</p>
<p>Operating system: ubuntu 20.04</p>
<p>Architecture: x86_64<br>
</p>
</blockquote>



<a name="278013821"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/278013821" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#278013821">(Apr 06 2022 at 12:11)</a>:</h4>
<p>dbezhetskov labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<h3>Test Case</h3>
<p><a href="https://user-images.githubusercontent.com/5621716/161971426-a7599e7d-886f-4101-b379-8f5c20a38a8e.mov">https://user-images.githubusercontent.com/5621716/161971426-a7599e7d-886f-4101-b379-8f5c20a38a8e.mov</a></p>
<p>( couldn't upload .wasm file so I'd changed extension to .mov, it is actually .wasm file)</p>
<h3>Steps to Reproduce</h3>
<p>RUST_BACKTRACE=1 gdb --args wasmtime run -g preinitialized.wasm</p>
<h3>Expected Results</h3>
<p>debug break</p>
<h3>Actual Results</h3>
<p>crash:</p>
<p>thread 'main' panicked at 'assertion failed: <code>(left &lt; right)</code><br>
  left: <code>9699</code>,<br>
 right: <code>7415</code>', crates/cranelift/src/debug/transform/expression.rs:690:13<br>
stack backtrace:<br>
   0: rust_begin_unwind<br>
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/std/src/panicking.rs:498:5<br>
   1: core::panicking::panic_fmt<br>
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/core/src/panicking.rs:116:14<br>
   2: wasmtime_cranelift::debug::transform::expression::ValueLabelRangesBuilder::process_label<br>
   3: wasmtime_cranelift::debug::transform::expression::CompiledExpression::build_with_locals<br>
   4: wasmtime_cranelift::debug::transform::simulate::generate_simulated_dwarf<br>
   5: wasmtime_cranelift::debug::transform::transform_dwarf<br>
   6: wasmtime_cranelift::debug::write_debuginfo::emit_dwarf<br>
   7: &lt;wasmtime_cranelift::compiler::Compiler as wasmtime_environ::compilation::Compiler&gt;::emit_obj<br>
   8: core::ops::function::impls::&lt;impl core::ops::function::FnMut&lt;A&gt; for &amp;F&gt;::call_mut<br>
   9: &lt;core::iter::adapters:<span aria-label="map" class="emoji emoji-1f5fa" role="img" title="map">:map:</span>:Map&lt;I,F&gt; as core::iter::traits::iterator::Iterator&gt;::try_fold<br>
  10: &lt;rayon::iter::fold::FoldFolder&lt;C,ID,F&gt; as rayon::iter::plumbing::Folder&lt;T&gt;&gt;::consume_iter<br>
  11: rayon::iter::plumbing::bridge_producer_consumer::helper<br>
  12: &lt;rayon::vec::IntoIter&lt;T&gt; as rayon::iter::IndexedParallelIterator&gt;::with_producer<br>
  13: &lt;rayon::iter::while_some::WhileSome&lt;I&gt; as rayon::iter::ParallelIterator&gt;::drive_unindexed<br>
  14: rayon::iter::collect::&lt;impl rayon::iter::ParallelExtend&lt;T&gt; for alloc::vec::Vec&lt;T&gt;&gt;::par_extend<br>
  15: rayon::result::&lt;impl rayon::iter::FromParallelIterator&lt;core::result::Result&lt;T,E&gt;&gt; for core::result::Result&lt;C,E&gt;&gt;::from_par_iter<br>
  16: wasmtime::module::Module::build_artifacts<br>
  17: core::ops::function::FnOnce::call_once<br>
  18: wasmtime_cache::ModuleCacheEntry::get_data_raw<br>
  19: wasmtime::module::Module::from_binary<br>
  20: wasmtime::module::Module::from_file<br>
  21: wasmtime_cli::commands::run::RunCommand::load_module<br>
  22: wasmtime_cli::commands::run::RunCommand::load_main_module<br>
  23: wasmtime_cli::commands::run::RunCommand::execute<br>
  24: wasmtime::main<br>
note: Some details are omitted, run with <code>RUST_BACKTRACE=full</code> for a verbose backtrace.</p>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: wasmtime 0.35.2</p>
<p>Operating system: ubuntu 20.04</p>
<p>Architecture: x86_64<br>
</p>
</blockquote>



<a name="278014824"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/278014824" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#278014824">(Apr 06 2022 at 12:21)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1090204781">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>How was the wasm file produced?</p>
</blockquote>



<a name="278017066"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/278017066" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#278017066">(Apr 06 2022 at 12:41)</a>:</h4>
<p>dbezhetskov <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1090222517">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>It is a compiled c++ program and it was preinitialized with wizer (<a href="https://github.com/bytecodealliance/wizer">https://github.com/bytecodealliance/wizer</a>). <br>
btw, without <code>-g</code> wasmtime works as expected with the .wasm module.</p>
</blockquote>



<a name="278017089"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/278017089" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#278017089">(Apr 06 2022 at 12:41)</a>:</h4>
<p>dbezhetskov edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1090222517">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>@bjorn3 <br>
It is a compiled c++ program and it was preinitialized with wizer (<a href="https://github.com/bytecodealliance/wizer">https://github.com/bytecodealliance/wizer</a>). <br>
btw, without <code>-g</code> wasmtime works as expected with the .wasm module.</p>
</blockquote>



<a name="278019197"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/278019197" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#278019197">(Apr 06 2022 at 12:58)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1090238791">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>It may be that wasmtime doesn't handle correct debuginfo or it may be that wizer causes the debuginfo to get corrupted.</p>
</blockquote>



<a name="278098648"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/278098648" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#278098648">(Apr 06 2022 at 23:12)</a>:</h4>
<p>abrown <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1090910141">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>cc: @fitzgen?</p>
</blockquote>



<a name="288603810"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/288603810" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#288603810">(Jul 05 2022 at 23:24)</a>:</h4>
<p>SuperTails <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1175596432">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>I compiled a C program _without_ using Wizer and I have encountered the same crash. Here is a zip folder containing the WASM file that causes the crash:<br>
<a href="https://github.com/bytecodealliance/wasmtime/files/9050202/wasmtime_crash_testcase.zip">wasmtime_crash_testcase.zip</a></p>
</blockquote>



<a name="288603897"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/288603897" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#288603897">(Jul 05 2022 at 23:25)</a>:</h4>
<p>SuperTails edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1175596432">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>I compiled a C program _without_ using Wizer and I have encountered the same crash. Here is a zip folder containing the WASM file that causes the crash:<br>
<a href="https://github.com/bytecodealliance/wasmtime/files/9050202/wasmtime_crash_testcase.zip">wasmtime_crash_testcase.zip</a><br>
I was using the <code>wasmtime</code> crate rather than the CLI version as well.</p>
</blockquote>



<a name="288604064"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/288604064" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#288604064">(Jul 05 2022 at 23:27)</a>:</h4>
<p>SuperTails edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1175596432">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>I compiled a C program _without_ using Wizer and I have encountered the same crash. Here is a zip folder containing the WASM file that causes the crash:<br>
<a href="https://github.com/bytecodealliance/wasmtime/files/9050202/wasmtime_crash_testcase.zip">wasmtime_crash_testcase.zip</a><br>
I am using the <code>wasmtime</code> crate directly. It only panics if <code>debug_info(true)</code> is set when creating the <code>Engine</code>.</p>
</blockquote>



<a name="302347493"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/302347493" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#302347493">(Oct 04 2022 at 21:08)</a>:</h4>
<p>alexcrichton pinned <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<h3>Test Case</h3>
<p><a href="https://user-images.githubusercontent.com/5621716/161971426-a7599e7d-886f-4101-b379-8f5c20a38a8e.mov">https://user-images.githubusercontent.com/5621716/161971426-a7599e7d-886f-4101-b379-8f5c20a38a8e.mov</a></p>
<p>( couldn't upload .wasm file so I'd changed extension to .mov, it is actually .wasm file)</p>
<h3>Steps to Reproduce</h3>
<p>RUST_BACKTRACE=1 gdb --args wasmtime run -g preinitialized.wasm</p>
<h3>Expected Results</h3>
<p>debug break</p>
<h3>Actual Results</h3>
<p>crash:</p>
<p>thread 'main' panicked at 'assertion failed: <code>(left &lt; right)</code><br>
  left: <code>9699</code>,<br>
 right: <code>7415</code>', crates/cranelift/src/debug/transform/expression.rs:690:13<br>
stack backtrace:<br>
   0: rust_begin_unwind<br>
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/std/src/panicking.rs:498:5<br>
   1: core::panicking::panic_fmt<br>
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/core/src/panicking.rs:116:14<br>
   2: wasmtime_cranelift::debug::transform::expression::ValueLabelRangesBuilder::process_label<br>
   3: wasmtime_cranelift::debug::transform::expression::CompiledExpression::build_with_locals<br>
   4: wasmtime_cranelift::debug::transform::simulate::generate_simulated_dwarf<br>
   5: wasmtime_cranelift::debug::transform::transform_dwarf<br>
   6: wasmtime_cranelift::debug::write_debuginfo::emit_dwarf<br>
   7: &lt;wasmtime_cranelift::compiler::Compiler as wasmtime_environ::compilation::Compiler&gt;::emit_obj<br>
   8: core::ops::function::impls::&lt;impl core::ops::function::FnMut&lt;A&gt; for &amp;F&gt;::call_mut<br>
   9: &lt;core::iter::adapters:<span aria-label="map" class="emoji emoji-1f5fa" role="img" title="map">:map:</span>:Map&lt;I,F&gt; as core::iter::traits::iterator::Iterator&gt;::try_fold<br>
  10: &lt;rayon::iter::fold::FoldFolder&lt;C,ID,F&gt; as rayon::iter::plumbing::Folder&lt;T&gt;&gt;::consume_iter<br>
  11: rayon::iter::plumbing::bridge_producer_consumer::helper<br>
  12: &lt;rayon::vec::IntoIter&lt;T&gt; as rayon::iter::IndexedParallelIterator&gt;::with_producer<br>
  13: &lt;rayon::iter::while_some::WhileSome&lt;I&gt; as rayon::iter::ParallelIterator&gt;::drive_unindexed<br>
  14: rayon::iter::collect::&lt;impl rayon::iter::ParallelExtend&lt;T&gt; for alloc::vec::Vec&lt;T&gt;&gt;::par_extend<br>
  15: rayon::result::&lt;impl rayon::iter::FromParallelIterator&lt;core::result::Result&lt;T,E&gt;&gt; for core::result::Result&lt;C,E&gt;&gt;::from_par_iter<br>
  16: wasmtime::module::Module::build_artifacts<br>
  17: core::ops::function::FnOnce::call_once<br>
  18: wasmtime_cache::ModuleCacheEntry::get_data_raw<br>
  19: wasmtime::module::Module::from_binary<br>
  20: wasmtime::module::Module::from_file<br>
  21: wasmtime_cli::commands::run::RunCommand::load_module<br>
  22: wasmtime_cli::commands::run::RunCommand::load_main_module<br>
  23: wasmtime_cli::commands::run::RunCommand::execute<br>
  24: wasmtime::main<br>
note: Some details are omitted, run with <code>RUST_BACKTRACE=full</code> for a verbose backtrace.</p>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: wasmtime 0.35.2</p>
<p>Operating system: ubuntu 20.04</p>
<p>Architecture: x86_64<br>
</p>
</blockquote>



<a name="352344348"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/352344348" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#352344348">(Apr 24 2023 at 17:44)</a>:</h4>
<p>dbanks12 <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1520581379">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>I am running into this as well! It looks like if I revert to <code>wasmtime 1.0.2</code> or earlier I do not see this assertion failure. <code>wasmtime 2.0.0</code> and later result in the assertion failure.</p>
<p>I see the progress in <a href="https://github.com/bytecodealliance/wasmtime/pull/5553">https://github.com/bytecodealliance/wasmtime/pull/5553</a> and am watching closely! I am not a wasmtime poweruser, but if I can help make progress here I am happy to.</p>
</blockquote>



<a name="352344414"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/352344414" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#352344414">(Apr 24 2023 at 17:44)</a>:</h4>
<p>dbanks12 edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1520581379">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>I am running into this as well! It looks like if I revert to <code>wasmtime 1.0.2</code> or earlier I do not see this assertion failure. <code>wasmtime 2.0.0</code> and later result in the assertion failure in my case.</p>
<p>I see the progress in <a href="https://github.com/bytecodealliance/wasmtime/pull/5553">https://github.com/bytecodealliance/wasmtime/pull/5553</a> and am watching closely! I am not a wasmtime poweruser, but if I can help make progress here I am happy to.</p>
</blockquote>



<a name="352348240"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/352348240" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#352348240">(Apr 24 2023 at 18:02)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1520603172">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<blockquote>
<p>It looks like if I revert to <code>wasmtime 1.0.2</code> or earlier I do not see this assertion failure. <code>wasmtime 2.0.0</code> and later result in the assertion failure in my case.</p>
</blockquote>
<p>I'm surprised to hear that. Since Wasmtime 1.0 was released months after the first time this issue was reported, I'd have expected you'd encounter the same issue in that version.</p>
</blockquote>



<a name="353990265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/353990265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#353990265">(Apr 28 2023 at 17:18)</a>:</h4>
<p>adv-sw <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1527858731">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>Think this is same issue I've just encountered.</p>
<p>Seems this is the cause of the regression :</p>
<p>Revision: ce67e7fcd1d2d6da1899d2b46cc41ef877bd9462<br>
Author: Amanieu d'Antras &lt;<a href="mailto:amanieu@gmail.com">amanieu@gmail.com</a>&gt;<br>
Date: 02/12/2021 11:53:04<br>
Message:<br>
Fix ownership in *_vec_new functions in the C API</p>
<p>These functions are specified to take ownership of the objects in the given slice, not clone them.</p>
<p>Modified: crates/c-api/src/vec.rs</p>
<p>The following resolves the breakpoint regression I've encountered.</p>
<p><a href="https://pastebin.com/2Yt3FG9E">https://pastebin.com/2Yt3FG9E</a></p>
<p>Perhaps for you too.</p>
</blockquote>



<a name="354001082"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/354001082" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#354001082">(Apr 28 2023 at 17:42)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1527888895">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>@adv-sw the bug described here can occur even without using the C API, so it doesn't make sense that a change in the <code>c-api</code> crate would have caused it. Can you say more why you think this is the case?</p>
</blockquote>



<a name="354006271"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/354006271" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#354006271">(Apr 28 2023 at 17:54)</a>:</h4>
<p>adv-sw <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1527900518">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>You're perhaps right, Chris that another debugger regression issue I've identified is seperate. This issue presents around wasmtime 1.0.2, whereas the one I found presents around wasmtime 0.31.0 / 0.32.0</p>
<p>Apologies - an assumption too far. Seperate issues.</p>
</blockquote>



<a name="354025627"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/354025627" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#354025627">(Apr 28 2023 at 18:40)</a>:</h4>
<p>dbanks12 <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1527950251">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<blockquote>
<p>I'm surprised to hear that. Since Wasmtime 1.0 was released months after the first time this issue was reported, I'd have expected you'd encounter the same issue in that version.</p>
</blockquote>
<p>I was surprised to see that as well.... I can try to provide more context shortly.</p>
</blockquote>



<a name="356150802"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/356150802" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#356150802">(May 05 2023 at 19:34)</a>:</h4>
<p>adv-sw deleted a <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1527858731">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>Think this is same issue I've just encountered.</p>
<p>Seems this is the cause of the regression :</p>
<p>Revision: ce67e7fcd1d2d6da1899d2b46cc41ef877bd9462<br>
Author: Amanieu d'Antras &lt;<a href="mailto:amanieu@gmail.com">amanieu@gmail.com</a>&gt;<br>
Date: 02/12/2021 11:53:04<br>
Message:<br>
Fix ownership in *_vec_new functions in the C API</p>
<p>These functions are specified to take ownership of the objects in the given slice, not clone them.</p>
<p>Modified: crates/c-api/src/vec.rs</p>
<p>The following resolves the breakpoint regression I've encountered.</p>
<p><a href="https://pastebin.com/2Yt3FG9E">https://pastebin.com/2Yt3FG9E</a></p>
<p>Perhaps for you too.</p>
</blockquote>



<a name="356150815"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/356150815" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#356150815">(May 05 2023 at 19:35)</a>:</h4>
<p>adv-sw deleted a <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1527900518">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>You're perhaps right, Chris that another debugger regression issue I've identified is seperate. This issue presents around wasmtime 1.0.2, whereas the one I found presents around wasmtime 0.31.0 / 0.32.0</p>
<p>Apologies - an assumption too far. Seperate issues.</p>
</blockquote>



<a name="357057823"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/357057823" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#357057823">(May 09 2023 at 17:32)</a>:</h4>
<p>abrown unpinned <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<h3>Test Case</h3>
<p><a href="https://user-images.githubusercontent.com/5621716/161971426-a7599e7d-886f-4101-b379-8f5c20a38a8e.mov">https://user-images.githubusercontent.com/5621716/161971426-a7599e7d-886f-4101-b379-8f5c20a38a8e.mov</a></p>
<p>( couldn't upload .wasm file so I'd changed extension to .mov, it is actually .wasm file)</p>
<h3>Steps to Reproduce</h3>
<p>RUST_BACKTRACE=1 gdb --args wasmtime run -g preinitialized.wasm</p>
<h3>Expected Results</h3>
<p>debug break</p>
<h3>Actual Results</h3>
<p>crash:</p>
<p>thread 'main' panicked at 'assertion failed: <code>(left &lt; right)</code><br>
  left: <code>9699</code>,<br>
 right: <code>7415</code>', crates/cranelift/src/debug/transform/expression.rs:690:13<br>
stack backtrace:<br>
   0: rust_begin_unwind<br>
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/std/src/panicking.rs:498:5<br>
   1: core::panicking::panic_fmt<br>
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/core/src/panicking.rs:116:14<br>
   2: wasmtime_cranelift::debug::transform::expression::ValueLabelRangesBuilder::process_label<br>
   3: wasmtime_cranelift::debug::transform::expression::CompiledExpression::build_with_locals<br>
   4: wasmtime_cranelift::debug::transform::simulate::generate_simulated_dwarf<br>
   5: wasmtime_cranelift::debug::transform::transform_dwarf<br>
   6: wasmtime_cranelift::debug::write_debuginfo::emit_dwarf<br>
   7: &lt;wasmtime_cranelift::compiler::Compiler as wasmtime_environ::compilation::Compiler&gt;::emit_obj<br>
   8: core::ops::function::impls::&lt;impl core::ops::function::FnMut&lt;A&gt; for &amp;F&gt;::call_mut<br>
   9: &lt;core::iter::adapters:<span aria-label="map" class="emoji emoji-1f5fa" role="img" title="map">:map:</span>:Map&lt;I,F&gt; as core::iter::traits::iterator::Iterator&gt;::try_fold<br>
  10: &lt;rayon::iter::fold::FoldFolder&lt;C,ID,F&gt; as rayon::iter::plumbing::Folder&lt;T&gt;&gt;::consume_iter<br>
  11: rayon::iter::plumbing::bridge_producer_consumer::helper<br>
  12: &lt;rayon::vec::IntoIter&lt;T&gt; as rayon::iter::IndexedParallelIterator&gt;::with_producer<br>
  13: &lt;rayon::iter::while_some::WhileSome&lt;I&gt; as rayon::iter::ParallelIterator&gt;::drive_unindexed<br>
  14: rayon::iter::collect::&lt;impl rayon::iter::ParallelExtend&lt;T&gt; for alloc::vec::Vec&lt;T&gt;&gt;::par_extend<br>
  15: rayon::result::&lt;impl rayon::iter::FromParallelIterator&lt;core::result::Result&lt;T,E&gt;&gt; for core::result::Result&lt;C,E&gt;&gt;::from_par_iter<br>
  16: wasmtime::module::Module::build_artifacts<br>
  17: core::ops::function::FnOnce::call_once<br>
  18: wasmtime_cache::ModuleCacheEntry::get_data_raw<br>
  19: wasmtime::module::Module::from_binary<br>
  20: wasmtime::module::Module::from_file<br>
  21: wasmtime_cli::commands::run::RunCommand::load_module<br>
  22: wasmtime_cli::commands::run::RunCommand::load_main_module<br>
  23: wasmtime_cli::commands::run::RunCommand::execute<br>
  24: wasmtime::main<br>
note: Some details are omitted, run with <code>RUST_BACKTRACE=full</code> for a verbose backtrace.</p>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: wasmtime 0.35.2</p>
<p>Operating system: ubuntu 20.04</p>
<p>Architecture: x86_64<br>
</p>
</blockquote>



<a name="387963748"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/387963748" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#387963748">(Aug 29 2023 at 20:45)</a>:</h4>
<p>SingleAccretion <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1698104337">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>I have run into this issue (along with another much simpler one) and investigated the cause a bit.</p>
<p>This is not a bug in the DWARF-related code, since the instruction offset data is fed to it by the code generator. The code generator, in turn, obtains this data when emitting instructions in a linear walk. It turns out that in this walk, prior recorded offsets can become invalidated by branch shortening (<code>optimize_branches</code>), leading to the invalid <code>start &gt; end</code> ranges:</p>
<p><div class="codehilite" data-code-language="Scala"><pre><span></span><code><span class="nc">MachBuffer</span><span class="p">:</span><span class="w"> </span><span class="n">use_label_at_offset</span><span class="p">:</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="mi">95</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="nc">JmpRel32</span>
<span class="n">emitting</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="nc">Block</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nc">MachBuffer</span><span class="p">:</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="mi">99</span>
<span class="n">enter</span><span class="w"> </span><span class="n">optimize_branches</span><span class="p">:</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">78</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">84</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">Some</span><span class="p">([</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">132</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]),</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">89</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span><span class="w"> </span><span class="p">}]</span>
<span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabelFixup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">label</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">JmpRel32</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nc">MachLabelFixup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">label</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">JmpRel32</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nc">MachLabelFixup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">label</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">JmpRel32</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nc">MachLabelFixup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">label</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">JmpRel32</span><span class="w"> </span><span class="p">}]</span>
<span class="n">optimize_branches</span><span class="p">:</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="mi">99</span>
<span class="n">branch</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="n">off</span><span class="p">;</span><span class="w"> </span><span class="n">truncating</span>
<span class="n">truncate_last_branch</span><span class="p">:</span><span class="w"> </span><span class="n">truncated</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="mi">94</span>
<span class="n">optimize_branches</span><span class="p">:</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">89</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="mi">94</span>
<span class="n">branch</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="n">off</span><span class="p">;</span><span class="w"> </span><span class="n">truncating</span>
<span class="n">truncate_last_branch</span><span class="p">:</span><span class="w"> </span><span class="n">truncated</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">89</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="mi">89</span>
<span class="n">optimize_branches</span><span class="p">:</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">78</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">84</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">Some</span><span class="p">([</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">132</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]),</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="mi">89</span>
<span class="n">purge_latest_branches</span><span class="p">:</span><span class="w"> </span><span class="n">removing</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">78</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">84</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">Some</span><span class="p">([</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">132</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]),</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">}</span>
<span class="n">leave</span><span class="w"> </span><span class="n">optimize_branches</span><span class="p">:</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
<span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabelFixup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">label</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">JmpRel32</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nc">MachLabelFixup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">label</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">JmpRel32</span><span class="w"> </span><span class="p">}]</span>

<span class="nc">Recording</span><span class="w"> </span><span class="n">debug</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">VL8</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nc">Reg</span><span class="p">(</span><span class="n">p2i</span><span class="p">):</span><span class="w"> </span><span class="p">[</span><span class="n">i13</span><span class="p">..</span><span class="n">i14</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="mi">95</span><span class="p">.</span><span class="mf">.90</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="nc">Invalid</span><span class="w"> </span><span class="n">range</span>

<span class="p">;</span><span class="w"> </span><span class="nc">DI</span><span class="p">:</span><span class="w"> </span><span class="n">i12</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">89</span>
<span class="w">  </span><span class="n">jmp</span><span class="w">     </span><span class="n">label3</span>
<span class="n">block2</span><span class="p">:</span>
<span class="p">;</span><span class="w"> </span><span class="nc">DI</span><span class="p">:</span><span class="w"> </span><span class="n">i13</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">94</span>
<span class="w">  </span><span class="n">jmp</span><span class="w">     </span><span class="n">label3</span>
<span class="n">block3</span><span class="p">:</span>
<span class="p">;</span><span class="w"> </span><span class="nc">DI</span><span class="p">:</span><span class="w"> </span><span class="n">i14</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">89</span>
<span class="w">  </span><span class="n">movl</span><span class="w">    </span><span class="mi">8</span><span class="p">(</span><span class="o">%</span><span class="n">r9</span><span class="p">,</span><span class="o">%</span><span class="n">r10</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="o">%</span><span class="n">ecx</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="387964121"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/387964121" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#387964121">(Aug 29 2023 at 20:47)</a>:</h4>
<p>SingleAccretion edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1698104337">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>I have run into this issue (along with another, much simpler one) and investigated the cause a bit.</p>
<p>This is not a bug in the DWARF-related code, since the instruction offset data is fed to it by the code generator. The code generator, in turn, obtains this data when emitting instructions in a linear walk. It turns out that in this walk, prior recorded offsets can become invalidated by branch shortening (<code>optimize_branches</code>), leading to the invalid <code>start &gt; end</code> ranges:</p>
<p><div class="codehilite" data-code-language="Scala"><pre><span></span><code><span class="nc">MachBuffer</span><span class="p">:</span><span class="w"> </span><span class="n">use_label_at_offset</span><span class="p">:</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="mi">95</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="nc">JmpRel32</span>
<span class="n">emitting</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="nc">Block</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="nc">MachBuffer</span><span class="p">:</span><span class="w"> </span><span class="n">bind</span><span class="w"> </span><span class="n">label</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="mi">99</span>
<span class="n">enter</span><span class="w"> </span><span class="n">optimize_branches</span><span class="p">:</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">78</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">84</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">Some</span><span class="p">([</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">132</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]),</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">89</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span><span class="w"> </span><span class="p">}]</span>
<span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabelFixup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">label</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">JmpRel32</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nc">MachLabelFixup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">label</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">JmpRel32</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nc">MachLabelFixup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">label</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">JmpRel32</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nc">MachLabelFixup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">label</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">JmpRel32</span><span class="w"> </span><span class="p">}]</span>
<span class="n">optimize_branches</span><span class="p">:</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="mi">99</span>
<span class="n">branch</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="n">off</span><span class="p">;</span><span class="w"> </span><span class="n">truncating</span>
<span class="n">truncate_last_branch</span><span class="p">:</span><span class="w"> </span><span class="n">truncated</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">99</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="mi">94</span>
<span class="n">optimize_branches</span><span class="p">:</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">89</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="mi">94</span>
<span class="n">branch</span><span class="w"> </span><span class="k">with</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">cur</span><span class="w"> </span><span class="n">off</span><span class="p">;</span><span class="w"> </span><span class="n">truncating</span>
<span class="n">truncate_last_branch</span><span class="p">:</span><span class="w"> </span><span class="n">truncated</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">89</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">94</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">None</span><span class="p">,</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">};</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="n">now</span><span class="w"> </span><span class="mi">89</span>
<span class="n">optimize_branches</span><span class="p">:</span><span class="w"> </span><span class="n">last</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">78</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">84</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">Some</span><span class="p">([</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">132</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]),</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="n">off</span><span class="w"> </span><span class="mi">89</span>
<span class="n">purge_latest_branches</span><span class="p">:</span><span class="w"> </span><span class="n">removing</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="nc">MachBranch</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">start</span><span class="p">:</span><span class="w"> </span><span class="mi">78</span><span class="p">,</span><span class="w"> </span><span class="n">end</span><span class="p">:</span><span class="w"> </span><span class="mi">84</span><span class="p">,</span><span class="w"> </span><span class="n">target</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">fixup</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">inverted</span><span class="p">:</span><span class="w"> </span><span class="nc">Some</span><span class="p">([</span><span class="mi">15</span><span class="p">,</span><span class="w"> </span><span class="mi">132</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]),</span><span class="w"> </span><span class="n">labels_at_this_branch</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="p">}</span>
<span class="n">leave</span><span class="w"> </span><span class="n">optimize_branches</span><span class="p">:</span>
<span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
<span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nc">MachLabelFixup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">label</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">JmpRel32</span><span class="w"> </span><span class="p">},</span><span class="w"> </span><span class="nc">MachLabelFixup</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">label</span><span class="p">:</span><span class="w"> </span><span class="nc">MachLabel</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="w"> </span><span class="n">offset</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w"> </span><span class="n">kind</span><span class="p">:</span><span class="w"> </span><span class="nc">JmpRel32</span><span class="w"> </span><span class="p">}]</span>

<span class="nc">Recording</span><span class="w"> </span><span class="n">debug</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nc">VL8</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="nc">Reg</span><span class="p">(</span><span class="n">p2i</span><span class="p">):</span><span class="w"> </span><span class="p">[</span><span class="n">i13</span><span class="p">..</span><span class="n">i14</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="mi">95</span><span class="p">.</span><span class="mf">.90</span><span class="p">)</span><span class="w"> </span><span class="p">;</span><span class="w"> </span><span class="nc">Invalid</span><span class="w"> </span><span class="n">range</span>

<span class="p">;</span><span class="w"> </span><span class="nc">DI</span><span class="p">:</span><span class="w"> </span><span class="n">i12</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">89</span>
<span class="w">  </span><span class="n">jmp</span><span class="w">     </span><span class="n">label3</span>
<span class="n">block2</span><span class="p">:</span>
<span class="p">;</span><span class="w"> </span><span class="nc">DI</span><span class="p">:</span><span class="w"> </span><span class="n">i13</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">94</span>
<span class="w">  </span><span class="n">jmp</span><span class="w">     </span><span class="n">label3</span>
<span class="n">block3</span><span class="p">:</span>
<span class="p">;</span><span class="w"> </span><span class="nc">DI</span><span class="p">:</span><span class="w"> </span><span class="n">i14</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="mi">89</span>
<span class="w">  </span><span class="n">movl</span><span class="w">    </span><span class="mi">8</span><span class="p">(</span><span class="o">%</span><span class="n">r9</span><span class="p">,</span><span class="o">%</span><span class="n">r10</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="o">%</span><span class="n">ecx</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="387970157"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/387970157" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#387970157">(Aug 29 2023 at 21:18)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1698158456">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>@SingleAccretion that seems like a plausible explanation -- it's entirely possible that we missed a debug-info update when chomping branches. Would you be willing to make an attempt at fixing this? We record instruction offsets <a href="https://github.com/bytecodealliance/wasmtime/blob/16aa06464b987fd47b2b7419599af2bff0013063/cranelift/codegen/src/machinst/vcode.rs#L922">here</a> for debug purposes, and then those are cross-correlated with <code>debug_value_labels</code> (which contains instruction-index ranges). It's possible that we just need to do a post-pass or in-place update to ensure monotonicity in this sequence (i.e., clamp <code>inst_offsets[i]</code> to be less than or equal to <code>inst_offsets[i + 1]</code>)...</p>
</blockquote>



<a name="387972877"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/387972877" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#387972877">(Aug 29 2023 at 21:36)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1698168972">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>The disassembly bit is intentional: it's meant to be a dump of the VCode, which stays in N-target branch form, rather than an exact correspondence to the machine code. VCode "pseudo-instructions" are similarly slightly different. One can think of the MachBuffer branch chomping (and branch-target editing: target labels will be updated and conditional polarities will be flipped sometimes) as another layer of lowering.</p>
<p>This is also why @elliottt added a Capstone-based disassembly check to the filetests a while back (and why <code>clif-util</code> has <code>-D</code> that disassembles using Capstone): both are useful, for slightly different purposes.</p>
</blockquote>



<a name="387974561"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/387974561" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#387974561">(Aug 29 2023 at 21:48)</a>:</h4>
<p>SingleAccretion <a href="https://github.com/bytecodealliance/wasmtime/issues/3999#issuecomment-1698166153">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<p>@cfallin thank you for a quick response! Yes, I am looking at this right now. The branching logic (if I am reading it correctly) only ever edits the instruction stream to entirely remove the last branch instruction, so it looks possible to do in-place updating.</p>
<p>Side note: now that I consider this, the disassembly is also incorrect because of this after-the-fact removal. That <code>jmp     label3</code> will not exist in the actual emitted code.</p>
</blockquote>



<a name="388571214"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233999%20Assertion%20in%20debugger%20mode%20%28left%20%3C.../near/388571214" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233999.20Assertion.20in.20debugger.20mode.20.28left.20.3C.2E.2E.2E.html#388571214">(Sep 01 2023 at 17:42)</a>:</h4>
<p>cfallin closed <a href="https://github.com/bytecodealliance/wasmtime/issues/3999">issue #3999</a>:</p>
<blockquote>
<h3>Test Case</h3>
<p><a href="https://user-images.githubusercontent.com/5621716/161971426-a7599e7d-886f-4101-b379-8f5c20a38a8e.mov">https://user-images.githubusercontent.com/5621716/161971426-a7599e7d-886f-4101-b379-8f5c20a38a8e.mov</a></p>
<p>( couldn't upload .wasm file so I'd changed extension to .mov, it is actually .wasm file)</p>
<h3>Steps to Reproduce</h3>
<p>RUST_BACKTRACE=1 gdb --args wasmtime run -g preinitialized.wasm</p>
<h3>Expected Results</h3>
<p>debug break</p>
<h3>Actual Results</h3>
<p>crash:</p>
<p>thread 'main' panicked at 'assertion failed: <code>(left &lt; right)</code><br>
  left: <code>9699</code>,<br>
 right: <code>7415</code>', crates/cranelift/src/debug/transform/expression.rs:690:13<br>
stack backtrace:<br>
   0: rust_begin_unwind<br>
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/std/src/panicking.rs:498:5<br>
   1: core::panicking::panic_fmt<br>
             at /rustc/9d1b2106e23b1abd32fce1f17267604a5102f57a/library/core/src/panicking.rs:116:14<br>
   2: wasmtime_cranelift::debug::transform::expression::ValueLabelRangesBuilder::process_label<br>
   3: wasmtime_cranelift::debug::transform::expression::CompiledExpression::build_with_locals<br>
   4: wasmtime_cranelift::debug::transform::simulate::generate_simulated_dwarf<br>
   5: wasmtime_cranelift::debug::transform::transform_dwarf<br>
   6: wasmtime_cranelift::debug::write_debuginfo::emit_dwarf<br>
   7: &lt;wasmtime_cranelift::compiler::Compiler as wasmtime_environ::compilation::Compiler&gt;::emit_obj<br>
   8: core::ops::function::impls::&lt;impl core::ops::function::FnMut&lt;A&gt; for &amp;F&gt;::call_mut<br>
   9: &lt;core::iter::adapters:<span aria-label="map" class="emoji emoji-1f5fa" role="img" title="map">:map:</span>:Map&lt;I,F&gt; as core::iter::traits::iterator::Iterator&gt;::try_fold<br>
  10: &lt;rayon::iter::fold::FoldFolder&lt;C,ID,F&gt; as rayon::iter::plumbing::Folder&lt;T&gt;&gt;::consume_iter<br>
  11: rayon::iter::plumbing::bridge_producer_consumer::helper<br>
  12: &lt;rayon::vec::IntoIter&lt;T&gt; as rayon::iter::IndexedParallelIterator&gt;::with_producer<br>
  13: &lt;rayon::iter::while_some::WhileSome&lt;I&gt; as rayon::iter::ParallelIterator&gt;::drive_unindexed<br>
  14: rayon::iter::collect::&lt;impl rayon::iter::ParallelExtend&lt;T&gt; for alloc::vec::Vec&lt;T&gt;&gt;::par_extend<br>
  15: rayon::result::&lt;impl rayon::iter::FromParallelIterator&lt;core::result::Result&lt;T,E&gt;&gt; for core::result::Result&lt;C,E&gt;&gt;::from_par_iter<br>
  16: wasmtime::module::Module::build_artifacts<br>
  17: core::ops::function::FnOnce::call_once<br>
  18: wasmtime_cache::ModuleCacheEntry::get_data_raw<br>
  19: wasmtime::module::Module::from_binary<br>
  20: wasmtime::module::Module::from_file<br>
  21: wasmtime_cli::commands::run::RunCommand::load_module<br>
  22: wasmtime_cli::commands::run::RunCommand::load_main_module<br>
  23: wasmtime_cli::commands::run::RunCommand::execute<br>
  24: wasmtime::main<br>
note: Some details are omitted, run with <code>RUST_BACKTRACE=full</code> for a verbose backtrace.</p>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: wasmtime 0.35.2</p>
<p>Operating system: ubuntu 20.04</p>
<p>Architecture: x86_64<br>
</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>