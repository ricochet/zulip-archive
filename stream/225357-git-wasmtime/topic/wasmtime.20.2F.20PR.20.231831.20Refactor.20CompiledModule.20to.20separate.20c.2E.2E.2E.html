<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1831 Refactor CompiledModule to separate c... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231831.20Refactor.20CompiledModule.20to.20separate.20c.2E.2E.2E.html">wasmtime / PR #1831 Refactor CompiledModule to separate c...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="199930487"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231831%20Refactor%20CompiledModule%20to%20separate%20c.../near/199930487" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231831.20Refactor.20CompiledModule.20to.20separate.20c.2E.2E.2E.html#199930487">(Jun 05 2020 at 20:33)</a>:</h4>
<p>yurydelendik opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1831">PR #1831</a> from <code>relocs</code> to <code>master</code>:</p>
<blockquote>
<p>This is a major refactoring to:</p>
<ul>
<li>Uniformly handle relocation data for functions and trampolines</li>
<li>Store relocations with its code</li>
<li>Separate debug image generation from DWARF sections creation (and their relocations)</li>
<li>Cleaner linking</li>
</ul>
<p>No new functionality added here, mostly moving code around. Though it is a first step to allow serialization of compilation artifacts with ability to instantiate that later.</p>
</blockquote>



<a name="200121570"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231831%20Refactor%20CompiledModule%20to%20separate%20c.../near/200121570" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231831.20Refactor.20CompiledModule.20to.20separate.20c.2E.2E.2E.html#200121570">(Jun 08 2020 at 16:17)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1831#discussion_r436829919">PR Review Comment</a>:</p>
<blockquote>
<p>Is the goal here to largely get rid of the <code>Compilation</code> structure? I used that for a bit as a convenient "here's a package of a whole bunch of stuff" so when a field was added you didn't have to go add a bunch of parameters to a bunch of functions.</p>
<p>Also I think the <code>&lt;'a&gt;</code> here can be removed?</p>
</blockquote>



<a name="200121571"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231831%20Refactor%20CompiledModule%20to%20separate%20c.../near/200121571" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231831.20Refactor.20CompiledModule.20to.20separate.20c.2E.2E.2E.html#200121571">(Jun 08 2020 at 16:17)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1831#pullrequestreview-426402055">PR Review</a>.</p>



<a name="200121611"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231831%20Refactor%20CompiledModule%20to%20separate%20c.../near/200121611" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231831.20Refactor.20CompiledModule.20to.20separate.20c.2E.2E.2E.html#200121611">(Jun 08 2020 at 16:17)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1831#pullrequestreview-426402377">PR Review</a>.</p>



<a name="200121612"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231831%20Refactor%20CompiledModule%20to%20separate%20c.../near/200121612" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231831.20Refactor.20CompiledModule.20to.20separate.20c.2E.2E.2E.html#200121612">(Jun 08 2020 at 16:17)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1831#discussion_r436830147">PR Review Comment</a>:</p>
<blockquote>
<p>I probably wouldn't bother defining this since it's only used for one function.</p>
</blockquote>



<a name="200162211"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231831%20Refactor%20CompiledModule%20to%20separate%20c.../near/200162211" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231831.20Refactor.20CompiledModule.20to.20separate.20c.2E.2E.2E.html#200162211">(Jun 08 2020 at 22:11)</a>:</h4>
<p>yurydelendik submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1831#pullrequestreview-426657646">PR Review</a>.</p>



<a name="200162212"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231831%20Refactor%20CompiledModule%20to%20separate%20c.../near/200162212" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231831.20Refactor.20CompiledModule.20to.20separate.20c.2E.2E.2E.html#200162212">(Jun 08 2020 at 22:11)</a>:</h4>
<p>yurydelendik created <a href="https://github.com/bytecodealliance/wasmtime/pull/1831#discussion_r437029906">PR Review Comment</a>:</p>
<blockquote>
<p>yes, the caller "shreds" fields of the <code>Compilation</code> and changes their ownership -- only few are useful here (see <code>LinkContext</code> below). Passing entire <code>Compilation</code> into <code>link_module</code> blocks few compilation operations to be done sooner.</p>
</blockquote>



<a name="200170158"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231831%20Refactor%20CompiledModule%20to%20separate%20c.../near/200170158" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231831.20Refactor.20CompiledModule.20to.20separate.20c.2E.2E.2E.html#200170158">(Jun 09 2020 at 00:03)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1831">PR #1831</a> from <code>relocs</code> to <code>master</code>:</p>
<blockquote>
<p>This is a major refactoring to:</p>
<ul>
<li>Uniformly handle relocation data for functions and trampolines</li>
<li>Store relocations with its code</li>
<li>Separate debug image generation from DWARF sections creation (and their relocations)</li>
<li>Cleaner linking</li>
</ul>
<p>No new functionality added here, mostly moving code around. Though it is a first step to allow serialization of compilation artifacts with ability to instantiate that later.</p>
</blockquote>



<a name="200283262"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231831%20Refactor%20CompiledModule%20to%20separate%20c.../near/200283262" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231831.20Refactor.20CompiledModule.20to.20separate.20c.2E.2E.2E.html#200283262">(Jun 09 2020 at 20:09)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1831">PR #1831</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>