<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2046 Begin porting yanix to WASI · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html">wasmtime / PR #2046 Begin porting yanix to WASI</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="204431876"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204431876" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204431876">(Jul 20 2020 at 14:51)</a>:</h4>
<p>sunfishcode opened <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="204431878"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204431878" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204431878">(Jul 20 2020 at 14:51)</a>:</h4>
<p><strong>sunfishcode</strong> requested <a href="https://github.com/kubkon">kubkon</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a>.</p>



<a name="204436170"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204436170" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204436170">(Jul 20 2020 at 15:22)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="204446046"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204446046" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204446046">(Jul 20 2020 at 16:45)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="204449218"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204449218" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204449218">(Jul 20 2020 at 17:13)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="204449479"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204449479" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204449479">(Jul 20 2020 at 17:15)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="204965313"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204965313" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204965313">(Jul 24 2020 at 20:51)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="204966999"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204966999" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204966999">(Jul 24 2020 at 21:07)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="204967765"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204967765" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204967765">(Jul 24 2020 at 21:15)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="204969326"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204969326" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204969326">(Jul 24 2020 at 21:33)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="204971369"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204971369" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204971369">(Jul 24 2020 at 22:03)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="204972199"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204972199" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204972199">(Jul 24 2020 at 22:14)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="204973410"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/204973410" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#204973410">(Jul 24 2020 at 22:34)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="205284524"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/205284524" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#205284524">(Jul 28 2020 at 20:11)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="205974208"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/205974208" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#205974208">(Aug 04 2020 at 23:43)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="206499896"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206499896" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206499896">(Aug 10 2020 at 19:03)</a>:</h4>
<p>kubkon submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#pullrequestreview-464487310">PR Review</a>.</p>



<a name="206499897"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206499897" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206499897">(Aug 10 2020 at 19:03)</a>:</h4>
<p>kubkon created <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#discussion_r468108651">PR Review Comment</a>:</p>
<blockquote>
<p>Hmm, why is this cast suddenly needed here?</p>
</blockquote>



<a name="206499898"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206499898" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206499898">(Aug 10 2020 at 19:03)</a>:</h4>
<p>kubkon submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#pullrequestreview-464487310">PR Review</a>.</p>



<a name="206499899"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206499899" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206499899">(Aug 10 2020 at 19:03)</a>:</h4>
<p>kubkon created <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#discussion_r468108772">PR Review Comment</a>:</p>
<blockquote>
<p>Ditto.</p>
</blockquote>



<a name="206499900"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206499900" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206499900">(Aug 10 2020 at 19:03)</a>:</h4>
<p>kubkon created <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#discussion_r468109651">PR Review Comment</a>:</p>
<blockquote>
<p>Out of curiosity, what is <code>l4re</code>?</p>
</blockquote>



<a name="206499901"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206499901" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206499901">(Aug 10 2020 at 19:03)</a>:</h4>
<p>kubkon created <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#discussion_r468109187">PR Review Comment</a>:</p>
<blockquote>
<p>Do we need to <code>as</code> cast here at all?</p>
</blockquote>



<a name="206499902"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206499902" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206499902">(Aug 10 2020 at 19:03)</a>:</h4>
<p>kubkon created <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#discussion_r468111568">PR Review Comment</a>:</p>
<blockquote>
<p>Have you verified this is the case on different BSD flavours perhaps?</p>
</blockquote>



<a name="206499903"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206499903" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206499903">(Aug 10 2020 at 19:03)</a>:</h4>
<p>kubkon created <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#discussion_r468113060">PR Review Comment</a>:</p>
<blockquote>
<p>Is this loop necessary for actual OSes? I thought that <code>libc::PATH_MAX</code> existed for a reason and the OS would never return a path that is actually longer, or am I missing something here?</p>
<p>On WASI, it makes sense to loop since we AFAIK we don't have the concept of a <code>PATH_MAX</code> since it's so platform-dependent and could actually leak what host we're running on, but I'm not sure this loop is at all necessary on actual OSes. Plus, doesn't it lead to unnecessary allocs which could have been easily handled using static buffers instead like it was prior to this change?</p>
</blockquote>



<a name="206517753"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206517753" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206517753">(Aug 10 2020 at 21:48)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#pullrequestreview-464611600">PR Review</a>.</p>



<a name="206517754"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206517754" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206517754">(Aug 10 2020 at 21:48)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#discussion_r468205121">PR Review Comment</a>:</p>
<blockquote>
<p>WASI's <code>RawFd</code> is <code>u32</code>. <code>libc::fdopendir</code> takes a <code>c_int</code>, which is signed <code>i32</code>.</p>
</blockquote>



<a name="206517926"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206517926" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206517926">(Aug 10 2020 at 21:50)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#discussion_r468206047">PR Review Comment</a>:</p>
<blockquote>
<p>As above, <code>RawFd</code> is a <code>u32</code> on WASI.</p>
</blockquote>



<a name="206517927"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206517927" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206517927">(Aug 10 2020 at 21:50)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#pullrequestreview-464612629">PR Review</a>.</p>



<a name="206518123"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206518123" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206518123">(Aug 10 2020 at 21:53)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#pullrequestreview-464613961">PR Review</a>.</p>



<a name="206518124"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206518124" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206518124">(Aug 10 2020 at 21:53)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#discussion_r468207178">PR Review Comment</a>:</p>
<blockquote>
<p>It's a microkernel with L4 ancestry. It's just here because I looked that Rust's <code>libc</code> crate to see which platforms needed this, and it was one of them.</p>
</blockquote>



<a name="206518585"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206518585" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206518585">(Aug 10 2020 at 21:59)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#pullrequestreview-464616993">PR Review</a>.</p>



<a name="206518586"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206518586" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206518586">(Aug 10 2020 at 21:59)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#discussion_r468209678">PR Review Comment</a>:</p>
<blockquote>
<p>Ah, yes. FreeBSD's <code>readdir</code> says:</p>
<blockquote>
<p>The function returns NULL upon<br>
     reaching the end of the directory or on error.  In the event of an error,<br>
     errno may be set to any of the values documented for the getdirentries(2)<br>
     system call.</p>
</blockquote>
<p>The Unix convention for situatuations like this is to set errno to 0 before the call, and check if it's non-zero after the call. POSIX's description of <code>readdir</code> makes this explicit:</p>
<blockquote>
<p>Applications wishing to check for error situations should set errno to 0 before calling readdir(). If errno is set to non-zero on return, an error occurred.</p>
</blockquote>
</blockquote>



<a name="206523670"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206523670" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206523670">(Aug 10 2020 at 23:06)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="206523735"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206523735" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206523735">(Aug 10 2020 at 23:07)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#pullrequestreview-464645627">PR Review</a>.</p>



<a name="206523736"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206523736" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206523736">(Aug 10 2020 at 23:07)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/2046#discussion_r468233824">PR Review Comment</a>:</p>
<blockquote>
<p>For WASI, I want to avoid PATH_MAX because the actual value of PATH_MAX depends on the underlying host OS, so it's better for WASI code to avoid making size assumptions. But you're right that other platforms don't need this. I've now made this code conditional to restore stack allocation.</p>
</blockquote>



<a name="206524142"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/206524142" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#206524142">(Aug 10 2020 at 23:12)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="207148623"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/207148623" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#207148623">(Aug 17 2020 at 14:13)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a> from <code>yanix-wasi</code> to <code>main</code>:</p>
<blockquote>
<p>This is a series of patches which begin porting yanix to WASI, and which contain various other fixes needed for using yanix outside of Wasmtime in general.</p>
</blockquote>



<a name="211759021"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232046%20Begin%20porting%20yanix%20to%20WASI/near/211759021" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232046.20Begin.20porting.20yanix.20to.20WASI.html#211759021">(Sep 30 2020 at 13:30)</a>:</h4>
<p>sunfishcode closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/2046">PR #2046</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>