<html>
<head><meta charset="utf-8"><title>wasmtime / issue #1035 Consider alternative methods for w... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231035.20Consider.20alternative.20methods.20for.20w.2E.2E.2E.html">wasmtime / issue #1035 Consider alternative methods for w...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="446313122"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231035%20Consider%20alternative%20methods%20for%20w.../near/446313122" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231035.20Consider.20alternative.20methods.20for.20w.2E.2E.2E.html#446313122">(Jun 22 2024 at 19:20)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/1035#issuecomment-2184161924">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1035">issue #1035</a>:</p>
<blockquote>
<p>The <code>CodeSink</code> trait is now gone. <code>MachBufferFinalized</code> contains all information in the form of <code>SmallVec</code>'s which the user can access as slices. As such I think this issue can be closed.</p>
</blockquote>



<a name="446341489"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231035%20Consider%20alternative%20methods%20for%20w.../near/446341489" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231035.20Consider.20alternative.20methods.20for.20w.2E.2E.2E.html#446341489">(Jun 22 2024 at 23:13)</a>:</h4>
<p>cfallin closed <a href="https://github.com/bytecodealliance/wasmtime/issues/1035">issue #1035</a>:</p>
<blockquote>
<p>Currently, binemit has its own <a href="https://docs.rs/cretonne-codegen/0.5.0/cretonne_codegen/binemit/trait.CodeSink.html">CodeSink</a> trait for writing binary data. It isn't entirely satisfying, in part because it's an unsafe interface -- it doesn't perform bounds checking on the underlying data. While we can provide relatively safe interfaces to protect users from misusing the API, it's harder to be absolutely certain that the number of bytes <code>compile</code> says a function needs is the number of bytes <code>emit_to_memory</code> actually writes for that function.</p>
<p>One option would be to provide a safe checked version of <code>MemoryCodeSink</code>. However, it's also worth considering evaluating available crates that provide low-level byte buffer writing functionality, including:</p>
<ul>
<li><a href="https://crates.io/crates/bytevec">https://crates.io/crates/bytevec</a></li>
<li><a href="https://crates.io/crates/bytebuffer">https://crates.io/crates/bytebuffer</a></li>
<li><a href="https://crates.io/crates/scroll">https://crates.io/crates/scroll</a></li>
</ul>
</blockquote>



<a name="446341490"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231035%20Consider%20alternative%20methods%20for%20w.../near/446341490" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231035.20Consider.20alternative.20methods.20for.20w.2E.2E.2E.html#446341490">(Jun 22 2024 at 23:13)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/1035#issuecomment-2184241550">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1035">issue #1035</a>:</p>
<blockquote>
<p>Yep, this is no longer an issue -- thanks!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>