<html>
<head><meta charset="utf-8"><title>wasmtime / PR #4409 fuzz: add a single instruction module... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html">wasmtime / PR #4409 fuzz: add a single instruction module...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="288849217"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288849217" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288849217">(Jul 07 2022 at 18:45)</a>:</h4>
<p>abrown opened <a href="https://github.com/bytecodealliance/wasmtime/pull/4409">PR #4409</a> from <code>single-inst-module</code> to <code>main</code>:</p>
<blockquote>
<p>As proposed by @cfallin in #3251, this change adds a way to generate a<br>
Wasm module for a single instruction. It captures the necessary<br>
parameter and result types so that fuzzing can not only choose which<br>
instruction to check but also generate values to pass to the<br>
instruction. Not all instructions are available yet, but a significant<br>
portion of scalar instructions are implemented in this change.</p>
<p>This does not wire the generator up to any fuzz targets.</p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="288850120"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288850120" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288850120">(Jul 07 2022 at 18:53)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#pullrequestreview-1032029573">PR review</a>.</p>



<a name="288850121"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288850121" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288850121">(Jul 07 2022 at 18:53)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#discussion_r916188369">PR review comment</a>:</p>
<blockquote>
<p>You can use a raw string here to avoid the <code>\n</code> and put things on multiple lines.</p>
</blockquote>



<a name="288850122"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288850122" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288850122">(Jul 07 2022 at 18:53)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#pullrequestreview-1032029573">PR review</a>.</p>



<a name="288858001"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288858001" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288858001">(Jul 07 2022 at 19:59)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#pullrequestreview-1032068464">PR review</a>.</p>



<a name="288858002"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288858002" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288858002">(Jul 07 2022 at 19:59)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#discussion_r916220527">PR review comment</a>:</p>
<blockquote>
<p>I like this set of macros!</p>
<p>I notice none of the <code>rust_ty</code> macro arguments are used currently. As an alternative, what about a helper macro like:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="fm">macro_rules!</span><span class="w"> </span><span class="n">wasm_type</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">(</span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">ValType</span>::<span class="n">I32</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="w">    </span><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="w">    </span><span class="p">(</span><span class="kt">f64</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">ValType</span>::<span class="n">F64</span><span class="w"> </span><span class="p">};</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<p>Then use Rust types in all macro arguments, and convert them using <code>wasm_type!</code> only when constructing the <code>parameters</code> and <code>results</code> arrays. That makes the macro invocations less verbose and also means you can enhance the macros to make use of the Rust types later. You could define <code>convert!</code> and <code>compare!</code> in one line each at that point.</p>
<p>You could also collapse all the current macros into one like <code>inst!(F64Sub (f64, f64) -&gt; (f64))</code>:</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="fm">macro_rules!</span><span class="w"> </span><span class="n">inst</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">(</span><span class="cp">$inst</span>:<span class="nc">ident</span><span class="w"> </span><span class="p">(</span><span class="cp">$($param_ty</span>:<span class="nc">ident</span><span class="p">),</span><span class="o">*</span><span class="p">)</span><span class="w"> </span>-&gt; <span class="p">(</span><span class="cp">$($ret_ty</span>:<span class="nc">ident</span><span class="p">),</span><span class="o">*</span><span class="p">))</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">SingleInstModule</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">instruction</span>: <span class="cp">$inst</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="n">parameters</span>: <span class="kp">&amp;</span><span class="p">[</span><span class="cp">$(</span><span class="n">wasm_type</span><span class="o">!</span><span class="p">(</span><span class="cp">$param_ty</span><span class="p">)),</span><span class="o">*</span><span class="p">],</span><span class="w"></span>
<span class="w">            </span><span class="n">results</span>: <span class="kp">&amp;</span><span class="p">[</span><span class="cp">$(</span><span class="n">wasm_type</span><span class="o">!</span><span class="p">(</span><span class="cp">$ret_ty</span><span class="p">)),</span><span class="o">*</span><span class="p">],</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<a name="288858003"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288858003" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288858003">(Jul 07 2022 at 19:59)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#pullrequestreview-1032068464">PR review</a>.</p>



<a name="288858004"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288858004" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288858004">(Jul 07 2022 at 19:59)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#discussion_r916215443">PR review comment</a>:</p>
<blockquote>
<p>I think it might be an improvement to avoid the use of <code>once_cell</code> in this module by making <code>parameters</code> and <code>results</code> be <code>&amp;'a [ValType]</code> instead. (Or drop the <code>'a</code> lifetime parameter and just use <code>'static</code>.) The macros below would then use <code>&amp;[...]</code> instead of <code>vec![...]</code>, and the instructions would be declared like:</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">static</span><span class="w"> </span><span class="n">INSTRUCTIONS</span>: <span class="kp">&amp;</span><span class="p">[</span><span class="n">SingleInstModule</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="n">unary</span><span class="o">!</span><span class="p">(</span><span class="n">I32Clz</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="p">),</span><span class="w"></span>
<span class="w">    </span><span class="o">..</span><span class="p">.</span><span class="w"></span>
<span class="p">];</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<a name="288858005"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288858005" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288858005">(Jul 07 2022 at 19:59)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#discussion_r916224495">PR review comment</a>:</p>
<blockquote>
<p>Does the module need to be cloned, or can this be implemented for <code>&amp;SingleInstModule&lt;'_&gt;</code> instead?</p>
</blockquote>



<a name="288862628"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288862628" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288862628">(Jul 07 2022 at 20:39)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#discussion_r916263484">PR review comment</a>:</p>
<blockquote>
<p>Good suggestion! Done.</p>
</blockquote>



<a name="288862630"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288862630" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288862630">(Jul 07 2022 at 20:39)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#pullrequestreview-1032137906">PR review</a>.</p>



<a name="288863925"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288863925" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288863925">(Jul 07 2022 at 20:50)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4409">PR #4409</a> from <code>single-inst-module</code> to <code>main</code>.</p>



<a name="288864516"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288864516" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288864516">(Jul 07 2022 at 20:55)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#pullrequestreview-1032152805">PR review</a>.</p>



<a name="288864517"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288864517" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288864517">(Jul 07 2022 at 20:55)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#discussion_r916273932">PR review comment</a>:</p>
<blockquote>
<p>Yeah, thanks for the comment; I cleaned things up a bit but not all the way to the final <code>inst!</code> suggestion. In the project this came from, there was more involved and so this was an exercise in "paring down" the original code. I'll leave it as it is in 28f2636 until I see a bit more clearly how this will be used in the actual fuzz target, since that might change the shape of this again.</p>
</blockquote>



<a name="288864668"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288864668" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288864668">(Jul 07 2022 at 20:56)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4409">PR #4409</a> from <code>single-inst-module</code> to <code>main</code>.</p>



<a name="288864687"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288864687" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288864687">(Jul 07 2022 at 20:56)</a>:</h4>
<p><strong>abrown</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/4409">PR #4409</a> as ready for review.</p>



<a name="288864714"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288864714" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288864714">(Jul 07 2022 at 20:56)</a>:</h4>
<p>abrown edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#discussion_r916273932">PR review comment</a>.</p>



<a name="288864727"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288864727" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288864727">(Jul 07 2022 at 20:56)</a>:</h4>
<p>abrown has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/4409">PR #4409</a>.</p>



<a name="288865081"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288865081" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288865081">(Jul 07 2022 at 21:00)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#discussion_r916277215">PR review comment</a>:</p>
<blockquote>
<p>One nice test to add here as well might be iterating over <code>super::INSTRUCTIONS</code> and verifying that everything which pops out is a valid module.</p>
</blockquote>



<a name="288865082"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288865082" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288865082">(Jul 07 2022 at 21:00)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#pullrequestreview-1032157444">PR review</a>.</p>



<a name="288867564"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288867564" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288867564">(Jul 07 2022 at 21:20)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#pullrequestreview-1032165375">PR review</a>.</p>



<a name="288867565"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288867565" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288867565">(Jul 07 2022 at 21:20)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#pullrequestreview-1032165375">PR review</a>.</p>



<a name="288867566"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288867566" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288867566">(Jul 07 2022 at 21:20)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#discussion_r916287356">PR review comment</a>:</p>
<blockquote>
<p>This hardly matters but I'll mention it anyway: <code>locals</code> doesn't need to be a <code>Vec</code>. Since Rust 1.53 there's an <code>impl&lt;T, const N: usize&gt; IntoIterator for [T; N]</code>, so you can just call <code>Function::new([])</code>.</p>
</blockquote>



<a name="288867567"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288867567" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288867567">(Jul 07 2022 at 21:20)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#discussion_r916282749">PR review comment</a>:</p>
<blockquote>
<p>I guess the changes to <code>Cargo.lock</code> should be removed too.</p>
</blockquote>



<a name="288868568"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288868568" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288868568">(Jul 07 2022 at 21:30)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#pullrequestreview-1032184085">PR review</a>.</p>



<a name="288868569"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288868569" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288868569">(Jul 07 2022 at 21:30)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#discussion_r916296091">PR review comment</a>:</p>
<blockquote>
<p>Hm, interesting that this didn't go away....</p>
</blockquote>



<a name="288868613"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288868613" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288868613">(Jul 07 2022 at 21:31)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4409">PR #4409</a> from <code>single-inst-module</code> to <code>main</code>.</p>



<a name="288868738"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288868738" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288868738">(Jul 07 2022 at 21:32)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4409">PR #4409</a> from <code>single-inst-module</code> to <code>main</code>.</p>



<a name="288871807"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288871807" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288871807">(Jul 07 2022 at 22:01)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4409#pullrequestreview-1032207123">PR review</a>.</p>



<a name="288876151"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234409%20fuzz%3A%20add%20a%20single%20instruction%20module.../near/288876151" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234409.20fuzz.3A.20add.20a.20single.20instruction.20module.2E.2E.2E.html#288876151">(Jul 07 2022 at 22:51)</a>:</h4>
<p>abrown merged <a href="https://github.com/bytecodealliance/wasmtime/pull/4409">PR #4409</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>