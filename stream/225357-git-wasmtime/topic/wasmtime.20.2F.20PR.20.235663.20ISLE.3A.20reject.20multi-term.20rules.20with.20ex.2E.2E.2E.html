<html>
<head><meta charset="utf-8"><title>wasmtime / PR #5663 ISLE: reject multi-term rules with ex... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235663.20ISLE.3A.20reject.20multi-term.20rules.20with.20ex.2E.2E.2E.html">wasmtime / PR #5663 ISLE: reject multi-term rules with ex...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="324801695"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235663%20ISLE%3A%20reject%20multi-term%20rules%20with%20ex.../near/324801695" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235663.20ISLE.3A.20reject.20multi-term.20rules.20with.20ex.2E.2E.2E.html#324801695">(Jan 31 2023 at 00:02)</a>:</h4>
<p>jameysharp opened <a href="https://github.com/bytecodealliance/wasmtime/pull/5663">PR #5663</a> from <code>no-multi-prio</code> to <code>main</code>:</p>
<blockquote>
<p>In multi-terms, all matching rules fire. We treat the result as an unordered set of values, so setting rule priorities is meaningless. We want to prohibit relying on the rule match order in this case.</p>
<p>Also, codegen can produce invalid Rust if rules with different priorities both match against a multi-term. We first documented this symptom in #5647. As far as I can figure, prohibiting rule priorities prevents all possible instances of that bug.</p>
<p>At some point in the future we might decide we want to carefully define semantics for multi-term result ordering, at which point we can revisit this.</p>
</blockquote>



<a name="324801698"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235663%20ISLE%3A%20reject%20multi-term%20rules%20with%20ex.../near/324801698" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235663.20ISLE.3A.20reject.20multi-term.20rules.20with.20ex.2E.2E.2E.html#324801698">(Jan 31 2023 at 00:02)</a>:</h4>
<p><strong>jameysharp</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/5663">PR #5663</a>.</p>



<a name="324967132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235663%20ISLE%3A%20reject%20multi-term%20rules%20with%20ex.../near/324967132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235663.20ISLE.3A.20reject.20multi-term.20rules.20with.20ex.2E.2E.2E.html#324967132">(Jan 31 2023 at 17:08)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5663#pullrequestreview-1277672214">PR review</a>.</p>



<a name="324967171"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235663%20ISLE%3A%20reject%20multi-term%20rules%20with%20ex.../near/324967171" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235663.20ISLE.3A.20reject.20multi-term.20rules.20with.20ex.2E.2E.2E.html#324967171">(Jan 31 2023 at 17:08)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/5663">PR #5663</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>