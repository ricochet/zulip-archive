<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1914 Register individual FDEs for musl libc. · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html">wasmtime / PR #1914 Register individual FDEs for musl libc.</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="201780640"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201780640" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201780640">(Jun 23 2020 at 20:47)</a>:</h4>
<p>peterhuene opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1914">PR #1914</a> from <code>fix-musl-unwind</code> to <code>master</code>:</p>
<blockquote>
<p>When targeting musl, libunwind is used for the <code>__register_frame</code><br>
implementation.</p>
<p>Unlike when targeting libgcc which expects an entire frame table, the libunwind<br>
implementation expects a single FDE.</p>
<p>This change ensures Wasmtime registers each individual FDE when targeting musl.</p>
<p>Fixes #1904.</p>
</blockquote>



<a name="201780641"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201780641" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201780641">(Jun 23 2020 at 20:47)</a>:</h4>
<p><strong>peterhuene</strong> requested <a href="https://github.com/yurydelendik">yurydelendik</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1914">PR #1914</a>.</p>



<a name="201781170"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201781170" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201781170">(Jun 23 2020 at 20:51)</a>:</h4>
<p>peterhuene updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1914">PR #1914</a> from <code>fix-musl-unwind</code> to <code>master</code>:</p>
<blockquote>
<p>When targeting musl, libunwind is used for the <code>__register_frame</code><br>
implementation.</p>
<p>Unlike when targeting libgcc which expects an entire frame table, the libunwind<br>
implementation expects a single FDE.</p>
<p>This change ensures Wasmtime registers each individual FDE when targeting musl.</p>
<p>Fixes #1904.</p>
</blockquote>



<a name="201782440"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201782440" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201782440">(Jun 23 2020 at 21:00)</a>:</h4>
<p>yurydelendik submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1914#pullrequestreview-436154237">PR Review</a>.</p>



<a name="201782448"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201782448" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201782448">(Jun 23 2020 at 21:00)</a>:</h4>
<p>yurydelendik submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1914#pullrequestreview-436154237">PR Review</a>.</p>



<a name="201916032"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201916032" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201916032">(Jun 24 2020 at 23:27)</a>:</h4>
<p>peterhuene updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1914">PR #1914</a> from <code>fix-musl-unwind</code> to <code>master</code>:</p>
<blockquote>
<p>When targeting musl, libunwind is used for the <code>__register_frame</code><br>
implementation.</p>
<p>Unlike when targeting libgcc which expects an entire frame table, the libunwind<br>
implementation expects a single FDE.</p>
<p>This change ensures Wasmtime registers each individual FDE when targeting musl.</p>
<p>Fixes #1904.</p>
</blockquote>



<a name="201916139"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201916139" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201916139">(Jun 24 2020 at 23:29)</a>:</h4>
<p>peterhuene updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1914">PR #1914</a> from <code>fix-musl-unwind</code> to <code>master</code>:</p>
<blockquote>
<p>When targeting musl, libunwind is used for the <code>__register_frame</code><br>
implementation.</p>
<p>Unlike when targeting libgcc which expects an entire frame table, the libunwind<br>
implementation expects a single FDE.</p>
<p>This change ensures Wasmtime registers each individual FDE when targeting musl.</p>
<p>Fixes #1904.</p>
</blockquote>



<a name="201920137"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201920137" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201920137">(Jun 25 2020 at 00:26)</a>:</h4>
<p><strong>peterhuene</strong> requested <a href="https://github.com/yurydelendik">yurydelendik</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1914">PR #1914</a>.</p>



<a name="201973125"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201973125" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201973125">(Jun 25 2020 at 14:04)</a>:</h4>
<p>yurydelendik submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1914#pullrequestreview-437527039">PR Review</a>.</p>



<a name="201976256"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201976256" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201976256">(Jun 25 2020 at 14:28)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1914#pullrequestreview-437551198">PR Review</a>.</p>



<a name="201976257"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201976257" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201976257">(Jun 25 2020 at 14:28)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1914#pullrequestreview-437551198">PR Review</a>.</p>



<a name="201976259"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201976259" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201976259">(Jun 25 2020 at 14:28)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1914#discussion_r445601474">PR Review Comment</a>:</p>
<blockquote>
<p>AFAIK <code>target_env = ""</code> doesn't happen that often on Linux (I'm not sure it ever does), so that may be safe to drop here? Since this seems to be glibc-specific behavior for now it may be best to stick to just <code>target_env = "gnu"</code> anyway too</p>
</blockquote>



<a name="201976272"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/201976272" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#201976272">(Jun 25 2020 at 14:28)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1914#pullrequestreview-437551371">PR Review</a>.</p>



<a name="202008248"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/202008248" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#202008248">(Jun 25 2020 at 18:40)</a>:</h4>
<p>peterhuene created <a href="https://github.com/bytecodealliance/wasmtime/pull/1914#discussion_r445761389">PR Review Comment</a>:</p>
<blockquote>
<p>Yeah, just going off the docs:</p>
<blockquote>
<p>Thus, for example, on many GNU platforms, this value will be empty</p>
</blockquote>
<p>I'll drop it for now and merge.</p>
</blockquote>



<a name="202008249"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/202008249" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#202008249">(Jun 25 2020 at 18:40)</a>:</h4>
<p>peterhuene submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1914#pullrequestreview-437762063">PR Review</a>.</p>



<a name="202008297"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/202008297" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#202008297">(Jun 25 2020 at 18:40)</a>:</h4>
<p>peterhuene edited <a href="https://github.com/bytecodealliance/wasmtime/pull/1914#discussion_r445761389">PR Review Comment</a>.</p>



<a name="202008556"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/202008556" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#202008556">(Jun 25 2020 at 18:43)</a>:</h4>
<p>peterhuene updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1914">PR #1914</a> from <code>fix-musl-unwind</code> to <code>master</code>:</p>
<blockquote>
<p>When targeting musl, libunwind is used for the <code>__register_frame</code><br>
implementation.</p>
<p>Unlike when targeting libgcc which expects an entire frame table, the libunwind<br>
implementation expects a single FDE.</p>
<p>This change ensures Wasmtime registers each individual FDE when targeting musl.</p>
<p>Fixes #1904.</p>
</blockquote>



<a name="202009182"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/202009182" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#202009182">(Jun 25 2020 at 18:48)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/pull/1914">PR #1914</a> from <code>fix-musl-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>When targeting musl, libunwind is used for the <code>__register_frame</code><br>
implementation.</p>
<p>Unlike when targeting libgcc which expects an entire frame table, the libunwind<br>
implementation expects a single FDE.</p>
<p>This change ensures Wasmtime registers each individual FDE when targeting musl.</p>
<p>Fixes #1904.</p>
</blockquote>



<a name="202010981"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/202010981" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#202010981">(Jun 25 2020 at 19:03)</a>:</h4>
<p>alexcrichton closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/1914">PR #1914</a>.</p>



<a name="202011395"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/202011395" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#202011395">(Jun 25 2020 at 19:06)</a>:</h4>
<p>peterhuene reopened <a href="https://github.com/bytecodealliance/wasmtime/pull/1914">PR #1914</a> from <code>fix-musl-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>When targeting musl, libunwind is used for the <code>__register_frame</code><br>
implementation.</p>
<p>Unlike when targeting libgcc which expects an entire frame table, the libunwind<br>
implementation expects a single FDE.</p>
<p>This change ensures Wasmtime registers each individual FDE when targeting musl.</p>
<p>Fixes #1904.</p>
</blockquote>



<a name="202017653"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231914%20Register%20individual%20FDEs%20for%20musl%20libc./near/202017653" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231914.20Register.20individual.20FDEs.20for.20musl.20libc.2E.html#202017653">(Jun 25 2020 at 20:02)</a>:</h4>
<p>peterhuene merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1914">PR #1914</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>