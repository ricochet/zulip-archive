<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8063 cranelift-wasm: Stop using table_addr... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html">wasmtime / PR #8063 cranelift-wasm: Stop using table_addr...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="426411558"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238063%20cranelift-wasm%3A%20Stop%20using%20table_addr.../near/426411558" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html#426411558">(Mar 13 2024 at 19:23)</a>:</h4>
<p>jameysharp edited <a href="https://github.com/bytecodealliance/wasmtime/pull/8063">PR #8063</a>.</p>



<a name="426411741"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238063%20cranelift-wasm%3A%20Stop%20using%20table_addr.../near/426411741" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html#426411741">(Mar 13 2024 at 19:24)</a>:</h4>
<p><strong>jameysharp</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/8063">PR #8063</a> as ready for review.</p>



<a name="426411743"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238063%20cranelift-wasm%3A%20Stop%20using%20table_addr.../near/426411743" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html#426411743">(Mar 13 2024 at 19:24)</a>:</h4>
<p><strong>jameysharp</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8063">PR #8063</a>.</p>



<a name="426411744"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238063%20cranelift-wasm%3A%20Stop%20using%20table_addr.../near/426411744" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html#426411744">(Mar 13 2024 at 19:24)</a>:</h4>
<p><strong>jameysharp</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8063">PR #8063</a>.</p>



<a name="426411745"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238063%20cranelift-wasm%3A%20Stop%20using%20table_addr.../near/426411745" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html#426411745">(Mar 13 2024 at 19:24)</a>:</h4>
<p><strong>jameysharp</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8063">PR #8063</a>.</p>



<a name="426423919"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238063%20cranelift-wasm%3A%20Stop%20using%20table_addr.../near/426423919" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html#426423919">(Mar 13 2024 at 20:47)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8063#pullrequestreview-1935170606">PR review</a>:</p>
<blockquote>
<p>Nice!</p>
</blockquote>



<a name="426423920"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238063%20cranelift-wasm%3A%20Stop%20using%20table_addr.../near/426423920" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html#426423920">(Mar 13 2024 at 20:47)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8063#pullrequestreview-1935170606">PR review</a>:</p>
<blockquote>
<p>Nice!</p>
</blockquote>



<a name="426423921"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238063%20cranelift-wasm%3A%20Stop%20using%20table_addr.../near/426423921" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html#426423921">(Mar 13 2024 at 20:47)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8063#discussion_r1523891686">PR review comment</a>:</p>
<blockquote>
<p>And apologies if tihs already existed. I think we can clean up a tiny bit of complexity here, if that was the case.</p>
</blockquote>



<a name="426423922"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238063%20cranelift-wasm%3A%20Stop%20using%20table_addr.../near/426423922" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html#426423922">(Mar 13 2024 at 20:47)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8063#discussion_r1523891013">PR review comment</a>:</p>
<blockquote>
<p>Not 100% convinced it is worth adding the power-of-2 optimization here, since our mid-end rules should definitely already handle this. I think this file should focus on just (a) the correctness of the bounds checks and (b) optimizations to the bounds checks <em>that rely on knowledge of the Wasm table and its limits that the mid-end can't possibly know.</em></p>
</blockquote>



<a name="426427434"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238063%20cranelift-wasm%3A%20Stop%20using%20table_addr.../near/426427434" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html#426427434">(Mar 13 2024 at 21:12)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8063#pullrequestreview-1935220570">PR review</a>.</p>



<a name="426427437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238063%20cranelift-wasm%3A%20Stop%20using%20table_addr.../near/426427437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html#426427437">(Mar 13 2024 at 21:12)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/8063#discussion_r1523922449">PR review comment</a>:</p>
<blockquote>
<p>Yeah, I considered removing that in favor of relying on the corresponding egraph optimizations, but decided to keep it since it was in the original. I'd prefer to land it in this form to avoid bigger changes to the filetests, where I specifically have not turned on the egraph pass so it's more clear what's being generated, but I wouldn't be upset about removing this later.</p>
</blockquote>



<a name="426431035"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238063%20cranelift-wasm%3A%20Stop%20using%20table_addr.../near/426431035" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238063.20cranelift-wasm.3A.20Stop.20using.20table_addr.2E.2E.2E.html#426431035">(Mar 13 2024 at 21:39)</a>:</h4>
<p>jameysharp merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8063">PR #8063</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>