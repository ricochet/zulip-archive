<html>
<head><meta charset="utf-8"><title>wasmtime / PR #3169 wasmtime: Option to disable parallel ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html">wasmtime / PR #3169 wasmtime: Option to disable parallel ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="248857333"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/248857333" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#248857333">(Aug 09 2021 at 14:50)</a>:</h4>
<p>pepyakin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/3169">PR #3169</a> from <code>pep-disable-parallel-compilation</code> to <code>main</code>.</p>



<a name="248864777"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/248864777" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#248864777">(Aug 09 2021 at 15:39)</a>:</h4>
<p>pepyakin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3169">PR #3169</a> from <code>pep-disable-parallel-compilation</code> to <code>main</code>.</p>



<a name="248864830"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/248864830" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#248864830">(Aug 09 2021 at 15:39)</a>:</h4>
<p><strong>pepyakin</strong> requested <a href="https://github.com/peterhuene">peterhuene</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/3169">PR #3169</a>.</p>



<a name="248868748"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/248868748" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#248868748">(Aug 09 2021 at 16:04)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3169#pullrequestreview-725552282">PR review</a>.</p>



<a name="248868750"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/248868750" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#248868750">(Aug 09 2021 at 16:04)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/3169#discussion_r685322337">PR review comment</a>:</p>
<blockquote>
<p>This is currently intentional in that it takes <code>fn</code> instead of a closure because this is doing caching internally and trying to guarantee that the closure doesn't close over anything that isn't hashed and computed for caching. Is it possible to use the function-based version of this?</p>
</blockquote>



<a name="248868751"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/248868751" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#248868751">(Aug 09 2021 at 16:04)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3169#pullrequestreview-725552282">PR review</a>.</p>



<a name="248868752"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/248868752" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#248868752">(Aug 09 2021 at 16:04)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/3169#discussion_r685323035">PR review comment</a>:</p>
<blockquote>
<p>Could this argument be baked into the <code>Compiler</code> itself rather than passed as a parameter? I also think it's fine for it to be an unconditional parameter to avoid the <code>#[cfg]</code> on usage</p>
</blockquote>



<a name="248868753"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/248868753" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#248868753">(Aug 09 2021 at 16:04)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/3169#discussion_r685326194">PR review comment</a>:</p>
<blockquote>
<p>I think this macro be be out-living its usefulness as at this point it's branching into somewhat more obscure syntax. </p>
<p>I think our parallel operations are basically all <code>map</code>/<code>collect</code> so perhaps a new method could be exposed on <code>Compiler</code> which does that operation "take this list and run this closure and return the results" where the one method has internal <code>#[cfg]</code> and such for rayon vs not?</p>
</blockquote>



<a name="248868786"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/248868786" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#248868786">(Aug 09 2021 at 16:05)</a>:</h4>
<p>pepyakin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3169">PR #3169</a> from <code>pep-disable-parallel-compilation</code> to <code>main</code>.</p>



<a name="248873286"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/248873286" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#248873286">(Aug 09 2021 at 16:37)</a>:</h4>
<p>alexcrichton closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/3169">PR #3169</a>.</p>



<a name="248877218"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/248877218" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#248877218">(Aug 09 2021 at 17:07)</a>:</h4>
<p>pepyakin reopened <a href="https://github.com/bytecodealliance/wasmtime/pull/3169">PR #3169</a> from <code>pep-disable-parallel-compilation</code> to <code>main</code>.</p>



<a name="248981796"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/248981796" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#248981796">(Aug 10 2021 at 13:55)</a>:</h4>
<p>pepyakin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3169">PR #3169</a> from <code>pep-disable-parallel-compilation</code> to <code>main</code>.</p>



<a name="249007102"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/249007102" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#249007102">(Aug 10 2021 at 17:05)</a>:</h4>
<p>pepyakin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3169">PR #3169</a> from <code>pep-disable-parallel-compilation</code> to <code>main</code>.</p>



<a name="249007103"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/249007103" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#249007103">(Aug 10 2021 at 17:05)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3169">PR #3169</a> from <code>pep-disable-parallel-compilation</code> to <code>main</code>.</p>



<a name="249009194"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/249009194" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#249009194">(Aug 10 2021 at 17:23)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3169#pullrequestreview-726649240">PR review</a>.</p>



<a name="249009195"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/249009195" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#249009195">(Aug 10 2021 at 17:23)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3169#pullrequestreview-726649240">PR review</a>.</p>



<a name="249009196"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/249009196" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#249009196">(Aug 10 2021 at 17:23)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/3169#discussion_r686174828">PR review comment</a>:</p>
<blockquote>
<p>I think this no longer needs the <code>#[cfg]</code>?</p>
</blockquote>



<a name="249010973"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/249010973" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#249010973">(Aug 10 2021 at 17:38)</a>:</h4>
<p>pepyakin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3169">PR #3169</a> from <code>pep-disable-parallel-compilation</code> to <code>main</code>.</p>



<a name="249011450"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/249011450" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#249011450">(Aug 10 2021 at 17:42)</a>:</h4>
<p>pepyakin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3169">PR #3169</a> from <code>pep-disable-parallel-compilation</code> to <code>main</code>.</p>



<a name="249022272"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/249022272" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#249022272">(Aug 10 2021 at 19:09)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3169#pullrequestreview-726749515">PR review</a>.</p>



<a name="249022279"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233169%20wasmtime%3A%20Option%20to%20disable%20parallel%20.../near/249022279" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233169.20wasmtime.3A.20Option.20to.20disable.20parallel.20.2E.2E.2E.html#249022279">(Aug 10 2021 at 19:09)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/3169">PR #3169</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>