<html>
<head><meta charset="utf-8"><title>wasmtime / issue #7580 Add riscv-64 to the supported arch... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237580.20Add.20riscv-64.20to.20the.20supported.20arch.2E.2E.2E.html">wasmtime / issue #7580 Add riscv-64 to the supported arch...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="403941189"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237580%20Add%20riscv-64%20to%20the%20supported%20arch.../near/403941189" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237580.20Add.20riscv-64.20to.20the.20supported.20arch.2E.2E.2E.html#403941189">(Nov 24 2023 at 10:35)</a>:</h4>
<p>afro-coder edited <a href="https://github.com/bytecodealliance/wasmtime/issues/7580">issue #7580</a>:</p>
<blockquote>
<p>Thanks for filing a feature request! Please fill out the TODOs below.</p>
<h4>Feature</h4>
<p>TODO: Brief description of the feature/improvement you'd like to see in<br>
Cranelift/Wasmtime.</p>
<p>The install script currently doesn't allow me to install a riscv-64 program</p>
<h4>Benefit</h4>
<p>TODO: What is the value of adding this in Cranelift/Wasmtime? What problems does<br>
it solve?</p>
<p>Ease of installation for riscv devices</p>
<h4>Implementation</h4>
<p>TODO: Do you have an implementation plan, and/or ideas for data structures or<br>
algorithms to use?</p>
<p>I'm unable to locate the install script curl <code>https://wasmtime.dev/install.sh -sSf | bash</code></p>
<h4>Alternatives</h4>
<p>TODO: What are the alternative implementation approaches or alternative ways to<br>
solve the problem that this feature would solve? How do these alternatives<br>
compare to this proposal?<br>
</p>
</blockquote>



<a name="403955817"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237580%20Add%20riscv-64%20to%20the%20supported%20arch.../near/403955817" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237580.20Add.20riscv-64.20to.20the.20supported.20arch.2E.2E.2E.html#403955817">(Nov 24 2023 at 12:11)</a>:</h4>
<p>afonso360 <a href="https://github.com/bytecodealliance/wasmtime/issues/7580#issuecomment-1825587887">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7580">issue #7580</a>:</p>
<blockquote>
<p>I started working on this. Updating the script was fairly easy. However I've ran into an issue with the arch name being different in the releases vs what the OS identifies locally.</p>
<p>Locally I'm running Debian 13 (trixie), and <code>uname -m</code> identifies the architecture as <code>riscv64</code>, but on our release binaries we tag them as <code>riscv64gc</code>, which is the target triple name for our target.</p>
<p>I'm not entirely sure where we should fix this. Do we update our release names, or should I try to fix this up in the script? (cc: @alexcrichton)</p>
</blockquote>



<a name="403956454"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237580%20Add%20riscv-64%20to%20the%20supported%20arch.../near/403956454" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237580.20Add.20riscv-64.20to.20the.20supported.20arch.2E.2E.2E.html#403956454">(Nov 24 2023 at 12:16)</a>:</h4>
<p>afonso360 edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/7580#issuecomment-1825587887">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7580">issue #7580</a>:</p>
<blockquote>
<p>I started working on this. Updating the script was fairly easy. However I've ran into an issue with the arch name being different in the releases vs what the OS identifies locally.</p>
<p>Locally I'm running Debian 13 (trixie), and <code>uname -m</code> identifies the architecture as <code>riscv64</code>, but on our release binaries we tag them as <code>riscv64gc</code>, which is the target triple name for our target.</p>
<p>This causes the script to attempt to download a file that does not exist.</p>
<p>I'm not entirely sure where we should fix this. Do we update our release names, or should I try to fix this up in the script? (cc: @alexcrichton)</p>
</blockquote>



<a name="403957256"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237580%20Add%20riscv-64%20to%20the%20supported%20arch.../near/403957256" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237580.20Add.20riscv-64.20to.20the.20supported.20arch.2E.2E.2E.html#403957256">(Nov 24 2023 at 12:21)</a>:</h4>
<p>afro-coder <a href="https://github.com/bytecodealliance/wasmtime/issues/7580#issuecomment-1825599642">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7580">issue #7580</a>:</p>
<blockquote>
<p>Hi, thanks for making that change, where is the script located to make these changes?</p>
</blockquote>



<a name="403958697"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237580%20Add%20riscv-64%20to%20the%20supported%20arch.../near/403958697" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237580.20Add.20riscv-64.20to.20the.20supported.20arch.2E.2E.2E.html#403958697">(Nov 24 2023 at 12:30)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/7580#issuecomment-1825610801">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7580">issue #7580</a>:</p>
<blockquote>
<p><a href="https://github.com/bytecodealliance/wasmtime.dev/blob/gh-pages/install.sh">https://github.com/bytecodealliance/wasmtime.dev/blob/gh-pages/install.sh</a></p>
</blockquote>



<a name="404331444"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237580%20Add%20riscv-64%20to%20the%20supported%20arch.../near/404331444" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237580.20Add.20riscv-64.20to.20the.20supported.20arch.2E.2E.2E.html#404331444">(Nov 27 2023 at 04:20)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/7580#issuecomment-1827102427">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7580">issue #7580</a>:</p>
<blockquote>
<p>I'd probably recommend a <code>case</code> / <code>esac</code> statement which canonicalizes known architecture names that distros print into the architecture names that we expect in Wasmtime. We can try to match distros but I suspect we'll inevitably get things wrong (like this) or one distro won't match another (no known case yet), so having a pass where we inspect <code>uname</code> and go from there is probably the way to go.</p>
</blockquote>



<a name="405390001"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237580%20Add%20riscv-64%20to%20the%20supported%20arch.../near/405390001" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237580.20Add.20riscv-64.20to.20the.20supported.20arch.2E.2E.2E.html#405390001">(Dec 01 2023 at 15:47)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/7580">issue #7580</a>:</p>
<blockquote>
<p>Thanks for filing a feature request! Please fill out the TODOs below.</p>
<h4>Feature</h4>
<p>TODO: Brief description of the feature/improvement you'd like to see in<br>
Cranelift/Wasmtime.</p>
<p>The install script currently doesn't allow me to install a riscv-64 program</p>
<h4>Benefit</h4>
<p>TODO: What is the value of adding this in Cranelift/Wasmtime? What problems does<br>
it solve?</p>
<p>Ease of installation for riscv devices</p>
<h4>Implementation</h4>
<p>TODO: Do you have an implementation plan, and/or ideas for data structures or<br>
algorithms to use?</p>
<p>I'm unable to locate the install script curl <code>https://wasmtime.dev/install.sh -sSf | bash</code></p>
<h4>Alternatives</h4>
<p>TODO: What are the alternative implementation approaches or alternative ways to<br>
solve the problem that this feature would solve? How do these alternatives<br>
compare to this proposal?<br>
</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>