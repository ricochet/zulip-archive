<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8957 Add docs to `wasmtime-c-api-macros` g... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html">wasmtime / PR #8957 Add docs to `wasmtime-c-api-macros` g...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="451473459"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451473459" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451473459">(Jul 15 2024 at 11:19)</a>:</h4>
<p>Robbepop opened <a href="https://github.com/bytecodealliance/wasmtime/pull/8957">PR #8957</a> from <code>Robbepop:rf-add-docs-to-c-api-macros</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>I didn't know what some of those methods even do. The only docs I could find where the Wasmtime doxygen docs which only stated that most of the methods are simply not implemented.</p>
<p>So in parts I hope to improve Wasmtime C-API by improving the docs situation and in other parts I hope to find their meaning with this PR. :)</p>
</blockquote>



<a name="451473460"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451473460" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451473460">(Jul 15 2024 at 11:19)</a>:</h4>
<p><strong>Robbepop</strong> requested <a href="https://github.com/elliottt">elliottt</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8957">PR #8957</a>.</p>



<a name="451473461"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451473461" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451473461">(Jul 15 2024 at 11:19)</a>:</h4>
<p><strong>Robbepop</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8957">PR #8957</a>.</p>



<a name="451473621"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451473621" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451473621">(Jul 15 2024 at 11:20)</a>:</h4>
<p>Robbepop edited <a href="https://github.com/bytecodealliance/wasmtime/pull/8957">PR #8957</a>:</p>
<blockquote>
<p>I didn't know what some of those methods even do. The only docs I could find where the Wasmtime doxygen docs which only stated that most of the methods are simply not implemented.</p>
<p>So in parts I hope to improve Wasmtime C-API by improving the docs situation and in other parts I hope to find their meaning with this PR. :)</p>
<p>Due to missing knowledge I consider the automatically generated docs (of this PR) of <code>get/set_host_info</code>, <code>as_ref</code> and <code>as_ref_const</code> as temporary until we (I) know better.</p>
</blockquote>



<a name="451473836"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451473836" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451473836">(Jul 15 2024 at 11:21)</a>:</h4>
<p>Robbepop edited <a href="https://github.com/bytecodealliance/wasmtime/pull/8957">PR #8957</a>:</p>
<blockquote>
<p>I didn't know what some of those methods even do. The only docs I could find where the Wasmtime doxygen docs which only stated that most of the methods are simply not implemented.</p>
<p>So in parts I hope to improve Wasmtime C-API by improving the docs situation and in other parts I hope to find their meaning with this PR. :)</p>
<p>Due to missing knowledge I consider the automatically generated docs (of this PR) of <code>get/set_host_info</code>, <code>as_ref</code> and <code>as_ref_const</code> as temporary until we (I) know better.</p>
<p>Rendered auto generated docs:</p>
<p>![image](<a href="https://github.com/user-attachments/assets/d4c5f2a8-cc36-410c-8ae0-5133cdbf4a1a">https://github.com/user-attachments/assets/d4c5f2a8-cc36-410c-8ae0-5133cdbf4a1a</a>)</p>
</blockquote>



<a name="451474369"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451474369" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451474369">(Jul 15 2024 at 11:24)</a>:</h4>
<p>Robbepop updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8957">PR #8957</a>.</p>



<a name="451531157"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451531157" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451531157">(Jul 15 2024 at 15:47)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8957#pullrequestreview-2178092034">PR review</a>:</p>
<blockquote>
<p>Thanks! </p>
<p>Looks like you've found that some of these aren't supported which is intentional, but otherwise having docs is deifnitely an oversight <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
</blockquote>



<a name="451534600"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451534600" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451534600">(Jul 15 2024 at 16:02)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8957">PR #8957</a>.</p>



<a name="451627371"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451627371" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451627371">(Jul 15 2024 at 20:45)</a>:</h4>
<p>Robbepop <a href="https://github.com/bytecodealliance/wasmtime/pull/8957#issuecomment-2229400839">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8957">PR #8957</a>:</p>
<blockquote>
<p>Hmmm, I really wanted to learn what those APIs I mentioned in my first post are about. They are not properly documented in the standard C API and it is still unclear to me what they are supposed to do. But at least Wasmtime now has a bit better documentation story for its Rust C API. :)</p>
</blockquote>



<a name="451627457"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451627457" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451627457">(Jul 15 2024 at 20:46)</a>:</h4>
<p>Robbepop edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/8957#issuecomment-2229400839">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8957">PR #8957</a>:</p>
<blockquote>
<p>Hmmm, I really wanted to learn what those APIs I mentioned in my first post are about. They are not properly documented in the standard C API (or I failed to find their docs) and it is still unclear to me what they are supposed to do. But at least Wasmtime now has a bit better documentation story for its Rust C API. :)</p>
</blockquote>



<a name="451628475"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451628475" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451628475">(Jul 15 2024 at 20:52)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/8957#issuecomment-2229411979">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8957">PR #8957</a>:</p>
<blockquote>
<p>Oh sorry, I can try to add more color but honestly I'm not certain what they are myself. The upstream wasm-c-api proposal to wasm has been largely inactive for quite some time now and AFAIK there's not much drive/push to revinvigorate it or keep it going. In that sense the best option would be to probably open an issue on the repository itself.</p>
<p>If I had to hazard a guess, I believe that the intention was that all pointer-lookalike-things could be turned into generic references which could then be converted back out at some point. I believe the original goal was to eventually unify the wasm type system itself to allow passing around first-class-references to more than just functions but also tables/memories/etc. In the interim time I don't believe that's panned out and in Wasmtime we don't implement any of these because they don't actually map to internals of Wasmtime.</p>
<p>AFAIK there also hasn't been much usage of the wasm-c-api header file as a means of integrating with a wasm engine. All usage I've seen additionally requires implementation-specific APIs (e.g. <code>wasmtime_*</code> in the Wasmtime C API). Many out-of-browser engines I've seen also don't implement this API as well. </p>
<p>Overall I don't think things are in a state where it's expected someone can walk in and see a vibrant and well documented ecosystem of engines and users all interoperating with this API. I believe that was an original goal, but it hasn't quite panned out.</p>
</blockquote>



<a name="451636833"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451636833" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451636833">(Jul 15 2024 at 21:50)</a>:</h4>
<p>Robbepop <a href="https://github.com/bytecodealliance/wasmtime/pull/8957#issuecomment-2229499248">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8957">PR #8957</a>:</p>
<blockquote>
<p>@alexcrichton Thank you so much for the elaborated response. It is also really good to know (albeit sad) about the state of the Wasm C API maintenance. I hoped it was achieving its set goals. At least I plan to implement it in Wasmi soon(TM).</p>
<p>Also thanks a lot for your elaborated guess what you think those APIs are meant to do. What you said makes kinda sense to me. I will take your suggestion of posting further questions directly in the repository. :)</p>
</blockquote>



<a name="451636929"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238957%20Add%20docs%20to%20%60wasmtime-c-api-macros%60%20g.../near/451636929" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238957.20Add.20docs.20to.20.60wasmtime-c-api-macros.60.20g.2E.2E.2E.html#451636929">(Jul 15 2024 at 21:51)</a>:</h4>
<p>Robbepop edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/8957#issuecomment-2229499248">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8957">PR #8957</a>:</p>
<blockquote>
<p>@alexcrichton Thank you so much for the elaborated response. It is also really good to know (albeit sad) about the state of the Wasm C API maintenance. I hoped it was achieving its set goals. At least I plan to implement it in Wasmi soon(TM) to allow non-Rust environments to use Wasmi.</p>
<p>Also thanks a lot for your elaborated guess what you think those APIs are meant to do. What you said makes kinda sense to me. I will take your suggestion of posting further questions directly in the repository. :)</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>