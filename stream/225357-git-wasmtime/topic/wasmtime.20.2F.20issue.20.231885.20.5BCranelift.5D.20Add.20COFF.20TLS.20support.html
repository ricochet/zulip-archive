<html>
<head><meta charset="utf-8"><title>wasmtime / issue #1885 [Cranelift] Add COFF TLS support · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231885.20.5BCranelift.5D.20Add.20COFF.20TLS.20support.html">wasmtime / issue #1885 [Cranelift] Add COFF TLS support</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294680763"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231885%20%5BCranelift%5D%20Add%20COFF%20TLS%20support/near/294680763" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231885.20.5BCranelift.5D.20Add.20COFF.20TLS.20support.html#294680763">(Aug 22 2022 at 13:57)</a>:</h4>
<p>afonso360 <a href="https://github.com/bytecodealliance/wasmtime/issues/1885#issuecomment-1222400814">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1885">issue #1885</a>:</p>
<blockquote>
<p>This was closed in #4546, forgot to mark it.</p>
</blockquote>



<a name="294681727"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231885%20%5BCranelift%5D%20Add%20COFF%20TLS%20support/near/294681727" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231885.20.5BCranelift.5D.20Add.20COFF.20TLS.20support.html#294681727">(Aug 22 2022 at 14:02)</a>:</h4>
<p>bnjbvr closed <a href="https://github.com/bytecodealliance/wasmtime/issues/1885">issue #1885</a>:</p>
<blockquote>
<h4>Feature</h4>
<p>Support TLS data objects with COFF binaries.</p>
<h4>Benefit</h4>
<p>TLS data objects are already supported for ELF and Mach-O binaries.</p>
<h4>Implementation</h4>
<p>Add a new <code>x86_coff_tls_get_addr</code> instruction. See <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-532930282">https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-532930282</a> for what x86_64 instructions to lower the <code>x86_coff_tls_get_addr</code> instruction to. Then make changes to the <code>object</code> crate as necessary to generate TLS sections for COFF.</p>
<h4>Alternatives</h4>
<p>N/A</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>