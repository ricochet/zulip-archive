<html>
<head><meta charset="utf-8"><title>wasmtime / issue #4144 get arity of function in c api · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234144.20get.20arity.20of.20function.20in.20c.20api.html">wasmtime / issue #4144 get arity of function in c api</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="282086812"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234144%20get%20arity%20of%20function%20in%20c%20api/near/282086812" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234144.20get.20arity.20of.20function.20in.20c.20api.html#282086812">(May 12 2022 at 10:39)</a>:</h4>
<p>pannous opened <a href="https://github.com/bytecodealliance/wasmtime/issues/4144">issue #4144</a>:</p>
<blockquote>
<p>How to get the arity of a wasmtime function in the c api?</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">nresults</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasm_func_result_arity</span><span class="p">(</span><span class="n">wasmFunc</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>works for wasm_func_t  but doesn't work for wasmtime_func_t (EXC_BAD_ACCESS)<br>
</p>
</blockquote>



<a name="282091246"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234144%20get%20arity%20of%20function%20in%20c%20api/near/282091246" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234144.20get.20arity.20of.20function.20in.20c.20api.html#282091246">(May 12 2022 at 11:24)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/4144#issuecomment-1124873772">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4144">issue #4144</a>:</p>
<blockquote>
<p>It doesn't look like there is a function for that in the wasmtime c api. That wasm_func_result_arity doesn't work for wasmtime_func_t is expected as you are mixing two different api's in that case. You need to use either the wasm_* api's or the wasmtime_* api's, you can't use both at the same time.</p>
</blockquote>



<a name="282119743"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234144%20get%20arity%20of%20function%20in%20c%20api/near/282119743" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234144.20get.20arity.20of.20function.20in.20c.20api.html#282119743">(May 12 2022 at 15:04)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/4144#issuecomment-1125107443">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4144">issue #4144</a>:</p>
<blockquote>
<p>For this you'll need to use <code>wasmtime_func_type</code> followed by <code>wasm_functype_results</code> which you can get the size from.</p>
</blockquote>



<a name="282119745"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234144%20get%20arity%20of%20function%20in%20c%20api/near/282119745" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234144.20get.20arity.20of.20function.20in.20c.20api.html#282119745">(May 12 2022 at 15:04)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/4144">issue #4144</a>:</p>
<blockquote>
<p>How to get the arity of a wasmtime function in the c api?</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w"> </span><span class="n">int</span><span class="w"> </span><span class="n">nresults</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">wasm_func_result_arity</span><span class="p">(</span><span class="n">wasmFunc</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>works for wasm_func_t  but doesn't work for wasmtime_func_t (EXC_BAD_ACCESS)<br>
</p>
</blockquote>



<a name="282183106"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234144%20get%20arity%20of%20function%20in%20c%20api/near/282183106" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234144.20get.20arity.20of.20function.20in.20c.20api.html#282183106">(May 12 2022 at 23:05)</a>:</h4>
<p>pannous <a href="https://github.com/bytecodealliance/wasmtime/issues/4144#issuecomment-1125495917">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4144">issue #4144</a>:</p>
<blockquote>
<p>that worked, thanks a lot!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>