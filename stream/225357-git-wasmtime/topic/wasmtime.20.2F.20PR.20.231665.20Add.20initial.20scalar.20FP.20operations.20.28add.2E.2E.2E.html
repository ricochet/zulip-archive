<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1665 Add initial scalar FP operations (add... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html">wasmtime / PR #1665 Add initial scalar FP operations (add...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="197605094"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/197605094" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#197605094">(May 14 2020 at 19:20)</a>:</h4>
<p>jlb6740 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/1665">PR #1665</a> from <code>vcode-add-movss-addss-subss</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>Need to better separate data structures for sse and regular regs</li>
<li>
<p>Lowering is not right .. made sure all paths towards lowering are<br>
covered but still need to review what is there and correct</p>
</li>
<li>
<p>Need to emit code. Currently have placeholders.</p>
</li>
</ul>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="197623907"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/197623907" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#197623907">(May 14 2020 at 22:01)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1665">PR #1665</a> from <code>vcode-add-movss-addss-subss</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>Need to better separate data structures for sse and regular regs</li>
<li>
<p>Lowering is not right .. made sure all paths towards lowering are<br>
covered but still need to review what is there and correct</p>
</li>
<li>
<p>Need to emit code. Currently have placeholders.</p>
</li>
</ul>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="197634603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/197634603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#197634603">(May 15 2020 at 00:13)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1665">PR #1665</a> from <code>vcode-add-movss-addss-subss</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>Need to better separate data structures for sse and regular regs</li>
<li>
<p>Lowering is not right .. made sure all paths towards lowering are<br>
covered but still need to review what is there and correct</p>
</li>
<li>
<p>Need to emit code. Currently have placeholders.</p>
</li>
</ul>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="198249979"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/198249979" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#198249979">(May 20 2020 at 20:03)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1665">PR #1665</a> from <code>vcode-add-movss-addss-subss</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>Need to better separate data structures for sse and regular regs</li>
<li>
<p>Lowering is not right .. made sure all paths towards lowering are<br>
covered but still need to review what is there and correct</p>
</li>
<li>
<p>Need to emit code. Currently have placeholders.</p>
</li>
</ul>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="198859475"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/198859475" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#198859475">(May 27 2020 at 07:47)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#pullrequestreview-418905224">PR Review</a>.</p>



<a name="198859477"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/198859477" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#198859477">(May 27 2020 at 07:47)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#pullrequestreview-418905224">PR Review</a>.</p>



<a name="198859478"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/198859478" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#198859478">(May 27 2020 at 07:47)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#discussion_r430898911">PR Review Comment</a>:</p>
<blockquote>
<p>is_64 doesn't need to be here; pls rm (also for <code>SSE_R_R</code>)</p>
</blockquote>



<a name="198859479"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/198859479" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#198859479">(May 27 2020 at 07:47)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#discussion_r430896207">PR Review Comment</a>:</p>
<blockquote>
<p>Need to also remove <code>F_PREFIX_66</code> (or whatever it is called), no?</p>
</blockquote>



<a name="198977250"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/198977250" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#198977250">(May 28 2020 at 02:26)</a>:</h4>
<p>jlb6740 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#pullrequestreview-419734893">PR Review</a>.</p>



<a name="198977251"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/198977251" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#198977251">(May 28 2020 at 02:26)</a>:</h4>
<p>jlb6740 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#discussion_r431546953">PR Review Comment</a>:</p>
<blockquote>
<p>I wanted to remove this but kept it around for functions like show_ireg_sized and show_rru_sized. After seeing what it looks like, I don't think it makes sense to create sse variants of basically the same logic. I will simply pass in size=8 for these functions as it seems that may have been the original intent anyway.</p>
</blockquote>



<a name="198980196"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/198980196" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#198980196">(May 28 2020 at 03:45)</a>:</h4>
<p>jlb6740 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#pullrequestreview-419757195">PR Review</a>.</p>



<a name="198980197"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/198980197" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#198980197">(May 28 2020 at 03:45)</a>:</h4>
<p>jlb6740 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#discussion_r431565199">PR Review Comment</a>:</p>
<blockquote>
<p>This is one of the SIMD prefixes. We will need it at somepoint. Are you suggesting add it only when needed?</p>
</blockquote>



<a name="199096380"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/199096380" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#199096380">(May 28 2020 at 22:57)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1665">PR #1665</a> from <code>vcode-add-movss-addss-subss</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>Need to better separate data structures for sse and regular regs</li>
<li>
<p>Lowering is not right .. made sure all paths towards lowering are<br>
covered but still need to review what is there and correct</p>
</li>
<li>
<p>Need to emit code. Currently have placeholders.</p>
</li>
</ul>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="199099740"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/199099740" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#199099740">(May 28 2020 at 23:52)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1665">PR #1665</a> from <code>vcode-add-movss-addss-subss</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>Need to better separate data structures for sse and regular regs</li>
<li>
<p>Lowering is not right .. made sure all paths towards lowering are<br>
covered but still need to review what is there and correct</p>
</li>
<li>
<p>Need to emit code. Currently have placeholders.</p>
</li>
</ul>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="199215334"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/199215334" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#199215334">(May 29 2020 at 21:36)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1665">PR #1665</a> from <code>vcode-add-movss-addss-subss</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>Need to better separate data structures for sse and regular regs</li>
<li>
<p>Lowering is not right .. made sure all paths towards lowering are<br>
covered but still need to review what is there and correct</p>
</li>
<li>
<p>Need to emit code. Currently have placeholders.</p>
</li>
</ul>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="199849315"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/199849315" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#199849315">(Jun 05 2020 at 08:48)</a>:</h4>
<p><strong>bnjbvr</strong> requested <a href="https://github.com/julian-seward1">julian-seward1</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1665">PR #1665</a>.</p>



<a name="200011978"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200011978" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200011978">(Jun 07 2020 at 07:22)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#pullrequestreview-425794148">PR Review</a>.</p>



<a name="200011979"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200011979" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200011979">(Jun 07 2020 at 07:22)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#discussion_r436334029">PR Review Comment</a>:</p>
<blockquote>
<p>Oh, my mistake.  I misread the diff -- I thought you hadn't deleted the definition of <code>F_PREFIX_66</code>, but you had.  So then the patch is correct as it stands.</p>
</blockquote>



<a name="200012132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200012132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200012132">(Jun 07 2020 at 07:28)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#pullrequestreview-425794496">PR Review</a>.</p>



<a name="200012133"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200012133" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200012133">(Jun 07 2020 at 07:28)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#discussion_r436334436">PR Review Comment</a>:</p>
<blockquote>
<p>An XMM reg shouldn't be passed to <code>show_ireg_sized</code> (at least, going from memory) -- that's for printing integer register names.  Printing XMM reg names is different in that they are always 16 bytes and there are no names for smaller parts, unlike for the integer registers.  Hence the desire not to have any 'size' qualifiers associated with storage or printing of XMM registers.</p>
</blockquote>



<a name="200012456"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200012456" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200012456">(Jun 07 2020 at 07:39)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#pullrequestreview-425795261">PR Review</a>.</p>



<a name="200410176"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200410176" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200410176">(Jun 10 2020 at 12:41)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#pullrequestreview-428001282">PR Review</a>.</p>



<a name="200410177"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200410177" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200410177">(Jun 10 2020 at 12:41)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#pullrequestreview-428001282">PR Review</a>.</p>



<a name="200410178"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200410178" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200410178">(Jun 10 2020 at 12:41)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#discussion_r438084146">PR Review Comment</a>:</p>
<blockquote>
<p>I think we'd match on the currently unused <code>ty</code> type variable, and if it's F32, use movss, etc.</p>
</blockquote>



<a name="200410179"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200410179" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200410179">(Jun 10 2020 at 12:41)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#discussion_r438087089">PR Review Comment</a>:</p>
<blockquote>
<p>Out of curiosity, could we avoid the mov here, by defining that the regD register is modified, in both <code>get_regs</code> and <code>map_regs</code>?</p>
</blockquote>



<a name="200410180"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200410180" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200410180">(Jun 10 2020 at 12:41)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#discussion_r438085985">PR Review Comment</a>:</p>
<blockquote>
<p>This whole expression could be simplified to <code>vreg.get_index() + 1</code>, right?</p>
</blockquote>



<a name="200410181"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200410181" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200410181">(Jun 10 2020 at 12:41)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#discussion_r438082805">PR Review Comment</a>:</p>
<blockquote>
<p>nit: second check is redundant here (we can address this in a separate PR)</p>
</blockquote>



<a name="200440302"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200440302" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200440302">(Jun 10 2020 at 16:24)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#pullrequestreview-428227717">PR Review</a>.</p>



<a name="200440303"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200440303" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200440303">(Jun 10 2020 at 16:24)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/1665#discussion_r438253861">PR Review Comment</a>:</p>
<blockquote>
<p>My previous comment was wrong: we're operating at the vreg level here, so we are required to do this. We can teach regalloc to coalesce these moves, in the future, though.</p>
</blockquote>



<a name="200441831"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231665%20Add%20initial%20scalar%20FP%20operations%20%28add.../near/200441831" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231665.20Add.20initial.20scalar.20FP.20operations.20.28add.2E.2E.2E.html#200441831">(Jun 10 2020 at 16:36)</a>:</h4>
<p>bnjbvr merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1665">PR #1665</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>