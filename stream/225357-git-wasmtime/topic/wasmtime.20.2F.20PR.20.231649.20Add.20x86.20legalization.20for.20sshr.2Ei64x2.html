<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1649 Add x86 legalization for sshr.i64x2 · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html">wasmtime / PR #1649 Add x86 legalization for sshr.i64x2</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="196197027"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231649%20Add%20x86%20legalization%20for%20sshr.i64x2/near/196197027" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html#196197027">(May 04 2020 at 15:29)</a>:</h4>
<p>abrown opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1649" title="https://github.com/bytecodealliance/wasmtime/pull/1649">PR #1649</a> from <code>add-shift-i64x2</code> to <code>master</code>:</p>
<blockquote>
<p>This adds a legalization for <code>sshr.i64x2</code> and fixes some issues I found while doing this. It is based on the changes from #1645 since some of the display changes there made these issues easier to troubleshoot.</p>
</blockquote>



<a name="196237698"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231649%20Add%20x86%20legalization%20for%20sshr.i64x2/near/196237698" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html#196237698">(May 04 2020 at 20:45)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1649" title="https://github.com/bytecodealliance/wasmtime/pull/1649">PR #1649</a> from <code>add-shift-i64x2</code> to <code>master</code>:</p>
<blockquote>
<p>This adds a legalization for <code>sshr.i64x2</code> and fixes some issues I found while doing this. It is based on the changes from #1645 since some of the display changes there made these issues easier to troubleshoot.</p>
</blockquote>



<a name="196237751"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231649%20Add%20x86%20legalization%20for%20sshr.i64x2/near/196237751" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html#196237751">(May 04 2020 at 20:45)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/julian-seward1" title="https://github.com/julian-seward1">julian-seward1</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1649" title="https://github.com/bytecodealliance/wasmtime/pull/1649">PR #1649</a>.</p>



<a name="196286651"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231649%20Add%20x86%20legalization%20for%20sshr.i64x2/near/196286651" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html#196286651">(May 05 2020 at 09:41)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1649#pullrequestreview-405635211" title="https://github.com/bytecodealliance/wasmtime/pull/1649#pullrequestreview-405635211">PR Review</a>.</p>



<a name="196286652"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231649%20Add%20x86%20legalization%20for%20sshr.i64x2/near/196286652" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html#196286652">(May 05 2020 at 09:41)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1649#discussion_r419984989" title="https://github.com/bytecodealliance/wasmtime/pull/1649#discussion_r419984989">PR Review Comment</a>:</p>
<blockquote>
<p>I am confused by the use of <code>ishl_64x2</code> at this point.  Shouldn't that be <code>ishr_64x2</code>?  The actual results shown are consistent with a signed shift right, not a shift left.</p>
</blockquote>



<a name="196286958"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231649%20Add%20x86%20legalization%20for%20sshr.i64x2/near/196286958" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html#196286958">(May 05 2020 at 09:45)</a>:</h4>
<p>julian-seward1 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1649#discussion_r419987028" title="https://github.com/bytecodealliance/wasmtime/pull/1649#discussion_r419987028">PR Review Comment</a>:</p>
<blockquote>
<p>Also I'd be happier if there were a couple more tests here.  Could you add a test that <code>1000-(63)-000 &gt;&gt;signed 63</code> produces <code>111-(64)-111</code> and that <code>0111-(63)-111 &gt;&gt;signed 63</code> produces <code>000-(64)-000</code> ?</p>
</blockquote>



<a name="196286959"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231649%20Add%20x86%20legalization%20for%20sshr.i64x2/near/196286959" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html#196286959">(May 05 2020 at 09:45)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1649#pullrequestreview-405637669" title="https://github.com/bytecodealliance/wasmtime/pull/1649#pullrequestreview-405637669">PR Review</a>.</p>



<a name="196287098"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231649%20Add%20x86%20legalization%20for%20sshr.i64x2/near/196287098" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html#196287098">(May 05 2020 at 09:47)</a>:</h4>
<p>julian-seward1 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1649#pullrequestreview-405638758" title="https://github.com/bytecodealliance/wasmtime/pull/1649#pullrequestreview-405638758">PR Review</a>.</p>



<a name="196323394"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231649%20Add%20x86%20legalization%20for%20sshr.i64x2/near/196323394" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html#196323394">(May 05 2020 at 15:24)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1649#pullrequestreview-405897807" title="https://github.com/bytecodealliance/wasmtime/pull/1649#pullrequestreview-405897807">PR Review</a>.</p>



<a name="196323396"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231649%20Add%20x86%20legalization%20for%20sshr.i64x2/near/196323396" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html#196323396">(May 05 2020 at 15:24)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/1649#discussion_r420195710" title="https://github.com/bytecodealliance/wasmtime/pull/1649#discussion_r420195710">PR Review Comment</a>:</p>
<blockquote>
<p>Oh, good catch; yeah, that's likely an oversight from copying other tests. I'll fix these and add the additional tests.</p>
</blockquote>



<a name="196346135"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231649%20Add%20x86%20legalization%20for%20sshr.i64x2/near/196346135" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html#196346135">(May 05 2020 at 18:24)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1649" title="https://github.com/bytecodealliance/wasmtime/pull/1649">PR #1649</a> from <code>add-shift-i64x2</code> to <code>master</code>:</p>
<blockquote>
<p>This adds a legalization for <code>sshr.i64x2</code> and fixes some issues I found while doing this. It is based on the changes from #1645 since some of the display changes there made these issues easier to troubleshoot.</p>
</blockquote>



<a name="196350967"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231649%20Add%20x86%20legalization%20for%20sshr.i64x2/near/196350967" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231649.20Add.20x86.20legalization.20for.20sshr.2Ei64x2.html#196350967">(May 05 2020 at 19:01)</a>:</h4>
<p>abrown merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1649" title="https://github.com/bytecodealliance/wasmtime/pull/1649">PR #1649</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>