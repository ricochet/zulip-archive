<html>
<head><meta charset="utf-8"><title>wasmtime / issue #1044 Missing variants of umul/smul/ushl... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231044.20Missing.20variants.20of.20umul.2Fsmul.2Fushl.2E.2E.2E.html">wasmtime / issue #1044 Missing variants of umul/smul/ushl...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="350017675"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231044%20Missing%20variants%20of%20umul/smul/ushl.../near/350017675" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231044.20Missing.20variants.20of.20umul.2Fsmul.2Fushl.2E.2E.2E.html#350017675">(Apr 14 2023 at 18:08)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/issues/1044#issuecomment-1509038909">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1044">issue #1044</a>:</p>
<blockquote>
<p>Can we close this now that #5784 is merged, or do folks still want overflow-checking variants for shifts?</p>
</blockquote>



<a name="350045378"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231044%20Missing%20variants%20of%20umul/smul/ushl.../near/350045378" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231044.20Missing.20variants.20of.20umul.2Fsmul.2Fushl.2E.2E.2E.html#350045378">(Apr 14 2023 at 20:59)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/1044#issuecomment-1509256702">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1044">issue #1044</a>:</p>
<blockquote>
<p>It might be useful to leave open until we do; @T0b1-iOS if you're interested in pushing this further, I'd be happy to review overflow-checking shifts as well! (Of course this is only if you want to: we can just as well leave this for someone else to pick up later!)</p>
</blockquote>



<a name="350048474"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231044%20Missing%20variants%20of%20umul/smul/ushl.../near/350048474" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231044.20Missing.20variants.20of.20umul.2Fsmul.2Fushl.2E.2E.2E.html#350048474">(Apr 14 2023 at 21:19)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/issues/1044#issuecomment-1509285608">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1044">issue #1044</a>:</p>
<blockquote>
<p>After I wrote that question, I got thinking that it's not clear to me there's as much value in dedicated CLIF instructions for overflow-checked shifts. With addition and multiplication, there's often hardware support for detecting overflow as a side effect of the computation. But with shifts I don't think we can generate code that's any better than you'd get from explicitly writing something like <code>icmp uge shift_amt, 64</code> for the overflow output of an I64 shift, right?</p>
</blockquote>



<a name="350049120"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231044%20Missing%20variants%20of%20umul/smul/ushl.../near/350049120" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231044.20Missing.20variants.20of.20umul.2Fsmul.2Fushl.2E.2E.2E.html#350049120">(Apr 14 2023 at 21:25)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/1044#issuecomment-1509292730">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1044">issue #1044</a>:</p>
<blockquote>
<p>Yeah, that's a good point actually. AFAIK the shift instructions at least on x86-64 and aarch64 have native wrapping behavior. So I agree there's no real reason to expect we could do any better. Given that I guess I'll close this but if new arguments for these ops arise, we can always reconsider!</p>
</blockquote>



<a name="350049121"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231044%20Missing%20variants%20of%20umul/smul/ushl.../near/350049121" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231044.20Missing.20variants.20of.20umul.2Fsmul.2Fushl.2E.2E.2E.html#350049121">(Apr 14 2023 at 21:25)</a>:</h4>
<p>cfallin closed <a href="https://github.com/bytecodealliance/wasmtime/issues/1044">issue #1044</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>