<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8917 Add custom-pages-sizes to CLI flags · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238917.20Add.20custom-pages-sizes.20to.20CLI.20flags.html">wasmtime / PR #8917 Add custom-pages-sizes to CLI flags</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="449960625"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238917%20Add%20custom-pages-sizes%20to%20CLI%20flags/near/449960625" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238917.20Add.20custom-pages-sizes.20to.20CLI.20flags.html#449960625">(Jul 08 2024 at 19:15)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8917">PR #8917</a>.</p>



<a name="449960627"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238917%20Add%20custom-pages-sizes%20to%20CLI%20flags/near/449960627" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238917.20Add.20custom-pages-sizes.20to.20CLI.20flags.html#449960627">(Jul 08 2024 at 19:15)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8917">PR #8917</a>.</p>



<a name="449960629"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238917%20Add%20custom-pages-sizes%20to%20CLI%20flags/near/449960629" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238917.20Add.20custom-pages-sizes.20to.20CLI.20flags.html#449960629">(Jul 08 2024 at 19:15)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/8917">PR #8917</a> from <code>alexcrichton:custom-page-sizes-cli-flag</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>Enables <code>-W custom-page-sizes</code> from the CLI  to run this proposal.</p>
</blockquote>



<a name="449964795"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238917%20Add%20custom-pages-sizes%20to%20CLI%20flags/near/449964795" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238917.20Add.20custom-pages-sizes.20to.20CLI.20flags.html#449964795">(Jul 08 2024 at 19:30)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8917#pullrequestreview-2164209634">PR review</a>:</p>
<blockquote>
<p>We should maybe eventually have a <code>for_each_config_option</code> macro to define both the CLI flags and the <code>Config</code> methods or something...</p>
</blockquote>



<a name="449965328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238917%20Add%20custom-pages-sizes%20to%20CLI%20flags/near/449965328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238917.20Add.20custom-pages-sizes.20to.20CLI.20flags.html#449965328">(Jul 08 2024 at 19:33)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/8917#issuecomment-2215016070">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8917">PR #8917</a>:</p>
<blockquote>
<p>Agreed yeah, that'd kind fall under <a href="https://github.com/bytecodealliance/wasmtime/issues/8784">https://github.com/bytecodealliance/wasmtime/issues/8784</a> I think</p>
</blockquote>



<a name="449980798"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238917%20Add%20custom-pages-sizes%20to%20CLI%20flags/near/449980798" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238917.20Add.20custom-pages-sizes.20to.20CLI.20flags.html#449980798">(Jul 08 2024 at 21:02)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/8917#issuecomment-2215298346">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8917">PR #8917</a>:</p>
<blockquote>
<p>Ah yes, I forgot about that issue. 100%.</p>
</blockquote>



<a name="449984004"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238917%20Add%20custom-pages-sizes%20to%20CLI%20flags/near/449984004" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238917.20Add.20custom-pages-sizes.20to.20CLI.20flags.html#449984004">(Jul 08 2024 at 21:14)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8917">PR #8917</a>.</p>



<a name="463178818"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238917%20Add%20custom-pages-sizes%20to%20CLI%20flags/near/463178818" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238917.20Add.20custom-pages-sizes.20to.20CLI.20flags.html#463178818">(Aug 18 2024 at 14:21)</a>:</h4>
<p>Mossaka <a href="https://github.com/bytecodealliance/wasmtime/pull/8917#issuecomment-2295280872">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8917">PR #8917</a>:</p>
<blockquote>
<blockquote>
<p>We should maybe eventually have a for_each_config_option macro to define both the CLI flags and the Config methods or something...</p>
</blockquote>
<p>I was looking at how the CLI flags and <code>Config</code> are defined and it seems like the grouping rules are very different between the two. For CLI, flags are grouped under struct names such as "Optimize", "Codegen", "Debug", etc, while in the Config, fields are grouped to different struct names, such as "Tunables". The lack of the 1-1 mapping makes it hard to define CLI flags from the Config sturct.</p>
<p>Perhaps, adding a macro like <code>[cli(Optimize)]</code> or others to Config fields helps to generate these fields in their corresponding CLI structs?</p>
<p>In addition, the methods in the Config are not a 1-1 map to the fields as well... It might be a headache to write the macro that generates the methods according fields. </p>
</blockquote>



<a name="463455670"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238917%20Add%20custom-pages-sizes%20to%20CLI%20flags/near/463455670" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238917.20Add.20custom-pages-sizes.20to.20CLI.20flags.html#463455670">(Aug 19 2024 at 16:50)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/8917#issuecomment-2297008909">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8917">PR #8917</a>:</p>
<blockquote>
<p>I think even something that defines the public API of <code>Config</code> and keeps that in sync with the CLI flags, but doesn't define the implementation of those <code>Config</code> methods, would be helpful. And that should be possible regardless if the implementation depends on tunables or wasm features or whatever.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>