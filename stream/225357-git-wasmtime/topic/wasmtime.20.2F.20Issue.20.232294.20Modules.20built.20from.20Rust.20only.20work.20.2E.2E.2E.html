<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2294 Modules built from Rust only work ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232294.20Modules.20built.20from.20Rust.20only.20work.20.2E.2E.2E.html">wasmtime / Issue #2294 Modules built from Rust only work ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="213504122"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232294%20Modules%20built%20from%20Rust%20only%20work%20.../near/213504122" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232294.20Modules.20built.20from.20Rust.20only.20work.20.2E.2E.2E.html#213504122">(Oct 16 2020 at 00:18)</a>:</h4>
<p>itowlson opened <a href="https://github.com/bytecodealliance/wasmtime/issues/2294">Issue #2294</a>:</p>
<blockquote>
<p>When I write a program in Rust and compile it to WASM, I cannot run it under <code>wasmtime</code> on Windows unless I passed the <code>--release</code> flag when I built it.  If I built the WASM module in debug mode, <code>wasmtime</code> gives the error "command export '__rustc_debug_gdb_scripts_section__' is not a function".  All other combinations of OS and build mode work: the error is specific to debug builds under Windows.</p>
<h2>Steps to reproduce</h2>
<ol>
<li>Get hold of a Windows box.  Install Rust, the <code>wasm32-wasi</code> target and <code>wasmtime</code>.</li>
<li><code>cargo new</code> a hello-world program.</li>
<li><code>cd</code> into the hello-world directory and <code>cargo build --target wasm32-wasi</code></li>
<li>Run <code>wasmtime run .\target\wasm32-wasi\debug\hello-world.wasm</code></li>
</ol>
<h2>Results</h2>
<p>Expected: Should print <code>Hello, world!</code></p>
<p>Actual:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Error</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="err">`</span><span class="p">.</span><span class="err">\</span><span class="n">target</span><span class="err">\</span><span class="n">wasm32</span><span class="o">-</span><span class="n">wasi</span><span class="err">\</span><span class="n">debug</span><span class="err">\</span><span class="n">hello</span><span class="o">-</span><span class="n">world</span><span class="p">.</span><span class="n">wasm</span><span class="err">`</span><span class="w"></span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="mi">0</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">instantiate</span><span class="w"> </span><span class="s">".</span><span class="se">\\</span><span class="s">target</span><span class="se">\\</span><span class="s">wasm32-wasi</span><span class="se">\\</span><span class="s">debug</span><span class="se">\\</span><span class="s">hello-world.wasm"</span><span class="w"></span>
<span class="w">    </span><span class="mi">1</span>: <span class="nc">command</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="o">'</span><span class="nb">__</span><span class="na">rustc_debug_gdb_scripts_section__</span><span class="o">'</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">function</span><span class="w"></span>
</code></pre></div>

<h2>Environment</h2>
<p>Windows 10, x64<br>
Rust 1.40.0<br>
Wasmtime 0.20.0</p>
<h2>Additional information</h2>
<ul>
<li>If I <code>cargo build ... --release</code> and use wasmtime to run the release build, it works.</li>
<li>If I run the debug build on Linux (WSL Ubuntu), it works.</li>
</ul>
</blockquote>



<a name="213504130"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232294%20Modules%20built%20from%20Rust%20only%20work%20.../near/213504130" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232294.20Modules.20built.20from.20Rust.20only.20work.20.2E.2E.2E.html#213504130">(Oct 16 2020 at 00:18)</a>:</h4>
<p>itowlson labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/2294">Issue #2294</a>:</p>
<blockquote>
<p>When I write a program in Rust and compile it to WASM, I cannot run it under <code>wasmtime</code> on Windows unless I passed the <code>--release</code> flag when I built it.  If I built the WASM module in debug mode, <code>wasmtime</code> gives the error "command export '__rustc_debug_gdb_scripts_section__' is not a function".  All other combinations of OS and build mode work: the error is specific to debug builds under Windows.</p>
<h2>Steps to reproduce</h2>
<ol>
<li>Get hold of a Windows box.  Install Rust, the <code>wasm32-wasi</code> target and <code>wasmtime</code>.</li>
<li><code>cargo new</code> a hello-world program.</li>
<li><code>cd</code> into the hello-world directory and <code>cargo build --target wasm32-wasi</code></li>
<li>Run <code>wasmtime run .\target\wasm32-wasi\debug\hello-world.wasm</code></li>
</ol>
<h2>Results</h2>
<p>Expected: Should print <code>Hello, world!</code></p>
<p>Actual:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Error</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="err">`</span><span class="p">.</span><span class="err">\</span><span class="n">target</span><span class="err">\</span><span class="n">wasm32</span><span class="o">-</span><span class="n">wasi</span><span class="err">\</span><span class="n">debug</span><span class="err">\</span><span class="n">hello</span><span class="o">-</span><span class="n">world</span><span class="p">.</span><span class="n">wasm</span><span class="err">`</span><span class="w"></span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="mi">0</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">instantiate</span><span class="w"> </span><span class="s">".</span><span class="se">\\</span><span class="s">target</span><span class="se">\\</span><span class="s">wasm32-wasi</span><span class="se">\\</span><span class="s">debug</span><span class="se">\\</span><span class="s">hello-world.wasm"</span><span class="w"></span>
<span class="w">    </span><span class="mi">1</span>: <span class="nc">command</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="o">'</span><span class="nb">__</span><span class="na">rustc_debug_gdb_scripts_section__</span><span class="o">'</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">function</span><span class="w"></span>
</code></pre></div>

<h2>Environment</h2>
<p>Windows 10, x64<br>
Rust 1.40.0<br>
Wasmtime 0.20.0</p>
<h2>Additional information</h2>
<ul>
<li>If I <code>cargo build ... --release</code> and use wasmtime to run the release build, it works.</li>
<li>If I run the debug build on Linux (WSL Ubuntu), it works.</li>
</ul>
</blockquote>



<a name="213546486"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232294%20Modules%20built%20from%20Rust%20only%20work%20.../near/213546486" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232294.20Modules.20built.20from.20Rust.20only.20work.20.2E.2E.2E.html#213546486">(Oct 16 2020 at 11:18)</a>:</h4>
<p>tschneidereit assigned <a href="https://github.com/bytecodealliance/wasmtime/issues/2294">Issue #2294</a> (assigned to yurydelendik):</p>
<blockquote>
<p>When I write a program in Rust and compile it to WASM, I cannot run it under <code>wasmtime</code> on Windows unless I passed the <code>--release</code> flag when I built it.  If I built the WASM module in debug mode, <code>wasmtime</code> gives the error "command export '__rustc_debug_gdb_scripts_section__' is not a function".  All other combinations of OS and build mode work: the error is specific to debug builds under Windows.</p>
<h2>Steps to reproduce</h2>
<ol>
<li>Get hold of a Windows box.  Install Rust, the <code>wasm32-wasi</code> target and <code>wasmtime</code>.</li>
<li><code>cargo new</code> a hello-world program.</li>
<li><code>cd</code> into the hello-world directory and <code>cargo build --target wasm32-wasi</code></li>
<li>Run <code>wasmtime run .\target\wasm32-wasi\debug\hello-world.wasm</code></li>
</ol>
<h2>Results</h2>
<p>Expected: Should print <code>Hello, world!</code></p>
<p>Actual:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Error</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="err">`</span><span class="p">.</span><span class="err">\</span><span class="n">target</span><span class="err">\</span><span class="n">wasm32</span><span class="o">-</span><span class="n">wasi</span><span class="err">\</span><span class="n">debug</span><span class="err">\</span><span class="n">hello</span><span class="o">-</span><span class="n">world</span><span class="p">.</span><span class="n">wasm</span><span class="err">`</span><span class="w"></span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="mi">0</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">instantiate</span><span class="w"> </span><span class="s">".</span><span class="se">\\</span><span class="s">target</span><span class="se">\\</span><span class="s">wasm32-wasi</span><span class="se">\\</span><span class="s">debug</span><span class="se">\\</span><span class="s">hello-world.wasm"</span><span class="w"></span>
<span class="w">    </span><span class="mi">1</span>: <span class="nc">command</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="o">'</span><span class="nb">__</span><span class="na">rustc_debug_gdb_scripts_section__</span><span class="o">'</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">function</span><span class="w"></span>
</code></pre></div>

<h2>Environment</h2>
<p>Windows 10, x64<br>
Rust 1.40.0<br>
Wasmtime 0.20.0</p>
<h2>Additional information</h2>
<ul>
<li>If I <code>cargo build ... --release</code> and use wasmtime to run the release build, it works.</li>
<li>If I run the debug build on Linux (WSL Ubuntu), it works.</li>
</ul>
</blockquote>



<a name="213546543"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232294%20Modules%20built%20from%20Rust%20only%20work%20.../near/213546543" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232294.20Modules.20built.20from.20Rust.20only.20work.20.2E.2E.2E.html#213546543">(Oct 16 2020 at 11:18)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/issues/2294#issuecomment-709985474">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2294">Issue #2294</a>:</p>
<blockquote>
<p>Sounds like an issue with debug info handling. @yurydelendik, can you take a look?</p>
</blockquote>



<a name="213547696"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232294%20Modules%20built%20from%20Rust%20only%20work%20.../near/213547696" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232294.20Modules.20built.20from.20Rust.20only.20work.20.2E.2E.2E.html#213547696">(Oct 16 2020 at 11:32)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/2294#issuecomment-709991162">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2294">Issue #2294</a>:</p>
<blockquote>
<p><code>__rustc_debug_gdb_scripts_section__</code> is exported by rustc to prevent LLVM from gcing a section that gdb reads to load the pretty printing python script for rust. That section normally contains the string <code>gdb_load_rust_pretty_printers.py</code>.</p>
<p><a href="https://github.com/rust-lang/rust/blob/95b4a4f0eee935f9e0c80b0ceef34866bcb72ca3/compiler/rustc_codegen_llvm/src/debuginfo/gdb.rs#L37">https://github.com/rust-lang/rust/blob/95b4a4f0eee935f9e0c80b0ceef34866bcb72ca3/compiler/rustc_codegen_llvm/src/debuginfo/gdb.rs#L37</a></p>
<p>Either Wasmtime should simply ignore this export instead of attempting to interpret it as command or rustc should stop adding this section for wasm.</p>
</blockquote>



<a name="213548049"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232294%20Modules%20built%20from%20Rust%20only%20work%20.../near/213548049" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232294.20Modules.20built.20from.20Rust.20only.20work.20.2E.2E.2E.html#213548049">(Oct 16 2020 at 11:36)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/issues/2294#issuecomment-709992733">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2294">Issue #2294</a>:</p>
<blockquote>
<p>Thank you for the investigation, @bjorn3!</p>
<blockquote>
<p>Either Wasmtime should simply ignore this export instead of attempting to interpret it as command or rustc should stop adding this section for wasm.</p>
</blockquote>
<p>I think the former is preferable: we shouldn't rely on the compiler doing the right thing (assuming not adding this section would be the right thing, which I don't have enough context to know) about something like this.</p>
</blockquote>



<a name="214072909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232294%20Modules%20built%20from%20Rust%20only%20work%20.../near/214072909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232294.20Modules.20built.20from.20Rust.20only.20work.20.2E.2E.2E.html#214072909">(Oct 21 2020 at 16:04)</a>:</h4>
<p>yurydelendik <a href="https://github.com/bytecodealliance/wasmtime/issues/2294#issuecomment-713684279">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2294">Issue #2294</a>:</p>
<blockquote>
<p>Looks unrelated to wasmtime debugging capabilities. Will the following help?</p>
<div class="codehilite" data-code-language="Diff"><pre><span></span><code><span class="gh">diff --git a/crates/wasmtime/src/linker.rs b/crates/wasmtime/src/linker.rs</span>
<span class="gh">index c22b89bf4..2f944050f 100644</span>
<span class="gd">--- a/crates/wasmtime/src/linker.rs</span>
<span class="gi">+++ b/crates/wasmtime/src/linker.rs</span>
<span class="gu">@@ -442,2 +442,5 @@ impl Linker {</span>
                 warn!("command module exporting '__data_end' is deprecated");
<span class="gi">+            } else if export.name() == "__rustc_debug_gdb_scripts_section__" &amp;&amp; export.ty().global().is_some() {</span>
<span class="gi">+                // Allow an exported "__rustc_debug_gdb_scripts_section__" for compatibility with toolchains.</span>
<span class="gi">+                // See rustc logic for ".debug_gdb_scripts" section.</span>
             } else if export.name() == "__heap_base" &amp;&amp; export.ty().global().is_some() {
</code></pre></div>

</blockquote>



<a name="214072956"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232294%20Modules%20built%20from%20Rust%20only%20work%20.../near/214072956" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232294.20Modules.20built.20from.20Rust.20only.20work.20.2E.2E.2E.html#214072956">(Oct 21 2020 at 16:05)</a>:</h4>
<p>yurydelendik unassigned <a href="https://github.com/bytecodealliance/wasmtime/issues/2294">Issue #2294</a>:</p>
<blockquote>
<p>When I write a program in Rust and compile it to WASM, I cannot run it under <code>wasmtime</code> on Windows unless I passed the <code>--release</code> flag when I built it.  If I built the WASM module in debug mode, <code>wasmtime</code> gives the error "command export '__rustc_debug_gdb_scripts_section__' is not a function".  All other combinations of OS and build mode work: the error is specific to debug builds under Windows.</p>
<h2>Steps to reproduce</h2>
<ol>
<li>Get hold of a Windows box.  Install Rust, the <code>wasm32-wasi</code> target and <code>wasmtime</code>.</li>
<li><code>cargo new</code> a hello-world program.</li>
<li><code>cd</code> into the hello-world directory and <code>cargo build --target wasm32-wasi</code></li>
<li>Run <code>wasmtime run .\target\wasm32-wasi\debug\hello-world.wasm</code></li>
</ol>
<h2>Results</h2>
<p>Expected: Should print <code>Hello, world!</code></p>
<p>Actual:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Error</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">main</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="err">`</span><span class="p">.</span><span class="err">\</span><span class="n">target</span><span class="err">\</span><span class="n">wasm32</span><span class="o">-</span><span class="n">wasi</span><span class="err">\</span><span class="n">debug</span><span class="err">\</span><span class="n">hello</span><span class="o">-</span><span class="n">world</span><span class="p">.</span><span class="n">wasm</span><span class="err">`</span><span class="w"></span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="mi">0</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">instantiate</span><span class="w"> </span><span class="s">".</span><span class="se">\\</span><span class="s">target</span><span class="se">\\</span><span class="s">wasm32-wasi</span><span class="se">\\</span><span class="s">debug</span><span class="se">\\</span><span class="s">hello-world.wasm"</span><span class="w"></span>
<span class="w">    </span><span class="mi">1</span>: <span class="nc">command</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="o">'</span><span class="nb">__</span><span class="na">rustc_debug_gdb_scripts_section__</span><span class="o">'</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">function</span><span class="w"></span>
</code></pre></div>

<h2>Environment</h2>
<p>Windows 10, x64<br>
Rust 1.40.0<br>
Wasmtime 0.20.0</p>
<h2>Additional information</h2>
<ul>
<li>If I <code>cargo build ... --release</code> and use wasmtime to run the release build, it works.</li>
<li>If I run the debug build on Linux (WSL Ubuntu), it works.</li>
</ul>
</blockquote>



<a name="214490360"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232294%20Modules%20built%20from%20Rust%20only%20work%20.../near/214490360" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232294.20Modules.20built.20from.20Rust.20only.20work.20.2E.2E.2E.html#214490360">(Oct 25 2020 at 13:47)</a>:</h4>
<p>workingjubilee <a href="https://github.com/bytecodealliance/wasmtime/issues/2294#issuecomment-716151226">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2294">Issue #2294</a>:</p>
<blockquote>
<p>If gdb can debug wasm, then rustc should continue adding the section for wasm targets.<br>
If gdb cannot debug wasm, then rustc should not add the section.<br>
I don't know gdb's limits here.</p>
</blockquote>



<a name="214490434"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232294%20Modules%20built%20from%20Rust%20only%20work%20.../near/214490434" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232294.20Modules.20built.20from.20Rust.20only.20work.20.2E.2E.2E.html#214490434">(Oct 25 2020 at 13:48)</a>:</h4>
<p>workingjubilee edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/2294#issuecomment-716151226">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2294">Issue #2294</a>:</p>
<blockquote>
<p>If gdb (and specifically the rust-gdb pretty printer) can debug wasm, then rustc should continue adding the section for wasm targets. If gdb cannot debug wasm, then rustc should not add the section.<br>
I don't know rust-gdb's limits here.</p>
</blockquote>



<a name="214522291"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232294%20Modules%20built%20from%20Rust%20only%20work%20.../near/214522291" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232294.20Modules.20built.20from.20Rust.20only.20work.20.2E.2E.2E.html#214522291">(Oct 26 2020 at 00:48)</a>:</h4>
<p>workingjubilee edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/2294#issuecomment-716151226">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2294">Issue #2294</a>:</p>
<blockquote>
<p>If gdb (and specifically the rust-gdb pretty printer) can debug wasm, then rustc should (probably) continue adding the section for wasm targets. If gdb cannot debug wasm, then rustc should not add the section.<br>
I don't know rust-gdb's limits here.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>