<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2151 Adds i64x2.mul for the new backend... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.2E.2E.2E.html">wasmtime / Issue #2151 Adds i64x2.mul for the new backend...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="207555399"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend.../near/207555399" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.2E.2E.2E.html#207555399">(Aug 20 2020 at 18:12)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#issuecomment-677819440">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">Issue #2151</a>:</p>
<blockquote>
<p>Still in draft form. Generating some unexpected moves and also haven't checked correctness yet. </p>
</blockquote>



<a name="207555417"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend.../near/207555417" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.2E.2E.2E.html#207555417">(Aug 20 2020 at 18:12)</a>:</h4>
<p>jlb6740 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#issuecomment-677819440">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">Issue #2151</a>:</p>
<blockquote>
<p>Still in draft form. Generating some unexpected moves and also haven't verified correctness yet. </p>
</blockquote>



<a name="207557460"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend.../near/207557460" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.2E.2E.2E.html#207557460">(Aug 20 2020 at 18:31)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#issuecomment-677828322">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">Issue #2151</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @bnjbvr</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "cranelift:area:x64"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>bnjbvr: cranelift</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="207652376"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend.../near/207652376" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.2E.2E.2E.html#207652376">(Aug 21 2020 at 16:06)</a>:</h4>
<p>bnjbvr <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#issuecomment-678369369">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">Issue #2151</a>:</p>
<blockquote>
<p>Thanks for the patch! I'm not sure what you expect from the review, since the PR is marked as a draft and you're not sure about it working; the approach of using a sequence of lowered instructions to emulate the addition looks good, if that's what you wanted to validate. An alternative is to extract each vector's lane, do the multiply, and reconstruct the result vector from this (iirc we do this in Spidermonkey; this seems alright since the vectors only have 2 lanes). Otherwise, I'd rather have a look once this has been tested, just to spare some back-and-forth, if that's alright with you :-) Thanks!</p>
</blockquote>



<a name="207661444"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend.../near/207661444" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.2E.2E.2E.html#207661444">(Aug 21 2020 at 17:32)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#issuecomment-678405326">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">Issue #2151</a>:</p>
<blockquote>
<p>@bnjbvr Hi, Yes thanks for the comment! Sorry shouldn't have added folks as reviewers yet, did it to simply let you know the patch was coming where any feedback was a bonus .. so thanks. There are some redundant moves that I need to get rid of and check correctness which I'll get too soon. </p>
</blockquote>



<a name="208394337"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend.../near/208394337" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.2E.2E.2E.html#208394337">(Aug 28 2020 at 20:58)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#issuecomment-683143379">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">Issue #2151</a>:</p>
<blockquote>
<p>Hi ... sorry this took so long. I've confirmed the output is as expected and results seem consistent with the previous backend when running some clif examples through clif-util. </p>
</blockquote>



<a name="209473463"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend.../near/209473463" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.2E.2E.2E.html#209473463">(Sep 09 2020 at 05:36)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#issuecomment-689316307">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">Issue #2151</a>:</p>
<blockquote>
<blockquote>
<p>Not sure if this was ready for another review spin, so I did give a look. I have a slightly different suggestion that would avoid one instruction, please let me know if this makes sense!</p>
</blockquote>
<p>Hi ... Yes sorry I was going to try to address all your comments to avoid you having to look at this too many times but none-the-less your comments are very helpful. Yes, factoring out the shift makes sense and will do this. Thanks!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>