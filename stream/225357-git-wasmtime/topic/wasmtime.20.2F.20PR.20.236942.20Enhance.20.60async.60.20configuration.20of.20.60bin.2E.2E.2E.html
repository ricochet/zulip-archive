<html>
<head><meta charset="utf-8"><title>wasmtime / PR #6942 Enhance `async` configuration of `bin... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236942.20Enhance.20.60async.60.20configuration.20of.20.60bin.2E.2E.2E.html">wasmtime / PR #6942 Enhance `async` configuration of `bin...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="388338134"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236942%20Enhance%20%60async%60%20configuration%20of%20%60bin.../near/388338134" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236942.20Enhance.20.60async.60.20configuration.20of.20.60bin.2E.2E.2E.html#388338134">(Aug 31 2023 at 14:30)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/6942">PR #6942</a> from <code>alexcrichton:bindgen-some-sync-imports</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This commit takes a leaf out of <code>wiggle</code>'s book to enable bindings generation for async host functions where only some host functions are async instead of all of them. Unlike <code>wiggle</code> however the configuration key is <code>async_except_imports: ["..."]</code> to provide a deny-list instead of an allow-list. This is done thinking that the majority of functions probably want to be <code>async</code> and it's easier to specify a list of synchronous imports instead of all the async ones. This key name also reflects how exports will be async no matter what, and it's just some imports which may be exempted.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="388338137"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236942%20Enhance%20%60async%60%20configuration%20of%20%60bin.../near/388338137" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236942.20Enhance.20.60async.60.20configuration.20of.20.60bin.2E.2E.2E.html#388338137">(Aug 31 2023 at 14:30)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6942">PR #6942</a>.</p>



<a name="388338139"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236942%20Enhance%20%60async%60%20configuration%20of%20%60bin.../near/388338139" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236942.20Enhance.20.60async.60.20configuration.20of.20.60bin.2E.2E.2E.html#388338139">(Aug 31 2023 at 14:30)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/pchickey">pchickey</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6942">PR #6942</a>.</p>



<a name="388350860"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236942%20Enhance%20%60async%60%20configuration%20of%20%60bin.../near/388350860" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236942.20Enhance.20.60async.60.20configuration.20of.20.60bin.2E.2E.2E.html#388350860">(Aug 31 2023 at 15:32)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6942">PR #6942</a>.</p>



<a name="388350903"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236942%20Enhance%20%60async%60%20configuration%20of%20%60bin.../near/388350903" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236942.20Enhance.20.60async.60.20configuration.20of.20.60bin.2E.2E.2E.html#388350903">(Aug 31 2023 at 15:32)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6942">PR #6942</a>:</p>
<blockquote>
<p>This commit takes a leaf out of <code>wiggle</code>'s book to enable bindings<br>
generation for async host functions where only some host functions are<br>
async instead of all of them. This enhances the <code>async</code> key with a few<br>
more options:</p>
<div class="codehilite"><pre><span></span><code>async: {
    except_imports: [&quot;foo&quot;],
    only_imports: [&quot;bar&quot;],
}
</code></pre></div>

<p>This is beyond what <code>wiggle</code> supports where either an allow-list or<br>
deny-list can be specified (although only one can be specified). This<br>
can be useful if either the list of sync imports or the list of async<br>
imports is small.</p>
</blockquote>



<a name="388365736"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236942%20Enhance%20%60async%60%20configuration%20of%20%60bin.../near/388365736" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236942.20Enhance.20.60async.60.20configuration.20of.20.60bin.2E.2E.2E.html#388365736">(Aug 31 2023 at 16:34)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6942#pullrequestreview-1605180615">PR review</a>.</p>



<a name="388376915"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236942%20Enhance%20%60async%60%20configuration%20of%20%60bin.../near/388376915" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236942.20Enhance.20.60async.60.20configuration.20of.20.60bin.2E.2E.2E.html#388376915">(Aug 31 2023 at 17:44)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/6942">PR #6942</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>