<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9018 Winch aarch64 cmp · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html">wasmtime / PR #9018 Winch aarch64 cmp</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="454283622"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454283622" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454283622">(Jul 26 2024 at 12:01)</a>:</h4>
<p>vulc41n opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9018">PR #9018</a> from <code>vulc41n:winch-aarch64-cmp</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This PR implements wasm comparison instructions for winch targeting aarch64.<br>
#8321 </p>
</blockquote>



<a name="454283623"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454283623" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454283623">(Jul 26 2024 at 12:01)</a>:</h4>
<p><strong>vulc41n</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9018">PR #9018</a>.</p>



<a name="454283625"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454283625" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454283625">(Jul 26 2024 at 12:01)</a>:</h4>
<p><strong>vulc41n</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9018">PR #9018</a>.</p>



<a name="454283627"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454283627" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454283627">(Jul 26 2024 at 12:01)</a>:</h4>
<p><strong>vulc41n</strong> requested <a href="https://github.com/pchickey">pchickey</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9018">PR #9018</a>.</p>



<a name="454283628"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454283628" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454283628">(Jul 26 2024 at 12:01)</a>:</h4>
<p><strong>vulc41n</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9018">PR #9018</a>.</p>



<a name="454309934"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454309934" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454309934">(Jul 26 2024 at 14:25)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/9018#issuecomment-2252885828">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9018">PR #9018</a>:</p>
<blockquote>
<p>I can help reviewing this change. </p>
</blockquote>



<a name="454309972"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454309972" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454309972">(Jul 26 2024 at 14:25)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/saulecabrera">saulecabrera</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9018">PR #9018</a>.</p>



<a name="454474602"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454474602" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454474602">(Jul 27 2024 at 13:59)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9018#pullrequestreview-2202865693">PR review</a>:</p>
<blockquote>
<p>Sorry it took me a bit to review this change. In general it looks great to me, thanks. I left one nit below which I think it makes sense to address before merging.</p>
</blockquote>



<a name="454474603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454474603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454474603">(Jul 27 2024 at 13:59)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9018#pullrequestreview-2202865693">PR review</a>:</p>
<blockquote>
<p>Sorry it took me a bit to review this change. In general it looks great to me, thanks. I left one nit below which I think it makes sense to address before merging.</p>
</blockquote>



<a name="454474604"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454474604" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454474604">(Jul 27 2024 at 13:59)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/9018#discussion_r1693691566">PR review comment</a>:</p>
<blockquote>
<p>I'm thinking that it might make sense to drop the <code>rd</code> param in this case, to match more accurately <a href="https://developer.arm.com/documentation/dui0802/a/A64-General-Instructions/SUBS--immediate-">the instruction definition</a> and the method usage and use <code>regs::zero</code> internally when emitting <code>emit_alu_rrr_extend</code> and <code>emit_alu_rri</code>. That would simplify the usage from the MacroAssembler</p>
</blockquote>



<a name="454482085"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454482085" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454482085">(Jul 27 2024 at 15:08)</a>:</h4>
<p>vulc41n updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9018">PR #9018</a>.</p>



<a name="454483720"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454483720" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454483720">(Jul 27 2024 at 15:18)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9018#pullrequestreview-2203195306">PR review</a>:</p>
<blockquote>
<p>Thanks!</p>
</blockquote>



<a name="454483728"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454483728" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454483728">(Jul 27 2024 at 15:18)</a>:</h4>
<p>vulc41n <a href="https://github.com/bytecodealliance/wasmtime/pull/9018#issuecomment-2254176758">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9018">PR #9018</a>:</p>
<blockquote>
<p>No problem, thanks for reviewing my pull request <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span><br>
I've removed <code>rd</code> from <code>subs</code> methods, but I do see <code>Wd</code> in the doc you linked. Am I missing something ?<br>
Please tell me if there is anything else I can do to improve this</p>
</blockquote>



<a name="454484725"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454484725" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454484725">(Jul 27 2024 at 15:26)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/9018#issuecomment-2254178602">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9018">PR #9018</a>:</p>
<blockquote>
<blockquote>
<p>No problem, thanks for reviewing my pull request <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span> I've removed <code>rd</code> from <code>subs</code> methods, but I do see <code>Wd</code> in the doc you linked. Am I missing something ? Please tell me if there is anything else I can do to improve this</p>
</blockquote>
<p>Yeah, according to the docs there's a proper destination register, however, it's not currently used in the way we lower comparison operations in Winch, since we rely on the flags or in <code>cmp_with_set</code>, so my suggestion is mostly to make it easier to reflect the usage. </p>
</blockquote>



<a name="454485525"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239018%20Winch%20aarch64%20cmp/near/454485525" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239018.20Winch.20aarch64.20cmp.html#454485525">(Jul 27 2024 at 15:33)</a>:</h4>
<p>saulecabrera merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9018">PR #9018</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>