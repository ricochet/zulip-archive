<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1939 Fix Switch for 128bit integers · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html">wasmtime / PR #1939 Fix Switch for 128bit integers</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="202356582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/202356582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#202356582">(Jun 29 2020 at 19:22)</a>:</h4>
<p>bjorn3 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1939">PR #1939</a> from <code>128bit_switch</code> to <code>main</code>:</p>
<blockquote>
<p>Fixes <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/757">https://github.com/bjorn3/rustc_codegen_cranelift/issues/757</a><br>
Required by <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/743">https://github.com/bjorn3/rustc_codegen_cranelift/issues/743</a></p>
</blockquote>



<a name="202356733"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/202356733" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#202356733">(Jun 29 2020 at 19:24)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1939">PR #1939</a> from <code>128bit_switch</code> to <code>main</code>:</p>
<blockquote>
<p>Fixes <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/757">https://github.com/bjorn3/rustc_codegen_cranelift/issues/757</a><br>
Required by <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/743">https://github.com/bjorn3/rustc_codegen_cranelift/issues/743</a></p>
</blockquote>



<a name="203818386"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203818386" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203818386">(Jul 14 2020 at 10:33)</a>:</h4>
<p><strong>tschneidereit</strong> requested <a href="https://github.com/cfallin">cfallin</a>, <a href="https://github.com/bnjbvr">bnjbvr</a> and <a href="https://github.com/julian-seward1">julian-seward1</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1939">PR #1939</a>.</p>



<a name="203818387"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203818387" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203818387">(Jul 14 2020 at 10:33)</a>:</h4>
<p><strong>tschneidereit</strong> requested <a href="https://github.com/cfallin">cfallin</a>, <a href="https://github.com/bnjbvr">bnjbvr</a> and <a href="https://github.com/julian-seward1">julian-seward1</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1939">PR #1939</a>.</p>



<a name="203818388"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203818388" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203818388">(Jul 14 2020 at 10:33)</a>:</h4>
<p><strong>tschneidereit</strong> requested <a href="https://github.com/cfallin">cfallin</a>, <a href="https://github.com/bnjbvr">bnjbvr</a> and <a href="https://github.com/julian-seward1">julian-seward1</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1939">PR #1939</a>.</p>



<a name="203843917"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203843917" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203843917">(Jul 14 2020 at 15:02)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1939#pullrequestreview-448187084">PR Review</a>.</p>



<a name="203843918"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203843918" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203843918">(Jul 14 2020 at 15:02)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1939#pullrequestreview-448187084">PR Review</a>.</p>



<a name="203843919"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203843919" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203843919">(Jul 14 2020 at 15:02)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1939#discussion_r454422885">PR Review Comment</a>:</p>
<blockquote>
<p>Can we just assert that the values are <code>&lt;= i64::MAX</code> (or use <code>i64::try_from</code> below) instead? It seems fine to me to build on a 128-bit system and generate 64-bit-sized IR as long as the statically-known values are in range (unless I'm missing some other issue!).</p>
</blockquote>



<a name="203843920"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203843920" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203843920">(Jul 14 2020 at 15:02)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1939#discussion_r454419083">PR Review Comment</a>:</p>
<blockquote>
<p>This sequence happens four times -- perhaps extract it into a helper (<code>compare_to_u128</code> or similar)?</p>
</blockquote>



<a name="203851001"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203851001" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203851001">(Jul 14 2020 at 15:56)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1939">PR #1939</a> from <code>128bit_switch</code> to <code>main</code>:</p>
<blockquote>
<p>Fixes <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/757">https://github.com/bjorn3/rustc_codegen_cranelift/issues/757</a><br>
Required by <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/743">https://github.com/bjorn3/rustc_codegen_cranelift/issues/743</a></p>
</blockquote>



<a name="203851162"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203851162" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203851162">(Jul 14 2020 at 15:57)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1939#pullrequestreview-448243879">PR Review</a>.</p>



<a name="203851163"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203851163" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203851163">(Jul 14 2020 at 15:57)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1939#discussion_r454464059">PR Review Comment</a>:</p>
<blockquote>
<p>Sorry to be picky here -- can we pass in an <code>IntCC</code> condition and then combine <code>icmp_imm_u128_{eq,uge}</code>?</p>
</blockquote>



<a name="203851267"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203851267" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203851267">(Jul 14 2020 at 15:58)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1939#pullrequestreview-448244562">PR Review</a>.</p>



<a name="203851268"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203851268" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203851268">(Jul 14 2020 at 15:58)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1939#discussion_r454464626">PR Review Comment</a>:</p>
<blockquote>
<p>Already realized that :)</p>
</blockquote>



<a name="203851306"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203851306" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203851306">(Jul 14 2020 at 15:58)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1939">PR #1939</a> from <code>128bit_switch</code> to <code>main</code>:</p>
<blockquote>
<p>Fixes <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/757">https://github.com/bjorn3/rustc_codegen_cranelift/issues/757</a><br>
Required by <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/743">https://github.com/bjorn3/rustc_codegen_cranelift/issues/743</a></p>
</blockquote>



<a name="203851372"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203851372" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203851372">(Jul 14 2020 at 15:59)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1939#pullrequestreview-448245422">PR Review</a>.</p>



<a name="203851374"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203851374" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203851374">(Jul 14 2020 at 15:59)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1939#discussion_r454465297">PR Review Comment</a>:</p>
<blockquote>
<p>Changed this to assert that <code>blocks.len()</code> fits in an <code>u64</code>.</p>
</blockquote>



<a name="203851530"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203851530" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203851530">(Jul 14 2020 at 16:00)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1939">PR #1939</a> from <code>128bit_switch</code> to <code>main</code>:</p>
<blockquote>
<p>Fixes <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/757">https://github.com/bjorn3/rustc_codegen_cranelift/issues/757</a><br>
Required by <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/743">https://github.com/bjorn3/rustc_codegen_cranelift/issues/743</a></p>
</blockquote>



<a name="203851914"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203851914" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203851914">(Jul 14 2020 at 16:03)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1939#pullrequestreview-448249357">PR Review</a>.</p>



<a name="203852439"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203852439" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203852439">(Jul 14 2020 at 16:08)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1939">PR #1939</a> from <code>128bit_switch</code> to <code>main</code>:</p>
<blockquote>
<p>Fixes <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/757">https://github.com/bjorn3/rustc_codegen_cranelift/issues/757</a><br>
Required by <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/743">https://github.com/bjorn3/rustc_codegen_cranelift/issues/743</a></p>
</blockquote>



<a name="203868021"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231939%20Fix%20Switch%20for%20128bit%20integers/near/203868021" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231939.20Fix.20Switch.20for.20128bit.20integers.html#203868021">(Jul 14 2020 at 18:16)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1939">PR #1939</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>