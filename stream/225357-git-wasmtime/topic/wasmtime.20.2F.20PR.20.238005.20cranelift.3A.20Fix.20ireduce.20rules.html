<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8005 cranelift: Fix ireduce rules · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238005.20cranelift.3A.20Fix.20ireduce.20rules.html">wasmtime / PR #8005 cranelift: Fix ireduce rules</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="423730191"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238005%20cranelift%3A%20Fix%20ireduce%20rules/near/423730191" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238005.20cranelift.3A.20Fix.20ireduce.20rules.html#423730191">(Feb 28 2024 at 01:27)</a>:</h4>
<p>jameysharp edited <a href="https://github.com/bytecodealliance/wasmtime/pull/8005">PR #8005</a>.</p>



<a name="423731007"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238005%20cranelift%3A%20Fix%20ireduce%20rules/near/423731007" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238005.20cranelift.3A.20Fix.20ireduce.20rules.html#423731007">(Feb 28 2024 at 01:38)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8005#pullrequestreview-1905128906">PR review</a>.</p>



<a name="423734916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238005%20cranelift%3A%20Fix%20ireduce%20rules/near/423734916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238005.20cranelift.3A.20Fix.20ireduce.20rules.html#423734916">(Feb 28 2024 at 02:28)</a>:</h4>
<p>jameysharp merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8005">PR #8005</a>.</p>



<a name="430005642"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238005%20cranelift%3A%20Fix%20ireduce%20rules/near/430005642" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238005.20cranelift.3A.20Fix.20ireduce.20rules.html#430005642">(Mar 28 2024 at 06:42)</a>:</h4>
<p>scottmcm <a href="https://github.com/bytecodealliance/wasmtime/pull/8005#issuecomment-2024508688">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8005">PR #8005</a>:</p>
<blockquote>
<p>Oops!  Sorry for the mess here.</p>
<blockquote>
<p>However, we've decided that checking whether the rule is actually an improvement is not desirable. In general, that should be the job of the cost function. Blindly adding equivalent expressions gives us more opportunities for other rules to fire, and we have global recursion and growth limits to keep the process from going too wild.</p>
</blockquote>
<p>Good to see the new guidance for this, since it had been uncertain back when I first started doing these rules in <a href="https://github.com/bytecodealliance/wasmtime/pull/7693#discussion_r1430497487">https://github.com/bytecodealliance/wasmtime/pull/7693#discussion_r1430497487</a> </p>
</blockquote>



<a name="430094901"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238005%20cranelift%3A%20Fix%20ireduce%20rules/near/430094901" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238005.20cranelift.3A.20Fix.20ireduce.20rules.html#430094901">(Mar 28 2024 at 15:30)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/pull/8005#issuecomment-2025505958">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8005">PR #8005</a>:</p>
<blockquote>
<p>Yeah, we're all still figuring out how best to use this egraph optimizer. The best we can do is keep trying things out, and I appreciate your efforts to do that!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>