<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6960 Support referencing stack slots in... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236960.20Support.20referencing.20stack.20slots.20in.2E.2E.2E.html">wasmtime / issue #6960 Support referencing stack slots in...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="389275896"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236960%20Support%20referencing%20stack%20slots%20in.../near/389275896" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236960.20Support.20referencing.20stack.20slots.20in.2E.2E.2E.html#389275896">(Sep 05 2023 at 20:35)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6960#issuecomment-1707274865">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6960">issue #6960</a>:</p>
<blockquote>
<p>Oh interesting! So there's no way for the dwarf sections to actually refer to <code>.eh_frame</code>? It's required at the binary level that the information is duplicated?</p>
</blockquote>



<a name="389278484"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236960%20Support%20referencing%20stack%20slots%20in.../near/389278484" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236960.20Support.20referencing.20stack.20slots.20in.2E.2E.2E.html#389278484">(Sep 05 2023 at 20:48)</a>:</h4>
<p>SingleAccretion <a href="https://github.com/bytecodealliance/wasmtime/pull/6960#issuecomment-1707290869">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6960">issue #6960</a>:</p>
<blockquote>
<blockquote>
<p>So there's no way for the dwarf sections to actually refer to .eh_frame? It's required at the binary level that the information is duplicated?</p>
</blockquote>
<p>I am no great Unix expert myself, so do not know for certain. I _suspect_ that it is indeed possible for the debugger to use <code>.eh_frame</code> alone, though the two sections are a little different in format details as well as usage (<code>.eh_frame</code> is like <code>.pdata</code> on Windows in that it is "mandatory").</p>
<p>FWIW, there are much larger (pun intended) size problems with <code>-g</code>-produced object files at the moment. For one, all the location lists for variables with are very fragmented, it would help a lot if they could always refer to the one and only stack location, at least for unoptimized code.</p>
</blockquote>



<a name="389281943"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236960%20Support%20referencing%20stack%20slots%20in.../near/389281943" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236960.20Support.20referencing.20stack.20slots.20in.2E.2E.2E.html#389281943">(Sep 05 2023 at 21:04)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/6960#issuecomment-1707308617">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6960">issue #6960</a>:</p>
<blockquote>
<p>Rustc doesn't ever emit <code>.debug_frame</code>. The debugger has to use <code>.eh_frame</code> for this information for rust code.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>