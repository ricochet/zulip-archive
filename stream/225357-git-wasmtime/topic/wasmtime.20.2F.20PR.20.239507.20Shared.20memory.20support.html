<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9507 Shared memory support · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html">wasmtime / PR #9507 Shared memory support</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="478612246"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478612246" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478612246">(Oct 24 2024 at 01:49)</a>:</h4>
<p>atilag opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a> from <code>atilag:shared-memory-support</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;<br>
I was trying to add Shared Memory support in the wasmtime-py library, but I found out that C-API support here was not finished, so this is my bold attempt to implement something that works.</p>
<p>As far as a I read, threads on WASI are still in discussion and Shared Memory is part of the proposal. In other hand there's some basic support for Shared memory already present in the Rust API interface, so I guess it's fine to try gluing the C-API with what is supported today, and make wasmtime-py works with Shared Memory (?).<br>
</p>
</blockquote>



<a name="478612247"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478612247" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478612247">(Oct 24 2024 at 01:49)</a>:</h4>
<p><strong>atilag</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>.</p>



<a name="478612248"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478612248" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478612248">(Oct 24 2024 at 01:49)</a>:</h4>
<p><strong>atilag</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-fuzz-reviewers">wasmtime-fuzz-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>.</p>



<a name="478612249"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478612249" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478612249">(Oct 24 2024 at 01:49)</a>:</h4>
<p><strong>atilag</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>.</p>



<a name="478612388"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478612388" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478612388">(Oct 24 2024 at 01:51)</a>:</h4>
<p>atilag submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#pullrequestreview-2391044443">PR review</a>.</p>



<a name="478612389"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478612389" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478612389">(Oct 24 2024 at 01:51)</a>:</h4>
<p>atilag created <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#discussion_r1814127037">PR review comment</a>:</p>
<blockquote>
<p>Ok, this is wrong.</p>
</blockquote>



<a name="478613548"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478613548" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478613548">(Oct 24 2024 at 02:05)</a>:</h4>
<p>atilag updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>.</p>



<a name="478626655"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478626655" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478626655">(Oct 24 2024 at 03:45)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#issuecomment-2434189141">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "fuzzing", "wasmtime:api", "wasmtime:c-api"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>fitzgen: fuzzing</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="478746680"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478746680" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478746680">(Oct 24 2024 at 15:39)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#pullrequestreview-2393071267">PR review</a>.</p>



<a name="478746684"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478746684" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478746684">(Oct 24 2024 at 15:39)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#discussion_r1815252855">PR review comment</a>:</p>
<blockquote>
<p>There's a split between the <code>wasm_*</code> APIs and <code>wasmtime_*</code> APIs and we can't change the <code>wasm_*</code> ones so this unfortunately can't change. Perhaps rename the <code>todo!()</code> though to a <code>panic!()</code> with an error message along the lines of "please use the <code>wasmtime_*</code> method instead"?</p>
<p>I should also note that if the <code>wasmtime_*</code> method doesn't exist yet and you need this method specifically then it's fine to add a <code>wasmtime_*</code> method too.</p>
</blockquote>



<a name="478746685"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478746685" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478746685">(Oct 24 2024 at 15:39)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#discussion_r1815254078">PR review comment</a>:</p>
<blockquote>
<p>This I think we'll want to avoid where we decided to split the runtime representation of <code>Memory</code> and <code>SharedMemory</code> but at the type level they're the same type. In that sense the <code>Memory</code> variant above this should be sufficient.</p>
</blockquote>



<a name="478746686"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478746686" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478746686">(Oct 24 2024 at 15:39)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#discussion_r1815257556">PR review comment</a>:</p>
<blockquote>
<p>Mind panicking here for now with <code>unimplemented!()</code> if both <code>shared</code> and <code>memory64</code> are set? (we need to add a constructor for that but haven't gotten around to it yet)</p>
</blockquote>



<a name="478748924"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478748924" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478748924">(Oct 24 2024 at 15:52)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#pullrequestreview-2393108570">PR review</a>.</p>



<a name="478748925"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478748925" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478748925">(Oct 24 2024 at 15:52)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#discussion_r1815283507">PR review comment</a>:</p>
<blockquote>
<p>Actually I take this back, this may want to use <code>MemoryTypeBuilder</code> to support shared 64-bit memories</p>
</blockquote>



<a name="478821169"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478821169" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478821169">(Oct 25 2024 at 00:44)</a>:</h4>
<p>atilag updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>.</p>



<a name="478821356"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478821356" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478821356">(Oct 25 2024 at 00:46)</a>:</h4>
<p>atilag <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#issuecomment-2436584951">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>:</p>
<blockquote>
<p>Suggestions applied!<br>
Wanted to link this issue with [this other one] from wasmtime-py, as this is a required dependency. We will need to rebuild the <code>_bindings.py</code> after this is merged.</p>
</blockquote>



<a name="478821386"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478821386" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478821386">(Oct 25 2024 at 00:47)</a>:</h4>
<p>atilag edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#issuecomment-2436584951">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>:</p>
<blockquote>
<p>Suggestions applied!<br>
Wanted to link this issue with <a href="https://github.com/bytecodealliance/wasmtime-py/pull/255">this other one</a> from wasmtime-py, as this is a required dependency. We will need to rebuild the <code>_bindings.py</code> after this is merged.</p>
</blockquote>



<a name="478938502"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478938502" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478938502">(Oct 25 2024 at 15:11)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#issuecomment-2438086370">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>:</p>
<blockquote>
<p>Thanks! I think we'll still want to remove the <code>SharedMemory</code> arm of <code>ExternType</code> which will help simplify this a bit more though.</p>
</blockquote>



<a name="478989801"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478989801" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478989801">(Oct 25 2024 at 21:19)</a>:</h4>
<p>atilag updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>.</p>



<a name="478989837"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/478989837" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#478989837">(Oct 25 2024 at 21:19)</a>:</h4>
<p>atilag <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#issuecomment-2438896319">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>:</p>
<blockquote>
<p>Done!</p>
</blockquote>



<a name="479059118"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479059118" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479059118">(Oct 26 2024 at 15:40)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#pullrequestreview-2397280354">PR review</a>:</p>
<blockquote>
<p>Looking good! With <code>MemoryTypeBuilder</code> for the implementation I think this will be good to go <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
</blockquote>



<a name="479059119"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479059119" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479059119">(Oct 26 2024 at 15:40)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#discussion_r1817872829">PR review comment</a>:</p>
<blockquote>
<p>Is this still needed? (or should it perhaps be integrated elsewhere?)</p>
</blockquote>



<a name="479588582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479588582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479588582">(Oct 30 2024 at 00:49)</a>:</h4>
<p>atilag updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>.</p>



<a name="479588672"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479588672" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479588672">(Oct 30 2024 at 00:50)</a>:</h4>
<p>atilag created <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#discussion_r1821705096">PR review comment</a>:</p>
<blockquote>
<p>Nah, I just removed it</p>
</blockquote>



<a name="479588674"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479588674" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479588674">(Oct 30 2024 at 00:50)</a>:</h4>
<p>atilag submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#pullrequestreview-2403331407">PR review</a>.</p>



<a name="479588748"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479588748" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479588748">(Oct 30 2024 at 00:51)</a>:</h4>
<p>atilag <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#issuecomment-2445586964">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>:</p>
<blockquote>
<p>Oh, nice, the MemoryTypeBuilder made the code way more readable :)<br>
Done!</p>
</blockquote>



<a name="479702081"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479702081" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479702081">(Oct 30 2024 at 15:00)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#pullrequestreview-2405237632">PR review</a>:</p>
<blockquote>
<p>There's a minor issue with clang-format in CI, but otherwise I think this is good to go <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
</blockquote>



<a name="479792281"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479792281" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479792281">(Oct 31 2024 at 02:08)</a>:</h4>
<p>atilag updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>.</p>



<a name="479792366"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479792366" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479792366">(Oct 31 2024 at 02:08)</a>:</h4>
<p>atilag <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#issuecomment-2448876279">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>:</p>
<blockquote>
<p>Oh, no problem. I can run clang-format and see a green CI :) </p>
</blockquote>



<a name="479940243"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479940243" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479940243">(Oct 31 2024 at 18:45)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#issuecomment-2450593162">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>:</p>
<blockquote>
<p>I think there might be something else with clang-format in CI?</p>
<p>If you'd like also feel free to mark this as "ready for review" so it can be approved+merged once CI passes.</p>
</blockquote>



<a name="479971400"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479971400" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479971400">(Oct 31 2024 at 23:02)</a>:</h4>
<p><strong>atilag</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a> as ready for review.</p>



<a name="479971567"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479971567" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479971567">(Oct 31 2024 at 23:04)</a>:</h4>
<p>atilag <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#issuecomment-2450994160">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>:</p>
<blockquote>
<p>Yeah, might be the version of clang format usedd in the CI (15?) has different default options than the one I use locally.<br>
Anyway, ready!<br>
Thanks for taking a look Alex!</p>
</blockquote>



<a name="479981169"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479981169" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479981169">(Nov 01 2024 at 01:20)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>.</p>



<a name="479981224"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479981224" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479981224">(Nov 01 2024 at 01:20)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9507#issuecomment-2451117310">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>:</p>
<blockquote>
<p>I dunno what's going on with clang-format myself, I've attempted to resolve the latest issue with a new commit</p>
</blockquote>



<a name="479981226"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479981226" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479981226">(Nov 01 2024 at 01:20)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>.</p>



<a name="479983278"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/479983278" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#479983278">(Nov 01 2024 at 01:49)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>.</p>



<a name="480730159"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239507%20Shared%20memory%20support/near/480730159" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239507.20Shared.20memory.20support.html#480730159">(Nov 05 2024 at 14:12)</a>:</h4>
<p>atilag edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9507">PR #9507</a>:</p>
<blockquote>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;<br>
I was trying to add Shared Memory support in the wasmtime-py library, but I found out that C-API support here was not finished, so this is my bold attempt to implement something that works.</p>
<p>As far as a I read, threads on WASI are still in discussion and Shared Memory is part of the proposal. In the other hand there's some basic support for Shared memory already present in the Rust API interface, so I guess it's fine to try gluing the C-API with what is supported today, and make wasmtime-py works with Shared Memory (?).<br>
</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>