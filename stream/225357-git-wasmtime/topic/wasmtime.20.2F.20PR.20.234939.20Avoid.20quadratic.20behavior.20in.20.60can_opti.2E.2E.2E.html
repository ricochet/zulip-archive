<html>
<head><meta charset="utf-8"><title>wasmtime / PR #4939 Avoid quadratic behavior in `can_opti... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html">wasmtime / PR #4939 Avoid quadratic behavior in `can_opti...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="300013112"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300013112" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300013112">(Sep 21 2022 at 18:13)</a>:</h4>
<p><strong>jameysharp</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/4939">PR #4939</a>.</p>



<a name="300013113"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300013113" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300013113">(Sep 21 2022 at 18:13)</a>:</h4>
<p>jameysharp opened <a href="https://github.com/bytecodealliance/wasmtime/pull/4939">PR #4939</a> from <code>no-quadratic</code> to <code>main</code>:</p>
<blockquote>
<p>This fixes #4938/#4923, with a different take on #4924.</p>
<p>I think this maybe introduces worst-case quadratic behavior in <code>declare_block_predecessor</code> instead, though I think it would happen much less often. I'd appreciate any performance insights during review.</p>
<p>I want to work some more on the comments before merging this, because it was hard to get right and involves subtle invariants. But it does pass the test suite now and I think it's correct.</p>
</blockquote>



<a name="300013114"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300013114" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300013114">(Sep 21 2022 at 18:13)</a>:</h4>
<p><strong>jameysharp</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/4939">PR #4939</a>.</p>



<a name="300014980"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300014980" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300014980">(Sep 21 2022 at 18:24)</a>:</h4>
<p>jameysharp updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4939">PR #4939</a> from <code>no-quadratic</code> to <code>main</code>.</p>



<a name="300017847"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300017847" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300017847">(Sep 21 2022 at 18:41)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1115929760">PR review</a>.</p>



<a name="300017942"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300017942" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300017942">(Sep 21 2022 at 18:42)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#discussion_r976873420">PR review comment</a>:</p>
<blockquote>
<p>Should this set in_predecessor_cycle to false?</p>
</blockquote>



<a name="300017946"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300017946" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300017946">(Sep 21 2022 at 18:42)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1115930740">PR review</a>.</p>



<a name="300018189"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300018189" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300018189">(Sep 21 2022 at 18:43)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1115929760">PR review</a>.</p>



<a name="300018446"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300018446" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300018446">(Sep 21 2022 at 18:45)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1115929760">PR review</a>.</p>



<a name="300025734"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300025734" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300025734">(Sep 21 2022 at 19:30)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1115988447">PR review</a>.</p>



<a name="300025735"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300025735" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300025735">(Sep 21 2022 at 19:30)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#discussion_r976913426">PR review comment</a>:</p>
<blockquote>
<p>No, it must already be false: there couldn't have been a cycle before because there were at least two predecessors. That's true whether <code>pred</code> is being added or removed.</p>
<p>But it's an excellent question so I'm adding a <code>debug_assert</code> there to check this.</p>
</blockquote>



<a name="300027475"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300027475" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300027475">(Sep 21 2022 at 19:41)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1115999599">PR review</a>.</p>



<a name="300027476"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300027476" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300027476">(Sep 21 2022 at 19:41)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#discussion_r976921177">PR review comment</a>:</p>
<blockquote>
<p>What if you went from</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">block1</span>:
<span class="nc">jump</span><span class="w"> </span><span class="n">block2</span><span class="w"></span>

<span class="n">block2</span>:
<span class="nc">jump</span><span class="w"> </span><span class="n">block1</span><span class="w"></span>
</code></pre></div>
<p>which has a predecessor cycle to</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">block0</span>:
<span class="nc">jump</span><span class="w"> </span><span class="n">block1</span><span class="w"></span>

<span class="n">block1</span>:
<span class="nc">jump</span><span class="w"> </span><span class="n">block2</span><span class="w"></span>

<span class="n">block2</span>:
<span class="nc">jump</span><span class="w"> </span><span class="n">block1</span><span class="w"></span>
</code></pre></div>
<p>which doesn't?</p>
</blockquote>



<a name="300028999"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300028999" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300028999">(Sep 21 2022 at 19:51)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1116011836">PR review</a>.</p>



<a name="300029001"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300029001" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300029001">(Sep 21 2022 at 19:51)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#discussion_r976929586">PR review comment</a>:</p>
<blockquote>
<p>In that example, <code>block1</code> had one predecessor (<code>block2</code>), and now we're adding a second (<code>pred</code> is <code>block0</code>). This <code>match</code> is on the number of predecessors excluding <code>pred</code>, so we'd be in the one-predecessor case where <code>pred</code> gets re-assigned to point to <code>block2</code>, not this early-return case.</p>
</blockquote>



<a name="300030953"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300030953" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300030953">(Sep 21 2022 at 20:04)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1116025796">PR review</a>.</p>



<a name="300030954"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300030954" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300030954">(Sep 21 2022 at 20:04)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#discussion_r976939171">PR review comment</a>:</p>
<blockquote>
<p>I see.</p>
</blockquote>



<a name="300040085"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300040085" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300040085">(Sep 21 2022 at 21:10)</a>:</h4>
<p>jameysharp updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4939">PR #4939</a> from <code>no-quadratic</code> to <code>main</code>.</p>



<a name="300041490"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300041490" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300041490">(Sep 21 2022 at 21:22)</a>:</h4>
<p><strong>jameysharp</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/4939">PR #4939</a> as ready for review.</p>



<a name="300054761"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300054761" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300054761">(Sep 21 2022 at 23:31)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1116195187">PR review</a>.</p>



<a name="300054762"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300054762" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300054762">(Sep 21 2022 at 23:31)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1116195187">PR review</a>.</p>



<a name="300054763"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300054763" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300054763">(Sep 21 2022 at 23:31)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#discussion_r977062112">PR review comment</a>:</p>
<blockquote>
<p>Can we make <code>add</code> a small helper enum type, like <code>enum AddRemove { Add, Remove }</code> ? That would make the meaning of the bool much clearer.</p>
</blockquote>



<a name="300250595"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300250595" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300250595">(Sep 22 2022 at 21:45)</a>:</h4>
<p>jameysharp updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4939">PR #4939</a> from <code>no-quadratic</code> to <code>main</code>.</p>



<a name="300257269"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300257269" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300257269">(Sep 22 2022 at 22:17)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1117742848">PR review</a>.</p>



<a name="300257437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300257437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300257437">(Sep 22 2022 at 22:19)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1117743839">PR review</a>.</p>



<a name="300257438"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300257438" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300257438">(Sep 22 2022 at 22:19)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#discussion_r978134137">PR review comment</a>:</p>
<blockquote>
<p>a tiny thing but if you add <code>#[derive(PartialEq, Eq)]</code> (or maybe just <code>PartialEq</code>? I'm never clear on what needs what) to the enum, then this can be <code>action == Action::Add</code>, which I personally like a bit more for zero-arg enums (C-style enums). Totally up to you though.</p>
</blockquote>



<a name="300258020"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300258020" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300258020">(Sep 22 2022 at 22:24)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#pullrequestreview-1117746963">PR review</a>.</p>



<a name="300258021"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300258021" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300258021">(Sep 22 2022 at 22:24)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4939#discussion_r978136474">PR review comment</a>:</p>
<blockquote>
<p>Oh, yeah, that is definitely nicer. Thanks for the suggestion!</p>
<p>I think <code>PartialEq</code> is technically enough but since the derived implementation is actually total, I think it's confusing to leave off <code>Eq</code>, so I'm going with both.</p>
</blockquote>



<a name="300400799"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300400799" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300400799">(Sep 23 2022 at 16:06)</a>:</h4>
<p>jameysharp updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4939">PR #4939</a> from <code>no-quadratic</code> to <code>main</code>.</p>



<a name="300401173"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300401173" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300401173">(Sep 23 2022 at 16:08)</a>:</h4>
<p>jameysharp has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/4939">PR #4939</a>.</p>



<a name="300408129"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234939%20Avoid%20quadratic%20behavior%20in%20%60can_opti.../near/300408129" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234939.20Avoid.20quadratic.20behavior.20in.20.60can_opti.2E.2E.2E.html#300408129">(Sep 23 2022 at 16:41)</a>:</h4>
<p>jameysharp merged <a href="https://github.com/bytecodealliance/wasmtime/pull/4939">PR #4939</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>