<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6221 How to compile wasmtime to generat... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236221.20How.20to.20compile.20wasmtime.20to.20generat.2E.2E.2E.html">wasmtime / issue #6221 How to compile wasmtime to generat...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="350334109"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236221%20How%20to%20compile%20wasmtime%20to%20generat.../near/350334109" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236221.20How.20to.20compile.20wasmtime.20to.20generat.2E.2E.2E.html#350334109">(Apr 16 2023 at 15:45)</a>:</h4>
<p>knowonething opened <a href="https://github.com/bytecodealliance/wasmtime/issues/6221">issue #6221</a>:</p>
<blockquote>
<p>I'm interested in the mechanism of wasmtime, so i want to get the llvm bitcode file corresponding to the wasmtime executable file, which contains all the needed functions (except glibc functions, just like in executable file). For C/C++ projects, I can utilize wllvm to do this. However, wasmtime is written in rust. I have tried to add some parameters, such as <code>--emit=llvm-bc</code>, and then use llvm-link to merge the bitcode files in the <code>target/release/deps/</code>directory, but the functions in external crates are not included in the merged bitcode file, for example, functions in capstone or zstd_sys. When I use lli to execute the bitcode file, it will prompt that many symbols cannot be found. So I would like to ask if there is a way to get this all-in-one bitcode file?</p>
</blockquote>



<a name="350365600"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236221%20How%20to%20compile%20wasmtime%20to%20generat.../near/350365600" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236221.20How.20to.20compile.20wasmtime.20to.20generat.2E.2E.2E.html#350365600">(Apr 16 2023 at 21:13)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/6221#issuecomment-1510489395">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6221">issue #6221</a>:</p>
<blockquote>
<p>This was cross posted to <a href="https://rust-lang.zulipchat.com/#narrow/stream/122651-general/topic/Generate.20all-in-one.20llvm.20bitcode.20file.20for.20projects">https://rust-lang.zulipchat.com/#narrow/stream/122651-general/topic/Generate.20all-in-one.20llvm.20bitcode.20file.20for.20projects</a></p>
</blockquote>



<a name="350378172"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236221%20How%20to%20compile%20wasmtime%20to%20generat.../near/350378172" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236221.20How.20to.20compile.20wasmtime.20to.20generat.2E.2E.2E.html#350378172">(Apr 16 2023 at 23:14)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/6221#issuecomment-1510514834">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6221">issue #6221</a>:</p>
<blockquote>
<p>@knowonething it might be useful to add more context for what you're asking, because there may be a different way to answer your underlying question(s) without generating a bitcode file for all of Wasmtime. In particular, are you trying to do some sort of analysis or transform on the codebase? Interest in the "mechanism of wasmtime" is fairly vague; I could also imagine that meaning just interested in how the engine works, in which case, the source code is the best material to study. I imagine you have some more particular idea in mind though, or else you wouldn't be asking this!</p>
</blockquote>



<a name="351013000"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236221%20How%20to%20compile%20wasmtime%20to%20generat.../near/351013000" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236221.20How.20to.20compile.20wasmtime.20to.20generat.2E.2E.2E.html#351013000">(Apr 19 2023 at 11:13)</a>:</h4>
<p>knowonething <a href="https://github.com/bytecodealliance/wasmtime/issues/6221#issuecomment-1514552650">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6221">issue #6221</a>:</p>
<blockquote>
<p>@cfallin <br>
I want to use llvm IR to do some simple analysis, such as function call relationship. It is very convenient to use llvm IR to do this kind of thing. But I have been unable to find how to get the complete llvm IR in the rust documentation, for example, the functions in the dependent external crate are missing. Fortunately, <a href="https://rust-lang.zulipchat.com/#narrow/stream/122651-general/topic/Generate.20all-in-one.20llvm.20bitcode.20file.20for.20projects">in this page</a>, I got some useful advice, and I think I can continue my work. Also, thanks for your suggestion.  : )</p>
</blockquote>



<a name="351013002"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236221%20How%20to%20compile%20wasmtime%20to%20generat.../near/351013002" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236221.20How.20to.20compile.20wasmtime.20to.20generat.2E.2E.2E.html#351013002">(Apr 19 2023 at 11:13)</a>:</h4>
<p>knowonething closed <a href="https://github.com/bytecodealliance/wasmtime/issues/6221">issue #6221</a>:</p>
<blockquote>
<p>I'm interested in the mechanism of wasmtime, so i want to get the llvm bitcode file corresponding to the wasmtime executable file, which contains all the needed functions (except glibc functions, just like in executable file). For C/C++ projects, I can utilize wllvm to do this. However, wasmtime is written in rust. I have tried to add some parameters, such as <code>--emit=llvm-bc</code>, and then use llvm-link to merge the bitcode files in the <code>target/release/deps/</code>directory, but the functions in external crates are not included in the merged bitcode file, for example, functions in capstone or zstd_sys. When I use lli to execute the bitcode file, it will prompt that many symbols cannot be found. So I would like to ask if there is a way to get this all-in-one bitcode file?</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>