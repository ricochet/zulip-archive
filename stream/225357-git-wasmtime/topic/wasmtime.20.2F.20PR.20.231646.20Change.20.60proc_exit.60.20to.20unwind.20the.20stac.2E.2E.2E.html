<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1646 Change `proc_exit` to unwind the stac... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html">wasmtime / PR #1646 Change `proc_exit` to unwind the stac...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="196020398"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196020398" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196020398">(May 01 2020 at 23:19)</a>:</h4>
<p>sunfishcode opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1646" title="https://github.com/bytecodealliance/wasmtime/pull/1646">PR #1646</a> from <code>sunfishcode/exit-unwind</code> to <code>master</code>:</p>
<blockquote>
<p>This allows programs which call <code>proc_exit</code> to coexist with other programs in the same host process. This also implements the semantics in <a href="https://github.com/WebAssembly/WASI/pull/235" title="https://github.com/WebAssembly/WASI/pull/235">https://github.com/WebAssembly/WASI/pull/235</a>.</p>
<p>Fixes #783.<br>
Fixes #993.</p>
</blockquote>



<a name="196022297"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196022297" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196022297">(May 01 2020 at 23:50)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1646" title="https://github.com/bytecodealliance/wasmtime/pull/1646">PR #1646</a> from <code>sunfishcode/exit-unwind</code> to <code>master</code>:</p>
<blockquote>
<p>This allows programs which call <code>proc_exit</code> to coexist with other programs in the same host process. This also implements the semantics in <a href="https://github.com/WebAssembly/WASI/pull/235" title="https://github.com/WebAssembly/WASI/pull/235">https://github.com/WebAssembly/WASI/pull/235</a>.</p>
<p>Fixes #783.<br>
Fixes #993.</p>
</blockquote>



<a name="196022506"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196022506" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196022506">(May 01 2020 at 23:54)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-404451358" title="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-404451358">PR Review</a>.</p>



<a name="196022507"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196022507" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196022507">(May 01 2020 at 23:54)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-404451358" title="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-404451358">PR Review</a>.</p>



<a name="196022508"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196022508" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196022508">(May 01 2020 at 23:54)</a>:</h4>
<p>pchickey created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r418782965" title="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r418782965">PR Review Comment</a>:</p>
<blockquote>
<p>This would break Lucet, where we deal with <code>proc_exit</code> in a totally different manner. We install a panic handler at the wasm-&gt;host boundary that terminates the instance, and then just <code>panic!</code> in our proc_exit trait method.</p>
<p>If that doesn't work for wasmtime, can we figure out a way to deal with <code>noreturn</code> functions in wiggle that works for both runtimes?</p>
</blockquote>



<a name="196022732"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196022732" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196022732">(May 01 2020 at 23:59)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-404452289" title="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-404452289">PR Review</a>.</p>



<a name="196022733"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196022733" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196022733">(May 01 2020 at 23:59)</a>:</h4>
<p>pchickey created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r418783927" title="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r418783927">PR Review Comment</a>:</p>
<blockquote>
<p>Even though we're not exposing the <code>wig</code> generated snapshot 0 code to users over in the lucet embedding, this would make us take a dep on <code>wasmtime</code> in <code>lucet_runtime</code>, which would not be good.</p>
</blockquote>



<a name="196236183"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196236183" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196236183">(May 04 2020 at 20:32)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-405321163" title="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-405321163">PR Review</a>.</p>



<a name="196236184"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196236184" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196236184">(May 04 2020 at 20:32)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r419706993" title="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r419706993">PR Review Comment</a>:</p>
<blockquote>
<p>I'm curious if we can find a bit of a cleaner API to export this?</p>
<p>It looks like host functions have been updated to return <code>Result&lt;T&gt;</code> rather than <code>Result&lt;T, Trap&gt;</code>, which means that any arbitrary error type can be returned. Could we perhaps special case when the error is <code>Exit</code> and propagate that through, removing the need for an extra constructor here?</p>
</blockquote>



<a name="196236185"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196236185" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196236185">(May 04 2020 at 20:32)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-405321163" title="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-405321163">PR Review</a>.</p>



<a name="196236186"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196236186" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196236186">(May 04 2020 at 20:32)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r419708038" title="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r419708038">PR Review Comment</a>:</p>
<blockquote>
<p>This feels like it's somewhat dangerous here to me, should this be a panic or should <code>status</code> already have the type <code>NonZeroI32</code>?</p>
</blockquote>



<a name="196236187"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196236187" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196236187">(May 04 2020 at 20:32)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r419708401" title="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r419708401">PR Review Comment</a>:</p>
<blockquote>
<p>Given that we only really have "trusted" code calling this, could this be a panic or something more general? This seems a bit low-level to be dealing with WASI-specific codes and things.</p>
</blockquote>



<a name="196238399"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196238399" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196238399">(May 04 2020 at 20:50)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-405336779" title="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-405336779">PR Review</a>.</p>



<a name="196238401"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196238401" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196238401">(May 04 2020 at 20:50)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r419719776" title="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r419719776">PR Review Comment</a>:</p>
<blockquote>
<p>I considered using panics here, but didn't because of the possibility of users embedding Wasmtime in programs built with <code>panic = "abort"</code>.</p>
<p>My main idea is that <code>proc_exit</code> doesn't access memory, take any strings, use any handles, etc., so it doesn't need any of the wig machinery. It can just be a plain <code>extern "C"</code> function somewhere, and different runtimes can still do different things in the implementation -- panic as Lucet does, or trigger a trap-like unwind as this PR does. And that way, it can trap without having to worry about unwinding through wig's Rust code.</p>
</blockquote>



<a name="196238490"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196238490" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196238490">(May 04 2020 at 20:51)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-405337319" title="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-405337319">PR Review</a>.</p>



<a name="196238493"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196238493" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196238493">(May 04 2020 at 20:51)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r419720257" title="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r419720257">PR Review Comment</a>:</p>
<blockquote>
<p>This code already depends on <code>wasmtime::Func::wrap</code>; how does that work in Lucet?</p>
</blockquote>



<a name="196377580"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196377580" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196377580">(May 05 2020 at 22:40)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-406204666" title="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-406204666">PR Review</a>.</p>



<a name="196377582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196377582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196377582">(May 05 2020 at 22:40)</a>:</h4>
<p>pchickey created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r420449189" title="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r420449189">PR Review Comment</a>:</p>
<blockquote>
<p>I missed that in my first look, any dep inside <code>wasi-common</code> on <code>wasmtime</code> (or anything besides wig/wiggle) would be a showstopper for integration with Lucet. (I'm on vacation this week and will not be around much, just popped in from a lack of discipline)</p>
</blockquote>



<a name="196728742"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196728742" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196728742">(May 07 2020 at 05:34)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-407159739" title="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-407159739">PR Review</a>.</p>



<a name="196728743"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196728743" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196728743">(May 07 2020 at 05:34)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r421249253" title="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r421249253">PR Review Comment</a>:</p>
<blockquote>
<p>@kubkon <code>define_struct</code> has the comment "This is a single-use macro intended to be used in the <code>wasmtime-wasi</code> crate.". Do you know if that's intended to be the case for <code>define_struct_for_wiggle</code>? <code>define_struct_for_wiggle</code> currently has Wasmtime-specific code in it, so if it's meant to be usable outside of Wasmtime, we'll need to figure out how to factor that out.</p>
</blockquote>



<a name="196729492"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196729492" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196729492">(May 07 2020 at 05:53)</a>:</h4>
<p>kubkon submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-407166406" title="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-407166406">PR Review</a>.</p>



<a name="196729493"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/196729493" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#196729493">(May 07 2020 at 05:53)</a>:</h4>
<p>kubkon created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r421255145" title="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r421255145">PR Review Comment</a>:</p>
<blockquote>
<p>I’m pretty sure <code>wig</code> is fully internal to <code>Wasmtime</code>, and so is <code>define_struct_for_wiggle</code>. As far as I remember, <code>lucet</code> had their own set of magical macros, but @pchickey can correct me here if I’m wrong :-)</p>
</blockquote>



<a name="197283907"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197283907" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197283907">(May 12 2020 at 14:28)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1646">PR #1646</a> from <code>sunfishcode/exit-unwind</code> to <code>master</code>:</p>
<blockquote>
<p>This allows programs which call <code>proc_exit</code> to coexist with other programs in the same host process. This also implements the semantics in <a href="https://github.com/WebAssembly/WASI/pull/235">https://github.com/WebAssembly/WASI/pull/235</a>.</p>
<p>Fixes #783.<br>
Fixes #993.</p>
</blockquote>



<a name="197316031"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197316031" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197316031">(May 12 2020 at 18:12)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-410297345">PR Review</a>.</p>



<a name="197316032"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197316032" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197316032">(May 12 2020 at 18:12)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-410297345">PR Review</a>.</p>



<a name="197316033"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197316033" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197316033">(May 12 2020 at 18:12)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r423933618">PR Review Comment</a>:</p>
<blockquote>
<p>Should this perhaps just be deleted?</p>
</blockquote>



<a name="197316034"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197316034" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197316034">(May 12 2020 at 18:12)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r423935108">PR Review Comment</a>:</p>
<blockquote>
<p>This seems a bit odd to me, why not expose exiting with all sorts of error codes on Windows? </p>
</blockquote>



<a name="197316035"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197316035" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197316035">(May 12 2020 at 18:12)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r423934137">PR Review Comment</a>:</p>
<blockquote>
<p>Exposing an <code>enum</code> often makes pretty hard guarantees about representations which are tough to change. Could we  perhaps retain <code>fn message()</code> with a canned string for exit statuses, and then add an extra accessor returning <code>Option&lt;i32&gt;</code> for reading the exit code?</p>
</blockquote>



<a name="197316036"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197316036" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197316036">(May 12 2020 at 18:12)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r423935262">PR Review Comment</a>:</p>
<blockquote>
<p>(or put another way I don't fully understand the comment as to why Windows is special here)</p>
</blockquote>



<a name="197320943"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197320943" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197320943">(May 12 2020 at 18:50)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-410328525">PR Review</a>.</p>



<a name="197320945"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197320945" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197320945">(May 12 2020 at 18:50)</a>:</h4>
<p>pchickey created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r423958339">PR Review Comment</a>:</p>
<blockquote>
<p>There's no dep on this code in Lucet, so if Wasmtime doesn't intend to use it, lets delete it.</p>
</blockquote>



<a name="197321326"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197321326" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197321326">(May 12 2020 at 18:53)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-410330589">PR Review</a>.</p>



<a name="197321327"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197321327" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197321327">(May 12 2020 at 18:53)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-410330589">PR Review</a>.</p>



<a name="197321328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197321328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197321328">(May 12 2020 at 18:53)</a>:</h4>
<p>pchickey created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r423960044">PR Review Comment</a>:</p>
<blockquote>
<p>If both wasmtime and lucet override this implementation, maybe we could instead replace it with <code>unimplemented!("runtimes are expected to override this implementation")</code>?</p>
</blockquote>



<a name="197328509"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197328509" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197328509">(May 12 2020 at 19:46)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-410368459">PR Review</a>.</p>



<a name="197328510"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197328510" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197328510">(May 12 2020 at 19:46)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r423990267">PR Review Comment</a>:</p>
<blockquote>
<p>I don't have a strong sense of what Windows wants here; I just didn't want to overload exit status 3 as meaning both "program trapped" and "program explicitly exited with status 3".</p>
<p>Am I reading too much into the docs by assuming that using 3 for an abort is a meaningful convention?</p>
</blockquote>



<a name="197329287"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197329287" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197329287">(May 12 2020 at 19:52)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1646">PR #1646</a> from <code>sunfishcode/exit-unwind</code> to <code>master</code>:</p>
<blockquote>
<p>This allows programs which call <code>proc_exit</code> to coexist with other programs in the same host process. This also implements the semantics in <a href="https://github.com/WebAssembly/WASI/pull/235">https://github.com/WebAssembly/WASI/pull/235</a>.</p>
<p>Fixes #783.<br>
Fixes #993.</p>
</blockquote>



<a name="197329496"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197329496" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197329496">(May 12 2020 at 19:54)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-410374248">PR Review</a>.</p>



<a name="197329497"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197329497" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197329497">(May 12 2020 at 19:54)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r423994847">PR Review Comment</a>:</p>
<blockquote>
<p>Done.</p>
</blockquote>



<a name="197329511"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197329511" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197329511">(May 12 2020 at 19:54)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-410374391">PR Review</a>.</p>



<a name="197329513"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197329513" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197329513">(May 12 2020 at 19:54)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r423994975">PR Review Comment</a>:</p>
<blockquote>
<p>Done</p>
</blockquote>



<a name="197329537"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197329537" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197329537">(May 12 2020 at 19:55)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-410374507">PR Review</a>.</p>



<a name="197329538"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197329538" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197329538">(May 12 2020 at 19:55)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#discussion_r423995059">PR Review Comment</a>:</p>
<blockquote>
<p>Done</p>
</blockquote>



<a name="197341673"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197341673" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197341673">(May 12 2020 at 21:24)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1646#pullrequestreview-410433205">PR Review</a>.</p>



<a name="197341913"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197341913" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197341913">(May 12 2020 at 21:26)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1646">PR #1646</a> from <code>sunfishcode/exit-unwind</code> to <code>master</code>:</p>
<blockquote>
<p>This allows programs which call <code>proc_exit</code> to coexist with other programs in the same host process. This also implements the semantics in <a href="https://github.com/WebAssembly/WASI/pull/235">https://github.com/WebAssembly/WASI/pull/235</a>.</p>
<p>Fixes #783.<br>
Fixes #993.</p>
</blockquote>



<a name="197469013"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197469013" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197469013">(May 13 2020 at 20:06)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1646">PR #1646</a> from <code>sunfishcode/exit-unwind</code> to <code>master</code>:</p>
<blockquote>
<p>This allows programs which call <code>proc_exit</code> to coexist with other programs in the same host process. This also implements the semantics in <a href="https://github.com/WebAssembly/WASI/pull/235">https://github.com/WebAssembly/WASI/pull/235</a>.</p>
<p>Fixes #783.<br>
Fixes #993.</p>
</blockquote>



<a name="197483184"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197483184" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197483184">(May 13 2020 at 22:02)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1646">PR #1646</a> from <code>sunfishcode/exit-unwind</code> to <code>master</code>:</p>
<blockquote>
<p>This allows programs which call <code>proc_exit</code> to coexist with other programs in the same host process. This also implements the semantics in <a href="https://github.com/WebAssembly/WASI/pull/235">https://github.com/WebAssembly/WASI/pull/235</a>.</p>
<p>Fixes #783.<br>
Fixes #993.</p>
</blockquote>



<a name="197487831"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231646%20Change%20%60proc_exit%60%20to%20unwind%20the%20stac.../near/197487831" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231646.20Change.20.60proc_exit.60.20to.20unwind.20the.20stac.2E.2E.2E.html#197487831">(May 13 2020 at 22:59)</a>:</h4>
<p>sunfishcode merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1646">PR #1646</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>