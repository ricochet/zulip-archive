<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8945 Resolve aliases before inserting valu... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238945.20Resolve.20aliases.20before.20inserting.20valu.2E.2E.2E.html">wasmtime / PR #8945 Resolve aliases before inserting valu...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="451028710"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238945%20Resolve%20aliases%20before%20inserting%20valu.../near/451028710" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238945.20Resolve.20aliases.20before.20inserting.20valu.2E.2E.2E.html#451028710">(Jul 12 2024 at 16:58)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/pull/8945">PR #8945</a> from <code>fitzgen:fix-fuzz-bug-found-in-8941</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This fixes a fuzz bug found in the development of <a href="https://github.com/bytecodealliance/wasmtime/pull/8941">https://github.com/bytecodealliance/wasmtime/pull/8941</a></p>
</blockquote>



<a name="451028711"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238945%20Resolve%20aliases%20before%20inserting%20valu.../near/451028711" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238945.20Resolve.20aliases.20before.20inserting.20valu.2E.2E.2E.html#451028711">(Jul 12 2024 at 16:58)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8945">PR #8945</a>.</p>



<a name="451028712"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238945%20Resolve%20aliases%20before%20inserting%20valu.../near/451028712" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238945.20Resolve.20aliases.20before.20inserting.20valu.2E.2E.2E.html#451028712">(Jul 12 2024 at 16:58)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-fuzz-reviewers">wasmtime-fuzz-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8945">PR #8945</a>.</p>



<a name="451028713"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238945%20Resolve%20aliases%20before%20inserting%20valu.../near/451028713" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238945.20Resolve.20aliases.20before.20inserting.20valu.2E.2E.2E.html#451028713">(Jul 12 2024 at 16:58)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/abrown">abrown</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8945">PR #8945</a>.</p>



<a name="451028714"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238945%20Resolve%20aliases%20before%20inserting%20valu.../near/451028714" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238945.20Resolve.20aliases.20before.20inserting.20valu.2E.2E.2E.html#451028714">(Jul 12 2024 at 16:58)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8945">PR #8945</a>.</p>



<a name="451028716"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238945%20Resolve%20aliases%20before%20inserting%20valu.../near/451028716" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238945.20Resolve.20aliases.20before.20inserting.20valu.2E.2E.2E.html#451028716">(Jul 12 2024 at 16:58)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8945">PR #8945</a>.</p>



<a name="451030054"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238945%20Resolve%20aliases%20before%20inserting%20valu.../near/451030054" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238945.20Resolve.20aliases.20before.20inserting.20valu.2E.2E.2E.html#451030054">(Jul 12 2024 at 17:05)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8945#pullrequestreview-2175355154">PR review</a>.</p>



<a name="451030326"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238945%20Resolve%20aliases%20before%20inserting%20valu.../near/451030326" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238945.20Resolve.20aliases.20before.20inserting.20valu.2E.2E.2E.html#451030326">(Jul 12 2024 at 17:06)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/8945#issuecomment-2225982489">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8945">PR #8945</a>:</p>
<blockquote>
<p>Why does the alias resolving need to be done? cranelift-frontend can and does change aliases on the fly. It feels iffy to immediately resolve them inside cranelift-frontend as there is nothing preventing the alias that was resolved to be changed later.</p>
</blockquote>



<a name="451031134"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238945%20Resolve%20aliases%20before%20inserting%20valu.../near/451031134" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238945.20Resolve.20aliases.20before.20inserting.20valu.2E.2E.2E.html#451031134">(Jul 12 2024 at 17:10)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/8945#issuecomment-2225989437">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8945">PR #8945</a>:</p>
<blockquote>
<blockquote>
<p>Why does the alias resolving need to be done?</p>
</blockquote>
<p>Because otherwise we would need to have a reverse-aliases map from a value to all of the values that alias it. This is necessary because when we find a definition, we kill it from the live set, so at that point we only have the non-alias value.</p>
<blockquote>
<p>It feels iffy to immediately resolve them inside cranelift-frontend as there is nothing preventing the alias that was resolved to be changed later.</p>
</blockquote>
<p>Note that the safepoint spilling and its liveness analysis happens as part of finishing a <code>FunctionBuilder</code>, so we don't need to worry about anything changing under our feet here.</p>
</blockquote>



<a name="451034162"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238945%20Resolve%20aliases%20before%20inserting%20valu.../near/451034162" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238945.20Resolve.20aliases.20before.20inserting.20valu.2E.2E.2E.html#451034162">(Jul 12 2024 at 17:24)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8945">PR #8945</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>