<html>
<head><meta charset="utf-8"><title>wasmtime / PR #3855 ISLE: port more ops on x64 to lowerin... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233855.20ISLE.3A.20port.20more.20ops.20on.20x64.20to.20lowerin.2E.2E.2E.html">wasmtime / PR #3855 ISLE: port more ops on x64 to lowerin...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="273307350"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233855%20ISLE%3A%20port%20more%20ops%20on%20x64%20to%20lowerin.../near/273307350" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233855.20ISLE.3A.20port.20more.20ops.20on.20x64.20to.20lowerin.2E.2E.2E.html#273307350">(Feb 26 2022 at 01:26)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/pull/3855">PR #3855</a> from <code>isle-misc-ops</code> to <code>main</code>:</p>
<blockquote>
<p>Depends on / stacked on top of #3848, #3849.</p>
</blockquote>



<a name="273307351"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233855%20ISLE%3A%20port%20more%20ops%20on%20x64%20to%20lowerin.../near/273307351" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233855.20ISLE.3A.20port.20more.20ops.20on.20x64.20to.20lowerin.2E.2E.2E.html#273307351">(Feb 26 2022 at 01:26)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/abrown">abrown</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/3855">PR #3855</a>.</p>



<a name="273527693"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233855%20ISLE%3A%20port%20more%20ops%20on%20x64%20to%20lowerin.../near/273527693" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233855.20ISLE.3A.20port.20more.20ops.20on.20x64.20to.20lowerin.2E.2E.2E.html#273527693">(Feb 28 2022 at 17:50)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3855#pullrequestreview-895409466">PR review</a>.</p>



<a name="273527694"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233855%20ISLE%3A%20port%20more%20ops%20on%20x64%20to%20lowerin.../near/273527694" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233855.20ISLE.3A.20port.20more.20ops.20on.20x64.20to.20lowerin.2E.2E.2E.html#273527694">(Feb 28 2022 at 17:50)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3855#pullrequestreview-895409466">PR review</a>.</p>



<a name="273527695"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233855%20ISLE%3A%20port%20more%20ops%20on%20x64%20to%20lowerin.../near/273527695" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233855.20ISLE.3A.20port.20more.20ops.20on.20x64.20to.20lowerin.2E.2E.2E.html#273527695">(Feb 28 2022 at 17:50)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/3855#discussion_r816117888">PR review comment</a>:</p>
<blockquote>
<p>Existing/curious: Do you know why <code>debugtrap</code> isn't a safe point? Our other traps are safe points.</p>
</blockquote>



<a name="273539407"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233855%20ISLE%3A%20port%20more%20ops%20on%20x64%20to%20lowerin.../near/273539407" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233855.20ISLE.3A.20port.20more.20ops.20on.20x64.20to.20lowerin.2E.2E.2E.html#273539407">(Feb 28 2022 at 19:16)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3855#pullrequestreview-895494997">PR review</a>.</p>



<a name="273539408"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233855%20ISLE%3A%20port%20more%20ops%20on%20x64%20to%20lowerin.../near/273539408" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233855.20ISLE.3A.20port.20more.20ops.20on.20x64.20to.20lowerin.2E.2E.2E.html#273539408">(Feb 28 2022 at 19:16)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/3855#discussion_r816179434">PR review comment</a>:</p>
<blockquote>
<p>I'm actually not sure! For what it's worth, <code>hlt</code> is a bit of an odd choice here as well (it can only execute in kernel mode, and I think generates <code>SIGILL</code> in userspace). I guess the idea is that it's not meant to be a "normal" transfer of control to the runtime paired with the generated code, but rather a place where a debugger could catch a signal or hook in with <code>ptrace</code> or something of the sort, so setting up state for a "normal" runtime invocation to e.g. scan the stack wouldn't be useful. I'm not sure though.</p>
<p>In the absence of more context here I'm inclined to leave the lowering as-is (translated from existing), but we should definitely ask whether this opcode is even necessary, or at least what its precise guarantees should be, when we get to cleaning up the CLIF opcode space...</p>
</blockquote>



<a name="273552515"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233855%20ISLE%3A%20port%20more%20ops%20on%20x64%20to%20lowerin.../near/273552515" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233855.20ISLE.3A.20port.20more.20ops.20on.20x64.20to.20lowerin.2E.2E.2E.html#273552515">(Feb 28 2022 at 20:56)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3855">PR #3855</a> from <code>isle-misc-ops</code> to <code>main</code>.</p>



<a name="273556647"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233855%20ISLE%3A%20port%20more%20ops%20on%20x64%20to%20lowerin.../near/273556647" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233855.20ISLE.3A.20port.20more.20ops.20on.20x64.20to.20lowerin.2E.2E.2E.html#273556647">(Feb 28 2022 at 21:28)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/3855">PR #3855</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>