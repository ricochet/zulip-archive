<html>
<head><meta charset="utf-8"><title>wasmtime / issue #5404 Wasmtime Settings Machine Readable... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235404.20Wasmtime.20Settings.20Machine.20Readable.2E.2E.2E.html">wasmtime / issue #5404 Wasmtime Settings Machine Readable...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="314910473"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235404%20Wasmtime%20Settings%20Machine%20Readable.../near/314910473" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235404.20Wasmtime.20Settings.20Machine.20Readable.2E.2E.2E.html#314910473">(Dec 09 2022 at 14:47)</a>:</h4>
<p>martindevans opened <a href="https://github.com/bytecodealliance/wasmtime/issues/5404">issue #5404</a>:</p>
<blockquote>
<h4>Feature</h4>
<p>currently running <code>wasmtime settings</code> displays a human readable output. I propose adding a switch <code>--machine_readable</code> which changes the output to something more convenient to parse (e.g. JSON).</p>
<h4>Benefit</h4>
<p>If wasmtime is being used by other processes (e.g. our usecase has the Unity editor invoking wasmtime to precompile wasm) a machine readable output would be much more convenient to work with.</p>
<h4>Implementation</h4>
<p>Add this:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="sd">/// Switch output format to machine readable</span>
<span class="cp">#[clap(long)]</span><span class="w"></span>
<span class="n">machine_readable</span>: <span class="kt">bool</span><span class="p">,</span><span class="w"></span>
</code></pre></div>
<p>into the <code>SettingsCommand</code> struct. Modify <code>SettingsCommand.execute</code> to use a different display system if true.</p>
<p>I'm willing to open a PR for this, if it's a feature that would be accepted.</p>
</blockquote>



<a name="314919732"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235404%20Wasmtime%20Settings%20Machine%20Readable.../near/314919732" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235404.20Wasmtime.20Settings.20Machine.20Readable.2E.2E.2E.html#314919732">(Dec 09 2022 at 15:27)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/5404#issuecomment-1344444964">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5404">issue #5404</a>:</p>
<blockquote>
<p>Seems reasonable to me to add! I might recommend a <code>--json</code> argument to explicitly specify the format but otherwise the idea seems fine to add through a PR.</p>
</blockquote>



<a name="314924686"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235404%20Wasmtime%20Settings%20Machine%20Readable.../near/314924686" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235404.20Wasmtime.20Settings.20Machine.20Readable.2E.2E.2E.html#314924686">(Dec 09 2022 at 15:51)</a>:</h4>
<p>martindevans <a href="https://github.com/bytecodealliance/wasmtime/issues/5404#issuecomment-1344469457">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5404">issue #5404</a>:</p>
<blockquote>
<p>Thanks. I'll try to submit a PR for a <code>--json</code> flag this weekend <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
</blockquote>



<a name="314936547"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235404%20Wasmtime%20Settings%20Machine%20Readable.../near/314936547" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235404.20Wasmtime.20Settings.20Machine.20Readable.2E.2E.2E.html#314936547">(Dec 09 2022 at 16:52)</a>:</h4>
<p>martindevans <a href="https://github.com/bytecodealliance/wasmtime/issues/5404#issuecomment-1344532830">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5404">issue #5404</a>:</p>
<blockquote>
<p>Is <code>serde</code> available to use within this crate, or can it be added? I'm not sure what the process is for managing dependencies in wasmtime.</p>
<p>If that's not feasible I can just emit the JSON by hand, it's not a very complicated dataset!</p>
</blockquote>



<a name="314955422"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235404%20Wasmtime%20Settings%20Machine%20Readable.../near/314955422" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235404.20Wasmtime.20Settings.20Machine.20Readable.2E.2E.2E.html#314955422">(Dec 09 2022 at 18:26)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/5404#issuecomment-1344625263">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/5404">issue #5404</a>:</p>
<blockquote>
<p>Yep we've got a lot of usage of serde already, so it can be added.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>