<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2728 Fetch context data from `Caller` i... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232728.20Fetch.20context.20data.20from.20.60Caller.60.20i.2E.2E.2E.html">wasmtime / Issue #2728 Fetch context data from `Caller` i...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="230387609"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232728%20Fetch%20context%20data%20from%20%60Caller%60%20i.../near/230387609" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232728.20Fetch.20context.20data.20from.20.60Caller.60.20i.2E.2E.2E.html#230387609">(Mar 15 2021 at 17:32)</a>:</h4>
<p>davxy opened <a href="https://github.com/bytecodealliance/wasmtime/issues/2728">Issue #2728</a>:</p>
<blockquote>
<p>Hi there, I'm using your Rust implementation.</p>
<p>I'm having hard times trying to pass a structure reference from the host (before entering the wasm) to a host function (called from the wasm).</p>
<p>The idea is to be able to fetch a reference to the data once I'm in the host function callback (actually a solution can be pass the data as a serialized byte array, but that option has been excluded for performance reasons).</p>
<p>Is there a way to attach a reference to my structure to the <code>Caller</code> structure that I receive in the host function?</p>
<p>I think that the issue has already being partially covered by #2491 (using lambdas) . But I was wandering if some other alternative method is available.</p>
<p>Thank you so much for your awesome work</p>
</blockquote>



<a name="230390312"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232728%20Fetch%20context%20data%20from%20%60Caller%60%20i.../near/230390312" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232728.20Fetch.20context.20data.20from.20.60Caller.60.20i.2E.2E.2E.html#230390312">(Mar 15 2021 at 17:50)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/issues/2728#issuecomment-799620314">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2728">Issue #2728</a>:</p>
<blockquote>
<p>The next release of wasmtime will let you configure <code>Store</code>-specific context data, and you can get the <code>Store</code> from a <code>Caller</code>:</p>
<ul>
<li><a href="https://github.com/bytecodealliance/wasmtime/blob/main/crates/wasmtime/src/store.rs#L216-L242">https://github.com/bytecodealliance/wasmtime/blob/main/crates/wasmtime/src/store.rs#L216-L242</a></li>
<li><a href="https://docs.rs/wasmtime/0.24.0/wasmtime/struct.Caller.html#method.store">https://docs.rs/wasmtime/0.24.0/wasmtime/struct.Caller.html#method.store</a></li>
</ul>
</blockquote>



<a name="230464300"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232728%20Fetch%20context%20data%20from%20%60Caller%60%20i.../near/230464300" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232728.20Fetch.20context.20data.20from.20.60Caller.60.20i.2E.2E.2E.html#230464300">(Mar 16 2021 at 06:12)</a>:</h4>
<p>davxy <a href="https://github.com/bytecodealliance/wasmtime/issues/2728#issuecomment-799983074">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2728">Issue #2728</a>:</p>
<blockquote>
<p>Awesome!!!</p>
<p>Just to know how to move with my project (i.e. wait for the release or make a temporary hack). When do you think that the new version will be published on <code>crates.io</code>?<br>
No pressure :-)</p>
<p>Thanks a lot</p>
</blockquote>



<a name="230464930"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232728%20Fetch%20context%20data%20from%20%60Caller%60%20i.../near/230464930" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232728.20Fetch.20context.20data.20from.20.60Caller.60.20i.2E.2E.2E.html#230464930">(Mar 16 2021 at 06:24)</a>:</h4>
<p>davxy edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2728">Issue #2728</a>:</p>
<blockquote>
<p>Hi there, I'm using your Rust implementation.</p>
<p>I'm having hard times trying to pass a structure reference from the host (before entering the wasm) to a host function (called from the wasm).</p>
<p>The idea is to be able to fetch a reference to the data once I'm in the host function callback (actually a solution can be pass the data as a serialized byte array, but that option has been excluded for performance reasons).</p>
<p>Is there a way to attach a reference to my structure to the <code>Caller</code> structure that I receive in the host function?</p>
<p>I think that the issue has already being partially covered by #2491 (using lambdas) . But I was wandering if some other alternative method is available.</p>
<p>Thank you so much for your awesome work</p>
</blockquote>



<a name="230550125"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232728%20Fetch%20context%20data%20from%20%60Caller%60%20i.../near/230550125" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232728.20Fetch.20context.20data.20from.20.60Caller.60.20i.2E.2E.2E.html#230550125">(Mar 16 2021 at 16:54)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/issues/2728#issuecomment-800435508">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2728">Issue #2728</a>:</p>
<blockquote>
<p>I'll double check with the team to see if there's anything we need to finish up first before we can cut a new release.</p>
<p>In the meantime, you can add this to your <code>Cargo.toml</code>:</p>
<p><div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="k">[patch.crates-io]</span>
<span class="n">wasmtime</span> <span class="o">=</span> <span class="p">{</span> <span class="n">git</span> <span class="o">=</span> <span class="s">"https://github.com/bytecodealliance/wasmtime.git"</span><span class="p">,</span> <span class="n">branch</span> <span class="o">=</span> <span class="s">"main"</span> <span class="p">}</span>
<span class="c1"># And do the same for any other wasmtime crates you're using that need to be</span>
<span class="c1"># the same version, eg `wasmtime-wasi`</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="230585730"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232728%20Fetch%20context%20data%20from%20%60Caller%60%20i.../near/230585730" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232728.20Fetch.20context.20data.20from.20.60Caller.60.20i.2E.2E.2E.html#230585730">(Mar 16 2021 at 20:29)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/issues/2728#issuecomment-800582553">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2728">Issue #2728</a>:</p>
<blockquote>
<p>wasmtime 0.25.0 is now published on <a href="http://crates.io">crates.io</a>: <a href="https://crates.io/crates/wasmtime/0.25.0">https://crates.io/crates/wasmtime/0.25.0</a></p>
</blockquote>



<a name="230585731"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232728%20Fetch%20context%20data%20from%20%60Caller%60%20i.../near/230585731" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232728.20Fetch.20context.20data.20from.20.60Caller.60.20i.2E.2E.2E.html#230585731">(Mar 16 2021 at 20:29)</a>:</h4>
<p>fitzgen closed <a href="https://github.com/bytecodealliance/wasmtime/issues/2728">Issue #2728</a>:</p>
<blockquote>
<p>Hi there, I'm using your Rust implementation.</p>
<p>I'm having hard times trying to pass a structure reference from the host (before entering the wasm) to a host function (called from the wasm).</p>
<p>The idea is to be able to fetch a reference to the data once I'm in the host function callback (actually a solution can be pass the data as a serialized byte array, but that option has been excluded for performance reasons).</p>
<p>Is there a way to attach a reference to my structure to the <code>Caller</code> structure that I receive in the host function?</p>
<p>I think that the issue has already being partially covered by #2491 (using lambdas) . But I was wandering if some other alternative method is available.</p>
<p>Thank you so much for your awesome work</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>