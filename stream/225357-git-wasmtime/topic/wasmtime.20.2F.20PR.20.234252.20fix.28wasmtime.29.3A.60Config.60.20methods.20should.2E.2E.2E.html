<html>
<head><meta charset="utf-8"><title>wasmtime / PR #4252 fix(wasmtime):`Config` methods should... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html">wasmtime / PR #4252 fix(wasmtime):`Config` methods should...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="285567976"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285567976" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285567976">(Jun 09 2022 at 17:21)</a>:</h4>
<p>PureWhiteWu opened <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>:</p>
<blockquote>
<p>This commit refactored <code>Config</code> to use a seperate <code>CompilerConfig</code> field instead of operating on <code>CompilerBuilder</code> directly to make all its methods idempotent.<br>
Fixes #4189 </p>
</blockquote>



<a name="285568243"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285568243" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285568243">(Jun 09 2022 at 17:22)</a>:</h4>
<p>PureWhiteWu updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>



<a name="285568693"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285568693" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285568693">(Jun 09 2022 at 17:25)</a>:</h4>
<p>PureWhiteWu updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>



<a name="285569285"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285569285" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285569285">(Jun 09 2022 at 17:29)</a>:</h4>
<p>PureWhiteWu updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>



<a name="285570182"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285570182" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285570182">(Jun 09 2022 at 17:36)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893786230">PR review comment</a>:</p>
<blockquote>
<p>These should be added to the 0.39.0 section I think.</p>
</blockquote>



<a name="285570183"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285570183" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285570183">(Jun 09 2022 at 17:36)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001743472">PR review</a>.</p>



<a name="285570196"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285570196" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285570196">(Jun 09 2022 at 17:36)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893786338">PR review comment</a>:</p>



<a name="285570197"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285570197" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285570197">(Jun 09 2022 at 17:36)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001743643">PR review</a>.</p>



<a name="285570251"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285570251" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285570251">(Jun 09 2022 at 17:37)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893786970">PR review comment</a>:</p>
<blockquote>
<p>This would need to be updated. Also where would the error occur now?</p>
</blockquote>



<a name="285570252"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285570252" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285570252">(Jun 09 2022 at 17:37)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001744805">PR review</a>.</p>



<a name="285573635"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285573635" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285573635">(Jun 09 2022 at 18:04)</a>:</h4>
<p>PureWhiteWu updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>



<a name="285573713"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285573713" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285573713">(Jun 09 2022 at 18:04)</a>:</h4>
<p>PureWhiteWu created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893815631">PR review comment</a>:</p>
<blockquote>
<p>Thanks for your review!<br>
The error occurs at <code>Engine::new</code> now.</p>
</blockquote>



<a name="285573715"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285573715" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285573715">(Jun 09 2022 at 18:04)</a>:</h4>
<p>PureWhiteWu submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001782688">PR review</a>.</p>



<a name="285575109"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285575109" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285575109">(Jun 09 2022 at 18:15)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001778507">PR review</a>.</p>



<a name="285575110"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285575110" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285575110">(Jun 09 2022 at 18:15)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001778507">PR review</a>.</p>



<a name="285575111"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285575111" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285575111">(Jun 09 2022 at 18:15)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893817762">PR review comment</a>:</p>
<blockquote>
<p>In place of the "Errors" section in the old doc comment, we should note here that flags are validated when the engine is built, and so any errors will be deferred, I think. Likewise elsewhere where an "Errors" section is removed.</p>
</blockquote>



<a name="285575113"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285575113" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285575113">(Jun 09 2022 at 18:15)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893813201">PR review comment</a>:</p>
<blockquote>
<p>A slightly more verbose name would make this a bit clearer I think: maybe something like <code>ensure_unset_or_given_setting</code>? Then in the doc-comment we should say what this returns: "Returns true if successfully set or already had the given setting value, or false if the setting was explicitly set to something else previously."</p>
</blockquote>



<a name="285575114"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285575114" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285575114">(Jun 09 2022 at 18:15)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893822896">PR review comment</a>:</p>
<blockquote>
<p>Could we do the same sort of deferred validation for the combination of reference types and bulk memory that we do for compiler options? I'm somewhat uncomfortable with this assert existing, given that we have the right API signatures elsewhere to return the error.</p>
</blockquote>



<a name="285575115"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285575115" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285575115">(Jun 09 2022 at 18:15)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893820435">PR review comment</a>:</p>
<blockquote>
<p>Can we say a bit more here? Something about how some Wasm features require certain compiler features, and they will turn on the relevant compiler features by default, but explicitly disabling some compiler features or setting them in an incompatible way may cause errors. I think we should also note a guarantee/promise that <em>default</em> compiler options (i.e., if the user does not add any specific setting overrides) will always work if the underlying hardware supports what is needed.</p>
</blockquote>



<a name="285575976"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285575976" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285575976">(Jun 09 2022 at 18:23)</a>:</h4>
<p>PureWhiteWu updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>



<a name="285582185"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285582185" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285582185">(Jun 09 2022 at 19:11)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001773304">PR review</a>.</p>



<a name="285582186"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285582186" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285582186">(Jun 09 2022 at 19:11)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001773304">PR review</a>.</p>



<a name="285582187"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285582187" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285582187">(Jun 09 2022 at 19:11)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893808364">PR review comment</a>:</p>
<blockquote>
<p>If you're up for it this explicit <code>Clone for Config</code> can I believe now be entirely deleted in favor of <code>#[derive(Clone)]</code> on the <code>Config</code> type. If you're feeling extra-ambitious as well the <code>CompilerBuilder::clone</code> method can also be removed. Either of these are fine to defer to a future PR though if you'd prefer.</p>
</blockquote>



<a name="285582188"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285582188" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285582188">(Jun 09 2022 at 19:11)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893865997">PR review comment</a>:</p>
<blockquote>
<p>I think it's ok to remove <code>pub(crate)</code> on all these methods and related fields since it should be able to isolate all the usages to just this file.</p>
</blockquote>



<a name="285582189"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285582189" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285582189">(Jun 09 2022 at 19:11)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893860094">PR review comment</a>:</p>
<blockquote>
<p>Agreed about expanding the error documentation a bit here, but I also think it would be best to keep documentation on the original config methods as well. For example <code>Config::cranelift_flag_set</code> could retain some documentation indicating that if an invalid setting is specified that the error will pop out during <code>Engine::new</code> here.</p>
</blockquote>



<a name="285582190"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285582190" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285582190">(Jun 09 2022 at 19:11)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893862119">PR review comment</a>:</p>
<blockquote>
<p>I think that this enable-other-wasm-feature-if-this-is-enabled would be better left to <code>Engine::new</code> as well as otherwise this can cause confusing behavior depending on the order of the method calls.</p>
</blockquote>



<a name="285582191"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285582191" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285582191">(Jun 09 2022 at 19:11)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893860821">PR review comment</a>:</p>
<blockquote>
<p>If you'd like I think that this is now the only usage of the <code>compiler_builder</code> function so it should be fine to inline directly into this function.</p>
</blockquote>



<a name="285586322"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285586322" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285586322">(Jun 09 2022 at 19:46)</a>:</h4>
<p>PureWhiteWu updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>



<a name="285586599"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285586599" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285586599">(Jun 09 2022 at 19:50)</a>:</h4>
<p>PureWhiteWu submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001845565">PR review</a>.</p>



<a name="285586600"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285586600" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285586600">(Jun 09 2022 at 19:50)</a>:</h4>
<p>PureWhiteWu created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893859662">PR review comment</a>:</p>
<blockquote>
<p>Thanks for pointing out! I think <code>ensure_setting_unset_or_given</code> is better, so I used that name.</p>
</blockquote>



<a name="285586601"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285586601" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285586601">(Jun 09 2022 at 19:50)</a>:</h4>
<p>PureWhiteWu created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893862050">PR review comment</a>:</p>
<blockquote>
<p>Added, except for the <code>strategy</code> method, because it will not return error in any situation (previously and now).</p>
</blockquote>



<a name="285586602"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285586602" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285586602">(Jun 09 2022 at 19:50)</a>:</h4>
<p>PureWhiteWu submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001845565">PR review</a>.</p>



<a name="285586603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285586603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285586603">(Jun 09 2022 at 19:50)</a>:</h4>
<p>PureWhiteWu created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893897741">PR review comment</a>:</p>
<blockquote>
<blockquote>
<p>Can we say a bit more here? Something about how some Wasm features require certain compiler features, and they will turn on the relevant compiler features by default, but explicitly disabling some compiler features or setting them in an incompatible way may cause errors.</p>
</blockquote>
<p>Fixed.</p>
<blockquote>
<p>I think we should also note a guarantee/promise that default compiler options (i.e., if the user does not add any specific setting overrides) will always work if the underlying hardware supports what is needed.</p>
</blockquote>
<p>I don't think it necessary to add this note explicitly, because the default options should work is intuition for users.</p>
</blockquote>



<a name="285586604"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285586604" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285586604">(Jun 09 2022 at 19:50)</a>:</h4>
<p>PureWhiteWu created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893890127">PR review comment</a>:</p>
<blockquote>
<p>Fixed.</p>
</blockquote>



<a name="285586910"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285586910" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285586910">(Jun 09 2022 at 19:52)</a>:</h4>
<p>PureWhiteWu updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>



<a name="285587470"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285587470" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285587470">(Jun 09 2022 at 19:57)</a>:</h4>
<p>PureWhiteWu updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>



<a name="285587672"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285587672" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285587672">(Jun 09 2022 at 19:58)</a>:</h4>
<p>PureWhiteWu updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>



<a name="285588367"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285588367" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285588367">(Jun 09 2022 at 20:04)</a>:</h4>
<p>PureWhiteWu updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>



<a name="285663271"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285663271" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285663271">(Jun 10 2022 at 11:38)</a>:</h4>
<p>PureWhiteWu updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>



<a name="285699220"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285699220" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285699220">(Jun 10 2022 at 16:19)</a>:</h4>
<p><strong>PureWhiteWu</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a>.</p>



<a name="285699225"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285699225" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285699225">(Jun 10 2022 at 16:19)</a>:</h4>
<p><strong>PureWhiteWu</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a>.</p>



<a name="285700512"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285700512" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285700512">(Jun 10 2022 at 16:29)</a>:</h4>
<p>PureWhiteWu edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893897741">PR review comment</a>.</p>



<a name="285700531"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285700531" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285700531">(Jun 10 2022 at 16:29)</a>:</h4>
<p>PureWhiteWu edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893897741">PR review comment</a>.</p>



<a name="285930523"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285930523" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285930523">(Jun 13 2022 at 13:54)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1004372941">PR review</a>.</p>



<a name="285930540"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/285930540" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#285930540">(Jun 13 2022 at 13:54)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/4252">PR #4252</a>.</p>



<a name="291217819"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291217819" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291217819">(Jul 28 2022 at 16:28)</a>:</h4>
<p>thibaultcha created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932450821">PR review comment</a>:</p>
<blockquote>
<p>On <a href="https://docs.wasmtime.dev/c-api/config_8h.html#ada735dd95cbee6854fc6bb27dc9591c6">https://docs.wasmtime.dev/c-api/config_8h.html#ada735dd95cbee6854fc6bb27dc9591c6</a> it says:</p>
<blockquote>
<p>If the compilation strategy selected could not be enabled then an error is returned. </p>
</blockquote>
<p>I've been looking everywhere in the docs to try and find what happened to config errors, I don't think it is very clear today without looking into this PR.</p>
</blockquote>



<a name="291217820"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291217820" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291217820">(Jul 28 2022 at 16:28)</a>:</h4>
<p>thibaultcha submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1054423765">PR review</a>.</p>



<a name="291218012"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291218012" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291218012">(Jul 28 2022 at 16:30)</a>:</h4>
<p>thibaultcha edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932450821">PR review comment</a>.</p>



<a name="291218268"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291218268" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291218268">(Jul 28 2022 at 16:32)</a>:</h4>
<p>thibaultcha edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932450821">PR review comment</a>.</p>



<a name="291218352"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291218352" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291218352">(Jul 28 2022 at 16:33)</a>:</h4>
<p>thibaultcha edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932450821">PR review comment</a>.</p>



<a name="291222119"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291222119" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291222119">(Jul 28 2022 at 17:01)</a>:</h4>
<p>PureWhiteWu submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1054464961">PR review</a>.</p>



<a name="291222121"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291222121" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291222121">(Jul 28 2022 at 17:01)</a>:</h4>
<p>PureWhiteWu created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932479952">PR review comment</a>:</p>
<blockquote>
<p>Hi, thanks for your remind.<br>
I changed the doc and the signature of the rust code, but I forgot the doc for c.<br>
I've submitted #4550 to fix this.</p>
</blockquote>



<a name="291223731"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291223731" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291223731">(Jul 28 2022 at 17:13)</a>:</h4>
<p>thibaultcha submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1054482936">PR review</a>.</p>



<a name="291223732"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291223732" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291223732">(Jul 28 2022 at 17:13)</a>:</h4>
<p>thibaultcha created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932490541">PR review comment</a>:</p>
<blockquote>
<p>@PureWhiteWu That's great! Very prompt, thank you!</p>
<p>A question still remains on my end but I am not sure if here's the right place for it, I'll shoot it again though:</p>
<p>Since <code>wasm.h</code>'s <code>wasm_engine_new_with_config</code> does not return any error, where are the engine initialization errors reported when using the C API? <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> </p>
</blockquote>



<a name="291228879"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291228879" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291228879">(Jul 28 2022 at 17:54)</a>:</h4>
<p>PureWhiteWu submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1054529847">PR review</a>.</p>



<a name="291228880"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291228880" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291228880">(Jul 28 2022 at 17:54)</a>:</h4>
<p>PureWhiteWu created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932523833">PR review comment</a>:</p>
<blockquote>
<p>Sorry, I'm not familiar with the c api, @alexcrichton do you know about this?</p>
</blockquote>



<a name="291240640"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291240640" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291240640">(Jul 28 2022 at 19:32)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1054643193">PR review</a>.</p>



<a name="291240641"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234252%20fix%28wasmtime%29%3A%60Config%60%20methods%20should.../near/291240641" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234252.20fix.28wasmtime.29.3A.60Config.60.20methods.20should.2E.2E.2E.html#291240641">(Jul 28 2022 at 19:32)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932600715">PR review comment</a>:</p>
<blockquote>
<p>You can <a href="https://github.com/bytecodealliance/wasmtime/blob/fb7d51033c4d507f412d7f5ec580cb325d5a4e0a/crates/c-api/src/engine.rs#L29-L35">take a look at the implementation</a> and right now it looks like no error handling happens and if something otherwise would result in an error it would cause the process to abort.</p>
<p>This is probably something that would be good to fix, returning a null pointer there and perhaps adding a Wasmtime-specific API for the same operation but one that returns an error message.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>