<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9990 Winch: implement rmw add ops · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html">wasmtime / PR #9990 Winch: implement rmw add ops</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="493236336"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493236336" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493236336">(Jan 13 2025 at 00:34)</a>:</h4>
<p>MarinPostma opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a> from <code>MarinPostma:winch-x64-rmw-add</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>impl read-modify-write add for winch:</p>
<ul>
<li><code>i32.atomic.rmw8.add_u</code></li>
<li><code>i32.atomic.rmw16.add_u</code></li>
<li><code>i32.atomic.rmw.add</code></li>
<li><code>i64.atomic.rmw8.add_u</code></li>
<li><code>i64.atomic.rmw16.add_u</code></li>
<li><code>i64.atomic.rmw32.add_u</code></li>
<li><code>i64.atomic.rmw.add</code></li>
</ul>
<p><a href="https://github.com/bytecodealliance/wasmtime/issues/9734">https://github.com/bytecodealliance/wasmtime/issues/9734</a></p>
</blockquote>



<a name="493236338"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493236338" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493236338">(Jan 13 2025 at 00:34)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493236339"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493236339" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493236339">(Jan 13 2025 at 00:34)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493236340"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493236340" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493236340">(Jan 13 2025 at 00:34)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493236341"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493236341" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493236341">(Jan 13 2025 at 00:34)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/dicej">dicej</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493236489"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493236489" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493236489">(Jan 13 2025 at 00:37)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493243449"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493243449" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493243449">(Jan 13 2025 at 02:12)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#issuecomment-2586055116">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @saulecabrera</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "winch"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>saulecabrera: winch</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="493362923"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493362923" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493362923">(Jan 13 2025 at 14:16)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#issuecomment-2587222545">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>:</p>
<blockquote>
<p>I can take this review. </p>
</blockquote>



<a name="493362946"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493362946" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493362946">(Jan 13 2025 at 14:16)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/saulecabrera">saulecabrera</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493564971"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493564971" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493564971">(Jan 14 2025 at 11:33)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493565992"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493565992" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493565992">(Jan 14 2025 at 11:40)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493566653"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493566653" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493566653">(Jan 14 2025 at 11:44)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493616550"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493616550" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493616550">(Jan 14 2025 at 15:56)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#pullrequestreview-2550141354">PR review</a>.</p>



<a name="493616551"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493616551" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493616551">(Jan 14 2025 at 15:56)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#discussion_r1915076354">PR review comment</a>:</p>
<blockquote>
<p>The extension kinds used in this case are signed, however the <a href="https://github.com/WebAssembly/threads/blob/main/proposals/threads/Overview.md#read-modify-write">spec states zero extension instead</a>. I believe we need to augment <code>ExtendKind</code> to account for the missing unsigned extensions. </p>
</blockquote>



<a name="493616552"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493616552" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493616552">(Jan 14 2025 at 15:56)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#discussion_r1915105480">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>    pub(crate) fn emit_atomic_rmw(
</code></pre></div><br>
</p>
</blockquote>



<a name="493619541"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493619541" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493619541">(Jan 14 2025 at 16:10)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#pullrequestreview-2550242541">PR review</a>.</p>



<a name="493619542"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493619542" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493619542">(Jan 14 2025 at 16:10)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#discussion_r1915136305">PR review comment</a>:</p>
<blockquote>
<p>that's because <a href="https://github.com/bytecodealliance/wasmtime/blob/main/winch/codegen/src/isa/x64/asm.rs#L395-L401">https://github.com/bytecodealliance/wasmtime/blob/main/winch/codegen/src/isa/x64/asm.rs#L395-L401</a> takes <code>ExtendKind</code>, even though <code>movzx</code> zero-extend. Can I do that in a followup, if thats ok? i'll add variants for unsigned conversions, and update any affected code.</p>
</blockquote>



<a name="493619696"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493619696" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493619696">(Jan 14 2025 at 16:11)</a>:</h4>
<p>MarinPostma edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#discussion_r1915136305">PR review comment</a>.</p>



<a name="493639511"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493639511" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493639511">(Jan 14 2025 at 17:58)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493639567"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493639567" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493639567">(Jan 14 2025 at 17:59)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493668846"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493668846" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493668846">(Jan 14 2025 at 20:56)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#pullrequestreview-2551000574">PR review</a>.</p>



<a name="493668847"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493668847" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493668847">(Jan 14 2025 at 20:56)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#discussion_r1915588884">PR review comment</a>:</p>
<blockquote>
<p>I've extended <code>ExtendKind</code> here <a href="https://github.com/bytecodealliance/wasmtime/pull/10012">https://github.com/bytecodealliance/wasmtime/pull/10012</a> to include unsigned extends.</p>
</blockquote>



<a name="493910286"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493910286" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493910286">(Jan 15 2025 at 12:04)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#pullrequestreview-2552407086">PR review</a>.</p>



<a name="493910288"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493910288" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493910288">(Jan 15 2025 at 12:04)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#discussion_r1916467435">PR review comment</a>:</p>
<blockquote>
<p>Just a note that this will require a rebase once <a href="https://github.com/bytecodealliance/wasmtime/pull/9987">https://github.com/bytecodealliance/wasmtime/pull/9987</a> lands and use <code>emit_compute_heap_address_align_checked</code></p>
</blockquote>



<a name="493922556"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493922556" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493922556">(Jan 15 2025 at 13:06)</a>:</h4>
<p>MarinPostma <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#issuecomment-2592811766">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>:</p>
<blockquote>
<p>@saulecabrera I'll do all the rebases once #9987 is in</p>
</blockquote>



<a name="493941320"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493941320" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493941320">(Jan 15 2025 at 14:35)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493943096"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493943096" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493943096">(Jan 15 2025 at 14:42)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493943128"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493943128" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493943128">(Jan 15 2025 at 14:42)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/saulecabrera">saulecabrera</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493943553"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493943553" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493943553">(Jan 15 2025 at 14:44)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493943563"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493943563" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493943563">(Jan 15 2025 at 14:44)</a>:</h4>
<p>MarinPostma <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#issuecomment-2593051798">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>:</p>
<blockquote>
<p>@saulecabrera rebase is done. I have also added a check to ensure that only valid extends are passed to <code>emit_atomic_rmw</code></p>
</blockquote>



<a name="493947580"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493947580" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493947580">(Jan 15 2025 at 15:01)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#pullrequestreview-2553009533">PR review</a>.</p>



<a name="493947582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493947582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493947582">(Jan 15 2025 at 15:01)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#discussion_r1916804597">PR review comment</a>:</p>
<blockquote>
<p>I believe the check here needs updating? The code is emitting a zero extend but matching against a signed extend? Also I believe that to: (i) reduce duplication and (ii) avoid affecting compile time performance,  we can entirely remove this check, since Cranelift's emission layer already takes care of it <a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/codegen/src/isa/x64/inst/emit.rs#L973">https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/codegen/src/isa/x64/inst/emit.rs#L973</a>.</p>
</blockquote>



<a name="493948464"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493948464" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493948464">(Jan 15 2025 at 15:04)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#pullrequestreview-2553032516">PR review</a>.</p>



<a name="493948467"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493948467" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493948467">(Jan 15 2025 at 15:04)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#discussion_r1916817701">PR review comment</a>:</p>
<blockquote>
<p>good catch i'll remove it</p>
</blockquote>



<a name="493948873"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493948873" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493948873">(Jan 15 2025 at 15:06)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493948975"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493948975" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493948975">(Jan 15 2025 at 15:07)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/saulecabrera">saulecabrera</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493952603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493952603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493952603">(Jan 15 2025 at 15:23)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<a name="493956449"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493956449" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493956449">(Jan 15 2025 at 15:41)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9990#pullrequestreview-2553134914">PR review</a>.</p>



<a name="493960916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239990%20Winch%3A%20implement%20rmw%20add%20ops/near/493960916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239990.20Winch.3A.20implement.20rmw.20add.20ops.html#493960916">(Jan 15 2025 at 16:01)</a>:</h4>
<p>saulecabrera merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9990">PR #9990</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>