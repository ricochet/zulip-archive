<html>
<head><meta charset="utf-8"><title>wasmtime / PR #3304 Implement `vany_true` and `vall_true`... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233304.20Implement.20.60vany_true.60.20and.20.60vall_true.60.2E.2E.2E.html">wasmtime / PR #3304 Implement `vany_true` and `vall_true`...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="252151537"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233304%20Implement%20%60vany_true%60%20and%20%60vall_true%60.../near/252151537" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233304.20Implement.20.60vany_true.60.20and.20.60vall_true.60.2E.2E.2E.html#252151537">(Sep 06 2021 at 09:44)</a>:</h4>
<p>afonso360 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/3304">PR #3304</a> from <code>interp-vanyall</code> to <code>main</code>:</p>
<blockquote>
<p>This PR also changes the interfaces of <code>extractlane</code> and <code>vectorizelanes</code>. They now operate on <code>Value</code> instead of <code>i128</code></p>
<p>This is a more ergonomic interface since pretty much every operation we do between these two functions is implemented on Value. With this interface we can also now start vectorizing bool values with the same interface.</p>
<p>I suspect that this change also makes <code>insert_lane</code> and <code>extract_lane</code> work on bool vecs, but I haven't tested it and we don't have existing tests for it.</p>
<p>This has an unfortunate downside that we had to add some <code>clone</code>'s in some places. <code>i128</code> is <code>Copy</code> but <code>Value</code> is not, so we have to explicitly annotate these moves.</p>
</blockquote>



<a name="252155326"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233304%20Implement%20%60vany_true%60%20and%20%60vall_true%60.../near/252155326" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233304.20Implement.20.60vany_true.60.20and.20.60vall_true.60.2E.2E.2E.html#252155326">(Sep 06 2021 at 10:20)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3304">PR #3304</a> from <code>interp-vanyall</code> to <code>main</code>.</p>



<a name="252161825"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233304%20Implement%20%60vany_true%60%20and%20%60vall_true%60.../near/252161825" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233304.20Implement.20.60vany_true.60.20and.20.60vall_true.60.2E.2E.2E.html#252161825">(Sep 06 2021 at 11:27)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3304">PR #3304</a> from <code>interp-vanyall</code> to <code>main</code>.</p>



<a name="252173872"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233304%20Implement%20%60vany_true%60%20and%20%60vall_true%60.../near/252173872" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233304.20Implement.20.60vany_true.60.20and.20.60vall_true.60.2E.2E.2E.html#252173872">(Sep 06 2021 at 13:13)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3304#pullrequestreview-747208868">PR review</a>.</p>



<a name="252173873"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233304%20Implement%20%60vany_true%60%20and%20%60vall_true%60.../near/252173873" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233304.20Implement.20.60vany_true.60.20and.20.60vall_true.60.2E.2E.2E.html#252173873">(Sep 06 2021 at 13:13)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/3304#discussion_r702892465">PR review comment</a>:</p>
<blockquote>
<p>Can you instead add a TODO?</p>
</blockquote>



<a name="252197879"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233304%20Implement%20%60vany_true%60%20and%20%60vall_true%60.../near/252197879" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233304.20Implement.20.60vany_true.60.20and.20.60vall_true.60.2E.2E.2E.html#252197879">(Sep 06 2021 at 16:31)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3304">PR #3304</a> from <code>interp-vanyall</code> to <code>main</code>.</p>



<a name="252335415"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233304%20Implement%20%60vany_true%60%20and%20%60vall_true%60.../near/252335415" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233304.20Implement.20.60vany_true.60.20and.20.60vall_true.60.2E.2E.2E.html#252335415">(Sep 07 2021 at 16:50)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3304#pullrequestreview-748198256">PR review</a>.</p>



<a name="252335417"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233304%20Implement%20%60vany_true%60%20and%20%60vall_true%60.../near/252335417" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233304.20Implement.20.60vany_true.60.20and.20.60vall_true.60.2E.2E.2E.html#252335417">(Sep 07 2021 at 16:50)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3304#pullrequestreview-748198256">PR review</a>.</p>



<a name="252335419"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233304%20Implement%20%60vany_true%60%20and%20%60vall_true%60.../near/252335419" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233304.20Implement.20.60vany_true.60.20and.20.60vall_true.60.2E.2E.2E.html#252335419">(Sep 07 2021 at 16:50)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/3304#discussion_r703674603">PR review comment</a>:</p>
<blockquote>
<p>Side comment, no changes needed: yeah, wish this was easier. The decision to store the vector immediates in a side table was made to keep the size of <code>InstructionData</code> under some number of bytes. I wonder if things have changed enough since then for us to stuff 16 bytes into <code>InstructionData</code>.</p>
</blockquote>



<a name="252335541"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233304%20Implement%20%60vany_true%60%20and%20%60vall_true%60.../near/252335541" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233304.20Implement.20.60vany_true.60.20and.20.60vall_true.60.2E.2E.2E.html#252335541">(Sep 07 2021 at 16:50)</a>:</h4>
<p>abrown merged <a href="https://github.com/bytecodealliance/wasmtime/pull/3304">PR #3304</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>