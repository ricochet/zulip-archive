<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6524 When installed in a docker contain... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236524.20When.20installed.20in.20a.20docker.20contain.2E.2E.2E.html">wasmtime / issue #6524 When installed in a docker contain...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="364008629"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236524%20When%20installed%20in%20a%20docker%20contain.../near/364008629" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236524.20When.20installed.20in.20a.20docker.20contain.2E.2E.2E.html#364008629">(Jun 06 2023 at 13:46)</a>:</h4>
<p>theagilecoder opened <a href="https://github.com/bytecodealliance/wasmtime/issues/6524">issue #6524</a>:</p>
<blockquote>
<p>I am not facing this issue with wasmer or wasmedge, only wasmtime.<br>
I hava simple dockerfile which installs wasmtime and prints its version </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code>#<span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">desired</span><span class="w"> </span><span class="n">Linux</span><span class="w"> </span><span class="n">distribution</span>
<span class="n">FROM</span><span class="w"> </span><span class="n">ubuntu</span>:<span class="nc">latest</span>

#<span class="w"> </span><span class="n">Install</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="n">dependencies</span>
<span class="n">RUN</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w"> </span><span class="n">curl</span>

#<span class="w"> </span><span class="n">Download</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">Wasmer</span>
<span class="n">RUN</span><span class="w"> </span><span class="n">curl</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//wasmtime.dev/install.sh -sSf | bash</span>

#<span class="w"> </span><span class="n">Add</span><span class="w"> </span><span class="n">Wasmer</span><span class="w"> </span><span class="n">binaries</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">PATH</span>
<span class="n">ENV</span><span class="w"> </span><span class="n">PATH</span><span class="o">=</span><span class="s">"/root/.wasmtime/bin:${PATH}"</span>

#<span class="w"> </span><span class="n">Print</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Wasmtime</span>
<span class="n">RUN</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="o">--</span><span class="n">version</span>

#<span class="w"> </span><span class="n">Print</span><span class="w"> </span><span class="n">Wasmer</span><span class="w"> </span><span class="n">version</span>
#<span class="w"> </span><span class="n">CMD</span><span class="w"> </span><span class="p">[</span><span class="s">"wasmtime"</span><span class="p">,</span><span class="w"> </span><span class="s">"--version"</span><span class="p">]</span>
</code></pre></div>
<p>But it errors out saying wasmtime not found<br>
<code>/bin/sh: 1: wasmtime: not found</code></p>
</blockquote>



<a name="364010152"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236524%20When%20installed%20in%20a%20docker%20contain.../near/364010152" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236524.20When.20installed.20in.20a.20docker.20contain.2E.2E.2E.html#364010152">(Jun 06 2023 at 13:52)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/6524#issuecomment-1578811523">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6524">issue #6524</a>:</p>
<blockquote>
<p>What is the value of <code>$HOME</code> when running the install command? It should install to <code>$HOME/.wasmtime/bin</code> if <code>$WASMTIME_HOME</code> is not set.</p>
</blockquote>



<a name="364014141"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236524%20When%20installed%20in%20a%20docker%20contain.../near/364014141" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236524.20When.20installed.20in.20a.20docker.20contain.2E.2E.2E.html#364014141">(Jun 06 2023 at 14:07)</a>:</h4>
<p>theagilecoder <a href="https://github.com/bytecodealliance/wasmtime/issues/6524#issuecomment-1578836750">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6524">issue #6524</a>:</p>
<blockquote>
<p>I tried ENV PATH="$HOME/.wasmtime/bin:${PATH}" but get the same error. $HOME should be root. Please ELI5</p>
</blockquote>



<a name="364021138"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236524%20When%20installed%20in%20a%20docker%20contain.../near/364021138" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236524.20When.20installed.20in.20a.20docker.20contain.2E.2E.2E.html#364021138">(Jun 06 2023 at 14:31)</a>:</h4>
<p>theagilecoder edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/6524#issuecomment-1578836750">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6524">issue #6524</a>:</p>
<blockquote>
<p>I tried ENV PATH="$HOME/.wasmtime/bin:${PATH}" but get the same error. $HOME should be root. Please ELI5</p>
<p>Update : $HOME is root. Also, /root/.wasmtime folder is created but /root/.wasmtime/bin is empty. There is no wasmtime executable there.<br>
</p>
</blockquote>



<a name="364051265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236524%20When%20installed%20in%20a%20docker%20contain.../near/364051265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236524.20When.20installed.20in.20a.20docker.20contain.2E.2E.2E.html#364051265">(Jun 06 2023 at 16:14)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/6524#issuecomment-1579065756">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6524">issue #6524</a>:</p>
<blockquote>
<p>What messages does the install script print?</p>
</blockquote>



<a name="364150438"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236524%20When%20installed%20in%20a%20docker%20contain.../near/364150438" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236524.20When.20installed.20in.20a.20docker.20contain.2E.2E.2E.html#364150438">(Jun 07 2023 at 02:39)</a>:</h4>
<p>theagilecoder <a href="https://github.com/bytecodealliance/wasmtime/issues/6524#issuecomment-1579779085">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6524">issue #6524</a>:</p>
<blockquote>
<p>here are the portion of docker logs related to wasmtime install</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">[</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="n">RUN</span><span class="w"> </span><span class="n">curl</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//wasmtime.dev/install.sh -sSf | bash</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">1.363</span><span class="w">   </span><span class="n">Installing</span><span class="w"> </span><span class="n">latest</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Wasmtime</span><span class="w"> </span><span class="p">(</span><span class="n">v9</span><span class="p">.</span><span class="mf">0.3</span><span class="p">)</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">1.363</span><span class="w">     </span><span class="n">Checking</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">Wasmtime</span><span class="w"> </span><span class="n">installation</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">1.371</span><span class="w">     </span><span class="n">Fetching</span><span class="w"> </span><span class="n">archive</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Linux</span><span class="p">,</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">v9</span><span class="p">.</span><span class="mf">0.3</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">1.376</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//github.com/bytecodealliance/wasmtime/releases/download/v9.0.3/wasmtime-v9.0.3-x86_64-linux.tar.xz</span>
########################################################################<span class="w"> </span><span class="mf">100.0</span><span class="o">%</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">3.098</span><span class="w">     </span><span class="n">Creating</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="n">layout</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">3.103</span><span class="w">   </span><span class="n">Extracting</span><span class="w"> </span><span class="n">Wasmtime</span><span class="w"> </span><span class="n">binaries</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">3.106</span><span class="w"> </span><span class="n">tar</span><span class="w"> </span><span class="p">(</span><span class="n">child</span><span class="p">)</span>: <span class="nc">xz</span>: <span class="nc">Cannot</span><span class="w"> </span><span class="n">exec</span>: <span class="nc">No</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">directory</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">3.106</span><span class="w"> </span><span class="n">tar</span><span class="w"> </span><span class="p">(</span><span class="n">child</span><span class="p">)</span>: <span class="nc">Error</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">recoverable</span>: <span class="nc">exiting</span><span class="w"> </span><span class="n">now</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">3.107</span><span class="w"> </span><span class="n">tar</span>: <span class="nc">Child</span><span class="w"> </span><span class="n">returned</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="mi">2</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">3.107</span><span class="w"> </span><span class="n">tar</span>: <span class="nc">Error</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">recoverable</span>: <span class="nc">exiting</span><span class="w"> </span><span class="n">now</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">3.110</span><span class="w"> </span><span class="n">cp</span>: <span class="nc">cannot</span><span class="w"> </span><span class="n">stat</span><span class="w"> </span><span class="o">'/</span><span class="n">tmp</span><span class="o">/</span><span class="n">tmp</span><span class="p">.</span><span class="n">oihoTMRyxk</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">v9</span><span class="p">.</span><span class="mf">0.3</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">'</span>: <span class="nc">No</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">directory</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">3.112</span><span class="w"> </span><span class="n">cp</span>: <span class="nc">cannot</span><span class="w"> </span><span class="n">stat</span><span class="w"> </span><span class="o">'/</span><span class="n">tmp</span><span class="o">/</span><span class="n">tmp</span><span class="p">.</span><span class="n">oihoTMRyxk</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">v9</span><span class="p">.</span><span class="mf">0.3</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">/</span><span class="n">LICENSE</span><span class="o">'</span>: <span class="nc">No</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">directory</span>
#<span class="mi">6</span><span class="w"> </span><span class="mf">3.112</span><span class="w"> </span><span class="n">cp</span>: <span class="nc">cannot</span><span class="w"> </span><span class="n">stat</span><span class="w"> </span><span class="o">'/</span><span class="n">tmp</span><span class="o">/</span><span class="n">tmp</span><span class="p">.</span><span class="n">oihoTMRyxk</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">-</span><span class="n">v9</span><span class="p">.</span><span class="mf">0.3</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="n">linux</span><span class="o">/</span><span class="n">README</span><span class="p">.</span><span class="n">md</span><span class="o">'</span>: <span class="nc">No</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">directory</span>
#<span class="mi">6</span><span class="w"> </span><span class="n">DONE</span><span class="w"> </span><span class="mf">3.4</span><span class="n">s</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="364160923"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236524%20When%20installed%20in%20a%20docker%20contain.../near/364160923" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236524.20When.20installed.20in.20a.20docker.20contain.2E.2E.2E.html#364160923">(Jun 07 2023 at 04:46)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/6524#issuecomment-1579880898">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6524">issue #6524</a>:</p>
<blockquote>
<p>Try installing xz.</p>
</blockquote>



<a name="364295316"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236524%20When%20installed%20in%20a%20docker%20contain.../near/364295316" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236524.20When.20installed.20in.20a.20docker.20contain.2E.2E.2E.html#364295316">(Jun 07 2023 at 14:20)</a>:</h4>
<p>theagilecoder <a href="https://github.com/bytecodealliance/wasmtime/issues/6524#issuecomment-1580922926">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/6524">issue #6524</a>:</p>
<blockquote>
<p>worked, thanks!</p>
</blockquote>



<a name="364295470"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236524%20When%20installed%20in%20a%20docker%20contain.../near/364295470" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236524.20When.20installed.20in.20a.20docker.20contain.2E.2E.2E.html#364295470">(Jun 07 2023 at 14:20)</a>:</h4>
<p>theagilecoder closed <a href="https://github.com/bytecodealliance/wasmtime/issues/6524">issue #6524</a>:</p>
<blockquote>
<p>I am not facing this issue with wasmer or wasmedge, only wasmtime.<br>
I hava simple dockerfile which installs wasmtime and prints its version </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code>#<span class="w"> </span><span class="n">Use</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">desired</span><span class="w"> </span><span class="n">Linux</span><span class="w"> </span><span class="n">distribution</span>
<span class="n">FROM</span><span class="w"> </span><span class="n">ubuntu</span>:<span class="nc">latest</span>

#<span class="w"> </span><span class="n">Install</span><span class="w"> </span><span class="n">necessary</span><span class="w"> </span><span class="n">dependencies</span>
<span class="n">RUN</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">update</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">apt</span><span class="o">-</span><span class="n">get</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w"> </span><span class="n">curl</span>

#<span class="w"> </span><span class="n">Download</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="n">Wasmer</span>
<span class="n">RUN</span><span class="w"> </span><span class="n">curl</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//wasmtime.dev/install.sh -sSf | bash</span>

#<span class="w"> </span><span class="n">Add</span><span class="w"> </span><span class="n">Wasmer</span><span class="w"> </span><span class="n">binaries</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">system</span><span class="w"> </span><span class="n">PATH</span>
<span class="n">ENV</span><span class="w"> </span><span class="n">PATH</span><span class="o">=</span><span class="s">"/root/.wasmtime/bin:${PATH}"</span>

#<span class="w"> </span><span class="n">Print</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Wasmtime</span>
<span class="n">RUN</span><span class="w"> </span><span class="n">wasmtime</span><span class="w"> </span><span class="o">--</span><span class="n">version</span>

#<span class="w"> </span><span class="n">Print</span><span class="w"> </span><span class="n">Wasmer</span><span class="w"> </span><span class="n">version</span>
#<span class="w"> </span><span class="n">CMD</span><span class="w"> </span><span class="p">[</span><span class="s">"wasmtime"</span><span class="p">,</span><span class="w"> </span><span class="s">"--version"</span><span class="p">]</span>
</code></pre></div>
<p>But it errors out saying wasmtime not found<br>
<code>/bin/sh: 1: wasmtime: not found</code></p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>