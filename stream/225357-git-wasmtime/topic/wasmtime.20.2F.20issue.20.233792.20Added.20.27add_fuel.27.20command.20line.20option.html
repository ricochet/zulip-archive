<html>
<head><meta charset="utf-8"><title>wasmtime / issue #3792 Added &#x27;add_fuel&#x27; command line option · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233792.20Added.20.27add_fuel.27.20command.20line.20option.html">wasmtime / issue #3792 Added &#x27;add_fuel&#x27; command line option</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="271614979"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233792%20Added%20%27add_fuel%27%20command%20line%20option/near/271614979" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233792.20Added.20.27add_fuel.27.20command.20line.20option.html#271614979">(Feb 11 2022 at 18:07)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/3792#issuecomment-1036476451">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3792">issue #3792</a>:</p>
<blockquote>
<p>You don't need to modify the clif interpreter at all here.</p>
<p>You want to add a call to <a href="https://docs.rs/wasmtime/latest/wasmtime/struct.Store.html#method.add_fuel">https://docs.rs/wasmtime/latest/wasmtime/struct.Store.html#method.add_fuel</a> somewhere around here: <a href="https://github.com/bytecodealliance/wasmtime/blob/main/src/commands/run.rs#L165">https://github.com/bytecodealliance/wasmtime/blob/main/src/commands/run.rs#L165</a></p>
</blockquote>



<a name="271629141"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233792%20Added%20%27add_fuel%27%20command%20line%20option/near/271629141" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233792.20Added.20.27add_fuel.27.20command.20line.20option.html#271629141">(Feb 11 2022 at 20:00)</a>:</h4>
<p>ilikepi63 <a href="https://github.com/bytecodealliance/wasmtime/pull/3792#issuecomment-1036573343">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3792">issue #3792</a>:</p>
<blockquote>
<p>@fitzgen Thank you so much! That specific instantiation eluded me!</p>
<p>Thank you so much for being so patient and understanding, as well as holding my hand through this!</p>
</blockquote>



<a name="271930997"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233792%20Added%20%27add_fuel%27%20command%20line%20option/near/271930997" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233792.20Added.20.27add_fuel.27.20command.20line.20option.html#271930997">(Feb 15 2022 at 06:06)</a>:</h4>
<p>ilikepi63 <a href="https://github.com/bytecodealliance/wasmtime/pull/3792#issuecomment-1039892874">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3792">issue #3792</a>:</p>
<blockquote>
<p>The only concern I could see from <code>--fuel</code> is the point where someone could call without <code>--add-fuel</code> to indicate that they want to '--consume-fuel' with 0 fuel. </p>
<p>I am not sure if there is a use case, but just thought I would mention it.</p>
</blockquote>



<a name="271931027"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233792%20Added%20%27add_fuel%27%20command%20line%20option/near/271931027" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233792.20Added.20.27add_fuel.27.20command.20line.20option.html#271931027">(Feb 15 2022 at 06:07)</a>:</h4>
<p>ilikepi63 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/3792#issuecomment-1039892874">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3792">issue #3792</a>:</p>
<blockquote>
<p>The only concern I could see from <code>--fuel</code> is the point where someone could call without <code>--add-fuel</code> to indicate that they want to <code>--consume-fuel</code> with 0 fuel. </p>
<p>I am not sure if there is a use case, but just thought I would mention it.</p>
</blockquote>



<a name="272008230"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233792%20Added%20%27add_fuel%27%20command%20line%20option/near/272008230" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233792.20Added.20.27add_fuel.27.20command.20line.20option.html#272008230">(Feb 15 2022 at 17:24)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/3792#issuecomment-1040560771">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3792">issue #3792</a>:</p>
<blockquote>
<blockquote>
<p>The only concern I could see from <code>--fuel</code> is the point where someone could call without <code>--add-fuel</code> to indicate that they want to <code>--consume-fuel</code> with 0 fuel.</p>
</blockquote>
<p>In that case they would be able to do <code>--fuel 0</code>.</p>
</blockquote>



<a name="272009083"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233792%20Added%20%27add_fuel%27%20command%20line%20option/near/272009083" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233792.20Added.20.27add_fuel.27.20command.20line.20option.html#272009083">(Feb 15 2022 at 17:29)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/3792#issuecomment-1040565737">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3792">issue #3792</a>:</p>
<blockquote>
<blockquote>
<p>Once you commit these suggestions, I'll hit the merge button.</p>
</blockquote>
<p>Or I guess github lets me add those suggestions as commits to your branch :)</p>
</blockquote>



<a name="272012593"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233792%20Added%20%27add_fuel%27%20command%20line%20option/near/272012593" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233792.20Added.20.27add_fuel.27.20command.20line.20option.html#272012593">(Feb 15 2022 at 17:55)</a>:</h4>
<p>ilikepi63 <a href="https://github.com/bytecodealliance/wasmtime/pull/3792#issuecomment-1040595806">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/3792">issue #3792</a>:</p>
<blockquote>
<p>Thanks @fitzgen!</p>
<p>Learnt a lot from this. Eager to try some more once I get a better understanding of compiler architecture. Thanks again for all the input, you are the best!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>