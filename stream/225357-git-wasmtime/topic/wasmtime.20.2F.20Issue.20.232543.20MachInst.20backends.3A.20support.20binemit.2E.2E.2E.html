<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2543 MachInst backends: support binemit... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232543.20MachInst.20backends.3A.20support.20binemit.2E.2E.2E.html">wasmtime / Issue #2543 MachInst backends: support binemit...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="221562038"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232543%20MachInst%20backends%3A%20support%20binemit.../near/221562038" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232543.20MachInst.20backends.3A.20support.20binemit.2E.2E.2E.html#221562038">(Jan 04 2021 at 18:33)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/issues/2543">Issue #2543</a>:</p>
<blockquote>
<p>The <code>binemit</code> filetest backend does not currently support new-style (MachInst) backends; it is fairly tightly coupled to the encodings scheme, because it checks the machine code emitted for each individual CLIF instruction. We should update it to at least allow bulk comparison of the entire function body, even if we don't have the fine-grained CLIF-instruction-to-emitted-bytes correspondence anymore.</p>
<p>Noted in #2540.</p>
</blockquote>



<a name="221562052"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232543%20MachInst%20backends%3A%20support%20binemit.../near/221562052" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232543.20MachInst.20backends.3A.20support.20binemit.2E.2E.2E.html#221562052">(Jan 04 2021 at 18:33)</a>:</h4>
<p>cfallin labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/2543">Issue #2543</a>:</p>
<blockquote>
<p>The <code>binemit</code> filetest backend does not currently support new-style (MachInst) backends; it is fairly tightly coupled to the encodings scheme, because it checks the machine code emitted for each individual CLIF instruction. We should update it to at least allow bulk comparison of the entire function body, even if we don't have the fine-grained CLIF-instruction-to-emitted-bytes correspondence anymore.</p>
<p>Noted in #2540.</p>
</blockquote>



<a name="221563207"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232543%20MachInst%20backends%3A%20support%20binemit.../near/221563207" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232543.20MachInst.20backends.3A.20support.20binemit.2E.2E.2E.html#221563207">(Jan 04 2021 at 18:43)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/2543#issuecomment-754146234">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2543">Issue #2543</a>:</p>
<blockquote>
<p>I just remember that the new backends have an <code>#[test]</code> that lists all vcode instructions and tests if the generated bytes are as expected.</p>
</blockquote>



<a name="221565063"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232543%20MachInst%20backends%3A%20support%20binemit.../near/221565063" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232543.20MachInst.20backends.3A.20support.20binemit.2E.2E.2E.html#221565063">(Jan 04 2021 at 18:58)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/2543#issuecomment-754153868">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2543">Issue #2543</a>:</p>
<blockquote>
<p>Oh, yes, this is a better way to test the TLS emission, I agree; I'll add an emission test over in #2540. (I'm a bit slow this morning, sorry!) The proper approach to the binemit backend will be to remove it once we transition fully to new-style backends; I'll edit this issue accordingly.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>