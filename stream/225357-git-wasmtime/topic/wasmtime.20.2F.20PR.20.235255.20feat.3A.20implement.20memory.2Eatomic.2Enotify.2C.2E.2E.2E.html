<html>
<head><meta charset="utf-8"><title>wasmtime / PR #5255 feat: implement memory.atomic.notify,... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html">wasmtime / PR #5255 feat: implement memory.atomic.notify,...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="309198971"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/309198971" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#309198971">(Nov 11 2022 at 14:07)</a>:</h4>
<p>haraldh opened <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>:</p>
<blockquote>
<p>Use parking_lot_core, as this established crate does exactly what is needed here.</p>
<h2>WARNING</h2>
<p><code>memory_atomic_wait32()</code> and <code>memory_atomic_wait64()</code> are called with an unsigned <code>timeout: u64</code>.</p>
<p>The <a href="https://github.com/WebAssembly/threads/blob/master/proposals/threads/Overview.md#wait">Threading proposal for WebAssembly</a> uses a signed <code>timeout: i64</code>. Where is the source of truth?</p>
</blockquote>



<a name="309200561"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/309200561" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#309200561">(Nov 11 2022 at 14:16)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="309202576"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/309202576" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#309202576">(Nov 11 2022 at 14:27)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="309901039"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/309901039" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#309901039">(Nov 14 2022 at 16:36)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1179461043">PR review</a>.</p>



<a name="310432574"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310432574" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310432574">(Nov 16 2022 at 15:16)</a>:</h4>
<p>haraldh edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>:</p>
<blockquote>
<p>Added the parking_spot crate, which provides the needed registry for the operations.<br>
</p>
</blockquote>



<a name="310432680"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310432680" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310432680">(Nov 16 2022 at 15:17)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310432878"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310432878" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310432878">(Nov 16 2022 at 15:18)</a>:</h4>
<p><strong>haraldh</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a>.</p>



<a name="310449864"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449864" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449864">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1182900413">PR review</a>.</p>



<a name="310449865"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449865" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449865">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024215533">PR review comment</a>:</p>
<blockquote>
<p>It's ok to remove these files since in in the wasmtime repo we only keep the licenses at the root.</p>
</blockquote>



<a name="310449867"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449867" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449867">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024216904">PR review comment</a>:</p>
<blockquote>
<p>For including in this repo could you rename this to <code>wasmtime-parking-spot</code> and set the version to <code>4.0.0</code> as wasmtime's current version? We generally try to keep everything in sync if it's located here. </p>
<p>Personally I'd be ok having this either here or externally, however. I have a slight preference for vendoring it given how small it is, but I'll leave that up to you.</p>
</blockquote>



<a name="310449868"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449868" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449868">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024217918">PR review comment</a>:</p>
<blockquote>
<p>This will require a new entry for <code>cargo vet</code>, but if you'd prefer you can also continue to reuse <code>1.12.0</code> and then there'd be no need for a new vet entry.</p>
</blockquote>



<a name="310449869"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449869" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449869">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024221587">PR review comment</a>:</p>
<blockquote>
<p>Instead of having <code>unpark_all</code> vs <code>unpark</code> could this thread through a <code>u32</code> count always? That matches what the wasm semantics of the notify instruction are more closely I think.</p>
</blockquote>



<a name="310449870"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449870" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449870">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024222045">PR review comment</a>:</p>
<blockquote>
<p>I think this comment may no longer be relevant.</p>
</blockquote>



<a name="310449872"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449872" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449872">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024225325">PR review comment</a>:</p>
<blockquote>
<p>It should be ok to drop the <code>return</code> here</p>
</blockquote>



<a name="310449873"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449873" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449873">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1182900413">PR review</a>.</p>



<a name="310449874"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449874" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449874">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024225171">PR review comment</a>:</p>
<blockquote>
<p>Could you document that the <code>SeqCst</code> here matches the ordering specified by wasm itself?</p>
</blockquote>



<a name="310449876"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449876" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449876">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024217181">PR review comment</a>:</p>
<blockquote>
<p>It's ok to leave this out since it's already depended on by other crates.</p>
</blockquote>



<a name="310449877"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449877" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449877">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024231328">PR review comment</a>:</p>
<blockquote>
<p>Could this perhaps return <code>&amp;ParkingSpot</code> to avoid the need for cloning? I think that should work out for the definitions in the libcalls.</p>
</blockquote>



<a name="310449878"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449878" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449878">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024219734">PR review comment</a>:</p>
<blockquote>
<p>Could the need for <code>as _</code> be removed here? The underlying implementation could take a key of <code>u64</code>, for example, and the count could be <code>u32</code>. Otherwise I'm worried about lossy casts here and accidentally losing data that wasn't intended.</p>
</blockquote>



<a name="310449879"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449879" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449879">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024229567">PR review comment</a>:</p>
<blockquote>
<p>I think there's a few issues with this that will need updating. Again though this is where I think that tests should be added to exercise all these cases.</p>
<ol>
<li>Switching to <code>defined_memory_index</code> only works if the memory is defined locally, not if the memory is imported. This will want to work with imported memories as well.</li>
<li>The wait/notify instructions work with unshared memories in addition to shared memories, so the unwrap for a shared memory needs to be handled. To handle this I'd recommend returning an <code>Option&lt;T&gt;</code> and handling <code>None</code> in each instruction, for example by sleeping for <code>wait</code>, perhaps trapping for an infinite sleep, and doing nothing for <code>notify</code>.</li>
</ol>
</blockquote>



<a name="310449880"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449880" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449880">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024224107">PR review comment</a>:</p>
<blockquote>
<p>This is one reason I would like to require tests as part of this PR. The <code>addr</code> here is a wasm-relative address, not a host address, meaning that I think this will segfault or otherwise corrupt lower memory addresses. I suspect, however, that tests would uncover this relatively quickly.</p>
</blockquote>



<a name="310449881"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449881" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449881">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024235698">PR review comment</a>:</p>
<blockquote>
<p>Could you add comments here as to what these fields are tracking? For example I believe <code>to_unpark</code> is required per the spec since it doesn't allow for spurious wakeups.</p>
</blockquote>



<a name="310449882"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449882" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449882">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024230722">PR review comment</a>:</p>
<blockquote>
<p>I think it would be better to put the <code>ParkingSpot</code> adjacent to the <code>RwLock</code> in memory to avoid allocating two <code>Arc</code>s here. Additionally as this struct grows can you use named fields rather than tuple structs?</p>
</blockquote>



<a name="310449883"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449883" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449883">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024238257">PR review comment</a>:</p>
<blockquote>
<p>Could an optimization be added here to use <code>notify_all</code> if <code>n</code> is greater than <code>to_unpark</code>? That'll help I believe with the removal of <code>unpark_all</code>.</p>
</blockquote>



<a name="310449884"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310449884" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310449884">(Nov 16 2022 at 16:35)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024237469">PR review comment</a>:</p>
<blockquote>
<p>Could this unconditionally happen to double-check that the count can always be decremented? The conditional check for removal from the internal map could then happen afterwards.</p>
</blockquote>



<a name="310450160"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310450160" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310450160">(Nov 16 2022 at 16:36)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1182942342">PR review</a>.</p>



<a name="310450161"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310450161" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310450161">(Nov 16 2022 at 16:36)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024242982">PR review comment</a>:</p>
<blockquote>
<p>oh, that actually can be removed now ... </p>
</blockquote>



<a name="310491548"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310491548" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310491548">(Nov 16 2022 at 20:04)</a>:</h4>
<p>haraldh deleted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024242982">PR review comment</a>.</p>



<a name="310491668"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310491668" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310491668">(Nov 16 2022 at 20:05)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024456204">PR review comment</a>:</p>
<blockquote>
<p>oops, totally correct!!</p>
</blockquote>



<a name="310491670"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310491670" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310491670">(Nov 16 2022 at 20:05)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1183254890">PR review</a>.</p>



<a name="310565659"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310565659" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310565659">(Nov 17 2022 at 08:42)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310565701"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310565701" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310565701">(Nov 17 2022 at 08:42)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1183878008">PR review</a>.</p>



<a name="310565704"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310565704" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310565704">(Nov 17 2022 at 08:42)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024897994">PR review comment</a>:</p>
<blockquote>
<p>removed</p>
</blockquote>



<a name="310565735"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310565735" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310565735">(Nov 17 2022 at 08:42)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1183878463">PR review</a>.</p>



<a name="310565737"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310565737" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310565737">(Nov 17 2022 at 08:42)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024898274">PR review comment</a>:</p>
<blockquote>
<p>changed</p>
</blockquote>



<a name="310565758"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310565758" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310565758">(Nov 17 2022 at 08:43)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1183878655">PR review</a>.</p>



<a name="310565760"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310565760" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310565760">(Nov 17 2022 at 08:43)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024898407">PR review comment</a>:</p>
<blockquote>
<p>removed</p>
</blockquote>



<a name="310565944"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310565944" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310565944">(Nov 17 2022 at 08:44)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310565984"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310565984" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310565984">(Nov 17 2022 at 08:44)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1183881184">PR review</a>.</p>



<a name="310565985"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310565985" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310565985">(Nov 17 2022 at 08:44)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024900041">PR review comment</a>:</p>
<blockquote>
<p>changed to workspace version</p>
</blockquote>



<a name="310566020"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310566020" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310566020">(Nov 17 2022 at 08:44)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1183881563">PR review</a>.</p>



<a name="310566022"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310566022" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310566022">(Nov 17 2022 at 08:44)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024900299">PR review comment</a>:</p>
<blockquote>
<p>removed</p>
</blockquote>



<a name="310566032"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310566032" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310566032">(Nov 17 2022 at 08:45)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1183881679">PR review</a>.</p>



<a name="310566034"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310566034" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310566034">(Nov 17 2022 at 08:45)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024900401">PR review comment</a>:</p>
<blockquote>
<p>fixed</p>
</blockquote>



<a name="310566051"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310566051" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310566051">(Nov 17 2022 at 08:45)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1183881878">PR review</a>.</p>



<a name="310566052"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310566052" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310566052">(Nov 17 2022 at 08:45)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024900526">PR review comment</a>:</p>
<blockquote>
<p>fixed</p>
</blockquote>



<a name="310566072"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310566072" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310566072">(Nov 17 2022 at 08:45)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1183882154">PR review</a>.</p>



<a name="310566079"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310566079" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310566079">(Nov 17 2022 at 08:45)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1024900727">PR review comment</a>:</p>
<blockquote>
<p>maybe fixed</p>
</blockquote>



<a name="310567634"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310567634" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310567634">(Nov 17 2022 at 08:57)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310568031"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310568031" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310568031">(Nov 17 2022 at 09:00)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310575869"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310575869" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310575869">(Nov 17 2022 at 09:51)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310591708"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310591708" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310591708">(Nov 17 2022 at 11:36)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310594666"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310594666" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310594666">(Nov 17 2022 at 11:57)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310595129"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310595129" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310595129">(Nov 17 2022 at 12:00)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025099766">PR review comment</a>:</p>
<blockquote>
<p>done</p>
</blockquote>



<a name="310595131"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310595131" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310595131">(Nov 17 2022 at 12:00)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1184173050">PR review</a>.</p>



<a name="310599433"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310599433" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310599433">(Nov 17 2022 at 12:28)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310599439"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310599439" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310599439">(Nov 17 2022 at 12:28)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1184214739">PR review</a>.</p>



<a name="310599449"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310599449" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310599449">(Nov 17 2022 at 12:28)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1184214827">PR review</a>.</p>



<a name="310599450"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310599450" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310599450">(Nov 17 2022 at 12:28)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025127297">PR review comment</a>:</p>
<blockquote>
<p>done</p>
</blockquote>



<a name="310599530"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310599530" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310599530">(Nov 17 2022 at 12:28)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025127711">PR review comment</a>:</p>
<blockquote>
<p>moved it to a named field in SharedMemoryInner</p>
</blockquote>



<a name="310599533"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310599533" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310599533">(Nov 17 2022 at 12:28)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1184215460">PR review</a>.</p>



<a name="310599568"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310599568" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310599568">(Nov 17 2022 at 12:29)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025127880">PR review comment</a>:</p>
<blockquote>
<p>err.. did not succeed</p>
</blockquote>



<a name="310599569"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310599569" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310599569">(Nov 17 2022 at 12:29)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1184215752">PR review</a>.</p>



<a name="310599610"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310599610" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310599610">(Nov 17 2022 at 12:29)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1184216133">PR review</a>.</p>



<a name="310599611"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310599611" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310599611">(Nov 17 2022 at 12:29)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025128138">PR review comment</a>:</p>
<blockquote>
<p>done</p>
</blockquote>



<a name="310599620"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310599620" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310599620">(Nov 17 2022 at 12:29)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1184216235">PR review</a>.</p>



<a name="310599621"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310599621" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310599621">(Nov 17 2022 at 12:29)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025128205">PR review comment</a>:</p>
<blockquote>
<p>done</p>
</blockquote>



<a name="310601413"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310601413" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310601413">(Nov 17 2022 at 12:40)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310602764"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310602764" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310602764">(Nov 17 2022 at 12:48)</a>:</h4>
<p>haraldh edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025127880">PR review comment</a>.</p>



<a name="310614181"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310614181" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310614181">(Nov 17 2022 at 13:57)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310614500"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310614500" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310614500">(Nov 17 2022 at 13:58)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310614507"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310614507" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310614507">(Nov 17 2022 at 13:58)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025228466">PR review comment</a>:</p>
<blockquote>
<p>done</p>
</blockquote>



<a name="310614509"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310614509" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310614509">(Nov 17 2022 at 13:58)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1184364583">PR review</a>.</p>



<a name="310628269"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310628269" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310628269">(Nov 17 2022 at 15:10)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310637660"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310637660" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310637660">(Nov 17 2022 at 15:45)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310637799"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310637799" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310637799">(Nov 17 2022 at 15:46)</a>:</h4>
<p><strong>haraldh</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a>.</p>



<a name="310638314"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310638314" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310638314">(Nov 17 2022 at 15:48)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025371223">PR review comment</a>:</p>
<blockquote>
<p>I can remove this test module, if wanted.</p>
</blockquote>



<a name="310638315"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310638315" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310638315">(Nov 17 2022 at 15:48)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1184578213">PR review</a>.</p>



<a name="310639592"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310639592" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310639592">(Nov 17 2022 at 15:54)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310650204"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310650204" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310650204">(Nov 17 2022 at 16:43)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025438048">PR review comment</a>:</p>
<blockquote>
<p>or guard it behind some feature flag</p>
</blockquote>



<a name="310650205"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310650205" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310650205">(Nov 17 2022 at 16:43)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1184677780">PR review</a>.</p>



<a name="310747326"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310747326" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310747326">(Nov 18 2022 at 04:32)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1185429998">PR review</a>.</p>



<a name="310747327"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310747327" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310747327">(Nov 18 2022 at 04:32)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1185429998">PR review</a>.</p>



<a name="310747328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310747328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310747328">(Nov 18 2022 at 04:32)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025973097">PR review comment</a>:</p>
<blockquote>
<p>I think it should be ok to drop the <code>pub</code> here</p>
</blockquote>



<a name="310747329"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310747329" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310747329">(Nov 18 2022 at 04:32)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025973206">PR review comment</a>:</p>
<blockquote>
<p>It should be ok to drop the <code>#[inline]</code> here and largely let LLVM figure it out.</p>
</blockquote>



<a name="310747330"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310747330" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310747330">(Nov 18 2022 at 04:32)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025973923">PR review comment</a>:</p>
<blockquote>
<p>I think it would be better to detect QEMU and bail out. Currently we have <code>WASMTIME_NO_HOG_MEMORY=1</code> as an env var and that can be used as a rough proxy for "I'm in qemu" and the tests are skipped.</p>
</blockquote>



<a name="310747331"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310747331" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310747331">(Nov 18 2022 at 04:32)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025971999">PR review comment</a>:</p>
<blockquote>
<p>It appears I didn't read close enough, and <a href="https://github.com/WebAssembly/threads/blob/main/proposals/threads/Overview.md">according to the overview</a> (which I would highly recommend reviewing/correlating with the implementation here) it says:</p>
<blockquote>
<p>Wait operators additionally trap if used on an unshared linear memory</p>
</blockquote>
<p>So this can't actually sleep it needs to always trap. Additionally you'll want to allocate a trap code instead of reusing a different trap code for this purpose.</p>
</blockquote>



<a name="310747332"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310747332" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310747332">(Nov 18 2022 at 04:32)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025974392">PR review comment</a>:</p>
<blockquote>
<p>If this returned <code>&amp;Arc&lt;ParkingSpot&gt;</code> what other errors pop up?</p>
</blockquote>



<a name="310747333"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310747333" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310747333">(Nov 18 2022 at 04:32)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1025973552">PR review comment</a>:</p>
<blockquote>
<p>I don't think there's any need to tag all functions in this file with <code>#[inline]</code></p>
</blockquote>



<a name="310768756"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310768756" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310768756">(Nov 18 2022 at 08:25)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1185667381">PR review</a>.</p>



<a name="310768757"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310768757" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310768757">(Nov 18 2022 at 08:25)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026144580">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span><span class="p">[</span><span class="n">E0515</span><span class="p">]</span>: <span class="nc">cannot</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">temporary</span><span class="w"> </span><span class="n">value</span><span class="w"></span>
<span class="w">   </span><span class="o">-</span>-&gt; <span class="nc">crates</span><span class="o">/</span><span class="n">runtime</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">memory</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">492</span>:<span class="mi">9</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w"></span>
<span class="mi">492</span><span class="w"> </span><span class="o">|</span><span class="w">         </span><span class="o">&amp;</span><span class="bp">self</span><span class="p">.</span><span class="mf">0.</span><span class="n">read</span><span class="p">().</span><span class="n">unwrap</span><span class="p">().</span><span class="n">spot</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">         </span><span class="o">^----------------------^^^^^</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">         </span><span class="o">||</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">         </span><span class="o">|</span><span class="n">temporary</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">created</span><span class="w"> </span><span class="n">here</span><span class="w"></span>
<span class="w">    </span><span class="o">|</span><span class="w">         </span><span class="n">returns</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">referencing</span><span class="w"> </span><span class="n">data</span><span class="w"> </span><span class="n">owned</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">current</span><span class="w"> </span><span class="n">function</span><span class="w"></span>
</code></pre></div><br>
</p>
</blockquote>



<a name="310768893"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310768893" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310768893">(Nov 18 2022 at 08:26)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026145326">PR review comment</a>:</p>
<blockquote>
<p>Also a reference to an <code>Arc</code> defies the purpose of <code>Arc</code> here :)</p>
</blockquote>



<a name="310768894"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310768894" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310768894">(Nov 18 2022 at 08:26)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1185668501">PR review</a>.</p>



<a name="310769185"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310769185" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310769185">(Nov 18 2022 at 08:29)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1185671319">PR review</a>.</p>



<a name="310769186"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310769186" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310769186">(Nov 18 2022 at 08:29)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026147358">PR review comment</a>:</p>
<blockquote>
<p>removed</p>
</blockquote>



<a name="310769192"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310769192" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310769192">(Nov 18 2022 at 08:29)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1185671368">PR review</a>.</p>



<a name="310769195"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310769195" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310769195">(Nov 18 2022 at 08:29)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026147401">PR review comment</a>:</p>
<blockquote>
<p>removed</p>
</blockquote>



<a name="310769200"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310769200" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310769200">(Nov 18 2022 at 08:29)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1185671472">PR review</a>.</p>



<a name="310769201"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310769201" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310769201">(Nov 18 2022 at 08:29)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026147479">PR review comment</a>:</p>
<blockquote>
<p>removed</p>
</blockquote>



<a name="310769214"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310769214" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310769214">(Nov 18 2022 at 08:29)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1185671669">PR review</a>.</p>



<a name="310769216"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310769216" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310769216">(Nov 18 2022 at 08:29)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026147628">PR review comment</a>:</p>
<blockquote>
<p>done</p>
</blockquote>



<a name="310769283"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310769283" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310769283">(Nov 18 2022 at 08:29)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310795695"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310795695" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310795695">(Nov 18 2022 at 11:13)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310796096"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310796096" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310796096">(Nov 18 2022 at 11:15)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1185922918">PR review</a>.</p>



<a name="310796097"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310796097" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310796097">(Nov 18 2022 at 11:15)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026318885">PR review comment</a>:</p>
<blockquote>
<p>done</p>
</blockquote>



<a name="310798542"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310798542" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310798542">(Nov 18 2022 at 11:29)</a>:</h4>
<p>haraldh edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>:</p>
<blockquote>
<p>Added the parking_spot crate, which provides the needed registry for the operations.</p>
<p>Activated the spec testsuite for threads.</p>
<p>Tests include:</p>
<ul>
<li>[ ] <code>wait32</code> doesn't block if the values don't match</li>
<li>[ ] <code>wait32</code> eventually times out if the values match</li>
<li>[ ] <code>wait32</code> traps on unshared memories</li>
<li>[ ] <code>notify</code> returns 0 on unshared memories</li>
<li>[ ] <code>notify</code> returns 0 with 0 waiters</li>
<li>[ ] <code>notify</code> returns the number woken (this one you can't precisely test for but you could add a sleep for ~100ms and otherwise retry the test N times until it works)</li>
<li>[ ] <code>wait32</code> and <code>notify</code> require in-bounds and aligned addresses</li>
</ul>
</blockquote>



<a name="310798551"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310798551" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310798551">(Nov 18 2022 at 11:29)</a>:</h4>
<p>haraldh edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>:</p>
<blockquote>
<p>Added the parking_spot crate, which provides the needed registry for the operations.</p>
<p>Activated the spec testsuite for threads.</p>
<p>Tests include:</p>
<ul>
<li>[ ] <code>wait32</code> doesn't block if the values don't match</li>
<li>[ ] <code>wait32</code> eventually times out if the values match</li>
<li>[ ] <code>wait32</code> traps on unshared memories</li>
<li>[ ] <code>notify</code> returns 0 on unshared memories</li>
<li>[ ] <code>notify</code> returns 0 with 0 waiters</li>
<li>[ ] <code>notify</code> returns the number woken (this one you can't precisely test for but you could add a sleep for ~100ms and otherwise retry the test N times until it works)</li>
<li>[x] <code>wait32</code> and <code>notify</code> require in-bounds and aligned addresses</li>
</ul>
</blockquote>



<a name="310817144"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310817144" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310817144">(Nov 18 2022 at 13:04)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310817424"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310817424" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310817424">(Nov 18 2022 at 13:06)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1186064081">PR review</a>.</p>



<a name="310817425"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310817425" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310817425">(Nov 18 2022 at 13:06)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026412967">PR review comment</a>:</p>
<blockquote>
<p>nevertheless, by adding <code>Shared::Memory::atomic_*</code> methods, I got  rid of it.</p>
</blockquote>



<a name="310821080"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310821080" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310821080">(Nov 18 2022 at 13:24)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310828802"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310828802" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310828802">(Nov 18 2022 at 14:02)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310829096"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310829096" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310829096">(Nov 18 2022 at 14:03)</a>:</h4>
<p>haraldh edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>:</p>
<blockquote>
<p>Added the parking_spot crate, which provides the needed registry for the operations.</p>
<p>Activated the spec testsuite for threads.</p>
<p>Tests include:</p>
<ul>
<li>[ ] <code>wait32</code> doesn't block if the values don't match</li>
<li>[ ] <code>wait32</code> eventually times out if the values match</li>
<li>[x] <code>wait32</code> traps on unshared memories</li>
<li>[ ] <code>notify</code> returns 0 on unshared memories</li>
<li>[ ] <code>notify</code> returns 0 with 0 waiters</li>
<li>[ ] <code>notify</code> returns the number woken (this one you can't precisely test for but you could add a sleep for ~100ms and otherwise retry the test N times until it works)</li>
<li>[x] <code>wait32</code> and <code>notify</code> require in-bounds and aligned addresses</li>
</ul>
</blockquote>



<a name="310836629"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310836629" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310836629">(Nov 18 2022 at 14:42)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310836668"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310836668" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310836668">(Nov 18 2022 at 14:42)</a>:</h4>
<p>haraldh edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>:</p>
<blockquote>
<p>Added the parking_spot crate, which provides the needed registry for the operations.</p>
<p>Activated the spec testsuite for threads.</p>
<p>Tests include:</p>
<ul>
<li>[ ] <code>wait32</code> doesn't block if the values don't match</li>
<li>[ ] <code>wait32</code> eventually times out if the values match</li>
<li>[x] <code>wait32</code> traps on unshared memories</li>
<li>[x] <code>notify</code> returns 0 on unshared memories</li>
<li>[ ] <code>notify</code> returns 0 with 0 waiters</li>
<li>[ ] <code>notify</code> returns the number woken (this one you can't precisely test for but you could add a sleep for ~100ms and otherwise retry the test N times until it works)</li>
<li>[x] <code>wait32</code> and <code>notify</code> require in-bounds and aligned addresses</li>
</ul>
</blockquote>



<a name="310836671"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310836671" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310836671">(Nov 18 2022 at 14:42)</a>:</h4>
<p>haraldh edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>:</p>
<blockquote>
<p>Added the parking_spot crate, which provides the needed registry for the operations.</p>
<p>Activated the spec testsuite for threads.</p>
<p>Tests include:</p>
<ul>
<li>[ ] <code>wait32</code> doesn't block if the values don't match</li>
<li>[ ] <code>wait32</code> eventually times out if the values match</li>
<li>[x] <code>wait32</code> traps on unshared memories</li>
<li>[x] <code>notify</code> returns 0 on unshared memories</li>
<li>[x] <code>notify</code> returns 0 with 0 waiters</li>
<li>[ ] <code>notify</code> returns the number woken (this one you can't precisely test for but you could add a sleep for ~100ms and otherwise retry the test N times until it works)</li>
<li>[x] <code>wait32</code> and <code>notify</code> require in-bounds and aligned addresses</li>
</ul>
</blockquote>



<a name="310838270"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310838270" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310838270">(Nov 18 2022 at 14:50)</a>:</h4>
<p>haraldh edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>:</p>
<blockquote>
<p>Added the parking_spot crate, which provides the needed registry for the operations.</p>
<p>Tests include:</p>
<ul>
<li>[ ] <code>wait32</code> doesn't block if the values don't match</li>
<li>[ ] <code>wait32</code> eventually times out if the values match</li>
<li>[x] <code>wait32</code> traps on unshared memories</li>
<li>[x] <code>notify</code> returns 0 on unshared memories</li>
<li>[x] <code>notify</code> returns 0 with 0 waiters</li>
<li>[ ] <code>notify</code> returns the number woken (this one you can't precisely test for but you could add a sleep for ~100ms and otherwise retry the test N times until it works)</li>
<li>[x] <code>wait32</code> and <code>notify</code> require in-bounds and aligned addresses</li>
</ul>
</blockquote>



<a name="310848361"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310848361" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310848361">(Nov 18 2022 at 15:36)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1186316170">PR review</a>.</p>



<a name="310848363"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310848363" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310848363">(Nov 18 2022 at 15:36)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026573727">PR review comment</a>:</p>
<blockquote>
<p>Would it work to use <a href="https://docs.rs/anyhow/latest/anyhow/macro.ensure.html"><code>anyhow::ensure</code></a>?</p>
</blockquote>



<a name="310848364"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310848364" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310848364">(Nov 18 2022 at 15:36)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1186316170">PR review</a>.</p>



<a name="310848365"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310848365" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310848365">(Nov 18 2022 at 15:36)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026576693">PR review comment</a>:</p>
<blockquote>
<p>One thing I might recommend, could the <code>unsafe</code> functions here be removed? That way the libcalls to delegate validation to these functions and that would remove the need to have <code>unsafe</code> interfaces entirely ideally.</p>
</blockquote>



<a name="310848366"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310848366" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310848366">(Nov 18 2022 at 15:36)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026583062">PR review comment</a>:</p>
<blockquote>
<p>Thanks for adding these, and if you're interested the final step of exposing these would be to have them public in the <code>wasmtime::SharedMemory</code> structure as well. Embedders don't get access to <code>wasmtime_runtime::SharedMemory</code> at this time. Again though if you'd prefer it's ok to defer this to a future PR.</p>
</blockquote>



<a name="310848367"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310848367" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310848367">(Nov 18 2022 at 15:36)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026581618">PR review comment</a>:</p>
<blockquote>
<p>I think it's ok to leave this scoped to <code>SharedMemory</code> for now since that's all it's used for</p>
</blockquote>



<a name="310848368"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310848368" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310848368">(Nov 18 2022 at 15:36)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026579157">PR review comment</a>:</p>
<blockquote>
<p>This doesn't have the desired semantics for the <code>atomic_wait32</code> instruction unfortunately. I would recommend not storing the <code>ParkingSpot</code> state inside the <code>RwLock</code> of a shared memory. The problem here is that memory is read-locked for the entire duration of the park, meaning that a concurrent memory growth is blocked until this wakes up.</p>
<p>This would actually make a great test as well. It's ok to leave this sort of test to later though if you prefer. Basically though there could be tests that while a thread is parked all other operations can still happen concurrently.</p>
</blockquote>



<a name="310848371"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310848371" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310848371">(Nov 18 2022 at 15:36)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026580494">PR review comment</a>:</p>
<blockquote>
<p>I'll note this was not a problem earlier due to the <code>Arc&lt;ParkingSpot&gt;</code> being cloned out of the internal storage. That's another possible solution, but if the storage for the spot is stored outside the <code>RwLock</code> it retains the ability to avoid extraneous <code>Arc</code> clones too.</p>
</blockquote>



<a name="310851079"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310851079" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310851079">(Nov 18 2022 at 15:47)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310856404"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310856404" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310856404">(Nov 18 2022 at 16:10)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310856469"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310856469" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310856469">(Nov 18 2022 at 16:10)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1186385323">PR review</a>.</p>



<a name="310856470"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310856470" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310856470">(Nov 18 2022 at 16:10)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026618221">PR review comment</a>:</p>
<blockquote>
<p>yes... fixed</p>
</blockquote>



<a name="310858539"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310858539" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310858539">(Nov 18 2022 at 16:20)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310858558"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310858558" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310858558">(Nov 18 2022 at 16:20)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1186400656">PR review</a>.</p>



<a name="310858560"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310858560" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310858560">(Nov 18 2022 at 16:20)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026628094">PR review comment</a>:</p>
<blockquote>
<p>removed totally</p>
</blockquote>



<a name="310858883"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310858883" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310858883">(Nov 18 2022 at 16:22)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="310871215"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310871215" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310871215">(Nov 18 2022 at 17:20)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1186491640">PR review</a>.</p>



<a name="310871219"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310871219" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310871219">(Nov 18 2022 at 17:20)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1186491640">PR review</a>.</p>



<a name="310871222"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310871222" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310871222">(Nov 18 2022 at 17:20)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026689267">PR review comment</a>:</p>
<blockquote>
<p>Could this have a more descriptive name than <code>InnerInner</code> perhaps?</p>
</blockquote>



<a name="310871229"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310871229" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310871229">(Nov 18 2022 at 17:20)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026688313">PR review comment</a>:</p>
<blockquote>
<p>I do realize that this fixes the issue of "I added a <code>*.wast</code> file and would like it to get picked up", but personally I'd prefer to leave this out if you're ok with it. I find it much more useful to work on a <code>*.wast</code> file and have a quick cycle time with <code>cargo test --test all the_test</code> personally and having this here would force a rebuild of the test binary for any edit to the <code>*.wast</code> files.</p>
</blockquote>



<a name="310871231"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/310871231" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#310871231">(Nov 18 2022 at 17:20)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1026688979">PR review comment</a>:</p>
<blockquote>
<p>Could this logic, in addition to issues related to pooling and threads, all get resolved in <code>tests/all/wast.rs</code>? The <code>wast.rs</code> file already has a lot of logic for dealing with various special cases and ideally this build script is just "go call the <code>wast.rs</code> function with all the found tests"</p>
</blockquote>



<a name="311101348"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311101348" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311101348">(Nov 20 2022 at 06:06)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="311101401"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311101401" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311101401">(Nov 20 2022 at 06:07)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1187212264">PR review</a>.</p>



<a name="311101402"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311101402" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311101402">(Nov 20 2022 at 06:07)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1027231379">PR review comment</a>:</p>
<blockquote>
<p><code>SharedMemoryInnerRwLocked</code></p>
</blockquote>



<a name="311101406"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311101406" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311101406">(Nov 20 2022 at 06:07)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1187212281">PR review</a>.</p>



<a name="311101407"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311101407" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311101407">(Nov 20 2022 at 06:07)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1027231388">PR review comment</a>:</p>
<blockquote>
<p>removed</p>
</blockquote>



<a name="311101413"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311101413" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311101413">(Nov 20 2022 at 06:07)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1027231394">PR review comment</a>:</p>
<blockquote>
<p>done</p>
</blockquote>



<a name="311101414"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311101414" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311101414">(Nov 20 2022 at 06:07)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1187212289">PR review</a>.</p>



<a name="311101808"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311101808" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311101808">(Nov 20 2022 at 06:15)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="311103439"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311103439" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311103439">(Nov 20 2022 at 06:45)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="311231790"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311231790" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311231790">(Nov 21 2022 at 07:58)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="311232336"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311232336" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311232336">(Nov 21 2022 at 08:03)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1187726682">PR review</a>.</p>



<a name="311232338"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311232338" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311232338">(Nov 21 2022 at 08:03)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1027682170">PR review comment</a>:</p>
<blockquote>
<p>So, the spectests expect the alignment check before any other trap and even in the non-shared  case.<br>
Because I can't get to a <code>SharedMemory</code> object in the non-shared case, the <code>validate_addr</code> has to live elsewhere, so I moved it in the fast path to  <code>VMMemoryDefinition</code>.</p>
<p>And in the shared memory case, I have already validated the Atomic address, so I thought, I create an unchecked version called with the already validated address to not do the same work twice.</p>
</blockquote>



<a name="311232388"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311232388" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311232388">(Nov 21 2022 at 08:03)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1187727140">PR review</a>.</p>



<a name="311232389"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311232389" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311232389">(Nov 21 2022 at 08:03)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#discussion_r1027682491">PR review comment</a>:</p>
<blockquote>
<p>See the comment on <code>unchecked_atomic_notify</code>.</p>
</blockquote>



<a name="311282815"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311282815" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311282815">(Nov 21 2022 at 13:33)</a>:</h4>
<p>haraldh edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>:</p>
<blockquote>
<p>Added the parking_spot crate, which provides the needed registry for the operations.</p>
<p>Tests include:</p>
<ul>
<li>[x] <code>wait32</code> doesn't block if the values don't match</li>
<li>[ ] <code>wait32</code> eventually times out if the values match</li>
<li>[x] <code>wait32</code> traps on unshared memories</li>
<li>[x] <code>notify</code> returns 0 on unshared memories</li>
<li>[x] <code>notify</code> returns 0 with 0 waiters</li>
<li>[ ] <code>notify</code> returns the number woken (this one you can't precisely test for but you could add a sleep for ~100ms and otherwise retry the test N times until it works)</li>
<li>[x] <code>wait32</code> and <code>notify</code> require in-bounds and aligned addresses</li>
</ul>
</blockquote>



<a name="311282919"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311282919" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311282919">(Nov 21 2022 at 13:34)</a>:</h4>
<p>haraldh edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>:</p>
<blockquote>
<p>Added the parking_spot crate, which provides the needed registry for the operations.</p>
<p>Tests include:</p>
<ul>
<li>[x] <code>wait32</code> doesn't block if the values don't match</li>
<li>[x] <code>wait32</code> eventually times out if the values match</li>
<li>[x] <code>wait32</code> traps on unshared memories</li>
<li>[x] <code>notify</code> returns 0 on unshared memories</li>
<li>[x] <code>notify</code> returns 0 with 0 waiters</li>
<li>[ ] <code>notify</code> returns the number woken (this one you can't precisely test for but you could add a sleep for ~100ms and otherwise retry the test N times until it works)</li>
<li>[x] <code>wait32</code> and <code>notify</code> require in-bounds and aligned addresses</li>
</ul>
</blockquote>



<a name="311283191"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311283191" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311283191">(Nov 21 2022 at 13:36)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="311425897"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311425897" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311425897">(Nov 21 2022 at 17:00)</a>:</h4>
<p>haraldh updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> from <code>feature/atomic_wait_notify</code> to <code>main</code>.</p>



<a name="311426127"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311426127" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311426127">(Nov 21 2022 at 17:01)</a>:</h4>
<p><strong>haraldh</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a> as ready for review.</p>



<a name="311426149"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311426149" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311426149">(Nov 21 2022 at 17:01)</a>:</h4>
<p><strong>haraldh</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a>.</p>



<a name="311435419"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311435419" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311435419">(Nov 21 2022 at 17:52)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5255#pullrequestreview-1188716401">PR review</a>.</p>



<a name="311435432"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311435432" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311435432">(Nov 21 2022 at 17:52)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a>.</p>



<a name="311441054"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235255%20feat%3A%20implement%20memory.atomic.notify%2C.../near/311441054" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235255.20feat.3A.20implement.20memory.2Eatomic.2Enotify.2C.2E.2E.2E.html#311441054">(Nov 21 2022 at 18:23)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/5255">PR #5255</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>