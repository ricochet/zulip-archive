<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2208 Add an initial wasi-nn implementation... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html">wasmtime / PR #2208 Add an initial wasi-nn implementation...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="210555392"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/210555392" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#210555392">(Sep 18 2020 at 18:06)</a>:</h4>
<p>abrown opened <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/tests/example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[ ] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify <code>wasmtime-wasi-nn</code> works</li>
<li>[ ] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[ ] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="210555477"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/210555477" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#210555477">(Sep 18 2020 at 18:06)</a>:</h4>
<p>abrown edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/tests/example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[ ] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[ ] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[ ] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="211948723"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/211948723" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#211948723">(Oct 01 2020 at 17:55)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/sunfishcode">sunfishcode</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a>.</p>



<a name="211948760"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/211948760" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#211948760">(Oct 01 2020 at 17:55)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> and <a href="https://github.com/sunfishcode">sunfishcode</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a>.</p>



<a name="211948838"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/211948838" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#211948838">(Oct 01 2020 at 17:56)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a>, <a href="https://github.com/pchickey">pchickey</a> and <a href="https://github.com/sunfishcode">sunfishcode</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a>.</p>



<a name="212106038"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/212106038" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#212106038">(Oct 02 2020 at 17:43)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#pullrequestreview-501328719">PR Review</a>.</p>



<a name="212207208"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/212207208" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#212207208">(Oct 04 2020 at 05:36)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#pullrequestreview-501587824">PR Review</a>.</p>



<a name="212207209"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/212207209" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#212207209">(Oct 04 2020 at 05:36)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#pullrequestreview-501587824">PR Review</a>.</p>



<a name="212207210"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/212207210" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#212207210">(Oct 04 2020 at 05:36)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#discussion_r499201527">PR Review Comment</a>:</p>
<blockquote>
<p>Is this copy of SECURITY.md file still needed? Does this come from wasi-nn-rust-bindings previously living in its own repository?</p>
</blockquote>



<a name="212207211"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/212207211" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#212207211">(Oct 04 2020 at 05:36)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#discussion_r499202284">PR Review Comment</a>:</p>
<blockquote>
<p>For my curiosity, what is a .bdsignore file?</p>
</blockquote>



<a name="212207212"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/212207212" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#212207212">(Oct 04 2020 at 05:36)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#discussion_r499206605">PR Review Comment</a>:</p>
<blockquote>
<p>Is anyhow used in the witx-generation macros, or could it be a dev-dependency?</p>
</blockquote>



<a name="213218213"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/213218213" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#213218213">(Oct 13 2020 at 21:18)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#pullrequestreview-507836370">PR Review</a>.</p>



<a name="213218214"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/213218214" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#213218214">(Oct 13 2020 at 21:18)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#discussion_r504264487">PR Review Comment</a>:</p>
<blockquote>
<p>Nope, comes from living in its own repository--removed.</p>
</blockquote>



<a name="213218286"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/213218286" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#213218286">(Oct 13 2020 at 21:19)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#pullrequestreview-507836774">PR Review</a>.</p>



<a name="213218287"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/213218287" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#213218287">(Oct 13 2020 at 21:19)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#discussion_r504264818">PR Review Comment</a>:</p>
<blockquote>
<p>It's from Black Duck Protex, which we have to use in scanning code we release... I'll remove them.</p>
</blockquote>



<a name="213218978"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/213218978" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#213218978">(Oct 13 2020 at 21:25)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#pullrequestreview-507840548">PR Review</a>.</p>



<a name="213218979"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/213218979" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#213218979">(Oct 13 2020 at 21:25)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#discussion_r504267797">PR Review Comment</a>:</p>
<blockquote>
<p>If I remove it:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span><span class="p">[</span><span class="n">E0433</span><span class="p">]</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">resolve</span>: <span class="nc">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">undeclared</span><span class="w"> </span><span class="k">type</span> <span class="nc">or</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="err">`</span><span class="n">anyhow</span><span class="err">`</span><span class="w"></span>
<span class="w">  </span><span class="o">-</span>-&gt; <span class="nc">crates</span><span class="o">/</span><span class="n">wasi</span><span class="o">-</span><span class="n">nn</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">9</span>:<span class="mi">1</span><span class="w"></span>
<span class="w">   </span><span class="o">|</span><span class="w"></span>
<span class="mi">9</span><span class="w">  </span><span class="o">|</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">wasmtime_wiggle</span>::<span class="n">wasmtime_integration</span><span class="o">!</span><span class="p">({</span><span class="w"></span>
<span class="mi">10</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="c1">// The wiggle code to integrate with lives here:</span>
<span class="mi">11</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="n">target</span>: <span class="nc">witx</span><span class="p">,</span><span class="w"></span>
<span class="mi">12</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="c1">// This must be the same witx document as used above:</span>
<span class="o">..</span><span class="p">.</span><span class="w">  </span><span class="o">|</span><span class="w"></span>
<span class="mi">25</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="n">missing_memory</span>: <span class="p">{</span><span class="w"> </span><span class="n">witx</span>::<span class="n">types</span>::<span class="n">Errno</span>::<span class="n">MissingMemory</span><span class="w"> </span><span class="p">},</span><span class="w"></span>
<span class="mi">26</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="p">});</span><span class="w"></span>
<span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="o">|</span><span class="n">___</span><span class="o">^</span><span class="w"> </span><span class="k">use</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">undeclared</span><span class="w"> </span><span class="k">type</span> <span class="nc">or</span><span class="w"> </span><span class="n">module</span><span class="w"> </span><span class="err">`</span><span class="n">anyhow</span><span class="err">`</span><span class="w"></span>
<span class="w">   </span><span class="o">|</span><span class="w"></span>
<span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">note</span>: <span class="nc">this</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">originates</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">Nightly</span><span class="w"> </span><span class="n">builds</span><span class="p">,</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">-</span><span class="n">Z</span><span class="w"> </span><span class="kr">macro</span><span class="o">-</span><span class="n">backtrace</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">info</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p>So it looks like it needs to be included?</p>
</blockquote>



<a name="213219148"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/213219148" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#213219148">(Oct 13 2020 at 21:27)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/tests/example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[ ] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[ ] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[ ] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="213611112"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/213611112" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#213611112">(Oct 16 2020 at 20:37)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/tests/example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[ ] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[ ] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[ ] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="213611174"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/213611174" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#213611174">(Oct 16 2020 at 20:38)</a>:</h4>
<p>abrown edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/tests/example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[ ] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[ ] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="213611231"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/213611231" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#213611231">(Oct 16 2020 at 20:38)</a>:</h4>
<p>abrown edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/tests/example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[ ] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="213613088"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/213613088" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#213613088">(Oct 16 2020 at 20:55)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/tests/example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[ ] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="213613137"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/213613137" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#213613137">(Oct 16 2020 at 20:55)</a>:</h4>
<p>abrown edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[ ] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214260433"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214260433" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214260433">(Oct 22 2020 at 23:39)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[ ] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214260437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214260437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214260437">(Oct 22 2020 at 23:39)</a>:</h4>
<p>abrown edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214260531"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214260531" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214260531">(Oct 22 2020 at 23:40)</a>:</h4>
<p>abrown edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214260957"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214260957" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214260957">(Oct 22 2020 at 23:47)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214261050"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214261050" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214261050">(Oct 22 2020 at 23:49)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214261173"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214261173" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214261173">(Oct 22 2020 at 23:51)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214261382"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214261382" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214261382">(Oct 22 2020 at 23:55)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214261580"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214261580" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214261580">(Oct 22 2020 at 23:59)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214333077"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214333077" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214333077">(Oct 23 2020 at 16:13)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214334685"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214334685" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214334685">(Oct 23 2020 at 16:27)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214336346"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214336346" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214336346">(Oct 23 2020 at 16:40)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214337325"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214337325" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214337325">(Oct 23 2020 at 16:48)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214339413"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214339413" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214339413">(Oct 23 2020 at 17:06)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214339517"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214339517" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214339517">(Oct 23 2020 at 17:07)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214340083"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214340083" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214340083">(Oct 23 2020 at 17:12)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214343160"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214343160" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214343160">(Oct 23 2020 at 17:38)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214346774"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214346774" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214346774">(Oct 23 2020 at 18:07)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214346987"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214346987" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214346987">(Oct 23 2020 at 18:09)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214395467"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214395467" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214395467">(Oct 23 2020 at 23:03)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214396285"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214396285" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214396285">(Oct 23 2020 at 23:17)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214397616"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214397616" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214397616">(Oct 23 2020 at 23:41)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214398962"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214398962" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214398962">(Oct 24 2020 at 00:07)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="214399700"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214399700" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214399700">(Oct 24 2020 at 00:24)</a>:</h4>
<p><strong>abrown</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> as ready for review.</p>



<a name="214399940"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214399940" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214399940">(Oct 24 2020 at 00:30)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> and <a href="https://github.com/pchickey">pchickey</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a>.</p>



<a name="214399951"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/214399951" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#214399951">(Oct 24 2020 at 00:30)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a>, <a href="https://github.com/pchickey">pchickey</a> and <a href="https://github.com/sunfishcode">sunfishcode</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a>.</p>



<a name="215359603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/215359603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#215359603">(Nov 02 2020 at 18:35)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="216550283"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/216550283" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#216550283">(Nov 13 2020 at 00:36)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a> from <code>wasi-nn-rebased</code> to <code>main</code>:</p>
<blockquote>
<p>This change adds a crate, <code>wasmtime-wasi-nn</code>, that uses <code>wiggle</code> to expose the current state of the wasi-nn API and <code>openvino</code> to implement the exposed functions. It includes an end-to-end test demonstrating how to do classification using wasi-nn:</p>
<ul>
<li><code>crates/wasi-nn/examples/classification-example</code> contains Rust code that is compiled to the <code>wasm32-wasi</code> target and run with a Wasmtime embedding that exposes the wasi-nn calls</li>
<li>the example uses Rust bindings for wasi-nn contained in <code>crates/wasi-nn/tests/wasi-nn-rust-bindings</code>; this crate contains code generated by <code>witx-bindgen</code> and eventually should be its own standalone crate</li>
</ul>
<p>This change does not wire up wasi-nn to Wasmtime in any way that an external user would be able to observe.</p>
<p>Things to discuss:</p>
<ul>
<li>[x] the end-to-end classification test contains a 95MB model weight file which adds considerable weight to a <code>git clone</code>--what to do? Removing the test would mean that the CI could not verify that <code>wasmtime-wasi-nn</code> works</li>
<li>[x] the <code>openvino</code> crate is not yet published but should be when <a href="https://github.com/openvinotoolkit/openvino/pull/2342">https://github.com/openvinotoolkit/openvino/pull/2342</a> is merged; this means that builds of this PR will fail until then [edit: I ended up publishing them prior to merging that PR; we are still trying to figure out where that code will end up]</li>
<li>[x] the <code>wasi-nn-rust-bindings</code> crate should probably be its own repository but I cannot move it there until I wade through Intel's external release process (for reference, it took me several weeks for the <code>openvino</code> crate); it could be moved to its own repository in a separate PR</li>
<li>[x] the last time we talked about this, the consensus was to hide the wasi-nn functionality behind a Cargo feature; I will check this item off once I figure out how to do that correctly but I wanted to get feedback on the current approach</li>
</ul>
</blockquote>



<a name="216915200"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/216915200" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#216915200">(Nov 16 2020 at 18:53)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2208#pullrequestreview-531612487">PR Review</a>.</p>



<a name="216915212"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232208%20Add%20an%20initial%20wasi-nn%20implementation.../near/216915212" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232208.20Add.20an.20initial.20wasi-nn.20implementation.2E.2E.2E.html#216915212">(Nov 16 2020 at 18:54)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/2208">PR #2208</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>