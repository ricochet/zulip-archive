<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9885 Refactor release builds, add aarch64-... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239885.20Refactor.20release.20builds.2C.20add.20aarch64-.2E.2E.2E.html">wasmtime / PR #9885 Refactor release builds, add aarch64-...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="490223775"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239885%20Refactor%20release%20builds%2C%20add%20aarch64-.../near/490223775" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239885.20Refactor.20release.20builds.2C.20add.20aarch64-.2E.2E.2E.html#490223775">(Dec 20 2024 at 20:08)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9885">PR #9885</a> from <code>alexcrichton:aarch64-musl-build</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This commit refactors the way release builds are done in CI in terms of configuration and then additionally adds aarch64-musl release artifacts as requested in #9875. The refactoring here is done to reduce the number of locations to understand release builds. Notably the <code>binary-compatible-builds</code> action was removed in favor of direct environment configuration in conjunction with docker images used to build. The <code>aarch64-musl</code> build itself happens in a container provided by the <code>cross</code> project to ensure that the right toolchain is configured.</p>
<p>Closes #9875</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="490225439"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239885%20Refactor%20release%20builds%2C%20add%20aarch64-.../near/490225439" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239885.20Refactor.20release.20builds.2C.20add.20aarch64-.2E.2E.2E.html#490225439">(Dec 20 2024 at 20:22)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9885">PR #9885</a>.</p>



<a name="490227420"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239885%20Refactor%20release%20builds%2C%20add%20aarch64-.../near/490227420" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239885.20Refactor.20release.20builds.2C.20add.20aarch64-.2E.2E.2E.html#490227420">(Dec 20 2024 at 20:39)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9885#issuecomment-2557688435">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9885">PR #9885</a>:</p>
<blockquote>
<p>@whitequark from <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/12437964798?pr=9885">this CI page</a> if you scroll to the bottom and find <code>bins-aarch64-musl</code> (here's a <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/12437964798/artifacts/2350223056">direct link</a>, not sure if that'll work) can you test that out? Mostly just make sure <code>./wasmtime --help</code> does something and maybe poke at the commands a bit. If that works I think this is probably good to go to eventually get integrated into wasmtime-py</p>
</blockquote>



<a name="490230159"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239885%20Refactor%20release%20builds%2C%20add%20aarch64-.../near/490230159" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239885.20Refactor.20release.20builds.2C.20add.20aarch64-.2E.2E.2E.html#490230159">(Dec 20 2024 at 21:02)</a>:</h4>
<p>whitequark <a href="https://github.com/bytecodealliance/wasmtime/pull/9885#issuecomment-2557711980">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9885">PR #9885</a>:</p>
<blockquote>
<p>OK so here is what I get if I run wasmtime in alpine edge on aarch64:<br>
![Screenshot_20241220_210142](<a href="https://github.com/user-attachments/assets/11dc3b19-dd29-4e4c-a4ff-9caf1d7f3fd5">https://github.com/user-attachments/assets/11dc3b19-dd29-4e4c-a4ff-9caf1d7f3fd5</a>)</p>
</blockquote>



<a name="490230681"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239885%20Refactor%20release%20builds%2C%20add%20aarch64-.../near/490230681" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239885.20Refactor.20release.20builds.2C.20add.20aarch64-.2E.2E.2E.html#490230681">(Dec 20 2024 at 21:07)</a>:</h4>
<p>whitequark <a href="https://github.com/bytecodealliance/wasmtime/pull/9885#issuecomment-2557717397">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9885">PR #9885</a>:</p>
<blockquote>
<p>I think this might be Alpine-specific, for some reason libgcc isn't installed by default? Anyway, after I fixed that, it ran and executed a real Wasm application (nextpnr).</p>
</blockquote>



<a name="490231473"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239885%20Refactor%20release%20builds%2C%20add%20aarch64-.../near/490231473" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239885.20Refactor.20release.20builds.2C.20add.20aarch64-.2E.2E.2E.html#490231473">(Dec 20 2024 at 21:15)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9885#issuecomment-2557725797">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9885">PR #9885</a>:</p>
<blockquote>
<p>Ok perfect, thanks! I still don't know how to best manage libgcc_s on musl but it's at least no worse-off than the x64 target which I believe has the same behavior.</p>
</blockquote>



<a name="490231478"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239885%20Refactor%20release%20builds%2C%20add%20aarch64-.../near/490231478" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239885.20Refactor.20release.20builds.2C.20add.20aarch64-.2E.2E.2E.html#490231478">(Dec 20 2024 at 21:15)</a>:</h4>
<p><strong>alexcrichton</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/9885">PR #9885</a> as ready for review.</p>



<a name="490231482"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239885%20Refactor%20release%20builds%2C%20add%20aarch64-.../near/490231482" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239885.20Refactor.20release.20builds.2C.20add.20aarch64-.2E.2E.2E.html#490231482">(Dec 20 2024 at 21:15)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9885">PR #9885</a>.</p>



<a name="490231483"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239885%20Refactor%20release%20builds%2C%20add%20aarch64-.../near/490231483" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239885.20Refactor.20release.20builds.2C.20add.20aarch64-.2E.2E.2E.html#490231483">(Dec 20 2024 at 21:15)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/dicej">dicej</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9885">PR #9885</a>.</p>



<a name="490320088"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239885%20Refactor%20release%20builds%2C%20add%20aarch64-.../near/490320088" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239885.20Refactor.20release.20builds.2C.20add.20aarch64-.2E.2E.2E.html#490320088">(Dec 21 2024 at 18:43)</a>:</h4>
<p>dicej submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9885#pullrequestreview-2518820424">PR review</a>.</p>



<a name="492131576"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239885%20Refactor%20release%20builds%2C%20add%20aarch64-.../near/492131576" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239885.20Refactor.20release.20builds.2C.20add.20aarch64-.2E.2E.2E.html#492131576">(Jan 06 2025 at 15:56)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9885">PR #9885</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>