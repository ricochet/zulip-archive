<html>
<head><meta charset="utf-8"><title>wasmtime / PR #4967 Allow WASI to open directories withou... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html">wasmtime / PR #4967 Allow WASI to open directories withou...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="300925467"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/300925467" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#300925467">(Sep 27 2022 at 01:34)</a>:</h4>
<p>sunfishcode opened <a href="https://github.com/bytecodealliance/wasmtime/pull/4967">PR #4967</a> from <code>sunfishcode/open-dir-or-not</code> to <code>main</code>:</p>
<blockquote>
<p><code>O_DIRECTORY</code> says that a directory is required, but <code>O_DIRECTORY</code> is not required for opening directories. To implement this on top of the current APIs, use <code>open_dir</code> to try to open a directory first, and then fall back to trying to open it as a file if that fails.</p>
<p>In the future, we may be able to simplify this code even more, using [<code>maybe_dir</code>], which is needed to allow Windows to be able to open a directory, though it needs <a href="https://github.com/bytecodealliance/cap-std/issues/277">bytecodealliance/cap-std#277</a> for Windows.</p>
<p>The testcase here is the testcase from #4947.</p>
<p>[<code>maybe_dir</code>]: <a href="https://docs.rs/cap-fs-ext/latest/cap_fs_ext/struct.OpenOptions.html#method.maybe_dir`">https://docs.rs/cap-fs-ext/latest/cap_fs_ext/struct.OpenOptions.html#method.maybe_dir`</a></p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="301061817"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301061817" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301061817">(Sep 27 2022 at 16:56)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4967">PR #4967</a> from <code>sunfishcode/open-dir-or-not</code> to <code>main</code>.</p>



<a name="301118032"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301118032" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301118032">(Sep 27 2022 at 21:09)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#pullrequestreview-1122698528">PR review</a>.</p>



<a name="301118033"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301118033" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301118033">(Sep 27 2022 at 21:09)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#pullrequestreview-1122698528">PR review</a>.</p>



<a name="301118034"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301118034" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301118034">(Sep 27 2022 at 21:09)</a>:</h4>
<p>rvolosatovs created <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#discussion_r981716035">PR review comment</a>:</p>
<blockquote>
<p>It looks like the error handling in this crate can benefit from quite some refactoring as this does not look like a maintainable way to match on errors.</p>
<p>Note, that this gets much worse for external users of this crate providing e.g. multiple <code>WasiFile</code> or <code>WasiDir</code> implementations, since users must return <code>wasi-common::Error</code> constructed internally from an <code>ErrorKind</code> in custom implementations or a few other special cases, e.g. from <a href="https://github.com/bytecodealliance/wasmtime/blob/29c7de73401347af6d8c7111bdb7a11f1b04c3b7/crates/wasi-common/src/snapshots/preview_1.rs#L48-L64">https://github.com/bytecodealliance/wasmtime/blob/29c7de73401347af6d8c7111bdb7a11f1b04c3b7/crates/wasi-common/src/snapshots/preview_1.rs#L48-L64</a>, anything else results in a trap and terminates execution.<br>
Every assertion on the error kind now requires a downcast and this runtime reflection step can fail if e.g. the <code>wasi-common</code> crate changes the set of specific error types returned <em>or</em> downcasted internally on update.</p>
<p>So perhaps these utilities should actually be public to expose them to users who may need to match on the error kind from outside this crate?</p>
</blockquote>



<a name="301118485"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301118485" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301118485">(Sep 27 2022 at 21:13)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#pullrequestreview-1122698528">PR review</a>.</p>



<a name="301127786"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301127786" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301127786">(Sep 27 2022 at 22:23)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#pullrequestreview-1122780550">PR review</a>.</p>



<a name="301127787"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301127787" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301127787">(Sep 27 2022 at 22:23)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#discussion_r981773375">PR review comment</a>:</p>
<blockquote>
<p>I agree that the current code is not great. It sounds like another way to approach this would be to get rid of the <code>anyhow</code> and downcasting altogether and just use an enum. I may be up for doing the work for this refactoring, but in this PR I'd like to focus on just fixing the underlying bug first, and we can figure out refactoring separately.<br>
</p>
</blockquote>



<a name="301127931"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301127931" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301127931">(Sep 27 2022 at 22:24)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4967">PR #4967</a> from <code>sunfishcode/open-dir-or-not</code> to <code>main</code>.</p>



<a name="301128880"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301128880" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301128880">(Sep 27 2022 at 22:32)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#pullrequestreview-1122792471">PR review</a>.</p>



<a name="301128881"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301128881" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301128881">(Sep 27 2022 at 22:32)</a>:</h4>
<p>rvolosatovs created <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#discussion_r981781905">PR review comment</a>:</p>
<blockquote>
<p>Yes, I agree that does not belong in this PR :)<br>
Another option could be an associated <code>type Error: AsRef&lt;ErrorKind&gt;</code> or <code>type Error: AsRef&lt;Errno&gt;</code>, whichever is the most applicable.</p>
</blockquote>



<a name="301204226"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301204226" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301204226">(Sep 28 2022 at 10:59)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#pullrequestreview-1123466648">PR review</a>.</p>



<a name="301204227"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301204227" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301204227">(Sep 28 2022 at 10:59)</a>:</h4>
<p>rvolosatovs submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#pullrequestreview-1123466648">PR review</a>.</p>



<a name="301204228"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301204228" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301204228">(Sep 28 2022 at 10:59)</a>:</h4>
<p>rvolosatovs created <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#discussion_r982252792">PR review comment</a>:</p>
<blockquote>
<p>(nit, I suppose?) I think this if statement is way too complex and hard to read, which is exactly why I introduced <a href="https://github.com/rvolosatovs/wasmtime/blob/5ffb7f8990d1562bf9a1b6b29e3faadc934d024f/crates/wasi-common/src/snapshots/preview_1.rs#L895-L898">https://github.com/rvolosatovs/wasmtime/blob/5ffb7f8990d1562bf9a1b6b29e3faadc934d024f/crates/wasi-common/src/snapshots/preview_1.rs#L895-L898</a> in #4947 </p>
</blockquote>



<a name="301204229"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301204229" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301204229">(Sep 28 2022 at 10:59)</a>:</h4>
<p>rvolosatovs created <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#discussion_r982253400">PR review comment</a>:</p>
<blockquote>
<p>this is very difficult to read and comprehend especially due to the nesting</p>
</blockquote>



<a name="301204231"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301204231" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301204231">(Sep 28 2022 at 10:59)</a>:</h4>
<p>rvolosatovs created <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#discussion_r982256350">PR review comment</a>:</p>
<blockquote>
<p>You mentioned a race condition in <a href="https://github.com/bytecodealliance/wasmtime/pull/4947/files#r980506965">https://github.com/bytecodealliance/wasmtime/pull/4947/files#r980506965</a> as reasoning for this PR, where the underlying filetype stored under a path could change between the calls, but doesn't this suffer from exact same race condition, where:</p>
<ol>
<li>initial <code>open_dir</code> fails on path <code>A</code> with <code>ENOTDIR</code></li>
<li>in the meantime, <code>A</code> is replaced by a directory</li>
<li><code>open_file</code> fails, because <code>A</code> is now a directory<br>
?</li>
</ol>
</blockquote>



<a name="301544218"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301544218" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301544218">(Sep 29 2022 at 22:45)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4967">PR #4967</a> from <code>sunfishcode/open-dir-or-not</code> to <code>main</code>.</p>



<a name="301554848"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301554848" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301554848">(Sep 30 2022 at 00:39)</a>:</h4>
<p>sunfishcode created <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#discussion_r984119384">PR review comment</a>:</p>
<blockquote>
<p>That's a good point. I need to look at this more closely.</p>
</blockquote>



<a name="301554849"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/301554849" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#301554849">(Sep 30 2022 at 00:39)</a>:</h4>
<p>sunfishcode submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#pullrequestreview-1126130456">PR review</a>.</p>



<a name="302651410"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/302651410" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#302651410">(Oct 06 2022 at 13:26)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#discussion_r989046674">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>        let non_dir_oflags = oflags.intersects(OFlags::CREATE | OFlags::EXCLUSIVE | OFlags::TRUNCATE);
</code></pre></div><br>
</p>
</blockquote>



<a name="302651413"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/302651413" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#302651413">(Oct 06 2022 at 13:26)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#pullrequestreview-1132999613">PR review</a>.</p>



<a name="302651416"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/302651416" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#302651416">(Oct 06 2022 at 13:26)</a>:</h4>
<p>haraldh submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#pullrequestreview-1132999613">PR review</a>.</p>



<a name="302651417"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/302651417" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#302651417">(Oct 06 2022 at 13:26)</a>:</h4>
<p>haraldh created <a href="https://github.com/bytecodealliance/wasmtime/pull/4967#discussion_r989045492">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>        let write = file_caps
            .intersects(FileCaps::WRITE | FileCaps::ALLOCATE | FileCaps::FILESTAT_SET_SIZE);
</code></pre></div><br>
</p>
</blockquote>



<a name="323092745"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/323092745" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#323092745">(Jan 23 2023 at 18:48)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4967">PR #4967</a> from <code>sunfishcode/open-dir-or-not</code> to <code>main</code>.</p>



<a name="323111478"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/323111478" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#323111478">(Jan 23 2023 at 20:26)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4967">PR #4967</a> from <code>sunfishcode/open-dir-or-not</code> to <code>main</code>.</p>



<a name="351692862"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234967%20Allow%20WASI%20to%20open%20directories%20withou.../near/351692862" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234967.20Allow.20WASI.20to.20open.20directories.20withou.2E.2E.2E.html#351692862">(Apr 21 2023 at 17:33)</a>:</h4>
<p>pchickey closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/4967">PR #4967</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>