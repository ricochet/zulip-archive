<html>
<head><meta charset="utf-8"><title>wasmtime / PR #5888 riscv64: Delete `SelectIf` instruction · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html">wasmtime / PR #5888 riscv64: Delete `SelectIf` instruction</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="338351116"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338351116" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338351116">(Feb 27 2023 at 15:00)</a>:</h4>
<p>afonso360 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/5888">PR #5888</a> from <code>riscv64-remove-selectif</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This PR deletes the <code>Inst::SelectIf</code> pseudo instruction from the RISC-V backend. This instruction was only used when lowering the <code>select_spectre_guard</code> clif instruction in a specific case of the input being preceded by an <code>icmp</code>. That being said, the instruction doesn't really do anything different from the regular select.</p>
<p>This PR removes the instruction and defaults to the regular <code>Inst::Select</code>. We get pretty much exactly the same codegen, with the exception that an additional <code>andi</code> is now added into the generated code. That doesn't seem to be to bad, and we can probably remove it with some additional effort if needed.</p>
</blockquote>



<a name="338352188"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338352188" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338352188">(Feb 27 2023 at 15:04)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1315781454">PR review</a>.</p>



<a name="338352189"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338352189" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338352189">(Feb 27 2023 at 15:04)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1118872670">PR review comment</a>:</p>
<blockquote>
<p><code>select_spectre_guard</code> shouldn't emit any branches. While the old code here is wrong, fixing it will require the split between <code>select</code> and <code>select_spectre_guard</code> again.</p>
</blockquote>



<a name="338353827"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338353827" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338353827">(Feb 27 2023 at 15:11)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1118881188">PR review comment</a>:</p>
<blockquote>
<p>I don't think we have a way of doing that with the base ISA on RISC-V. Do you know how other compilers handle this?</p>
</blockquote>



<a name="338353832"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338353832" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338353832">(Feb 27 2023 at 15:11)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1315794202">PR review</a>.</p>



<a name="338356259"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338356259" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338356259">(Feb 27 2023 at 15:19)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1315812913">PR review</a>.</p>



<a name="338356261"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338356261" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338356261">(Feb 27 2023 at 15:19)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1118893599">PR review comment</a>:</p>
<blockquote>
<p>You can use bit masking: <a href="https://github.com/RustCrypto/utils/blob/0256fff4d67edb4956f5200b877f41038c4ef7e7/cmov/src/portable.rs#L46-L47">https://github.com/RustCrypto/utils/blob/0256fff4d67edb4956f5200b877f41038c4ef7e7/cmov/src/portable.rs#L46-L47</a></p>
</blockquote>



<a name="338358060"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338358060" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338358060">(Feb 27 2023 at 15:26)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1315826309">PR review</a>.</p>



<a name="338358068"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338358068" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338358068">(Feb 27 2023 at 15:26)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1118902607">PR review comment</a>:</p>
<blockquote>
<p>Right, but I think that can still be speculated on right? My understanding is that we used <code>cmov</code> on x64 and <code>csel</code> on AArch64 because we had architectural guarantees that they wouldn't be speculated on?</p>
<p>I'm up for rewriting this if it does prevent speculation though.</p>
</blockquote>



<a name="338358386"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338358386" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338358386">(Feb 27 2023 at 15:27)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1118902607">PR review comment</a>.</p>



<a name="338358468"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338358468" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338358468">(Feb 27 2023 at 15:27)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1118902607">PR review comment</a>.</p>



<a name="338359600"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338359600" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338359600">(Feb 27 2023 at 15:32)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1315838651">PR review</a>.</p>



<a name="338359608"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338359608" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338359608">(Feb 27 2023 at 15:32)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1118910811">PR review comment</a>:</p>
<blockquote>
<p>While it is technically possible, I don't think any cpu would see a benefit in pattern matching this pattern and turning it back into a conditional branch that the branch predictor can speculate.</p>
</blockquote>



<a name="338359711"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338359711" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338359711">(Feb 27 2023 at 15:32)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1118902607">PR review comment</a>.</p>



<a name="338992506"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338992506" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338992506">(Mar 02 2023 at 02:34)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1320950929">PR review</a>.</p>



<a name="338992507"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/338992507" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#338992507">(Mar 02 2023 at 02:34)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1122538710">PR review comment</a>:</p>
<blockquote>
<p>What do you two think is the current state of this PR? I'm not sure what conclusions you've come to from this conversation.</p>
</blockquote>



<a name="339047673"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/339047673" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#339047673">(Mar 02 2023 at 09:42)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1321395283">PR review</a>.</p>



<a name="339047675"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/339047675" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#339047675">(Mar 02 2023 at 09:42)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1122832092">PR review comment</a>:</p>
<blockquote>
<p>I guess this PR is fine for now, but I did like to see a proper implementation of select_spectre_guard in the future.</p>
</blockquote>



<a name="339061889"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/339061889" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#339061889">(Mar 02 2023 at 10:44)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1122903717">PR review comment</a>:</p>
<blockquote>
<p>I have a version of this pretty much ready to go, but got distracted by the fuzzer SIMD stuff! I'll clean it up a little bit and push those commits.</p>
</blockquote>



<a name="339061890"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/339061890" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#339061890">(Mar 02 2023 at 10:44)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1321547748">PR review</a>.</p>



<a name="339071783"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/339071783" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#339071783">(Mar 02 2023 at 11:28)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5888">PR #5888</a> from <code>riscv64-remove-selectif</code> to <code>main</code>.</p>



<a name="339072381"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/339072381" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#339072381">(Mar 02 2023 at 11:31)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5888">PR #5888</a> from <code>riscv64-remove-selectif</code> to <code>main</code>.</p>



<a name="339073923"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/339073923" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#339073923">(Mar 02 2023 at 11:38)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5888">PR #5888</a> from <code>riscv64-remove-selectif</code> to <code>main</code>.</p>



<a name="339074611"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/339074611" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#339074611">(Mar 02 2023 at 11:41)</a>:</h4>
<p><strong>afonso360</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/5888">PR #5888</a> as ready for review.</p>



<a name="347664122"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/347664122" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#347664122">(Apr 07 2023 at 13:24)</a>:</h4>
<p><strong>afonso360</strong> requested <a href="https://github.com/elliottt">elliottt</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/5888">PR #5888</a>.</p>



<a name="347664125"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/347664125" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#347664125">(Apr 07 2023 at 13:24)</a>:</h4>
<p><strong>afonso360</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/5888">PR #5888</a>.</p>



<a name="347664126"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/347664126" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#347664126">(Apr 07 2023 at 13:24)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5888">PR #5888</a>.</p>



<a name="348266220"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348266220" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348266220">(Apr 10 2023 at 17:15)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1377834476">PR review</a>.</p>



<a name="348266221"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348266221" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348266221">(Apr 10 2023 at 17:15)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1377834476">PR review</a>.</p>



<a name="348266224"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348266224" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348266224">(Apr 10 2023 at 17:15)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1161902682">PR review comment</a>:</p>
<blockquote>
<p>Is the reason we can't use <code>lower_bmask</code> here its ultimate use of <code>gen_select_reg</code>? Would it be bad to rework the lowering of <code>SelectReg</code> to take this approach instead?</p>
</blockquote>



<a name="348266228"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348266228" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348266228">(Apr 10 2023 at 17:15)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1161899654">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>        ;; non_zero = ((normalized | ((!normalized) + 1)) &gt;&gt; 63) &amp; 1
</code></pre></div><br>
</p>
</blockquote>



<a name="348300731"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348300731" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348300731">(Apr 10 2023 at 20:40)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5888">PR #5888</a>.</p>



<a name="348302826"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348302826" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348302826">(Apr 10 2023 at 20:55)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1378124154">PR review</a>.</p>



<a name="348302827"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348302827" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348302827">(Apr 10 2023 at 20:55)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1162081158">PR review comment</a>:</p>
<blockquote>
<p>I hadn't even considered that this was a <code>bmask</code> operation! And yeah, I think this is a better lowering than what we currently have. However I check what <a href="https://godbolt.org/z/dcqq34d3d">LLVM produces for <code>bmask</code></a> and It's slightly better, so I'm going to rework <code>bmask</code> to use that and use that here.</p>
</blockquote>



<a name="348307764"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348307764" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348307764">(Apr 10 2023 at 21:33)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5888">PR #5888</a>.</p>



<a name="348308928"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348308928" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348308928">(Apr 10 2023 at 21:43)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1378170705">PR review</a>.</p>



<a name="348308929"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348308929" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348308929">(Apr 10 2023 at 21:43)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1162112439">PR review comment</a>:</p>
<blockquote>
<p>I'm much happier with the output of this now, Thanks!</p>
<hr>
<p>I'm now re-reading your comment, and realizing there was a second part about <code>SelectReg</code> that I missed. </p>
<p>I have somewhat mixed feelings about making <code>Inst::SelectReg</code> do something like this, It would be quite a bit longer (~4 instructions I think?). But it would be really nice since we could move it entirely into ISLE. However I don't think that justifies it, it's a really common operation in the backend. </p>
<p>I'm willing to be persuaded otherwise though!</p>
</blockquote>



<a name="348311645"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348311645" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348311645">(Apr 10 2023 at 22:03)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1378187701">PR review</a>.</p>



<a name="348311646"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348311646" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348311646">(Apr 10 2023 at 22:03)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1162123863">PR review comment</a>:</p>
<blockquote>
<p>My worry with recommending <code>lower_bmask</code> was that it used <code>gen_select_reg</code> internally, which will produce jumps to select the result. Since <code>lower_bmask</code> no longer relies on <code>gen_select_reg</code>, I don't see any reason to rework the <code>SelectReg</code> emit code :)</p>
</blockquote>



<a name="348321232"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348321232" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348321232">(Apr 10 2023 at 23:18)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1378241560">PR review</a>.</p>



<a name="348321233"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348321233" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348321233">(Apr 10 2023 at 23:18)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1162160991">PR review comment</a>:</p>
<blockquote>
<p>Since <code>lower_bmask</code> can already produce an <code>I128</code> result, I think the following should be equivalent:</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>        (wide_mask Reg (lower_bmask ty cmp_ty cmp))
        ;; Using the mask above we can select either `x` or `y` by
        ;; performing a bitwise `and` on both sides and then merging them
        ;; together. We know that only the bits of one of the sides will be selected.
        ;; TODO: We can use `andn` here if we have `Zbb`
        (lhs ValueRegs (gen_and arg_ty x wide_mask))
        (rhs ValueRegs (gen_and arg_ty y (gen_bnot arg_ty wide_mask))))
</code></pre></div><br>
</p>
</blockquote>



<a name="348322340"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348322340" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348322340">(Apr 10 2023 at 23:29)</a>:</h4>
<p>elliottt edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1162160991">PR review comment</a>.</p>



<a name="348322525"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348322525" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348322525">(Apr 10 2023 at 23:31)</a>:</h4>
<p>elliottt edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1162160991">PR review comment</a>.</p>



<a name="348395629"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348395629" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348395629">(Apr 11 2023 at 08:49)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5888">PR #5888</a>.</p>



<a name="348511966"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348511966" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348511966">(Apr 11 2023 at 16:37)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1379678441">PR review</a>.</p>



<a name="348511967"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348511967" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348511967">(Apr 11 2023 at 16:37)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#pullrequestreview-1379678441">PR review</a>.</p>



<a name="348511970"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348511970" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348511970">(Apr 11 2023 at 16:37)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/5888#discussion_r1163069326">PR review comment</a>:</p>
<blockquote>
<p>It would be nice if <code>normalize_cmp_value</code> didn't normalize constants whose value already fit in the target type, but there's no need to fix that on this PR.</p>
</blockquote>



<a name="348533008"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235888%20riscv64%3A%20Delete%20%60SelectIf%60%20instruction/near/348533008" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235888.20riscv64.3A.20Delete.20.60SelectIf.60.20instruction.html#348533008">(Apr 11 2023 at 18:15)</a>:</h4>
<p>afonso360 merged <a href="https://github.com/bytecodealliance/wasmtime/pull/5888">PR #5888</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>