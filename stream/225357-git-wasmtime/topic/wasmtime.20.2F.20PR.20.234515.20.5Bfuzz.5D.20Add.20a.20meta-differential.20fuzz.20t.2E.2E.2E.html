<html>
<head><meta charset="utf-8"><title>wasmtime / PR #4515 [fuzz] Add a meta-differential fuzz t... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html">wasmtime / PR #4515 [fuzz] Add a meta-differential fuzz t...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="290581277"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290581277" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290581277">(Jul 23 2022 at 00:16)</a>:</h4>
<p>abrown opened <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>:</p>
<blockquote>
<p>This fuzz target combines past efforts to fuzz Wasmtime against various engines and against various kinds of modules. Once complete, it is intended to replace the other differential targets. Some notable changes in this PR include the addition of interfaces for each Wasm engine we want to fuzz against and the ability to evaluate a function multiple times with different randomly-generated inputs. See the commit messages for more details.</p>
</blockquote>



<a name="290581296"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290581296" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290581296">(Jul 23 2022 at 00:16)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a>.</p>



<a name="290581402"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290581402" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290581402">(Jul 23 2022 at 00:18)</a>:</h4>
<p><strong>jameysharp</strong> requested <a href="https://github.com/jameysharp">jameysharp</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a>.</p>



<a name="290769282"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769282" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769282">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1049581182">PR review</a>.</p>



<a name="290769283"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769283" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769283">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r928962394">PR review comment</a>:</p>
<blockquote>
<p>This might be better modeled as <code>TryFrom</code> to have callers acknowledge that the <code>From</code> is fallible.</p>
</blockquote>



<a name="290769284"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769284" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769284">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1049581182">PR review</a>.</p>



<a name="290769285"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769285" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769285">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r928962004">PR review comment</a>:</p>
<blockquote>
<p>One thing that might be good to add here is "known values" for each lane width like (1u64, 1u64), (-1i64, -1i64), (1u32, 2u32, 3u32, 4u32), etc.</p>
</blockquote>



<a name="290769286"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769286" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769286">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r928966810">PR review comment</a>:</p>
<blockquote>
<p>I think if this is <code>&amp;[u8]</code> instead of <code>[u8; 1024]</code> it's whatever the fuzzer gives, and otherwise it's required to be 1kb?</p>
</blockquote>



<a name="290769287"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769287" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769287">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r928963873">PR review comment</a>:</p>
<blockquote>
<p>Instead of having a separate structure for this couldd all of <code>ModuleConfig</code> be passed around? Otherwise this seems a bit odd since it's missing a number of other proposals which could perhaps be relevant.</p>
</blockquote>



<a name="290769288"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769288" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769288">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r928977424">PR review comment</a>:</p>
<blockquote>
<p>I think that this is worth implementing but all that we can really say about these is "null" or "non-null" so I think we could have <code>DiffValue::ExternRef { is_null: bool }</code> perhaps</p>
</blockquote>



<a name="290769289"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769289" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769289">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r928974376">PR review comment</a>:</p>
<blockquote>
<p>Personally I get pretty easily lost in the maze of <code>Arbitrary</code> implementations and methods of configuration. Would it be possible to avoid having this and <code>arbitrary_with_compatible_config</code> below? Could some higher-up generate the <code>Config</code>/<code>Engine</code> and be responsible for passing it down?</p>
<p>Or otherwise it seems like with Wasmtime we'd want a constant <code>ModuleConfig</code> with possibly differing <code>WasmtimeConfig</code> or something like that.</p>
<p>If this is too difficult though or otherwise requires complications then I think that removing differential-wasmtime-with-itself is pretty reasonable. 90% of the value comes from differential execution with _something_ so adding more engines IMO doesn't increase our coverage really all that much.</p>
</blockquote>



<a name="290769290"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769290" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769290">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r928966139">PR review comment</a>:</p>
<blockquote>
<p>This loop may not play nicely with fuel right now since if the module has wasm-smith-injected fuel the fuel is never reset and otherwise with Wasmtime-injected fuel I'm not sure that's ever reset either.</p>
</blockquote>



<a name="290769291"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769291" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769291">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r928968551">PR review comment</a>:</p>
<blockquote>
<p>Reading over the implementations of this could this trait perhaps get changed to have something different like "get the hashable export named <code>foo</code>" to avoid requiring hardcoding the hash algorithm between all engines? That would also allow more direct comparisons and better errors along the lines of "the state of this global/memory is different" rather than "some state is different"</p>
</blockquote>



<a name="290769292"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769292" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769292">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r928969480">PR review comment</a>:</p>
<blockquote>
<p>Could this be <code>&amp;mut self</code> to avoid the <code>RefCell</code> needed for Wasmtime?</p>
</blockquote>



<a name="290769293"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769293" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769293">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r928975053">PR review comment</a>:</p>
<blockquote>
<p>Although as I say that I remember that different engines implement different features which is often the hard part and nothing implements Wasmtime's feature set other than Wasmtime exactly.</p>
</blockquote>



<a name="290769294"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290769294" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290769294">(Jul 25 2022 at 14:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r928979604">PR review comment</a>:</p>
<blockquote>
<p>One thing that may be helpful here is to use the concrete Wasmtime rhs to use Wasmtime's embedding API to determine this rather than using the <code>wasmparser</code> crate. </p>
<p>I also think it's reasonable for the <code>differential</code> function itself to just force the rhs to the Wasmtime concrete type because I don't think there's much value in having two 100% generic engines since we always want one to be Wasmtime anyway.</p>
</blockquote>



<a name="290816512"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290816512" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290816512">(Jul 25 2022 at 20:50)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r929262859">PR review comment</a>:</p>
<blockquote>
<p>This stuff should probably be in <code>generators/value.rs</code>.</p>
</blockquote>



<a name="290816513"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290816513" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290816513">(Jul 25 2022 at 20:50)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r929263669">PR review comment</a>:</p>
<blockquote>
<p>Ditto</p>
</blockquote>



<a name="290816514"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290816514" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290816514">(Jul 25 2022 at 20:50)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1050010392">PR review</a>.</p>



<a name="290816515"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290816515" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290816515">(Jul 25 2022 at 20:50)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r929287310">PR review comment</a>:</p>
<blockquote>
<p>Yeah, we should reset fuel for each call.</p>
</blockquote>



<a name="290816516"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290816516" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290816516">(Jul 25 2022 at 20:50)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1050010392">PR review</a>.</p>



<a name="290816517"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290816517" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290816517">(Jul 25 2022 at 20:50)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r929286857">PR review comment</a>:</p>
<blockquote>
<p>Running the exported functions multiple times will -- in general, between single-instruction modules and fuel limits -- be a lot cheaper than compiling and instantiating the module itself. Therefore, we should make sure we take as much advantage of the work we already did to get here by at least using each of our known values for each argument, and then whatever the fuzzer gives us that is left over can also be used to generate new inputs, but at least this way we know we are exercising every module with a bunch of different interesting argument values.</p>
</blockquote>



<a name="290820099"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290820099" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290820099">(Jul 25 2022 at 21:20)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r929308890">PR review comment</a>:</p>
<blockquote>
<p>It could... but actually it feels like the Wasmtime API shouldn't require a mutable store when we're only reading values.</p>
</blockquote>



<a name="290820101"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290820101" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290820101">(Jul 25 2022 at 21:20)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1050086525">PR review</a>.</p>



<a name="290823229"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290823229" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290823229">(Jul 25 2022 at 21:50)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1050112393">PR review</a>.</p>



<a name="290823230"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/290823230" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#290823230">(Jul 25 2022 at 21:50)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r929333153">PR review comment</a>:</p>
<blockquote>
<p>Wasmtime has its own internal reasons for this, namely that extracting items from an instance is done lazily and may insert items into the store. There's other possibilities like reading an externref global could trigger a gc or similar situations like that. </p>
<p>Overall I think it's best to stick with <code>&amp;mut</code> here.</p>
</blockquote>



<a name="291260358"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/291260358" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#291260358">(Jul 28 2022 at 22:24)</a>:</h4>
<p>alexcrichton closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a>.</p>



<a name="291260364"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/291260364" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#291260364">(Jul 28 2022 at 22:24)</a>:</h4>
<p>alexcrichton reopened <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="292205834"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292205834" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292205834">(Aug 05 2022 at 20:49)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="292757142"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292757142" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292757142">(Aug 10 2022 at 13:42)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="292758109"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292758109" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292758109">(Aug 10 2022 at 13:48)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="292777194"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292777194" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292777194">(Aug 10 2022 at 15:29)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="292811134"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292811134" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292811134">(Aug 10 2022 at 18:41)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="292836886"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292836886" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292836886">(Aug 10 2022 at 21:36)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="292845059"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292845059" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292845059">(Aug 10 2022 at 22:53)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="292846336"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292846336" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292846336">(Aug 10 2022 at 23:07)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="292849002"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292849002" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292849002">(Aug 10 2022 at 23:40)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1069044622">PR review</a>.</p>



<a name="292849003"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292849003" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292849003">(Aug 10 2022 at 23:40)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r942998775">PR review comment</a>:</p>
<blockquote>
<p>Is this newer version of <code>anyhow</code> necessary? If so, I think it should probably be reflected in the minimum version requirement in the appropriate <code>Cargo.toml</code>. Otherwise can you revert this change to <code>Cargo.lock</code>?</p>
<p>If you do need the upgrade, I don't think we should be adding cargo-vet exceptions. I hope a delta certification isn't a big deal for that crate.</p>
<p>If you're just adding the exception as a temporary thing to get CI past that check, could you clearly mark that commit so we don't forget to remove it again before merging?</p>
</blockquote>



<a name="292849004"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292849004" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292849004">(Aug 10 2022 at 23:40)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1069044622">PR review</a>.</p>



<a name="292861938"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292861938" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292861938">(Aug 11 2022 at 03:11)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r943064622">PR review comment</a>:</p>
<blockquote>
<p>No, sorry. I was just trying to make the CI green but was not reflecting too much on why this was even necessary. I think at one point in the lifetime of this PR I had brought anyhow to the fuzz targets but that is no longer necessary (besides, someone else has already brought that dependency in since this PR was opened). I'll fix up the lock file instead.</p>
</blockquote>



<a name="292861939"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292861939" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292861939">(Aug 11 2022 at 03:11)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1069134836">PR review</a>.</p>



<a name="292963074"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292963074" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292963074">(Aug 11 2022 at 16:24)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r943679980">PR review comment</a>:</p>
<blockquote>
<p>That's totally understandable!</p>
<p>On the other PR where you (briefly) added this exemption, I was worried we'd merged a lockfile change to <code>main</code> that somehow slipped past the cargo-vet CI checks. That's what I meant by wondering if we'd screwed up: it wouldn't be hugely surprising if either cargo-vet or the CI integration had a bug, and besides, as a community our processes around this are largely untested still. But it's nice to know that this particular case has a simpler explanation.</p>
</blockquote>



<a name="292963076"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292963076" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292963076">(Aug 11 2022 at 16:24)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1069998738">PR review</a>.</p>



<a name="292965392"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292965392" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292965392">(Aug 11 2022 at 16:38)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="292980902"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292980902" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292980902">(Aug 11 2022 at 18:07)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="292981066"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292981066" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292981066">(Aug 11 2022 at 18:08)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1070146526">PR review</a>.</p>



<a name="292981067"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292981067" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292981067">(Aug 11 2022 at 18:08)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r943785024">PR review comment</a>:</p>
<blockquote>
<p>Well, thanks for catching this (and the other PR!). This commit should be gone now as well as the unintential <code>Cargo.lock</code> upgrade.</p>
</blockquote>



<a name="292993104"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292993104" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292993104">(Aug 11 2022 at 19:22)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1070241668">PR review</a>.</p>



<a name="292993105"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292993105" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292993105">(Aug 11 2022 at 19:22)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r943851520">PR review comment</a>:</p>
<blockquote>
<p>I initially designed it like that but then moved to this when I realized that <code>SwarmConfig</code> (the <code>wasm-smith</code> struct what <code>ModuleConfig</code> wraps) is intended to "generate a module this way" and what I mean is "does a module use this feature?" So a lot of <code>SwarmConfig</code>, e.g., the minimum/maximums of various kinds, don't really apply. They don't matter to the engines for the most part (an engine can handle 10 instructions just as well as 100 instructions) and they don't make sense for the single-instruction modules (they always only have 1 instruction). That's when I switched from adapting a single-instance module to a <code>ModuleConfig/SwarmConfig</code> and instead started adapting a <code>ModuleConfig/SwarmConfig</code> to this new <code>ModuleFeatures</code>. Would you be more in favor of this struct if I added the remaining Wasm features to it?</p>
</blockquote>



<a name="292998173"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/292998173" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#292998173">(Aug 11 2022 at 19:54)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="293002283"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293002283" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293002283">(Aug 11 2022 at 20:18)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="293002996"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293002996" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293002996">(Aug 11 2022 at 20:23)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="293003609"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293003609" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293003609">(Aug 11 2022 at 20:27)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1070327513">PR review</a>.</p>



<a name="293003610"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293003610" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293003610">(Aug 11 2022 at 20:27)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r943912666">PR review comment</a>:</p>
<blockquote>
<p>I don't see how this would change things much: we still want a separate function to gather up the signatures of the functions to execute. <code>wasmparser</code> is already a dependency and it doesn't seem to me that switching to Wasmtime would reduce much code (?).</p>
</blockquote>



<a name="293003640"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293003640" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293003640">(Aug 11 2022 at 20:27)</a>:</h4>
<p>abrown edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r943912666">PR review comment</a>.</p>



<a name="293003848"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293003848" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293003848">(Aug 11 2022 at 20:28)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1070329152">PR review</a>.</p>



<a name="293003849"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293003849" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293003849">(Aug 11 2022 at 20:28)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r943913760">PR review comment</a>:</p>
<blockquote>
<p>I was dividing the code up by engine, so I chose to put all these engine-specific conversions together with the engine that needs them.</p>
</blockquote>



<a name="293006194"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293006194" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293006194">(Aug 11 2022 at 20:45)</a>:</h4>
<p><strong>abrown</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> as ready for review.</p>



<a name="293008217"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293008217" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293008217">(Aug 11 2022 at 21:00)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1070360801">PR review</a>.</p>



<a name="293008218"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293008218" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293008218">(Aug 11 2022 at 21:00)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r943935730">PR review comment</a>:</p>
<blockquote>
<p>The single-instruction modules that this PR uses don't exercise reference types but I agree that in the future, e.g., with <code>wasm-smith</code>-generated modules, this is probably what we want to do.</p>
</blockquote>



<a name="293014617"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293014617" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293014617">(Aug 11 2022 at 21:49)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1070404685">PR review</a>.</p>



<a name="293014619"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293014619" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293014619">(Aug 11 2022 at 21:49)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r943967211">PR review comment</a>:</p>
<blockquote>
<p>Right now, with only single-instruction modules, this shouldn't be too much of an issue but once we add in the wasm-smith modules this will be necessary; what is the right way to reset this?</p>
</blockquote>



<a name="293014820"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293014820" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293014820">(Aug 11 2022 at 21:50)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r943968058">PR review comment</a>:</p>
<blockquote>
<p>Yeah, this probably does need some changes but I'm not yet entirely clear what they are; I think looking at what is necessary for the OCaml spec interpreter might make things more clear (as mentioned <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#issuecomment-1212486350">here</a>).</p>
</blockquote>



<a name="293014821"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293014821" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293014821">(Aug 11 2022 at 21:50)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1070405809">PR review</a>.</p>



<a name="293623595"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293623595" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293623595">(Aug 15 2022 at 21:28)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1073237867">PR review</a>.</p>



<a name="293623596"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293623596" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293623596">(Aug 15 2022 at 21:28)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r946143676">PR review comment</a>:</p>
<blockquote>
<p>I ideally want to centralize on feature management instead of having multiple avenues and tests in different places for features. Fuzzing all the various features gets nontrivial in management complexity pretty quickly and I always get lost a few lines in whenever I try to bring myself back up to speed on the fuzzers.</p>
<p>Is it a problem to take <code>&amp;ModuleConfig</code> instead of <code>&amp;ModuleFeatures</code>? I presume that something motivated you to add this but I don't know what that is. I'd ideally like to tackle this problem if we can.</p>
</blockquote>



<a name="293623682"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293623682" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293623682">(Aug 15 2022 at 21:29)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1073238646">PR review</a>.</p>



<a name="293623683"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293623683" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293623683">(Aug 15 2022 at 21:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r946144258">PR review comment</a>:</p>
<blockquote>
<p>Currently there's no way to reset the fuel, we'd have to add an exported function in the <code>wasm-smith</code> generated module (or export the global) for it to get modified by the embedder.</p>
</blockquote>



<a name="293624033"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293624033" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293624033">(Aug 15 2022 at 21:31)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r946146245">PR review comment</a>:</p>
<blockquote>
<p>Using the Wasmtime embedding API is much more natural in my opinion, and the Wasmtime API is much more stable than the <code>wasmparser</code> API. I don't really want to keep up with random <code>wasmparser</code> changes way over here in the fuzzing code when one of the engines we're fuzzing against should always be Wasmtime anyway.</p>
<p>(I also don't think it's useful to be so abstract here that we could fuzz v8 against wasmi here, I would rather have "here's the wasmtime config" and "here's the other engine config" and the fuzzing is entirely driven by the Wasmtime embedding API plus requests to the engine config through a trait)</p>
</blockquote>



<a name="293624035"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293624035" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293624035">(Aug 15 2022 at 21:31)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1073241163">PR review</a>.</p>



<a name="293628268"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293628268" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293628268">(Aug 15 2022 at 22:06)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1073247791">PR review</a>.</p>



<a name="293628269"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293628269" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293628269">(Aug 15 2022 at 22:06)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1073247791">PR review</a>.</p>



<a name="293628270"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/293628270" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#293628270">(Aug 15 2022 at 22:06)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#discussion_r946150813">PR review comment</a>:</p>
<blockquote>
<p>This has found bugs in the past, so I think that it would be good to get a jump-start on this. There's some code in the v8 differential bits comparing traps, and I think that could broadly be used to get adapted here. We can't expect precisely the same errors all the time but if neither stack overflows for example then I think it's fair to ensure that both divided by zero or something like that.</p>
</blockquote>



<a name="294170983"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/294170983" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#294170983">(Aug 18 2022 at 21:11)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="294176588"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/294176588" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#294176588">(Aug 18 2022 at 21:58)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="294179121"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/294179121" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#294179121">(Aug 18 2022 at 22:22)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="294183642"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/294183642" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#294183642">(Aug 18 2022 at 23:12)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a> from <code>meta-diff</code> to <code>main</code>.</p>



<a name="294188885"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/294188885" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#294188885">(Aug 19 2022 at 00:22)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4515#pullrequestreview-1078139604">PR review</a>.</p>



<a name="294188891"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234515%20%5Bfuzz%5D%20Add%20a%20meta-differential%20fuzz%20t.../near/294188891" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234515.20.5Bfuzz.5D.20Add.20a.20meta-differential.20fuzz.20t.2E.2E.2E.html#294188891">(Aug 19 2022 at 00:23)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/4515">PR #4515</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>