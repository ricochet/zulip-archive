<html>
<head><meta charset="utf-8"><title>wasmtime / PR #5439 Cranelift: Add `.wat` to assembly tes... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html">wasmtime / PR #5439 Cranelift: Add `.wat` to assembly tes...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="315905704"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315905704" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315905704">(Dec 14 2022 at 20:05)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/pull/5439">PR #5439</a> from <code>wasm-compile-tests</code> to <code>main</code>:</p>
<blockquote>
<p>This is just the <code>.wat</code>-to-assembly support from <a href="https://github.com/bytecodealliance/wasmtime/pull/5386">https://github.com/bytecodealliance/wasmtime/pull/5386</a> as well as the generated tests. By landing this first, and rebasing that on top of this, we can check for regressions and perturbations caused by moving where heap legalization is done in that PR.</p>
<p>@cfallin or @jameysharp want to take a look? Nothing has changed from that original PR other than minor rebase related things.</p>
</blockquote>



<a name="315905705"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315905705" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315905705">(Dec 14 2022 at 20:05)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/jameysharp">jameysharp</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/5439">PR #5439</a>.</p>



<a name="315905706"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315905706" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315905706">(Dec 14 2022 at 20:05)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/5439">PR #5439</a>.</p>



<a name="315907526"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315907526" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315907526">(Dec 14 2022 at 20:17)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5439#pullrequestreview-1218189373">PR review</a>.</p>



<a name="315908915"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315908915" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315908915">(Dec 14 2022 at 20:27)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5439#pullrequestreview-1218184398">PR review</a>.</p>



<a name="315908916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315908916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315908916">(Dec 14 2022 at 20:27)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5439#pullrequestreview-1218184398">PR review</a>.</p>



<a name="315908917"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315908917" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315908917">(Dec 14 2022 at 20:27)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5439#discussion_r1048931513">PR review comment</a>:</p>
<blockquote>
<p>This comment has the wrong filename pattern in it now.</p>
</blockquote>



<a name="315908918"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315908918" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315908918">(Dec 14 2022 at 20:27)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5439#discussion_r1048941208">PR review comment</a>:</p>
<blockquote>
<p>I was hoping we could run legalization in the non-compile case so the wat-&gt;clif tests would show any differences in generated CLIF when you rebase the other PR on this.</p>
</blockquote>



<a name="315910467"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315910467" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315910467">(Dec 14 2022 at 20:38)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/5439#discussion_r1048950954">PR review comment</a>:</p>
<blockquote>
<p>I think the wasm-to-assembly tests should catch that in practice, and I don't really want to add and enable an option that we will immediately stop using after the other PR lands.</p>
</blockquote>



<a name="315910468"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315910468" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315910468">(Dec 14 2022 at 20:38)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5439#pullrequestreview-1218213415">PR review</a>.</p>



<a name="315910599"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315910599" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315910599">(Dec 14 2022 at 20:38)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5439">PR #5439</a> from <code>wasm-compile-tests</code> to <code>main</code>.</p>



<a name="315910603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315910603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315910603">(Dec 14 2022 at 20:38)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/5439#discussion_r1048951616">PR review comment</a>:</p>
<blockquote>
<p>Good catch!</p>
</blockquote>



<a name="315910606"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315910606" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315910606">(Dec 14 2022 at 20:38)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5439#pullrequestreview-1218214387">PR review</a>.</p>



<a name="315910630"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315910630" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315910630">(Dec 14 2022 at 20:39)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5439#pullrequestreview-1218214524">PR review</a>.</p>



<a name="315910633"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315910633" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315910633">(Dec 14 2022 at 20:39)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5439#discussion_r1048951707">PR review comment</a>:</p>
<blockquote>
<p>Sure, that's fair.</p>
</blockquote>



<a name="315910635"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315910635" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315910635">(Dec 14 2022 at 20:39)</a>:</h4>
<p>fitzgen has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/5439">PR #5439</a>.</p>



<a name="315915792"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235439%20Cranelift%3A%20Add%20%60.wat%60%20to%20assembly%20tes.../near/315915792" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235439.20Cranelift.3A.20Add.20.60.2Ewat.60.20to.20assembly.20tes.2E.2E.2E.html#315915792">(Dec 14 2022 at 21:13)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/5439">PR #5439</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>