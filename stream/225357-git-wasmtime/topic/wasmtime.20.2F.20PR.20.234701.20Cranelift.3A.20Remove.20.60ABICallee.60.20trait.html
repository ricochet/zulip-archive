<html>
<head><meta charset="utf-8"><title>wasmtime / PR #4701 Cranelift: Remove `ABICallee` trait · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html">wasmtime / PR #4701 Cranelift: Remove `ABICallee` trait</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="293028422"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293028422" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293028422">(Aug 12 2022 at 00:02)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/4701">PR #4701</a>.</p>



<a name="293028423"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293028423" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293028423">(Aug 12 2022 at 00:02)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/pull/4701">PR #4701</a> from <code>no-more-abi-callee-trait</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="293032084"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293032084" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293032084">(Aug 12 2022 at 01:00)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1070486905">PR review</a>.</p>



<a name="293032085"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293032085" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293032085">(Aug 12 2022 at 01:00)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1070486905">PR review</a>.</p>



<a name="293032086"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293032086" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293032086">(Aug 12 2022 at 01:00)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r944036429">PR review comment</a>:</p>
<blockquote>
<p>Constraints on <code>B</code> already give you that it's a <code>LowerBackend</code>, so do you still have to be explicit about that? This is one part of Rust syntax I haven't really got down yet.</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>    abi: AbiCallee&lt;&lt;B::MInst as MachInst&gt;::ABIMachineSpec&gt;,
</code></pre></div><br>
</p>
</blockquote>



<a name="293032087"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293032087" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293032087">(Aug 12 2022 at 01:00)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r944030888">PR review comment</a>:</p>
<blockquote>
<p><span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span> I guess simplifying this away is work for a later PR, huh?</p>
</blockquote>



<a name="293032088"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293032088" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293032088">(Aug 12 2022 at 01:00)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r944035246">PR review comment</a>:</p>
<blockquote>
<p>With the removal of the <code>flags</code> method, I wondered if the <code>flags</code> field could be removed too. Looks like it's still used though.</p>
</blockquote>



<a name="293032089"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293032089" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293032089">(Aug 12 2022 at 01:00)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r944029955">PR review comment</a>:</p>
<blockquote>
<p>I guess this isn't "above" any more.</p>
</blockquote>



<a name="293032090"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293032090" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293032090">(Aug 12 2022 at 01:00)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r944033160">PR review comment</a>:</p>
<blockquote>
<p>I see this typo was in the original comment but I'll point it out anyway.</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>    /// at a given program point (prior to emission of the safepointing
</code></pre></div><br>
</p>
</blockquote>



<a name="293053087"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293053087" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293053087">(Aug 12 2022 at 06:32)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1070637715">PR review</a>.</p>



<a name="293053088"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293053088" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293053088">(Aug 12 2022 at 06:32)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r944145309">PR review comment</a>:</p>
<blockquote>
<p>Can we keep the capitalization <code>ABICallee</code>? I know there are varying opinions on how camelcase interacts with acronyms; but I find <code>Abi</code> for the acronym <code>ABI</code> a little unnatural to read. (Sorry for the bikeshed color suggestion!)</p>
</blockquote>



<a name="293053089"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293053089" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293053089">(Aug 12 2022 at 06:32)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1070637715">PR review</a>.</p>



<a name="293053293"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293053293" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293053293">(Aug 12 2022 at 06:35)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1070637715">PR review</a>.</p>



<a name="293563631"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293563631" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293563631">(Aug 15 2022 at 15:59)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r945902475">PR review comment</a>:</p>
<blockquote>
<p>I changed it because it is Rust's naming style to only capitalize the first letter of an acronym in a type (consistent with how you wouldn't add underscores between each letter in the acronym in snake case):</p>
<blockquote>
<p>In &lt;code class="hljs"&gt;UpperCamelCase&lt;/code&gt;, acronyms and contractions of compound words count as one word: use &lt;code class="hljs"&gt;Uuid&lt;/code&gt; rather than &lt;code class="hljs"&gt;UUID&lt;/code&gt;, &lt;code class="hljs"&gt;Usize&lt;/code&gt; rather than &lt;code class="hljs"&gt;USize&lt;/code&gt; or &lt;code class="hljs"&gt;Stdin&lt;/code&gt; rather than &lt;code class="hljs"&gt;StdIn&lt;/code&gt;. In &lt;code class="hljs"&gt;snake_case&lt;/code&gt;, acronyms and contractions are lower-cased: &lt;code class="hljs"&gt;is_xid_start&lt;/code&gt;.</p>
</blockquote>
<p><a href="https://rust-lang.github.io/api-guidelines/naming.html">https://rust-lang.github.io/api-guidelines/naming.html</a></p>
<p>And also because I happen to find it more readable that way as well (no mixing up the "C" in "Callee" as part of the acronym). I plan on doing the rest in follow up PRs that I'm working on.</p>
</blockquote>



<a name="293563632"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293563632" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293563632">(Aug 15 2022 at 15:59)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1072878902">PR review</a>.</p>



<a name="293564624"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293564624" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293564624">(Aug 15 2022 at 16:04)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1072884473">PR review</a>.</p>



<a name="293564625"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293564625" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293564625">(Aug 15 2022 at 16:04)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r945906476">PR review comment</a>:</p>
<blockquote>
<p>Yeah, don't want to balloon this PR.</p>
</blockquote>



<a name="293564732"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293564732" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293564732">(Aug 15 2022 at 16:05)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1072885265">PR review</a>.</p>



<a name="293564734"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293564734" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293564734">(Aug 15 2022 at 16:05)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r945907111">PR review comment</a>:</p>
<blockquote>
<p>Yeah I only removed things that were warned as dead code.</p>
</blockquote>



<a name="293564820"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293564820" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293564820">(Aug 15 2022 at 16:05)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1072886026">PR review</a>.</p>



<a name="293564821"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293564821" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293564821">(Aug 15 2022 at 16:05)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r945907677">PR review comment</a>:</p>
<blockquote>
<p>When there's a collision between widespread naming conventions and readability, I like to have... both? <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>
<p>Is there an alternative name that's meaningful but avoids the "ABI" acronym entirely? Or perhaps, would <code>CalleeAbi</code> work as a compromise? Somehow that reads less badly to me.</p>
</blockquote>



<a name="293564915"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293564915" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293564915">(Aug 15 2022 at 16:06)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r945908065">PR review comment</a>:</p>
<blockquote>
<p>The type checker was complaining it couldn't infer where the <code>MInst</code> projection was coming from, not sure why it can't be a little smarter here, but alas.</p>
</blockquote>



<a name="293564916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293564916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293564916">(Aug 15 2022 at 16:06)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1072886552">PR review</a>.</p>



<a name="293565002"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293565002" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293565002">(Aug 15 2022 at 16:07)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4701">PR #4701</a> from <code>no-more-abi-callee-trait</code> to <code>main</code>.</p>



<a name="293565958"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293565958" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293565958">(Aug 15 2022 at 16:12)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r945912636">PR review comment</a>:</p>
<blockquote>
<p>I guess I diverge from the above guidelines then in this particular area :-) This paragraph from the "About" page of that book seems relevant too:</p>
<blockquote>
<p>These are only guidelines, some more firm than others. In some cases they are vague and still in development. Rust crate authors should consider them as a set of important considerations in the development of idiomatic and interoperable Rust libraries, to use as they see fit. These guidelines should not in any way be considered a mandate that crate authors must follow, though they may find that crates that conform well to these guidelines integrate better with the existing crate ecosystem than those that do not.</p>
</blockquote>
<p>I find <code>AbiCallee</code> looks wrong to me; an ABI is an ABI, not an Abi (or "abi"); I'd really prefer not to take the change. If it's confusing to me and not confusing to you, then there is likely a split among other readers as well. Given that it is currently this way and there is disagreement, could we keep with the current convention for this PR and then discuss separately? (I'd the same concern if the other names were also modified in this way.)</p>
</blockquote>



<a name="293565959"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293565959" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293565959">(Aug 15 2022 at 16:12)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1072892857">PR review</a>.</p>



<a name="293566070"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293566070" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293566070">(Aug 15 2022 at 16:12)</a>:</h4>
<p>cfallin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r945912636">PR review comment</a>.</p>



<a name="293566655"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293566655" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293566655">(Aug 15 2022 at 16:16)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1072897165">PR review</a>.</p>



<a name="293566656"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293566656" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293566656">(Aug 15 2022 at 16:16)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r945915750">PR review comment</a>:</p>
<blockquote>
<p>I saw @jameysharp 's reply after writing mine -- but this brings to mind another option: just <code>Caller</code> and <code>Callee</code>? (or <code>CallerHandler</code> and <code>CalleeHandler</code>?)</p>
</blockquote>



<a name="293566781"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293566781" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293566781">(Aug 15 2022 at 16:17)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1072898121">PR review</a>.</p>



<a name="293566782"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293566782" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293566782">(Aug 15 2022 at 16:17)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r945916500">PR review comment</a>:</p>
<blockquote>
<p>I find <code>ABI</code> grating as well though, so perhaps Jamey's suggestion is the best way to move forward here.</p>
<p>Since it is already in an <code>abi</code> module, perhaps we can just call it <code>Callee</code> (or <code>abi::Callee</code>)?</p>
</blockquote>



<a name="293575143"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293575143" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293575143">(Aug 15 2022 at 17:03)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1072947688">PR review</a>.</p>



<a name="293575144"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293575144" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293575144">(Aug 15 2022 at 17:03)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r945952012">PR review comment</a>:</p>
<blockquote>
<p>Ooh, I like <code>abi::Callee</code>.</p>
</blockquote>



<a name="293585727"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293585727" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293585727">(Aug 15 2022 at 17:08)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4701">PR #4701</a> from <code>no-more-abi-callee-trait</code> to <code>main</code>.</p>



<a name="293586380"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293586380" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293586380">(Aug 15 2022 at 17:12)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4701">PR #4701</a> from <code>no-more-abi-callee-trait</code> to <code>main</code>.</p>



<a name="293586412"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293586412" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293586412">(Aug 15 2022 at 17:13)</a>:</h4>
<p>fitzgen has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/4701">PR #4701</a>.</p>



<a name="293586977"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293586977" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293586977">(Aug 15 2022 at 17:17)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/4701">PR #4701</a> from <code>no-more-abi-callee-trait</code> to <code>main</code>.</p>



<a name="293590864"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293590864" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293590864">(Aug 15 2022 at 17:42)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r945981944">PR review comment</a>:</p>
<blockquote>
<p>Why this change?</p>
</blockquote>



<a name="293590865"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293590865" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293590865">(Aug 15 2022 at 17:42)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1072989924">PR review</a>.</p>



<a name="293598146"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293598146" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293598146">(Aug 15 2022 at 18:27)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/4701">PR #4701</a>.</p>



<a name="293611402"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293611402" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293611402">(Aug 15 2022 at 19:56)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#pullrequestreview-1073134271">PR review</a>.</p>



<a name="293611403"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234701%20Cranelift%3A%20Remove%20%60ABICallee%60%20trait/near/293611403" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234701.20Cranelift.3A.20Remove.20.60ABICallee.60.20trait.html#293611403">(Aug 15 2022 at 19:56)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/4701#discussion_r946077314">PR review comment</a>:</p>
<blockquote>
<p>Because it is public now that there is the <code>MachInst::ABIMachineSpec</code> associated type.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>