<html>
<head><meta charset="utf-8"><title>wasmtime / PR #5904 Add filetest for unexpected `imm12_fr... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235904.20Add.20filetest.20for.20unexpected.20.60imm12_fr.2E.2E.2E.html">wasmtime / PR #5904 Add filetest for unexpected `imm12_fr...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="338945552"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235904%20Add%20filetest%20for%20unexpected%20%60imm12_fr.../near/338945552" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235904.20Add.20filetest.20for.20unexpected.20.60imm12_fr.2E.2E.2E.html#338945552">(Mar 01 2023 at 20:12)</a>:</h4>
<p>avanhatt opened <a href="https://github.com/bytecodealliance/wasmtime/pull/5904">PR #5904</a> from <code>imm12neg</code> to <code>main</code>:</p>
<blockquote>
<p>Add a <code>precise-output</code> filetest for the unexpected behavior described in <a href="https://github.com/bytecodealliance/wasmtime/issues/5903">https://github.com/bytecodealliance/wasmtime/issues/5903</a> (immediates not being used for narrow widths). </p>
</blockquote>



<a name="338947682"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235904%20Add%20filetest%20for%20unexpected%20%60imm12_fr.../near/338947682" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235904.20Add.20filetest.20for.20unexpected.20.60imm12_fr.2E.2E.2E.html#338947682">(Mar 01 2023 at 20:23)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5904#pullrequestreview-1320569022">PR review</a>.</p>



<a name="338947704"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235904%20Add%20filetest%20for%20unexpected%20%60imm12_fr.../near/338947704" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235904.20Add.20filetest.20for.20unexpected.20.60imm12_fr.2E.2E.2E.html#338947704">(Mar 01 2023 at 20:23)</a>:</h4>
<p>jameysharp has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/5904">PR #5904</a>.</p>



<a name="338956087"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235904%20Add%20filetest%20for%20unexpected%20%60imm12_fr.../near/338956087" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235904.20Add.20filetest.20for.20unexpected.20.60imm12_fr.2E.2E.2E.html#338956087">(Mar 01 2023 at 21:08)</a>:</h4>
<p>jameysharp merged <a href="https://github.com/bytecodealliance/wasmtime/pull/5904">PR #5904</a>.</p>



<a name="338973952"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235904%20Add%20filetest%20for%20unexpected%20%60imm12_fr.../near/338973952" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235904.20Add.20filetest.20for.20unexpected.20.60imm12_fr.2E.2E.2E.html#338973952">(Mar 01 2023 at 23:11)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5904#pullrequestreview-1320776531">PR review</a>.</p>



<a name="338973953"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235904%20Add%20filetest%20for%20unexpected%20%60imm12_fr.../near/338973953" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235904.20Add.20filetest.20for.20unexpected.20.60imm12_fr.2E.2E.2E.html#338973953">(Mar 01 2023 at 23:11)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5904#discussion_r1122407857">PR review comment</a>:</p>
<blockquote>
<p>Why doesn't the immediate here match the vcode?</p>
</blockquote>



<a name="338978998"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235904%20Add%20filetest%20for%20unexpected%20%60imm12_fr.../near/338978998" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235904.20Add.20filetest.20for.20unexpected.20.60imm12_fr.2E.2E.2E.html#338978998">(Mar 02 2023 at 00:00)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5904#pullrequestreview-1320829083">PR review</a>.</p>



<a name="338978999"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235904%20Add%20filetest%20for%20unexpected%20%60imm12_fr.../near/338978999" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235904.20Add.20filetest.20for.20unexpected.20.60imm12_fr.2E.2E.2E.html#338978999">(Mar 02 2023 at 00:00)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5904#discussion_r1122445788">PR review comment</a>:</p>
<blockquote>
<p>Good question! I had to stare at this a minute after seeing your question. The vcode printed the instruction as <code>movn</code>, so storing bitwise-not of 0 into <code>w2</code>. I guess the disassembler special-cased that to print a more "friendly" mnemonic for the instruction, where the bitwise-not is folded into the immediate value. I believe both are correct though, at least given a sufficiently clever assembler.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>