<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9959 Winch: i8x16.shuffle for x64 with AVX · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html">wasmtime / PR #9959 Winch: i8x16.shuffle for x64 with AVX</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="493432130"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493432130" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493432130">(Jan 13 2025 at 19:36)</a>:</h4>
<p>jeffcharles edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9959">PR #9959</a>.</p>



<a name="493433241"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493433241" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493433241">(Jan 13 2025 at 19:42)</a>:</h4>
<p>jeffcharles updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9959">PR #9959</a>.</p>



<a name="493434121"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493434121" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493434121">(Jan 13 2025 at 19:47)</a>:</h4>
<p>jeffcharles updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9959">PR #9959</a>.</p>



<a name="493434810"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493434810" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493434810">(Jan 13 2025 at 19:51)</a>:</h4>
<p>jeffcharles edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9959">PR #9959</a>:</p>
<blockquote>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;<br>
Part of #8093. Implements <code>i8x16.shuffle</code> on x64 with AVX extensions.</p>
</blockquote>



<a name="493472791"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493472791" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493472791">(Jan 13 2025 at 23:25)</a>:</h4>
<p>jeffcharles updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9959">PR #9959</a>.</p>



<a name="493600131"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493600131" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493600131">(Jan 14 2025 at 14:40)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9959#pullrequestreview-2549859589">PR review</a>.</p>



<a name="493600132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493600132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493600132">(Jan 14 2025 at 14:40)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/9959#discussion_r1914904911">PR review comment</a>:</p>
<blockquote>
<p>One small suggestion perhaps to improve readability, given that the then branch is somewhat lengthy, could we invert the check so that we return early in case there's no avx support?</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="bp">self</span><span class="p">.</span><span class="n">flags</span><span class="p">().</span><span class="n">has_avx</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">bail</span><span class="o">!</span><span class="p">(</span><span class="o">..</span><span class="p">.);</span>
<span class="p">}</span>

<span class="c1">// ....</span>
<span class="nb">Ok</span><span class="p">(())</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="493960544"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493960544" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493960544">(Jan 15 2025 at 15:59)</a>:</h4>
<p>jeffcharles updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9959">PR #9959</a>.</p>



<a name="493963715"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493963715" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493963715">(Jan 15 2025 at 16:14)</a>:</h4>
<p>jeffcharles updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9959">PR #9959</a>.</p>



<a name="493964997"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493964997" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493964997">(Jan 15 2025 at 16:20)</a>:</h4>
<p>jeffcharles updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9959">PR #9959</a>.</p>



<a name="493965073"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493965073" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493965073">(Jan 15 2025 at 16:20)</a>:</h4>
<p><strong>jeffcharles</strong> requested <a href="https://github.com/saulecabrera">saulecabrera</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9959">PR #9959</a>.</p>



<a name="493965338"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493965338" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493965338">(Jan 15 2025 at 16:21)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9959#pullrequestreview-2553272536">PR review</a>.</p>



<a name="493992675"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239959%20Winch%3A%20i8x16.shuffle%20for%20x64%20with%20AVX/near/493992675" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239959.20Winch.3A.20i8x16.2Eshuffle.20for.20x64.20with.20AVX.html#493992675">(Jan 15 2025 at 18:37)</a>:</h4>
<p>saulecabrera merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9959">PR #9959</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>