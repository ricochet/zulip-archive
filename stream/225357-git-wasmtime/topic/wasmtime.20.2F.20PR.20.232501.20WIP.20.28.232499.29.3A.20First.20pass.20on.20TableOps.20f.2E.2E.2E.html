<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2501 WIP (#2499): First pass on TableOps f... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html">wasmtime / PR #2501 WIP (#2499): First pass on TableOps f...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="219693140"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219693140" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219693140">(Dec 12 2020 at 06:19)</a>:</h4>
<p>dhaynespls opened <a href="https://github.com/bytecodealliance/wasmtime/pull/2501">PR #2501</a> from <code>dhaynespls/2499-tableops-to-wasm-encoder</code> to <code>main</code>:</p>
<blockquote>
<p>This PR migrates the TableOps fuzzer generator from the old string concatenation strategy to utilizing <code>wasm_encoder</code> to generate a wasm binary for us.</p>
<p>Tests updated accordingly.</p>
<p>Closes #2499 <br>
</p>
</blockquote>



<a name="219693258"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219693258" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219693258">(Dec 12 2020 at 06:23)</a>:</h4>
<p>dhaynespls submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-550695551">PR Review</a>.</p>



<a name="219693259"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219693259" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219693259">(Dec 12 2020 at 06:23)</a>:</h4>
<p>dhaynespls created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r541514432">PR Review Comment</a>:</p>
<blockquote>
<p>oops -- should be <code>WAT</code> </p>
</blockquote>



<a name="219693317"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219693317" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219693317">(Dec 12 2020 at 06:24)</a>:</h4>
<p>dhaynespls submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-550695623">PR Review</a>.</p>



<a name="219693319"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219693319" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219693319">(Dec 12 2020 at 06:24)</a>:</h4>
<p>dhaynespls created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r541514610">PR Review Comment</a>:</p>
<blockquote>
<p>unused import</p>
</blockquote>



<a name="219864907"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219864907" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219864907">(Dec 14 2020 at 16:21)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-551538453">PR Review</a>.</p>



<a name="219864908"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219864908" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219864908">(Dec 14 2020 at 16:21)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-551538453">PR Review</a>.</p>



<a name="219864909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219864909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219864909">(Dec 14 2020 at 16:21)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542514984">PR Review Comment</a>:</p>
<blockquote>
<p>Since this is a type index I think you'll need to define the type with a <code>TypeSection</code> as well.</p>
</blockquote>



<a name="219864910"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219864910" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219864910">(Dec 14 2020 at 16:21)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542515611">PR Review Comment</a>:</p>
<blockquote>
<p>One option here is that instead of <code>to_instruction</code> this could be something like <code>insert(&amp;self, func: &amp;mut Function)</code> and that way you can insert multiple functions if necessary.</p>
</blockquote>



<a name="219864911"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219864911" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219864911">(Dec 14 2020 at 16:21)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542514651">PR Review Comment</a>:</p>
<blockquote>
<p>If this is unused now feel free to delete!</p>
</blockquote>



<a name="219864912"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219864912" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219864912">(Dec 14 2020 at 16:21)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542515981">PR Review Comment</a>:</p>
<blockquote>
<p>The return type of this function will probably want  to change to <code>Vec&lt;u8&gt;</code> since a string is no longer constructed.</p>
</blockquote>



<a name="219882086"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219882086" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219882086">(Dec 14 2020 at 18:28)</a>:</h4>
<p>dhaynespls updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2501">PR #2501</a> from <code>dhaynespls/2499-tableops-to-wasm-encoder</code> to <code>main</code>:</p>
<blockquote>
<p>This PR migrates the TableOps fuzzer generator from the old string concatenation strategy to utilizing <code>wasm_encoder</code> to generate a wasm binary for us.</p>
<p>Tests updated accordingly.</p>
<p>Closes #2499 <br>
</p>
</blockquote>



<a name="219882249"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219882249" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219882249">(Dec 14 2020 at 18:29)</a>:</h4>
<p>dhaynespls submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-551776999">PR Review</a>.</p>



<a name="219882250"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219882250" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219882250">(Dec 14 2020 at 18:29)</a>:</h4>
<p>dhaynespls created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542615072">PR Review Comment</a>:</p>
<blockquote>
<p>This is a great idea -- I took a stab at it! </p>
</blockquote>



<a name="219882295"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219882295" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219882295">(Dec 14 2020 at 18:29)</a>:</h4>
<p>dhaynespls submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#pullrequestreview-551777518">PR Review</a>.</p>



<a name="219882296"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219882296" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219882296">(Dec 14 2020 at 18:29)</a>:</h4>
<p>dhaynespls created <a href="https://github.com/bytecodealliance/wasmtime/pull/2501#discussion_r542615579">PR Review Comment</a>:</p>
<blockquote>
<p>Added! Though not sure if it's right. </p>
</blockquote>



<a name="219882338"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232501%20WIP%20%28%232499%29%3A%20First%20pass%20on%20TableOps%20f.../near/219882338" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232501.20WIP.20.28.232499.29.3A.20First.20pass.20on.20TableOps.20f.2E.2E.2E.html#219882338">(Dec 14 2020 at 18:29)</a>:</h4>
<p><strong>dhaynespls</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/2501">PR #2501</a> as ready for review.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>