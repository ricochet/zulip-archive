<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7084 Optimize wasm calls ever-so-slightly · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237084.20Optimize.20wasm.20calls.20ever-so-slightly.html">wasmtime / PR #7084 Optimize wasm calls ever-so-slightly</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="393074657"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237084%20Optimize%20wasm%20calls%20ever-so-slightly/near/393074657" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237084.20Optimize.20wasm.20calls.20ever-so-slightly.html#393074657">(Sep 25 2023 at 17:46)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/7084">PR #7084</a> from <code>alexcrichton:opt-wasm-calls</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This commit is a tiny optimization for host-to-wasm calls by inlining a few functions. One was a wasmtime-runtime function that's pretty simple and the other is the usage of the <code>psm</code> crate. Long ago <code>psm</code> was added to learn the current stack pointer and its routines are written in assembly, meaning that the calls can't be inlined. Nowadays with inline assembly it's possible to skip the external assembler entirely.</p>
</blockquote>



<a name="393074660"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237084%20Optimize%20wasm%20calls%20ever-so-slightly/near/393074660" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237084.20Optimize.20wasm.20calls.20ever-so-slightly.html#393074660">(Sep 25 2023 at 17:46)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7084">PR #7084</a>.</p>



<a name="393074661"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237084%20Optimize%20wasm%20calls%20ever-so-slightly/near/393074661" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237084.20Optimize.20wasm.20calls.20ever-so-slightly.html#393074661">(Sep 25 2023 at 17:46)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7084">PR #7084</a>.</p>



<a name="393074949"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237084%20Optimize%20wasm%20calls%20ever-so-slightly/near/393074949" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237084.20Optimize.20wasm.20calls.20ever-so-slightly.html#393074949">(Sep 25 2023 at 17:48)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7084">PR #7084</a>.</p>



<a name="393074991"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237084%20Optimize%20wasm%20calls%20ever-so-slightly/near/393074991" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237084.20Optimize.20wasm.20calls.20ever-so-slightly.html#393074991">(Sep 25 2023 at 17:48)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7084">PR #7084</a>.</p>



<a name="393095789"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237084%20Optimize%20wasm%20calls%20ever-so-slightly/near/393095789" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237084.20Optimize.20wasm.20calls.20ever-so-slightly.html#393095789">(Sep 25 2023 at 19:44)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7084#pullrequestreview-1642878188">PR review</a>:</p>
<blockquote>
<p>Nice! Do you happen to have microbenchmark deltas? No need to go out of your way to gather them if not.</p>
</blockquote>



<a name="393109828"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237084%20Optimize%20wasm%20calls%20ever-so-slightly/near/393109828" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237084.20Optimize.20wasm.20calls.20ever-so-slightly.html#393109828">(Sep 25 2023 at 20:59)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7084">PR #7084</a>.</p>



<a name="393109860"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237084%20Optimize%20wasm%20calls%20ever-so-slightly/near/393109860" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237084.20Optimize.20wasm.20calls.20ever-so-slightly.html#393109860">(Sep 25 2023 at 20:59)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/7084">PR #7084</a>.</p>



<a name="393121509"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237084%20Optimize%20wasm%20calls%20ever-so-slightly/near/393121509" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237084.20Optimize.20wasm.20calls.20ever-so-slightly.html#393121509">(Sep 25 2023 at 22:19)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7084">PR #7084</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>