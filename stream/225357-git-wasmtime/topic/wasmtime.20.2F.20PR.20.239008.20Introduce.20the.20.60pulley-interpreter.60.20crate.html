<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9008 Introduce the `pulley-interpreter` crate · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html">wasmtime / PR #9008 Introduce the `pulley-interpreter` crate</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="453813511"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453813511" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453813511">(Jul 24 2024 at 23:17)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="453813513"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453813513" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453813513">(Jul 24 2024 at 23:17)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="453813514"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453813514" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453813514">(Jul 24 2024 at 23:17)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a> from <code>fitzgen:add-pulley-interpreter-crate</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This commit is the first step towards implementing <a href="https://github.com/bytecodealliance/rfcs/pull/35">https://github.com/bytecodealliance/rfcs/pull/35</a></p>
<p>This commit introduces the <code>pulley-interpreter</code> crate which contains the Pulley bytecode definition, encoder, decoder, disassembler, and interpreter.</p>
<p>This is still very much a work in progress! It is expected that we will tweak encodings and bytecode definitions, that we will overhaul the interpreter (to, for example, optionally support the unstable Rust <code>explicit_tail_calls</code> feature), and otherwise make large changes. This is just a starting point to get the ball rolling.</p>
<p>Subsequent commits and pull requests will do things like add the Cranelift backend to produce Pulley bytecode from Wasm as well as the runtime integration to run the Pulley interpreter inside Wasmtime.</p>
<p>Dedicated CI for Pulley, ensuring that it builds and runs on things like 32-bit <code>nostd</code> platforms, will also come in follow ups.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="453986412"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453986412" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453986412">(Jul 25 2024 at 15:59)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#pullrequestreview-2199681471">PR review</a>:</p>
<blockquote>
<p>Looks great to me, thanks again for pushing on this! </p>
<p>For some background I've pre-reviewed much of this with Nick ahead of time hence the light comments here as many of my otherwise-comments have already been addressed.</p>
</blockquote>



<a name="453986414"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453986414" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453986414">(Jul 25 2024 at 15:59)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691685497">PR review comment</a>:</p>
<blockquote>
<p>Is it actually possible to do <code>Self::SP =&gt; write!(f, "sp")</code> here? I forget what we can do with constants-in-patterns...</p>
</blockquote>



<a name="453986415"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453986415" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453986415">(Jul 25 2024 at 15:59)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#pullrequestreview-2199681471">PR review</a>:</p>
<blockquote>
<p>Looks great to me, thanks again for pushing on this! </p>
<p>For some background I've pre-reviewed much of this with Nick ahead of time hence the light comments here as many of my otherwise-comments have already been addressed.</p>
</blockquote>



<a name="453986416"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453986416" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453986416">(Jul 25 2024 at 15:59)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691684038">PR review comment</a>:</p>
<blockquote>
<p>Stray fn main?</p>
</blockquote>



<a name="453986417"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453986417" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453986417">(Jul 25 2024 at 15:59)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691692958">PR review comment</a>:</p>
<blockquote>
<p>One thing I might recommend is <code>#[allow(unused_imports)]</code> at the crate root with a <code>cfg_attr</code> for the "unusual cfgs" or something like that? Along the lines of "default builds have no warnings" but less-than-default builds can have warnings suppressed for ease of use.</p>
</blockquote>



<a name="453986418"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453986418" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453986418">(Jul 25 2024 at 15:59)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691686545">PR review comment</a>:</p>
<blockquote>
<p>Mind adding a small test that the registers above all <code>assert!(thing.is_special())</code>?</p>
</blockquote>



<a name="453986420"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453986420" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453986420">(Jul 25 2024 at 15:59)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691715640">PR review comment</a>:</p>
<blockquote>
<p>This won't get executed on oss-fuzz, how do you feel about that?</p>
<p>If you're ok with it I might recommend a wasm-tools-style approach where the fuzz crate here isn't actually a <code>cargo fuzz</code> crate but has a single entrypoint that takes fuzz input and then uses the input to dictate which fuzzer is internally run. Then we'd add a single fuzzer at the crate root for pulley which would internally run all of pulley's fuzzers. </p>
</blockquote>



<a name="453986422"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453986422" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453986422">(Jul 25 2024 at 15:59)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691716981">PR review comment</a>:</p>
<blockquote>
<p>Mind adding <code>#![cfg_attr(docsrs, feature(doc_auto_cfg))]</code> to the crate here too?</p>
</blockquote>



<a name="453986423"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453986423" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453986423">(Jul 25 2024 at 15:59)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691717659">PR review comment</a>:</p>
<blockquote>
<p>Perhaps <code>all-features = true</code> instead?</p>
</blockquote>



<a name="453986424"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453986424" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453986424">(Jul 25 2024 at 15:59)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691712124">PR review comment</a>:</p>
<blockquote>
<p>Reading over this again, WDYT about something like:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="k">fn</span><span class="w"> </span><span class="nf">advance</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">N</span><span class="p">:</span><span class="w"> </span><span class="kt">usize</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&amp;</span><span class="k">mut</span><span class="w"> </span><span class="bp">self</span><span class="p">)</span><span class="w"> </span><span class="p">-&gt;</span><span class="w"> </span><span class="nb">Result</span><span class="o">&lt;</span><span class="p">[</span><span class="kt">u8</span><span class="p">;</span><span class="w"> </span><span class="n">N</span><span class="p">],</span><span class="w"> </span><span class="bp">Self</span><span class="p">::</span><span class="n">Error</span><span class="o">&gt;</span><span class="p">;</span>
</code></pre></div>
<p>It feels a little weird below that in <code>SafeBytecodeStream</code> the <code>advance</code> method looks like it can cause panics but I think it probably never does in practice. By folding everything into one method though it might be reasonable to make this more obvious that the safe stream never panics?</p>
</blockquote>



<a name="453986425"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453986425" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453986425">(Jul 25 2024 at 15:59)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691702176">PR review comment</a>:</p>
<blockquote>
<p>This seems a bit dangerous, should this perhaps be omitted? Or maybe it always generates 0 for the time being?</p>
<p>(seems like the "real fix" is a higher-level generator that generates semantically correct offsets)</p>
</blockquote>



<a name="453987644"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453987644" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453987644">(Jul 25 2024 at 16:03)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#issuecomment-2250811373">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>:</p>
<blockquote>
<blockquote>
<p>Dedicated CI for Pulley</p>
</blockquote>
<p>One thing I'd also recommend here is to run all tests for pulley in miri as well (or otherwise just add it to our list of tests-in-miri)</p>
</blockquote>



<a name="453989362"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453989362" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453989362">(Jul 25 2024 at 16:08)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#pullrequestreview-2199768552">PR review</a>.</p>



<a name="453989363"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453989363" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453989363">(Jul 25 2024 at 16:08)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691744816">PR review comment</a>:</p>
<blockquote>
<p>Tried that first, unfortunately it isn't allowed :(</p>
</blockquote>



<a name="453989551"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453989551" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453989551">(Jul 25 2024 at 16:08)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#pullrequestreview-2199770298">PR review</a>.</p>



<a name="453989557"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453989557" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453989557">(Jul 25 2024 at 16:08)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691745941">PR review comment</a>:</p>
<blockquote>
<p>Good eye</p>
</blockquote>



<a name="453991458"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453991458" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453991458">(Jul 25 2024 at 16:14)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#pullrequestreview-2199785569">PR review</a>.</p>



<a name="453991459"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453991459" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453991459">(Jul 25 2024 at 16:14)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691756098">PR review comment</a>:</p>
<blockquote>
<p>Done.</p>
</blockquote>



<a name="453991725"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453991725" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453991725">(Jul 25 2024 at 16:15)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#pullrequestreview-2199788220">PR review</a>.</p>



<a name="453991726"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453991726" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453991726">(Jul 25 2024 at 16:15)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691758106">PR review comment</a>:</p>
<blockquote>
<p>Turns out this import isn't used at all anymore...</p>
</blockquote>



<a name="453993876"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453993876" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453993876">(Jul 25 2024 at 16:21)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691768709">PR review comment</a>:</p>
<blockquote>
<p>Changed this to always choose zero.</p>
<p>Either way, whoever is working with the arbitrary ops is going to have to clean them up somehow if they are interpreting them. In the existing fuzz target for the interpreter we simply filter out instructions that we can't safely interpret, such as branches.</p>
</blockquote>



<a name="453993877"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453993877" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453993877">(Jul 25 2024 at 16:21)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#pullrequestreview-2199803789">PR review</a>.</p>



<a name="453994811"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453994811" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453994811">(Jul 25 2024 at 16:25)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="453998342"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453998342" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453998342">(Jul 25 2024 at 16:41)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="453998361"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453998361" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453998361">(Jul 25 2024 at 16:41)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#pullrequestreview-2199860041">PR review</a>.</p>



<a name="453998363"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/453998363" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#453998363">(Jul 25 2024 at 16:41)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691809146">PR review comment</a>:</p>
<blockquote>
<p>This worked out nicely.</p>
</blockquote>



<a name="454000764"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454000764" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454000764">(Jul 25 2024 at 16:52)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="454009755"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454009755" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454009755">(Jul 25 2024 at 17:33)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="454009804"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454009804" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454009804">(Jul 25 2024 at 17:34)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#pullrequestreview-2199965202">PR review</a>.</p>



<a name="454009808"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454009808" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454009808">(Jul 25 2024 at 17:34)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#discussion_r1691873296">PR review comment</a>:</p>
<blockquote>
<p>Alright, I merged the fuzz targets together into one, like <code>wasm-tools</code>.</p>
</blockquote>



<a name="454009894"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454009894" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454009894">(Jul 25 2024 at 17:34)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/9008#issuecomment-2251047402">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>:</p>
<blockquote>
<blockquote>
<p>One thing I'd also recommend here is to run all tests for pulley in miri as well (or otherwise just add it to our list of tests-in-miri)</p>
</blockquote>
<p>Will do as a follow up, with the rest of pulley-specific CI.</p>
</blockquote>



<a name="454009909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454009909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454009909">(Jul 25 2024 at 17:34)</a>:</h4>
<p>fitzgen has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="454042845"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454042845" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454042845">(Jul 25 2024 at 20:06)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="454042861"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454042861" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454042861">(Jul 25 2024 at 20:06)</a>:</h4>
<p>fitzgen has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="454058545"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454058545" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454058545">(Jul 25 2024 at 21:40)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/elliottt">elliottt</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="454058546"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454058546" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454058546">(Jul 25 2024 at 21:40)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="454058547"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454058547" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454058547">(Jul 25 2024 at 21:40)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-fuzz-reviewers">wasmtime-fuzz-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="454058552"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454058552" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454058552">(Jul 25 2024 at 21:40)</a>:</h4>
<p>fitzgen has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<a name="454061323"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239008%20Introduce%20the%20%60pulley-interpreter%60%20crate/near/454061323" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239008.20Introduce.20the.20.60pulley-interpreter.60.20crate.html#454061323">(Jul 25 2024 at 22:04)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9008">PR #9008</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>