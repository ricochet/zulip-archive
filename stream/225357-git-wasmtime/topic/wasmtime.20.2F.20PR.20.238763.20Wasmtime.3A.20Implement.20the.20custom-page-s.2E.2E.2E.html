<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8763 Wasmtime: Implement the custom-page-s... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html">wasmtime / PR #8763 Wasmtime: Implement the custom-page-s...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="443855681"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443855681" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443855681">(Jun 10 2024 at 20:15)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a> from <code>fitzgen:custom-page-sizes</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This commit adds support for the custom-page-sizes proposal to Wasmtime: <a href="https://github.com/WebAssembly/custom-page-sizes">https://github.com/WebAssembly/custom-page-sizes</a></p>
<p>I've migrated, fixed some bugs within, and extended the <code>*.wast</code> tests for this proposal from the <code>wasm-tools</code> repository. I intend to upstream them into the proposal shortly.</p>
<p>There is a new <code>wasmtime::Config::wasm_custom_page_sizes_proposal</code> method to enable or disable the proposal. It is disabled by default.</p>
<p>Our fuzzing config has been updated to turn this feature on/off as dictated by the arbitrary input given to us from the fuzzer.</p>
<p>Additionally, there were getting to be so many constructors for <code>wasmtime::MemoryType</code> that I added a builder rather than add yet another constructor.</p>
<p>In general, we store the <code>log2(page_size)</code> rather than the page size directly. This helps cut down on invalid states and properties we need to assert.</p>
<p>I've also intentionally written this code such that supporting any power of two page size (rather than just the exact values <code>1</code> and <code>65536</code> that are currently valid) will essentially just involve updating <code>wasmparser</code>'s validation and removing some debug asserts in Wasmtime.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="443855684"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443855684" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443855684">(Jun 10 2024 at 20:15)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443855685"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443855685" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443855685">(Jun 10 2024 at 20:15)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-fuzz-reviewers">wasmtime-fuzz-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443855689"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443855689" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443855689">(Jun 10 2024 at 20:15)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/elliottt">elliottt</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443855691"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443855691" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443855691">(Jun 10 2024 at 20:15)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443855693"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443855693" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443855693">(Jun 10 2024 at 20:15)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443855694"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443855694" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443855694">(Jun 10 2024 at 20:15)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443862610"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443862610" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443862610">(Jun 10 2024 at 20:56)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443862937"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443862937" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443862937">(Jun 10 2024 at 20:58)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443864147"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443864147" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443864147">(Jun 10 2024 at 21:05)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443871572"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443871572" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443871572">(Jun 10 2024 at 22:02)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443874599"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443874599" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443874599">(Jun 10 2024 at 22:29)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2108731680">PR review</a>:</p>
<blockquote>
<p>This looks great to me, thanks!</p>
</blockquote>



<a name="443874600"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443874600" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443874600">(Jun 10 2024 at 22:29)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2108731680">PR review</a>:</p>
<blockquote>
<p>This looks great to me, thanks!</p>
</blockquote>



<a name="443874601"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443874601" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443874601">(Jun 10 2024 at 22:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1633815479">PR review comment</a>:</p>
<blockquote>
<p>FITZGEN</p>
</blockquote>



<a name="443874602"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443874602" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443874602">(Jun 10 2024 at 22:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1633897782">PR review comment</a>:</p>
<blockquote>
<p>How come this is stored here? This should be statically known from ambient context elsewhere I think? (e.g. this just stores the runtime state of the base/current byte length)</p>
</blockquote>



<a name="443874603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443874603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443874603">(Jun 10 2024 at 22:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1633820313">PR review comment</a>:</p>
<blockquote>
<p>(and/or if it's just for 1-byte pages could this have special handling to handle that case with an <code>icmp</code>/<code>select</code> combo specifically?)</p>
<p>(and/or if you feel it's not worth it to specialize here mind leaving a comment?)</p>
</blockquote>



<a name="443874604"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443874604" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443874604">(Jun 10 2024 at 22:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1633900575">PR review comment</a>:</p>
<blockquote>
<p>Mind importing this function since it's called a few times in succession here?</p>
</blockquote>



<a name="443874605"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443874605" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443874605">(Jun 10 2024 at 22:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1633819086">PR review comment</a>:</p>
<blockquote>
<p>Since we're already storing the log2 and cranelift doesn't optimize div, want to go ahead and change this to a shift-right?</p>
</blockquote>



<a name="443874606"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443874606" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443874606">(Jun 10 2024 at 22:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1633901621">PR review comment</a>:</p>
<blockquote>
<p>Mind importing this function as well since it's used a few times?</p>
</blockquote>



<a name="443874607"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443874607" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443874607">(Jun 10 2024 at 22:29)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1633819351">PR review comment</a>:</p>
<blockquote>
<p>How come the translation here changed?</p>
</blockquote>



<a name="443883577"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443883577" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443883577">(Jun 10 2024 at 23:44)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#issuecomment-2159504049">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "cranelift:area:aarch64", "cranelift:area:x64", "cranelift:wasm", "fuzzing", "wasmtime:api", "wasmtime:config"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>fitzgen: fuzzing</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="443883631"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443883631" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443883631">(Jun 10 2024 at 23:45)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#issuecomment-2159504470">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>:</p>
<blockquote>
<h4>Label Messager: wasmtime:config</h4>
<p>It looks like you are changing Wasmtime's configuration options. Make sure to<br>
complete this check list:</p>
<ul>
<li>
<p>[ ] If you added a new <code>Config</code> method, you wrote extensive documentation for<br>
      it.</p>
<p>&lt;details&gt;</p>
<p>Our documentation should be of the following form:</p>
<p>```text<br>
Short, simple summary sentence.</p>
<p>More details. These details can be multiple paragraphs. There should be<br>
information about not just the method, but its parameters and results as<br>
well.</p>
<p>Is this method fallible? If so, when can it return an error?</p>
<p>Can this method panic? If so, when does it panic?</p>
<h1>Example</h1>
<p>Optional example here.<br>
```</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[ ] If you added a new <code>Config</code> method, or modified an existing one, you<br>
  ensured that this configuration is exercised by the fuzz targets.</p>
<p>&lt;details&gt;</p>
<p>For example, if you expose a new strategy for allocating the next instance<br>
slot inside the pooling allocator, you should ensure that at least one of our<br>
fuzz targets exercises that new strategy.</p>
<p>Often, all that is required of you is to ensure that there is a knob for this<br>
configuration option in [<code>wasmtime_fuzzing::Config</code>][fuzzing-config] (or one<br>
of its nested <code>struct</code>s).</p>
<p>Rarely, this may require authoring a new fuzz target to specifically test this<br>
configuration. See [our docs on fuzzing][fuzzing-docs] for more details.</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[ ] If you are enabling a configuration option by default, make sure that it<br>
  has been fuzzed for at least two weeks before turning it on by default.</p>
</li>
</ul>
<p>[fuzzing-config]: <a href="https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194">https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194</a><br>
[fuzzing-docs]: <a href="https://docs.wasmtime.dev/contributing-fuzzing.html">https://docs.wasmtime.dev/contributing-fuzzing.html</a></p>
<hr>
<p>&lt;details&gt;</p>
<p>To modify this label's message, edit the &lt;code&gt;.github/label-messager/wasmtime-config.md&lt;/code&gt; file.</p>
<p>To add new label messages or remove existing label messages, edit the<br>
&lt;code&gt;.github/label-messager.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/label-messager-action">Learn more.</a></p>
<p>&lt;/details&gt;</p>
</blockquote>



<a name="443884155"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443884155" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443884155">(Jun 10 2024 at 23:48)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443884205"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443884205" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443884205">(Jun 10 2024 at 23:49)</a>:</h4>
<p>fitzgen edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#issuecomment-2159504470">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>:</p>
<blockquote>
<h4>Label Messager: wasmtime:config</h4>
<p>It looks like you are changing Wasmtime's configuration options. Make sure to<br>
complete this check list:</p>
<ul>
<li>
<p>[x] If you added a new <code>Config</code> method, you wrote extensive documentation for<br>
      it.</p>
<p>&lt;details&gt;</p>
<p>Our documentation should be of the following form:</p>
<p>```text<br>
Short, simple summary sentence.</p>
<p>More details. These details can be multiple paragraphs. There should be<br>
information about not just the method, but its parameters and results as<br>
well.</p>
<p>Is this method fallible? If so, when can it return an error?</p>
<p>Can this method panic? If so, when does it panic?</p>
<h1>Example</h1>
<p>Optional example here.<br>
```</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[ ] If you added a new <code>Config</code> method, or modified an existing one, you<br>
  ensured that this configuration is exercised by the fuzz targets.</p>
<p>&lt;details&gt;</p>
<p>For example, if you expose a new strategy for allocating the next instance<br>
slot inside the pooling allocator, you should ensure that at least one of our<br>
fuzz targets exercises that new strategy.</p>
<p>Often, all that is required of you is to ensure that there is a knob for this<br>
configuration option in [<code>wasmtime_fuzzing::Config</code>][fuzzing-config] (or one<br>
of its nested <code>struct</code>s).</p>
<p>Rarely, this may require authoring a new fuzz target to specifically test this<br>
configuration. See [our docs on fuzzing][fuzzing-docs] for more details.</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[ ] If you are enabling a configuration option by default, make sure that it<br>
  has been fuzzed for at least two weeks before turning it on by default.</p>
</li>
</ul>
<p>[fuzzing-config]: <a href="https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194">https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194</a><br>
[fuzzing-docs]: <a href="https://docs.wasmtime.dev/contributing-fuzzing.html">https://docs.wasmtime.dev/contributing-fuzzing.html</a></p>
<hr>
<p>&lt;details&gt;</p>
<p>To modify this label's message, edit the &lt;code&gt;.github/label-messager/wasmtime-config.md&lt;/code&gt; file.</p>
<p>To add new label messages or remove existing label messages, edit the<br>
&lt;code&gt;.github/label-messager.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/label-messager-action">Learn more.</a></p>
<p>&lt;/details&gt;</p>
</blockquote>



<a name="443884212"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443884212" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443884212">(Jun 10 2024 at 23:49)</a>:</h4>
<p>fitzgen edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#issuecomment-2159504470">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>:</p>
<blockquote>
<h4>Label Messager: wasmtime:config</h4>
<p>It looks like you are changing Wasmtime's configuration options. Make sure to<br>
complete this check list:</p>
<ul>
<li>
<p>[x] If you added a new <code>Config</code> method, you wrote extensive documentation for<br>
      it.</p>
<p>&lt;details&gt;</p>
<p>Our documentation should be of the following form:</p>
<p>```text<br>
Short, simple summary sentence.</p>
<p>More details. These details can be multiple paragraphs. There should be<br>
information about not just the method, but its parameters and results as<br>
well.</p>
<p>Is this method fallible? If so, when can it return an error?</p>
<p>Can this method panic? If so, when does it panic?</p>
<h1>Example</h1>
<p>Optional example here.<br>
```</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[x] If you added a new <code>Config</code> method, or modified an existing one, you<br>
  ensured that this configuration is exercised by the fuzz targets.</p>
<p>&lt;details&gt;</p>
<p>For example, if you expose a new strategy for allocating the next instance<br>
slot inside the pooling allocator, you should ensure that at least one of our<br>
fuzz targets exercises that new strategy.</p>
<p>Often, all that is required of you is to ensure that there is a knob for this<br>
configuration option in [<code>wasmtime_fuzzing::Config</code>][fuzzing-config] (or one<br>
of its nested <code>struct</code>s).</p>
<p>Rarely, this may require authoring a new fuzz target to specifically test this<br>
configuration. See [our docs on fuzzing][fuzzing-docs] for more details.</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[ ] If you are enabling a configuration option by default, make sure that it<br>
  has been fuzzed for at least two weeks before turning it on by default.</p>
</li>
</ul>
<p>[fuzzing-config]: <a href="https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194">https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194</a><br>
[fuzzing-docs]: <a href="https://docs.wasmtime.dev/contributing-fuzzing.html">https://docs.wasmtime.dev/contributing-fuzzing.html</a></p>
<hr>
<p>&lt;details&gt;</p>
<p>To modify this label's message, edit the &lt;code&gt;.github/label-messager/wasmtime-config.md&lt;/code&gt; file.</p>
<p>To add new label messages or remove existing label messages, edit the<br>
&lt;code&gt;.github/label-messager.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/label-messager-action">Learn more.</a></p>
<p>&lt;/details&gt;</p>
</blockquote>



<a name="443884213"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443884213" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443884213">(Jun 10 2024 at 23:49)</a>:</h4>
<p>fitzgen edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#issuecomment-2159504470">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>:</p>
<blockquote>
<h4>Label Messager: wasmtime:config</h4>
<p>It looks like you are changing Wasmtime's configuration options. Make sure to<br>
complete this check list:</p>
<ul>
<li>
<p>[x] If you added a new <code>Config</code> method, you wrote extensive documentation for<br>
      it.</p>
<p>&lt;details&gt;</p>
<p>Our documentation should be of the following form:</p>
<p>```text<br>
Short, simple summary sentence.</p>
<p>More details. These details can be multiple paragraphs. There should be<br>
information about not just the method, but its parameters and results as<br>
well.</p>
<p>Is this method fallible? If so, when can it return an error?</p>
<p>Can this method panic? If so, when does it panic?</p>
<h1>Example</h1>
<p>Optional example here.<br>
```</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[x] If you added a new <code>Config</code> method, or modified an existing one, you<br>
  ensured that this configuration is exercised by the fuzz targets.</p>
<p>&lt;details&gt;</p>
<p>For example, if you expose a new strategy for allocating the next instance<br>
slot inside the pooling allocator, you should ensure that at least one of our<br>
fuzz targets exercises that new strategy.</p>
<p>Often, all that is required of you is to ensure that there is a knob for this<br>
configuration option in [<code>wasmtime_fuzzing::Config</code>][fuzzing-config] (or one<br>
of its nested <code>struct</code>s).</p>
<p>Rarely, this may require authoring a new fuzz target to specifically test this<br>
configuration. See [our docs on fuzzing][fuzzing-docs] for more details.</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[x] If you are enabling a configuration option by default, make sure that it<br>
  has been fuzzed for at least two weeks before turning it on by default.</p>
</li>
</ul>
<p>[fuzzing-config]: <a href="https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194">https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194</a><br>
[fuzzing-docs]: <a href="https://docs.wasmtime.dev/contributing-fuzzing.html">https://docs.wasmtime.dev/contributing-fuzzing.html</a></p>
<hr>
<p>&lt;details&gt;</p>
<p>To modify this label's message, edit the &lt;code&gt;.github/label-messager/wasmtime-config.md&lt;/code&gt; file.</p>
<p>To add new label messages or remove existing label messages, edit the<br>
&lt;code&gt;.github/label-messager.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/label-messager-action">Learn more.</a></p>
<p>&lt;/details&gt;</p>
</blockquote>



<a name="443884982"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443884982" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443884982">(Jun 10 2024 at 23:55)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2108967845">PR review</a>.</p>



<a name="443884983"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443884983" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443884983">(Jun 10 2024 at 23:55)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1633989730">PR review comment</a>:</p>
<blockquote>
<p>I think I was using it for an approach that I ultimately abandoned.</p>
</blockquote>



<a name="443885161"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443885161" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443885161">(Jun 10 2024 at 23:56)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443885428"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443885428" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443885428">(Jun 10 2024 at 23:59)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="443887332"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443887332" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443887332">(Jun 11 2024 at 00:12)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2108969407">PR review</a>.</p>



<a name="443887333"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443887333" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443887333">(Jun 11 2024 at 00:12)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1633990907">PR review comment</a>:</p>
<blockquote>
<p>Did this comment change at all, or was it just reformatted?</p>
</blockquote>



<a name="443887334"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443887334" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443887334">(Jun 11 2024 at 00:12)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2108969407">PR review</a>.</p>



<a name="443887335"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/443887335" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#443887335">(Jun 11 2024 at 00:12)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1633996383">PR review comment</a>:</p>
<blockquote>
<p>Should this be an <code>unwrap_or_else</code> to avoid always computing the default?</p>
<div class="codehilite" data-code-language="suggestion"><pre><span></span><code>        .unwrap_or_else(|| u64::MAX / page_size + 1)
</code></pre></div>
<p>Also, could you add a comment that explains the default?</p>
</blockquote>



<a name="444040894"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444040894" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444040894">(Jun 11 2024 at 16:06)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2110895287">PR review</a>.</p>



<a name="444040909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444040909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444040909">(Jun 11 2024 at 16:06)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1635145529">PR review comment</a>:</p>
<blockquote>
<p>Yeah with single-byte pages <code>-1</code> is now a valid return from a <code>memory.{grow,size}</code> in certain cases and so in this scenario we can't blindly sign extend. I can factor this out to another case for only when the memory has a 1-byte page size.</p>
</blockquote>



<a name="444044519"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444044519" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444044519">(Jun 11 2024 at 16:18)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2110920207">PR review</a>.</p>



<a name="444044521"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444044521" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444044521">(Jun 11 2024 at 16:18)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1635161281">PR review comment</a>:</p>
<blockquote>
<p>I think sign extension still works since you can't actually consume the entire address space for wasm though, right?</p>
</blockquote>



<a name="444045497"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444045497" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444045497">(Jun 11 2024 at 16:22)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2110928111">PR review</a>.</p>



<a name="444045498"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444045498" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444045498">(Jun 11 2024 at 16:22)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1635166226">PR review comment</a>:</p>
<blockquote>
<p>But you could consume ~half of it and therefore have the sign bit set, which if we sign extend will result in a negative value / wrong unsigned value.</p>
</blockquote>



<a name="444047213"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444047213" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444047213">(Jun 11 2024 at 16:27)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2110939140">PR review</a>.</p>



<a name="444047215"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444047215" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444047215">(Jun 11 2024 at 16:27)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1635173204">PR review comment</a>:</p>
<blockquote>
<p>The only "memory growth failed" value though is -1, not any negative number?</p>
</blockquote>



<a name="444048894"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444048894" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444048894">(Jun 11 2024 at 16:32)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2110949060">PR review</a>.</p>



<a name="444048895"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444048895" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444048895">(Jun 11 2024 at 16:32)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1635179295">PR review comment</a>:</p>
<blockquote>
<p>Yes, but you could have a valid memory size that has the sign bit set now, where that was impossible before because the maximum number of wasm pages that could fit in the address space wasn't large enough. That is, <code>(u32::MAX / 2) + 1</code> is a valid memory size with single-byte page sizes, and it has its high bit set, so if we sign-extend that value then we end up giving an incorrect memory size to the Wasm.</p>
</blockquote>



<a name="444049265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444049265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444049265">(Jun 11 2024 at 16:34)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2110952568">PR review</a>.</p>



<a name="444049266"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444049266" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444049266">(Jun 11 2024 at 16:34)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1635181684">PR review comment</a>:</p>
<blockquote>
<p>Just wrapped to 80 characters.</p>
</blockquote>



<a name="444049542"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444049542" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444049542">(Jun 11 2024 at 16:35)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2110955652">PR review</a>.</p>



<a name="444049543"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444049543" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444049543">(Jun 11 2024 at 16:35)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1635183679">PR review comment</a>:</p>
<blockquote>
<p>I think it probably doesn't matter much either way in this case, since there isn't anything here that could prevent LLVM from cleaning this up itself (like a function call) but happy to make the change so that future readers don't ahve to reason through that.</p>
</blockquote>



<a name="444053209"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444053209" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444053209">(Jun 11 2024 at 16:54)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="444053279"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444053279" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444053279">(Jun 11 2024 at 16:55)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#issuecomment-2161217384">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>:</p>
<blockquote>
<p>I believe all review feedback has been addressed at this point.</p>
</blockquote>



<a name="444070741"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444070741" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444070741">(Jun 11 2024 at 18:24)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="444073522"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444073522" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444073522">(Jun 11 2024 at 18:39)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="444080432"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444080432" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444080432">(Jun 11 2024 at 19:18)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2111263963">PR review</a>.</p>



<a name="444080433"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444080433" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444080433">(Jun 11 2024 at 19:18)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1635368968">PR review comment</a>:</p>
<blockquote>
<p>Right! I'm apparently forgetting how negative numbers work...</p>
</blockquote>



<a name="444081127"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444081127" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444081127">(Jun 11 2024 at 19:22)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2111267048">PR review</a>.</p>



<a name="444081129"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444081129" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444081129">(Jun 11 2024 at 19:22)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2111267048">PR review</a>.</p>



<a name="444081130"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444081130" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444081130">(Jun 11 2024 at 19:22)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1635370868">PR review comment</a>:</p>
<blockquote>
<p>This change is fine by me, but this might reveal some fuzz bugs after this lands as we trip various assertions that previously assumed things were page aligned. I'm not sure how many of these options we frob during fuzzing though...</p>
<p>In any case it's fine to fix them as they arise, just wanted to give a heads up.</p>
</blockquote>



<a name="444090453"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444090453" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444090453">(Jun 11 2024 at 20:14)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="444090471"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444090471" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444090471">(Jun 11 2024 at 20:14)</a>:</h4>
<p>fitzgen has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="444291718"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444291718" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444291718">(Jun 12 2024 at 17:28)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="444291811"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444291811" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444291811">(Jun 12 2024 at 17:28)</a>:</h4>
<p>fitzgen has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="444329166"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444329166" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444329166">(Jun 12 2024 at 20:45)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="444329185"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444329185" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444329185">(Jun 12 2024 at 20:45)</a>:</h4>
<p>fitzgen has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="444331937"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444331937" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444331937">(Jun 12 2024 at 21:03)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="444332181"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444332181" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444332181">(Jun 12 2024 at 21:05)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1637088917">PR review comment</a>:</p>
<blockquote>
<p>I think this'll want to stay as <code>true</code> as it's trying to exercise the path where the OS says "no you can't have that much memory" as opposed to the store limiting memory, and if <code>false</code> is returned here we won't ever hit the OS. I'm not sure why this test previously passed on MIRI though and it's failing on this PR</p>
</blockquote>



<a name="444332184"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444332184" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444332184">(Jun 12 2024 at 21:05)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2114218852">PR review</a>.</p>



<a name="444332655"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444332655" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444332655">(Jun 12 2024 at 21:08)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2114223754">PR review</a>.</p>



<a name="444332656"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444332656" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444332656">(Jun 12 2024 at 21:08)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1637092572">PR review comment</a>:</p>
<blockquote>
<blockquote>
<p>I'm not sure why this test previously passed on MIRI though and it's failing on this PR</p>
</blockquote>
<p>I'm not sure either, AFAICT we should be doing the same thing as before.</p>
</blockquote>



<a name="444333071"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444333071" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444333071">(Jun 12 2024 at 21:11)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2114228462">PR review</a>.</p>



<a name="444333073"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444333073" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444333073">(Jun 12 2024 at 21:11)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1637096479">PR review comment</a>:</p>
<blockquote>
<p>Testing locally it looks like an error was returned before we hit MIRI before. I changed <a href="https://github.com/bytecodealliance/wasmtime/blob/34d2a08fc8340ef0b9c010947482dbb510a3f1a3/crates/wasmtime/src/runtime/vm/sys/miri/mmap.rs#L38">this line</a> to a panic and the test passed. </p>
</blockquote>



<a name="444333351"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444333351" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444333351">(Jun 12 2024 at 21:13)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="444334381"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444334381" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444334381">(Jun 12 2024 at 21:21)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#issuecomment-2163923124">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>:</p>
<blockquote>
<p>oh my god this CI failure is driving me crazy:</p>
<p><a href="https://github.com/bytecodealliance/wasmtime/actions/runs/9489825551/job/26152011334?pr=8763#step:5:243">https://github.com/bytecodealliance/wasmtime/actions/runs/9489825551/job/26152011334?pr=8763#step:5:243</a></p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w"> </span><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="nc">unused</span><span class="w"> </span><span class="n">import</span><span class="p">:</span><span class="w"> </span><span class="err">`</span><span class="n">prelude</span><span class="p">::</span><span class="o">*</span><span class="err">`</span>
<span class="w">  </span><span class="o">-</span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">crates</span><span class="err">\</span><span class="n">wasmtime</span><span class="err">\</span><span class="n">src</span><span class="err">\</span><span class="n">runtime</span><span class="err">\</span><span class="n">vm</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mi">5</span>
<span class="w">   </span><span class="o">|</span>
<span class="mi">14</span><span class="w"> </span><span class="o">|</span><span class="w">     </span><span class="n">prelude</span><span class="p">::</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="n">DefinedFuncIndex</span><span class="p">,</span><span class="w"> </span><span class="n">DefinedMemoryIndex</span><span class="p">,</span><span class="w"> </span><span class="n">HostPtr</span><span class="p">,</span><span class="w"> </span><span class="n">ModuleInternedTypeIndex</span><span class="p">,</span><span class="w"> </span><span class="n">VMOffsets</span><span class="p">,</span>
<span class="w">   </span><span class="o">|</span><span class="w">     </span><span class="o">^^^^^^^^^^</span>
<span class="w">   </span><span class="o">|</span>
<span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">note</span><span class="p">:</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">unused</span><span class="o">-</span><span class="n">imports</span><span class="err">`</span><span class="w"> </span><span class="n">implied</span><span class="w"> </span><span class="n">by</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">warnings</span><span class="err">`</span>
<span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">help</span><span class="p">:</span><span class="w"> </span><span class="nc">to</span><span class="w"> </span><span class="kr">override</span><span class="w"> </span><span class="err">`</span><span class="o">-</span><span class="n">D</span><span class="w"> </span><span class="n">warnings</span><span class="err">`</span><span class="w"> </span><span class="n">add</span><span class="w"> </span><span class="err">`</span><span class="cp">#[allow(unused_imports)]</span><span class="err">`</span>
</code></pre></div>
<p>If I remove that import, then all the <code>err2anyhow()</code> calls break. I've tried with all sorts of different <code>cfg</code>s and I can't reproduce locally, even when I copy the <code>./ci/run-tests.sh</code> invocation from CI.</p>
<p>I have no idea why it thinks this is unused, AFAICT, it is definitely used.</p>
</blockquote>



<a name="444335922"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444335922" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444335922">(Jun 12 2024 at 21:32)</a>:</h4>
<p>fitzgen updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="444339468"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/444339468" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#444339468">(Jun 12 2024 at 22:01)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8763">PR #8763</a>.</p>



<a name="469340713"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/469340713" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#469340713">(Sep 11 2024 at 09:30)</a>:</h4>
<p>XinyuZeng submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2296202281">PR review</a>.</p>



<a name="469340714"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/469340714" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#469340714">(Sep 11 2024 at 09:30)</a>:</h4>
<p>XinyuZeng created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1753788907">PR review comment</a>:</p>
<blockquote>
<p>This comment seems to be incomplete</p>
</blockquote>



<a name="470000318"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/470000318" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#470000318">(Sep 13 2024 at 15:40)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#pullrequestreview-2303464576">PR review</a>.</p>



<a name="470000319"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238763%20Wasmtime%3A%20Implement%20the%20custom-page-s.../near/470000319" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238763.20Wasmtime.3A.20Implement.20the.20custom-page-s.2E.2E.2E.html#470000319">(Sep 13 2024 at 15:40)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8763#discussion_r1759090041">PR review comment</a>:</p>
<blockquote>
<p>Thanks for catching this!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>