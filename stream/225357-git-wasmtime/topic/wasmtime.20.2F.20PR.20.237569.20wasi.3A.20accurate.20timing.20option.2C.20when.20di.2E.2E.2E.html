<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7569 wasi: accurate timing option, when di... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20accurate.20timing.20option.2C.20when.20di.2E.2E.2E.html">wasmtime / PR #7569 wasi: accurate timing option, when di...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="403467853"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20accurate%20timing%20option%2C%20when%20di.../near/403467853" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20accurate.20timing.20option.2C.20when.20di.2E.2E.2E.html#403467853">(Nov 21 2023 at 21:49)</a>:</h4>
<p>guybedford edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>.</p>



<a name="403467890"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20accurate%20timing%20option%2C%20when%20di.../near/403467890" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20accurate.20timing.20option.2C.20when.20di.2E.2E.2E.html#403467890">(Nov 21 2023 at 21:49)</a>:</h4>
<p>guybedford edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>:</p>
<blockquote>
<p>Node.js mtime setting only works up to 100µs accuracy.</p>
<p>This updates the test to work at this level at minimum when the <code>NO_ACCURATE_TIME</code> option is set.</p>
<p><del>We could make this a configurable test option, I just wasn't sure how to set up such a conditional build feature for the test program - suggestions welcome if not reducing overall accuracy is preferred.</del></p>
</blockquote>



<a name="403486738"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20accurate%20timing%20option%2C%20when%20di.../near/403486738" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20accurate.20timing.20option.2C.20when.20di.2E.2E.2E.html#403486738">(Nov 22 2023 at 00:36)</a>:</h4>
<p>guybedford updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>.</p>



<a name="403486813"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20accurate%20timing%20option%2C%20when%20di.../near/403486813" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20accurate.20timing.20option.2C.20when.20di.2E.2E.2E.html#403486813">(Nov 22 2023 at 00:37)</a>:</h4>
<p>guybedford updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>.</p>



<a name="403490365"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20accurate%20timing%20option%2C%20when%20di.../near/403490365" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20accurate.20timing.20option.2C.20when.20di.2E.2E.2E.html#403490365">(Nov 22 2023 at 00:59)</a>:</h4>
<p>guybedford updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>.</p>



<a name="403647520"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20accurate%20timing%20option%2C%20when%20di.../near/403647520" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20accurate.20timing.20option.2C.20when.20di.2E.2E.2E.html#403647520">(Nov 22 2023 at 18:45)</a>:</h4>
<p>guybedford edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>:</p>
<blockquote>
<p>Node.js mtime setting only works up to 100µs accuracy.</p>
<p>This updates the test to work at this level at minimum when the <code>NO_ACCURATE_TIME</code> option is set.</p>
<p><del>We could make this a configurable test option, I just wasn't sure how to set up such a conditional build feature for the test program - suggestions welcome if not reducing overall accuracy is preferred.</del></p>
</blockquote>



<a name="403647537"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20accurate%20timing%20option%2C%20when%20di.../near/403647537" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20accurate.20timing.20option.2C.20when.20di.2E.2E.2E.html#403647537">(Nov 22 2023 at 18:45)</a>:</h4>
<p>guybedford edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>:</p>
<blockquote>
<p>Node.js mtime setting only works up to microsecond accuracy.</p>
<p>This updates the test to work at this level at minimum when the <code>NO_ACCURATE_TIME</code> option is set.</p>
<p><del>We could make this a configurable test option, I just wasn't sure how to set up such a conditional build feature for the test program - suggestions welcome if not reducing overall accuracy is preferred.</del></p>
</blockquote>



<a name="403647627"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20accurate%20timing%20option%2C%20when%20di.../near/403647627" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20accurate.20timing.20option.2C.20when.20di.2E.2E.2E.html#403647627">(Nov 22 2023 at 18:46)</a>:</h4>
<p>guybedford submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7569#pullrequestreview-1745125648">PR review</a>.</p>



<a name="403647628"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20accurate%20timing%20option%2C%20when%20di.../near/403647628" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20accurate.20timing.20option.2C.20when.20di.2E.2E.2E.html#403647628">(Nov 22 2023 at 18:46)</a>:</h4>
<p>guybedford created <a href="https://github.com/bytecodealliance/wasmtime/pull/7569#discussion_r1402544975">PR review comment</a>:</p>
<blockquote>
<p>Ahh I misread the documentation here that the units were 100 nanoseconds.</p>
<p>The actual units are therefore microsecond accuracy and this is 2 microseconds.</p>
</blockquote>



<a name="403659680"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20accurate%20timing%20option%2C%20when%20di.../near/403659680" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20accurate.20timing.20option.2C.20when.20di.2E.2E.2E.html#403659680">(Nov 22 2023 at 20:17)</a>:</h4>
<p>guybedford updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>.</p>



<a name="403660414"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237569%20wasi%3A%20accurate%20timing%20option%2C%20when%20di.../near/403660414" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237569.20wasi.3A.20accurate.20timing.20option.2C.20when.20di.2E.2E.2E.html#403660414">(Nov 22 2023 at 20:23)</a>:</h4>
<p>guybedford edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7569">PR #7569</a>:</p>
<blockquote>
<p>Node.js mtime setting only works up to microsecond accuracy.</p>
<p>This updates the test to work at this level at minimum when the <code>FS_TIME_PRECISION</code> option is set.</p>
<p><del>We could make this a configurable test option, I just wasn't sure how to set up such a conditional build feature for the test program - suggestions welcome if not reducing overall accuracy is preferred.</del></p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>