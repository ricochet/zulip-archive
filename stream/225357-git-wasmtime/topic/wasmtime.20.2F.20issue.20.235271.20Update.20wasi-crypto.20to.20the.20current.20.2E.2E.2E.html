<html>
<head><meta charset="utf-8"><title>wasmtime / issue #5271 Update wasi-crypto to the current ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235271.20Update.20wasi-crypto.20to.20the.20current.20.2E.2E.2E.html">wasmtime / issue #5271 Update wasi-crypto to the current ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="310263908"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235271%20Update%20wasi-crypto%20to%20the%20current%20.../near/310263908" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235271.20Update.20wasi-crypto.20to.20the.20current.20.2E.2E.2E.html#310263908">(Nov 15 2022 at 18:33)</a>:</h4>
<p>jedisct1 <a href="https://github.com/bytecodealliance/wasmtime/pull/5271#issuecomment-1315712700">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5271">issue #5271</a>:</p>
<blockquote>
<p>Hi Nick,</p>
<p>So, what should be done to make <code>cargo vet</code> not block the merge?</p>
</blockquote>



<a name="310264187"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235271%20Update%20wasi-crypto%20to%20the%20current%20.../near/310264187" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235271.20Update.20wasi-crypto.20to.20the.20current.20.2E.2E.2E.html#310264187">(Nov 15 2022 at 18:35)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/5271#issuecomment-1315714429">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5271">issue #5271</a>:</p>
<blockquote>
<p>I think a Wasmtime committer would have to review all new dependencies and the delta from last review/exemption for any updated dependencies.</p>
</blockquote>



<a name="310265052"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235271%20Update%20wasi-crypto%20to%20the%20current%20.../near/310265052" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235271.20Update.20wasi-crypto.20to.20the.20current.20.2E.2E.2E.html#310265052">(Nov 15 2022 at 18:40)</a>:</h4>
<p>jedisct1 <a href="https://github.com/bytecodealliance/wasmtime/pull/5271#issuecomment-1315719257">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5271">issue #5271</a>:</p>
<blockquote>
<p>So, shall I just remove the last commit?<br>
</p>
</blockquote>



<a name="310267190"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235271%20Update%20wasi-crypto%20to%20the%20current%20.../near/310267190" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235271.20Update.20wasi-crypto.20to.20the.20current.20.2E.2E.2E.html#310267190">(Nov 15 2022 at 18:52)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/5271#issuecomment-1315730178">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5271">issue #5271</a>:</p>
<blockquote>
<blockquote>
<p>So, shall I just remove the last commit?</p>
</blockquote>
<p>I think so. And then you or someone else would have to <a href="https://mozilla.github.io/cargo-vet/performing-audits.html">perform audits</a> of the new/updated dependencies.</p>
</blockquote>



<a name="310269856"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235271%20Update%20wasi-crypto%20to%20the%20current%20.../near/310269856" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235271.20Update.20wasi-crypto.20to.20the.20current.20.2E.2E.2E.html#310269856">(Nov 15 2022 at 19:06)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/pull/5271#issuecomment-1315745069">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5271">issue #5271</a>:</p>
<blockquote>
<p>Anything you can do to reduce the changes to <code>Cargo.lock</code> will make the supply-chain review easier. For example, if there are some third-party crates that you can avoid using without compromising too much on anything else, then removing those dependencies will help.</p>
<p>Even for crates that you need to keep, disabling unused features may reduce how many crates they depend on. (I'm not 100% sure that will affect <code>Cargo.lock</code>, but I think so?) In particular I'm guessing turning off the <code>boring</code> feature might make a big difference; I bet crates like <code>cmake</code> are only being pulled in to compile BoringSSL.</p>
</blockquote>



<a name="310271244"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235271%20Update%20wasi-crypto%20to%20the%20current%20.../near/310271244" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235271.20Update.20wasi-crypto.20to.20the.20current.20.2E.2E.2E.html#310271244">(Nov 15 2022 at 19:13)</a>:</h4>
<p>jedisct1 <a href="https://github.com/bytecodealliance/wasmtime/pull/5271#issuecomment-1315753644">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5271">issue #5271</a>:</p>
<blockquote>
<p>Unfortunately, there's not much to be removed, and most of these dependencies were already there for the previous version. The post-quantum schemes can be removed, but that wouldn't remove a lot of dependencies. </p>
<p>Note that support for <code>wasi-crypto</code> is not enabled by default in Wasmtime; it is behind a feature flag.</p>
</blockquote>



<a name="310274479"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235271%20Update%20wasi-crypto%20to%20the%20current%20.../near/310274479" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235271.20Update.20wasi-crypto.20to.20the.20current.20.2E.2E.2E.html#310274479">(Nov 15 2022 at 19:30)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/pull/5271#issuecomment-1315772391">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5271">issue #5271</a>:</p>
<blockquote>
<p>I think I remember that when we set up <code>cargo vet</code>, we discussed the possibility of disabling it for certain crates. I feel like <code>wasi-crypto</code> was one of them (and maybe <code>wasi-nn</code>?), but I don't remember if we came to any conclusions.</p>
<p>If I'm reading the manual correctly, I think we can add <code>criteria = []</code> to the <code>[policy.wasi-crypto]</code> section of <code>supply-chain/config.toml</code> if we want to do that.</p>
<p>Whether we _should_ do that is a bigger policy question. Maybe @alexcrichton or @bholley have opinions on this?</p>
</blockquote>



<a name="310301719"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235271%20Update%20wasi-crypto%20to%20the%20current%20.../near/310301719" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235271.20Update.20wasi-crypto.20to.20the.20current.20.2E.2E.2E.html#310301719">(Nov 15 2022 at 22:05)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/5271#issuecomment-1315920786">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5271">issue #5271</a>:</p>
<blockquote>
<p>We have arbitrarily drawn a line in the sand awhile back saying "everything here is ok" and are now trying to avoid moving that line in the sand. While wasi-crypto's dependency tree was grandfathered in behind the line in the sand I personally feel that we should hold all new WASI proposals, dependencies, etc, to a higher bar of inclusion, requiring an on-the-record vet entry for everything. Personally I do not think that we should go the route of excluding WASI proposals from the vetting process as I feel that inclusion into the upstream tree here is not a free operation and this is one of the costs.</p>
<p>Note that dependencies do not need to be fully vetted, only the diff from the last known good version, aka the diff from where we drew the line in the sand awhile ago.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>