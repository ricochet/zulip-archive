<html>
<head><meta charset="utf-8"><title>wasmtime / PR #5430 Don&#x27;t add aliases for fixed_nonalloca... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html">wasmtime / PR #5430 Don&#x27;t add aliases for fixed_nonalloca...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="315705189"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235430%20Don%27t%20add%20aliases%20for%20fixed_nonalloca.../near/315705189" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html#315705189">(Dec 13 2022 at 23:11)</a>:</h4>
<p>elliottt opened <a href="https://github.com/bytecodealliance/wasmtime/pull/5430">PR #5430</a> from <code>trevor/fixed-nonallocatable-aliases</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="315705737"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235430%20Don%27t%20add%20aliases%20for%20fixed_nonalloca.../near/315705737" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html#315705737">(Dec 13 2022 at 23:15)</a>:</h4>
<p>elliottt edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5430">PR #5430</a> from <code>trevor/fixed-nonallocatable-aliases</code> to <code>main</code>:</p>
<blockquote>
<p>The only situation where we use physical registers now is for fixed non-allocatable registers, all other uses should be virtual register. As such, it no longer makes sense to track aliases of registers that aren't virtual, as that would imply that it's acceptable to satisfy a constraint by using a non-allocatable register.<br>
&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="315707044"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235430%20Don%27t%20add%20aliases%20for%20fixed_nonalloca.../near/315707044" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html#315707044">(Dec 13 2022 at 23:25)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5430">PR #5430</a> from <code>trevor/fixed-nonallocatable-aliases</code> to <code>main</code>.</p>



<a name="315707594"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235430%20Don%27t%20add%20aliases%20for%20fixed_nonalloca.../near/315707594" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html#315707594">(Dec 13 2022 at 23:29)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5430">PR #5430</a> from <code>trevor/fixed-nonallocatable-aliases</code> to <code>main</code>.</p>



<a name="315708616"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235430%20Don%27t%20add%20aliases%20for%20fixed_nonalloca.../near/315708616" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html#315708616">(Dec 13 2022 at 23:37)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5430">PR #5430</a> from <code>trevor/fixed-nonallocatable-aliases</code> to <code>main</code>.</p>



<a name="315708753"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235430%20Don%27t%20add%20aliases%20for%20fixed_nonalloca.../near/315708753" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html#315708753">(Dec 13 2022 at 23:38)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5430">PR #5430</a> from <code>trevor/fixed-nonallocatable-aliases</code> to <code>main</code>.</p>



<a name="315708871"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235430%20Don%27t%20add%20aliases%20for%20fixed_nonalloca.../near/315708871" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html#315708871">(Dec 13 2022 at 23:39)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5430#pullrequestreview-1216572407">PR review</a>.</p>



<a name="315708872"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235430%20Don%27t%20add%20aliases%20for%20fixed_nonalloca.../near/315708872" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html#315708872">(Dec 13 2022 at 23:39)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5430#pullrequestreview-1216572407">PR review</a>.</p>



<a name="315708874"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235430%20Don%27t%20add%20aliases%20for%20fixed_nonalloca.../near/315708874" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html#315708874">(Dec 13 2022 at 23:39)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/5430#discussion_r1047858123">PR review comment</a>:</p>
<blockquote>
<p>s/alias/move/ -- "aliases" are what are used to make one vreg resolve to another (so that result vregs can be rewritten to the temp vregs returned by the toplevel lowering entry point), and imply a "timeless" equivalence, while "moves" are specific copy operations that occur in program flow. (Likewise the title of this PR/commit should change)</p>
</blockquote>



<a name="315709327"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235430%20Don%27t%20add%20aliases%20for%20fixed_nonalloca.../near/315709327" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html#315709327">(Dec 13 2022 at 23:42)</a>:</h4>
<p>elliottt updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5430">PR #5430</a> from <code>trevor/fixed-nonallocatable-aliases</code> to <code>main</code>.</p>



<a name="315709392"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235430%20Don%27t%20add%20aliases%20for%20fixed_nonalloca.../near/315709392" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html#315709392">(Dec 13 2022 at 23:43)</a>:</h4>
<p><strong>elliottt</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/5430">PR #5430</a> as ready for review.</p>



<a name="315709416"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235430%20Don%27t%20add%20aliases%20for%20fixed_nonalloca.../near/315709416" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235430.20Don.27t.20add.20aliases.20for.20fixed_nonalloca.2E.2E.2E.html#315709416">(Dec 13 2022 at 23:43)</a>:</h4>
<p>elliottt edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5430">PR #5430</a> from <code>trevor/fixed-nonallocatable-aliases</code> to <code>main</code>:</p>
<blockquote>
<p>The only situation where we use physical registers now is for fixed non-allocatable registers, all other uses should be virtual register. As such, it no longer makes sense to track aliases of registers that aren't virtual, as that would imply that it's acceptable to satisfy a constraint by using a non-allocatable register.</p>
<p>Fixes #5425 <br>
&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>