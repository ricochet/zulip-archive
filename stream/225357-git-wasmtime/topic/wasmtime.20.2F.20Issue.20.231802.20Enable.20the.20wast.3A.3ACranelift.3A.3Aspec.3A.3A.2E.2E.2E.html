<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #1802 Enable the wast::Cranelift::spec::... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html">wasmtime / Issue #1802 Enable the wast::Cranelift::spec::...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="199505202"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199505202" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199505202">(Jun 02 2020 at 15:02)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-637600613">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @bnjbvr</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "cranelift:area:aarch64"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>bnjbvr: cranelift</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="199511597"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199511597" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199511597">(Jun 02 2020 at 15:41)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-637634808">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>Hmm, the CI seems to be hitting a test timeout (or just a really slow test -- our aarch64 tests run under qemu on the x86 CI hosts):</p>
<div class="codehilite"><pre><span></span><code>test wast::Cranelift::spec::start ... test wast::Cranelift::spec::start has been running for over 60 seconds
error: test failed, to rerun pass &#39;-p wasmtime-cli --test all&#39;
</code></pre></div>


<p>Not sure what's going on -- did tests pass for you locally?</p>
</blockquote>



<a name="199516939"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199516939" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199516939">(Jun 02 2020 at 16:19)</a>:</h4>
<p>akirilov-arm <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-637660202">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>I usually test with <code>cargo test --all --exclude lightbeam</code>. However, I run everything in an actual AArch64 environment - no emulation.</p>
</blockquote>



<a name="199516973"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199516973" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199516973">(Jun 02 2020 at 16:19)</a>:</h4>
<p>akirilov-arm edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-637660202">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>I usually test with <code>cargo test --all --exclude lightbeam</code>, which passes locally. However, I run everything in an actual AArch64 environment - no emulation.</p>
</blockquote>



<a name="199519128"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199519128" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199519128">(Jun 02 2020 at 16:35)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-637669164">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>I re-kicked the tests; likely just a spurious issue then. If still not green then I can look into the timeout settings.</p>
</blockquote>



<a name="199524265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199524265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199524265">(Jun 02 2020 at 17:16)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-637690212">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>It appears there's a merge conflict now since we merged Joey's PR (#1801) -- sorry about that!</p>
</blockquote>



<a name="199607733"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199607733" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199607733">(Jun 03 2020 at 11:32)</a>:</h4>
<p>akirilov-arm <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-638138198">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>Now the build fails for reasons that are completely unrelated to my changes:<br>
<code>``error: use of deprecated item 'region::protect::Protection::ReadWrite': Use Protection::READ_WRITE instead
   --&gt; crates/runtime/src/mmap.rs:185:55
    |
185 |         unsafe { region::protect(ptr.add(start), len, region::Protection::ReadWrite) }
    |                                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: </code>-D deprecated<code> implied by </code>-D warnings`</p>
<p>error: aborting due to previous error</p>
<p>error: could not compile <code>wasmtime-runtime</code>.</p>
<div class="codehilite"><pre><span></span><code>~~~
</code></pre></div>


</blockquote>



<a name="199643056"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199643056" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199643056">(Jun 03 2020 at 16:32)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-638311191">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>Yep, I'm seeing the same CI build failure elsewhere; raised the issue on Zulip.</p>
</blockquote>



<a name="199674395"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199674395" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199674395">(Jun 03 2020 at 20:45)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-638451972">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>@akirilov-arm we've fixed the CI issue on master, so if you rebase, the tests should pass now. Sorry about all the trouble!</p>
</blockquote>



<a name="199701538"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199701538" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199701538">(Jun 04 2020 at 03:23)</a>:</h4>
<p>akirilov-arm <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-638579264">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>It's still not clear to me why there are failures - this is the only information that I find in the log:</p>
<div class="codehilite"><pre><span></span><code>2020-06-03T22:34:04.7756111Z error: test failed, to rerun pass &#39;-p wasmtime-cli --test all&#39;
2020-06-03T22:34:04.8390830Z
2020-06-03T22:34:04.8395010Z Caused by:
2020-06-03T22:34:04.8429995Z   process didn&#39;t exit successfully: `/home/runner/qemu/bin/qemu-aarch64 -L /usr/aarch64-linux-gnu /home/runner/work/wasmtime/wasmtime/target/aarch64-unknown-linux-gnu/release/deps/all-1543c4079f5cddb8` (signal: 9, SIGKILL: kill)
2020-06-03T22:34:04.9333419Z ##[error]Process completed with exit code 101.
</code></pre></div>


<p>In particular, the tests that my changes are supposed to enable pass.</p>
</blockquote>



<a name="199809515"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199809515" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199809515">(Jun 04 2020 at 21:17)</a>:</h4>
<p>akirilov-arm <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-639121225">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>@cfallin I'll give it another try after the recently merged test fixes.</p>
</blockquote>



<a name="199882282"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199882282" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199882282">(Jun 05 2020 at 14:15)</a>:</h4>
<p>akirilov-arm <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-639523732">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>I am unable to get any useful log output from the latest CI failure - it looks like a timeout?</p>
<p>I have also tried running the tests locally on a x86 machine with QEMU 5.0.0. I used the following command line (based on what CI is doing):</p>
<div class="codehilite"><pre><span></span><code>QEMU_LD_PREFIX=/usr/aarch64-linux-gnu cargo test --features test-programs/test_programs --release --all --exclude lightbeam --exclude peepmatic --exclude peepmatic-automata --exclude peepmatic-fuzzing --exclude peepmatic-macro --exclude peepmatic-runtime --exclude peepmatic-test --exclude wasmtime-fuzz --target aarch64-unknown-linux-gnu
</code></pre></div>


<p>Everything completes successfully.</p>
<p>@cfallin I am at a loss about how to proceed. It looks like everything is correct on my end and I am just blocked by CI issues.</p>
</blockquote>



<a name="199882399"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199882399" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199882399">(Jun 05 2020 at 14:16)</a>:</h4>
<p>akirilov-arm edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-639523732">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>I am unable to get any useful log output from the latest CI failure - it looks like a timeout?</p>
<p>I have also tried running the tests locally on a x86 machine with QEMU 5.0.0. I have used the following command line (based on what CI is doing):</p>
<div class="codehilite"><pre><span></span><code>QEMU_LD_PREFIX=/usr/aarch64-linux-gnu cargo test --features test-programs/test_programs --release --all --exclude lightbeam --exclude peepmatic --exclude peepmatic-automata --exclude peepmatic-fuzzing --exclude peepmatic-macro --exclude peepmatic-runtime --exclude peepmatic-test --exclude wasmtime-fuzz --target aarch64-unknown-linux-gnu
</code></pre></div>


<p>Everything completes successfully.</p>
<p>@cfallin I am at a loss about how to proceed. It looks like everything is correct on my end and I am just blocked by CI issues.</p>
</blockquote>



<a name="199920467"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199920467" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199920467">(Jun 05 2020 at 19:01)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-639721135">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>Sorry the CI is being so temperamental... I kicked the jobs again; let's see what happens. If still an issue, I can ping some others who know more about our CI setup.</p>
</blockquote>



<a name="199923748"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199923748" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199923748">(Jun 05 2020 at 19:33)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-639746425">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>Job failed again with a segfault in qemu. Perhaps it's an issue with the qemu setup we have? We appear to be using version 4.2.0, according to the custom qemu build commands in <a href="https://github.com/bytecodealliance/wasmtime/blob/master/.github/workflows/main.yml">our GitHub CI config</a>. @alexcrichton , is there a way we could use a newer qemu? @akirilov-arm, is there a way you could try to replicate with 4.2.0 (to see if this is a qemu bug)?</p>
</blockquote>



<a name="199924397"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199924397" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199924397">(Jun 05 2020 at 19:39)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-639750253">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>FWIW segfaults in qemu I've found are typically bugs in qemu (and are somewhat common, especially with things like fanciful instructions). It should be easy enough to update the copy in CI by <a href="https://github.com/bytecodealliance/wasmtime/blob/bc555468a7503c356001142d84326390a51c3385/.github/workflows/main.yml#L312">updating this URL</a>, and if it's working locally with 5.0.0 updating CI should do the trick! If you've got trouble doing that though I'd be happy to help</p>
</blockquote>



<a name="199930825"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199930825" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199930825">(Jun 05 2020 at 20:36)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-639800228">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>@akirilov-arm I just rebased your commit on top of our qemu update -- let's see if this works.</p>
</blockquote>



<a name="199942489"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/199942489" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#199942489">(Jun 05 2020 at 22:50)</a>:</h4>
<p>akirilov-arm <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-639877787">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>FYI QEMU 4.2.0 works for me too. However, I have one remark - I didn't notice any segmentation faults in the old log, rather <code>SIGKILL</code> (it was the same error message as the one I posted <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-638579264">above</a>). Now, I am not familiar with the CI setup, but if I have to make a wild guess, I'd say we are running out of memory (and the OOM killer springs into action). Of course, I have no idea why any of the other PRs don't fail, including the ones that touch the AArch64 backend. As I said, that's just a wild guess.</p>
</blockquote>



<a name="200099886"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/200099886" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#200099886">(Jun 08 2020 at 13:52)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-640617044">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>Yeah it actually sort of looks like OOM of some form since I can't see logs from the builders. One possibility is to turn down the concurrency to just one on aarch64 tests, but otherwise it's probably ok to not enable the tests here just yet and we can figure out how to do that in CI later.</p>
</blockquote>



<a name="200154923"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/200154923" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#200154923">(Jun 08 2020 at 20:56)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-640881992">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>@akirilov-arm if you want to simply re-disable the test, I'm OK with merging this now; maybe open an issue for the <code>SIGKILL</code>-afflicted test and add a <code>FIXME</code> on the line that disables it?</p>
</blockquote>



<a name="200156265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/200156265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#200156265">(Jun 08 2020 at 21:08)</a>:</h4>
<p>akirilov-arm <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-640887742">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>OK, I will rework the patch, so that the vector element extensions go in (we need them for some upcoming changes; for example, I have already implemented what's necessary for <code>simd_load_extend</code>, but I have been waiting for this PR to get merged), but I won't enable any tests. Let's revisit them later.</p>
</blockquote>



<a name="200259813"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231802%20Enable%20the%20wast%3A%3ACranelift%3A%3Aspec%3A%3A.../near/200259813" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231802.20Enable.20the.20wast.3A.3ACranelift.3A.3Aspec.3A.3A.2E.2E.2E.html#200259813">(Jun 09 2020 at 16:58)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/1802#issuecomment-641445915">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1802">Issue #1802</a>:</p>
<blockquote>
<p>Thanks!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>