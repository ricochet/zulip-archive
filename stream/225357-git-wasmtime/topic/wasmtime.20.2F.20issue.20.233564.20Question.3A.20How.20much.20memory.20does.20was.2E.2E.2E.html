<html>
<head><meta charset="utf-8"><title>wasmtime / issue #3564 Question: How much memory does was... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233564.20Question.3A.20How.20much.20memory.20does.20was.2E.2E.2E.html">wasmtime / issue #3564 Question: How much memory does was...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="263003938"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233564%20Question%3A%20How%20much%20memory%20does%20was.../near/263003938" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233564.20Question.3A.20How.20much.20memory.20does.20was.2E.2E.2E.html#263003938">(Nov 29 2021 at 12:55)</a>:</h4>
<p>PureWhiteWu opened <a href="https://github.com/bytecodealliance/wasmtime/issues/3564">issue #3564</a>:</p>
<blockquote>
<p>As title discribes, I wonder how much memory does wasmtime allocates to an instance by default.</p>
<p>I ran into some strange behaviour, and I need to confirm this first.</p>
<p>Thanks.</p>
</blockquote>



<a name="263010887"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233564%20Question%3A%20How%20much%20memory%20does%20was.../near/263010887" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233564.20Question.3A.20How.20much.20memory.20does.20was.2E.2E.2E.html#263010887">(Nov 29 2021 at 13:56)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/3564#issuecomment-981656667">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3564">issue #3564</a>:</p>
<blockquote>
<p>On 64bit systems wasmtime reserves 6GB by default for the wasm linear memory I believe. Only the part corresponding with the size of the linear memory as the wasm module sees it is allocated. The rest doesn't use RAM. Each wasm module sets it's own default size for the linear memory. <a href="https://github.com/bytecodealliance/wasmtime/blob/81f6228c574670dcdacd42e40ce53e9e1a685a15/crates/environ/src/tunables.rs#L51-L57">https://github.com/bytecodealliance/wasmtime/blob/81f6228c574670dcdacd42e40ce53e9e1a685a15/crates/environ/src/tunables.rs#L51-L57</a></p>
</blockquote>



<a name="263010917"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233564%20Question%3A%20How%20much%20memory%20does%20was.../near/263010917" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233564.20Question.3A.20How.20much.20memory.20does.20was.2E.2E.2E.html#263010917">(Nov 29 2021 at 13:56)</a>:</h4>
<p>bjorn3 edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/3564#issuecomment-981656667">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3564">issue #3564</a>:</p>
<blockquote>
<p>On 64bit systems wasmtime reserves 6GB by default for the wasm linear memory. Only the part corresponding with the size of the linear memory as the wasm module sees it is allocated. The rest doesn't use RAM. Each wasm module sets it's own default size for the linear memory. <a href="https://github.com/bytecodealliance/wasmtime/blob/81f6228c574670dcdacd42e40ce53e9e1a685a15/crates/environ/src/tunables.rs#L51-L57">https://github.com/bytecodealliance/wasmtime/blob/81f6228c574670dcdacd42e40ce53e9e1a685a15/crates/environ/src/tunables.rs#L51-L57</a></p>
</blockquote>



<a name="263010936"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233564%20Question%3A%20How%20much%20memory%20does%20was.../near/263010936" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233564.20Question.3A.20How.20much.20memory.20does.20was.2E.2E.2E.html#263010936">(Nov 29 2021 at 13:56)</a>:</h4>
<p>bjorn3 edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/3564#issuecomment-981656667">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3564">issue #3564</a>:</p>
<blockquote>
<p>On 64bit systems wasmtime reserves 6GB for the wasm linear memory by default. Only the part corresponding with the size of the linear memory as the wasm module sees it is allocated. The rest doesn't use RAM. Each wasm module sets it's own default size for the linear memory. <a href="https://github.com/bytecodealliance/wasmtime/blob/81f6228c574670dcdacd42e40ce53e9e1a685a15/crates/environ/src/tunables.rs#L51-L57">https://github.com/bytecodealliance/wasmtime/blob/81f6228c574670dcdacd42e40ce53e9e1a685a15/crates/environ/src/tunables.rs#L51-L57</a></p>
</blockquote>



<a name="263024887"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233564%20Question%3A%20How%20much%20memory%20does%20was.../near/263024887" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233564.20Question.3A.20How.20much.20memory.20does.20was.2E.2E.2E.html#263024887">(Nov 29 2021 at 15:41)</a>:</h4>
<p>PureWhiteWu <a href="https://github.com/bytecodealliance/wasmtime/issues/3564#issuecomment-981755994">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3564">issue #3564</a>:</p>
<blockquote>
<p>@bjorn3 Thanks!<br>
I've found something quite strange and submited another issue #3565 so close this now.</p>
</blockquote>



<a name="263024889"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233564%20Question%3A%20How%20much%20memory%20does%20was.../near/263024889" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233564.20Question.3A.20How.20much.20memory.20does.20was.2E.2E.2E.html#263024889">(Nov 29 2021 at 15:42)</a>:</h4>
<p>PureWhiteWu closed <a href="https://github.com/bytecodealliance/wasmtime/issues/3564">issue #3564</a>:</p>
<blockquote>
<p>As title discribes, I wonder how much memory does wasmtime allocates to an instance by default.</p>
<p>I ran into some strange behaviour, and I need to confirm this first.</p>
<p>Thanks.</p>
</blockquote>



<a name="263026712"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%233564%20Question%3A%20How%20much%20memory%20does%20was.../near/263026712" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.233564.20Question.3A.20How.20much.20memory.20does.20was.2E.2E.2E.html#263026712">(Nov 29 2021 at 15:53)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/3564#issuecomment-981766659">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/3564">issue #3564</a>:</p>
<blockquote>
<p>Note that the number reported above is not accurate, the full default address space reservation is 8GB large. There's a 2GB guard region, the 4GB region for a 32-bit memory, and a trailing 2GB guard region. All of this is configurable via the <code>Config</code> struct and its various methods as well. </p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>