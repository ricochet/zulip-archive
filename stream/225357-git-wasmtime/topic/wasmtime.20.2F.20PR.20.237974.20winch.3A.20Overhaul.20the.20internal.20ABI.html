<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7974 winch: Overhaul the internal ABI · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html">wasmtime / PR #7974 winch: Overhaul the internal ABI</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="422651804"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422651804" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422651804">(Feb 21 2024 at 16:04)</a>:</h4>
<p>saulecabrera opened <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a> from <code>saulecabrera:winch-overhaul-abi</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This change overhauls Winch's ABI. This means that as part of this change,  the default ABI now closely resembles Cranelift's ABI, particularly on the treatment of the VMContext. This change also fixes many wrong assumptions about trampolines, which are tied to how the previous ABI operated.</p>
<p>The main motivation behind this change is:</p>
<ul>
<li>To make it easier to integrate Winch-generated functions with Wasmtime</li>
<li>Fix fuzz bugs related to imports</li>
<li>Solidify the implementation regarding the usage of a pinned register to hold the VMContext value throughout the lifetime of a function.</li>
</ul>
<p>The previous implementation had the following characteristics, and wrong assumptions):</p>
<ul>
<li>Assumed that internal functions don't receive a caller or callee VMContexts as parameters.</li>
<li>
<p>Worked correctly in the following scenarios: <br>
    * <code>Wasm -&gt; Native</code>: since we can explicitly load the caller and callee <code>VMContext</code>, because we're calling a native import. <br>
    * <code>(Native, Array) -&gt; Wasm</code>: because the native signatures define a tuple of  <code>VMContext</code> as arguments.</p>
</li>
<li>
<p>It didn't work in the following scenario:</p>
<ul>
<li><code>Wasm-&gt;Wasm</code>: When calling imports from another WebAssembly instance (via direct call or <code>call_indirect</code>. The previous implementation wrongly assumes that there should be a trampoline in this case, but there isn't. The code was generated by the same compiler, so the same ABI should be used in both functions, but it doesn't. </li>
</ul>
</li>
</ul>
<p>This change introduces the following changes, which fix the previous assumptions and bugs:</p>
<ul>
<li>All internal functions declare a two extra pointer-sized parameters, which will hold the callee and caller <code>VMContext</code>s</li>
<li>Use a pinned register that will be considered live through the lifetime of the function instead of pinning it at the trampoline level. The pinning explicitlly happens when entering the function body and no other assumptions are made from there on.</li>
<li>Introduce the concept of special <code>ContextArgs</code> for function calls. This enum holds metadata about which context arguments are needed depending on the callee. The previous implementation of introducing register values at arbitrary locations in the value stack conflicts with the stack ordering principle which states that older values must <em>always</em> precede newer values. So we can't insert a register, because if a spill happens the order of the values will be wrong. </li>
</ul>
<p>Finally, given that this change also enables the <code>imports.wast</code> test suite, it also includes a fix to <code>global.{get, set}</code> instructions which didn't account entirely for imported globals.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="422651805"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422651805" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422651805">(Feb 21 2024 at 16:04)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>.</p>



<a name="422651806"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422651806" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422651806">(Feb 21 2024 at 16:04)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>.</p>



<a name="422651808"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422651808" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422651808">(Feb 21 2024 at 16:04)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>.</p>



<a name="422652617"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422652617" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422652617">(Feb 21 2024 at 16:07)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#pullrequestreview-1893632360">PR review</a>.</p>



<a name="422652619"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422652619" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422652619">(Feb 21 2024 at 16:07)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#discussion_r1497854457">PR review comment</a>:</p>
<blockquote>
<p>This change is fairly large already, so I opted to just introduce this macro and use it in a couple of places that are updated by this change. My plan is to follow up with a general replace after landing this change (but I can do so here too if preferred).</p>
</blockquote>



<a name="422652981"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422652981" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422652981">(Feb 21 2024 at 16:09)</a>:</h4>
<p>saulecabrera edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>:</p>
<blockquote>
<p>This change overhauls Winch's ABI. This means that as part of this change,  the default ABI now closely resembles Cranelift's ABI, particularly on the treatment of the VMContext. This change also fixes many wrong assumptions about trampolines, which are tied to how the previous ABI operated.</p>
<p>The main motivation behind this change is:</p>
<ul>
<li>To make it easier to integrate Winch-generated functions with Wasmtime</li>
<li>Fix fuzz bugs related to imports</li>
<li>Solidify the implementation regarding the usage of a pinned register to hold the VMContext value throughout the lifetime of a function.</li>
</ul>
<p>The previous implementation had the following characteristics, and wrong assumptions):</p>
<ul>
<li>Assumed that internal functions don't receive a caller or callee VMContexts as parameters.</li>
<li>
<p>Worked correctly in the following scenarios: <br>
    * <code>Wasm -&gt; Native</code>: since we can explicitly load the caller and callee <code>VMContext</code>, because we're calling a native import. <br>
    * <code>(Native, Array) -&gt; Wasm</code>: because the native signatures define a tuple of  <code>VMContext</code> as arguments.</p>
</li>
<li>
<p>It didn't work in the following scenario:</p>
<ul>
<li><code>Wasm-&gt;Wasm</code>: When calling imports from another WebAssembly instance (via direct call or <code>call_indirect</code>. The previous implementation wrongly assumed that there should be a trampoline in this case, but there isn't. The code was generated by the same compiler, so the same ABI should be used in both functions. </li>
</ul>
</li>
</ul>
<p>This change introduces the following changes, which fix the previous assumptions and bugs:</p>
<ul>
<li>All internal functions declare a two extra pointer-sized parameters, which will hold the callee and caller <code>VMContext</code>s</li>
<li>Use a pinned register that will be considered live through the lifetime of the function instead of pinning it at the trampoline level. The pinning explicitlly happens when entering the function body and no other assumptions are made from there on.</li>
<li>Introduce the concept of special <code>ContextArgs</code> for function calls. This enum holds metadata about which context arguments are needed depending on the callee. The previous implementation of introducing register values at arbitrary locations in the value stack conflicts with the stack ordering principle which states that older values must <em>always</em> precede newer values. So we can't insert a register, because if a spill happens the order of the values will be wrong. </li>
</ul>
<p>Finally, given that this change also enables the <code>imports.wast</code> test suite, it also includes a fix to <code>global.{get, set}</code> instructions which didn't account entirely for imported globals.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="422657398"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422657398" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422657398">(Feb 21 2024 at 16:25)</a>:</h4>
<p>saulecabrera edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>:</p>
<blockquote>
<p>This change overhauls Winch's ABI. This means that as part of this change,  the default ABI now closely resembles Cranelift's ABI, particularly on the treatment of the VMContext. This change also fixes many wrong assumptions about trampolines, which are tied to how the previous ABI operated.</p>
<p>The main motivation behind this change is:</p>
<ul>
<li>To make it easier to integrate Winch-generated functions with Wasmtime</li>
<li>Fix fuzz bugs related to imports</li>
<li>Solidify the implementation regarding the usage of a pinned register to hold the VMContext value throughout the lifetime of a function.</li>
</ul>
<p>The previous implementation had the following characteristics, and wrong assumptions):</p>
<ul>
<li>Assumed that internal functions don't receive a caller or callee VMContexts as parameters.</li>
<li>Worked correctly in the following scenarios: <br>
    * <code>Wasm -&gt; Native</code>: since we can explicitly load the caller and callee <code>VMContext</code>, because we're calling a native import. <br>
    * <code>(Native, Array) -&gt; Wasm</code>: because the native signatures define a tuple of  <code>VMContext</code> as arguments.</li>
<li>It didn't work in the following scenario:<ul>
<li><code>Wasm-&gt;Wasm</code>: When calling imports from another WebAssembly instance (via direct call or <code>call_indirect</code>. The previous implementation wrongly assumed that there should be a trampoline in this case, but there isn't. The code was generated by the same compiler, so the same ABI should be used in both functions. </li>
</ul>
</li>
</ul>
<p>This change introduces the following changes, which fix the previous assumptions and bugs:</p>
<ul>
<li>All internal functions declare a two extra pointer-sized parameters, which will hold the callee and caller <code>VMContext</code>s</li>
<li>Use a pinned register that will be considered live through the lifetime of the function instead of pinning it at the trampoline level. The pinning explicitlly happens when entering the function body and no other assumptions are made from there on.</li>
<li>Introduce the concept of special <code>ContextArgs</code> for function calls. This enum holds metadata about which context arguments are needed depending on the callee. The previous implementation of introducing register values at arbitrary locations in the value stack conflicts with the stack ordering principle which states that older values must <em>always</em> precede newer values. So we can't insert a register, because if a spill happens the order of the values will be wrong. </li>
</ul>
<p>Finally, given that this change also enables the <code>imports.wast</code> test suite, it also includes a fix to <code>global.{get, set}</code> instructions which didn't account entirely for imported globals.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="422657442"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422657442" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422657442">(Feb 21 2024 at 16:25)</a>:</h4>
<p>saulecabrera edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>:</p>
<blockquote>
<p>This change overhauls Winch's ABI. This means that as part of this change,  the default ABI now closely resembles Cranelift's ABI, particularly on the treatment of the VMContext. This change also fixes many wrong assumptions about trampolines, which are tied to how the previous ABI operated.</p>
<p>The main motivation behind this change is:</p>
<ul>
<li>To make it easier to integrate Winch-generated functions with Wasmtime</li>
<li>Fix fuzz bugs related to imports</li>
<li>Solidify the implementation regarding the usage of a pinned register to hold the VMContext value throughout the lifetime of a function.</li>
</ul>
<p>The previous implementation had the following characteristics, and wrong assumptions:</p>
<ul>
<li>Assumed that internal functions don't receive a caller or callee VMContexts as parameters.</li>
<li>Worked correctly in the following scenarios: <br>
    * <code>Wasm -&gt; Native</code>: since we can explicitly load the caller and callee <code>VMContext</code>, because we're calling a native import. <br>
    * <code>(Native, Array) -&gt; Wasm</code>: because the native signatures define a tuple of  <code>VMContext</code> as arguments.</li>
<li>It didn't work in the following scenario:<ul>
<li><code>Wasm-&gt;Wasm</code>: When calling imports from another WebAssembly instance (via direct call or <code>call_indirect</code>. The previous implementation wrongly assumed that there should be a trampoline in this case, but there isn't. The code was generated by the same compiler, so the same ABI should be used in both functions. </li>
</ul>
</li>
</ul>
<p>This change introduces the following changes, which fix the previous assumptions and bugs:</p>
<ul>
<li>All internal functions declare a two extra pointer-sized parameters, which will hold the callee and caller <code>VMContext</code>s</li>
<li>Use a pinned register that will be considered live through the lifetime of the function instead of pinning it at the trampoline level. The pinning explicitlly happens when entering the function body and no other assumptions are made from there on.</li>
<li>Introduce the concept of special <code>ContextArgs</code> for function calls. This enum holds metadata about which context arguments are needed depending on the callee. The previous implementation of introducing register values at arbitrary locations in the value stack conflicts with the stack ordering principle which states that older values must <em>always</em> precede newer values. So we can't insert a register, because if a spill happens the order of the values will be wrong. </li>
</ul>
<p>Finally, given that this change also enables the <code>imports.wast</code> test suite, it also includes a fix to <code>global.{get, set}</code> instructions which didn't account entirely for imported globals.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="422657527"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422657527" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422657527">(Feb 21 2024 at 16:26)</a>:</h4>
<p>saulecabrera edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>:</p>
<blockquote>
<p>This change overhauls Winch's ABI. This means that as part of this change,  the default ABI now closely resembles Cranelift's ABI, particularly on the treatment of the VMContext. This change also fixes many wrong assumptions about trampolines, which are tied to how the previous ABI operated.</p>
<p>The main motivation behind this change is:</p>
<ul>
<li>To make it easier to integrate Winch-generated functions with Wasmtime</li>
<li>Fix fuzz bugs related to imports</li>
<li>Solidify the implementation regarding the usage of a pinned register to hold the VMContext value throughout the lifetime of a function.</li>
</ul>
<p>The previous implementation had the following characteristics, and wrong assumptions:</p>
<ul>
<li>Assumed that internal functions don't receive a caller or callee VMContexts as parameters.</li>
<li>Worked correctly in the following scenarios: <br>
    * <code>Wasm -&gt; Native</code>: since we can explicitly load the caller and callee <code>VMContext</code>, because we're calling a native import. <br>
    * <code>(Native, Array) -&gt; Wasm</code>: because the native signatures define a tuple of  <code>VMContext</code> as arguments.</li>
<li>It didn't work in the following scenario:<ul>
<li><code>Wasm -&gt; Wasm</code>: When calling imports from another WebAssembly instance (via direct call or <code>call_indirect</code>. The previous implementation wrongly assumed that there should be a trampoline in this case, but there isn't. The code was generated by the same compiler, so the same ABI should be used in both functions. </li>
</ul>
</li>
</ul>
<p>This change introduces the following changes, which fix the previous assumptions and bugs:</p>
<ul>
<li>All internal functions declare a two extra pointer-sized parameters, which will hold the callee and caller <code>VMContext</code>s</li>
<li>Use a pinned register that will be considered live through the lifetime of the function instead of pinning it at the trampoline level. The pinning explicitlly happens when entering the function body and no other assumptions are made from there on.</li>
<li>Introduce the concept of special <code>ContextArgs</code> for function calls. This enum holds metadata about which context arguments are needed depending on the callee. The previous implementation of introducing register values at arbitrary locations in the value stack conflicts with the stack ordering principle which states that older values must <em>always</em> precede newer values. So we can't insert a register, because if a spill happens the order of the values will be wrong. </li>
</ul>
<p>Finally, given that this change also enables the <code>imports.wast</code> test suite, it also includes a fix to <code>global.{get, set}</code> instructions which didn't account entirely for imported globals.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="422673928"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422673928" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422673928">(Feb 21 2024 at 17:47)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#pullrequestreview-1893919789">PR review</a>:</p>
<blockquote>
<p>Overall looks great, thanks! Just a few nits below.</p>
</blockquote>



<a name="422673929"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422673929" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422673929">(Feb 21 2024 at 17:47)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#pullrequestreview-1893919789">PR review</a>:</p>
<blockquote>
<p>Overall looks great, thanks! Just a few nits below.</p>
</blockquote>



<a name="422673930"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422673930" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422673930">(Feb 21 2024 at 17:47)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#discussion_r1497991301">PR review comment</a>:</p>
<blockquote>
<p>s/the the/the/</p>
</blockquote>



<a name="422673931"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422673931" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422673931">(Feb 21 2024 at 17:47)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#discussion_r1497960735">PR review comment</a>:</p>
<blockquote>
<p>s/paramters/parameters/</p>
</blockquote>



<a name="422673932"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422673932" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422673932">(Feb 21 2024 at 17:47)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#discussion_r1497995345">PR review comment</a>:</p>
<blockquote>
<p>Rather than <code>unchecked</code>, which to me implies lack of a bounds check or similar, can we name this in a way that indicates the index-space is shifted relative to above? E.g. perhaps the above <code>get_local</code> becomes <code>get_wasm_local</code> and <code>get_local_unchecked</code> becomes <code>get_raw_local</code>?</p>
<p>Alternately, avoid exposing <code>get_local_unchecked</code> at all and have two separate methods <code>get_callee_local()</code> / <code>get_caller_local()</code>?</p>
</blockquote>



<a name="422673933"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422673933" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422673933">(Feb 21 2024 at 17:47)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#discussion_r1497998477">PR review comment</a>:</p>
<blockquote>
<p>here and perhaps elsewhere, can we have a constant (maybe an associated constant of <code>ContextArgs</code>) indicating how many args we expect? Basically it'd be nice to tie this to other definitions so that we don't miss it if we ever add, e.g., a third context arg.</p>
</blockquote>



<a name="422702203"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422702203" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422702203">(Feb 21 2024 at 20:45)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#issuecomment-1957879915">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @saulecabrera</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "winch"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>saulecabrera: winch</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="422706154"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422706154" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422706154">(Feb 21 2024 at 21:15)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-fuzz-reviewers">wasmtime-fuzz-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>.</p>



<a name="422706155"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422706155" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422706155">(Feb 21 2024 at 21:15)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>.</p>



<a name="422706156"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422706156" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422706156">(Feb 21 2024 at 21:15)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>.</p>



<a name="422706158"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422706158" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422706158">(Feb 21 2024 at 21:15)</a>:</h4>
<p>saulecabrera updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>.</p>



<a name="422706305"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422706305" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422706305">(Feb 21 2024 at 21:16)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#issuecomment-1957963624">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>:</p>
<blockquote>
<p>Oh bad rebase -- sorry about that. Fixing it now. </p>
</blockquote>



<a name="422706746"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422706746" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422706746">(Feb 21 2024 at 21:20)</a>:</h4>
<p>saulecabrera updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>.</p>



<a name="422710780"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422710780" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422710780">(Feb 21 2024 at 21:54)</a>:</h4>
<p>saulecabrera updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>.</p>



<a name="422710876"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422710876" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422710876">(Feb 21 2024 at 21:54)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#pullrequestreview-1894490056">PR review</a>.</p>



<a name="422710878"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422710878" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422710878">(Feb 21 2024 at 21:54)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#discussion_r1498360370">PR review comment</a>:</p>
<blockquote>
<p>Fixed, thanks!</p>
</blockquote>



<a name="422710893"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422710893" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422710893">(Feb 21 2024 at 21:54)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#pullrequestreview-1894490224">PR review</a>.</p>



<a name="422710894"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422710894" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422710894">(Feb 21 2024 at 21:54)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#discussion_r1498360481">PR review comment</a>:</p>
<blockquote>
<p>Fixed!</p>
</blockquote>



<a name="422710979"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422710979" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422710979">(Feb 21 2024 at 21:55)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#pullrequestreview-1894491160">PR review</a>.</p>



<a name="422710980"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422710980" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422710980">(Feb 21 2024 at 21:55)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#discussion_r1498361136">PR review comment</a>:</p>
<blockquote>
<p>Thanks for the suggestion -- I ended up with <code>get_frame_local</code> and <code>get_wasm_local</code> to be able to distinguish one from another. </p>
</blockquote>



<a name="422711174"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422711174" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422711174">(Feb 21 2024 at 21:56)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#pullrequestreview-1894493163">PR review</a>.</p>



<a name="422711175"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422711175" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422711175">(Feb 21 2024 at 21:56)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/7974#discussion_r1498362546">PR review comment</a>:</p>
<blockquote>
<p>Good catch -- I introduced <code>MAX_CONTEXT_ARGS</code> near the <code>ContextArgs</code> definition, which is used in the trampoline. In the non-trampoline case (normal function calls), the expected number of context arguments is already parametrized through <code>ContextArgs::len</code></p>
</blockquote>



<a name="422719912"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237974%20winch%3A%20Overhaul%20the%20internal%20ABI/near/422719912" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237974.20winch.3A.20Overhaul.20the.20internal.20ABI.html#422719912">(Feb 21 2024 at 23:15)</a>:</h4>
<p>saulecabrera merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7974">PR #7974</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>