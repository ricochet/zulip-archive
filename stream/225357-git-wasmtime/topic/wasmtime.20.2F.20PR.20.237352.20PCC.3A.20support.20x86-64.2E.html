<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7352 PCC: support x86-64. · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html">wasmtime / PR #7352 PCC: support x86-64.</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="398364106"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398364106" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398364106">(Oct 24 2023 at 21:36)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/abrown">abrown</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7352">PR #7352</a>.</p>



<a name="398364107"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398364107" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398364107">(Oct 24 2023 at 21:36)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/pull/7352">PR #7352</a> from <code>cfallin:pcc-x86</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This PR extends the proof-carrying-code infrastructure to support x86-64 as well as aarch64. In the process, many of the mechanisms had to be made a little more general.</p>
<p>One important change is that the PCC leaves more "breadcrumbs" on the frontend now, avoiding the need for magic handling of facts on constant values, etc., in the backend. For the first time a lowering rule also gains the ability to add a fact to a vreg to preserve the chain as well.</p>
<p>With these changes, we can validate compilation of SpiderMonkey.wasm with Wasm static memories on x86-64 and aarch64:</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">cfallin</span><span class="o">@</span><span class="n">fastly2</span>:<span class="o">~/</span><span class="n">work</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">%</span><span class="w"> </span><span class="n">target</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">wasmtime</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="n">pcc</span><span class="o">=</span><span class="n">yes</span><span class="w"> </span><span class="o">--</span><span class="n">target</span><span class="w"> </span><span class="n">x86_64</span><span class="w"> </span><span class="o">../</span><span class="n">wasm</span><span class="o">-</span><span class="n">tests</span><span class="o">/</span><span class="n">spidermonkey</span><span class="p">.</span><span class="n">wasm</span>
<span class="n">cfallin</span><span class="o">@</span><span class="n">fastly2</span>:<span class="o">~/</span><span class="n">work</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">%</span><span class="w"> </span><span class="n">target</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">wasmtime</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="o">-</span><span class="n">C</span><span class="w"> </span><span class="n">pcc</span><span class="o">=</span><span class="n">yes</span><span class="w"> </span><span class="o">--</span><span class="n">target</span><span class="w"> </span><span class="n">aarch64</span><span class="w"> </span><span class="o">../</span><span class="n">wasm</span><span class="o">-</span><span class="n">tests</span><span class="o">/</span><span class="n">spidermonkey</span><span class="p">.</span><span class="n">wasm</span>
<span class="n">cfallin</span><span class="o">@</span><span class="n">fastly2</span>:<span class="o">~/</span><span class="n">work</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">%</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="398364108"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398364108" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398364108">(Oct 24 2023 at 21:36)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7352">PR #7352</a>.</p>



<a name="398364145"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398364145" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398364145">(Oct 24 2023 at 21:36)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7352">PR #7352</a>.</p>



<a name="398365860"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398365860" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398365860">(Oct 24 2023 at 21:53)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7352">PR #7352</a>.</p>



<a name="398533700"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398533700" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398533700">(Oct 25 2023 at 17:39)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#pullrequestreview-1697836625">PR review</a>:</p>
<blockquote>
<p>Nice!!</p>
<p>A few comments below.</p>
</blockquote>



<a name="398533701"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398533701" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398533701">(Oct 25 2023 at 17:39)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#pullrequestreview-1697836625">PR review</a>:</p>
<blockquote>
<p>Nice!!</p>
<p>A few comments below.</p>
</blockquote>



<a name="398533702"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398533702" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398533702">(Oct 25 2023 at 17:39)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372059553">PR review comment</a>:</p>
<blockquote>
<p>Ditto.</p>
</blockquote>



<a name="398533703"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398533703" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398533703">(Oct 25 2023 at 17:39)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372059625">PR review comment</a>:</p>
<blockquote>
<p>Ditto.</p>
</blockquote>



<a name="398533704"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398533704" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398533704">(Oct 25 2023 at 17:39)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372079058">PR review comment</a>:</p>
<blockquote>
<p>Will all these traces in this file continue to be useful? As written, I don't think they really have enough context to be helpful, but maybe they would with more context in the message? Or maybe it would be better to just remove them?</p>
</blockquote>



<a name="398533705"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398533705" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398533705">(Oct 25 2023 at 17:39)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372059288">PR review comment</a>:</p>
<blockquote>
<p>Right now an <code>XmmMem</code> provides a strong guarantee because the field is private and all constructors do checks. We can't make these inner fields <code>pub</code> because that would allow someone to mutate, for example, an <code>XmmMem</code> such that it wraps a non-XMM register and that breaks the type's invariants.</p>
<p>Same for the other register class newtypes.</p>
<p>There should be all the various conversions available like <code>From</code>, <code>TryFrom</code>, and <code>Into</code> but if any aren't present then we can add them. I think we might still need <code>AsRef</code> implementations.</p>
<p>But we really shouldn't add <em>unchecked</em> constructors or anything that is the equivalent (like making the inner fields <code>pub</code> or having an <code>AsMut</code> implementation)</p>
</blockquote>



<a name="398533706"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398533706" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398533706">(Oct 25 2023 at 17:39)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372093901">PR review comment</a>:</p>
<blockquote>
<p>It seems like the trace here should be the <code>Display</code>/<code>Debug</code> of the error returned, and the error should contain the instruction or instruction index.</p>
<p>That is a bit larger of a refactor, and can happen in a follow up PR, but we should at least in the meantime make this a <code>log::error!</code> rather than a <code>crate::trace!</code>.</p>
</blockquote>



<a name="398533707"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398533707" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398533707">(Oct 25 2023 at 17:39)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372104136">PR review comment</a>:</p>
<blockquote>
<p>I think this would be a little bit more general and less ad-hoc or at least more aesthetically pleasing to me if we separated fact attachment from fact construction:</p>
<div class="codehilite" data-code-language="suggestion"><pre><span></span><code>        (let ((fact Fact (make_range_fact 64 0 0xffff_ffff)))
          (with_fact src fact)))
</code></pre></div>
<p>But feel free to take or leave this suggestion.</p>
</blockquote>



<a name="398534307"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398534307" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398534307">(Oct 25 2023 at 17:44)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#pullrequestreview-1697925202">PR review</a>.</p>



<a name="398534309"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398534309" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398534309">(Oct 25 2023 at 17:44)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372115320">PR review comment</a>:</p>
<blockquote>
<p>Hmm, yeah, in principle I agree, but I couldn't find a way to make the pattern-matches see through these. Without the ability to pattern-match <code>Inst::Inst { src: GprMem(RegMem::Mem { ... }), .. }</code> vs. <code>Inst::Inst { src: GprMem(RegMem::Reg { ... }), .. }</code>, the code in <code>isa::x64::pcc</code> either becomes nightmarish or just impossible. I think we need to find a way to preserve that somehow...</p>
</blockquote>



<a name="398534755"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398534755" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398534755">(Oct 25 2023 at 17:48)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#pullrequestreview-1697930889">PR review</a>.</p>



<a name="398534762"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398534762" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398534762">(Oct 25 2023 at 17:48)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372118865">PR review comment</a>:</p>
<blockquote>
<p>The right long-term answer -- both typesafe and compatible with pattern-matching -- would be to directly have <code>enum GprMem { Gpr { ... }, Mem { ... } }</code>; that way the type still names the invariant, but we also can pattern-match on the interior. I don't want to couple that refactor to this work though, and unfortunately I don't see any trait impls that will let pattern-matching work otherwise; I would love to be wrong though if you know a way?</p>
</blockquote>



<a name="398535744"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398535744" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398535744">(Oct 25 2023 at 17:55)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372126679">PR review comment</a>:</p>
<blockquote>
<p>Instead of only matching when the <code>{Gpr,Xmm}Mem</code> wraps a <code>RegMem::Mem</code>, we can always match and then call <code>operand.as_ref()</code> or <code>operand.into()</code> to get the underlying <code>RegMem</code>, and finally pass that into a helper that early exits when given a <code>RegMem::Reg</code>. Essentially pushing the <code>::Reg</code> vs <code>::Mem</code> filtering down one layer.</p>
</blockquote>



<a name="398535745"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398535745" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398535745">(Oct 25 2023 at 17:55)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#pullrequestreview-1697942682">PR review</a>.</p>



<a name="398536916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398536916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398536916">(Oct 25 2023 at 18:02)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#pullrequestreview-1697953995">PR review</a>.</p>



<a name="398536918"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398536918" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398536918">(Oct 25 2023 at 18:02)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372133931">PR review comment</a>:</p>
<blockquote>
<p>Right, I get that this is a workaround, but I'm saying that the code becomes nightmarish: we really do need the ability to match on the Inst overall with specific kinds of operands...</p>
</blockquote>



<a name="398539842"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398539842" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398539842">(Oct 25 2023 at 18:24)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372155633">PR review comment</a>:</p>
<blockquote>
<p>(Spoke offline with fitzgen a bit; I'm going to try to refactor in this direction anyway and see how bad it really is. Long-term it would still be nice to get to separate enums to allow native deep sub-pattern-matching!)</p>
</blockquote>



<a name="398539844"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398539844" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398539844">(Oct 25 2023 at 18:24)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#pullrequestreview-1698000670">PR review</a>.</p>



<a name="398585805"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398585805" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398585805">(Oct 26 2023 at 01:44)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7352">PR #7352</a>.</p>



<a name="398585860"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398585860" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398585860">(Oct 26 2023 at 01:45)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#pullrequestreview-1698593640">PR review</a>.</p>



<a name="398585861"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398585861" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398585861">(Oct 26 2023 at 01:45)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372479870">PR review comment</a>:</p>
<blockquote>
<p>Added one in the toplevel driver loop, thanks!</p>
</blockquote>



<a name="398585921"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398585921" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398585921">(Oct 26 2023 at 01:46)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#pullrequestreview-1698594070">PR review</a>.</p>



<a name="398585923"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398585923" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398585923">(Oct 26 2023 at 01:46)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#discussion_r1372480258">PR review comment</a>:</p>
<blockquote>
<p>For now I'm going to keep this just for expediency / YAGNI but let's refactor as needed when we come to other sorts of fact propagation!</p>
</blockquote>



<a name="398732601"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398732601" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398732601">(Oct 26 2023 at 17:12)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7352">PR #7352</a>.</p>



<a name="398741464"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398741464" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398741464">(Oct 26 2023 at 18:10)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7352#pullrequestreview-1700229350">PR review</a>.</p>



<a name="398741501"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398741501" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398741501">(Oct 26 2023 at 18:10)</a>:</h4>
<p>fitzgen has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/7352">PR #7352</a>.</p>



<a name="398741570"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398741570" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398741570">(Oct 26 2023 at 18:10)</a>:</h4>
<p>fitzgen has disabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/7352">PR #7352</a>.</p>



<a name="398746943"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398746943" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398746943">(Oct 26 2023 at 18:43)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7352">PR #7352</a>.</p>



<a name="398752422"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398752422" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398752422">(Oct 26 2023 at 19:17)</a>:</h4>
<p>cfallin has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/7352">PR #7352</a>.</p>



<a name="398759793"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237352%20PCC%3A%20support%20x86-64./near/398759793" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237352.20PCC.3A.20support.20x86-64.2E.html#398759793">(Oct 26 2023 at 20:11)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7352">PR #7352</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>