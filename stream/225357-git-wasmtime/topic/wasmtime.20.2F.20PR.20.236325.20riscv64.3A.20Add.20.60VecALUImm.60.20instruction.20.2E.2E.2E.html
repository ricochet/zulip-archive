<html>
<head><meta charset="utf-8"><title>wasmtime / PR #6325 riscv64: Add `VecALUImm` instruction ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html">wasmtime / PR #6325 riscv64: Add `VecALUImm` instruction ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="355158800"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355158800" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355158800">(May 02 2023 at 13:54)</a>:</h4>
<p>afonso360 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/6325">PR #6325</a> from <code>afonso360:riscv-vec-imm</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This PR adds a new vector instruction format <code>Vector+Imm</code>. The encoding is exactly the same as <code>v*.vv</code> but the second register is instead a 5 bit field. This immediate is signed for most ops, but unsigned for some.</p>
</blockquote>



<a name="355158808"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355158808" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355158808">(May 02 2023 at 13:54)</a>:</h4>
<p><strong>afonso360</strong> requested <a href="https://github.com/elliottt">elliottt</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6325">PR #6325</a>.</p>



<a name="355158809"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355158809" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355158809">(May 02 2023 at 13:54)</a>:</h4>
<p><strong>afonso360</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6325">PR #6325</a>.</p>



<a name="355575724"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355575724" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355575724">(May 03 2023 at 18:17)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#pullrequestreview-1409556184">PR review</a>.</p>



<a name="355575725"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355575725" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355575725">(May 03 2023 at 18:17)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#pullrequestreview-1409556184">PR review</a>.</p>



<a name="355575726"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355575726" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355575726">(May 03 2023 at 18:17)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1182843098">PR review comment</a>:</p>
<blockquote>
<p>Should this do <code>i8::try_from(arg0 as i64).ok()?</code>?</p>
<p>Otherwise I think <code>i64::MIN</code> would accidentally get truncated to 0?</p>
</blockquote>



<a name="355575727"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355575727" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355575727">(May 03 2023 at 18:17)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1182847168">PR review comment</a>:</p>
<blockquote>
<p>The mask here shouldn't be required, right? Or otherwise this would be ok to perhaps <code>debug_assert!</code> that the masked-out bits are all not set?</p>
<p>(similar for <code>funct6</code> above too maybe?)</p>
</blockquote>



<a name="355575728"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355575728" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355575728">(May 03 2023 at 18:17)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184091526">PR review comment</a>:</p>
<blockquote>
<p>Oh I see now my thoughts are very much related to <a href="https://github.com/bytecodealliance/wasmtime/pull/6324#discussion_r1182744349">https://github.com/bytecodealliance/wasmtime/pull/6324#discussion_r1182744349</a></p>
</blockquote>



<a name="355575729"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355575729" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355575729">(May 03 2023 at 18:17)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1182844535">PR review comment</a>:</p>
<blockquote>
<p>I don't know much about RISC-V, but should this <code>AluOp</code> be different than <code>VecAluOpRRR</code> or the same? The single data point of <code>Vadd</code> has the encodings the same, but I'm not sure if the pattern holds up elsewhere. </p>
</blockquote>



<a name="355575730"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355575730" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355575730">(May 03 2023 at 18:17)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1182849496">PR review comment</a>:</p>
<blockquote>
<p>My curiosity has been piqued if you're willing to oblige -- according <a href="https://github.com/riscv/riscv-v-spec/blob/master/inst-table.adoc">to this doc</a> I see a bunch of V/X/I columns but I'm not sure how that translates to the encoding. Is there a different document that explains how these columns relate to the encoding?</p>
</blockquote>



<a name="355585598"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355585598" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355585598">(May 03 2023 at 19:03)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184134793">PR review comment</a>:</p>
<blockquote>
<p>That table does not seem to be explained anywhere, which is weird  the closest thing is <a href="https://github.com/riscv/riscv-v-spec/blob/master/v-spec.adoc#10-vector-arithmetic-instruction-formats">10. Vector Arithmetic Instruction Formats</a> which only really explains the format, but not the encoding in that table. The way I understand it is the following.</p>
<p>There are 3 columns, which correspond to the 3 columns for the minor opcodes at the top (i.e. OPIVV, OPIVX, OPMVX, etc..). The minor opcode corresponds to the funct3 field. (The exact encoding is specified <a href="https://github.com/riscv/riscv-v-spec/blob/master/v-spec.adoc#101-vector-arithmetic-instruction-encoding">here</a>)</p>
<p>The minor opcodes correspond to the operands that instruction takes. <code>OPIVV</code> is for Vector/Vector instructions (i.e. <code>vadd.vv</code>), <code>OPIVX</code> is for Vector/X Register instructions (i.e. <code>vadd.vx</code>) and <code>OPIVI</code> is for Vector/Immediate instruction (i.e. <code>vadd.vi</code>) which is what is implemented in this PR.</p>
<p>I'm only planning on having 2 instruction formats, since <code>OP*VV</code>,<code>OP*VX</code> and <code>OPFVF</code> can share the same instruction format in cranelift. Just with an assert that we are using the correct regclass. <code>OPIVI</code> is the only special one here.</p>
<p>The big table displays the funct6 field. Take for example the <code>vrsub</code> instruction. It is in the leftmost column, and only has <code>X</code> and <code>I</code> formats. So we know that it only takes the minor opcode formats of <code>OPIVX</code> and <code>OPIVI</code>. <code>vrsub</code> itself has a funct6 of <code>0b000011</code> with both of those minor opcodes.</p>
<p>There are additional encoding spaces, at the bottom, but my understanding is that these are all OPIVI instructions and that encoding gets put in the immediate field (not 100% sure on this yet).<br>
</p>
</blockquote>



<a name="355585640"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355585640" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355585640">(May 03 2023 at 19:03)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184134793">PR review comment</a>.</p>



<a name="355586134"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355586134" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355586134">(May 03 2023 at 19:06)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184136954">PR review comment</a>:</p>
<blockquote>
<p>Yeah, I probably don't need the masking everywhere. I think I might take the approach that @jameysharp is suggesting and switch to <code>debug_assert</code> and try to figure out how to get better type safety in the future.</p>
</blockquote>



<a name="355586179"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355586179" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355586179">(May 03 2023 at 19:06)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184136954">PR review comment</a>.</p>



<a name="355586629"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355586629" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355586629">(May 03 2023 at 19:09)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184139389">PR review comment</a>:</p>
<blockquote>
<p>Well, It is the same, but not all Opcodes work on both formats. <code>vadd</code> works for both, but <code>vsub</code> does not have a <code>vsub.vi</code> format. It would be nice if we could share the funct6 mapping somehow though since it is exactly the same on both.</p>
</blockquote>



<a name="355586684"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355586684" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355586684">(May 03 2023 at 19:09)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184139389">PR review comment</a>.</p>



<a name="355586922"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355586922" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355586922">(May 03 2023 at 19:10)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184134793">PR review comment</a>.</p>



<a name="355602790"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355602790" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355602790">(May 03 2023 at 20:36)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184139389">PR review comment</a>.</p>



<a name="355602948"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355602948" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355602948">(May 03 2023 at 20:36)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184139389">PR review comment</a>.</p>



<a name="355603376"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355603376" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355603376">(May 03 2023 at 20:39)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184139389">PR review comment</a>.</p>



<a name="355608416"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355608416" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355608416">(May 03 2023 at 21:10)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184287551">PR review comment</a>:</p>
<blockquote>
<p>I've now put these into a <code>VecOpCategory</code> struct so that their encoding is somewhat centralized.</p>
</blockquote>



<a name="355608446"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355608446" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355608446">(May 03 2023 at 21:10)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6325">PR #6325</a>.</p>



<a name="355608593"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355608593" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355608593">(May 03 2023 at 21:11)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6325">PR #6325</a>.</p>



<a name="355609765"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355609765" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355609765">(May 03 2023 at 21:18)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1184287551">PR review comment</a>.</p>



<a name="355610935"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355610935" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355610935">(May 03 2023 at 21:26)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6325">PR #6325</a>.</p>



<a name="355875634"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355875634" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355875634">(May 04 2023 at 20:09)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#discussion_r1185466949">PR review comment</a>:</p>
<blockquote>
<p>Ah ok makes sense, in that case sounds good to me to have a minor amount of duplication <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
</blockquote>



<a name="355876303"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355876303" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355876303">(May 04 2023 at 20:13)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6325#pullrequestreview-1413839786">PR review</a>:</p>
<blockquote>
<p>Thanks for taking the time to explain! That all sounds good to me and everything looks good to me as well <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
</blockquote>



<a name="355896510"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236325%20riscv64%3A%20Add%20%60VecALUImm%60%20instruction%20.../near/355896510" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236325.20riscv64.3A.20Add.20.60VecALUImm.60.20instruction.20.2E.2E.2E.html#355896510">(May 04 2023 at 22:31)</a>:</h4>
<p>afonso360 merged <a href="https://github.com/bytecodealliance/wasmtime/pull/6325">PR #6325</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>