<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #358 OCI-compatible proposal for wrapper... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23358.20OCI-compatible.20proposal.20for.20wrapper.2E.2E.2E.html">wasmtime / Issue #358 OCI-compatible proposal for wrapper...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="192180564"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23358%20OCI-compatible%20proposal%20for%20wrapper.../near/192180564" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23358.20OCI-compatible.20proposal.20for.20wrapper.2E.2E.2E.html#192180564">(Mar 29 2020 at 15:48)</a>:</h4>
<p>dippynark <a href="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-605657214" title="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-605657214">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/358" title="https://github.com/bytecodealliance/wasmtime/issues/358">Issue #358</a>:</p>
<blockquote>
<p>@leonwanghui just found that project too and have been working on getting it working again - planning to use the wasmer go bindings though: <a href="https://github.com/wasmerio/go-ext-wasm" title="https://github.com/wasmerio/go-ext-wasm">https://github.com/wasmerio/go-ext-wasm</a></p>
<p>should make the implementation simpler as they'll be no need to shell out to another binary. Not sure if that was a design decision, but since they'll be a mutliple shim instances I can't see an issue with that.</p>
</blockquote>



<a name="192183061"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23358%20OCI-compatible%20proposal%20for%20wrapper.../near/192183061" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23358.20OCI-compatible.20proposal.20for.20wrapper.2E.2E.2E.html#192183061">(Mar 29 2020 at 16:43)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-605664778" title="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-605664778">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/358" title="https://github.com/bytecodealliance/wasmtime/issues/358">Issue #358</a>:</p>
<blockquote>
<p>Microsoft's <a href="https://github.com/deislabs/krustlet/" title="https://github.com/deislabs/krustlet/">Krustlet</a> project might be a better approach, depending on details of your use case.</p>
<p>If that doesn't work, note that we'll have Go bindings for Wasmtime soon, too.</p>
</blockquote>



<a name="192205177"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23358%20OCI-compatible%20proposal%20for%20wrapper.../near/192205177" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23358.20OCI-compatible.20proposal.20for.20wrapper.2E.2E.2E.html#192205177">(Mar 30 2020 at 02:14)</a>:</h4>
<p>dippynark <a href="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-605745933" title="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-605745933">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/358" title="https://github.com/bytecodealliance/wasmtime/issues/358">Issue #358</a>:</p>
<blockquote>
<p>@tschneidereit that looks really cool - would like to have an integration with the upstream kubelet too which yeah the wasmtime bindings would help with for sure, but that projects looks like a good alternative.</p>
<p>Have had some trouble today understanding how the sandbox pod fits into the picture - it seems the shim is expected to support running the pause container, which does not match with running wasm with go bindings, but going to carry on with it</p>
</blockquote>



<a name="192205181"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23358%20OCI-compatible%20proposal%20for%20wrapper.../near/192205181" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23358.20OCI-compatible.20proposal.20for.20wrapper.2E.2E.2E.html#192205181">(Mar 30 2020 at 02:14)</a>:</h4>
<p>dippynark edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-605745933" title="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-605745933">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/358" title="https://github.com/bytecodealliance/wasmtime/issues/358">Issue #358</a>:</p>
<blockquote>
<p>@tschneidereit that looks really cool - would like to have an integration with the upstream kubelet too which yeah the wasmtime bindings would help with for sure, but that projects looks like a good alternative.</p>
<p>Have had some trouble today understanding how the sandbox container fits into the picture - it seems the shim is expected to support running the pause container, which does not match with running wasm with go bindings, but going to carry on with it</p>
</blockquote>



<a name="192205185"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23358%20OCI-compatible%20proposal%20for%20wrapper.../near/192205185" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23358.20OCI-compatible.20proposal.20for.20wrapper.2E.2E.2E.html#192205185">(Mar 30 2020 at 02:15)</a>:</h4>
<p>dippynark edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-605745933" title="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-605745933">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/358" title="https://github.com/bytecodealliance/wasmtime/issues/358">Issue #358</a>:</p>
<blockquote>
<p>@tschneidereit that looks really cool - would like to have an integration with the upstream kubelet too which yeah the wasmtime bindings would help with for sure, but that projects looks like a good alternative.</p>
<p>Have had some trouble today understanding how the sandbox container fits into the picture - it seems the shim is expected to support running the pause container, which does not match too well with running wasm with go bindings, but am going to carry on with it</p>
</blockquote>



<a name="192294638"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23358%20OCI-compatible%20proposal%20for%20wrapper.../near/192294638" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23358.20OCI-compatible.20proposal.20for.20wrapper.2E.2E.2E.html#192294638">(Mar 30 2020 at 18:02)</a>:</h4>
<p>technosophos <a href="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-606152677" title="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-606152677">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/358" title="https://github.com/bytecodealliance/wasmtime/issues/358">Issue #358</a>:</p>
<blockquote>
<p>@dippynark Feel free to drop in on our Krustlet project. I think we are going to start holding public Zoom meetings in the next few weeks, since we've gotten to this point where we are doing lots and lots of one-off calls that would better be served by a community dev chat sorta thing.</p>
<p>We did a CRI implementation as well, and started work on a containerd shim, but hit up against design trade-offs that we did not like. So we went back to implementing a kubelet that viewed WASM as its first-class runtime. There has been some talk about attempting to re-visit CRI (and maybe do a CRI v2) to make it less OCI/Docker-centric (it makes _really_ strong assumptions about the runtime). But that is probably a 2+ year project. Krustlet is, for us, a chance to try to solve the problem today.</p>
<p>Since @radu-matei  wrote his post last November, we've also been pretty successful storing WASM modules in at least some OCI registries. That route is looking promising.</p>
</blockquote>



<a name="192307025"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23358%20OCI-compatible%20proposal%20for%20wrapper.../near/192307025" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23358.20OCI-compatible.20proposal.20for.20wrapper.2E.2E.2E.html#192307025">(Mar 30 2020 at 19:39)</a>:</h4>
<p>thomastaylor312 <a href="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-606203755" title="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-606203755">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/358" title="https://github.com/bytecodealliance/wasmtime/issues/358">Issue #358</a>:</p>
<blockquote>
<blockquote>
<p>I think we are going to start holding public Zoom meetings in the next few weeks, since we've gotten to this point where we are doing lots and lots of one-off calls that would better be served by a community dev chat sorta thing.</p>
</blockquote>
<p>We are starting to next week! We have the link and time in the README</p>
</blockquote>



<a name="192327582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23358%20OCI-compatible%20proposal%20for%20wrapper.../near/192327582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23358.20OCI-compatible.20proposal.20for.20wrapper.2E.2E.2E.html#192327582">(Mar 30 2020 at 22:54)</a>:</h4>
<p>dippynark <a href="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-606293720" title="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-606293720">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/358" title="https://github.com/bytecodealliance/wasmtime/issues/358">Issue #358</a>:</p>
<blockquote>
<p>@technosophos that could be good, will see next week - would be interested in hearing what the design tradeoffs were?</p>
<p>I've made some progress building on top the existing project, I have just got it running Docker containers like <a href="https://github.com/dippynark/containerd-wasm/blob/reimplementation-attempt-2/hello-wasm/Dockerfile" title="https://github.com/dippynark/containerd-wasm/blob/reimplementation-attempt-2/hello-wasm/Dockerfile">this</a> using a wasm runtime like <a href="https://github.com/dippynark/containerd-wasm/blob/reimplementation-attempt-2/config/deployment.yaml" title="https://github.com/dippynark/containerd-wasm/blob/reimplementation-attempt-2/config/deployment.yaml">this</a>. I guess some difficulties will come trying to implement things like exec.</p>
</blockquote>



<a name="192704969"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23358%20OCI-compatible%20proposal%20for%20wrapper.../near/192704969" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23358.20OCI-compatible.20proposal.20for.20wrapper.2E.2E.2E.html#192704969">(Apr 02 2020 at 18:10)</a>:</h4>
<p>technosophos <a href="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-608019502" title="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-608019502">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/358" title="https://github.com/bytecodealliance/wasmtime/issues/358">Issue #358</a>:</p>
<blockquote>
<p>Sorry, the links you left above are broken @dippynark, and I could not read them. @thomastaylor312 is definitely the best resource with whom to discuss this, though.</p>
</blockquote>



<a name="192725903"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23358%20OCI-compatible%20proposal%20for%20wrapper.../near/192725903" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23358.20OCI-compatible.20proposal.20for.20wrapper.2E.2E.2E.html#192725903">(Apr 02 2020 at 21:03)</a>:</h4>
<p>dippynark edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-606293720" title="https://github.com/bytecodealliance/wasmtime/issues/358#issuecomment-606293720">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/358" title="https://github.com/bytecodealliance/wasmtime/issues/358">Issue #358</a>:</p>
<blockquote>
<p>@technosophos that could be good, will see next week - would be interested in hearing what the design tradeoffs were?</p>
<p>I've made some progress building on top the existing project, I have just got it running Docker containers like <a href="https://github.com/dippynark/containerd-shim-wasm/blob/e8a0ac97b4f259ebc5f6fbaaeb90ddeb2c6d344e/hello-wasm/Dockerfile" title="https://github.com/dippynark/containerd-shim-wasm/blob/e8a0ac97b4f259ebc5f6fbaaeb90ddeb2c6d344e/hello-wasm/Dockerfile">this</a> using a wasm runtime like <a href="https://github.com/dippynark/containerd-shim-wasm/blob/e8a0ac97b4f259ebc5f6fbaaeb90ddeb2c6d344e/config/deployment.yaml" title="https://github.com/dippynark/containerd-shim-wasm/blob/e8a0ac97b4f259ebc5f6fbaaeb90ddeb2c6d344e/config/deployment.yaml">this</a>. I guess some difficulties will come trying to implement things like exec.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>