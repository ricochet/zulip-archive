<html>
<head><meta charset="utf-8"><title>wasmtime / PR #4069 x64 backend: migrate stores, and rema... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html">wasmtime / PR #4069 x64 backend: migrate stores, and rema...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="280140337"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234069%20x64%20backend%3A%20migrate%20stores%2C%20and%20rema.../near/280140337" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html#280140337">(Apr 25 2022 at 22:56)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/abrown">abrown</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/4069">PR #4069</a>.</p>



<a name="280140338"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234069%20x64%20backend%3A%20migrate%20stores%2C%20and%20rema.../near/280140338" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html#280140338">(Apr 25 2022 at 22:56)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/4069">PR #4069</a>.</p>



<a name="280140339"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234069%20x64%20backend%3A%20migrate%20stores%2C%20and%20rema.../near/280140339" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html#280140339">(Apr 25 2022 at 22:56)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/pull/4069">PR #4069</a> from <code>x64-isle-stores</code> to <code>main</code>:</p>
<blockquote>
<p>This is a prerequisite to some codegen improvements I want to make involving stores specifically, so this PR migrates stores and finishes the migration of loads on x64.</p>
</blockquote>



<a name="280237637"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234069%20x64%20backend%3A%20migrate%20stores%2C%20and%20rema.../near/280237637" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html#280237637">(Apr 26 2022 at 16:49)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4069#pullrequestreview-953716917">PR review</a>.</p>



<a name="280237879"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234069%20x64%20backend%3A%20migrate%20stores%2C%20and%20rema.../near/280237879" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html#280237879">(Apr 26 2022 at 16:50)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/4069">PR #4069</a>.</p>



<a name="280244242"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234069%20x64%20backend%3A%20migrate%20stores%2C%20and%20rema.../near/280244242" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html#280244242">(Apr 26 2022 at 17:34)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4069#pullrequestreview-953771430">PR review</a>.</p>



<a name="280244243"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234069%20x64%20backend%3A%20migrate%20stores%2C%20and%20rema.../near/280244243" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html#280244243">(Apr 26 2022 at 17:34)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/4069#discussion_r858981604">PR review comment</a>:</p>
<blockquote>
<p>@cfallin: I think that, in developing conventions for this ISLE lowering, we should attempt to use the ISA naming conventions for the actual instructions that get emitted. That way, anyone looking at the lowering can quickly discern what instructions will be emitted in a lowering without having to trace some enum variants through to <code>emit.rs</code> (if they even know to look there!). It's not clear what instructions <code>x64_movrm</code> and <code>x64_xmm_movrm</code> would correspond to (especially in the <code>x64_xmm_movrm</code> case which takes an opcode!) so they probably shouldn't have the <code>x64_</code> prefix.</p>
</blockquote>



<a name="280246102"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234069%20x64%20backend%3A%20migrate%20stores%2C%20and%20rema.../near/280246102" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html#280246102">(Apr 26 2022 at 17:47)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4069#pullrequestreview-953786339">PR review</a>.</p>



<a name="280246103"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234069%20x64%20backend%3A%20migrate%20stores%2C%20and%20rema.../near/280246103" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html#280246103">(Apr 26 2022 at 17:47)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4069#discussion_r858992144">PR review comment</a>:</p>
<blockquote>
<p>Urgh, I'm not sure what my fingers were thinking here -- that should be <code>alurm</code>, not <code>movrm</code> (I was probably looking at the other enum arm with a memory destination). <code>AluRM</code> by analogy with the current <code>AluRmiR</code> (the latter is "reg, mem, imm to reg"; the former is "reg to mem").</p>
</blockquote>



<a name="280246319"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234069%20x64%20backend%3A%20migrate%20stores%2C%20and%20rema.../near/280246319" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html#280246319">(Apr 26 2022 at 17:48)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/4069#pullrequestreview-953788123">PR review</a>.</p>



<a name="280246320"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234069%20x64%20backend%3A%20migrate%20stores%2C%20and%20rema.../near/280246320" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html#280246320">(Apr 26 2022 at 17:48)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/4069#discussion_r858993497">PR review comment</a>:</p>
<blockquote>
<p>Oh -- nevermind the above; I had thought this was a comment on the ALU op-to-mem PR, not the store PR.</p>
<p>The <code>MovRM</code> forms were already existing but happy to take suggestions for better names? Or do you mean just the store helpers (e.g., <code>x64_store</code> and <code>x64_xmm_store</code> maybe)?</p>
</blockquote>



<a name="280246344"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%234069%20x64%20backend%3A%20migrate%20stores%2C%20and%20rema.../near/280246344" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.234069.20x64.20backend.3A.20migrate.20stores.2C.20and.20rema.2E.2E.2E.html#280246344">(Apr 26 2022 at 17:48)</a>:</h4>
<p>cfallin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/4069#discussion_r858992144">PR review comment</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>