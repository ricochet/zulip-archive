<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9751 winch: Implement aarch64 call, trapz,... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html">wasmtime / PR #9751 winch: Implement aarch64 call, trapz,...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="486537941"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486537941" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486537941">(Dec 06 2024 at 15:25)</a>:</h4>
<p>MarinPostma opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a> from <code>MarinPostma:aarch64-call</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>Implement the following MASM instruction for the aarch64 platform:</p>
<ul>
<li>call</li>
<li>address_at_vmctx</li>
<li>trapz</li>
</ul>
<p>I initially planned to only implement call, but implementing the tests uncovered the necessity to implement the other two as prerequisite for indirect calls.</p>
<p>Right now the calling convention is hardcoded to SystemV, but maybe we also want to support AppleAarch64?</p>
<p>#8321</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="486537942"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486537942" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486537942">(Dec 06 2024 at 15:25)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<a name="486537943"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486537943" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486537943">(Dec 06 2024 at 15:25)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/abrown">abrown</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<a name="486537945"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486537945" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486537945">(Dec 06 2024 at 15:25)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<a name="486537946"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486537946" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486537946">(Dec 06 2024 at 15:25)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<a name="486547068"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486547068" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486547068">(Dec 06 2024 at 16:10)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<a name="486548363"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486548363" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486548363">(Dec 06 2024 at 16:16)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#issuecomment-2523642185">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>:</p>
<blockquote>
<p>I can help taking a look at this one. </p>
</blockquote>



<a name="486548381"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486548381" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486548381">(Dec 06 2024 at 16:16)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/saulecabrera">saulecabrera</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<a name="486554899"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486554899" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486554899">(Dec 06 2024 at 16:47)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#issuecomment-2523717251">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @saulecabrera</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "winch"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>saulecabrera: winch</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="486579009"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486579009" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486579009">(Dec 06 2024 at 19:10)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2485541633">PR review</a>:</p>
<blockquote>
<p>Generally looks great, thanks. Left some inline nitpicks.</p>
</blockquote>



<a name="486579011"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486579011" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486579011">(Dec 06 2024 at 19:10)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873788445">PR review comment</a>:</p>
<blockquote>
<p>Would you mind adding some comments to these methods?</p>
</blockquote>



<a name="486579012"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486579012" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486579012">(Dec 06 2024 at 19:10)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873861857">PR review comment</a>:</p>
<blockquote>
<blockquote>
<p>Right now the calling convention is hardcoded to SystemV, but maybe we also want to support AppleAarch64?</p>
</blockquote>
<p>I see why this might be confusing. Even though the <code>CallConv</code> is hard coded here, there are two things to note:</p>
<ul>
<li>All the infrastructure to handle the calling convention differences, is handled very early on in the compilation process in Winch (and in Cranelift as well) e.g., when constructing the signature for the callee, at that point,<a href="https://github.com/bytecodealliance/wasmtime/blob/main/winch/codegen/src/isa/aarch64/abi.rs#L33"> you'll note that Winch correctly handles the default and apple-aarch64 calling conventions.</a></li>
<li>Winch relies on Cranelift's binary emission infrastructure, and in this concrete case, as you can note, you're constructing a <code>CallInfo::empty()</code>, which signals that none of the other Cranelift-specific invariants must be taken into account when emitting calls (some of them depend on the calling convention that is passed here). </li>
</ul>
<p>I've opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9757">https://github.com/bytecodealliance/wasmtime/pull/9757</a> to refactor call emission a bit with the hope of making this part more consistent. </p>
</blockquote>



<a name="486579013"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486579013" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486579013">(Dec 06 2024 at 19:10)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873785812">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>    /// Trap if `rn` is zero.
</code></pre></div><br>
</p>
</blockquote>



<a name="486588420"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486588420" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486588420">(Dec 06 2024 at 20:19)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2485786604">PR review</a>.</p>



<a name="486588421"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486588421" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486588421">(Dec 06 2024 at 20:19)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873932160">PR review comment</a>:</p>
<blockquote>
<p>That refactor makes a lot of sense to me <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
</blockquote>



<a name="486589610"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486589610" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486589610">(Dec 06 2024 at 20:28)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<a name="486589676"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486589676" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486589676">(Dec 06 2024 at 20:28)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2485811465">PR review</a>.</p>



<a name="486589677"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486589677" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486589677">(Dec 06 2024 at 20:28)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873946865">PR review comment</a>:</p>
<blockquote>
<p>fixed in <a href="https://github.com/bytecodealliance/wasmtime/pull/9751/commits/f1a56f1685decf816cfd001c655c3b1ca4dd44f4">f1a56f1</a></p>
</blockquote>



<a name="486589693"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486589693" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486589693">(Dec 06 2024 at 20:28)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2485811721">PR review</a>.</p>



<a name="486589695"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486589695" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486589695">(Dec 06 2024 at 20:28)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873947036">PR review comment</a>:</p>
<blockquote>
<p>fixed in <a href="https://github.com/bytecodealliance/wasmtime/pull/9751/commits/f1a56f1685decf816cfd001c655c3b1ca4dd44f4">f1a56f1</a></p>
</blockquote>



<a name="486589738"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486589738" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486589738">(Dec 06 2024 at 20:29)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2485812186">PR review</a>.</p>



<a name="486589739"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486589739" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486589739">(Dec 06 2024 at 20:29)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873947283">PR review comment</a>:</p>
<blockquote>
<p>updated in f4a6cf7</p>
</blockquote>



<a name="486589963"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486589963" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486589963">(Dec 06 2024 at 20:30)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<a name="486590027"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486590027" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486590027">(Dec 06 2024 at 20:31)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<a name="486590199"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486590199" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486590199">(Dec 06 2024 at 20:32)</a>:</h4>
<p><strong>MarinPostma</strong> requested <a href="https://github.com/saulecabrera">saulecabrera</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<a name="486602297"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486602297" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486602297">(Dec 06 2024 at 22:10)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#issuecomment-2524278754">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>:</p>
<blockquote>
<p>There are some failures in CI -- I'm trying to figure out if they are related to your changes or not. </p>
</blockquote>



<a name="486604278"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486604278" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486604278">(Dec 06 2024 at 22:28)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2486016825">PR review</a>.</p>



<a name="486604279"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486604279" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486604279">(Dec 06 2024 at 22:28)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1874064762">PR review comment</a>:</p>
<blockquote>
<p>I'm not entirely sure if this is the source of the failure, but here you need to specify </p>
<div class="codehilite" data-code-language="suggestion"><pre><span></span><code>;;! test = "winch"
</code></pre></div>
<p>Else this will use Cranelift</p>
</blockquote>



<a name="486615108"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486615108" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486615108">(Dec 07 2024 at 00:28)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<a name="486617082"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486617082" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486617082">(Dec 07 2024 at 00:55)</a>:</h4>
<p>MarinPostma submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2486212345">PR review</a>.</p>



<a name="486617083"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486617083" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486617083">(Dec 07 2024 at 00:55)</a>:</h4>
<p>MarinPostma created <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1874187101">PR review comment</a>:</p>
<blockquote>
<p>Some submodule update sneaked into one of my commits. That's what's messing with the CI, I'll fix that tommorow</p>
</blockquote>



<a name="486658526"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486658526" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486658526">(Dec 07 2024 at 10:50)</a>:</h4>
<p>MarinPostma updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<a name="486670562"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486670562" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486670562">(Dec 07 2024 at 13:36)</a>:</h4>
<p>MarinPostma <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#issuecomment-2525122008">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>:</p>
<blockquote>
<p>Alright, I updated the submodule, ci looks good now</p>
</blockquote>



<a name="486970927"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486970927" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486970927">(Dec 09 2024 at 11:30)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2488524887">PR review</a>:</p>
<blockquote>
<p>Thanks!</p>
</blockquote>



<a name="486974236"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239751%20winch%3A%20Implement%20aarch64%20call%2C%20trapz%2C.../near/486974236" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239751.20winch.3A.20Implement.20aarch64.20call.2C.20trapz.2C.2E.2E.2E.html#486974236">(Dec 09 2024 at 11:47)</a>:</h4>
<p>saulecabrera merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9751">PR #9751</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>