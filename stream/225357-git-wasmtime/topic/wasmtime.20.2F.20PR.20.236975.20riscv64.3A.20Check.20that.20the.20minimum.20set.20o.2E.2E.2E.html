<html>
<head><meta charset="utf-8"><title>wasmtime / PR #6975 riscv64: Check that the minimum set o... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html">wasmtime / PR #6975 riscv64: Check that the minimum set o...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="389656193"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389656193" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389656193">(Sep 07 2023 at 13:12)</a>:</h4>
<p>afonso360 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/6975">PR #6975</a> from <code>afonso360:riscv-check-ext</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This PR Is a follow up to #6955 where @alexcrichton suggested that we check that all the flags the backend currently expects.</p>
<p>Most of the backend does not even check these flags, so to avoid emitting instructions where there is no support for them, we reject building the ISA when they aren't present..</p>
<p>This PR also renames the <code>INSTRUCTION_SIZE</code> constant to something more suitable, since we are going to have varying instruction lengths.</p>
</blockquote>



<a name="389656198"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389656198" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389656198">(Sep 07 2023 at 13:12)</a>:</h4>
<p><strong>afonso360</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6975">PR #6975</a>.</p>



<a name="389656199"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389656199" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389656199">(Sep 07 2023 at 13:12)</a>:</h4>
<p><strong>afonso360</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/6975">PR #6975</a>.</p>



<a name="389656270"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389656270" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389656270">(Sep 07 2023 at 13:13)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6975">PR #6975</a>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This PR Is a follow up to #6955 where @alexcrichton suggested that we check that all the flags the backend currently expects.</p>
<p>Most of the backend does not even check these flags, so to avoid emitting instructions where there is no support for them, we reject building the ISA when they aren't present.</p>
<p>This PR also renames the <code>INSTRUCTION_SIZE</code> constant to something more suitable, since we are going to have varying instruction lengths.</p>
</blockquote>



<a name="389660265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389660265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389660265">(Sep 07 2023 at 13:32)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6975#pullrequestreview-1615448250">PR review</a>.</p>



<a name="389660270"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389660270" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389660270">(Sep 07 2023 at 13:32)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/6975#discussion_r1318616139">PR review comment</a>:</p>
<blockquote>
<div class="codehilite" data-code-language="suggestion"><pre><span></span><code>            "The RISC-V Backend currently requires all the features in the G Extension enabled".into(),
</code></pre></div>
<p>In the future it should be possible to add support for more restricted feature sets, right?</p>
</blockquote>



<a name="389661263"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389661263" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389661263">(Sep 07 2023 at 13:36)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6975#pullrequestreview-1615457484">PR review</a>.</p>



<a name="389661264"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389661264" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389661264">(Sep 07 2023 at 13:36)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/6975#discussion_r1318621912">PR review comment</a>:</p>
<blockquote>
<p>Oh yeah, we should be able to reduce, ideally all the way until RV64I which is just the 37 base instructions!</p>
</blockquote>



<a name="389661327"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389661327" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389661327">(Sep 07 2023 at 13:36)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6975">PR #6975</a>.</p>



<a name="389661430"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389661430" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389661430">(Sep 07 2023 at 13:37)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/6975#discussion_r1318621912">PR review comment</a>.</p>



<a name="389662224"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389662224" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389662224">(Sep 07 2023 at 13:40)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/6975">PR #6975</a>.</p>



<a name="389673049"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389673049" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389673049">(Sep 07 2023 at 14:18)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/6975#pullrequestreview-1615566555">PR review</a>.</p>



<a name="389709942"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%236975%20riscv64%3A%20Check%20that%20the%20minimum%20set%20o.../near/389709942" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.236975.20riscv64.3A.20Check.20that.20the.20minimum.20set.20o.2E.2E.2E.html#389709942">(Sep 07 2023 at 16:53)</a>:</h4>
<p>afonso360 merged <a href="https://github.com/bytecodealliance/wasmtime/pull/6975">PR #6975</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>