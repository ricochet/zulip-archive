<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2266 machinst x64: New backend unwind · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html">wasmtime / PR #2266 machinst x64: New backend unwind</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="212460065"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212460065" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212460065">(Oct 06 2020 at 17:35)</a>:</h4>
<p>yurydelendik edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[ ] detect "sp += " + "group" push</li>
<li>[ ] not to use <code>UnwindInfoKind</code>?</li>
<li>[ ] some externref / gc tests stopped working, due to stackmaps?</li>
</ul>
</blockquote>



<a name="212476814"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212476814" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212476814">(Oct 06 2020 at 19:56)</a>:</h4>
<p>yurydelendik edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[ ] detect "sp += " + "group" push</li>
<li>[ ] not to use <code>UnwindInfoKind</code>?</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
</ul>
</blockquote>



<a name="212489293"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212489293" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212489293">(Oct 06 2020 at 21:38)</a>:</h4>
<p>yurydelendik edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[ ] detect "sp += " + "group" push</li>
<li>[ ] not to use <code>UnwindInfoKind</code>?</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[ ] make unwind info available without feature?</li>
</ul>
</blockquote>



<a name="212863722"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212863722" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212863722">(Oct 09 2020 at 19:00)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[ ] detect "sp += " + "group" push</li>
<li>[ ] not to use <code>UnwindInfoKind</code>?</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[ ] make unwind info available without feature?</li>
</ul>
</blockquote>



<a name="212874070"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212874070" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212874070">(Oct 09 2020 at 20:49)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[ ] detect "sp += " + "group" push</li>
<li>[ ] not to use <code>UnwindInfoKind</code>?</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[ ] make unwind info available without feature?</li>
</ul>
</blockquote>



<a name="212877796"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212877796" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212877796">(Oct 09 2020 at 21:29)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#pullrequestreview-505996996">PR Review</a>.</p>



<a name="212877798"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212877798" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212877798">(Oct 09 2020 at 21:29)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#pullrequestreview-505996996">PR Review</a>.</p>



<a name="212877799"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212877799" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212877799">(Oct 09 2020 at 21:29)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#discussion_r502677369">PR Review Comment</a>:</p>
<blockquote>
<p>This trait is public so conditionally adding this without default would break outside implementors of this trait that expect to have <code>unwind</code> disabled when it isn't due to another crate.</p>
</blockquote>



<a name="212877800"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212877800" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212877800">(Oct 09 2020 at 21:29)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#discussion_r502678916">PR Review Comment</a>:</p>
<blockquote>
<p>Maybe introduce <code>struct InsnRange(InsnIndex, InsnIndex);</code>?</p>
</blockquote>



<a name="212877801"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212877801" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212877801">(Oct 09 2020 at 21:29)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#discussion_r502677646">PR Review Comment</a>:</p>
<blockquote>
<p>All fields are public, so conditionally adding a field is a breaking change.</p>
</blockquote>



<a name="212878580"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212878580" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212878580">(Oct 09 2020 at 21:39)</a>:</h4>
<p>yurydelendik created <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#discussion_r502681937">PR Review Comment</a>:</p>
<blockquote>
<p>I would like to remove "unwind" feature. @bjorn3, as the library user, is unwind info something you are planning to use?</p>
</blockquote>



<a name="212881139"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212881139" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212881139">(Oct 09 2020 at 22:14)</a>:</h4>
<p>yurydelendik edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[x] detect "sp += " + "group" push</li>
<li>[ ] not to use <code>UnwindInfoKind</code>?</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[ ] make unwind info available without feature?</li>
</ul>
</blockquote>



<a name="212881164"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212881164" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212881164">(Oct 09 2020 at 22:15)</a>:</h4>
<p>yurydelendik submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#pullrequestreview-506002539">PR Review</a>.</p>



<a name="212881392"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212881392" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212881392">(Oct 09 2020 at 22:18)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[ ] detect "sp += " + "group" push</li>
<li>[ ] not to use <code>UnwindInfoKind</code>?</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[ ] make unwind info available without feature?</li>
</ul>
</blockquote>



<a name="212881477"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212881477" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212881477">(Oct 09 2020 at 22:19)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#pullrequestreview-506013854">PR Review</a>.</p>



<a name="212881479"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212881479" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212881479">(Oct 09 2020 at 22:19)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#discussion_r502690420">PR Review Comment</a>:</p>
<blockquote>
<p>I use unwind info for <code>.eh_frame</code> generation in cg_clif.</p>
</blockquote>



<a name="212881921"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212881921" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212881921">(Oct 09 2020 at 22:25)</a>:</h4>
<p>yurydelendik created <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#discussion_r502692794">PR Review Comment</a>:</p>
<blockquote>
<p>does it make sense to remove <code>#[cfg(feature = "unwind")]</code> at this point?</p>
</blockquote>



<a name="212882135"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212882135" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212882135">(Oct 09 2020 at 22:27)</a>:</h4>
<p>yurydelendik submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#pullrequestreview-506016878">PR Review</a>.</p>



<a name="212882853"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212882853" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212882853">(Oct 09 2020 at 22:37)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#pullrequestreview-506023578">PR Review</a>.</p>



<a name="212882854"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/212882854" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#212882854">(Oct 09 2020 at 22:37)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#discussion_r502696860">PR Review Comment</a>:</p>
<blockquote>
<p>It pulls in gimli and some users may not use unwind info. I don't know if <code>#[cfg(feature = "unwind")]</code> should be kept or removed.</p>
</blockquote>



<a name="213327157"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/213327157" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#213327157">(Oct 14 2020 at 17:44)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[x] detect "sp += " + "group" push</li>
<li>[ ] not to use <code>UnwindInfoKind</code>?</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[ ] make unwind info available without feature?</li>
</ul>
</blockquote>



<a name="213329169"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/213329169" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#213329169">(Oct 14 2020 at 17:59)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[x] detect "sp += " + "group" push</li>
<li>[ ] not to use <code>UnwindInfoKind</code>?</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[ ] make unwind info available without feature?</li>
</ul>
</blockquote>



<a name="213340166"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/213340166" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#213340166">(Oct 14 2020 at 19:33)</a>:</h4>
<p>yurydelendik submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#pullrequestreview-508665103">PR Review</a>.</p>



<a name="213340168"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/213340168" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#213340168">(Oct 14 2020 at 19:33)</a>:</h4>
<p>yurydelendik created <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#discussion_r504923107">PR Review Comment</a>:</p>
<blockquote>
<p>Addressed it in d807af3 by keeping this member mandatory to implement. </p>
</blockquote>



<a name="213850455"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/213850455" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#213850455">(Oct 19 2020 at 21:45)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[x] detect "sp += " + "group" push</li>
<li>[ ] not to use <code>UnwindInfoKind</code>?</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[ ] make unwind info available without feature?</li>
</ul>
</blockquote>



<a name="213983784"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/213983784" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#213983784">(Oct 20 2020 at 21:49)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[x] detect "sp += " + "group" push</li>
<li>[ ] not to use <code>UnwindInfoKind</code>?</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[ ] make unwind info available without feature?</li>
</ul>
</blockquote>



<a name="213983883"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/213983883" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#213983883">(Oct 20 2020 at 21:50)</a>:</h4>
<p>yurydelendik edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[x] detect "sp += " + "group" push</li>
<li>[x] &lt;del&gt;not to use <code>UnwindInfoKind</code>?&lt;/del&gt;</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[x] &lt;del&gt;make unwind info available without feature?&lt;/del&gt;</li>
</ul>
</blockquote>



<a name="213984072"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/213984072" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#213984072">(Oct 20 2020 at 21:52)</a>:</h4>
<p><strong>yurydelendik</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> as ready for review.</p>



<a name="213984200"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/213984200" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#213984200">(Oct 20 2020 at 21:53)</a>:</h4>
<p><strong>yurydelendik</strong> requested <a href="https://github.com/peterhuene">peterhuene</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a>.</p>



<a name="213986455"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/213986455" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#213986455">(Oct 20 2020 at 22:15)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[x] detect "sp += " + "group" push</li>
<li>[x] &lt;del&gt;not to use <code>UnwindInfoKind</code>?&lt;/del&gt;</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[x] &lt;del&gt;make unwind info available without feature?&lt;/del&gt;</li>
</ul>
</blockquote>



<a name="214140388"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/214140388" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#214140388">(Oct 22 2020 at 03:32)</a>:</h4>
<p>peterhuene submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2266#pullrequestreview-514335745">PR Review</a>.</p>



<a name="214338123"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/214338123" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#214338123">(Oct 23 2020 at 16:54)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[x] detect "sp += " + "group" push</li>
<li>[x] &lt;del&gt;not to use <code>UnwindInfoKind</code>?&lt;/del&gt;</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[x] &lt;del&gt;make unwind info available without feature?&lt;/del&gt;</li>
</ul>
</blockquote>



<a name="214339227"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/214339227" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#214339227">(Oct 23 2020 at 17:04)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[x] detect "sp += " + "group" push</li>
<li>[x] &lt;del&gt;not to use <code>UnwindInfoKind</code>?&lt;/del&gt;</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[x] &lt;del&gt;make unwind info available without feature?&lt;/del&gt;</li>
</ul>
</blockquote>



<a name="214343886"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/214343886" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#214343886">(Oct 23 2020 at 17:44)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[x] detect "sp += " + "group" push</li>
<li>[x] &lt;del&gt;not to use <code>UnwindInfoKind</code>?&lt;/del&gt;</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[x] &lt;del&gt;make unwind info available without feature?&lt;/del&gt;</li>
</ul>
</blockquote>



<a name="214357348"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/214357348" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#214357348">(Oct 23 2020 at 19:42)</a>:</h4>
<p>yurydelendik updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a> from <code>new-backend-unwind</code> to <code>main</code>:</p>
<blockquote>
<p>Addresses unwind for experimental x64 item from #2079 .  Code was just changed copy for the old x86 backend for SystemV. The preliminary code enables backtrace on SystemV call convension; enables "traps::*" tests there.</p>
<p>Investigate or not sure if possible:</p>
<ul>
<li>[x] fix unit test in new "<a href="http://systemv.rs">systemv.rs</a>"</li>
<li>[x] detect "sp += " + "group" push</li>
<li>[x] &lt;del&gt;not to use <code>UnwindInfoKind</code>?&lt;/del&gt;</li>
<li>[x] &lt;del&gt;some externref / gc tests stopped working, due to stackmaps?&lt;/del&gt;</li>
<li>[x] &lt;del&gt;make unwind info available without feature?&lt;/del&gt;</li>
</ul>
</blockquote>



<a name="214361228"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232266%20machinst%20x64%3A%20New%20backend%20unwind/near/214361228" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232266.20machinst.20x64.3A.20New.20backend.20unwind.html#214361228">(Oct 23 2020 at 20:19)</a>:</h4>
<p>yurydelendik merged <a href="https://github.com/bytecodealliance/wasmtime/pull/2266">PR #2266</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>