<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #1603 Cannot virtualize WASI imports today · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231603.20Cannot.20virtualize.20WASI.20imports.20today.html">wasmtime / Issue #1603 Cannot virtualize WASI imports today</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="195427127"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231603%20Cannot%20virtualize%20WASI%20imports%20today/near/195427127" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231603.20Cannot.20virtualize.20WASI.20imports.20today.html#195427127">(Apr 27 2020 at 14:42)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/issues/1603" title="https://github.com/bytecodealliance/wasmtime/issues/1603">Issue #1603</a>:</p>
<blockquote>
<p>This is an issue specific for this repository spawned from <a href="https://github.com/bytecodealliance/wasmtime-py/issues/2" title="https://github.com/bytecodealliance/wasmtime-py/issues/2">https://github.com/bytecodealliance/wasmtime-py/issues/2</a>. Unfortunately it is not possible to virtualize WASI imports and functionality today where the virtualization may eventually delegate to the original implementations. The reason for this has to do with how the original module's linear memory makes its way to the wasi instance. Today this is done via the <code>Caller</code> structure, but this is brittle because once virtualized your <code>Caller</code> is different.</p>
<p>AFAIK we don't have a great answer for this today until we can figure out how to create a WASI instance with a memory or something like that.</p>
</blockquote>



<a name="195427150"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231603%20Cannot%20virtualize%20WASI%20imports%20today/near/195427150" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231603.20Cannot.20virtualize.20WASI.20imports.20today.html#195427150">(Apr 27 2020 at 14:42)</a>:</h4>
<p>alexcrichton labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/1603" title="https://github.com/bytecodealliance/wasmtime/issues/1603">Issue #1603</a>:</p>
<blockquote>
<p>This is an issue specific for this repository spawned from <a href="https://github.com/bytecodealliance/wasmtime-py/issues/2" title="https://github.com/bytecodealliance/wasmtime-py/issues/2">https://github.com/bytecodealliance/wasmtime-py/issues/2</a>. Unfortunately it is not possible to virtualize WASI imports and functionality today where the virtualization may eventually delegate to the original implementations. The reason for this has to do with how the original module's linear memory makes its way to the wasi instance. Today this is done via the <code>Caller</code> structure, but this is brittle because once virtualized your <code>Caller</code> is different.</p>
<p>AFAIK we don't have a great answer for this today until we can figure out how to create a WASI instance with a memory or something like that.</p>
</blockquote>



<a name="195427152"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231603%20Cannot%20virtualize%20WASI%20imports%20today/near/195427152" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231603.20Cannot.20virtualize.20WASI.20imports.20today.html#195427152">(Apr 27 2020 at 14:42)</a>:</h4>
<p>alexcrichton labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/1603" title="https://github.com/bytecodealliance/wasmtime/issues/1603">Issue #1603</a>:</p>
<blockquote>
<p>This is an issue specific for this repository spawned from <a href="https://github.com/bytecodealliance/wasmtime-py/issues/2" title="https://github.com/bytecodealliance/wasmtime-py/issues/2">https://github.com/bytecodealliance/wasmtime-py/issues/2</a>. Unfortunately it is not possible to virtualize WASI imports and functionality today where the virtualization may eventually delegate to the original implementations. The reason for this has to do with how the original module's linear memory makes its way to the wasi instance. Today this is done via the <code>Caller</code> structure, but this is brittle because once virtualized your <code>Caller</code> is different.</p>
<p>AFAIK we don't have a great answer for this today until we can figure out how to create a WASI instance with a memory or something like that.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>