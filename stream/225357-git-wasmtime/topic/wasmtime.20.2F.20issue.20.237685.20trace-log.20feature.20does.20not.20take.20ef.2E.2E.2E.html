<html>
<head><meta charset="utf-8"><title>wasmtime / issue #7685 trace-log feature does not take ef... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237685.20trace-log.20feature.20does.20not.20take.20ef.2E.2E.2E.html">wasmtime / issue #7685 trace-log feature does not take ef...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="407891729"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237685%20trace-log%20feature%20does%20not%20take%20ef.../near/407891729" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237685.20trace-log.20feature.20does.20not.20take.20ef.2E.2E.2E.html#407891729">(Dec 14 2023 at 06:46)</a>:</h4>
<p>feilongjiang opened <a href="https://github.com/bytecodealliance/wasmtime/issues/7685">issue #7685</a>:</p>
<blockquote>
<p>#7626 changed the cranelift-codegen features from <code>default</code> to <code>host-arch</code> in <code>crates/cranelift/Cargo.toml</code>. </p>
<p>Before this change, I could enable trace by adding <code>trace-log</code> to <code>features</code> in <code>cranelift/codegen/Cargo.toml</code>.</p>
<p>But now the old way doesn't work, <code>trace-log</code> should be added to <code>crates/cranelift/Cargo.toml</code> like this::</p>
<p><div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="n">cranelift-codegen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">workspace</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"host-arch"</span><span class="p">,</span><span class="w"> </span><span class="s2">"trace-log"</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="err">````</span>
<span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">behavior</span><span class="err">?</span>


<span class="err">~~~</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="407892015"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237685%20trace-log%20feature%20does%20not%20take%20ef.../near/407892015" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237685.20trace-log.20feature.20does.20not.20take.20ef.2E.2E.2E.html#407892015">(Dec 14 2023 at 06:48)</a>:</h4>
<p>feilongjiang edited <a href="https://github.com/bytecodealliance/wasmtime/issues/7685">issue #7685</a>:</p>
<blockquote>
<p>#7626 changed the cranelift-codegen features from <code>default</code> to <code>host-arch</code> in <code>crates/cranelift/Cargo.toml</code>. </p>
<p>Before this change, I could enable trace by adding <code>trace-log</code> to <code>features</code> in <code>cranelift/codegen/Cargo.toml</code>.</p>
<p>But now the old way doesn't work, <code>trace-log</code> should be added to <code>crates/cranelift/Cargo.toml</code> like this:</p>
<p><div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="n">cranelift-codegen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">workspace</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"host-arch"</span><span class="p">,</span><span class="w"> </span><span class="s2">"trace-log"</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="err">````</span>
<span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">behavior</span><span class="err">?</span>


<span class="err">~~~</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="407894575"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237685%20trace-log%20feature%20does%20not%20take%20ef.../near/407894575" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237685.20trace-log.20feature.20does.20not.20take.20ef.2E.2E.2E.html#407894575">(Dec 14 2023 at 07:05)</a>:</h4>
<p>feilongjiang edited <a href="https://github.com/bytecodealliance/wasmtime/issues/7685">issue #7685</a>:</p>
<blockquote>
<p>#7626 changed the cranelift-codegen features from <code>default</code> to <code>host-arch</code> in <code>crates/cranelift/Cargo.toml</code>. </p>
<p>Before this change, I could enable trace by adding <code>trace-log</code> to the features' default list in <code>cranelift/codegen/Cargo.toml</code>.</p>
<p>But now the old way doesn't work, <code>trace-log</code> should be added to <code>crates/cranelift/Cargo.toml</code> like this:</p>
<p><div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="n">cranelift-codegen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">workspace</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"host-arch"</span><span class="p">,</span><span class="w"> </span><span class="s2">"trace-log"</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="err">````</span>
<span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">behavior</span><span class="err">?</span>


<span class="err">~~~</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="407991776"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237685%20trace-log%20feature%20does%20not%20take%20ef.../near/407991776" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237685.20trace-log.20feature.20does.20not.20take.20ef.2E.2E.2E.html#407991776">(Dec 14 2023 at 16:01)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/7685#issuecomment-1856117188">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7685">issue #7685</a>:</p>
<blockquote>
<p>This is expected behavior in that it's how Cargo features work, but not necessarily expected behavior in that's how things are expected to work. The best solution here would probably be to add a <code>cranelift-trace-log</code> feature to the <code>wasmtime</code> crate and thread that through</p>
</blockquote>



<a name="411132112"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237685%20trace-log%20feature%20does%20not%20take%20ef.../near/411132112" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237685.20trace-log.20feature.20does.20not.20take.20ef.2E.2E.2E.html#411132112">(Jan 04 2024 at 05:48)</a>:</h4>
<p>feilongjiang closed <a href="https://github.com/bytecodealliance/wasmtime/issues/7685">issue #7685</a>:</p>
<blockquote>
<p>#7626 changed the cranelift-codegen features from <code>default</code> to <code>host-arch</code> in <code>crates/cranelift/Cargo.toml</code>. </p>
<p>Before this change, I could enable trace by adding <code>trace-log</code> to the features' default list in <code>cranelift/codegen/Cargo.toml</code>.</p>
<p>But now the old way doesn't work, <code>trace-log</code> should be added to <code>crates/cranelift/Cargo.toml</code> like this:</p>
<p><div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="n">cranelift-codegen</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">workspace</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="n">features</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s2">"host-arch"</span><span class="p">,</span><span class="w"> </span><span class="s2">"trace-log"</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
<span class="err">````</span>
<span class="n">is</span><span class="w"> </span><span class="n">that</span><span class="w"> </span><span class="n">expected</span><span class="w"> </span><span class="n">behavior</span><span class="err">?</span>


<span class="err">~~~</span>
</code></pre></div><br>
</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>