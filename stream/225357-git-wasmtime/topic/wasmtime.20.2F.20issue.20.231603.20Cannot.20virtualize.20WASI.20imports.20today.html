<html>
<head><meta charset="utf-8"><title>wasmtime / issue #1603 Cannot virtualize WASI imports today · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231603.20Cannot.20virtualize.20WASI.20imports.20today.html">wasmtime / issue #1603 Cannot virtualize WASI imports today</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="437914690"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231603%20Cannot%20virtualize%20WASI%20imports%20today/near/437914690" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231603.20Cannot.20virtualize.20WASI.20imports.20today.html#437914690">(May 10 2024 at 02:23)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/1603">issue #1603</a>:</p>
<blockquote>
<p>This is an issue specific for this repository spawned from <a href="https://github.com/bytecodealliance/wasmtime-py/issues/2">https://github.com/bytecodealliance/wasmtime-py/issues/2</a>. Unfortunately it is not possible to virtualize WASI imports and functionality today where the virtualization may eventually delegate to the original implementations. The reason for this has to do with how the original module's linear memory makes its way to the wasi instance. Today this is done via the <code>Caller</code> structure, but this is brittle because once virtualized your <code>Caller</code> is different.</p>
<p>AFAIK we don't have a great answer for this today until we can figure out how to create a WASI instance with a memory or something like that.</p>
</blockquote>



<a name="437914691"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%231603%20Cannot%20virtualize%20WASI%20imports%20today/near/437914691" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.231603.20Cannot.20virtualize.20WASI.20imports.20today.html#437914691">(May 10 2024 at 02:23)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/1603#issuecomment-2103739969">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1603">issue #1603</a>:</p>
<blockquote>
<p>This was a major design decision for the component model, so closing.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>