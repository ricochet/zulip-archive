<html>
<head><meta charset="utf-8"><title>wasmtime / PR #5566 Optimize some functions in the `wiggl... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235566.20Optimize.20some.20functions.20in.20the.20.60wiggl.2E.2E.2E.html">wasmtime / PR #5566 Optimize some functions in the `wiggl...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="321031422"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235566%20Optimize%20some%20functions%20in%20the%20%60wiggl.../near/321031422" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235566.20Optimize.20some.20functions.20in.20the.20.60wiggl.2E.2E.2E.html#321031422">(Jan 12 2023 at 20:49)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/5566">PR #5566</a> from <code>optimize-wiggle</code> to <code>main</code>:</p>
<blockquote>
<p>I was working with @abrown today on some performance issues with <code>wiggle</code> and these are some of the conclusions that we reached. There's a fair amount of low-hanging fruit in <code>wiggle</code> so this was roughly the time that we started picking!</p>
</blockquote>



<a name="321031424"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235566%20Optimize%20some%20functions%20in%20the%20%60wiggl.../near/321031424" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235566.20Optimize.20some.20functions.20in.20the.20.60wiggl.2E.2E.2E.html#321031424">(Jan 12 2023 at 20:49)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/abrown">abrown</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/5566">PR #5566</a>.</p>



<a name="321031452"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235566%20Optimize%20some%20functions%20in%20the%20%60wiggl.../near/321031452" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235566.20Optimize.20some.20functions.20in.20the.20.60wiggl.2E.2E.2E.html#321031452">(Jan 12 2023 at 20:49)</a>:</h4>
<p><strong>alexcrichton</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/5566">PR #5566</a> as ready for review.</p>



<a name="321033686"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235566%20Optimize%20some%20functions%20in%20the%20%60wiggl.../near/321033686" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235566.20Optimize.20some.20functions.20in.20the.20.60wiggl.2E.2E.2E.html#321033686">(Jan 12 2023 at 21:02)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5566#pullrequestreview-1246471634">PR review</a>.</p>



<a name="321035952"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235566%20Optimize%20some%20functions%20in%20the%20%60wiggl.../near/321035952" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235566.20Optimize.20some.20functions.20in.20the.20.60wiggl.2E.2E.2E.html#321035952">(Jan 12 2023 at 21:17)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5566">PR #5566</a> from <code>optimize-wiggle</code> to <code>main</code>.</p>



<a name="321035963"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235566%20Optimize%20some%20functions%20in%20the%20%60wiggl.../near/321035963" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235566.20Optimize.20some.20functions.20in.20the.20.60wiggl.2E.2E.2E.html#321035963">(Jan 12 2023 at 21:17)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/5566">PR #5566</a>.</p>



<a name="321037098"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235566%20Optimize%20some%20functions%20in%20the%20%60wiggl.../near/321037098" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235566.20Optimize.20some.20functions.20in.20the.20.60wiggl.2E.2E.2E.html#321037098">(Jan 12 2023 at 21:25)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5566#pullrequestreview-1246537063">PR review</a>.</p>



<a name="321037099"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235566%20Optimize%20some%20functions%20in%20the%20%60wiggl.../near/321037099" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235566.20Optimize.20some.20functions.20in.20the.20.60wiggl.2E.2E.2E.html#321037099">(Jan 12 2023 at 21:25)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5566#discussion_r1068669534">PR review comment</a>:</p>
<blockquote>
<p>It isn't AFAICT. You did need an atomic memcpy to prevent a data race, which rust doesn't currently provide. I believe there is an open RFC for it though and you can implement it in assembly.</p>
</blockquote>



<a name="321040812"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235566%20Optimize%20some%20functions%20in%20the%20%60wiggl.../near/321040812" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235566.20Optimize.20some.20functions.20in.20the.20.60wiggl.2E.2E.2E.html#321040812">(Jan 12 2023 at 21:49)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/5566">PR #5566</a>.</p>



<a name="321050100"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235566%20Optimize%20some%20functions%20in%20the%20%60wiggl.../near/321050100" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235566.20Optimize.20some.20functions.20in.20the.20.60wiggl.2E.2E.2E.html#321050100">(Jan 12 2023 at 22:54)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5566#pullrequestreview-1246695356">PR review</a>.</p>



<a name="321050101"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235566%20Optimize%20some%20functions%20in%20the%20%60wiggl.../near/321050101" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235566.20Optimize.20some.20functions.20in.20the.20.60wiggl.2E.2E.2E.html#321050101">(Jan 12 2023 at 22:54)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5566#discussion_r1068748233">PR review comment</a>:</p>
<blockquote>
<p>Personally I don't think this is a clear yes or no one way or the other. The documentation doesn't explicitly say anything, the documentation of LLVM about their memcpy intrinsic doesn't say anything to this effect, nor does <code>memcpy</code>-the-function say anything. The linked issue here is the best place to discuss this and its future resolution.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>