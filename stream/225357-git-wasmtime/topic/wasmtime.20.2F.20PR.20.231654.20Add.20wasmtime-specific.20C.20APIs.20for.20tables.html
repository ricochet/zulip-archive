<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1654 Add wasmtime-specific C APIs for tables · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231654.20Add.20wasmtime-specific.20C.20APIs.20for.20tables.html">wasmtime / PR #1654 Add wasmtime-specific C APIs for tables</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="196234669"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231654%20Add%20wasmtime-specific%20C%20APIs%20for%20tables/near/196234669" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231654.20Add.20wasmtime-specific.20C.20APIs.20for.20tables.html#196234669">(May 04 2020 at 20:16)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1654" title="https://github.com/bytecodealliance/wasmtime/pull/1654">PR #1654</a> from <code>wasmtime-func-table-apis</code> to <code>master</code>:</p>
<blockquote>
<p>This commit adds a suite of <code>wasmtime_funcref_table_*</code> APIs which mirror<br>
the standard APIs but have a few differences:</p>
<ul>
<li>
<p>More errors are returned. For example error messages are communicated<br>
  through <code>wasmtime_error_t</code> and out-of-bounds vs load of null can be<br>
  differentiated in the <code>get</code> API.</p>
</li>
<li>
<p>APIs take <code>wasm_func_t</code> instead of <code>wasm_ref_t</code>. Given the recent<br>
  decision to remove subtyping from the anyref proposal it's not clear<br>
  how the C API for tables will be affected, so for now these APIs are<br>
  all specialized to only funcref tables.</p>
</li>
<li>
<p>Growth now allows access to the previous size of the table, if<br>
  desired, which mirrors the <code>table.grow</code> instruction.</p>
</li>
</ul>
<p>This was originally motivated by <a href="https://github.com/bytecodealliance/wasmtime-go/issues/5" title="https://github.com/bytecodealliance/wasmtime-go/issues/5">bytecodealliance/wasmtime-go#5</a> where<br>
the current APIs we have for working with tables don't quite work. We<br>
don't have a great way to take an anyref constructed from a <code>Func</code> and<br>
get the <code>Func</code> back out, so for now this sidesteps those concerns while<br>
we sort out the anyref story.</p>
<p>It's intended that once the anyref story has settled and the official C<br>
API has updated we'll likely delete these wasmtime-specific APIs or<br>
implement them as trivial wrappers around the official ones.</p>
</blockquote>



<a name="196670403"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231654%20Add%20wasmtime-specific%20C%20APIs%20for%20tables/near/196670403" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231654.20Add.20wasmtime-specific.20C.20APIs.20for.20tables.html#196670403">(May 06 2020 at 17:38)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/yurydelendik" title="https://github.com/yurydelendik">yurydelendik</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1654" title="https://github.com/bytecodealliance/wasmtime/pull/1654">PR #1654</a>.</p>



<a name="197489277"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231654%20Add%20wasmtime-specific%20C%20APIs%20for%20tables/near/197489277" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231654.20Add.20wasmtime-specific.20C.20APIs.20for.20tables.html#197489277">(May 13 2020 at 23:16)</a>:</h4>
<p>sunfishcode merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1654">PR #1654</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>