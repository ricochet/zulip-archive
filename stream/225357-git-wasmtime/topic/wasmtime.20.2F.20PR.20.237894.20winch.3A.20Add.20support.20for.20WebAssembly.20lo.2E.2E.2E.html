<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7894 winch: Add support for WebAssembly lo... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html">wasmtime / PR #7894 winch: Add support for WebAssembly lo...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="420448980"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420448980" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420448980">(Feb 08 2024 at 12:45)</a>:</h4>
<p>saulecabrera opened <a href="https://github.com/bytecodealliance/wasmtime/pull/7894">PR #7894</a> from <code>saulecabrera:winch-loads-stores</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>Closes <a href="https://github.com/bytecodealliance/wasmtime/issues/6529">https://github.com/bytecodealliance/wasmtime/issues/6529</a></p>
<p>This patch adds support for all the instructions involving WebAssembly loads and stores for 32-bit memories. Given that the <code>memory64</code> proposal is not enabled by default, this patch doesn't include an implementation/tests for it; in theory minimal tweaks to the currrent implementation will be needed in order to support 64-bit memories.</p>
<p>Implemenation-wise, this change, follows a similar pattern as Cranelift in order to calculate addresses for dynamic/static heaps, the main difference being that in some cases, doing less work at compile time is preferred; the current implemenation only checks for the general case of out-of-bounds access for dynamic heaps for example.</p>
<p>Another important detail regarding the implementation, is the introduction of <code>MacroAssembler::wasm_load</code> and<br>
<code>MacroAssembler::wasm_store</code>, which internally use a common implemenation for loads and stores, with the only difference that the <code>wasm_*</code> variants set the right flags in order to signal that these operations are not trusted and might trap.</p>
<p>Finally, given that this change introduces support for the last set of instructions missing for a Wasm MVP, it removes most of Winch's copy of the spectest suite, and switches over to using the official test suite where possible (for tests that don't use SIMD or Reference Types).</p>
<p>Follow-up items:</p>
<ul>
<li>Before doing any deep benchmarking I'm planning on landing a couple of improvements regarding compile times that I've identified in parallel to this change.</li>
<li>The <code>imports.wast</code> tests are disabled because I've identified a bug with <code>call_indirect</code>, which is not related to this change and exists in main.</li>
<li>Find a way to run the <code>tests/all/memory.rs</code> (or perhaps most of integration tests) with Winch.</li>
</ul>
<p>--<br>
prtest:full</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="420448986"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420448986" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420448986">(Feb 08 2024 at 12:45)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/elliottt">elliottt</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7894">PR #7894</a>.</p>



<a name="420448987"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420448987" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420448987">(Feb 08 2024 at 12:45)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7894">PR #7894</a>.</p>



<a name="420448988"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420448988" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420448988">(Feb 08 2024 at 12:45)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-fuzz-reviewers">wasmtime-fuzz-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7894">PR #7894</a>.</p>



<a name="420448992"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420448992" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420448992">(Feb 08 2024 at 12:45)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/pchickey">pchickey</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7894">PR #7894</a>.</p>



<a name="420448993"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420448993" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420448993">(Feb 08 2024 at 12:45)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7894">PR #7894</a>.</p>



<a name="420448995"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420448995" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420448995">(Feb 08 2024 at 12:45)</a>:</h4>
<p><strong>saulecabrera</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7894">PR #7894</a>.</p>



<a name="420460521"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420460521" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420460521">(Feb 08 2024 at 13:45)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#issuecomment-1934154752">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/7894">PR #7894</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @fitzgen, @saulecabrera</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "cranelift:area:x64", "fuzzing", "winch"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>fitzgen: fuzzing</li>
<li>saulecabrera: winch</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="420461515"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420461515" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420461515">(Feb 08 2024 at 13:49)</a>:</h4>
<p>saulecabrera edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7894">PR #7894</a>:</p>
<blockquote>
<p>Closes <a href="https://github.com/bytecodealliance/wasmtime/issues/6528">https://github.com/bytecodealliance/wasmtime/issues/6528</a></p>
<p>This patch adds support for all the instructions involving WebAssembly loads and stores for 32-bit memories. Given that the <code>memory64</code> proposal is not enabled by default, this patch doesn't include an implementation/tests for it; in theory minimal tweaks to the currrent implementation will be needed in order to support 64-bit memories.</p>
<p>Implemenation-wise, this change, follows a similar pattern as Cranelift in order to calculate addresses for dynamic/static heaps, the main difference being that in some cases, doing less work at compile time is preferred; the current implemenation only checks for the general case of out-of-bounds access for dynamic heaps for example.</p>
<p>Another important detail regarding the implementation, is the introduction of <code>MacroAssembler::wasm_load</code> and<br>
<code>MacroAssembler::wasm_store</code>, which internally use a common implemenation for loads and stores, with the only difference that the <code>wasm_*</code> variants set the right flags in order to signal that these operations are not trusted and might trap.</p>
<p>Finally, given that this change introduces support for the last set of instructions missing for a Wasm MVP, it removes most of Winch's copy of the spectest suite, and switches over to using the official test suite where possible (for tests that don't use SIMD or Reference Types).</p>
<p>Follow-up items:</p>
<ul>
<li>Before doing any deep benchmarking I'm planning on landing a couple of improvements regarding compile times that I've identified in parallel to this change.</li>
<li>The <code>imports.wast</code> tests are disabled because I've identified a bug with <code>call_indirect</code>, which is not related to this change and exists in main.</li>
<li>Find a way to run the <code>tests/all/memory.rs</code> (or perhaps most of integration tests) with Winch.</li>
</ul>
<p>--<br>
prtest:full</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="420562533"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562533" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562533">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#pullrequestreview-1870912539">PR review</a>:</p>
<blockquote>
<p>So happy to see this PR, congratulations on closing out #6528!</p>
<p>The structure of this change makes sense to me, so I went ahead and made a bunch of smaller suggestions.</p>
</blockquote>



<a name="420562535"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562535" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562535">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#pullrequestreview-1870912539">PR review</a>:</p>
<blockquote>
<p>So happy to see this PR, congratulations on closing out #6528!</p>
<p>The structure of this change makes sense to me, so I went ahead and made a bunch of smaller suggestions.</p>
</blockquote>



<a name="420562536"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562536" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562536">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1483518701">PR review comment</a>:</p>
<blockquote>
<p><code>index</code> is passed out unmodified as the first result here, would it be reasonable to change this return type to just <code>ImmOffset</code>?</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>) -&gt; ImmOffset {
</code></pre></div><br>
</p>
</blockquote>



<a name="420562537"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562537" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562537">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1483385689">PR review comment</a>:</p>
<blockquote>
<p>Would it make sense to invert this case, and name the unsupported ops at this point? That would also give us a nice list for what ops still need to be implemented.</p>
</blockquote>



<a name="420562538"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562538" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562538">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1483526599">PR review comment</a>:</p>
<blockquote>
<p>Is this argument necessary? There's already a <code>masm</code> argument, which could be used to call <code>scratch_reg</code> again.</p>
</blockquote>



<a name="420562539"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562539" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562539">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1483489268">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>/// Loads the bounds of the dynamic heap.
</code></pre></div><br>
</p>
</blockquote>



<a name="420562540"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562540" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562540">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1483689176">PR review comment</a>:</p>
<blockquote>
<p>This pattern shows up in a few places, would it be easy to special case the <code>0</code> offset and avoid the <code>add</code>?</p>
</blockquote>



<a name="420562541"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562541" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562541">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1483635660">PR review comment</a>:</p>
<blockquote>
<p>What about casting where <code>ptr_size</code> is defined instead? I think would leave all other uses of <code>ptr_size</code> unchanged.</p>
</blockquote>



<a name="420562542"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562542" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562542">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1483717612">PR review comment</a>:</p>
<blockquote>
<p>Was this change unintentional?</p>
</blockquote>



<a name="420562543"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562543" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562543">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1483528746">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>/// Load the requested heap address into the specified destination register.
</code></pre></div><br>
</p>
</blockquote>



<a name="420562544"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562544" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562544">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1483659080">PR review comment</a>:</p>
<blockquote>
<p>I think you can remove the <code>&lt;M&gt;</code> type argument by changing how the <code>Masm</code> impl is referenced (unless the intent is to reuse this implementation with a different <code>Masm</code> impl in the future). I like this a little bit more, as seeing <code>self.store_impl&lt;Self&gt;</code> at a call site was a little surprising :)</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>    fn store_impl(&amp;mut self, src: RegImm, dst: Address, size: OperandSize, flags: MemFlags)
    {
        let scratch = &lt;Self as Masm&gt;::ABI::scratch_reg();
        let float_scratch = &lt;Self as Masm&gt;::ABI::float_scratch_reg();
</code></pre></div><br>
</p>
</blockquote>



<a name="420562545"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562545" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562545">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1483529919">PR review comment</a>:</p>
<blockquote>
<p>What do you think about calling this function <code>load_heap_addr_unchecked</code>? Similarly, we could rename <code>check_addr</code> to <code>load_heap_addr_checked</code> so that it's clear what the difference between the two is?</p>
</blockquote>



<a name="420562546"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420562546" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420562546">(Feb 08 2024 at 23:58)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1483665117">PR review comment</a>:</p>
<blockquote>
<p>The <code>trusted_flags</code> field doesn't look like it's modified once created, are there plans in the future to mutate this throughout the lifetime of the <code>MacroAssembler</code>, or would this be better extracted out as a constant?</p>
</blockquote>



<a name="420668319"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420668319" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420668319">(Feb 09 2024 at 14:55)</a>:</h4>
<p>saulecabrera updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7894">PR #7894</a>.</p>



<a name="420668640"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420668640" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420668640">(Feb 09 2024 at 14:57)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#pullrequestreview-1872588984">PR review</a>.</p>



<a name="420668643"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420668643" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420668643">(Feb 09 2024 at 14:57)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1484433175">PR review comment</a>:</p>
<blockquote>
<p>I've done a small refactoring here, and aside from inverting the list, I've disabled the Wasm proposals that are not supported yet.</p>
</blockquote>



<a name="420668751"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420668751" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420668751">(Feb 09 2024 at 14:57)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#pullrequestreview-1872590078">PR review</a>.</p>



<a name="420668752"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420668752" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420668752">(Feb 09 2024 at 14:57)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1484433823">PR review comment</a>:</p>
<blockquote>
<p>Yeah, makes sense to me!</p>
</blockquote>



<a name="420668857"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420668857" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420668857">(Feb 09 2024 at 14:58)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#pullrequestreview-1872590863">PR review</a>.</p>



<a name="420668858"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420668858" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420668858">(Feb 09 2024 at 14:58)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1484434301">PR review comment</a>:</p>
<blockquote>
<p>Yeah good call, I do like the proposed naming better. </p>
</blockquote>



<a name="420669024"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420669024" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420669024">(Feb 09 2024 at 14:59)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1484435311">PR review comment</a>:</p>
<blockquote>
<p>Good catch, yeah definitely unintentional. </p>
</blockquote>



<a name="420669025"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420669025" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420669025">(Feb 09 2024 at 14:59)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#pullrequestreview-1872592562">PR review</a>.</p>



<a name="420670206"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420670206" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420670206">(Feb 09 2024 at 15:05)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#pullrequestreview-1872605344">PR review</a>.</p>



<a name="420670207"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420670207" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420670207">(Feb 09 2024 at 15:05)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1484442994">PR review comment</a>:</p>
<blockquote>
<p>Yeah, this could definitely be improved I guess, the current implementation is already an improvement to what was there before in the sense that we were creating a <code>MemFlags::trusted</code> per load / store, now it's created once per MacroAssembler (and by definition once per function). Given that the flags won't be modified, I think that sharing both (trusted and untrusted) through all the functions might make sense. That said, it was not evident to me how to go about the constant route, were you thinking about introducing something like <code>OnceCell</code>? Having a pure constant won't work given that <code>MemFlags::trusted</code> is not <code>const</code>. Another approach could be to create a <code>MacroAssemblerContext</code> that is created verly early in the process and passed in to each <code>MacroAssembler</code> implementation and reused across all the functions. </p>
</blockquote>



<a name="420671035"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420671035" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420671035">(Feb 09 2024 at 15:09)</a>:</h4>
<p>saulecabrera submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#pullrequestreview-1872614160">PR review</a>.</p>



<a name="420671036"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420671036" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420671036">(Feb 09 2024 at 15:09)</a>:</h4>
<p>saulecabrera created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1484448311">PR review comment</a>:</p>
<blockquote>
<p>Yeah, a bit unfortunate, there are a couple of patterns like this throughout Winch. I was hoping that we would be able to get rid of them once we start exploring the optimizations that we could apply ; right now this would require introducing at least a new abstraction at the <code>CodeGenContext</code> to enable peeking at constants at certain points of the code generation. This is not too difficult I think, but before getting into any optimizations for the generated code, I was hoping to make all the possible improvements to the compilation times to have a good sense of what our baseline is. </p>
</blockquote>



<a name="420671579"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420671579" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420671579">(Feb 09 2024 at 15:12)</a>:</h4>
<p>saulecabrera edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1484448311">PR review comment</a>.</p>



<a name="420671630"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420671630" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420671630">(Feb 09 2024 at 15:12)</a>:</h4>
<p>saulecabrera edited <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1484448311">PR review comment</a>.</p>



<a name="420671936"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420671936" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420671936">(Feb 09 2024 at 15:13)</a>:</h4>
<p>saulecabrera <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#issuecomment-1936106300">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/7894">PR #7894</a>:</p>
<blockquote>
<p>@elliottt Thanks for the detailed review and all the great suggestions, I've resolved most of them, excluding two of them which I've left open for further discussion. Happy to continue the discussion and/or create follow-up PRs!</p>
</blockquote>



<a name="420683678"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420683678" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420683678">(Feb 09 2024 at 16:09)</a>:</h4>
<p>saulecabrera merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7894">PR #7894</a>.</p>



<a name="420692067"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420692067" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420692067">(Feb 09 2024 at 16:50)</a>:</h4>
<p>elliottt submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#pullrequestreview-1872820784">PR review</a>.</p>



<a name="420692068"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237894%20winch%3A%20Add%20support%20for%20WebAssembly%20lo.../near/420692068" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237894.20winch.3A.20Add.20support.20for.20WebAssembly.20lo.2E.2E.2E.html#420692068">(Feb 09 2024 at 16:50)</a>:</h4>
<p>elliottt created <a href="https://github.com/bytecodealliance/wasmtime/pull/7894#discussion_r1484572767">PR review comment</a>:</p>
<blockquote>
<p>I made a change that should allow this in #7903 -- it turned out to be easier than I expected to make the MemFlags have a <code>const</code>-compatible interface :)</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>