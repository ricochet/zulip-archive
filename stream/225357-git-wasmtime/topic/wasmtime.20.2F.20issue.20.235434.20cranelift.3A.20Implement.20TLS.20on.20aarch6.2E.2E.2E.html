<html>
<head><meta charset="utf-8"><title>wasmtime / issue #5434 cranelift: Implement TLS on aarch6... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html">wasmtime / issue #5434 cranelift: Implement TLS on aarch6...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="315729368"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235434%20cranelift%3A%20Implement%20TLS%20on%20aarch6.../near/315729368" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html#315729368">(Dec 14 2022 at 03:25)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1350337637">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5434">issue #5434</a>:</p>
<blockquote>
<p>I did an audit of <code>object</code>'s upgrade; however <code>cargo vet</code> is showing an audit backlog of <code>hashbrown</code>, <code>once_cell</code>, and <code>ahash</code>, and I don't really feel qualified to audit those at all. Anyone else want to take a crack at it (@alexcrichton, @fitzgen, @jameysharp, @elliottt maybe?) or am I missing something about our policy here on core/popular crates?</p>
</blockquote>



<a name="315926223"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235434%20cranelift%3A%20Implement%20TLS%20on%20aarch6.../near/315926223" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html#315926223">(Dec 14 2022 at 22:23)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1352298436">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5434">issue #5434</a>:</p>
<blockquote>
<blockquote>
<p>or am I missing something about our policy here on core/popular crates?</p>
</blockquote>
<p>Not missing anything AFAIK. Someone just has to bite the bullet and review the new deps and delta for upgraded deps.</p>
</blockquote>



<a name="315926260"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235434%20cranelift%3A%20Implement%20TLS%20on%20aarch6.../near/315926260" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html#315926260">(Dec 14 2022 at 22:23)</a>:</h4>
<p>fitzgen edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1352298436">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5434">issue #5434</a>:</p>
<blockquote>
<blockquote>
<p>or am I missing something about our policy here on core/popular crates?</p>
</blockquote>
<p>Not missing anything AFAIK. Someone just has to bite the bullet and review the new deps and delta for upgraded deps if Firefox folks haven't already done so.</p>
</blockquote>



<a name="324421591"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235434%20cranelift%3A%20Implement%20TLS%20on%20aarch6.../near/324421591" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html#324421591">(Jan 29 2023 at 11:46)</a>:</h4>
<p>EdorianDark <a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1407640315">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5434">issue #5434</a>:</p>
<blockquote>
<blockquote>
<p>I did an audit of <code>object</code>'s upgrade; however <code>cargo vet</code> is showing an audit backlog of <code>hashbrown</code>, <code>once_cell</code>, and <code>ahash</code>, and I don't really feel qualified to audit those at all. Anyone else want to take a crack at it (@alexcrichton, @fitzgen, @jameysharp, @elliottt maybe?) or am I missing something about our policy here on core/popular crates?</p>
</blockquote>
<p>Since there is no review process for an Rust update, all of <code>std</code> is considered trusted.<br>
<a href="https://github.com/rust-lang/hashbrown">Hashbrown</a> is part of the rust-lang organization and is used by <code>std::HashMap,</code> so it is trusted if it is part of <code>std</code>. <br>
I think that trust should be extended if it is used directly and also to its dependencies like <code>ahash</code> and indirect dependencies like <code>once_cell </code>.</p>
</blockquote>



<a name="324422476"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235434%20cranelift%3A%20Implement%20TLS%20on%20aarch6.../near/324422476" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html#324422476">(Jan 29 2023 at 11:54)</a>:</h4>
<p>EdorianDark edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1407640315">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5434">issue #5434</a>:</p>
<blockquote>
<blockquote>
<p>I did an audit of <code>object</code>'s upgrade; however <code>cargo vet</code> is showing an audit backlog of <code>hashbrown</code>, <code>once_cell</code>, and <code>ahash</code>, and I don't really feel qualified to audit those at all. Anyone else want to take a crack at it (@alexcrichton, @fitzgen, @jameysharp, @elliottt maybe?) or am I missing something about our policy here on core/popular crates?</p>
</blockquote>
<p>Since there is no review process for an Rust update, all of <code>std</code> is considered trusted.<br>
<a href="https://github.com/rust-lang/hashbrown">Hashbrown</a> is part of the rust-lang organization and is used by <code>std::HashMap,</code> so it is trusted if it is part of <code>std</code>. <br>
I think that trust should be extended if it is used directly and also to its dependencies like <code>ahash</code> and indirect dependencies like <code>once_cell </code>.</p>
<p>EDIT: The reviews were already done in <a href="https://github.com/bytecodealliance/wasmtime/pull/5550">https://github.com/bytecodealliance/wasmtime/pull/5550</a>, which will probably land soon.</p>
</blockquote>



<a name="326709422"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235434%20cranelift%3A%20Implement%20TLS%20on%20aarch6.../near/326709422" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html#326709422">(Feb 09 2023 at 00:06)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1423400556">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5434">issue #5434</a>:</p>
<blockquote>
<p>@nathanwhit would you be willing to rebase this? I think we should be close to able to merge this with vets that have happened in the meantime...</p>
</blockquote>



<a name="326717172"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235434%20cranelift%3A%20Implement%20TLS%20on%20aarch6.../near/326717172" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html#326717172">(Feb 09 2023 at 01:42)</a>:</h4>
<p>nathanwhit <a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1423489176">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5434">issue #5434</a>:</p>
<blockquote>
<blockquote>
<p>@nathanwhit would you be willing to rebase this? I think we should be close to able to merge this with vets that have happened in the meantime...</p>
</blockquote>
<p>Done!</p>
</blockquote>



<a name="326718825"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235434%20cranelift%3A%20Implement%20TLS%20on%20aarch6.../near/326718825" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html#326718825">(Feb 09 2023 at 02:08)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1423509239">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5434">issue #5434</a>:</p>
<blockquote>
<p>Ah, the merged cargo-vet review for the object crate is for 0.30.1, not 0.30. If you bump to that version, I believe the cargo-vet check will pass.</p>
<p>In addition, <code>cargo-deny</code> is failing because there are multiple versions of <code>ahash</code>, <code>hashbrown</code>, and <code>object</code> being pulled in by different crates. I think these have all been resolved in #5550, but that hasn't merged yet.</p>
<p>I'm sorry that this PR is taking a long time to merge. We're still working out our processes for supply-chain review. We're learning though!</p>
</blockquote>



<a name="326874684"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235434%20cranelift%3A%20Implement%20TLS%20on%20aarch6.../near/326874684" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html#326874684">(Feb 09 2023 at 17:36)</a>:</h4>
<p>EdorianDark <a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1424566217">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5434">issue #5434</a>:</p>
<blockquote>
<p>@cfallin  I think the best way would be to merge <a href="https://github.com/bytecodealliance/wasmtime/pull/5513">https://github.com/bytecodealliance/wasmtime/pull/5513</a>, since there are object is already updated to 0.30.1</p>
</blockquote>



<a name="328071231"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235434%20cranelift%3A%20Implement%20TLS%20on%20aarch6.../near/328071231" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html#328071231">(Feb 15 2023 at 17:48)</a>:</h4>
<p>EdorianDark <a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1431767959">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5434">issue #5434</a>:</p>
<blockquote>
<p>Now object has been updated in master. I think with an rebase the build should succeed.<br>
Thanks for your work!</p>
</blockquote>



<a name="344207701"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235434%20cranelift%3A%20Implement%20TLS%20on%20aarch6.../near/344207701" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html#344207701">(Mar 24 2023 at 09:45)</a>:</h4>
<p>cbeuw <a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1482521615">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5434">issue #5434</a>:</p>
<blockquote>
<p>Rebased this locally onto main and all tests pass (except for a filetest needing bless due to <a href="https://github.com/bytecodealliance/wasmtime/pull/5780">https://github.com/bytecodealliance/wasmtime/pull/5780</a>). Any updates on this?</p>
</blockquote>



<a name="344327467"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235434%20cranelift%3A%20Implement%20TLS%20on%20aarch6.../near/344327467" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235434.20cranelift.3A.20Implement.20TLS.20on.20aarch6.2E.2E.2E.html#344327467">(Mar 24 2023 at 17:19)</a>:</h4>
<p>nathanwhit <a href="https://github.com/bytecodealliance/wasmtime/pull/5434#issuecomment-1483155324">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5434">issue #5434</a>:</p>
<blockquote>
<p>Ah sorry, completely forgot this hadn't been merged. Thanks for the reminder!</p>
<p>I've rebased on top of main so it should be good to go now</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>