<html>
<head><meta charset="utf-8"><title>wasmtime / PR #3344 Load generated trampolines into jitdu... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233344.20Load.20generated.20trampolines.20into.20jitdu.2E.2E.2E.html">wasmtime / PR #3344 Load generated trampolines into jitdu...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="253115640"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233344%20Load%20generated%20trampolines%20into%20jitdu.../near/253115640" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233344.20Load.20generated.20trampolines.20into.20jitdu.2E.2E.2E.html#253115640">(Sep 13 2021 at 16:06)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/3344">PR #3344</a> from <code>jitdump-trampoline</code> to <code>main</code>:</p>
<blockquote>
<p>This commit updates the jitdump profiler to generate JIT profiling<br>
records for generated trampolines in a wasm module in addition to the<br>
functions already in a module. It's also updated to learn about<br>
trampolines generated via <code>Func::new</code> and friends. These trampolines<br>
were all not previously registered meaning that stack traces with these<br>
pc values would be confusing to see in the profile output. While the<br>
names aren't the best it should at least be more clear than before if a<br>
function is hot!</p>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
</p>
</blockquote>



<a name="253129412"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233344%20Load%20generated%20trampolines%20into%20jitdu.../near/253129412" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233344.20Load.20generated.20trampolines.20into.20jitdu.2E.2E.2E.html#253129412">(Sep 13 2021 at 17:35)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/3344">PR #3344</a> from <code>jitdump-trampoline</code> to <code>main</code>.</p>



<a name="254220306"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233344%20Load%20generated%20trampolines%20into%20jitdu.../near/254220306" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233344.20Load.20generated.20trampolines.20into.20jitdu.2E.2E.2E.html#254220306">(Sep 21 2021 at 14:53)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/3344">PR #3344</a>.</p>



<a name="254242596"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233344%20Load%20generated%20trampolines%20into%20jitdu.../near/254242596" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233344.20Load.20generated.20trampolines.20into.20jitdu.2E.2E.2E.html#254242596">(Sep 21 2021 at 17:04)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3344#pullrequestreview-760026461">PR review</a>.</p>



<a name="254242597"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233344%20Load%20generated%20trampolines%20into%20jitdu.../near/254242597" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233344.20Load.20generated.20trampolines.20into.20jitdu.2E.2E.2E.html#254242597">(Sep 21 2021 at 17:04)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/3344#pullrequestreview-760026461">PR review</a>.</p>



<a name="254242598"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233344%20Load%20generated%20trampolines%20into%20jitdu.../near/254242598" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233344.20Load.20generated.20trampolines.20into.20jitdu.2E.2E.2E.html#254242598">(Sep 21 2021 at 17:04)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/3344#discussion_r713246047">PR review comment</a>:</p>
<blockquote>
<p>Heads up @jlb6740, since you're the original author of the VTune support: generated trampolines for calling into Wasm weren't previously being registered for profilers (see the top-level PR description) and there are some updates needed for including them in the VTune support. See the jitdump support in this PR for an idea of the kind of thing needed. I don't know exactly what is needed for VTune.</p>
</blockquote>



<a name="254251598"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%233344%20Load%20generated%20trampolines%20into%20jitdu.../near/254251598" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.233344.20Load.20generated.20trampolines.20into.20jitdu.2E.2E.2E.html#254251598">(Sep 21 2021 at 18:05)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/3344">PR #3344</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>