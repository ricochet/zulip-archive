<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2094 Implement the module linking propo... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html">wasmtime / Issue #2094 Implement the module linking propo...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="205948820"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/205948820" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#205948820">(Aug 04 2020 at 19:21)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[ ] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[ ] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[ ] Implement the alias section</li>
<li>[ ] Implement the instance section</li>
<li>[ ] Implement module export/import</li>
<li>[ ] Implement instance export/import</li>
<li>[ ] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API</li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py}</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?</li>
</ul>
</blockquote>



<a name="205948847"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/205948847" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#205948847">(Aug 04 2020 at 19:21)</a>:</h4>
<p>alexcrichton labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[ ] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[ ] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[ ] Implement the alias section</li>
<li>[ ] Implement the instance section</li>
<li>[ ] Implement module export/import</li>
<li>[ ] Implement instance export/import</li>
<li>[ ] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API</li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py}</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?</li>
</ul>
</blockquote>



<a name="215604859"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/215604859" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#215604859">(Nov 04 2020 at 16:22)</a>:</h4>
<p>tschneidereit <a href="https://github.com/bytecodealliance/wasmtime/issues/2094#issuecomment-721831616">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<blockquote>
<p>Update wasmparser used by Wasmtime to understand module linking</p>
</blockquote>
<p>It seems like this is done?</p>
</blockquote>



<a name="215605099"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/215605099" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#215605099">(Nov 04 2020 at 16:24)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[ ] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[ ] Implement the alias section</li>
<li>[ ] Implement the instance section</li>
<li>[ ] Implement module export/import</li>
<li>[ ] Implement instance export/import</li>
<li>[ ] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API</li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py}</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?</li>
</ul>
</blockquote>



<a name="215605119"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/215605119" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#215605119">(Nov 04 2020 at 16:24)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/2094#issuecomment-721832592">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>Indeed!</p>
</blockquote>



<a name="217664958"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/217664958" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#217664958">(Nov 23 2020 at 18:28)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[ ] Implement the alias section</li>
<li>[ ] Implement the instance section</li>
<li>[ ] Implement module export/import</li>
<li>[ ] Implement instance export/import</li>
<li>[ ] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API</li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py}</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="217697604"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/217697604" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#217697604">(Nov 23 2020 at 23:32)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[ ] Implement the alias section</li>
<li>[ ] Implement the instance section #2447</li>
<li>[ ] Implement module export/import</li>
<li>[ ] Implement instance export/import</li>
<li>[ ] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API</li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py}</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="217911340"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/217911340" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#217911340">(Nov 25 2020 at 16:58)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[ ] Implement the alias section #2451</li>
<li>[ ] Implement the instance section #2447</li>
<li>[ ] Implement module export/import</li>
<li>[ ] Implement instance export/import</li>
<li>[ ] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API</li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py}</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="218494075"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/218494075" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#218494075">(Dec 01 2020 at 22:58)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[ ] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[ ] Implement module export/import #2461</li>
<li>[ ] Implement instance export/import #2461 </li>
<li>[ ] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API</li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py}</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="218648176"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/218648176" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#218648176">(Dec 03 2020 at 02:48)</a>:</h4>
<p>peterhuene edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[x] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[ ] Implement module export/import #2461</li>
<li>[ ] Implement instance export/import #2461 </li>
<li>[ ] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API</li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py}</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="218717007"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/218717007" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#218717007">(Dec 03 2020 at 16:18)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[x] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[x] Implement module export/import #2461</li>
<li>[ ] Implement instance export/import #2461 </li>
<li>[ ] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API</li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py}</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="218717010"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/218717010" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#218717010">(Dec 03 2020 at 16:19)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[x] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[x] Implement module export/import #2461</li>
<li>[x] Implement instance export/import #2461 </li>
<li>[ ] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API</li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py}</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="218741706"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/218741706" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#218741706">(Dec 03 2020 at 19:21)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[x] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[x] Implement module export/import #2461</li>
<li>[x] Implement instance export/import #2461 </li>
<li>[ ] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API #2472</li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py}</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="218741960"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/218741960" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#218741960">(Dec 03 2020 at 19:23)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[x] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[x] Implement module export/import #2461</li>
<li>[x] Implement instance export/import #2461 </li>
<li>[ ] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API #2472 </li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py} <a href="https://github.com/bytecodealliance/wasmtime-py/pull/47">https://github.com/bytecodealliance/wasmtime-py/pull/47</a></li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="218745419"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/218745419" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#218745419">(Dec 03 2020 at 19:51)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[x] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[x] Implement module export/import #2461</li>
<li>[x] Implement instance export/import #2461 </li>
<li>[x] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API #2472 </li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py} <a href="https://github.com/bytecodealliance/wasmtime-py/pull/47">https://github.com/bytecodealliance/wasmtime-py/pull/47</a></li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="218745503"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/218745503" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#218745503">(Dec 03 2020 at 19:52)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[x] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[x] Implement module export/import #2461</li>
<li>[x] Implement instance export/import #2461 </li>
<li>[x] Ensure the Rust API exposes module linking well</li>
<li>[ ] Implement module linking in the C API #2472 </li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py} <a href="https://github.com/bytecodealliance/wasmtime-py/pull/47">https://github.com/bytecodealliance/wasmtime-py/pull/47</a></li>
<li>[ ] Implement fuzzing for module linking</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="218759611"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/218759611" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#218759611">(Dec 03 2020 at 21:51)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[x] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[x] Implement module export/import #2461</li>
<li>[x] Implement instance export/import #2461 </li>
<li>[x] Ensure the Rust API exposes module linking well</li>
<li>[x] Implement module linking in the C API #2472 </li>
<li>[ ] Implement module linking for one of wasmtime-{go,dotnet,py} <a href="https://github.com/bytecodealliance/wasmtime-py/pull/47">https://github.com/bytecodealliance/wasmtime-py/pull/47</a></li>
<li>[ ] Implement fuzzing for module linking</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="218759618"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/218759618" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#218759618">(Dec 03 2020 at 21:51)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[x] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[x] Implement module export/import #2461</li>
<li>[x] Implement instance export/import #2461 </li>
<li>[x] Ensure the Rust API exposes module linking well</li>
<li>[x] Implement module linking in the C API #2472 </li>
<li>[x] Implement module linking for one of wasmtime-{go,dotnet,py} <a href="https://github.com/bytecodealliance/wasmtime-py/pull/47">https://github.com/bytecodealliance/wasmtime-py/pull/47</a></li>
<li>[ ] Implement fuzzing for module linking</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="218767461"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/218767461" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#218767461">(Dec 03 2020 at 23:04)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[x] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[x] Implement module export/import #2461</li>
<li>[x] Implement instance export/import #2461 </li>
<li>[x] Ensure the Rust API exposes module linking well</li>
<li>[x] Implement module linking in the C API #2472 </li>
<li>[x] Implement module linking for one of wasmtime-{go,dotnet,py} <a href="https://github.com/bytecodealliance/wasmtime-py/pull/47">https://github.com/bytecodealliance/wasmtime-py/pull/47</a>, <a href="https://github.com/bytecodealliance/wasmtime-go/pull/46">https://github.com/bytecodealliance/wasmtime-go/pull/46</a></li>
<li>[ ] Implement fuzzing for module linking</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="220400886"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/220400886" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#220400886">(Dec 18 2020 at 17:15)</a>:</h4>
<p>alexcrichton edited <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[x] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[x] Implement module export/import #2461</li>
<li>[x] Implement instance export/import #2461 </li>
<li>[x] Ensure the Rust API exposes module linking well</li>
<li>[x] Implement module linking in the C API #2472 </li>
<li>[x] Implement module linking for one of wasmtime-{go,dotnet,py} <a href="https://github.com/bytecodealliance/wasmtime-py/pull/47">https://github.com/bytecodealliance/wasmtime-py/pull/47</a>, <a href="https://github.com/bytecodealliance/wasmtime-go/pull/46">https://github.com/bytecodealliance/wasmtime-go/pull/46</a></li>
<li>[x] Implement fuzzing for module linking</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<a name="220400933"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/220400933" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#220400933">(Dec 18 2020 at 17:15)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/2094#issuecomment-748213004">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>Ok this is all done now so I'm going to close this. I'm still wading through fuzz bugs at this point but the bulk of it is all there!</p>
</blockquote>



<a name="220400935"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232094%20Implement%20the%20module%20linking%20propo.../near/220400935" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232094.20Implement.20the.20module.20linking.20propo.2E.2E.2E.html#220400935">(Dec 18 2020 at 17:15)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/2094">Issue #2094</a>:</p>
<blockquote>
<p>I plan to use this as a tracking issue for the module linking proposal in Wasmtime. I'll be updating this description over time as I find time and as work is done:</p>
<ul>
<li>[x] Implement in wasm-tools (validation, text, binary, etc) <a href="https://github.com/bytecodealliance/wasm-tools/pull/26">https://github.com/bytecodealliance/wasm-tools/pull/26</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/30">https://github.com/bytecodealliance/wasm-tools/pull/30</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/38">https://github.com/bytecodealliance/wasm-tools/pull/38</a>, <a href="https://github.com/bytecodealliance/wasm-tools/pull/40">https://github.com/bytecodealliance/wasm-tools/pull/40</a>, ...</li>
<li>[x] Update wasmparser used by Wasmtime to understand module linking <a href="https://github.com/bytecodealliance/wasmtime/pull/2059">https://github.com/bytecodealliance/wasmtime/pull/2059</a></li>
<li>[x] Initial groundwork for compiling many modules at once <a href="https://github.com/bytecodealliance/wasmtime/pull/2093">https://github.com/bytecodealliance/wasmtime/pull/2093</a></li>
<li>[x] Implement the alias section #2451</li>
<li>[x] Implement the instance section #2447</li>
<li>[x] Implement module export/import #2461</li>
<li>[x] Implement instance export/import #2461 </li>
<li>[x] Ensure the Rust API exposes module linking well</li>
<li>[x] Implement module linking in the C API #2472 </li>
<li>[x] Implement module linking for one of wasmtime-{go,dotnet,py} <a href="https://github.com/bytecodealliance/wasmtime-py/pull/47">https://github.com/bytecodealliance/wasmtime-py/pull/47</a>, <a href="https://github.com/bytecodealliance/wasmtime-go/pull/46">https://github.com/bytecodealliance/wasmtime-go/pull/46</a></li>
<li>[x] Implement fuzzing for module linking</li>
</ul>
<h2>Implementation Notes</h2>
<p>Some miscenalleous notes on the implementation and how this is being implemented:</p>
<ul>
<li>Per-module data structures are intended to continue to be per-module, only <code>wasmtime::Module</code> will internally have a list of modules to select from.</li>
<li>Aliases are expected to be implemented under the hood as imports. <ul>
<li>It's expected that instantiation will pass in a <code>Resolver</code> for the actual imports, as well as the "surrounding environment" which is probably "the list of all other modules that came from the original wasm file". </li>
<li>JIT code will call an aliased function from an imported instance as if it were an imported function. (similar for tables/globals/etc)</li>
</ul>
</li>
</ul>
<p>Open questions:</p>
<ul>
<li>What should <code>wasm2obj</code> do for multi-module wasm files?</li>
<li>What should the runtime representation in <code>wasmtime-jit</code> be for imported instances and imported modules?<br>
</li>
</ul>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>