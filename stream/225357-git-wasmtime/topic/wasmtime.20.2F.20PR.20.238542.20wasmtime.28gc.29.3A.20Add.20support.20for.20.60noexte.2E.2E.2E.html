<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8542 wasmtime(gc): Add support for `noexte... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html">wasmtime / PR #8542 wasmtime(gc): Add support for `noexte...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="436938238"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436938238" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436938238">(May 03 2024 at 18:33)</a>:</h4>
<p>fitzgen opened <a href="https://github.com/bytecodealliance/wasmtime/pull/8542">PR #8542</a> from <code>fitzgen:eq-and-noextern-heap-types</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>With this commit, we now support all GC heap types.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="436938241"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436938241" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436938241">(May 03 2024 at 18:33)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8542">PR #8542</a>.</p>



<a name="436938242"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436938242" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436938242">(May 03 2024 at 18:33)</a>:</h4>
<p><strong>fitzgen</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8542">PR #8542</a>.</p>



<a name="436941645"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436941645" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436941645">(May 03 2024 at 18:56)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#pullrequestreview-2038821420">PR review</a>.</p>



<a name="436941646"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436941646" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436941646">(May 03 2024 at 18:56)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#pullrequestreview-2038821420">PR review</a>.</p>



<a name="436941647"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436941647" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436941647">(May 03 2024 at 18:56)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#discussion_r1589619564">PR review comment</a>:</p>
<blockquote>
<p>Out of curiosity is the term "internal" used at the spec level as well? It makes sense to mirror "external" but I figured these'd be called "any types" or... something along those lines. Anyway I'm just musing here.</p>
</blockquote>



<a name="436941649"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436941649" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436941649">(May 03 2024 at 18:56)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#discussion_r1589621190">PR review comment</a>:</p>
<blockquote>
<p>The word "with" here makes me think that cats are replaced with animals, but I think you're intending the opposite here, so perhaps something like "s/with/for/"? </p>
</blockquote>



<a name="436941650"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436941650" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436941650">(May 03 2024 at 18:56)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#discussion_r1589623194">PR review comment</a>:</p>
<blockquote>
<p>Wait sort of unrelated question on this, in the type section you can explicitly list the supertype and there's also <code>is_final</code> which say "no one else can subtype this". With the logic you're explaining below though that's not quite right is it? An <code>is_final</code> function type can still be subtyped so long as you align the parameters correctly?</p>
<p>(totally unrelated to this PR I'm just trying to reconcile two different ways I've understood how subtyping is done in wasm)</p>
</blockquote>



<a name="436941651"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436941651" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436941651">(May 03 2024 at 18:56)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#discussion_r1589620044">PR review comment</a>:</p>
<blockquote>
<p>Ascii Art Diagrams: The Return Of The King</p>
</blockquote>



<a name="436948499"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436948499" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436948499">(May 03 2024 at 19:43)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#pullrequestreview-2038896103">PR review</a>.</p>



<a name="436948500"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436948500" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436948500">(May 03 2024 at 19:43)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#discussion_r1589663368">PR review comment</a>:</p>
<blockquote>
<p>Yeah I've seen it around, eg <a href="https://github.com/WebAssembly/gc/blob/main/proposals/gc/MVP.md#heap-types">https://github.com/WebAssembly/gc/blob/main/proposals/gc/MVP.md#heap-types</a></p>
<p>Also turning an <code>externref</code> into an <code>anyref</code> is called "internalizing"</p>
</blockquote>



<a name="436948517"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436948517" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436948517">(May 03 2024 at 19:43)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#pullrequestreview-2038896276">PR review</a>.</p>



<a name="436948518"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436948518" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436948518">(May 03 2024 at 19:43)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#discussion_r1589663469">PR review comment</a>:</p>
<blockquote>
<p><span aria-label="crown" class="emoji emoji-1f451" role="img" title="crown">:crown:</span> </p>
</blockquote>



<a name="436950876"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436950876" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436950876">(May 03 2024 at 20:00)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#pullrequestreview-2038918351">PR review</a>.</p>



<a name="436950877"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436950877" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436950877">(May 03 2024 at 20:00)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#discussion_r1589676826">PR review comment</a>:</p>
<blockquote>
<p>Yeah honestly I don't fully understand how all the dots connect in the way that the spec is written/defined, I just know what the intended behavior is.</p>
<p>FWIW, we don't supertypes and finality yet, but this code (and I suppose these docs) will need to be updated at that point.</p>
</blockquote>



<a name="436952412"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436952412" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436952412">(May 03 2024 at 20:13)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#pullrequestreview-2038934987">PR review</a>.</p>



<a name="436952415"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436952415" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436952415">(May 03 2024 at 20:13)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8542#discussion_r1589686468">PR review comment</a>:</p>
<blockquote>
<blockquote>
<p>With the logic you're explaining below though that's not quite right is it? An <code>is_final</code> function type can still be subtyped so long as you align the parameters correctly?</p>
</blockquote>
<p>And to be clear, yeah you can't subtype something (including a func type) that is declared final.</p>
</blockquote>



<a name="436955354"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238542%20wasmtime%28gc%29%3A%20Add%20support%20for%20%60noexte.../near/436955354" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238542.20wasmtime.28gc.29.3A.20Add.20support.20for.20.60noexte.2E.2E.2E.html#436955354">(May 03 2024 at 20:38)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8542">PR #8542</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>