<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #1973 wasmtime: Implement `table.fill` · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231973.20wasmtime.3A.20Implement.20.60table.2Efill.60.html">wasmtime / Issue #1973 wasmtime: Implement `table.fill`</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="203007877"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231973%20wasmtime%3A%20Implement%20%60table.fill%60/near/203007877" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231973.20wasmtime.3A.20Implement.20.60table.2Efill.60.html#203007877">(Jul 06 2020 at 16:02)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/1973#issuecomment-654326079">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/1973">Issue #1973</a>:</p>
<blockquote>
<blockquote>
<p>Could you add a fill method to the wasmtime crate too?</p>
</blockquote>
<p>I'd prefer to make a separate PR for that, and I already have a separate checkbox for bubbling these things out to the API in the <a href="#929">tracking issue</a> so it shouldn't get lost or forgotten about.</p>
<blockquote>
<p>Also how come there are two builtin functions indices but only one actual function?</p>
</blockquote>
<p>This is the same as our <code>table.grow</code> implementation: they methods have the same Rust signature and essentially do the same thing regardless which reference type they are working with but Cranelift needs to have different signatures for the different variants so that it can produce stack maps for values flowing into the <code>externref</code> variants. We don't have much to gain by making different copies of the functions because they are already out-of-line, relatively expensive calls doing expensive operations, and we can have less code (in terms of binary size and maintenance) by having one function.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>