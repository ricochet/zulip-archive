<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2755 Cranelift: remove logging of vcode... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232755.20Cranelift.3A.20remove.20logging.20of.20vcode.2E.2E.2E.html">wasmtime / Issue #2755 Cranelift: remove logging of vcode...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="231500542"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232755%20Cranelift%3A%20remove%20logging%20of%20vcode.../near/231500542" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232755.20Cranelift.3A.20remove.20logging.20of.20vcode.2E.2E.2E.html#231500542">(Mar 23 2021 at 16:29)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/2755#issuecomment-805046568">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2755">Issue #2755</a>:</p>
<blockquote>
<p>This is fantastic, thanks! I'm curious: what logging crate did you have in your environment (or was this just in wasmtime)? There was a related issue we found recently that was fixed in <a href="https://github.com/tokio-rs/tracing/issues/1247">tokio-rs/tracing#1247</a>; though if a similar issue occurs with e.g. <code>env_logger</code> then that's good to know too, and we should audit <a href="http://regalloc.rs">regalloc.rs</a> for unnecessary expression evals in tracing!</p>
</blockquote>



<a name="231522835"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232755%20Cranelift%3A%20remove%20logging%20of%20vcode.../near/231522835" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232755.20Cranelift.3A.20remove.20logging.20of.20vcode.2E.2E.2E.html#231522835">(Mar 23 2021 at 18:48)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/2755#issuecomment-805147219">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2755">Issue #2755</a>:</p>
<blockquote>
<p>For posterity we had <a href="#narrow/stream/217117-cranelift/topic/logging">more discussion on Zulip</a> about this and I believe that this is actually not necessary and I shouldn't have approved so quickly. I was under the impression that the arguments to logging functions were always evaluated but that is not the case. Further investigation shows that @bnjbvr's local logger may be behaving badly which was causing the slowdown here.</p>
</blockquote>



<a name="231526026"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232755%20Cranelift%3A%20remove%20logging%20of%20vcode.../near/231526026" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232755.20Cranelift.3A.20remove.20logging.20of.20vcode.2E.2E.2E.html#231526026">(Mar 23 2021 at 19:08)</a>:</h4>
<p>bnjbvr <a href="https://github.com/bytecodealliance/wasmtime/pull/2755#issuecomment-805160444">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2755">Issue #2755</a>:</p>
<blockquote>
<p>Yes, the <code>log::max_level</code> was set to the highest possible value by a dependency's default ctor. Sorry for the churn, will post a revert soonish.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>