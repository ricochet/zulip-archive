<html>
<head><meta charset="utf-8"><title>wasmtime / issue #5490 Update Intel x86 CPU presets to ma... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235490.20Update.20Intel.20x86.20CPU.20presets.20to.20ma.2E.2E.2E.html">wasmtime / issue #5490 Update Intel x86 CPU presets to ma...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="317996690"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235490%20Update%20Intel%20x86%20CPU%20presets%20to%20ma.../near/317996690" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235490.20Update.20Intel.20x86.20CPU.20presets.20to.20ma.2E.2E.2E.html#317996690">(Dec 26 2022 at 19:24)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/5490#issuecomment-1365397257">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5490">issue #5490</a>:</p>
<blockquote>
<p>I think this looks good. Maybe add a comment at the top of the file referencing the exact file+commit you used? The github url you linked would work.</p>
</blockquote>



<a name="318516419"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235490%20Update%20Intel%20x86%20CPU%20presets%20to%20ma.../near/318516419" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235490.20Update.20Intel.20x86.20CPU.20presets.20to.20ma.2E.2E.2E.html#318516419">(Dec 30 2022 at 02:11)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/pull/5490#issuecomment-1367685869">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5490">issue #5490</a>:</p>
<blockquote>
<p>Thank you, at a quick glance this looks great! A bunch of people are out due to holidays, but if nobody else gets to it first I intend to review this next week. Feel free to comment again if you don't hear anything by the end of next week.</p>
</blockquote>



<a name="319288603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235490%20Update%20Intel%20x86%20CPU%20presets%20to%20ma.../near/319288603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235490.20Update.20Intel.20x86.20CPU.20presets.20to.20ma.2E.2E.2E.html#319288603">(Jan 03 2023 at 22:10)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/pull/5490#issuecomment-1370276541">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5490">issue #5490</a>:</p>
<blockquote>
<p>This seems like the right direction!</p>
<p>My only quibble is that I think we should only include 64-bit CPUs (the ones that have <code>FeatureX86_64</code> in LLVM). We should be able to generate code for any x86 CPU running in 64-bit mode, and if we can't right now I think we're at least close. But I believe we'd need to do a lot more work to support 32-bit mode, so I think it makes sense to just fail if someone requests a target that can only support 32-bit mode.</p>
<p>I haven't yet checked that, for each target we already supported, the set of features is still correct. I believe you probably got it right, but the LLVM tables are hard enough to read that I think it's worth double-checking, just in case.</p>
<p>Overall, I think this is the right patch. If you could remove those 32-bit CPUs I'd appreciate it, and hopefully I'll get to double-checking the features lists soon, or talk somebody else into doing it. :grin:</p>
</blockquote>



<a name="320799683"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235490%20Update%20Intel%20x86%20CPU%20presets%20to%20ma.../near/320799683" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235490.20Update.20Intel.20x86.20CPU.20presets.20to.20ma.2E.2E.2E.html#320799683">(Jan 11 2023 at 21:20)</a>:</h4>
<p>MozarellaMan <a href="https://github.com/bytecodealliance/wasmtime/pull/5490#issuecomment-1379498425">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5490">issue #5490</a>:</p>
<blockquote>
<p>Thank you for the comments! Sorry, I was away a bit. Will have a look at addressing what you've brought up. Thanks for taking the time to double check - I didn't realise the difference regarding the feature implication</p>
</blockquote>



<a name="320800611"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235490%20Update%20Intel%20x86%20CPU%20presets%20to%20ma.../near/320800611" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235490.20Update.20Intel.20x86.20CPU.20presets.20to.20ma.2E.2E.2E.html#320800611">(Jan 11 2023 at 21:27)</a>:</h4>
<p>MozarellaMan edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/5490#issuecomment-1379498425">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5490">issue #5490</a>:</p>
<blockquote>
<p>Thank you for the comments! Sorry, I was away a bit. Will have a look at addressing what you've brought up. Thanks for taking the time to double check - I didn't realise the difference regarding the feature implication. And of course, these are for x86 presets <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span> </p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>