<html>
<head><meta charset="utf-8"><title>wasmtime / issue #6514 refactor: Replace lazy-static with... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236514.20refactor.3A.20Replace.20lazy-static.20with.2E.2E.2E.html">wasmtime / issue #6514 refactor: Replace lazy-static with...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="363278170"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236514%20refactor%3A%20Replace%20lazy-static%20with.../near/363278170" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236514.20refactor.3A.20Replace.20lazy-static.20with.2E.2E.2E.html#363278170">(Jun 03 2023 at 11:14)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/6514#issuecomment-1574869381">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6514">issue #6514</a>:</p>
<blockquote>
<p><code>OnceLock</code> has been stabilized in rust 1.70, but <code>LazyLock</code> hasn't yet.</p>
</blockquote>



<a name="363355113"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236514%20refactor%3A%20Replace%20lazy-static%20with.../near/363355113" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236514.20refactor.3A.20Replace.20lazy-static.20with.2E.2E.2E.html#363355113">(Jun 03 2023 at 17:43)</a>:</h4>
<p>howjmay <a href="https://github.com/bytecodealliance/wasmtime/pull/6514#issuecomment-1575093113">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6514">issue #6514</a>:</p>
<blockquote>
<p>@bjorn3 sorry let me open another PR for OneLock</p>
</blockquote>



<a name="364070727"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236514%20refactor%3A%20Replace%20lazy-static%20with.../near/364070727" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236514.20refactor.3A.20Replace.20lazy-static.20with.2E.2E.2E.html#364070727">(Jun 06 2023 at 17:33)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/pull/6514#issuecomment-1579186465">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6514">issue #6514</a>:</p>
<blockquote>
<p>I think this is a great idea. I always love getting rid of dependencies.</p>
<p>But this is only stabilized in 1.70, right? We're having issues building Wasmtime with 1.70 for two of our target platforms (risc-v and s390). As far as I understand, the issues we've run into will be fixed by 1.71, so I don't think we're going to try to work around the 1.70 issues.</p>
<p>As a result, I would like to wait on merging this until 1.71 is out. But at that point I am interested in merging this! Please remind me to look at this again once that release is out.</p>
</blockquote>



<a name="365017144"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236514%20refactor%3A%20Replace%20lazy-static%20with.../near/365017144" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236514.20refactor.3A.20Replace.20lazy-static.20with.2E.2E.2E.html#365017144">(Jun 10 2023 at 04:39)</a>:</h4>
<p>howjmay <a href="https://github.com/bytecodealliance/wasmtime/pull/6514#issuecomment-1585480307">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6514">issue #6514</a>:</p>
<blockquote>
<p>@jameysharp this is great! Thanks!</p>
</blockquote>



<a name="376100337"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236514%20refactor%3A%20Replace%20lazy-static%20with.../near/376100337" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236514.20refactor.3A.20Replace.20lazy-static.20with.2E.2E.2E.html#376100337">(Jul 17 2023 at 16:40)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6514#issuecomment-1638496672">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6514">issue #6514</a>:</p>
<blockquote>
<p>@howjmay if you're up for it Rust 1.71.0 is now released and we've updated CI to use it, so if you're still up for rebasing this now'd be a prime time to do so</p>
</blockquote>



<a name="376436862"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236514%20refactor%3A%20Replace%20lazy-static%20with.../near/376436862" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236514.20refactor.3A.20Replace.20lazy-static.20with.2E.2E.2E.html#376436862">(Jul 18 2023 at 18:12)</a>:</h4>
<p>howjmay <a href="https://github.com/bytecodealliance/wasmtime/pull/6514#issuecomment-1640715056">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6514">issue #6514</a>:</p>
<blockquote>
<p>Hi @alexcrichton ! I have rebased my PR to the lasted commit on <code>main</code>, but it failed for unknown reason</p>
</blockquote>



<a name="376460234"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236514%20refactor%3A%20Replace%20lazy-static%20with.../near/376460234" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236514.20refactor.3A.20Replace.20lazy-static.20with.2E.2E.2E.html#376460234">(Jul 18 2023 at 19:55)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/6514#issuecomment-1640912324">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6514">issue #6514</a>:</p>
<blockquote>
<p>It looks like you've accidentally changed a submodule here, and additionally this is using <code>#![feature(lazy_cell)]</code> which requires nightly but Wasmtime builds with stable so I don't think that will work as well unfortunately.</p>
</blockquote>



<a name="384768263"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%236514%20refactor%3A%20Replace%20lazy-static%20with.../near/384768263" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.236514.20refactor.3A.20Replace.20lazy-static.20with.2E.2E.2E.html#384768263">(Aug 14 2023 at 12:56)</a>:</h4>
<p>howjmay <a href="https://github.com/bytecodealliance/wasmtime/pull/6514#issuecomment-1677266015">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/6514">issue #6514</a>:</p>
<blockquote>
<p>Let me wait for it becoming not nightly<br>
thank you</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>