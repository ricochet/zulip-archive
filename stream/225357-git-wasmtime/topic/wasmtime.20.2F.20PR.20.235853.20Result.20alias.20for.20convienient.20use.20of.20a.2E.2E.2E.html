<html>
<head><meta charset="utf-8"><title>wasmtime / PR #5853 Result alias for convienient use of a... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html">wasmtime / PR #5853 Result alias for convienient use of a...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="329486535"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/329486535" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#329486535">(Feb 22 2023 at 17:24)</a>:</h4>
<p>rylev opened <a href="https://github.com/bytecodealliance/wasmtime/pull/5853">PR #5853</a> from <code>result-alias</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;<br>
As discussed on <a href="#narrow/stream/217126-wasmtime/topic/Assumption.20of.20anyhow">Zulip</a>, the <code>bindgen!</code> macro assumes the usage of <code>anyhow</code>. This adds a type alias to <code>wasmtime</code> for <code>std::result::Result&lt;T, anyhow::Error&gt;</code> that allows users to use <code>wasmtime::Result</code> where a <code>std::result::Result&lt;T, anyhow::Error&gt;</code> is expected. </p>
<p>In particular, this means that users of <code>bindgen!</code> can use <code>wasmtime::Result</code> when they are implementing an import function. </p>
<p>One caveat: after making this change, I realized that the <code>bindgen!</code> macro has the <code>trappable_error_type</code> option which could be used to change the error type assume. While some changes need to be made no matter what (as many of the methods generated by the macro still assume <code>anyhow</code> and don't respect that option), we might want to consider not adding this type alias and just making it clearer that users should use the <code>trappable_error_type</code> option if they are not using <code>anyhow</code>.</p>
<p>r? @alexcrichton </p>
</blockquote>



<a name="329489879"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/329489879" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#329489879">(Feb 22 2023 at 17:38)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5853#pullrequestreview-1309799395">PR review</a>.</p>



<a name="329489882"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/329489882" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#329489882">(Feb 22 2023 at 17:38)</a>:</h4>
<p>pchickey submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5853#pullrequestreview-1309799395">PR review</a>.</p>



<a name="329489883"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/329489883" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#329489883">(Feb 22 2023 at 17:38)</a>:</h4>
<p>pchickey created <a href="https://github.com/bytecodealliance/wasmtime/pull/5853#discussion_r1114705085">PR review comment</a>:</p>
<blockquote>
<p>I'd add a note saying that the type is identical to <code>anyhow::Result</code> as well</p>
</blockquote>



<a name="329493989"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/329493989" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#329493989">(Feb 22 2023 at 17:56)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5853#pullrequestreview-1309827981">PR review</a>.</p>



<a name="329493998"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/329493998" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#329493998">(Feb 22 2023 at 17:56)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5853#pullrequestreview-1309827981">PR review</a>.</p>



<a name="329494004"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/329494004" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#329494004">(Feb 22 2023 at 17:56)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/5853#discussion_r1114724616">PR review comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>/// A convenience wrapper for `Result&lt;T, anyhow::Error&gt;`.
</code></pre></div><br>
</p>
</blockquote>



<a name="329496153"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/329496153" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#329496153">(Feb 22 2023 at 18:06)</a>:</h4>
<p>rylev updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5853">PR #5853</a> from <code>result-alias</code> to <code>main</code>.</p>



<a name="329748532"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/329748532" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#329748532">(Feb 23 2023 at 15:27)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5853#pullrequestreview-1311553997">PR review</a>.</p>



<a name="329748534"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/329748534" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#329748534">(Feb 23 2023 at 15:27)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5853#pullrequestreview-1311553997">PR review</a>.</p>



<a name="329748535"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/329748535" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#329748535">(Feb 23 2023 at 15:27)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5853#discussion_r1115856216">PR review comment</a>:</p>
<blockquote>
<p>Could this be <code>pub use anyhow::{Result, Error}</code> perhaps? One key feature this is currently missing is the <code>E</code> generic defaulting to <code>anyhow::Error</code> but still allowing two generics.</p>
</blockquote>



<a name="329748536"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/329748536" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#329748536">(Feb 23 2023 at 15:27)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/5853#discussion_r1115856503">PR review comment</a>:</p>
<blockquote>
<p>e.g. from my comment above this shouldn't need to use <code>std::result::</code> ideally</p>
</blockquote>



<a name="336431828"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/336431828" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#336431828">(Feb 24 2023 at 09:33)</a>:</h4>
<p>rylev updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5853">PR #5853</a> from <code>result-alias</code> to <code>main</code>.</p>



<a name="336449557"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/336449557" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#336449557">(Feb 24 2023 at 10:50)</a>:</h4>
<p>rylev updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5853">PR #5853</a> from <code>result-alias</code> to <code>main</code>.</p>



<a name="336514880"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/336514880" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#336514880">(Feb 24 2023 at 15:37)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5853#pullrequestreview-1313754753">PR review</a>.</p>



<a name="336536524"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235853%20Result%20alias%20for%20convienient%20use%20of%20a.../near/336536524" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235853.20Result.20alias.20for.20convienient.20use.20of.20a.2E.2E.2E.html#336536524">(Feb 24 2023 at 17:02)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/5853">PR #5853</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>