<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9135 riscv64: Initial support for FP16 math · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html">wasmtime / PR #9135 riscv64: Initial support for FP16 math</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="462772394"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462772394" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462772394">(Aug 16 2024 at 12:02)</a>:</h4>
<p><strong>afonso360</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9135">PR #9135</a>.</p>



<a name="462772395"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462772395" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462772395">(Aug 16 2024 at 12:02)</a>:</h4>
<p>afonso360 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9135">PR #9135</a> from <code>afonso360:riscv-zfh</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This PR adds initial support for FP16 data types in the RISC-V backend. Most of the groundwork was done in #9084 and #9079 which allows us to support a lot of instructions without doing any work.</p>
<p>This PR only really adds encodings for <code>flh</code>/<code>fsh</code> (Load and Store instructions), otherwise all normal floating point instructions support this new format using the existing width field present in all of them.</p>
<p>I think we're only missing <code>fpromote</code>/<code>fdemote</code> and conversions instructions for complete support. This PR also does not add SIMD F16 support, which is supported but under a different ISA flag.</p>
<p>cc: @beetrees since you've also been working on FP16 support in some other backends.</p>
</blockquote>



<a name="462772396"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462772396" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462772396">(Aug 16 2024 at 12:02)</a>:</h4>
<p><strong>afonso360</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9135">PR #9135</a>.</p>



<a name="462772398"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462772398" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462772398">(Aug 16 2024 at 12:02)</a>:</h4>
<p><strong>afonso360</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9135">PR #9135</a>.</p>



<a name="462773297"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462773297" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462773297">(Aug 16 2024 at 12:08)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9135">PR #9135</a>.</p>



<a name="462790835"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462790835" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462790835">(Aug 16 2024 at 13:44)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#issuecomment-2293540379">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9135">PR #9135</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @cfallin, @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "cranelift:area:riscv64", "cranelift:meta", "isle"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>cfallin: isle</li>
<li>fitzgen: isle</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="462823717"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462823717" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462823717">(Aug 16 2024 at 16:44)</a>:</h4>
<p>beetrees submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#pullrequestreview-2242999796">PR review</a>:</p>
<blockquote>
<p>Thanks for working on this.</p>
</blockquote>



<a name="462823718"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462823718" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462823718">(Aug 16 2024 at 16:44)</a>:</h4>
<p>beetrees created <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#discussion_r1720070710">PR review comment</a>:</p>
<blockquote>
<p>Same as with <code>fli_constant_from_u64</code>.</p>
</blockquote>



<a name="462823719"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462823719" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462823719">(Aug 16 2024 at 16:44)</a>:</h4>
<p>beetrees created <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#discussion_r1720013596">PR review comment</a>:</p>
<blockquote>
<div class="codehilite" data-code-language="suggestion"><pre><span></span><code>    "qemu": "qemu-riscv64 -cpu rv64,v=true,vlen=256,vext_spec=v1.0,zfa=true,zfh=true,zba=true,zbb=true,zbc=true,zbs=true,zbkb=true,zcb=true,x-zicond=true -L /usr/riscv64-linux-gnu",
</code></pre></div>
<p>QEMU has <a href="https://www.qemu.org/docs/master/about/deprecated.html#risc-v-cpu-properties-which-start-with-capital-z-since-8-2">deprecated</a> using capital 'Z' at the start of RISC-V CPU properties.</p>
</blockquote>



<a name="462823720"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462823720" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462823720">(Aug 16 2024 at 16:44)</a>:</h4>
<p>beetrees created <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#discussion_r1720069689">PR review comment</a>:</p>
<blockquote>
<p><code>fli_constant_from_u64</code> will currently panic for <code>F16</code> as support hasn't been implemented in <code>FliConstant::maybe_from_u64</code>.</p>
</blockquote>



<a name="462823721"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462823721" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462823721">(Aug 16 2024 at 16:44)</a>:</h4>
<p>beetrees created <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#discussion_r1720047003">PR review comment</a>:</p>
<blockquote>
<p>I think <code>vfmv.f.s</code> and <code>vfmv.s.f</code> for 16-bit floats requires the <code>zvfh</code> extension. The specification isn't 100% clear about this, but it's what QEMU requires for it and makes sense extrapolating from the <code>zve*</code> extensions.</p>
<p>(As a side note that doesn't need to be fixed in this PR, similar issues exist for the other vector bitcasts, as support for the <code>zve*</code>/<code>v</code> extensions that define what EEWs are supported is never checked, just that the minimum vector register size is large enough to hold the type.)</p>
</blockquote>



<a name="462826929"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462826929" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462826929">(Aug 16 2024 at 17:06)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#pullrequestreview-2243144252">PR review</a>.</p>



<a name="462826931"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462826931" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462826931">(Aug 16 2024 at 17:06)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#discussion_r1720100105">PR review comment</a>:</p>
<blockquote>
<p>Yeah, we currently have 8.1.5 in CI and it doesn't recognize these lower case property names. </p>
</blockquote>



<a name="462827759"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462827759" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462827759">(Aug 16 2024 at 17:12)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#pullrequestreview-2243154121">PR review</a>.</p>



<a name="462827760"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462827760" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462827760">(Aug 16 2024 at 17:12)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#discussion_r1720106081">PR review comment</a>:</p>
<blockquote>
<p>Right, I was hoping to avoid dealing with that in this initial version, so I'm going to restrict <code>fli</code> to 32/64 bits and come back to it in a future PR.</p>
</blockquote>



<a name="462828309"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462828309" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462828309">(Aug 16 2024 at 17:17)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#pullrequestreview-2243161297">PR review</a>.</p>



<a name="462828310"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462828310" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462828310">(Aug 16 2024 at 17:17)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#discussion_r1720110328">PR review comment</a>:</p>
<blockquote>
<p>I found some discussion about this in <a href="https://github.com/riscv/riscv-v-spec/issues/429">https://github.com/riscv/riscv-v-spec/issues/429</a> which <br>
added the following note to the spec:</p>
<blockquote>
<p>... Vector instructions where any floating-point vector operand’s EEW is not a supported floating-point type width (which includes when FLEN &lt; SEW) are reserved.</p>
</blockquote>
<p>So we should probably also check the scalar flags for vectors.</p>
<blockquote>
<p>(As a side note that doesn't need to be fixed in this PR, similar issues exist for the other vector bitcasts, as support for the zve*/v extensions that define what EEWs are supported is never checked, just that the minimum vector register size is large enough to hold the type.)</p>
</blockquote>
<p>Yeah, I don't think we currently do any EEW checks, but with <a href="https://github.com/bytecodealliance/wasmtime/pull/9079">https://github.com/bytecodealliance/wasmtime/pull/9079</a> it should hopefully be easier now.</p>
</blockquote>



<a name="462828326"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462828326" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462828326">(Aug 16 2024 at 17:17)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#discussion_r1720110328">PR review comment</a>.</p>



<a name="462828388"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462828388" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462828388">(Aug 16 2024 at 17:17)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#discussion_r1720110328">PR review comment</a>.</p>



<a name="462831022"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462831022" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462831022">(Aug 16 2024 at 17:39)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9135">PR #9135</a>.</p>



<a name="462838131"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462838131" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462838131">(Aug 16 2024 at 18:35)</a>:</h4>
<p>beetrees submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#pullrequestreview-2243342998">PR review</a>.</p>



<a name="462838132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/462838132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#462838132">(Aug 16 2024 at 18:35)</a>:</h4>
<p>beetrees created <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#discussion_r1720189912">PR review comment</a>:</p>
<blockquote>
<p>This doesn't need to be done in this PR (and the change here is an improvement over the status quo) but vector support for <code>f32</code> and <code>f64</code> requires the <code>zve32f</code> and <code>zve64d</code> extensions respectively (these extensions then in turn depend on the scalar <code>F</code> and <code>D</code> extensions, and are depended on by the <code>V</code> extension), not just the scalar type being supported.</p>
</blockquote>



<a name="463127400"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/463127400" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#463127400">(Aug 18 2024 at 08:42)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9135">PR #9135</a>.</p>



<a name="463127540"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/463127540" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#463127540">(Aug 18 2024 at 08:44)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#discussion_r1720926380">PR review comment</a>:</p>
<blockquote>
<p>Right, we don't have great support for all of the embedded extensions, I've been mostly thinking of this backend in requiring at least the V extension. Though it shouldn't be hard to add checks for those</p>
</blockquote>



<a name="463127541"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/463127541" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#463127541">(Aug 18 2024 at 08:44)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#pullrequestreview-2244256667">PR review</a>.</p>



<a name="463127592"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/463127592" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#463127592">(Aug 18 2024 at 08:44)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#discussion_r1720926380">PR review comment</a>.</p>



<a name="463424711"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/463424711" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#463424711">(Aug 19 2024 at 14:47)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9135#pullrequestreview-2245759254">PR review</a>:</p>
<blockquote>
<p>Thanks for this!</p>
</blockquote>



<a name="463429631"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239135%20riscv64%3A%20Initial%20support%20for%20FP16%20math/near/463429631" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239135.20riscv64.3A.20Initial.20support.20for.20FP16.20math.html#463429631">(Aug 19 2024 at 15:03)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9135">PR #9135</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>