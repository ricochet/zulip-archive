<html>
<head><meta charset="utf-8"><title>wasmtime / issue #4916 Testing .. do not merge · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html">wasmtime / issue #4916 Testing .. do not merge</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="299171602"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299171602" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299171602">(Sep 16 2022 at 14:25)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1249431669">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>I think <a href="https://github.com/bytecodealliance/wasmtime/blob/27435ae398bcce74bf990b9683e5c47c3f6c5d51/.github/workflows/performance.yml#L17">this secret</a> may not be on this repo yet, do you have access to add it or would you like me to add one?</p>
</blockquote>



<a name="299236813"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299236813" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299236813">(Sep 16 2022 at 20:29)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1249783628">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>/bench_x64</p>
</blockquote>



<a name="299504018"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299504018" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299504018">(Sep 19 2022 at 05:41)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1250592131">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<blockquote>
<p>I think <a href="https://github.com/bytecodealliance/wasmtime/blob/27435ae398bcce74bf990b9683e5c47c3f6c5d51/.github/workflows/performance.yml#L17">this secret</a> may not be on this repo yet, do you have access to add it or would you like me to add one?</p>
</blockquote>
<p>@alexcrichton <br>
Forked branches don't have access to the secrets. Looks like a road block as neither clone or pushing will be authorized. </p>
<p><a href="https://github.com/actions/checkout/issues/298">https://github.com/actions/checkout/issues/298</a><br>
I am wondering if the issue_comment trigger will allow reading the secret but the problem is the PR associated with the issue_comment is not made available via the event payload .. which is why we switched to using the pull_request_review event.</p>
</blockquote>



<a name="299573730"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299573730" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299573730">(Sep 19 2022 at 14:20)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1251091762">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>I'm not sure I understand, why would we want forked branches to have access to anything? I think what's in the repo works, but <a href="https://github.com/bytecodealliance/wasmtime/pull/4919">https://github.com/bytecodealliance/wasmtime/pull/4919</a> needs to merge so the <code>main</code> branch reflects correct secret configuration.</p>
</blockquote>



<a name="299611028"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299611028" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299611028">(Sep 19 2022 at 17:27)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1251323250">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>I stumbled onto that link as the workflow/action was failing with the same error and I thought the conversation there made sense to apply here. However maybe I am wrong and that policy being referred to has nothing to do with the situation here. This is the line that I thought was relevant:</p>
<blockquote>
<p>Secrets are not passed to workflows that are triggered by a pull request from a fork. Learn more.</p>
</blockquote>
<p>It is written here: <a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets#using-encrypted-secrets-in-a-workflow">https://docs.github.com/en/actions/security-guides/encrypted-secrets#using-encrypted-secrets-in-a-workflow</a></p>
<p>Our workflow is triggered by pull_request_review and and the issue that I am seeing is that it appears that when the workflow, triggered that the secret is in fact not available. When I tested this I had to test on my own repo (forked from wasmtime), but the PR was not from a branch on a fork .. it was from a branch from the same repository that I was trying to merge as a PR into the default branch, so the secret was available. The patch is failing to run due to errors trying to access the private repo. Errors such as:</p>
<blockquote>
<p>fatal: could not read Username for '<a href="https://github.com/">https://github.com/</a>': No such device or address</p>
</blockquote>
<blockquote>
<p>Cloning into 'wasmtime-sightglass-benchmarking'...<br>
fatal: could not read Password for 'https://***@github.com': No such device or address<br>
Error: Process completed with exit code 128.</p>
</blockquote>
<blockquote>
<p>Cloning into 'wasmtime-sightglass-benchmarking'...<br>
fatal: could not read Username for '<a href="https://github.com/">https://github.com/</a>': No such device or address<br>
Error: Process completed with exit code 128.</p>
</blockquote>
<blockquote>
<p>are seen when the token/secret is empty which is what I was seeing, or I am seeing:<br>
remote: Invalid username or password.<br>
fatal: Authentication failed for '<a href="https://github.com/bytecodealliance/wasmtime-sightglass-benchmarking.git/">https://github.com/bytecodealliance/wasmtime-sightglass-benchmarking.git/</a>'</p>
</blockquote>
<p>Which error depends on the various things I tried where I've lost track of which error is from which change I tried. So, I can't remember which one, but I believe one of these is consistent with the token/secret string being empty. The bottom line is we currently can't clone or push to the performance repo due to lack of permission. The secret is either not available or not working. I need to put some test in to confirm that it is simply not available, but the line "Secrets are not passed to workflows that are triggered by a pull request from a fork." I think  makes sense as the culprit.</p>
</blockquote>



<a name="299611057"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299611057" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299611057">(Sep 19 2022 at 17:27)</a>:</h4>
<p>jlb6740 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1251323250">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>@alexcrichton I stumbled onto that link as the workflow/action was failing with the same error and I thought the conversation there made sense to apply here. However maybe I am wrong and that policy being referred to has nothing to do with the situation here. This is the line that I thought was relevant:</p>
<blockquote>
<p>Secrets are not passed to workflows that are triggered by a pull request from a fork. Learn more.</p>
</blockquote>
<p>It is written here: <a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets#using-encrypted-secrets-in-a-workflow">https://docs.github.com/en/actions/security-guides/encrypted-secrets#using-encrypted-secrets-in-a-workflow</a></p>
<p>Our workflow is triggered by pull_request_review and and the issue that I am seeing is that it appears that when the workflow, triggered that the secret is in fact not available. When I tested this I had to test on my own repo (forked from wasmtime), but the PR was not from a branch on a fork .. it was from a branch from the same repository that I was trying to merge as a PR into the default branch, so the secret was available. The patch is failing to run due to errors trying to access the private repo. Errors such as:</p>
<blockquote>
<p>fatal: could not read Username for '<a href="https://github.com/">https://github.com/</a>': No such device or address</p>
</blockquote>
<blockquote>
<p>Cloning into 'wasmtime-sightglass-benchmarking'...<br>
fatal: could not read Password for 'https://***@github.com': No such device or address<br>
Error: Process completed with exit code 128.</p>
</blockquote>
<blockquote>
<p>Cloning into 'wasmtime-sightglass-benchmarking'...<br>
fatal: could not read Username for '<a href="https://github.com/">https://github.com/</a>': No such device or address<br>
Error: Process completed with exit code 128.</p>
</blockquote>
<blockquote>
<p>are seen when the token/secret is empty which is what I was seeing, or I am seeing:<br>
remote: Invalid username or password.<br>
fatal: Authentication failed for '<a href="https://github.com/bytecodealliance/wasmtime-sightglass-benchmarking.git/">https://github.com/bytecodealliance/wasmtime-sightglass-benchmarking.git/</a>'</p>
</blockquote>
<p>Which error depends on the various things I tried where I've lost track of which error is from which change I tried. So, I can't remember which one, but I believe one of these is consistent with the token/secret string being empty. The bottom line is we currently can't clone or push to the performance repo due to lack of permission. The secret is either not available or not working. I need to put some test in to confirm that it is simply not available, but the line "Secrets are not passed to workflows that are triggered by a pull request from a fork." I think  makes sense as the culprit.</p>
</blockquote>



<a name="299615207"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299615207" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299615207">(Sep 19 2022 at 17:50)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1251347845">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>I think this "just" needs to merge <a href="https://github.com/bytecodealliance/wasmtime/pull/4919">https://github.com/bytecodealliance/wasmtime/pull/4919</a>, rebase this PR, and try again.</p>
<p>The <code>pull_request_review</code> trigger runs the workflow as-defined on <code>main</code>. As-defined on <code>main</code> the workflow is <a href="https://github.com/bytecodealliance/wasmtime/blob/562bb25360a2f366a482e15fc148bab7267a9266/.github/workflows/performance.yml#L17">accessing <code>SIGHTGLASS_BENCHMARKING_TOKEN</code></a> which is not defined by the Wasmtime repo at this time. I believe this is why it's appearing that you don't have access to secrets.</p>
<p>If my suspicions are correct then after merging #4919 this should work.</p>
</blockquote>



<a name="299617984"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299617984" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299617984">(Sep 19 2022 at 18:05)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1251366290">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<blockquote>
<p>I think this "just" needs to merge #4919, rebase this PR, and try again.</p>
<p>The <code>pull_request_review</code> trigger runs the workflow as-defined on <code>main</code>. As-defined on <code>main</code> the workflow is <a href="https://github.com/bytecodealliance/wasmtime/blob/562bb25360a2f366a482e15fc148bab7267a9266/.github/workflows/performance.yml#L17">accessing <code>SIGHTGLASS_BENCHMARKING_TOKEN</code></a> which is not defined by the Wasmtime repo at this time. I believe this is why it's appearing that you don't have access to secrets.</p>
<p>If my suspicions are correct then after merging #4919 this should work.</p>
</blockquote>
<p>I wish it were more convenient to test these things with workflows and actions before merging but merging and just trying is probably the most efficient way to confirm. At least this doesn't run unless manually triggered so it should cause disruption even if it fails again.</p>
</blockquote>



<a name="299618030"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299618030" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299618030">(Sep 19 2022 at 18:05)</a>:</h4>
<p>jlb6740 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1251366290">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<blockquote>
<p>I think this "just" needs to merge #4919, rebase this PR, and try again.</p>
<p>The <code>pull_request_review</code> trigger runs the workflow as-defined on <code>main</code>. As-defined on <code>main</code> the workflow is <a href="https://github.com/bytecodealliance/wasmtime/blob/562bb25360a2f366a482e15fc148bab7267a9266/.github/workflows/performance.yml#L17">accessing <code>SIGHTGLASS_BENCHMARKING_TOKEN</code></a> which is not defined by the Wasmtime repo at this time. I believe this is why it's appearing that you don't have access to secrets.</p>
<p>If my suspicions are correct then after merging #4919 this should work.</p>
</blockquote>
<p>I wish it were more convenient to test workflows and actions before merging but merging and just trying is probably the most efficient way to confirm. At least this doesn't run unless manually triggered so it should cause disruption even if it fails again.</p>
</blockquote>



<a name="299618124"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299618124" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299618124">(Sep 19 2022 at 18:06)</a>:</h4>
<p>jlb6740 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1251366290">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<blockquote>
<p>I think this "just" needs to merge #4919, rebase this PR, and try again.</p>
<p>The <code>pull_request_review</code> trigger runs the workflow as-defined on <code>main</code>. As-defined on <code>main</code> the workflow is <a href="https://github.com/bytecodealliance/wasmtime/blob/562bb25360a2f366a482e15fc148bab7267a9266/.github/workflows/performance.yml#L17">accessing <code>SIGHTGLASS_BENCHMARKING_TOKEN</code></a> which is not defined by the Wasmtime repo at this time. I believe this is why it's appearing that you don't have access to secrets.</p>
<p>If my suspicions are correct then after merging #4919 this should work.</p>
</blockquote>
<p>I wish it were more convenient to test workflows and actions before merging but merging and just trying is probably the most efficient way to confirm. At least this doesn't run unless manually triggered so it shouldn't cause disruption even if it fails again.</p>
</blockquote>



<a name="299639884"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299639884" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299639884">(Sep 19 2022 at 20:29)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1251515912">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>I used an equivalent token from the account that <code>PERSONAL_ACCESS_TOKEN</code> is connected to and I locally ran <code>git clone ...</code> and it worked, so I don't think it's token permissions at this point. </p>
<p>That the run is still failing seems to mean that <code>pull_request_review</code> actions don't have access to secrets. I... guess? That seems to confirm your hypothesis <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1251323250">above</a> which would unfortunately render most of this moot... To confirm that though, do you want to try sending a PR to this repo, from this repo, and see if the benchmarking works there?</p>
</blockquote>



<a name="299664325"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299664325" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299664325">(Sep 20 2022 at 00:01)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1251691029">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<blockquote>
<p>I used an equivalent token from the account that <code>PERSONAL_ACCESS_TOKEN</code> is connected to and I locally ran <code>git clone ...</code> and it worked, so I don't think it's token permissions at this point.</p>
<p>That the run is still failing seems to mean that <code>pull_request_review</code> actions don't have access to secrets. I... guess? That seems to confirm your hypothesis <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1251323250">above</a> which would unfortunately render most of this moot... To confirm that though, do you want to try sending a PR to this repo, from this repo, and see if the benchmarking works there?</p>
</blockquote>
<p>You mean to just push a branch from origin <a href="https://github.com/bytecodealliance/wasmtime.git">https://github.com/bytecodealliance/wasmtime.git</a> and try from a PR on that branch? I don't have permission to push new branches .. maybe you could try? That would confirm things. If it is confirmed there are a couple of other ideas we can maybe try.</p>
</blockquote>



<a name="299756344"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299756344" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299756344">(Sep 20 2022 at 14:05)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1252405661">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>I've opened <a href="https://github.com/bytecodealliance/wasmtime/pull/4928">https://github.com/bytecodealliance/wasmtime/pull/4928</a> to test.</p>
</blockquote>



<a name="299756798"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299756798" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299756798">(Sep 20 2022 at 14:07)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1252408437">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>While waiting for the CI runner it says:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Job</span><span class="w"> </span><span class="n">defined</span><span class="w"> </span><span class="n">at</span>: <span class="nc">bytecodealliance</span><span class="o">/</span><span class="n">wasmtime</span><span class="o">/</span><span class="p">.</span><span class="n">github</span><span class="o">/</span><span class="n">workflows</span><span class="o">/</span><span class="n">performance</span><span class="p">.</span><span class="n">yml</span><span class="o">@</span><span class="n">refs</span><span class="o">/</span><span class="n">pull</span><span class="o">/</span><span class="mi">4928</span><span class="o">/</span><span class="n">merge</span><span class="w"></span>
</code></pre></div>
<p>so if it's using the <code>performance.yml</code> from the merge commit instead of <code>main</code> then it definitely isn't going to have access to secrets. (since PRs could arbitrarily put whatever they want in workflow configuration files).</p>
<p>Other events like <code>issue_comment</code> may guarantee a run from <code>main</code> which would probably have access to secrets. Figuring out the PR context will be a bit nontrivial though.</p>
</blockquote>



<a name="299825320"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299825320" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299825320">(Sep 20 2022 at 18:48)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1252772151">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<blockquote>
<p>While waiting for the CI runner it says:</p>
<p><code>
Job defined at: bytecodealliance/wasmtime/.github/workflows/performance.yml@refs/pull/4928/merge 
</code></p>
<p>so if it's using the <code>performance.yml</code> from the merge commit instead of <code>main</code> then it definitely isn't going to have access to secrets. (since PRs could arbitrarily put whatever they want in workflow configuration files).</p>
<p>Other events like <code>issue_comment</code> may guarantee a run from <code>main</code> which would probably have access to secrets. Figuring out the PR context will be a bit nontrivial though.</p>
</blockquote>
<p>Looks like it ran (<a href="https://github.com/bytecodealliance/wasmtime/pull/4928">https://github.com/bytecodealliance/wasmtime/pull/4928</a>) .. so that confirms things. Yes, it makes sense that forks should have access to those secrets. I was thinking either issue_comment and using github-script <a href="https://github.com/actions/github-script">https://github.com/actions/github-script</a> (such as in this example <a href="https://lightrun.com/answers/actions-checkout-any-way-to-checkout-pr-from-issue_comment-event">https://lightrun.com/answers/actions-checkout-any-way-to-checkout-pr-from-issue_comment-event</a>) to figure it out, could work. Or setting up a workflow dispatch trigger may work. <a href="https://github.blog/changelog/2020-07-06-github-actions-manual-triggers-with-workflow_dispatch/">https://github.blog/changelog/2020-07-06-github-actions-manual-triggers-with-workflow_dispatch/</a> where the actor has to input their token or password into the gui and they'd need to have permission at the performance repo. I think the first option is the most desired.</p>
</blockquote>



<a name="299825382"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/299825382" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#299825382">(Sep 20 2022 at 18:48)</a>:</h4>
<p>jlb6740 edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1252772151">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<blockquote>
<p>While waiting for the CI runner it says:</p>
<p><code>
Job defined at: bytecodealliance/wasmtime/.github/workflows/performance.yml@refs/pull/4928/merge 
</code></p>
<p>so if it's using the <code>performance.yml</code> from the merge commit instead of <code>main</code> then it definitely isn't going to have access to secrets. (since PRs could arbitrarily put whatever they want in workflow configuration files).</p>
<p>Other events like <code>issue_comment</code> may guarantee a run from <code>main</code> which would probably have access to secrets. Figuring out the PR context will be a bit nontrivial though.</p>
</blockquote>
<p>Looks like it ran (<a href="https://github.com/bytecodealliance/wasmtime/pull/4928">https://github.com/bytecodealliance/wasmtime/pull/4928</a>) .. so that confirms things. Yes, it makes sense that forks should not have access to those secrets. I was thinking either issue_comment and using github-script <a href="https://github.com/actions/github-script">https://github.com/actions/github-script</a> (such as in this example <a href="https://lightrun.com/answers/actions-checkout-any-way-to-checkout-pr-from-issue_comment-event">https://lightrun.com/answers/actions-checkout-any-way-to-checkout-pr-from-issue_comment-event</a>) to figure it out, could work. Or setting up a workflow dispatch trigger may work. <a href="https://github.blog/changelog/2020-07-06-github-actions-manual-triggers-with-workflow_dispatch/">https://github.blog/changelog/2020-07-06-github-actions-manual-triggers-with-workflow_dispatch/</a> where the actor has to input their token or password into the gui and they'd need to have permission at the performance repo. I think the first option is the most desired.</p>
</blockquote>



<a name="302309449"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/302309449" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#302309449">(Oct 04 2022 at 17:18)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1267317332">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>/bench_x64</p>
</blockquote>



<a name="302310097"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/302310097" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#302310097">(Oct 04 2022 at 17:22)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1267321146">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>/bench_x64</p>
</blockquote>



<a name="302310276"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/302310276" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#302310276">(Oct 04 2022 at 17:23)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1267322320">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<blockquote>
<p>/bench_x64</p>
</blockquote>
<p>@alexcrichton <br>
This needed to be rebased in order to use the latest yml. I've done that and submitted another test trigger.</p>
</blockquote>



<a name="302310376"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/302310376" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#302310376">(Oct 04 2022 at 17:23)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1267322985">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>Lol .. and accidently submitted another in my reply.</p>
</blockquote>



<a name="302314256"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/302314256" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#302314256">(Oct 04 2022 at 17:44)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1267345931">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>Shows pct_change on x64 for the patch if merged compared to current head for main.</p>
<p>Pct_change is based on clocktick event cycles where the benchmarks are run with Sightglass. <br>
A negative pct_change means clockticks are expected to be reduced for the benchmark, <br>
for that phase, and by that factor, if the patch were merged (i.e. negative is good).</p>
<table>
<thead>
<tr>
<th>wasm</th>
<th>arch</th>
<th>phase</th>
<th>pct_change</th>
</tr>
</thead>
<tbody>
<tr>
<td>benchmarks/blake3-scalar</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.034287</td>
</tr>
<tr>
<td>benchmarks/blake3-scalar</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.011487</td>
</tr>
<tr>
<td>benchmarks/blake3-scalar</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.076832</td>
</tr>
<tr>
<td>benchmarks/blake3-simd</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.022895</td>
</tr>
<tr>
<td>benchmarks/blake3-simd</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.001343</td>
</tr>
<tr>
<td>benchmarks/blake3-simd</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.134462</td>
</tr>
<tr>
<td>benchmarks/bz2</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.051869</td>
</tr>
<tr>
<td>benchmarks/bz2</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.008466</td>
</tr>
<tr>
<td>benchmarks/bz2</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.053237</td>
</tr>
<tr>
<td>benchmarks/intgemm-simd</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.000813</td>
</tr>
<tr>
<td>benchmarks/intgemm-simd</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000096</td>
</tr>
<tr>
<td>benchmarks/intgemm-simd</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.028721</td>
</tr>
<tr>
<td>benchmarks/meshoptimizer</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.007054</td>
</tr>
<tr>
<td>benchmarks/meshoptimizer</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.001786</td>
</tr>
<tr>
<td>benchmarks/meshoptimizer</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.095982</td>
</tr>
<tr>
<td>benchmarks/noop</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.009973</td>
</tr>
<tr>
<td>benchmarks/noop</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.403306</td>
</tr>
<tr>
<td>benchmarks/noop</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.007373</td>
</tr>
<tr>
<td>benchmarks/pulldown-cmark</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.027008</td>
</tr>
<tr>
<td>benchmarks/pulldown-cmark</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.016214</td>
</tr>
<tr>
<td>benchmarks/pulldown-cmark</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.013706</td>
</tr>
<tr>
<td>benchmarks/shootout-ackermann</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.035487</td>
</tr>
<tr>
<td>benchmarks/shootout-ackermann</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.053356</td>
</tr>
<tr>
<td>benchmarks/shootout-ackermann</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.001452</td>
</tr>
<tr>
<td>benchmarks/shootout-base64</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.013889</td>
</tr>
<tr>
<td>benchmarks/shootout-base64</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000187</td>
</tr>
<tr>
<td>benchmarks/shootout-base64</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.006239</td>
</tr>
<tr>
<td>benchmarks/shootout-ctype</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.034853</td>
</tr>
<tr>
<td>benchmarks/shootout-ctype</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.001521</td>
</tr>
<tr>
<td>benchmarks/shootout-ctype</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.014821</td>
</tr>
<tr>
<td>benchmarks/shootout-ed25519</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.007662</td>
</tr>
<tr>
<td>benchmarks/shootout-ed25519</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.001859</td>
</tr>
<tr>
<td>benchmarks/shootout-ed25519</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.125123</td>
</tr>
<tr>
<td>benchmarks/shootout-fib2</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.045457</td>
</tr>
<tr>
<td>benchmarks/shootout-fib2</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000295</td>
</tr>
<tr>
<td>benchmarks/shootout-fib2</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.023764</td>
</tr>
<tr>
<td>benchmarks/shootout-gimli</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.002144</td>
</tr>
<tr>
<td>benchmarks/shootout-gimli</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.018011</td>
</tr>
<tr>
<td>benchmarks/shootout-gimli</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.042722</td>
</tr>
<tr>
<td>benchmarks/shootout-heapsort</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.019075</td>
</tr>
<tr>
<td>benchmarks/shootout-heapsort</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000060</td>
</tr>
<tr>
<td>benchmarks/shootout-heapsort</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.061197</td>
</tr>
<tr>
<td>benchmarks/shootout-keccak</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.003209</td>
</tr>
<tr>
<td>benchmarks/shootout-keccak</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.001870</td>
</tr>
<tr>
<td>benchmarks/shootout-keccak</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.020665</td>
</tr>
<tr>
<td>benchmarks/shootout-matrix</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.012603</td>
</tr>
<tr>
<td>benchmarks/shootout-matrix</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.005769</td>
</tr>
<tr>
<td>benchmarks/shootout-matrix</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.004154</td>
</tr>
<tr>
<td>benchmarks/shootout-memmove</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.020977</td>
</tr>
<tr>
<td>benchmarks/shootout-memmove</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000839</td>
</tr>
<tr>
<td>benchmarks/shootout-memmove</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.007037</td>
</tr>
<tr>
<td>benchmarks/shootout-minicsv</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.003152</td>
</tr>
<tr>
<td>benchmarks/shootout-minicsv</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.001506</td>
</tr>
<tr>
<td>benchmarks/shootout-minicsv</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.053419</td>
</tr>
<tr>
<td>benchmarks/shootout-nestedloop</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.009232</td>
</tr>
<tr>
<td>benchmarks/shootout-nestedloop</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.023647</td>
</tr>
<tr>
<td>benchmarks/shootout-nestedloop</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.015899</td>
</tr>
<tr>
<td>benchmarks/shootout-random</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.009856</td>
</tr>
<tr>
<td>benchmarks/shootout-random</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.000872</td>
</tr>
<tr>
<td>benchmarks/shootout-random</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.078992</td>
</tr>
<tr>
<td>benchmarks/shootout-ratelimit</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.023974</td>
</tr>
<tr>
<td>benchmarks/shootout-ratelimit</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.012502</td>
</tr>
<tr>
<td>benchmarks/shootout-ratelimit</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.022845</td>
</tr>
<tr>
<td>benchmarks/shootout-seqhash</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.004471</td>
</tr>
<tr>
<td>benchmarks/shootout-seqhash</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.000565</td>
</tr>
<tr>
<td>benchmarks/shootout-seqhash</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.000801</td>
</tr>
<tr>
<td>benchmarks/shootout-sieve</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.065953</td>
</tr>
<tr>
<td>benchmarks/shootout-sieve</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000828</td>
</tr>
<tr>
<td>benchmarks/shootout-sieve</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.030104</td>
</tr>
<tr>
<td>benchmarks/shootout-switch</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.011299</td>
</tr>
<tr>
<td>benchmarks/shootout-switch</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000224</td>
</tr>
<tr>
<td>benchmarks/shootout-switch</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.002284</td>
</tr>
<tr>
<td>benchmarks/shootout-xblabla20</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.034352</td>
</tr>
<tr>
<td>benchmarks/shootout-xblabla20</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.015639</td>
</tr>
<tr>
<td>benchmarks/shootout-xblabla20</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.158237</td>
</tr>
<tr>
<td>benchmarks/shootout-xchacha20</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.003882</td>
</tr>
<tr>
<td>benchmarks/shootout-xchacha20</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.010573</td>
</tr>
<tr>
<td>benchmarks/shootout-xchacha20</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.051459</td>
</tr>
<tr>
<td>benchmarks/spidermonkey</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.005556</td>
</tr>
<tr>
<td>benchmarks/spidermonkey</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.001852</td>
</tr>
<tr>
<td>benchmarks/spidermonkey</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.004107</td>
</tr>
</tbody>
</table>
</blockquote>



<a name="302314524"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/302314524" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#302314524">(Oct 04 2022 at 17:46)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1267347611">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>Oh .. guess it did work<br>
</p>
</blockquote>



<a name="302317433"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/302317433" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#302317433">(Oct 04 2022 at 18:03)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1267364701">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>Shows pct_change on x64 for the patch if merged compared to current head for main.</p>
<p>Pct_change is based on clocktick event cycles where the benchmarks are run with Sightglass. <br>
A negative pct_change means clockticks are expected to be reduced for the benchmark, <br>
for that phase, and by that factor, if the patch were merged (i.e. negative is good).</p>
<table>
<thead>
<tr>
<th>wasm</th>
<th>arch</th>
<th>phase</th>
<th>pct_change</th>
</tr>
</thead>
<tbody>
<tr>
<td>benchmarks/blake3-scalar</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.030310</td>
</tr>
<tr>
<td>benchmarks/blake3-scalar</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.023858</td>
</tr>
<tr>
<td>benchmarks/blake3-scalar</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.032645</td>
</tr>
<tr>
<td>benchmarks/blake3-simd</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.251867</td>
</tr>
<tr>
<td>benchmarks/blake3-simd</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.111039</td>
</tr>
<tr>
<td>benchmarks/blake3-simd</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.096104</td>
</tr>
<tr>
<td>benchmarks/bz2</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.044554</td>
</tr>
<tr>
<td>benchmarks/bz2</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.001013</td>
</tr>
<tr>
<td>benchmarks/bz2</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.058163</td>
</tr>
<tr>
<td>benchmarks/intgemm-simd</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.007175</td>
</tr>
<tr>
<td>benchmarks/intgemm-simd</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.001357</td>
</tr>
<tr>
<td>benchmarks/intgemm-simd</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.005574</td>
</tr>
<tr>
<td>benchmarks/meshoptimizer</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.004291</td>
</tr>
<tr>
<td>benchmarks/meshoptimizer</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.000236</td>
</tr>
<tr>
<td>benchmarks/meshoptimizer</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.076082</td>
</tr>
<tr>
<td>benchmarks/noop</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.051348</td>
</tr>
<tr>
<td>benchmarks/noop</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.074605</td>
</tr>
<tr>
<td>benchmarks/noop</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.104645</td>
</tr>
<tr>
<td>benchmarks/pulldown-cmark</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.001547</td>
</tr>
<tr>
<td>benchmarks/pulldown-cmark</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.002676</td>
</tr>
<tr>
<td>benchmarks/pulldown-cmark</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.016475</td>
</tr>
<tr>
<td>benchmarks/shootout-ackermann</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.077409</td>
</tr>
<tr>
<td>benchmarks/shootout-ackermann</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.164519</td>
</tr>
<tr>
<td>benchmarks/shootout-ackermann</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.038244</td>
</tr>
<tr>
<td>benchmarks/shootout-base64</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.018951</td>
</tr>
<tr>
<td>benchmarks/shootout-base64</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.003764</td>
</tr>
<tr>
<td>benchmarks/shootout-base64</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.059158</td>
</tr>
<tr>
<td>benchmarks/shootout-ctype</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.044444</td>
</tr>
<tr>
<td>benchmarks/shootout-ctype</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.001686</td>
</tr>
<tr>
<td>benchmarks/shootout-ctype</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.019625</td>
</tr>
<tr>
<td>benchmarks/shootout-ed25519</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.007561</td>
</tr>
<tr>
<td>benchmarks/shootout-ed25519</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.000823</td>
</tr>
<tr>
<td>benchmarks/shootout-ed25519</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.032482</td>
</tr>
<tr>
<td>benchmarks/shootout-fib2</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.004821</td>
</tr>
<tr>
<td>benchmarks/shootout-fib2</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.001347</td>
</tr>
<tr>
<td>benchmarks/shootout-fib2</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.001049</td>
</tr>
<tr>
<td>benchmarks/shootout-gimli</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.063835</td>
</tr>
<tr>
<td>benchmarks/shootout-gimli</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.004247</td>
</tr>
<tr>
<td>benchmarks/shootout-gimli</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.082987</td>
</tr>
<tr>
<td>benchmarks/shootout-heapsort</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.032375</td>
</tr>
<tr>
<td>benchmarks/shootout-heapsort</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.000662</td>
</tr>
<tr>
<td>benchmarks/shootout-heapsort</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.028302</td>
</tr>
<tr>
<td>benchmarks/shootout-keccak</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.012330</td>
</tr>
<tr>
<td>benchmarks/shootout-keccak</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.003932</td>
</tr>
<tr>
<td>benchmarks/shootout-keccak</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.046790</td>
</tr>
<tr>
<td>benchmarks/shootout-matrix</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.029146</td>
</tr>
<tr>
<td>benchmarks/shootout-matrix</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.001596</td>
</tr>
<tr>
<td>benchmarks/shootout-matrix</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.022471</td>
</tr>
<tr>
<td>benchmarks/shootout-memmove</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.004290</td>
</tr>
<tr>
<td>benchmarks/shootout-memmove</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.000002</td>
</tr>
<tr>
<td>benchmarks/shootout-memmove</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.006008</td>
</tr>
<tr>
<td>benchmarks/shootout-minicsv</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.096753</td>
</tr>
<tr>
<td>benchmarks/shootout-minicsv</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.000926</td>
</tr>
<tr>
<td>benchmarks/shootout-minicsv</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.026605</td>
</tr>
<tr>
<td>benchmarks/shootout-nestedloop</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.008242</td>
</tr>
<tr>
<td>benchmarks/shootout-nestedloop</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.017152</td>
</tr>
<tr>
<td>benchmarks/shootout-nestedloop</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.008496</td>
</tr>
<tr>
<td>benchmarks/shootout-random</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.017752</td>
</tr>
<tr>
<td>benchmarks/shootout-random</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.000730</td>
</tr>
<tr>
<td>benchmarks/shootout-random</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.012865</td>
</tr>
<tr>
<td>benchmarks/shootout-ratelimit</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.002059</td>
</tr>
<tr>
<td>benchmarks/shootout-ratelimit</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.002869</td>
</tr>
<tr>
<td>benchmarks/shootout-ratelimit</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.019441</td>
</tr>
<tr>
<td>benchmarks/shootout-seqhash</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.030591</td>
</tr>
<tr>
<td>benchmarks/shootout-seqhash</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.002861</td>
</tr>
<tr>
<td>benchmarks/shootout-seqhash</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.002807</td>
</tr>
<tr>
<td>benchmarks/shootout-sieve</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.001555</td>
</tr>
<tr>
<td>benchmarks/shootout-sieve</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.001753</td>
</tr>
<tr>
<td>benchmarks/shootout-sieve</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.049312</td>
</tr>
<tr>
<td>benchmarks/shootout-switch</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.030542</td>
</tr>
<tr>
<td>benchmarks/shootout-switch</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.003779</td>
</tr>
<tr>
<td>benchmarks/shootout-switch</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.046580</td>
</tr>
<tr>
<td>benchmarks/shootout-xblabla20</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.026218</td>
</tr>
<tr>
<td>benchmarks/shootout-xblabla20</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.001472</td>
</tr>
<tr>
<td>benchmarks/shootout-xblabla20</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.101582</td>
</tr>
<tr>
<td>benchmarks/shootout-xchacha20</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.017953</td>
</tr>
<tr>
<td>benchmarks/shootout-xchacha20</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.014455</td>
</tr>
<tr>
<td>benchmarks/shootout-xchacha20</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.045538</td>
</tr>
<tr>
<td>benchmarks/spidermonkey</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.025875</td>
</tr>
<tr>
<td>benchmarks/spidermonkey</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.000559</td>
</tr>
<tr>
<td>benchmarks/spidermonkey</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.007227</td>
</tr>
</tbody>
</table>
</blockquote>



<a name="302318655"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/302318655" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#302318655">(Oct 04 2022 at 18:09)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1267371779">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>Shows pct_change on x64 for the patch if merged compared to current head for main.</p>
<p>Pct_change is based on clocktick event cycles where the benchmarks are run with Sightglass. <br>
A negative pct_change means clockticks are expected to be reduced for the benchmark, <br>
for that phase, and by that factor, if the patch were merged (i.e. negative is good).</p>
<table>
<thead>
<tr>
<th>wasm</th>
<th>arch</th>
<th>phase</th>
<th>pct_change</th>
</tr>
</thead>
<tbody>
<tr>
<td>benchmarks/blake3-scalar</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.050030</td>
</tr>
<tr>
<td>benchmarks/blake3-scalar</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.010691</td>
</tr>
<tr>
<td>benchmarks/blake3-scalar</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.113561</td>
</tr>
<tr>
<td>benchmarks/blake3-simd</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.018848</td>
</tr>
<tr>
<td>benchmarks/blake3-simd</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.024774</td>
</tr>
<tr>
<td>benchmarks/blake3-simd</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.038650</td>
</tr>
<tr>
<td>benchmarks/bz2</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.063704</td>
</tr>
<tr>
<td>benchmarks/bz2</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.021275</td>
</tr>
<tr>
<td>benchmarks/bz2</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.001148</td>
</tr>
<tr>
<td>benchmarks/intgemm-simd</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.019306</td>
</tr>
<tr>
<td>benchmarks/intgemm-simd</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.006286</td>
</tr>
<tr>
<td>benchmarks/intgemm-simd</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.066674</td>
</tr>
<tr>
<td>benchmarks/meshoptimizer</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.026582</td>
</tr>
<tr>
<td>benchmarks/meshoptimizer</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000714</td>
</tr>
<tr>
<td>benchmarks/meshoptimizer</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.116023</td>
</tr>
<tr>
<td>benchmarks/noop</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.042627</td>
</tr>
<tr>
<td>benchmarks/noop</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.083770</td>
</tr>
<tr>
<td>benchmarks/noop</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.012709</td>
</tr>
<tr>
<td>benchmarks/pulldown-cmark</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.066239</td>
</tr>
<tr>
<td>benchmarks/pulldown-cmark</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.005557</td>
</tr>
<tr>
<td>benchmarks/pulldown-cmark</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.011457</td>
</tr>
<tr>
<td>benchmarks/shootout-ackermann</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.041132</td>
</tr>
<tr>
<td>benchmarks/shootout-ackermann</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.003190</td>
</tr>
<tr>
<td>benchmarks/shootout-ackermann</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.049969</td>
</tr>
<tr>
<td>benchmarks/shootout-base64</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.013453</td>
</tr>
<tr>
<td>benchmarks/shootout-base64</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.003252</td>
</tr>
<tr>
<td>benchmarks/shootout-base64</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.022696</td>
</tr>
<tr>
<td>benchmarks/shootout-ctype</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.037390</td>
</tr>
<tr>
<td>benchmarks/shootout-ctype</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000918</td>
</tr>
<tr>
<td>benchmarks/shootout-ctype</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.027234</td>
</tr>
<tr>
<td>benchmarks/shootout-ed25519</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.012902</td>
</tr>
<tr>
<td>benchmarks/shootout-ed25519</td>
<td>x86_64</td>
<td>Execution</td>
<td>-0.000566</td>
</tr>
<tr>
<td>benchmarks/shootout-ed25519</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.003339</td>
</tr>
<tr>
<td>benchmarks/shootout-fib2</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.021018</td>
</tr>
<tr>
<td>benchmarks/shootout-fib2</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000560</td>
</tr>
<tr>
<td>benchmarks/shootout-fib2</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.012342</td>
</tr>
<tr>
<td>benchmarks/shootout-gimli</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.049840</td>
</tr>
<tr>
<td>benchmarks/shootout-gimli</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.021725</td>
</tr>
<tr>
<td>benchmarks/shootout-gimli</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.049550</td>
</tr>
<tr>
<td>benchmarks/shootout-heapsort</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.008319</td>
</tr>
<tr>
<td>benchmarks/shootout-heapsort</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.001982</td>
</tr>
<tr>
<td>benchmarks/shootout-heapsort</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.043471</td>
</tr>
<tr>
<td>benchmarks/shootout-keccak</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.011576</td>
</tr>
<tr>
<td>benchmarks/shootout-keccak</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.008654</td>
</tr>
<tr>
<td>benchmarks/shootout-keccak</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.003275</td>
</tr>
<tr>
<td>benchmarks/shootout-matrix</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.062111</td>
</tr>
<tr>
<td>benchmarks/shootout-matrix</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.011016</td>
</tr>
<tr>
<td>benchmarks/shootout-matrix</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.012293</td>
</tr>
<tr>
<td>benchmarks/shootout-memmove</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.045281</td>
</tr>
<tr>
<td>benchmarks/shootout-memmove</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.001623</td>
</tr>
<tr>
<td>benchmarks/shootout-memmove</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.027841</td>
</tr>
<tr>
<td>benchmarks/shootout-minicsv</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.029276</td>
</tr>
<tr>
<td>benchmarks/shootout-minicsv</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000702</td>
</tr>
<tr>
<td>benchmarks/shootout-minicsv</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.020804</td>
</tr>
<tr>
<td>benchmarks/shootout-nestedloop</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.016071</td>
</tr>
<tr>
<td>benchmarks/shootout-nestedloop</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.063317</td>
</tr>
<tr>
<td>benchmarks/shootout-nestedloop</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.055417</td>
</tr>
<tr>
<td>benchmarks/shootout-random</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.027010</td>
</tr>
<tr>
<td>benchmarks/shootout-random</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.002454</td>
</tr>
<tr>
<td>benchmarks/shootout-random</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.036361</td>
</tr>
<tr>
<td>benchmarks/shootout-ratelimit</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.039516</td>
</tr>
<tr>
<td>benchmarks/shootout-ratelimit</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.006016</td>
</tr>
<tr>
<td>benchmarks/shootout-ratelimit</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.001117</td>
</tr>
<tr>
<td>benchmarks/shootout-seqhash</td>
<td>x86_64</td>
<td>Compilation</td>
<td>0.009882</td>
</tr>
<tr>
<td>benchmarks/shootout-seqhash</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000350</td>
</tr>
<tr>
<td>benchmarks/shootout-seqhash</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.009995</td>
</tr>
<tr>
<td>benchmarks/shootout-sieve</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.005880</td>
</tr>
<tr>
<td>benchmarks/shootout-sieve</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.001220</td>
</tr>
<tr>
<td>benchmarks/shootout-sieve</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>0.033825</td>
</tr>
<tr>
<td>benchmarks/shootout-switch</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.067979</td>
</tr>
<tr>
<td>benchmarks/shootout-switch</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.002203</td>
</tr>
<tr>
<td>benchmarks/shootout-switch</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.064441</td>
</tr>
<tr>
<td>benchmarks/shootout-xblabla20</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.049738</td>
</tr>
<tr>
<td>benchmarks/shootout-xblabla20</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.000380</td>
</tr>
<tr>
<td>benchmarks/shootout-xblabla20</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.002152</td>
</tr>
<tr>
<td>benchmarks/shootout-xchacha20</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.005208</td>
</tr>
<tr>
<td>benchmarks/shootout-xchacha20</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.005069</td>
</tr>
<tr>
<td>benchmarks/shootout-xchacha20</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.004924</td>
</tr>
<tr>
<td>benchmarks/spidermonkey</td>
<td>x86_64</td>
<td>Compilation</td>
<td>-0.021401</td>
</tr>
<tr>
<td>benchmarks/spidermonkey</td>
<td>x86_64</td>
<td>Execution</td>
<td>0.002470</td>
</tr>
<tr>
<td>benchmarks/spidermonkey</td>
<td>x86_64</td>
<td>Instantiation</td>
<td>-0.004928</td>
</tr>
</tbody>
</table>
</blockquote>



<a name="302339750"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/302339750" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#302339750">(Oct 04 2022 at 20:18)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1267529717">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>@jlb6740 a question for you: does <code>pct_change</code> indicate a percent, as the column name implies, so e.g. <code>0.002470</code> means 0.00247% (i.e., 24.7 * 10^-6)? Or is it a raw ratio, so 0.247%?</p>
<p>A few other comments on report formatting:</p>
<ul>
<li>It would be nice to sort overall by phase, so we have all the instantiation numbers together, and compilation together, and execution together. Generally if I'm testing a PR that e.g. updates the way instantiation is done, I want to look just at those numbers; I don't want to have to visually skip to every third row.</li>
<li>Could we have a mean (geomean probably, rather than arithmetic) for each category?</li>
</ul>
<p>These would make the report a little easier to grok at a glance than the sea of numbers we currently have!</p>
</blockquote>



<a name="302343562"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/302343562" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#302343562">(Oct 04 2022 at 20:42)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1267553818">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<blockquote>
<p>@jlb6740 a question for you: does <code>pct_change</code> indicate a percent, as the column name implies, so e.g. <code>0.002470</code> means 0.00247% (i.e., 24.7 * 10^-6)? Or is it a raw ratio, so 0.247%?<br>
</p>
</blockquote>
<p>Pct_change is being calculated by pandas: <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.pct_change.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.pct_change.html</a><br>
See the examples there. Pct can be confusing because you don't know if you are supposed to factor in the 100x or not but here pandas is printing out what is really a factor. Maybe we should call it factor change to avoid confusion even though they call it pct_change.</p>
<ul>
<li>Note, I cut down on the number of runs so there might be more variability here that we can reduce at the expense of time to execute. Currently we have:</li>
</ul>
<blockquote>
<div class="codehilite"><pre><span></span><code>      --processes 1 \
      --iterations-per-process 2 \
</code></pre></div>

</blockquote>
<p>while the defaults are 10 process and 10 iterations per process. </p>
<blockquote>
<p>A few other comments on report formatting:</p>
<ul>
<li>It would be nice to sort overall by phase, so we have all the instantiation numbers together, and compilation together, and execution together. Generally if I'm testing a PR that e.g. updates the way instantiation is done, I want to look just at those numbers; I don't want to have to visually skip to every third row.</li>
</ul>
</blockquote>
<p>Yeah, I agree. .. will be easy to do. </p>
<blockquote>
<ul>
<li>Could we have a mean (geomean probably, rather than arithmetic) for each category?</li>
</ul>
<p>These would make the report a little easier to grok at a glance than the sea of numbers we currently have!</p>
</blockquote>
<p>Yes .. that is a good idea. I have some concepts in an internal benchmark that we have called wasmbench that is based on sightglass. It does things like calculate geomean as you describe and a ratio to native performance to produce a final score. Eventually I'd like to donate these to sightglass potentially a separate benchmark to sightglass but I am digressing .. yes I agree we should apply geomeans here! </p>
</blockquote>



<a name="302344465"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/302344465" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#302344465">(Oct 04 2022 at 20:48)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1267560539">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<blockquote>
<p>Maybe we should call it factor change to avoid confusion even though they call it pct_change.</p>
</blockquote>
<p>Yes, I'd favor that; or multiply all the numbers by 100 so it truly is a percentage. I would argue that calling this value as-is <code>pct_change</code> is a bug: percent literally means "per hundred" and so if it's missing that factor of a hundred, it is incorrect.</p>
<p>Given that, I'm now seeing these numbers in a new light. I see a bunch of variation on the order of 3-5%... for a PR with no changes. That's a very concerning level of variability: if our PRs sometimes make optimizations with effects on the order of 1% or less (but stable, measurable effects), this variability will simply swamp any such change and so will make the measurements unusable.</p>
<p>In order to trust these numbers to evaluate changes, I'd want to see a much lower noise floor -- something like +/- 0.1% at most. Or else we should filter any results out with a delta less than our known variability (i.e., not statistically significant). Could we try turning up the iteration count and see how that affects things?</p>
</blockquote>



<a name="302346140"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/302346140" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#302346140">(Oct 04 2022 at 20:59)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1267572563">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>Yes, agreed we should do both .. crank up processes and iterations and print geo means.</p>
</blockquote>



<a name="304380941"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/304380941" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#304380941">(Oct 17 2022 at 05:12)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1280297087">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p>|Test|Test|<br>
|1|1|</p>
</blockquote>



<a name="304380958"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/304380958" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#304380958">(Oct 17 2022 at 05:13)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1280297319">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<table>
<thead>
<tr>
<th>Test</th>
<th>Test</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
</blockquote>



<a name="304381045"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/304381045" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#304381045">(Oct 17 2022 at 05:14)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1280298011">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<table>
<thead>
<tr>
<th>Test</th>
<th>Test</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Test2</th>
<th>Test2</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>1</td>
</tr>
</tbody>
</table>
</blockquote>



<a name="304525575"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234916%20Testing%20..%20do%20not%20merge/near/304525575" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234916.20Testing.20.2E.2E.20do.20not.20merge.html#304525575">(Oct 17 2022 at 18:10)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/pull/4916#issuecomment-1281276094">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4916">issue #4916</a>:</p>
<blockquote>
<p><span aria-label="up" class="emoji emoji-2b06" role="img" title="up">:up:</span><span aria-label="down" class="emoji emoji-2b07" role="img" title="down">:down:</span></p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>