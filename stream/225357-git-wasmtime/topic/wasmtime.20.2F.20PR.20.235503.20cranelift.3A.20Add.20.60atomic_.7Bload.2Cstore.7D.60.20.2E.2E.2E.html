<html>
<head><meta charset="utf-8"><title>wasmtime / PR #5503 cranelift: Add `atomic_{load,store}` ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html">wasmtime / PR #5503 cranelift: Add `atomic_{load,store}` ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="318750580"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/318750580" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#318750580">(Dec 31 2022 at 15:06)</a>:</h4>
<p>afonso360 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/5503">PR #5503</a> from <code>interp-atomics</code> to <code>main</code>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span> Hey,</p>
<p>This PR adds the <code>atomic_{load,store}</code> and <code>fence</code> instructions to the interpreter. I'm not 100% sure if i got the atomicity guarantees right.</p>
<p>It also adds these instructions to fuzzgen. It's done about 500k iterations on both AArch64 and x86.</p>
</blockquote>



<a name="318750870"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/318750870" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#318750870">(Dec 31 2022 at 15:08)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5503">PR #5503</a> from <code>interp-atomics</code> to <code>main</code>.</p>



<a name="318762599"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/318762599" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#318762599">(Dec 31 2022 at 16:56)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1059663192">PR review comment</a>:</p>
<blockquote>
<p>I don't think you need any fences in the interpreter. The interpreter is running on a single OS thread, so it is by definition sequentially consistent already. If support for running clif ir that uses multiple threads is added, I would expect it to be done by keeping the interpreter running on a single OS thread, but interleave clif instructions from multiple interpreted threads on this single OS thread.</p>
</blockquote>



<a name="318762600"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/318762600" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#318762600">(Dec 31 2022 at 16:56)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1233365494">PR review</a>.</p>



<a name="318970004"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/318970004" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#318970004">(Jan 02 2023 at 10:56)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1059961854">PR review comment</a>:</p>
<blockquote>
<p>Probably not, especially since we always do our own address translation there is no way to share an address anywhere outside the interpreter.</p>
<p>However I'd like to eventually add a mode where we allow the interpreter to run without address translation and interact with real addresses. Maybe we should only add the fences if/when we develop that capability?</p>
</blockquote>



<a name="318970005"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/318970005" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#318970005">(Jan 02 2023 at 10:56)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1233674224">PR review</a>.</p>



<a name="318984739"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/318984739" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#318984739">(Jan 02 2023 at 12:37)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1233739453">PR review</a>.</p>



<a name="318984740"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/318984740" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#318984740">(Jan 02 2023 at 12:37)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1060008095">PR review comment</a>:</p>
<blockquote>
<blockquote>
<p>Maybe we should only add the fences if/when we develop that capability?</p>
</blockquote>
<p>I think so.</p>
</blockquote>



<a name="319257155"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319257155" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319257155">(Jan 03 2023 at 18:39)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1234874910">PR review</a>.</p>



<a name="319257156"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319257156" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319257156">(Jan 03 2023 at 18:39)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1234874910">PR review</a>.</p>



<a name="319257158"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319257158" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319257158">(Jan 03 2023 at 18:39)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1060840962">PR review comment</a>:</p>
<blockquote>
<p>Let's replace this with <code>match opcode.format()</code>. Then the cases below are, in order: <code>InstructionFormat::LoadNoOffset</code>, <code>InstructionFormat::StoreNoOffset</code>, <code>InstructionFormat::Store</code>, <code>InstructionFormat::Load</code>. Any other format should panic with <code>unimplemented!()</code>. That captures what we actually wanted to know about the opcode: we don't care whether it's atomic or whether it's a store, we just need to know how to construct the right <code>InstructionData</code>.</p>
<p>This also highlights that the <code>offset</code> value returned from <code>generate_load_store_address</code> is unused for these atomic ops. I expect to get slightly better fuzzing results if we avoid generating a random number that we then ignore. How about returning a <code>max_offset</code> instead and only doing the <code>int_in_range</code> call in the <code>Store</code> and <code>Load</code> format cases?</p>
</blockquote>



<a name="319257160"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319257160" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319257160">(Jan 03 2023 at 18:39)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1060851252">PR review comment</a>:</p>
<blockquote>
<p>If we're setting the <code>aligned</code> flag on the store, should we set it on the load too?</p>
</blockquote>



<a name="319257161"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319257161" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319257161">(Jan 03 2023 at 18:39)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1060852846">PR review comment</a>:</p>
<blockquote>
<p>What would you think of returning the result of <code>atomic_load</code> (<code>v2</code>) directly and letting the test harness check equality, instead of relying on <code>icmp</code> to generate correct code?</p>
</blockquote>



<a name="319257162"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319257162" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319257162">(Jan 03 2023 at 18:39)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1060835791">PR review comment</a>:</p>
<blockquote>
<p>It confused me that this parameter is called <code>max_offset</code>, because the function returns a value named <code>offset</code>, but this parameter is not a maximum for that value.</p>
<p>How about an <code>aligned: bool</code> parameter instead? The caller can decide whether to set the <code>aligned</code> memflag, and inform this function of that choice; that would be good to test anyway. On aarch64 we'd force it to set that flag on atomic ops until #5483 gets fixed.</p>
<p>The effect of this parameter would be something like this:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">            </span><span class="c1">// stack_slot_with_size guarantees that slot_size &gt;= min_size</span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">max_offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">slot_size</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">min_size</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="kd">let</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">aligned</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="bp">self</span><span class="p">.</span><span class="n">u</span><span class="p">.</span><span class="n">int_in_range</span><span class="p">(</span><span class="mi">0</span><span class="o">..=</span><span class="n">max_offset</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">min_size</span><span class="p">)</span><span class="o">?</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">min_size</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="bp">self</span><span class="p">.</span><span class="n">u</span><span class="p">.</span><span class="n">int_in_range</span><span class="p">(</span><span class="mi">0</span><span class="o">..=</span><span class="n">max_offset</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="p">};</span><span class="w"></span>
</code></pre></div>
<p>I'm assuming that stack slots are always sufficiently aligned, although I don't actually know if that's true.</p>
</blockquote>



<a name="319257163"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319257163" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319257163">(Jan 03 2023 at 18:39)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1060849470">PR review comment</a>:</p>
<blockquote>
<p>I guess the only thing we're checking is that compiling and executing a <code>fence</code> doesn't crash, which is good to check even if it isn't very exciting. Given that, do we gain much by returning a value?</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>; Check that the fence instruction doesn't crash. Testing anything else would
; require multiple threads, which requires a runtime like Wasmtime.

function %fence() {
block0:
    fence
    return
}
; run: %fence()
</code></pre></div><br>
</p>
</blockquote>



<a name="319257164"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319257164" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319257164">(Jan 03 2023 at 18:39)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1060843595">PR review comment</a>:</p>
<blockquote>
<p>Pre-existing, but I believe this comment is wrong at this point: there are always <code>min_size</code> valid bytes at the base+offset returned by this function. If I remember correctly the comment was because we used to sometimes deliberately generate invalid <code>heap_addr</code> instructions, right?</p>
</blockquote>



<a name="319257166"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319257166" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319257166">(Jan 03 2023 at 18:39)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1060796368">PR review comment</a>:</p>
<blockquote>
<p>I agree, let's leave multi-thread memory consistency out of the interpreter. I think it's worth a comment in each of those places noting that they aren't actually thread-safe though.</p>
</blockquote>



<a name="319257167"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319257167" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319257167">(Jan 03 2023 at 18:39)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1060853229">PR review comment</a>:</p>
<blockquote>
<p>There aren't any i128 tests here. Is the <code>enable_llvm_abi_extensions</code> flag necessary?</p>
</blockquote>



<a name="319283327"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319283327" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319283327">(Jan 03 2023 at 21:30)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1235129657">PR review</a>.</p>



<a name="319283328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319283328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319283328">(Jan 03 2023 at 21:30)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1060970866">PR review comment</a>:</p>
<blockquote>
<p>Unfortunately we don't yet support having a run test that just <em>runs</em> we always need a comparison operator.<br>
</p>
</blockquote>



<a name="319285300"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319285300" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319285300">(Jan 03 2023 at 21:47)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1060981336">PR review comment</a>:</p>
<blockquote>
<p>Ah, I see. Okay, I suggest taking my version of the comment, but the test itself is fine then.</p>
</blockquote>



<a name="319285301"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319285301" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319285301">(Jan 03 2023 at 21:47)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1235144718">PR review</a>.</p>



<a name="319982675"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319982675" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319982675">(Jan 07 2023 at 16:38)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1239686127">PR review</a>.</p>



<a name="319982680"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/319982680" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#319982680">(Jan 07 2023 at 16:38)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1064022803">PR review comment</a>:</p>
<blockquote>
<p>Yeah I think so, but we probably don't do that anymore. I'm going to remove it.</p>
</blockquote>



<a name="320056899"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320056899" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320056899">(Jan 08 2023 at 10:08)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1064022803">PR review comment</a>.</p>



<a name="320057919"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320057919" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320057919">(Jan 08 2023 at 10:20)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1064117600">PR review comment</a>:</p>
<blockquote>
<p>Those are great suggestions, Thanks!</p>
</blockquote>



<a name="320057921"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320057921" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320057921">(Jan 08 2023 at 10:20)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1239760239">PR review</a>.</p>



<a name="320057947"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320057947" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320057947">(Jan 08 2023 at 10:21)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1239760274">PR review</a>.</p>



<a name="320057948"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320057948" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320057948">(Jan 08 2023 at 10:21)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1064117626">PR review comment</a>:</p>
<blockquote>
<p>Yeah, I wasn't a great fan of the <code>max_offset</code> thing, but wasn't able to think of anything else at the time. But with the aligned flag and returning the max offset it turned out way better! Thanks! It's also really nice that we can neatly fit in some MemFlags testing as well.</p>
<p>I've had to change this so that we always align on 8 byte boundaries instead of <code>min_size</code> since it would cause unaligned addresses with <code>i8</code> and <code>i16</code>.</p>
<blockquote>
<p>I'm assuming that stack slots are always sufficiently aligned, although I don't actually know if that's true.</p>
</blockquote>
<p>At least for AArch64 we are <a href="https://github.com/bytecodealliance/wasmtime/blob/44913825b5e93d40ea4ca4fb3d03ab3aa15e1714/cranelift/codegen/src/isa/aarch64/abi.rs#L111-L115">aligning them at 16 byte boundaries</a>, but I'm not sure what the requirements are for other arches. </p>
</blockquote>



<a name="320057977"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320057977" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320057977">(Jan 08 2023 at 10:21)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5503">PR #5503</a> from <code>interp-atomics</code> to <code>main</code>.</p>



<a name="320362330"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320362330" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320362330">(Jan 10 2023 at 01:17)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1241176157">PR review</a>.</p>



<a name="320362331"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320362331" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320362331">(Jan 10 2023 at 01:17)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1241176157">PR review</a>.</p>



<a name="320362332"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320362332" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320362332">(Jan 10 2023 at 01:17)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1065087398">PR review comment</a>:</p>
<blockquote>
<p>With the <code>max_offset</code> parameter removed, the comment should go away too. Also there's a minor typo.</p>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>    /// `aligned`: When passed as true, the resulting address is guaranteed to be aligned
    /// on an 8 byte boundary.
</code></pre></div><br>
</p>
</blockquote>



<a name="320364235"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320364235" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320364235">(Jan 10 2023 at 01:39)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1065258666">PR review comment</a>:</p>
<blockquote>
<blockquote>
<p>I've had to change this so that we always align on 8 byte boundaries instead of <code>min_size</code> since it would cause unaligned addresses with <code>i8</code> and <code>i16</code>.</p>
</blockquote>
<p>Oh, why do smaller values need more than their natural alignment? I'd expect <code>i16</code> to work at any even address, for instance. And in the other direction, don't <code>i128</code> values need 16-byte alignment?</p>
</blockquote>



<a name="320364236"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320364236" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320364236">(Jan 10 2023 at 01:39)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1241420045">PR review</a>.</p>



<a name="320520361"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320520361" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320520361">(Jan 10 2023 at 18:47)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5503">PR #5503</a> from <code>interp-atomics</code> to <code>main</code>.</p>



<a name="320961186"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320961186" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320961186">(Jan 12 2023 at 15:09)</a>:</h4>
<p>afonso360 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1245788787">PR review</a>.</p>



<a name="320961188"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320961188" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320961188">(Jan 12 2023 at 15:09)</a>:</h4>
<p>afonso360 created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1068240997">PR review comment</a>:</p>
<blockquote>
<p>For some reason I had the idea that we would need a minimum of 8 byte alignment. But I've been reading the alignment requirements (for AArch64 atomics) and they do mention that it should be a multiple of the access size.</p>
</blockquote>



<a name="320961537"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320961537" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320961537">(Jan 12 2023 at 15:10)</a>:</h4>
<p>afonso360 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/5503">PR #5503</a> from <code>interp-atomics</code> to <code>main</code>.</p>



<a name="320978719"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320978719" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320978719">(Jan 12 2023 at 16:22)</a>:</h4>
<p>afonso360 edited <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1068240997">PR review comment</a>.</p>



<a name="320981634"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320981634" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320981634">(Jan 12 2023 at 16:35)</a>:</h4>
<p>jameysharp submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#pullrequestreview-1245975622">PR review</a>.</p>



<a name="320981636"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320981636" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320981636">(Jan 12 2023 at 16:35)</a>:</h4>
<p>jameysharp created <a href="https://github.com/bytecodealliance/wasmtime/pull/5503#discussion_r1068347500">PR review comment</a>:</p>
<blockquote>
<p>This comment isn't quite right now but I'm going to merge this now anyway, because this PR is cool and I want it. Next time you happen to be working on this file maybe you can update the comment. I don't think it's worth a separate PR.</p>
</blockquote>



<a name="320981721"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%235503%20cranelift%3A%20Add%20%60atomic_%7Bload%2Cstore%7D%60%20.../near/320981721" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.235503.20cranelift.3A.20Add.20.60atomic_.7Bload.2Cstore.7D.60.20.2E.2E.2E.html#320981721">(Jan 12 2023 at 16:36)</a>:</h4>
<p>jameysharp merged <a href="https://github.com/bytecodealliance/wasmtime/pull/5503">PR #5503</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>