<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2718 Switch default to new x86_64 backend. · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html">wasmtime / PR #2718 Switch default to new x86_64 backend.</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="229617251"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229617251" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229617251">(Mar 10 2021 at 08:01)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>:</p>
<blockquote>
<p>(Note 1: This PR depends on #2710 and includes its commits for CI purposes for now.)</p>
<p>(Note 2: I plan to write an RFC to more fully describe and get consensus on the process of switching over. This is mostly a PR for CI-experimentation and to get some data/confirmation on what's actually left to be done.)</p>
<p>This PR switches the default backend on x86, for both the<br>
<code>cranelift-codegen</code> crate and for Wasmtime, to the new<br>
(<code>MachInst</code>-style, <code>VCode</code>-based) backend that has been under<br>
 development and testing for some time now.</p>
<p>The old backend is still available by default in builds with the<br>
<code>old-x86-backend</code> feature, or by requesting <code>BackendVariant::Legacy</code><br>
from the appropriate APIs.</p>
<p>As part of that switch, it adds some more runtime-configurable plumbing<br>
to the testing infrastructure so that tests can be run using the<br>
appropriate backend. <code>clif-util test</code> is now capable of parsing a<br>
backend selector option from filetests and instantiating the correct<br>
backend.</p>
<p>I has been updated so that the old x86 backend continues to run its<br>
tests, just as we used to run the new x64 backend separately.</p>
<p>At some point, we will remove the old x86 backend entirely, once we are<br>
satisfied that the new backend has not caused any unforeseen issues and<br>
we do not need to revert.</p>
</blockquote>



<a name="229617433"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229617433" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229617433">(Mar 10 2021 at 08:02)</a>:</h4>
<p><strong>cfallin</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> as ready for review.</p>



<a name="229617610"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229617610" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229617610">(Mar 10 2021 at 08:04)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229618931"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229618931" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229618931">(Mar 10 2021 at 08:16)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229620307"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229620307" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229620307">(Mar 10 2021 at 08:30)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-608445200">PR Review</a>.</p>



<a name="229620309"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229620309" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229620309">(Mar 10 2021 at 08:30)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r591208181">PR Review Comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>
</code></pre></div><br>
</p>
</blockquote>



<a name="229620346"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229620346" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229620346">(Mar 10 2021 at 08:31)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-608445469">PR Review</a>.</p>



<a name="229620347"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229620347" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229620347">(Mar 10 2021 at 08:31)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r591208492">PR Review Comment</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="suggestion"><pre><span></span><code>
</code></pre></div><br>
</p>
</blockquote>



<a name="229705213"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229705213" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229705213">(Mar 10 2021 at 17:15)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229705377"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229705377" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229705377">(Mar 10 2021 at 17:16)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229705404"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229705404" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229705404">(Mar 10 2021 at 17:16)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r591714978">PR Review Comment</a>:</p>
<blockquote>
<p>Done, thanks.</p>
</blockquote>



<a name="229705406"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229705406" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229705406">(Mar 10 2021 at 17:16)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-608967402">PR Review</a>.</p>



<a name="229705416"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229705416" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229705416">(Mar 10 2021 at 17:17)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r591715079">PR Review Comment</a>:</p>
<blockquote>
<p>Done.</p>
</blockquote>



<a name="229705417"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229705417" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229705417">(Mar 10 2021 at 17:17)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-608967530">PR Review</a>.</p>



<a name="229743138"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229743138" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229743138">(Mar 10 2021 at 20:58)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229743291"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229743291" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229743291">(Mar 10 2021 at 20:59)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229745929"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229745929" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229745929">(Mar 10 2021 at 21:14)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229747011"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229747011" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229747011">(Mar 10 2021 at 21:21)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229750073"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229750073" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229750073">(Mar 10 2021 at 21:41)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229767269"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229767269" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229767269">(Mar 10 2021 at 23:39)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229775074"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229775074" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229775074">(Mar 11 2021 at 00:56)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229775552"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229775552" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229775552">(Mar 11 2021 at 01:01)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229776179"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229776179" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229776179">(Mar 11 2021 at 01:08)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229777792"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229777792" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229777792">(Mar 11 2021 at 01:27)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229779830"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229779830" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229779830">(Mar 11 2021 at 01:54)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229784020"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229784020" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229784020">(Mar 11 2021 at 02:45)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229784291"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229784291" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229784291">(Mar 11 2021 at 02:48)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229791815"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229791815" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229791815">(Mar 11 2021 at 04:26)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229792090"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229792090" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229792090">(Mar 11 2021 at 04:30)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229976452"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229976452" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229976452">(Mar 12 2021 at 04:57)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="229976552"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/229976552" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#229976552">(Mar 12 2021 at 04:58)</a>:</h4>
<p>cfallin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>:</p>
<blockquote>
<p>This PR switches the default backend on x86, for both the<br>
<code>cranelift-codegen</code> crate and for Wasmtime, to the new<br>
(<code>MachInst</code>-style, <code>VCode</code>-based) backend that has been under<br>
 development and testing for some time now.</p>
<p>The old backend is still available by default in builds with the<br>
<code>old-x86-backend</code> feature, or by requesting <code>BackendVariant::Legacy</code><br>
from the appropriate APIs.</p>
<p>As part of that switch, it adds some more runtime-configurable plumbing<br>
to the testing infrastructure so that tests can be run using the<br>
appropriate backend. <code>clif-util test</code> is now capable of parsing a<br>
backend selector option from filetests and instantiating the correct<br>
backend.</p>
<p>I has been updated so that the old x86 backend continues to run its<br>
tests, just as we used to run the new x64 backend separately.</p>
<p>At some point, we will remove the old x86 backend entirely, once we are<br>
satisfied that the new backend has not caused any unforeseen issues and<br>
we do not need to revert.</p>
<p>This implements the switch described in <a href="https://github.com/bytecodealliance/rfcs/issues/10">bytecodealliance/rfcs#10</a>; we should<br>
not merge this until we reach consensus on the process described therein<br>
and merge the RFC.</p>
</blockquote>



<a name="231900924"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/231900924" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#231900924">(Mar 26 2021 at 01:19)</a>:</h4>
<p>jlb6740 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-621707505">PR Review</a>.</p>



<a name="231900925"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/231900925" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#231900925">(Mar 26 2021 at 01:19)</a>:</h4>
<p>jlb6740 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r601946045">PR Review Comment</a>:</p>
<blockquote>
<p>What do the new file test targets (machinst and legacy) mean?</p>
</blockquote>



<a name="231900942"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/231900942" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#231900942">(Mar 26 2021 at 01:19)</a>:</h4>
<p>jlb6740 deleted <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r601946045">PR Review Comment</a>.</p>



<a name="232501218"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232501218" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232501218">(Mar 30 2021 at 21:30)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="232521189"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232521189" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232521189">(Mar 31 2021 at 01:06)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="232631259"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232631259" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232631259">(Mar 31 2021 at 17:24)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-625541025">PR Review</a>.</p>



<a name="232631260"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232631260" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232631260">(Mar 31 2021 at 17:24)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-625541025">PR Review</a>.</p>



<a name="232631261"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232631261" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232631261">(Mar 31 2021 at 17:24)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r605083925">PR Review Comment</a>:</p>
<blockquote>
<p>ditto to above</p>
</blockquote>



<a name="232631262"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232631262" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232631262">(Mar 31 2021 at 17:24)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r605083829">PR Review Comment</a>:</p>
<blockquote>
<p>Is this still needed or was this a temporary addition?</p>
</blockquote>



<a name="232631263"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232631263" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232631263">(Mar 31 2021 at 17:24)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r605084056">PR Review Comment</a>:</p>
<blockquote>
<p>or rather, if it's still needed, mind adding a comment as to why?</p>
</blockquote>



<a name="232673955"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232673955" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232673955">(Mar 31 2021 at 22:16)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="232674026"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232674026" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232674026">(Mar 31 2021 at 22:16)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-625762069">PR Review</a>.</p>



<a name="232674027"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232674027" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232674027">(Mar 31 2021 at 22:16)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r605255242">PR Review Comment</a>:</p>
<blockquote>
<p>Ah, this appears to have been left over -- we seem to have fixed the warning subsequently. Removed!</p>
</blockquote>



<a name="232674036"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232674036" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232674036">(Mar 31 2021 at 22:16)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-625762117">PR Review</a>.</p>



<a name="232674037"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232674037" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232674037">(Mar 31 2021 at 22:16)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r605255287">PR Review Comment</a>:</p>
<blockquote>
<p>Removed!</p>
</blockquote>



<a name="232935887"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/232935887" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#232935887">(Apr 02 2021 at 18:36)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>



<a name="233196705"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232718%20Switch%20default%20to%20new%20x86_64%20backend./near/233196705" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232718.20Switch.20default.20to.20new.20x86_64.20backend.2E.html#233196705">(Apr 05 2021 at 16:38)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/2718">PR #2718</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>