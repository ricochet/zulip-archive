<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8883 closes #2827: remove srclocs from bug... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html">wasmtime / PR #8883 closes #2827: remove srclocs from bug...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="447632609"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447632609" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447632609">(Jun 28 2024 at 02:21)</a>:</h4>
<p><strong>zleyyij</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a>.</p>



<a name="447632610"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447632610" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447632610">(Jun 28 2024 at 02:21)</a>:</h4>
<p><strong>zleyyij</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a>.</p>



<a name="447632611"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447632611" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447632611">(Jun 28 2024 at 02:21)</a>:</h4>
<p>zleyyij opened <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a> from <code>zleyyij:main</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
<p>Prior conversation:<br>
<a href="https://github.com/bytecodealliance/wasmtime/issues/2827#issuecomment-2184904073">https://github.com/bytecodealliance/wasmtime/issues/2827#issuecomment-2184904073</a></p>
<p><a href="#narrow/stream/217117-cranelift/topic/Removing.20srclocs.20with.20bugpoint">https://bytecodealliance.zulipchat.com/#narrow/stream/217117-cranelift/topic/Removing.20srclocs.20with.20bugpoint</a></p>
<p>This change removes sourcelocs from bugpoint output to make the reduced clif IR easier to read.</p>
</blockquote>



<a name="447819819"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447819819" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447819819">(Jun 28 2024 at 16:41)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8883#pullrequestreview-2148468856">PR review</a>:</p>
<blockquote>
<p>Thanks! One suggestion/question below.</p>
<p>Also cc @bjorn3 who I think has a bunch of experience with bugpoint.</p>
</blockquote>



<a name="447819822"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447819822" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447819822">(Jun 28 2024 at 16:41)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8883#pullrequestreview-2148468856">PR review</a>:</p>
<blockquote>
<p>Thanks! One suggestion/question below.</p>
<p>Also cc @bjorn3 who I think has a bunch of experience with bugpoint.</p>
</blockquote>



<a name="447819824"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447819824" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447819824">(Jun 28 2024 at 16:41)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/8883#discussion_r1659011450">PR review comment</a>:</p>
<blockquote>
<p>It isn't clear to me that we should remove them all at once. There might be some panic due to the way we are processing a particular series of srclocs. Can we try removing subset(s) of them incrementally? (I have never touched bugpoint fwiw, so I don't have  a sense of the difficulty of what I am asking and if it isn't practical then we can land this as-is).</p>
</blockquote>



<a name="447822337"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447822337" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447822337">(Jun 28 2024 at 16:51)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8883#pullrequestreview-2148488701">PR review</a>.</p>



<a name="447822339"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447822339" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447822339">(Jun 28 2024 at 16:51)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/8883#discussion_r1659023881">PR review comment</a>:</p>
<blockquote>
<p>I think the approach used by <code>try_resolve_aliases</code> would work here: Try removing all srclocs and see if the bug reproduces. If not revert the change and keep them for the remainder of the run.</p>
</blockquote>



<a name="447828012"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447828012" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447828012">(Jun 28 2024 at 17:17)</a>:</h4>
<p>zleyyij updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a>.</p>



<a name="447828526"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447828526" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447828526">(Jun 28 2024 at 17:19)</a>:</h4>
<p>zleyyij <a href="https://github.com/bytecodealliance/wasmtime/pull/8883#issuecomment-2197358491">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a>:</p>
<blockquote>
<p>I refactored so that it's done in a manner similar to <code>try_resolve_aliases</code>. </p>
<p><code>try_resolve_aliases</code> appears to be called twice, I don't know why this is, but I currently only have <code>try_remove_sourcelocs</code> called once. </p>
</blockquote>



<a name="447851680"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447851680" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447851680">(Jun 28 2024 at 19:10)</a>:</h4>
<p>zleyyij updated <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a>.</p>



<a name="447854338"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447854338" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447854338">(Jun 28 2024 at 19:24)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8883#pullrequestreview-2148808939">PR review</a>.</p>



<a name="447861642"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447861642" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447861642">(Jun 28 2024 at 19:59)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8883#pullrequestreview-2148865886">PR review</a>:</p>
<blockquote>
<p>Thanks!</p>
</blockquote>



<a name="447861691"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/447861691" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#447861691">(Jun 28 2024 at 19:59)</a>:</h4>
<p>fitzgen has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a>.</p>



<a name="449962847"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/449962847" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#449962847">(Jul 08 2024 at 19:21)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/pull/8883#issuecomment-2214998341">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a>:</p>
<blockquote>
<p>I think something went wrong here. It still isn't merged after a week.</p>
</blockquote>



<a name="449963597"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/449963597" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#449963597">(Jul 08 2024 at 19:24)</a>:</h4>
<p>fitzgen has disabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a>.</p>



<a name="449963599"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/449963599" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#449963599">(Jul 08 2024 at 19:24)</a>:</h4>
<p>alexcrichton closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a>.</p>



<a name="449963604"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/449963604" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#449963604">(Jul 08 2024 at 19:24)</a>:</h4>
<p>alexcrichton reopened <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a>.</p>



<a name="449963634"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/449963634" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#449963634">(Jul 08 2024 at 19:25)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a>.</p>



<a name="449984005"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238883%20closes%20%232827%3A%20remove%20srclocs%20from%20bug.../near/449984005" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238883.20closes.20.232827.3A.20remove.20srclocs.20from.20bug.2E.2E.2E.html#449984005">(Jul 08 2024 at 21:14)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8883">PR #8883</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>