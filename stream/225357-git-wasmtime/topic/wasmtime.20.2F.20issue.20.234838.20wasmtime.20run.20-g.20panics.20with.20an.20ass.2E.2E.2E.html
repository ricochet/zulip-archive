<html>
<head><meta charset="utf-8"><title>wasmtime / issue #4838 wasmtime run -g panics with an ass... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234838.20wasmtime.20run.20-g.20panics.20with.20an.20ass.2E.2E.2E.html">wasmtime / issue #4838 wasmtime run -g panics with an ass...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="296542971"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234838%20wasmtime%20run%20-g%20panics%20with%20an%20ass.../near/296542971" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234838.20wasmtime.20run.20-g.20panics.20with.20an.20ass.2E.2E.2E.html#296542971">(Sep 01 2022 at 08:52)</a>:</h4>
<p>TerrorJack labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/4838">issue #4838</a>:</p>
<blockquote>
<p>Thanks for filing a bug report! Please fill out the TODOs below.</p>
<p><strong>Note: if you want to report a security issue, please read our <a href="https://bytecodealliance.org/security">security policy</a>!</strong></p>
<h3>Test Case</h3>
<p>See <a href="https://drive.google.com/file/d/1jY44Xfm3lAvEBJrl4dTT-Jjnmy83RocA/view?usp=sharing,%20https://drive.google.com/file/d/1mNLI5EWCbXP5sYKyjJd-8mW60eU2n1Fx/view?usp=sharing">here</a> for the uploaded wasm files.</p>
<p><code>ghcapi.wasm</code> is the original module, <code>work.wasm</code> is a reduced case using <code>wasm-reduce</code> that still has the same error message</p>
<h3>Steps to Reproduce</h3>
<ul>
<li>Run <code>wasmtime -g ghcapi.wasm</code></li>
</ul>
<h3>Expected Results</h3>
<ul>
<li>The wasm module should run as usual, print some stuff and then exit, as demonstrated when running without <code>-g</code>.</li>
</ul>
<h3>Actual Results</h3>
<p><code>wasmtime</code> panics with the following error message (with <code>RUST_BACKTRACE=full</code>):</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">'</span><span class="na">assertion</span><span class="w"> </span><span class="n">failed</span>: <span class="nc">range_start</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">range_end</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">crates</span><span class="o">/</span><span class="n">cranelift</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">transform</span><span class="o">/</span><span class="n">expression</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">689</span>:<span class="mi">13</span><span class="w"></span>
<span class="n">stack</span><span class="w"> </span><span class="n">backtrace</span>:
   <span class="mi">0</span>:     <span class="mh">0x5587ebe76ecd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">backtrace_rs</span>::<span class="n">backtrace</span>::<span class="n">libunwind</span>::<span class="n">trace</span>::<span class="n">h8217d0a8f3fd2f41</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/../../</span><span class="n">backtrace</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">backtrace</span><span class="o">/</span><span class="n">libunwind</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">93</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">   </span><span class="mi">1</span>:     <span class="mh">0x5587ebe76ecd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">backtrace_rs</span>::<span class="n">backtrace</span>::<span class="n">trace_unsynchronized</span>::<span class="n">h308103876b3af410</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/../../</span><span class="n">backtrace</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">backtrace</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">66</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">   </span><span class="mi">2</span>:     <span class="mh">0x5587ebe76ecd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">_print_fmt</span>::<span class="n">hc208018c6153605e</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">66</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">   </span><span class="mi">3</span>:     <span class="mh">0x5587ebe76ecd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">_print</span>::<span class="n">DisplayBacktrace</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">core</span>::<span class="n">fmt</span>::<span class="n">Display</span><span class="o">&gt;</span>::<span class="n">fmt</span>::<span class="n">hf89a7ed694dfb585</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">45</span>:<span class="mi">22</span><span class="w"></span>
<span class="w">   </span><span class="mi">4</span>:     <span class="mh">0x5587ebe9bafc</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span>::<span class="n">fmt</span>::<span class="n">write</span>::<span class="n">h21038c1382fe4264</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">fmt</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1197</span>:<span class="mi">17</span><span class="w"></span>
<span class="w">   </span><span class="mi">5</span>:     <span class="mh">0x5587ebe716d1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span>::<span class="n">Write</span>::<span class="n">write_fmt</span>::<span class="n">h7dbb1c9a3c254aef</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">io</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1672</span>:<span class="mi">15</span><span class="w"></span>
<span class="w">   </span><span class="mi">6</span>:     <span class="mh">0x5587ebe78675</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">_print</span>::<span class="n">h4e8889719c9ddeb8</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">48</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">   </span><span class="mi">7</span>:     <span class="mh">0x5587ebe78675</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">print</span>::<span class="n">h1506fe2cb3022667</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">35</span>:<span class="mi">9</span><span class="w"></span>
<span class="w">   </span><span class="mi">8</span>:     <span class="mh">0x5587ebe78675</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">default_hook</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="n">hd9d7ce2a8a782440</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">295</span>:<span class="mi">22</span><span class="w"></span>
<span class="w">   </span><span class="mi">9</span>:     <span class="mh">0x5587ebe78396</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">default_hook</span>::<span class="n">h5b16ec25444b1b5d</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">314</span>:<span class="mi">9</span><span class="w"></span>
<span class="w">  </span><span class="mi">10</span>:     <span class="mh">0x5587ebe78c06</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">rust_panic_with_hook</span>::<span class="n">hb0138cb6e6fea3e4</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">698</span>:<span class="mi">17</span><span class="w"></span>
<span class="w">  </span><span class="mi">11</span>:     <span class="mh">0x5587ebe78ab9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">begin_panic_handler</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="n">h4cb67095557cd1aa</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">586</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">  </span><span class="mi">12</span>:     <span class="mh">0x5587ebe77384</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">__rust_end_short_backtrace</span>::<span class="n">h2bfcac279dcdc911</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">138</span>:<span class="mi">18</span><span class="w"></span>
<span class="w">  </span><span class="mi">13</span>:     <span class="mh">0x5587ebe78829</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rust_begin_unwind</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">584</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">  </span><span class="mi">14</span>:     <span class="mh">0x5587eb748653</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span>::<span class="n">panicking</span>::<span class="n">panic_fmt</span>::<span class="n">h1de71520faaa17d3</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">142</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">  </span><span class="mi">15</span>:     <span class="mh">0x5587eb74851d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span>::<span class="n">panicking</span>::<span class="n">panic</span>::<span class="n">h467ee1bf554babeb</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">48</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">  </span><span class="mi">16</span>:     <span class="mh">0x5587eba3cef5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">transform</span>::<span class="n">expression</span>::<span class="n">ValueLabelRangesBuilder</span>::<span class="n">process_label</span>::<span class="n">hf532659b119fbb47</span><span class="w"></span>
<span class="w">  </span><span class="mi">17</span>:     <span class="mh">0x5587eba3a64e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">transform</span>::<span class="n">expression</span>::<span class="n">CompiledExpression</span>::<span class="n">build_with_locals</span>::<span class="n">h94cb640973090c65</span><span class="w"></span>
<span class="w">  </span><span class="mi">18</span>:     <span class="mh">0x5587eba48e67</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">transform</span>::<span class="n">simulate</span>::<span class="n">generate_simulated_dwarf</span>::<span class="n">he7201147bc039110</span><span class="w"></span>
<span class="w">  </span><span class="mi">19</span>:     <span class="mh">0x5587eba2e421</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">transform</span>::<span class="n">transform_dwarf</span>::<span class="n">h4cc8ecfb26179c64</span><span class="w"></span>
<span class="w">  </span><span class="mi">20</span>:     <span class="mh">0x5587eba0705a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">write_debuginfo</span>::<span class="n">emit_dwarf</span>::<span class="n">hb8abb8a59201d97d</span><span class="w"></span>
<span class="w">  </span><span class="mi">21</span>:     <span class="mh">0x5587eba366c9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">wasmtime_cranelift</span>::<span class="n">compiler</span>::<span class="n">Compiler</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">compilation</span>::<span class="n">Compiler</span><span class="o">&gt;</span>::<span class="n">emit_obj</span>::<span class="n">h0cbae1e4e6431f4f</span><span class="w"></span>
<span class="w">  </span><span class="mi">22</span>:     <span class="mh">0x5587eb8dd6d8</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">module</span>::<span class="n">Module</span>::<span class="n">build_artifacts</span>::<span class="n">h63074b6d048e6fdf</span><span class="w"></span>
<span class="w">  </span><span class="mi">23</span>:     <span class="mh">0x5587eb8dc94a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">module</span>::<span class="n">Module</span>::<span class="n">from_binary</span>::<span class="n">h1de553a53a70a8f4</span><span class="w"></span>
<span class="w">  </span><span class="mi">24</span>:     <span class="mh">0x5587eb7791df</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">module</span>::<span class="n">Module</span>::<span class="n">from_file</span>::<span class="n">h2d36c5e0e488253a</span><span class="w"></span>
<span class="w">  </span><span class="mi">25</span>:     <span class="mh">0x5587eb81f4ac</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cli</span>::<span class="n">commands</span>::<span class="n">run</span>::<span class="n">RunCommand</span>::<span class="n">load_module</span>::<span class="n">h832f336f27abe8ab</span><span class="w"></span>
<span class="w">  </span><span class="mi">26</span>:     <span class="mh">0x5587eb81cdd5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cli</span>::<span class="n">commands</span>::<span class="n">run</span>::<span class="n">RunCommand</span>::<span class="n">execute</span>::<span class="n">hbb855870fdf993ff</span><span class="w"></span>
<span class="w">  </span><span class="mi">27</span>:     <span class="mh">0x5587eb74b1ca</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">main</span>::<span class="n">h6e34b60a66e1a2f3</span><span class="w"></span>
<span class="w">  </span><span class="mi">28</span>:     <span class="mh">0x5587eb7502e3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">__rust_begin_short_backtrace</span>::<span class="n">hc6c27247cc182a18</span><span class="w"></span>
<span class="w">  </span><span class="mi">29</span>:     <span class="mh">0x5587eb7502f9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">rt</span>::<span class="n">lang_start</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="n">he9b1e35cc41819bd</span><span class="w"></span>
<span class="w">  </span><span class="mi">30</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">function</span>::<span class="n">impls</span>::<span class="o">&lt;</span><span class="k">impl</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">function</span>::<span class="nb">FnOnce</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&amp;</span><span class="n">F</span><span class="o">&gt;</span>::<span class="n">call_once</span>::<span class="n">h4937aaa125c8d4b2</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">ops</span><span class="o">/</span><span class="n">function</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">280</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">  </span><span class="mi">31</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">do_call</span>::<span class="n">h6f5c70e8b0a34f92</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">492</span>:<span class="mi">40</span><span class="w"></span>
<span class="w">  </span><span class="mi">32</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">h68766ba264ecf2e2</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">456</span>:<span class="mi">19</span><span class="w"></span>
<span class="w">  </span><span class="mi">33</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panic</span>::<span class="n">catch_unwind</span>::<span class="n">hc36033d2f9cc04af</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">137</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">  </span><span class="mi">34</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">rt</span>::<span class="n">lang_start_internal</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="n">h78c037f4a1a28ded</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">128</span>:<span class="mi">48</span><span class="w"></span>
<span class="w">  </span><span class="mi">35</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">do_call</span>::<span class="n">he6e1fffda4c750ee</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">492</span>:<span class="mi">40</span><span class="w"></span>
<span class="w">  </span><span class="mi">36</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">h48a77ddbb2f4c87a</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">456</span>:<span class="mi">19</span><span class="w"></span>
<span class="w">  </span><span class="mi">37</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panic</span>::<span class="n">catch_unwind</span>::<span class="n">hfa809b06a550a9e7</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">137</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">  </span><span class="mi">38</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">rt</span>::<span class="n">lang_start_internal</span>::<span class="n">h4db69ed48eaca005</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">128</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">  </span><span class="mi">39</span>:     <span class="mh">0x5587eb74b3e2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">main</span><span class="w"></span>
<span class="w">  </span><span class="mi">40</span>:     <span class="mh">0x7f0b59c21d90</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">__libc_start_call_main</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">csu</span><span class="o">/../</span><span class="n">sysdeps</span><span class="o">/</span><span class="n">nptl</span><span class="o">/</span><span class="n">libc_start_call_main</span><span class="p">.</span><span class="n">h</span>:<span class="mi">58</span>:<span class="mi">16</span><span class="w"></span>
<span class="w">  </span><span class="mi">41</span>:     <span class="mh">0x7f0b59c21e40</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">__libc_start_main_impl</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">csu</span><span class="o">/../</span><span class="n">csu</span><span class="o">/</span><span class="n">libc</span><span class="o">-</span><span class="n">start</span><span class="p">.</span><span class="n">c</span>:<span class="mi">392</span>:<span class="mi">3</span><span class="w"></span>
<span class="w">  </span><span class="mi">42</span>:     <span class="mh">0x5587eb7488ed</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">  </span><span class="mi">43</span>:                <span class="mh">0x0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span><span class="w"></span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: <code>wasmtime-cli 0.40.0</code></p>
<p>Operating system: <code>Ubuntu 22.04.1</code></p>
<p>Architecture: <code>x86_64</code></p>
<h3>Extra Info</h3>
</blockquote>



<a name="296542975"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234838%20wasmtime%20run%20-g%20panics%20with%20an%20ass.../near/296542975" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234838.20wasmtime.20run.20-g.20panics.20with.20an.20ass.2E.2E.2E.html#296542975">(Sep 01 2022 at 08:52)</a>:</h4>
<p>TerrorJack opened <a href="https://github.com/bytecodealliance/wasmtime/issues/4838">issue #4838</a>:</p>
<blockquote>
<p>Thanks for filing a bug report! Please fill out the TODOs below.</p>
<p><strong>Note: if you want to report a security issue, please read our <a href="https://bytecodealliance.org/security">security policy</a>!</strong></p>
<h3>Test Case</h3>
<p>See <a href="https://drive.google.com/file/d/1jY44Xfm3lAvEBJrl4dTT-Jjnmy83RocA/view?usp=sharing,%20https://drive.google.com/file/d/1mNLI5EWCbXP5sYKyjJd-8mW60eU2n1Fx/view?usp=sharing">here</a> for the uploaded wasm files.</p>
<p><code>ghcapi.wasm</code> is the original module, <code>work.wasm</code> is a reduced case using <code>wasm-reduce</code> that still has the same error message</p>
<h3>Steps to Reproduce</h3>
<ul>
<li>Run <code>wasmtime -g ghcapi.wasm</code></li>
</ul>
<h3>Expected Results</h3>
<ul>
<li>The wasm module should run as usual, print some stuff and then exit, as demonstrated when running without <code>-g</code>.</li>
</ul>
<h3>Actual Results</h3>
<p><code>wasmtime</code> panics with the following error message (with <code>RUST_BACKTRACE=full</code>):</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">'</span><span class="na">assertion</span><span class="w"> </span><span class="n">failed</span>: <span class="nc">range_start</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">range_end</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">crates</span><span class="o">/</span><span class="n">cranelift</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">transform</span><span class="o">/</span><span class="n">expression</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">689</span>:<span class="mi">13</span><span class="w"></span>
<span class="n">stack</span><span class="w"> </span><span class="n">backtrace</span>:
   <span class="mi">0</span>:     <span class="mh">0x5587ebe76ecd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">backtrace_rs</span>::<span class="n">backtrace</span>::<span class="n">libunwind</span>::<span class="n">trace</span>::<span class="n">h8217d0a8f3fd2f41</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/../../</span><span class="n">backtrace</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">backtrace</span><span class="o">/</span><span class="n">libunwind</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">93</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">   </span><span class="mi">1</span>:     <span class="mh">0x5587ebe76ecd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">backtrace_rs</span>::<span class="n">backtrace</span>::<span class="n">trace_unsynchronized</span>::<span class="n">h308103876b3af410</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/../../</span><span class="n">backtrace</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">backtrace</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">66</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">   </span><span class="mi">2</span>:     <span class="mh">0x5587ebe76ecd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">_print_fmt</span>::<span class="n">hc208018c6153605e</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">66</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">   </span><span class="mi">3</span>:     <span class="mh">0x5587ebe76ecd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">_print</span>::<span class="n">DisplayBacktrace</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">core</span>::<span class="n">fmt</span>::<span class="n">Display</span><span class="o">&gt;</span>::<span class="n">fmt</span>::<span class="n">hf89a7ed694dfb585</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">45</span>:<span class="mi">22</span><span class="w"></span>
<span class="w">   </span><span class="mi">4</span>:     <span class="mh">0x5587ebe9bafc</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span>::<span class="n">fmt</span>::<span class="n">write</span>::<span class="n">h21038c1382fe4264</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">fmt</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1197</span>:<span class="mi">17</span><span class="w"></span>
<span class="w">   </span><span class="mi">5</span>:     <span class="mh">0x5587ebe716d1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span>::<span class="n">Write</span>::<span class="n">write_fmt</span>::<span class="n">h7dbb1c9a3c254aef</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">io</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1672</span>:<span class="mi">15</span><span class="w"></span>
<span class="w">   </span><span class="mi">6</span>:     <span class="mh">0x5587ebe78675</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">_print</span>::<span class="n">h4e8889719c9ddeb8</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">48</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">   </span><span class="mi">7</span>:     <span class="mh">0x5587ebe78675</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">print</span>::<span class="n">h1506fe2cb3022667</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">35</span>:<span class="mi">9</span><span class="w"></span>
<span class="w">   </span><span class="mi">8</span>:     <span class="mh">0x5587ebe78675</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">default_hook</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="n">hd9d7ce2a8a782440</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">295</span>:<span class="mi">22</span><span class="w"></span>
<span class="w">   </span><span class="mi">9</span>:     <span class="mh">0x5587ebe78396</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">default_hook</span>::<span class="n">h5b16ec25444b1b5d</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">314</span>:<span class="mi">9</span><span class="w"></span>
<span class="w">  </span><span class="mi">10</span>:     <span class="mh">0x5587ebe78c06</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">rust_panic_with_hook</span>::<span class="n">hb0138cb6e6fea3e4</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">698</span>:<span class="mi">17</span><span class="w"></span>
<span class="w">  </span><span class="mi">11</span>:     <span class="mh">0x5587ebe78ab9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">begin_panic_handler</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="n">h4cb67095557cd1aa</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">586</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">  </span><span class="mi">12</span>:     <span class="mh">0x5587ebe77384</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">__rust_end_short_backtrace</span>::<span class="n">h2bfcac279dcdc911</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">138</span>:<span class="mi">18</span><span class="w"></span>
<span class="w">  </span><span class="mi">13</span>:     <span class="mh">0x5587ebe78829</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rust_begin_unwind</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">584</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">  </span><span class="mi">14</span>:     <span class="mh">0x5587eb748653</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span>::<span class="n">panicking</span>::<span class="n">panic_fmt</span>::<span class="n">h1de71520faaa17d3</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">142</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">  </span><span class="mi">15</span>:     <span class="mh">0x5587eb74851d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span>::<span class="n">panicking</span>::<span class="n">panic</span>::<span class="n">h467ee1bf554babeb</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">48</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">  </span><span class="mi">16</span>:     <span class="mh">0x5587eba3cef5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">transform</span>::<span class="n">expression</span>::<span class="n">ValueLabelRangesBuilder</span>::<span class="n">process_label</span>::<span class="n">hf532659b119fbb47</span><span class="w"></span>
<span class="w">  </span><span class="mi">17</span>:     <span class="mh">0x5587eba3a64e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">transform</span>::<span class="n">expression</span>::<span class="n">CompiledExpression</span>::<span class="n">build_with_locals</span>::<span class="n">h94cb640973090c65</span><span class="w"></span>
<span class="w">  </span><span class="mi">18</span>:     <span class="mh">0x5587eba48e67</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">transform</span>::<span class="n">simulate</span>::<span class="n">generate_simulated_dwarf</span>::<span class="n">he7201147bc039110</span><span class="w"></span>
<span class="w">  </span><span class="mi">19</span>:     <span class="mh">0x5587eba2e421</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">transform</span>::<span class="n">transform_dwarf</span>::<span class="n">h4cc8ecfb26179c64</span><span class="w"></span>
<span class="w">  </span><span class="mi">20</span>:     <span class="mh">0x5587eba0705a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">write_debuginfo</span>::<span class="n">emit_dwarf</span>::<span class="n">hb8abb8a59201d97d</span><span class="w"></span>
<span class="w">  </span><span class="mi">21</span>:     <span class="mh">0x5587eba366c9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">wasmtime_cranelift</span>::<span class="n">compiler</span>::<span class="n">Compiler</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">compilation</span>::<span class="n">Compiler</span><span class="o">&gt;</span>::<span class="n">emit_obj</span>::<span class="n">h0cbae1e4e6431f4f</span><span class="w"></span>
<span class="w">  </span><span class="mi">22</span>:     <span class="mh">0x5587eb8dd6d8</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">module</span>::<span class="n">Module</span>::<span class="n">build_artifacts</span>::<span class="n">h63074b6d048e6fdf</span><span class="w"></span>
<span class="w">  </span><span class="mi">23</span>:     <span class="mh">0x5587eb8dc94a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">module</span>::<span class="n">Module</span>::<span class="n">from_binary</span>::<span class="n">h1de553a53a70a8f4</span><span class="w"></span>
<span class="w">  </span><span class="mi">24</span>:     <span class="mh">0x5587eb7791df</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">module</span>::<span class="n">Module</span>::<span class="n">from_file</span>::<span class="n">h2d36c5e0e488253a</span><span class="w"></span>
<span class="w">  </span><span class="mi">25</span>:     <span class="mh">0x5587eb81f4ac</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cli</span>::<span class="n">commands</span>::<span class="n">run</span>::<span class="n">RunCommand</span>::<span class="n">load_module</span>::<span class="n">h832f336f27abe8ab</span><span class="w"></span>
<span class="w">  </span><span class="mi">26</span>:     <span class="mh">0x5587eb81cdd5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cli</span>::<span class="n">commands</span>::<span class="n">run</span>::<span class="n">RunCommand</span>::<span class="n">execute</span>::<span class="n">hbb855870fdf993ff</span><span class="w"></span>
<span class="w">  </span><span class="mi">27</span>:     <span class="mh">0x5587eb74b1ca</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">main</span>::<span class="n">h6e34b60a66e1a2f3</span><span class="w"></span>
<span class="w">  </span><span class="mi">28</span>:     <span class="mh">0x5587eb7502e3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">__rust_begin_short_backtrace</span>::<span class="n">hc6c27247cc182a18</span><span class="w"></span>
<span class="w">  </span><span class="mi">29</span>:     <span class="mh">0x5587eb7502f9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">rt</span>::<span class="n">lang_start</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="n">he9b1e35cc41819bd</span><span class="w"></span>
<span class="w">  </span><span class="mi">30</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">function</span>::<span class="n">impls</span>::<span class="o">&lt;</span><span class="k">impl</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">function</span>::<span class="nb">FnOnce</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&amp;</span><span class="n">F</span><span class="o">&gt;</span>::<span class="n">call_once</span>::<span class="n">h4937aaa125c8d4b2</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">ops</span><span class="o">/</span><span class="n">function</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">280</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">  </span><span class="mi">31</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">do_call</span>::<span class="n">h6f5c70e8b0a34f92</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">492</span>:<span class="mi">40</span><span class="w"></span>
<span class="w">  </span><span class="mi">32</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">h68766ba264ecf2e2</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">456</span>:<span class="mi">19</span><span class="w"></span>
<span class="w">  </span><span class="mi">33</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panic</span>::<span class="n">catch_unwind</span>::<span class="n">hc36033d2f9cc04af</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">137</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">  </span><span class="mi">34</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">rt</span>::<span class="n">lang_start_internal</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="n">h78c037f4a1a28ded</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">128</span>:<span class="mi">48</span><span class="w"></span>
<span class="w">  </span><span class="mi">35</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">do_call</span>::<span class="n">he6e1fffda4c750ee</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">492</span>:<span class="mi">40</span><span class="w"></span>
<span class="w">  </span><span class="mi">36</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">h48a77ddbb2f4c87a</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">456</span>:<span class="mi">19</span><span class="w"></span>
<span class="w">  </span><span class="mi">37</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panic</span>::<span class="n">catch_unwind</span>::<span class="n">hfa809b06a550a9e7</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">137</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">  </span><span class="mi">38</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">rt</span>::<span class="n">lang_start_internal</span>::<span class="n">h4db69ed48eaca005</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">128</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">  </span><span class="mi">39</span>:     <span class="mh">0x5587eb74b3e2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">main</span><span class="w"></span>
<span class="w">  </span><span class="mi">40</span>:     <span class="mh">0x7f0b59c21d90</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">__libc_start_call_main</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">csu</span><span class="o">/../</span><span class="n">sysdeps</span><span class="o">/</span><span class="n">nptl</span><span class="o">/</span><span class="n">libc_start_call_main</span><span class="p">.</span><span class="n">h</span>:<span class="mi">58</span>:<span class="mi">16</span><span class="w"></span>
<span class="w">  </span><span class="mi">41</span>:     <span class="mh">0x7f0b59c21e40</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">__libc_start_main_impl</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">csu</span><span class="o">/../</span><span class="n">csu</span><span class="o">/</span><span class="n">libc</span><span class="o">-</span><span class="n">start</span><span class="p">.</span><span class="n">c</span>:<span class="mi">392</span>:<span class="mi">3</span><span class="w"></span>
<span class="w">  </span><span class="mi">42</span>:     <span class="mh">0x5587eb7488ed</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">  </span><span class="mi">43</span>:                <span class="mh">0x0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span><span class="w"></span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: <code>wasmtime-cli 0.40.0</code></p>
<p>Operating system: <code>Ubuntu 22.04.1</code></p>
<p>Architecture: <code>x86_64</code></p>
<h3>Extra Info</h3>
</blockquote>



<a name="296543538"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234838%20wasmtime%20run%20-g%20panics%20with%20an%20ass.../near/296543538" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234838.20wasmtime.20run.20-g.20panics.20with.20an.20ass.2E.2E.2E.html#296543538">(Sep 01 2022 at 08:56)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/4838#issuecomment-1233970006">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4838">issue #4838</a>:</p>
<blockquote>
<p>Thanks for the bug report! Please note the following:</p>
<p><a href="https://github.com/bytecodealliance/wasmtime/issues/4669#issuecomment-1210997950">https://github.com/bytecodealliance/wasmtime/issues/4669#issuecomment-1210997950</a></p>
<blockquote>
<p>We currently don't have anyone on the project who understands our DWARF-handling code well and has time to work on it; so while this is definitely a bug, it's not likely to have a fast resolution. We do have an intent to have someone eventually focus on this, as priorities allow, so we should keep this issue open. Just wanted to give some context on the current situation...</p>
</blockquote>
</blockquote>



<a name="296620600"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234838%20wasmtime%20run%20-g%20panics%20with%20an%20ass.../near/296620600" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234838.20wasmtime.20run.20-g.20panics.20with.20an.20ass.2E.2E.2E.html#296620600">(Sep 01 2022 at 15:40)</a>:</h4>
<p>jameysharp closed <a href="https://github.com/bytecodealliance/wasmtime/issues/4838">issue #4838</a>:</p>
<blockquote>
<p>Thanks for filing a bug report! Please fill out the TODOs below.</p>
<p><strong>Note: if you want to report a security issue, please read our <a href="https://bytecodealliance.org/security">security policy</a>!</strong></p>
<h3>Test Case</h3>
<p>See <a href="https://drive.google.com/file/d/1jY44Xfm3lAvEBJrl4dTT-Jjnmy83RocA/view?usp=sharing,%20https://drive.google.com/file/d/1mNLI5EWCbXP5sYKyjJd-8mW60eU2n1Fx/view?usp=sharing">here</a> for the uploaded wasm files.</p>
<p><code>ghcapi.wasm</code> is the original module, <code>work.wasm</code> is a reduced case using <code>wasm-reduce</code> that still has the same error message</p>
<h3>Steps to Reproduce</h3>
<ul>
<li>Run <code>wasmtime -g ghcapi.wasm</code></li>
</ul>
<h3>Expected Results</h3>
<ul>
<li>The wasm module should run as usual, print some stuff and then exit, as demonstrated when running without <code>-g</code>.</li>
</ul>
<h3>Actual Results</h3>
<p><code>wasmtime</code> panics with the following error message (with <code>RUST_BACKTRACE=full</code>):</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">thread</span><span class="w"> </span><span class="o">'</span><span class="na">main</span><span class="o">'</span><span class="w"> </span><span class="n">panicked</span><span class="w"> </span><span class="n">at</span><span class="w"> </span><span class="o">'</span><span class="na">assertion</span><span class="w"> </span><span class="n">failed</span>: <span class="nc">range_start</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">range_end</span><span class="o">'</span><span class="p">,</span><span class="w"> </span><span class="n">crates</span><span class="o">/</span><span class="n">cranelift</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">debug</span><span class="o">/</span><span class="n">transform</span><span class="o">/</span><span class="n">expression</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">689</span>:<span class="mi">13</span><span class="w"></span>
<span class="n">stack</span><span class="w"> </span><span class="n">backtrace</span>:
   <span class="mi">0</span>:     <span class="mh">0x5587ebe76ecd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">backtrace_rs</span>::<span class="n">backtrace</span>::<span class="n">libunwind</span>::<span class="n">trace</span>::<span class="n">h8217d0a8f3fd2f41</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/../../</span><span class="n">backtrace</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">backtrace</span><span class="o">/</span><span class="n">libunwind</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">93</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">   </span><span class="mi">1</span>:     <span class="mh">0x5587ebe76ecd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">backtrace_rs</span>::<span class="n">backtrace</span>::<span class="n">trace_unsynchronized</span>::<span class="n">h308103876b3af410</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/../../</span><span class="n">backtrace</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">backtrace</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">66</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">   </span><span class="mi">2</span>:     <span class="mh">0x5587ebe76ecd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">_print_fmt</span>::<span class="n">hc208018c6153605e</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">66</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">   </span><span class="mi">3</span>:     <span class="mh">0x5587ebe76ecd</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">_print</span>::<span class="n">DisplayBacktrace</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">core</span>::<span class="n">fmt</span>::<span class="n">Display</span><span class="o">&gt;</span>::<span class="n">fmt</span>::<span class="n">hf89a7ed694dfb585</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">45</span>:<span class="mi">22</span><span class="w"></span>
<span class="w">   </span><span class="mi">4</span>:     <span class="mh">0x5587ebe9bafc</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span>::<span class="n">fmt</span>::<span class="n">write</span>::<span class="n">h21038c1382fe4264</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">fmt</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1197</span>:<span class="mi">17</span><span class="w"></span>
<span class="w">   </span><span class="mi">5</span>:     <span class="mh">0x5587ebe716d1</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">io</span>::<span class="n">Write</span>::<span class="n">write_fmt</span>::<span class="n">h7dbb1c9a3c254aef</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">io</span><span class="o">/</span><span class="k">mod</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">1672</span>:<span class="mi">15</span><span class="w"></span>
<span class="w">   </span><span class="mi">6</span>:     <span class="mh">0x5587ebe78675</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">_print</span>::<span class="n">h4e8889719c9ddeb8</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">48</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">   </span><span class="mi">7</span>:     <span class="mh">0x5587ebe78675</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">print</span>::<span class="n">h1506fe2cb3022667</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">35</span>:<span class="mi">9</span><span class="w"></span>
<span class="w">   </span><span class="mi">8</span>:     <span class="mh">0x5587ebe78675</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">default_hook</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="n">hd9d7ce2a8a782440</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">295</span>:<span class="mi">22</span><span class="w"></span>
<span class="w">   </span><span class="mi">9</span>:     <span class="mh">0x5587ebe78396</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">default_hook</span>::<span class="n">h5b16ec25444b1b5d</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">314</span>:<span class="mi">9</span><span class="w"></span>
<span class="w">  </span><span class="mi">10</span>:     <span class="mh">0x5587ebe78c06</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">rust_panic_with_hook</span>::<span class="n">hb0138cb6e6fea3e4</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">698</span>:<span class="mi">17</span><span class="w"></span>
<span class="w">  </span><span class="mi">11</span>:     <span class="mh">0x5587ebe78ab9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="n">begin_panic_handler</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="n">h4cb67095557cd1aa</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">586</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">  </span><span class="mi">12</span>:     <span class="mh">0x5587ebe77384</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">__rust_end_short_backtrace</span>::<span class="n">h2bfcac279dcdc911</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">sys_common</span><span class="o">/</span><span class="n">backtrace</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">138</span>:<span class="mi">18</span><span class="w"></span>
<span class="w">  </span><span class="mi">13</span>:     <span class="mh">0x5587ebe78829</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">rust_begin_unwind</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">584</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">  </span><span class="mi">14</span>:     <span class="mh">0x5587eb748653</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span>::<span class="n">panicking</span>::<span class="n">panic_fmt</span>::<span class="n">h1de71520faaa17d3</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">142</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">  </span><span class="mi">15</span>:     <span class="mh">0x5587eb74851d</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span>::<span class="n">panicking</span>::<span class="n">panic</span>::<span class="n">h467ee1bf554babeb</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">48</span>:<span class="mi">5</span><span class="w"></span>
<span class="w">  </span><span class="mi">16</span>:     <span class="mh">0x5587eba3cef5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">transform</span>::<span class="n">expression</span>::<span class="n">ValueLabelRangesBuilder</span>::<span class="n">process_label</span>::<span class="n">hf532659b119fbb47</span><span class="w"></span>
<span class="w">  </span><span class="mi">17</span>:     <span class="mh">0x5587eba3a64e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">transform</span>::<span class="n">expression</span>::<span class="n">CompiledExpression</span>::<span class="n">build_with_locals</span>::<span class="n">h94cb640973090c65</span><span class="w"></span>
<span class="w">  </span><span class="mi">18</span>:     <span class="mh">0x5587eba48e67</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">transform</span>::<span class="n">simulate</span>::<span class="n">generate_simulated_dwarf</span>::<span class="n">he7201147bc039110</span><span class="w"></span>
<span class="w">  </span><span class="mi">19</span>:     <span class="mh">0x5587eba2e421</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">transform</span>::<span class="n">transform_dwarf</span>::<span class="n">h4cc8ecfb26179c64</span><span class="w"></span>
<span class="w">  </span><span class="mi">20</span>:     <span class="mh">0x5587eba0705a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cranelift</span>::<span class="n">debug</span>::<span class="n">write_debuginfo</span>::<span class="n">emit_dwarf</span>::<span class="n">hb8abb8a59201d97d</span><span class="w"></span>
<span class="w">  </span><span class="mi">21</span>:     <span class="mh">0x5587eba366c9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">wasmtime_cranelift</span>::<span class="n">compiler</span>::<span class="n">Compiler</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">wasmtime_environ</span>::<span class="n">compilation</span>::<span class="n">Compiler</span><span class="o">&gt;</span>::<span class="n">emit_obj</span>::<span class="n">h0cbae1e4e6431f4f</span><span class="w"></span>
<span class="w">  </span><span class="mi">22</span>:     <span class="mh">0x5587eb8dd6d8</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">module</span>::<span class="n">Module</span>::<span class="n">build_artifacts</span>::<span class="n">h63074b6d048e6fdf</span><span class="w"></span>
<span class="w">  </span><span class="mi">23</span>:     <span class="mh">0x5587eb8dc94a</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">module</span>::<span class="n">Module</span>::<span class="n">from_binary</span>::<span class="n">h1de553a53a70a8f4</span><span class="w"></span>
<span class="w">  </span><span class="mi">24</span>:     <span class="mh">0x5587eb7791df</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">module</span>::<span class="n">Module</span>::<span class="n">from_file</span>::<span class="n">h2d36c5e0e488253a</span><span class="w"></span>
<span class="w">  </span><span class="mi">25</span>:     <span class="mh">0x5587eb81f4ac</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cli</span>::<span class="n">commands</span>::<span class="n">run</span>::<span class="n">RunCommand</span>::<span class="n">load_module</span>::<span class="n">h832f336f27abe8ab</span><span class="w"></span>
<span class="w">  </span><span class="mi">26</span>:     <span class="mh">0x5587eb81cdd5</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime_cli</span>::<span class="n">commands</span>::<span class="n">run</span>::<span class="n">RunCommand</span>::<span class="n">execute</span>::<span class="n">hbb855870fdf993ff</span><span class="w"></span>
<span class="w">  </span><span class="mi">27</span>:     <span class="mh">0x5587eb74b1ca</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">wasmtime</span>::<span class="n">main</span>::<span class="n">h6e34b60a66e1a2f3</span><span class="w"></span>
<span class="w">  </span><span class="mi">28</span>:     <span class="mh">0x5587eb7502e3</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">sys_common</span>::<span class="n">backtrace</span>::<span class="n">__rust_begin_short_backtrace</span>::<span class="n">hc6c27247cc182a18</span><span class="w"></span>
<span class="w">  </span><span class="mi">29</span>:     <span class="mh">0x5587eb7502f9</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">rt</span>::<span class="n">lang_start</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="n">he9b1e35cc41819bd</span><span class="w"></span>
<span class="w">  </span><span class="mi">30</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">function</span>::<span class="n">impls</span>::<span class="o">&lt;</span><span class="k">impl</span><span class="w"> </span><span class="n">core</span>::<span class="n">ops</span>::<span class="n">function</span>::<span class="nb">FnOnce</span><span class="o">&lt;</span><span class="n">A</span><span class="o">&gt;</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="o">&amp;</span><span class="n">F</span><span class="o">&gt;</span>::<span class="n">call_once</span>::<span class="n">h4937aaa125c8d4b2</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">core</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">ops</span><span class="o">/</span><span class="n">function</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">280</span>:<span class="mi">13</span><span class="w"></span>
<span class="w">  </span><span class="mi">31</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">do_call</span>::<span class="n">h6f5c70e8b0a34f92</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">492</span>:<span class="mi">40</span><span class="w"></span>
<span class="w">  </span><span class="mi">32</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">h68766ba264ecf2e2</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">456</span>:<span class="mi">19</span><span class="w"></span>
<span class="w">  </span><span class="mi">33</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panic</span>::<span class="n">catch_unwind</span>::<span class="n">hc36033d2f9cc04af</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">137</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">  </span><span class="mi">34</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">rt</span>::<span class="n">lang_start_internal</span>::<span class="p">{{</span><span class="n">closure</span><span class="p">}}</span>::<span class="n">h78c037f4a1a28ded</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">128</span>:<span class="mi">48</span><span class="w"></span>
<span class="w">  </span><span class="mi">35</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">do_call</span>::<span class="n">he6e1fffda4c750ee</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">492</span>:<span class="mi">40</span><span class="w"></span>
<span class="w">  </span><span class="mi">36</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panicking</span>::<span class="kr">try</span>::<span class="n">h48a77ddbb2f4c87a</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panicking</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">456</span>:<span class="mi">19</span><span class="w"></span>
<span class="w">  </span><span class="mi">37</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">panic</span>::<span class="n">catch_unwind</span>::<span class="n">hfa809b06a550a9e7</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">panic</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">137</span>:<span class="mi">14</span><span class="w"></span>
<span class="w">  </span><span class="mi">38</span>:     <span class="mh">0x5587ebe6b54e</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">std</span>::<span class="n">rt</span>::<span class="n">lang_start_internal</span>::<span class="n">h4db69ed48eaca005</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="o">/</span><span class="n">rustc</span><span class="o">/</span><span class="mi">4</span><span class="n">b91a6ea7258a947e59c6522cd5898e7c0a6a88f</span><span class="o">/</span><span class="n">library</span><span class="o">/</span><span class="n">std</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">rt</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">128</span>:<span class="mi">20</span><span class="w"></span>
<span class="w">  </span><span class="mi">39</span>:     <span class="mh">0x5587eb74b3e2</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">main</span><span class="w"></span>
<span class="w">  </span><span class="mi">40</span>:     <span class="mh">0x7f0b59c21d90</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">__libc_start_call_main</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">csu</span><span class="o">/../</span><span class="n">sysdeps</span><span class="o">/</span><span class="n">nptl</span><span class="o">/</span><span class="n">libc_start_call_main</span><span class="p">.</span><span class="n">h</span>:<span class="mi">58</span>:<span class="mi">16</span><span class="w"></span>
<span class="w">  </span><span class="mi">41</span>:     <span class="mh">0x7f0b59c21e40</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">__libc_start_main_impl</span><span class="w"></span>
<span class="w">                               </span><span class="n">at</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">csu</span><span class="o">/../</span><span class="n">csu</span><span class="o">/</span><span class="n">libc</span><span class="o">-</span><span class="n">start</span><span class="p">.</span><span class="n">c</span>:<span class="mi">392</span>:<span class="mi">3</span><span class="w"></span>
<span class="w">  </span><span class="mi">42</span>:     <span class="mh">0x5587eb7488ed</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span><span class="w"></span>
<span class="w">  </span><span class="mi">43</span>:                <span class="mh">0x0</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="o">&lt;</span><span class="n">unknown</span><span class="o">&gt;</span><span class="w"></span>
</code></pre></div>
<h3>Versions and Environment</h3>
<p>Wasmtime version or commit: <code>wasmtime-cli 0.40.0</code></p>
<p>Operating system: <code>Ubuntu 22.04.1</code></p>
<p>Architecture: <code>x86_64</code></p>
<h3>Extra Info</h3>
</blockquote>



<a name="296620601"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234838%20wasmtime%20run%20-g%20panics%20with%20an%20ass.../near/296620601" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234838.20wasmtime.20run.20-g.20panics.20with.20an.20ass.2E.2E.2E.html#296620601">(Sep 01 2022 at 15:40)</a>:</h4>
<p>jameysharp <a href="https://github.com/bytecodealliance/wasmtime/issues/4838#issuecomment-1234457492">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/4838">issue #4838</a>:</p>
<blockquote>
<p>I'm going to close this as a duplicate of #4669. That said, when we're able to spend the time on fixing this bug, I bet it will help to have samples from multiple compilers, so thank you for this report!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>