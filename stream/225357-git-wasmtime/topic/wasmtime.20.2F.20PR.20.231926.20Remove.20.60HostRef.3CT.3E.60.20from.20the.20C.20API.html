<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1926 Remove `HostRef&lt;T&gt;` from the C API · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231926.20Remove.20.60HostRef.3CT.3E.60.20from.20the.20C.20API.html">wasmtime / PR #1926 Remove `HostRef&lt;T&gt;` from the C API</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="202094688"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231926%20Remove%20%60HostRef%3CT%3E%60%20from%20the%20C%20API/near/202094688" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231926.20Remove.20.60HostRef.3CT.3E.60.20from.20the.20C.20API.html#202094688">(Jun 26 2020 at 14:07)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1926">PR #1926</a> from <code>remove-hostref</code> to <code>main</code>:</p>
<blockquote>
<p>This commit removes <code>HostRef&lt;T&gt;</code> from the C API which only served the<br>
purpose now of converting each type to a <code>wasm_ref_t*</code>. Our<br>
implementation, however, does not guarantee that you'll get the same<br>
<code>wasm_ref_t*</code> for each actual underlying item (e.g. if you put a func in<br>
a table and then get the func as an export and from the table then<br>
<code>same</code> will report <code>false</code>). Additionally the fate of <code>wasm_ref_t*</code><br>
seems somewhat unclear at this point.</p>
<p>The change here is to make the <code>same</code> and cast functions all abort<br>
saying they're unimplemented. (similar to the host info functions). If<br>
and when we get around to reimplementing these functions we can ensure<br>
they're implemented uniformly and work well for all intended use cases.</p>
</blockquote>



<a name="202129284"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231926%20Remove%20%60HostRef%3CT%3E%60%20from%20the%20C%20API/near/202129284" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231926.20Remove.20.60HostRef.3CT.3E.60.20from.20the.20C.20API.html#202129284">(Jun 26 2020 at 19:04)</a>:</h4>
<p>peterhuene submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1926#pullrequestreview-438530861">PR Review</a>.</p>



<a name="202132773"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231926%20Remove%20%60HostRef%3CT%3E%60%20from%20the%20C%20API/near/202132773" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231926.20Remove.20.60HostRef.3CT.3E.60.20from.20the.20C.20API.html#202132773">(Jun 26 2020 at 19:34)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1926">PR #1926</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>