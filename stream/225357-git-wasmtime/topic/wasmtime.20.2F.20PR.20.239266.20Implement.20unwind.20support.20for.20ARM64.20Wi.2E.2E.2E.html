<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9266 Implement unwind support for ARM64 Wi... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html">wasmtime / PR #9266 Implement unwind support for ARM64 Wi...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="471032036"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471032036" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471032036">(Sep 17 2024 at 16:26)</a>:</h4>
<p>dpaoliello opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a> from <code>dpaoliello:arm64unwind</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>THIS IS A WORK IN PROGRESS.</p>
<p>Current status: tests partially succeeding, but there is a crash in JITted code.</p>
</blockquote>



<a name="471032191"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471032191" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471032191">(Sep 17 2024 at 16:26)</a>:</h4>
<p>dpaoliello edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>:</p>
<blockquote>
<p>THIS IS A WORK IN PROGRESS.</p>
<p>Current status: tests partially succeeding, but there is a crash in JITted code.</p>
<p>Fixes #4992</p>
</blockquote>



<a name="471035521"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471035521" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471035521">(Sep 17 2024 at 16:41)</a>:</h4>
<p>dpaoliello edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>:</p>
<blockquote>
<p>THIS IS A WORK IN PROGRESS.</p>
<p>Current status: tests partially succeeding, but there is a crash due to a malformed unwind table.</p>
<p>Fixes #4992</p>
</blockquote>



<a name="471053097"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471053097" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471053097">(Sep 17 2024 at 18:03)</a>:</h4>
<p>dpaoliello updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>.</p>



<a name="471090051"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471090051" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471090051">(Sep 17 2024 at 20:47)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#issuecomment-2356904999">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>:</p>
<blockquote>
<p>At a high level this looks great, thanks for working on this! We'll probably be trusting you on the particulars of the table format here, and we unfortunately also probably won't be able to run this on CI (unless you know of way to run this and/or emulation on CI). That being said once you're able to run tests locally that's probably a good enough sign for now and should be good to land afterwards.</p>
<p>It may also be worth noting that the test failures may not be related to unwinding necessarily, I believe Wasmtime has seen very little testing on Windows ARM64 meaning that there could be little other things here and there to overcome as well.</p>
</blockquote>



<a name="471109412"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471109412" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471109412">(Sep 17 2024 at 22:21)</a>:</h4>
<p>dpaoliello updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>.</p>



<a name="471311719"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471311719" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471311719">(Sep 18 2024 at 17:24)</a>:</h4>
<p>dpaoliello updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>.</p>



<a name="471318228"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471318228" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471318228">(Sep 18 2024 at 18:01)</a>:</h4>
<p>dpaoliello updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>.</p>



<a name="471319487"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471319487" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471319487">(Sep 18 2024 at 18:08)</a>:</h4>
<p>dpaoliello edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>:</p>
<blockquote>
<p>Implements unwind support for ARM64 Windows.</p>
<p>This also fixes an issue with the current AArch64 ABI code where it wasn't emitting unwind instructions when adjusting the stack pointer (i.e., doing a stack alloc).</p>
<p>Fixes #4992</p>
</blockquote>



<a name="471319572"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471319572" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471319572">(Sep 18 2024 at 18:09)</a>:</h4>
<p>dpaoliello edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>:</p>
<blockquote>
<p>Implements unwind support for ARM64 Windows.</p>
<p>This also fixes an issue with the current AArch64 ABI code where it wasn't emitting unwind instructions when adjusting the stack pointer (i.e., doing a stack alloc).</p>
<p>With this change, <code>cargo test</code> passes all tests on my Windows ARM64 device.</p>
<p>Fixes #4992</p>
</blockquote>



<a name="471319735"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471319735" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471319735">(Sep 18 2024 at 18:10)</a>:</h4>
<p><strong>dpaoliello</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a> as ready for review.</p>



<a name="471319737"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471319737" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471319737">(Sep 18 2024 at 18:10)</a>:</h4>
<p><strong>dpaoliello</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>.</p>



<a name="471319739"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471319739" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471319739">(Sep 18 2024 at 18:10)</a>:</h4>
<p><strong>dpaoliello</strong> requested <a href="https://github.com/abrown">abrown</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>.</p>



<a name="471319740"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471319740" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471319740">(Sep 18 2024 at 18:10)</a>:</h4>
<p><strong>dpaoliello</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>.</p>



<a name="471319741"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471319741" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471319741">(Sep 18 2024 at 18:10)</a>:</h4>
<p><strong>dpaoliello</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>.</p>



<a name="471322117"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471322117" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471322117">(Sep 18 2024 at 18:25)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#pullrequestreview-2313438396">PR review</a>:</p>
<blockquote>
<p>I made a pass over this code as well and it's generally very high-quality, thanks!</p>
<p>To confirm specifically: does the whole Wasmtime suite (<code>cargo test</code> in the root) pass now on Windows/aarch64?</p>
<p>Echoing Alex's thoughts -- if we can test this somehow (WINE on qemu-aarch64? or does Windows/x64 support running aarch64 binaries with emulation somehow? or ...?) then we can add release binaries.</p>
<p>(There's precedent for adding release binaries before that, from the macOS/aarch64 case -- we just got GitHub runners for that a few months ago -- though in that case there was external CI run by a third party and those of us with new Macs also manually checked when able.)</p>
</blockquote>



<a name="471322118"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471322118" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471322118">(Sep 18 2024 at 18:25)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#discussion_r1765509774">PR review comment</a>:</p>
<blockquote>
<p>At least in new code, we're trying to avoid <code>as</code>-casts; even though here it's infallibly correct, could we write <code>u16::try_from(size).unwrap()</code> (or <code>.expect("constant max size for this case exceeds u16")</code> or somesuch so that auditing for overflows is a little easier?</p>
</blockquote>



<a name="471322167"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471322167" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471322167">(Sep 18 2024 at 18:25)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#pullrequestreview-2313440106">PR review</a>:</p>
<blockquote>
<p>LGTM modulo one nitpick below</p>
</blockquote>



<a name="471322169"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471322169" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471322169">(Sep 18 2024 at 18:25)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#discussion_r1765510624">PR review comment</a>:</p>
<blockquote>
<p>Can the names of each of these individual codes match the name in the link above? Specifically <code>SmallStackAlloc</code> is called <code>alloc_s</code> there so I'd expect it to be <code>AllocS</code> here.</p>
<p>Also, it would be nice to have doc comments for the variants that are missing them. For example, the difference between small vs medium stack alloc isn't immediately clear to the reader because they have the same <code>u16</code> data representation.</p>
</blockquote>



<a name="471325038"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471325038" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471325038">(Sep 18 2024 at 18:43)</a>:</h4>
<p>dpaoliello <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#issuecomment-2359169995">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>:</p>
<blockquote>
<blockquote>
<p>To confirm specifically: does the whole Wasmtime suite (cargo test in the root) pass now on Windows/aarch64?</p>
</blockquote>
<p>Correct: <code>cargo test</code> in the root passes on an ARM64 Windows device.</p>
<blockquote>
<p>Echoing Alex's thoughts -- if we can test this somehow (WINE on qemu-aarch64? or does Windows/x64 support running aarch64 binaries with emulation somehow? or ...?) then we can add release binaries.</p>
</blockquote>
<p>That's a tough one.</p>
<p>I've never tried WINE on AArch64 (emulated or physical), so I can't comment on that.</p>
<p>Windows x64 can't run AArch64 binaries.</p>
<p>GitHub does offer <a href="https://github.blog/news-insights/product-news/arm64-on-github-actions-powering-faster-more-efficient-build-systems/">Windows ARM64 runners</a> however the only image available is a clean Windows 11 install (No Visual Studio, no Git, etc.). The lack of an image with pre-installed tools is also blocking making aarch64-pc-windows-msvc a tier 1 Rust target, so it's high on my priority list to get the correct team at GitHub/Microsoft to make and support those images.</p>
</blockquote>



<a name="471325078"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471325078" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471325078">(Sep 18 2024 at 18:43)</a>:</h4>
<p>dpaoliello updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>.</p>



<a name="471325162"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471325162" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471325162">(Sep 18 2024 at 18:44)</a>:</h4>
<p>dpaoliello submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#pullrequestreview-2313500590">PR review</a>.</p>



<a name="471325163"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471325163" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471325163">(Sep 18 2024 at 18:44)</a>:</h4>
<p>dpaoliello created <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#discussion_r1765541726">PR review comment</a>:</p>
<blockquote>
<p>Done: removes the <code>as</code> casts.</p>
</blockquote>



<a name="471325179"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471325179" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471325179">(Sep 18 2024 at 18:44)</a>:</h4>
<p>dpaoliello edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#discussion_r1765541726">PR review comment</a>.</p>



<a name="471325277"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471325277" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471325277">(Sep 18 2024 at 18:44)</a>:</h4>
<p>dpaoliello submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#pullrequestreview-2313501982">PR review</a>.</p>



<a name="471325279"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471325279" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471325279">(Sep 18 2024 at 18:44)</a>:</h4>
<p>dpaoliello created <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#discussion_r1765542479">PR review comment</a>:</p>
<blockquote>
<p>Done: Renamed the alloc items and added a comment to explain the max size of each one.</p>
</blockquote>



<a name="471329114"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471329114" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471329114">(Sep 18 2024 at 19:07)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#issuecomment-2359211344">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>:</p>
<blockquote>
<p>If you're interested @dpaoliello the "fully exhaustive test suite" can be run with <code>./ci/run-tests.sh</code> locally (and/or copying out the cargo invocation since you probably don't have bash on windows) which basically is <code>cargo test --workspace</code> with a few <code>--exclude</code> for things that aren't supposed to be tested. That will run all <code>wasmtime-wasi</code> tests for example which exercise some "larger modules" than the <code>cargo test</code> does at the root of the repo. (but for development most of us I think do just <code>cargo test</code> and let CI figure everything else out). I mention this if you want to perform an extra double-check that all the various bits are working, but I suspect that if <code>cargo test</code> works this won't turn up much else.</p>
<p>I'm also happy to leave this untested on CI until it's easier to set up CI with tools and such. The likelihood of this regressing is relatively low and we can always ping you @dpaoliello (if you're ok with that) if something looks like it's changing. Otherwise I'm also happy to investigate adding ARM64 binaries for Windows to our CI to get release artifacts as well.</p>
</blockquote>



<a name="471334633"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471334633" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471334633">(Sep 18 2024 at 19:38)</a>:</h4>
<p>dpaoliello <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#issuecomment-2359263336">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>:</p>
<blockquote>
<blockquote>
<p>If you're interested @dpaoliello the "fully exhaustive test suite" can be run with <code>./ci/run-tests.sh</code> locally (and/or copying out the cargo invocation since you probably don't have bash on windows) which basically is <code>cargo test --workspace</code> with a few <code>--exclude</code> for things that aren't supposed to be tested. That will run all <code>wasmtime-wasi</code> tests for example which exercise some "larger modules" than the <code>cargo test</code> does at the root of the repo. (but for development most of us I think do just <code>cargo test</code> and let CI figure everything else out). I mention this if you want to perform an extra double-check that all the various bits are working, but I suspect that if <code>cargo test</code> works this won't turn up much else.</p>
</blockquote>
<p>Sure, I'll give it a go. Otherwise, I was starting to look into getting <code>rustc_codegen_cranelift</code> working.</p>
<blockquote>
<p>I'm also happy to leave this untested on CI until it's easier to set up CI with tools and such.</p>
</blockquote>
<p>I'll add it to my list of repos to setup CIs once the Windows ARM64 images are available...</p>
<blockquote>
<p>we can always ping you @dpaoliello (if you're ok with that) if something looks like it's changing.</p>
</blockquote>
<p>Yes, please!<br>
Feel free to summon me for any Rust <code>-msvc</code> target or Windows on ARM issue.<br>
</p>
</blockquote>



<a name="471513029"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471513029" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471513029">(Sep 19 2024 at 15:35)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#pullrequestreview-2315913346">PR review</a>:</p>
<blockquote>
<p>Thanks so much!</p>
</blockquote>



<a name="471519598"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471519598" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471519598">(Sep 19 2024 at 16:08)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#issuecomment-2361435459">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>:</p>
<blockquote>
<p>Looks like this is failing on our MSRV:</p>
<p><a href="https://github.com/bytecodealliance/wasmtime/actions/runs/10944294333/job/30385843729#step:18:102">https://github.com/bytecodealliance/wasmtime/actions/runs/10944294333/job/30385843729#step:18:102</a></p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span><span class="p">[</span><span class="n">E0658</span><span class="p">]:</span><span class="w"> </span><span class="nc">exclusive</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">experimental</span>
<span class="w">   </span><span class="o">-</span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">cranelift</span><span class="o">/</span><span class="n">codegen</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">isa</span><span class="o">/</span><span class="n">unwind</span><span class="o">/</span><span class="n">winarm64</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">231</span><span class="p">:</span><span class="mi">21</span>
<span class="w">    </span><span class="o">|</span>
<span class="mi">231</span><span class="w"> </span><span class="o">|</span><span class="w">                     </span><span class="mi">0</span><span class="o">..</span><span class="n">SMALL_STACK_ALLOC_MAX</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">unwind_codes</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">UnwindCode</span><span class="p">::</span><span class="n">AllocS</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">|</span><span class="w">                     </span><span class="o">^^^^^^^^^^^^^^^^^^^^^^^^</span>
<span class="w">    </span><span class="o">|</span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span><span class="p">:</span><span class="w"> </span><span class="nc">see</span><span class="w"> </span><span class="n">issue</span><span class="w"> </span><span class="p">#</span><span class="mi">37854</span><span class="w"> </span><span class="o">&lt;</span><span class="n">https</span><span class="p">:</span><span class="c1">//github.com/rust-lang/rust/issues/37854&gt; for more information</span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">help</span><span class="p">:</span><span class="w"> </span><span class="nc">use</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">inclusive</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">N</span><span class="o">..=</span><span class="n">M</span>

<span class="n">error</span><span class="p">[</span><span class="n">E0658</span><span class="p">]:</span><span class="w"> </span><span class="nc">exclusive</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">experimental</span>
<span class="w">   </span><span class="o">-</span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">cranelift</span><span class="o">/</span><span class="n">codegen</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">isa</span><span class="o">/</span><span class="n">unwind</span><span class="o">/</span><span class="n">winarm64</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">234</span><span class="p">:</span><span class="mi">21</span>
<span class="w">    </span><span class="o">|</span>
<span class="mi">234</span><span class="w"> </span><span class="o">|</span><span class="w">                     </span><span class="n">SMALL_STACK_ALLOC_MAX</span><span class="o">..</span><span class="n">MEDIUM_STACK_ALLOC_MAX</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">|</span><span class="w">                     </span><span class="o">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
<span class="w">    </span><span class="o">|</span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span><span class="p">:</span><span class="w"> </span><span class="nc">see</span><span class="w"> </span><span class="n">issue</span><span class="w"> </span><span class="p">#</span><span class="mi">37854</span><span class="w"> </span><span class="o">&lt;</span><span class="n">https</span><span class="p">:</span><span class="c1">//github.com/rust-lang/rust/issues/37854&gt; for more information</span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">help</span><span class="p">:</span><span class="w"> </span><span class="nc">use</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">inclusive</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">N</span><span class="o">..=</span><span class="n">M</span>

<span class="n">error</span><span class="p">[</span><span class="n">E0658</span><span class="p">]:</span><span class="w"> </span><span class="nc">exclusive</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">experimental</span>
<span class="w">   </span><span class="o">-</span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">cranelift</span><span class="o">/</span><span class="n">codegen</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">isa</span><span class="o">/</span><span class="n">unwind</span><span class="o">/</span><span class="n">winarm64</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">239</span><span class="p">:</span><span class="mi">21</span>
<span class="w">    </span><span class="o">|</span>
<span class="mi">239</span><span class="w"> </span><span class="o">|</span><span class="w">                     </span><span class="n">MEDIUM_STACK_ALLOC_MAX</span><span class="o">..</span><span class="n">LARGE_STACK_ALLOC_MAX</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">|</span><span class="w">                     </span><span class="o">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
<span class="w">    </span><span class="o">|</span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span><span class="p">:</span><span class="w"> </span><span class="nc">see</span><span class="w"> </span><span class="n">issue</span><span class="w"> </span><span class="p">#</span><span class="mi">37854</span><span class="w"> </span><span class="o">&lt;</span><span class="n">https</span><span class="p">:</span><span class="c1">//github.com/rust-lang/rust/issues/37854&gt; for more information</span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">help</span><span class="p">:</span><span class="w"> </span><span class="nc">use</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">inclusive</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">N</span><span class="o">..=</span><span class="n">M</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="471519696"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471519696" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471519696">(Sep 19 2024 at 16:08)</a>:</h4>
<p>fitzgen edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#issuecomment-2361435459">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>:</p>
<blockquote>
<p>Looks like this is failing on our MSRV of Rust 1.78:</p>
<p><a href="https://github.com/bytecodealliance/wasmtime/actions/runs/10944294333/job/30385843729#step:18:102">https://github.com/bytecodealliance/wasmtime/actions/runs/10944294333/job/30385843729#step:18:102</a></p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span><span class="p">[</span><span class="n">E0658</span><span class="p">]:</span><span class="w"> </span><span class="nc">exclusive</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">experimental</span>
<span class="w">   </span><span class="o">-</span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">cranelift</span><span class="o">/</span><span class="n">codegen</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">isa</span><span class="o">/</span><span class="n">unwind</span><span class="o">/</span><span class="n">winarm64</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">231</span><span class="p">:</span><span class="mi">21</span>
<span class="w">    </span><span class="o">|</span>
<span class="mi">231</span><span class="w"> </span><span class="o">|</span><span class="w">                     </span><span class="mi">0</span><span class="o">..</span><span class="n">SMALL_STACK_ALLOC_MAX</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">unwind_codes</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">UnwindCode</span><span class="p">::</span><span class="n">AllocS</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">|</span><span class="w">                     </span><span class="o">^^^^^^^^^^^^^^^^^^^^^^^^</span>
<span class="w">    </span><span class="o">|</span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span><span class="p">:</span><span class="w"> </span><span class="nc">see</span><span class="w"> </span><span class="n">issue</span><span class="w"> </span><span class="p">#</span><span class="mi">37854</span><span class="w"> </span><span class="o">&lt;</span><span class="n">https</span><span class="p">:</span><span class="c1">//github.com/rust-lang/rust/issues/37854&gt; for more information</span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">help</span><span class="p">:</span><span class="w"> </span><span class="nc">use</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">inclusive</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">N</span><span class="o">..=</span><span class="n">M</span>

<span class="n">error</span><span class="p">[</span><span class="n">E0658</span><span class="p">]:</span><span class="w"> </span><span class="nc">exclusive</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">experimental</span>
<span class="w">   </span><span class="o">-</span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">cranelift</span><span class="o">/</span><span class="n">codegen</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">isa</span><span class="o">/</span><span class="n">unwind</span><span class="o">/</span><span class="n">winarm64</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">234</span><span class="p">:</span><span class="mi">21</span>
<span class="w">    </span><span class="o">|</span>
<span class="mi">234</span><span class="w"> </span><span class="o">|</span><span class="w">                     </span><span class="n">SMALL_STACK_ALLOC_MAX</span><span class="o">..</span><span class="n">MEDIUM_STACK_ALLOC_MAX</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">|</span><span class="w">                     </span><span class="o">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
<span class="w">    </span><span class="o">|</span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span><span class="p">:</span><span class="w"> </span><span class="nc">see</span><span class="w"> </span><span class="n">issue</span><span class="w"> </span><span class="p">#</span><span class="mi">37854</span><span class="w"> </span><span class="o">&lt;</span><span class="n">https</span><span class="p">:</span><span class="c1">//github.com/rust-lang/rust/issues/37854&gt; for more information</span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">help</span><span class="p">:</span><span class="w"> </span><span class="nc">use</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">inclusive</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">N</span><span class="o">..=</span><span class="n">M</span>

<span class="n">error</span><span class="p">[</span><span class="n">E0658</span><span class="p">]:</span><span class="w"> </span><span class="nc">exclusive</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">pattern</span><span class="w"> </span><span class="n">syntax</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">experimental</span>
<span class="w">   </span><span class="o">-</span><span class="p">-&gt;</span><span class="w"> </span><span class="nc">cranelift</span><span class="o">/</span><span class="n">codegen</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">isa</span><span class="o">/</span><span class="n">unwind</span><span class="o">/</span><span class="n">winarm64</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">239</span><span class="p">:</span><span class="mi">21</span>
<span class="w">    </span><span class="o">|</span>
<span class="mi">239</span><span class="w"> </span><span class="o">|</span><span class="w">                     </span><span class="n">MEDIUM_STACK_ALLOC_MAX</span><span class="o">..</span><span class="n">LARGE_STACK_ALLOC_MAX</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="o">|</span><span class="w">                     </span><span class="o">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
<span class="w">    </span><span class="o">|</span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">note</span><span class="p">:</span><span class="w"> </span><span class="nc">see</span><span class="w"> </span><span class="n">issue</span><span class="w"> </span><span class="p">#</span><span class="mi">37854</span><span class="w"> </span><span class="o">&lt;</span><span class="n">https</span><span class="p">:</span><span class="c1">//github.com/rust-lang/rust/issues/37854&gt; for more information</span>
<span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">help</span><span class="p">:</span><span class="w"> </span><span class="nc">use</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="n">inclusive</span><span class="w"> </span><span class="n">range</span><span class="w"> </span><span class="n">pattern</span><span class="p">,</span><span class="w"> </span><span class="n">like</span><span class="w"> </span><span class="n">N</span><span class="o">..=</span><span class="n">M</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="471522882"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471522882" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471522882">(Sep 19 2024 at 16:26)</a>:</h4>
<p>dpaoliello updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>.</p>



<a name="471522970"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471522970" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471522970">(Sep 19 2024 at 16:26)</a>:</h4>
<p>dpaoliello <a href="https://github.com/bytecodealliance/wasmtime/pull/9266#issuecomment-2361475855">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>:</p>
<blockquote>
<blockquote>
<p>Looks like this is failing on our MSRV of Rust 1.78</p>
</blockquote>
<p>Fixed</p>
</blockquote>



<a name="471523829"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471523829" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471523829">(Sep 19 2024 at 16:31)</a>:</h4>
<p>cfallin has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>.</p>



<a name="471527938"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239266%20Implement%20unwind%20support%20for%20ARM64%20Wi.../near/471527938" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239266.20Implement.20unwind.20support.20for.20ARM64.20Wi.2E.2E.2E.html#471527938">(Sep 19 2024 at 16:55)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9266">PR #9266</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>