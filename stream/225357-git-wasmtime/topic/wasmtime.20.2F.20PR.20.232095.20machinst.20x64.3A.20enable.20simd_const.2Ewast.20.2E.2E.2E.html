<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2095 machinst x64: enable simd_const.wast ... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html">wasmtime / PR #2095 machinst x64: enable simd_const.wast ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="205964296"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/205964296" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#205964296">(Aug 04 2020 at 21:39)</a>:</h4>
<p>abrown opened <a href="https://github.com/bytecodealliance/wasmtime/pull/2095">PR #2095</a> from <code>simd-const</code> to <code>main</code>:</p>
<blockquote>
<p>This change enables the <code>simd_const.wast</code> spec test and adds encodings for integer vectors and new <code>Inst::[move|load|store]</code> utility functions.</p>
<p>Before merging:</p>
<ul>
<li>[ ] this should be rebased on @jlb6740's integer arithmetic changes since <code>simd_const.wast</code> contains a single use each of <code>i64x2.add</code> and <code>i32x4.add</code></li>
<li>[ ] I would like feedback on what others think about the <code>Inst::[move|load|store]</code> utility functions: are they the right level of abstraction? Is the de-duplication of code worth the overhead? Should we remove <code>Inst::xmm_mov</code> (and/or others)?</li>
</ul>
</blockquote>



<a name="205964306"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/205964306" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#205964306">(Aug 04 2020 at 21:39)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2095">PR #2095</a>.</p>



<a name="205964310"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/205964310" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#205964310">(Aug 04 2020 at 21:40)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/cfallin">cfallin</a> and <a href="https://github.com/julian-seward1">julian-seward1</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2095">PR #2095</a>.</p>



<a name="205964357"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/205964357" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#205964357">(Aug 04 2020 at 21:40)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/cfallin">cfallin</a>, <a href="https://github.com/julian-seward1">julian-seward1</a> and <a href="https://github.com/jlb6740">jlb6740</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2095">PR #2095</a>.</p>



<a name="205967028"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/205967028" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#205967028">(Aug 04 2020 at 22:08)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#pullrequestreview-461207875">PR Review</a>.</p>



<a name="205967030"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/205967030" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#205967030">(Aug 04 2020 at 22:08)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#discussion_r465357635">PR Review Comment</a>:</p>
<blockquote>
<p>Looking around more, I guess this should just be merged in with <code>gen_move</code>?</p>
</blockquote>



<a name="205978063"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/205978063" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#205978063">(Aug 05 2020 at 00:50)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#pullrequestreview-461214419">PR Review</a>.</p>



<a name="205978064"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/205978064" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#205978064">(Aug 05 2020 at 00:50)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#pullrequestreview-461214419">PR Review</a>.</p>



<a name="205978066"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/205978066" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#205978066">(Aug 05 2020 at 00:50)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#discussion_r465361024">PR Review Comment</a>:</p>
<blockquote>
<p>I'd prefer not to have function names overlapping with reserved words -- though it's technically possible with this "raw identifier" syntax, it's quite obscure (IMHO at least -- I had to look it up) and potentially causes confusion for no good reason. Perhaps just <code>gen_move</code>?</p>
</blockquote>



<a name="205978067"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/205978067" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#205978067">(Aug 05 2020 at 00:50)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#discussion_r465408473">PR Review Comment</a>:</p>
<blockquote>
<p>I like having helpers on <code>Inst</code> here. However, I think the extension should be an optional behavior; it's easy to imagine reaching for <code>Inst::load()</code> in the future for some general use-case and getting an extension op when it wasn't really needed (e.g. most narrow arithmetic doesn't care about high bits).</p>
<p>Could we define an enum for extension mode, something like the aarch64 backend's <code>NarrowValueMode</code>, to use here?</p>
</blockquote>



<a name="205978068"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/205978068" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#205978068">(Aug 05 2020 at 00:50)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#discussion_r465408718">PR Review Comment</a>:</p>
<blockquote>
<p>A doc comment would be helpful here -- from the name it's not immediately clear what this does (movable to/from a scalar register? movable within a scalar register? ...).</p>
</blockquote>



<a name="206052447"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206052447" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206052447">(Aug 05 2020 at 17:29)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#pullrequestreview-461876968">PR Review</a>.</p>



<a name="206052449"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206052449" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206052449">(Aug 05 2020 at 17:29)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#discussion_r465888575">PR Review Comment</a>:</p>
<blockquote>
<p>Ah, yes, that would actually be the best solution, I think.</p>
</blockquote>



<a name="206054902"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206054902" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206054902">(Aug 05 2020 at 17:46)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#pullrequestreview-461889352">PR Review</a>.</p>



<a name="206054903"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206054903" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206054903">(Aug 05 2020 at 17:46)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#discussion_r465898420">PR Review Comment</a>:</p>
<blockquote>
<p>Yeah, I will move this into <code>gen_move</code>.</p>
</blockquote>



<a name="206284190"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206284190" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206284190">(Aug 07 2020 at 17:17)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#pullrequestreview-463476049">PR Review</a>.</p>



<a name="206284191"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206284191" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206284191">(Aug 07 2020 at 17:17)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#discussion_r467168612">PR Review Comment</a>:</p>
<blockquote>
<p>Got rid of this and used a comparison on <code>RegClass</code> instead.</p>
</blockquote>



<a name="206287698"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206287698" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206287698">(Aug 07 2020 at 17:45)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2095">PR #2095</a> from <code>simd-const</code> to <code>main</code>:</p>
<blockquote>
<p>This change enables the <code>simd_const.wast</code> spec test and adds encodings for integer vectors and new <code>Inst::[move|load|store]</code> utility functions.</p>
<p>Before merging:</p>
<ul>
<li>[ ] this should be rebased on @jlb6740's integer arithmetic changes since <code>simd_const.wast</code> contains a single use each of <code>i64x2.add</code> and <code>i32x4.add</code></li>
<li>[ ] I would like feedback on what others think about the <code>Inst::[move|load|store]</code> utility functions: are they the right level of abstraction? Is the de-duplication of code worth the overhead? Should we remove <code>Inst::xmm_mov</code> (and/or others)?</li>
</ul>
</blockquote>



<a name="206312248"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206312248" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206312248">(Aug 07 2020 at 21:35)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#pullrequestreview-463652639">PR Review</a>.</p>



<a name="206312250"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206312250" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206312250">(Aug 07 2020 at 21:35)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#discussion_r467284185">PR Review Comment</a>:</p>
<blockquote>
<p>I added an <code>ExtKind</code> enum; with that in place we should now be able to remove <code>xmm_mov</code> and simplify the lowering considerably in a future PR.</p>
</blockquote>



<a name="206312268"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206312268" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206312268">(Aug 07 2020 at 21:35)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/bnjbvr">bnjbvr</a>, <a href="https://github.com/julian-seward1">julian-seward1</a> and <a href="https://github.com/jlb6740">jlb6740</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2095">PR #2095</a>.</p>



<a name="206312270"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206312270" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206312270">(Aug 07 2020 at 21:35)</a>:</h4>
<p>abrown edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2095">PR #2095</a> from <code>simd-const</code> to <code>main</code>:</p>
<blockquote>
<p>This change enables the <code>simd_const.wast</code> spec test and adds encodings for integer vectors and new <code>Inst::[move|load|store]</code> utility functions.</p>
<p>Before merging:</p>
<ul>
<li>[ ] this should be rebased on @jlb6740's integer arithmetic changes since <code>simd_const.wast</code> contains a single use each of <code>i64x2.add</code> and <code>i32x4.add</code></li>
<li>[x] I would like feedback on what others think about the <code>Inst::[move|load|store]</code> utility functions: are they the right level of abstraction? Is the de-duplication of code worth the overhead? Should we remove <code>Inst::xmm_mov</code> (and/or others)?</li>
</ul>
</blockquote>



<a name="206312273"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206312273" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206312273">(Aug 07 2020 at 21:35)</a>:</h4>
<p>abrown edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2095">PR #2095</a> from <code>simd-const</code> to <code>main</code>:</p>
<blockquote>
<p>This change enables the <code>simd_const.wast</code> spec test and adds encodings for integer vectors and new <code>Inst::[move|load|store]</code> utility functions.</p>
<p>Before merging:</p>
<ul>
<li>[x] this should be rebased on @jlb6740's integer arithmetic changes since <code>simd_const.wast</code> contains a single use each of <code>i64x2.add</code> and <code>i32x4.add</code></li>
<li>[x] I would like feedback on what others think about the <code>Inst::[move|load|store]</code> utility functions: are they the right level of abstraction? Is the de-duplication of code worth the overhead? Should we remove <code>Inst::xmm_mov</code> (and/or others)?</li>
</ul>
</blockquote>



<a name="206474973"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/206474973" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#206474973">(Aug 10 2020 at 15:32)</a>:</h4>
<p><strong>abrown</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/2095">PR #2095</a> as ready for review.</p>



<a name="207525606"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/207525606" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#207525606">(Aug 20 2020 at 14:05)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2095#pullrequestreview-471649046">PR Review</a>.</p>



<a name="207561210"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/207561210" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#207561210">(Aug 20 2020 at 19:03)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2095">PR #2095</a> from <code>simd-const</code> to <code>main</code>:</p>
<blockquote>
<p>This change enables the <code>simd_const.wast</code> spec test and adds encodings for integer vectors and new <code>Inst::[move|load|store]</code> utility functions.</p>
<p>Before merging:</p>
<ul>
<li>[x] this should be rebased on @jlb6740's integer arithmetic changes since <code>simd_const.wast</code> contains a single use each of <code>i64x2.add</code> and <code>i32x4.add</code></li>
<li>[x] I would like feedback on what others think about the <code>Inst::[move|load|store]</code> utility functions: are they the right level of abstraction? Is the de-duplication of code worth the overhead? Should we remove <code>Inst::xmm_mov</code> (and/or others)?</li>
</ul>
</blockquote>



<a name="207565200"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232095%20machinst%20x64%3A%20enable%20simd_const.wast%20.../near/207565200" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232095.20machinst.20x64.3A.20enable.20simd_const.2Ewast.20.2E.2E.2E.html#207565200">(Aug 20 2020 at 19:37)</a>:</h4>
<p>abrown merged <a href="https://github.com/bytecodealliance/wasmtime/pull/2095">PR #2095</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>