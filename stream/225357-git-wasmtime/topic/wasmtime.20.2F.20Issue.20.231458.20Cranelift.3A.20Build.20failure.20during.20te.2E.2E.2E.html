<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #1458 Cranelift: Build failure during te... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231458.20Cranelift.3A.20Build.20failure.20during.20te.2E.2E.2E.html">wasmtime / Issue #1458 Cranelift: Build failure during te...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="192617481"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231458%20Cranelift%3A%20Build%20failure%20during%20te.../near/192617481" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231458.20Cranelift.3A.20Build.20failure.20during.20te.2E.2E.2E.html#192617481">(Apr 02 2020 at 03:38)</a>:</h4>
<p>jlb6740 labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/1458" title="https://github.com/bytecodealliance/wasmtime/issues/1458">Issue #1458</a>:</p>
<blockquote>
<p>Thanks for opening a bug report! Please answer the questions below<br>
if they're relevant and delete this text before submitting.</p>
<ul>
<li>
<p>What are the steps to reproduce the issue? Can you include a CLIF test case,<br>
  ideally reduced with the <code>bugpoint</code> clif-util command?</p>
</li>
<li>
<p>What do you expect to happen? What does actually happen? Does it panic, and<br>
  if so, with which assertion?</p>
</li>
<li>
<p>Which Cranelift version / commit hash / branch are you using?</p>
</li>
<li>If relevant, can you include some extra information about your environment?<br>
  (Rust version, operating system, architecture...)</li>
</ul>
<p>Hi .. I am seeing test failures in the pr here: <a href="https://github.com/bytecodealliance/wasmtime/pull/819" title="https://github.com/bytecodealliance/wasmtime/pull/819">https://github.com/bytecodealliance/wasmtime/pull/819</a> but the failure is unrelated to the patch. Specifically it is failing to a warning about an unnecessary brace around an assignment in some code in cranelift:</p>
<p>![image](<a href="https://user-images.githubusercontent.com/45402135/78208125-72c9e700-7458-11ea-9aeb-54f33b0808fd.png" title="https://user-images.githubusercontent.com/45402135/78208125-72c9e700-7458-11ea-9aeb-54f33b0808fd.png">https://user-images.githubusercontent.com/45402135/78208125-72c9e700-7458-11ea-9aeb-54f33b0808fd.png</a>)</p>
<p>When I run this on my target machine I see no such error so I can't reproduce. Furthermore it is unclear why the error for each line number is being printed out twice. Perhaps this is some testing configuration issue.</p>
</blockquote>



<a name="192617482"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231458%20Cranelift%3A%20Build%20failure%20during%20te.../near/192617482" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231458.20Cranelift.3A.20Build.20failure.20during.20te.2E.2E.2E.html#192617482">(Apr 02 2020 at 03:38)</a>:</h4>
<p>jlb6740 opened <a href="https://github.com/bytecodealliance/wasmtime/issues/1458" title="https://github.com/bytecodealliance/wasmtime/issues/1458">Issue #1458</a>:</p>
<blockquote>
<p>Thanks for opening a bug report! Please answer the questions below<br>
if they're relevant and delete this text before submitting.</p>
<ul>
<li>
<p>What are the steps to reproduce the issue? Can you include a CLIF test case,<br>
  ideally reduced with the <code>bugpoint</code> clif-util command?</p>
</li>
<li>
<p>What do you expect to happen? What does actually happen? Does it panic, and<br>
  if so, with which assertion?</p>
</li>
<li>
<p>Which Cranelift version / commit hash / branch are you using?</p>
</li>
<li>If relevant, can you include some extra information about your environment?<br>
  (Rust version, operating system, architecture...)</li>
</ul>
<p>Hi .. I am seeing test failures in the pr here: <a href="https://github.com/bytecodealliance/wasmtime/pull/819" title="https://github.com/bytecodealliance/wasmtime/pull/819">https://github.com/bytecodealliance/wasmtime/pull/819</a> but the failure is unrelated to the patch. Specifically it is failing to a warning about an unnecessary brace around an assignment in some code in cranelift:</p>
<p>![image](<a href="https://user-images.githubusercontent.com/45402135/78208125-72c9e700-7458-11ea-9aeb-54f33b0808fd.png" title="https://user-images.githubusercontent.com/45402135/78208125-72c9e700-7458-11ea-9aeb-54f33b0808fd.png">https://user-images.githubusercontent.com/45402135/78208125-72c9e700-7458-11ea-9aeb-54f33b0808fd.png</a>)</p>
<p>When I run this on my target machine I see no such error so I can't reproduce. Furthermore it is unclear why the error for each line number is being printed out twice. Perhaps this is some testing configuration issue.</p>
</blockquote>



<a name="192617483"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231458%20Cranelift%3A%20Build%20failure%20during%20te.../near/192617483" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231458.20Cranelift.3A.20Build.20failure.20during.20te.2E.2E.2E.html#192617483">(Apr 02 2020 at 03:38)</a>:</h4>
<p>jlb6740 labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/1458" title="https://github.com/bytecodealliance/wasmtime/issues/1458">Issue #1458</a>:</p>
<blockquote>
<p>Thanks for opening a bug report! Please answer the questions below<br>
if they're relevant and delete this text before submitting.</p>
<ul>
<li>
<p>What are the steps to reproduce the issue? Can you include a CLIF test case,<br>
  ideally reduced with the <code>bugpoint</code> clif-util command?</p>
</li>
<li>
<p>What do you expect to happen? What does actually happen? Does it panic, and<br>
  if so, with which assertion?</p>
</li>
<li>
<p>Which Cranelift version / commit hash / branch are you using?</p>
</li>
<li>If relevant, can you include some extra information about your environment?<br>
  (Rust version, operating system, architecture...)</li>
</ul>
<p>Hi .. I am seeing test failures in the pr here: <a href="https://github.com/bytecodealliance/wasmtime/pull/819" title="https://github.com/bytecodealliance/wasmtime/pull/819">https://github.com/bytecodealliance/wasmtime/pull/819</a> but the failure is unrelated to the patch. Specifically it is failing to a warning about an unnecessary brace around an assignment in some code in cranelift:</p>
<p>![image](<a href="https://user-images.githubusercontent.com/45402135/78208125-72c9e700-7458-11ea-9aeb-54f33b0808fd.png" title="https://user-images.githubusercontent.com/45402135/78208125-72c9e700-7458-11ea-9aeb-54f33b0808fd.png">https://user-images.githubusercontent.com/45402135/78208125-72c9e700-7458-11ea-9aeb-54f33b0808fd.png</a>)</p>
<p>When I run this on my target machine I see no such error so I can't reproduce. Furthermore it is unclear why the error for each line number is being printed out twice. Perhaps this is some testing configuration issue.</p>
</blockquote>



<a name="192617492"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231458%20Cranelift%3A%20Build%20failure%20during%20te.../near/192617492" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231458.20Cranelift.3A.20Build.20failure.20during.20te.2E.2E.2E.html#192617492">(Apr 02 2020 at 03:38)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/issues/1458#issuecomment-607603275" title="https://github.com/bytecodealliance/wasmtime/issues/1458#issuecomment-607603275">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1458" title="https://github.com/bytecodealliance/wasmtime/issues/1458">Issue #1458</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>This issue or pull request has been labeled: "cranelift"</p>
<p>&lt;details&gt; &lt;summary&gt;Users Subscribed to "cranelift"&lt;/summary&gt;</p>
<ul>
<li>@bnjbvr</li>
</ul>
<p>&lt;/details&gt;</p>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action" title="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a></p>
</blockquote>



<a name="192624035"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231458%20Cranelift%3A%20Build%20failure%20during%20te.../near/192624035" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231458.20Cranelift.3A.20Build.20failure.20during.20te.2E.2E.2E.html#192624035">(Apr 02 2020 at 06:07)</a>:</h4>
<p>jlb6740 <a href="https://github.com/bytecodealliance/wasmtime/issues/1458#issuecomment-607640672" title="https://github.com/bytecodealliance/wasmtime/issues/1458#issuecomment-607640672">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1458" title="https://github.com/bytecodealliance/wasmtime/issues/1458">Issue #1458</a>:</p>
<blockquote>
<p>&gt; </p>
<p>Oh ... or perhaps there is a regression in nightly?</p>
</blockquote>



<a name="192642040"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231458%20Cranelift%3A%20Build%20failure%20during%20te.../near/192642040" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231458.20Cranelift.3A.20Build.20failure.20during.20te.2E.2E.2E.html#192642040">(Apr 02 2020 at 09:46)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/1458#issuecomment-607739369" title="https://github.com/bytecodealliance/wasmtime/issues/1458#issuecomment-607739369">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1458" title="https://github.com/bytecodealliance/wasmtime/issues/1458">Issue #1458</a>:</p>
<blockquote>
<p>Nightly introduced a new lint. On CI <code>-Dwarnings</code> is passed, so the lint is set to deny instead of warn. Using <code>-Dwarnings</code> is excempt from the stability guarantees as otherwise it would be impossible to introduce new lints.</p>
</blockquote>



<a name="192668616"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231458%20Cranelift%3A%20Build%20failure%20during%20te.../near/192668616" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231458.20Cranelift.3A.20Build.20failure.20during.20te.2E.2E.2E.html#192668616">(Apr 02 2020 at 13:58)</a>:</h4>
<p>bnjbvr closed <a href="https://github.com/bytecodealliance/wasmtime/issues/1458" title="https://github.com/bytecodealliance/wasmtime/issues/1458">Issue #1458</a>:</p>
<blockquote>
<p>Thanks for opening a bug report! Please answer the questions below<br>
if they're relevant and delete this text before submitting.</p>
<ul>
<li>
<p>What are the steps to reproduce the issue? Can you include a CLIF test case,<br>
  ideally reduced with the <code>bugpoint</code> clif-util command?</p>
</li>
<li>
<p>What do you expect to happen? What does actually happen? Does it panic, and<br>
  if so, with which assertion?</p>
</li>
<li>
<p>Which Cranelift version / commit hash / branch are you using?</p>
</li>
<li>If relevant, can you include some extra information about your environment?<br>
  (Rust version, operating system, architecture...)</li>
</ul>
<p>Hi .. I am seeing test failures in the pr here: <a href="https://github.com/bytecodealliance/wasmtime/pull/819" title="https://github.com/bytecodealliance/wasmtime/pull/819">https://github.com/bytecodealliance/wasmtime/pull/819</a> but the failure is unrelated to the patch. Specifically it is failing to a warning about an unnecessary brace around an assignment in some code in cranelift:</p>
<p>![image](<a href="https://user-images.githubusercontent.com/45402135/78208125-72c9e700-7458-11ea-9aeb-54f33b0808fd.png" title="https://user-images.githubusercontent.com/45402135/78208125-72c9e700-7458-11ea-9aeb-54f33b0808fd.png">https://user-images.githubusercontent.com/45402135/78208125-72c9e700-7458-11ea-9aeb-54f33b0808fd.png</a>)</p>
<p>When I run this on my target machine I see no such error so I can't reproduce. Furthermore it is unclear why the error for each line number is being printed out twice. Perhaps this is some testing configuration issue.</p>
</blockquote>



<a name="192668645"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%231458%20Cranelift%3A%20Build%20failure%20during%20te.../near/192668645" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.231458.20Cranelift.3A.20Build.20failure.20during.20te.2E.2E.2E.html#192668645">(Apr 02 2020 at 13:58)</a>:</h4>
<p>bnjbvr <a href="https://github.com/bytecodealliance/wasmtime/issues/1458#issuecomment-607863628" title="https://github.com/bytecodealliance/wasmtime/issues/1458#issuecomment-607863628">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/1458" title="https://github.com/bytecodealliance/wasmtime/issues/1458">Issue #1458</a>:</p>
<blockquote>
<p>Fixed by #1459, thanks for the patch!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>