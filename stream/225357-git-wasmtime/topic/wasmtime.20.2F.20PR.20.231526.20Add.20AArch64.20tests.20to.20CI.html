<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1526 Add AArch64 tests to CI · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html">wasmtime / PR #1526 Add AArch64 tests to CI</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="194361040"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194361040" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194361040">(Apr 16 2020 at 20:13)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1526" title="https://github.com/bytecodealliance/wasmtime/pull/1526">PR #1526</a> from <code>arm64-ci-pr</code> to <code>master</code>:</p>
<blockquote>
<p>This commit enhances our CI with an AArch64 builder. Currently we have<br>
no physical hardware to run on so for now we run all tests in an<br>
emulator. The AArch64 build is cross-compiled from x86_64 from Linux.<br>
Tests all happen in release mode with a recent version of QEMU (recent<br>
version because it's so much faster, and in release mode because debug<br>
mode tests take quite a long time in an emulator).</p>
<p>The goal here was not to get all tests passing on CI, but rather to get<br>
AArch64 running on CI and get it green at the same time. To achieve that<br>
goal many tests are now ignored on aarch64 platforms. Many tests fail<br>
due to unimplemented functionality in the aarch64 backend (#1521), and<br>
all wasmtime tests involving compilation are also disabled due to<br>
panicking attempting to generate generate instruction offset information<br>
for trap symbolication (#1523).</p>
<p>Despite this, though, all Cranelift tests and other wasmtime tests<br>
should be runnin on AArch64 through QEMU with this PR. Additionally<br>
we'll have an AArch64 binary release of Wasmtime for Linux, although it<br>
won't be too useful just yet since it will panic on almost all wasm<br>
modules.</p>
</blockquote>



<a name="194362470"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194362470" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194362470">(Apr 16 2020 at 20:24)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-394972512" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-394972512">PR Review</a>.</p>



<a name="194362471"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194362471" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194362471">(Apr 16 2020 at 20:24)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409826823" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409826823">PR Review Comment</a>:</p>
<blockquote>
<p>See #1517 for where I remove this TODO and finish this implementation. I agree that we need a way to filter out <code>test run</code> filetests based on the target ISA but I don't want to confuse anyone by overloading <code>target ...</code>; perhaps if we add some documentation at the top of this file (for cargo docs) and some text to the bottom of <a href="https://github.com/bytecodealliance/wasmtime/blob/master/cranelift/docs/testing.md" title="https://github.com/bytecodealliance/wasmtime/blob/master/cranelift/docs/testing.md">https://github.com/bytecodealliance/wasmtime/blob/master/cranelift/docs/testing.md</a>?</p>
</blockquote>



<a name="194362583"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194362583" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194362583">(Apr 16 2020 at 20:25)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-394973083" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-394973083">PR Review</a>.</p>



<a name="194362584"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194362584" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194362584">(Apr 16 2020 at 20:25)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409827301" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409827301">PR Review Comment</a>:</p>
<blockquote>
<p>And we might want to print something saying we skipped a test.</p>
</blockquote>



<a name="194362754"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194362754" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194362754">(Apr 16 2020 at 20:26)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-394973920" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-394973920">PR Review</a>.</p>



<a name="194362756"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194362756" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194362756">(Apr 16 2020 at 20:26)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409827958" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409827958">PR Review Comment</a>:</p>
<blockquote>
<p>To make this even more explicit we could add another keyword <code>only_run_on</code> (or something like that), but that could be a separate issue/PR.</p>
</blockquote>



<a name="194364421"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194364421" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194364421">(Apr 16 2020 at 20:39)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1526" title="https://github.com/bytecodealliance/wasmtime/pull/1526">PR #1526</a> from <code>arm64-ci-pr</code> to <code>master</code>:</p>
<blockquote>
<p>This commit enhances our CI with an AArch64 builder. Currently we have<br>
no physical hardware to run on so for now we run all tests in an<br>
emulator. The AArch64 build is cross-compiled from x86_64 from Linux.<br>
Tests all happen in release mode with a recent version of QEMU (recent<br>
version because it's so much faster, and in release mode because debug<br>
mode tests take quite a long time in an emulator).</p>
<p>The goal here was not to get all tests passing on CI, but rather to get<br>
AArch64 running on CI and get it green at the same time. To achieve that<br>
goal many tests are now ignored on aarch64 platforms. Many tests fail<br>
due to unimplemented functionality in the aarch64 backend (#1521), and<br>
all wasmtime tests involving compilation are also disabled due to<br>
panicking attempting to generate generate instruction offset information<br>
for trap symbolication (#1523).</p>
<p>Despite this, though, all Cranelift tests and other wasmtime tests<br>
should be runnin on AArch64 through QEMU with this PR. Additionally<br>
we'll have an AArch64 binary release of Wasmtime for Linux, although it<br>
won't be too useful just yet since it will panic on almost all wasm<br>
modules.</p>
</blockquote>



<a name="194368737"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194368737" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194368737">(Apr 16 2020 at 21:18)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395006525" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395006525">PR Review</a>.</p>



<a name="194368738"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194368738" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194368738">(Apr 16 2020 at 21:18)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409854323" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409854323">PR Review Comment</a>:</p>
<blockquote>
<p>I'm fine basically doing whatever here, although I'm pretty unfamiliar with cranelift's currently test runner/suite. It seems like documenting this change is a bare minimum, but beyond that do you think something should happen here or in a future pr?</p>
</blockquote>



<a name="194368781"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194368781" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194368781">(Apr 16 2020 at 21:19)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395006827" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395006827">PR Review</a>.</p>



<a name="194368782"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194368782" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194368782">(Apr 16 2020 at 21:19)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409854598" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409854598">PR Review Comment</a>:</p>
<blockquote>
<p>Does the filetest infrastructure print out anything else currently? Curious if I can see an example of what format to print and such.</p>
</blockquote>



<a name="194369310"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194369310" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194369310">(Apr 16 2020 at 21:23)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395009663" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395009663">PR Review</a>.</p>



<a name="194369311"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194369311" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194369311">(Apr 16 2020 at 21:23)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409856955" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409856955">PR Review Comment</a>:</p>
<blockquote>
<p>Hm, I don't feel really strongly about the <code>only_run_on</code> idea so I guess we could just document and if someone else cares enough we could take it further.</p>
</blockquote>



<a name="194369755"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194369755" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194369755">(Apr 16 2020 at 21:28)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395011984" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395011984">PR Review</a>.</p>



<a name="194369756"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194369756" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194369756">(Apr 16 2020 at 21:28)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409858858" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409858858">PR Review Comment</a>:</p>
<blockquote>
<p>Over in <code>cranelift/src/filetests/runner.rs</code> it is printing <code>FAIL {path}: {error}</code> so maybe we could print <code>IGNORE {path}: host ISA did not match target ISA</code>? That way at least there is some indication that things didn't run perfectly.</p>
</blockquote>



<a name="194373609"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194373609" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194373609">(Apr 16 2020 at 22:07)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395031785" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395031785">PR Review</a>.</p>



<a name="194373610"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194373610" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194373610">(Apr 16 2020 at 22:07)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409875433" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409875433">PR Review Comment</a>:</p>
<blockquote>
<p>???</p>
</blockquote>



<a name="194373611"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194373611" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194373611">(Apr 16 2020 at 22:07)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395031785" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395031785">PR Review</a>.</p>



<a name="194373612"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194373612" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194373612">(Apr 16 2020 at 22:07)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409875768" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r409875768">PR Review Comment</a>:</p>
<blockquote>
<p>Shouldn't this be false and the line above true?</p>
</blockquote>



<a name="194469986"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194469986" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194469986">(Apr 17 2020 at 16:58)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395621549" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395621549">PR Review</a>.</p>



<a name="194469988"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194469988" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194469988">(Apr 17 2020 at 16:58)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r410351334" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r410351334">PR Review Comment</a>:</p>
<blockquote>
<p>This is an internal script we use to build tarballs, it's not really intended to be super-well-documented or make a ton of sense...</p>
</blockquote>



<a name="194469998"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194469998" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194469998">(Apr 17 2020 at 16:58)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395621697" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395621697">PR Review</a>.</p>



<a name="194470000"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194470000" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194470000">(Apr 17 2020 at 16:58)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r410351444" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r410351444">PR Review Comment</a>:</p>
<blockquote>
<p>No, this is as-intended (hence the green CI passing)</p>
</blockquote>



<a name="194497378"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194497378" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194497378">(Apr 17 2020 at 20:44)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395761219" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395761219">PR Review</a>.</p>



<a name="194497380"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194497380" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194497380">(Apr 17 2020 at 20:44)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r410460820" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r410460820">PR Review Comment</a>:</p>
<blockquote>
<p>Hm so it looks like the <code>path</code> isn't already threaded through, would you be ok to follow-up with this at a later date?</p>
</blockquote>



<a name="194497532"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194497532" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194497532">(Apr 17 2020 at 20:46)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1526" title="https://github.com/bytecodealliance/wasmtime/pull/1526">PR #1526</a> from <code>arm64-ci-pr</code> to <code>master</code>:</p>
<blockquote>
<p>This commit enhances our CI with an AArch64 builder. Currently we have<br>
no physical hardware to run on so for now we run all tests in an<br>
emulator. The AArch64 build is cross-compiled from x86_64 from Linux.<br>
Tests all happen in release mode with a recent version of QEMU (recent<br>
version because it's so much faster, and in release mode because debug<br>
mode tests take quite a long time in an emulator).</p>
<p>The goal here was not to get all tests passing on CI, but rather to get<br>
AArch64 running on CI and get it green at the same time. To achieve that<br>
goal many tests are now ignored on aarch64 platforms. Many tests fail<br>
due to unimplemented functionality in the aarch64 backend (#1521), and<br>
all wasmtime tests involving compilation are also disabled due to<br>
panicking attempting to generate generate instruction offset information<br>
for trap symbolication (#1523).</p>
<p>Despite this, though, all Cranelift tests and other wasmtime tests<br>
should be runnin on AArch64 through QEMU with this PR. Additionally<br>
we'll have an AArch64 binary release of Wasmtime for Linux, although it<br>
won't be too useful just yet since it will panic on almost all wasm<br>
modules.</p>
</blockquote>



<a name="194507718"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194507718" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194507718">(Apr 17 2020 at 22:25)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1526" title="https://github.com/bytecodealliance/wasmtime/pull/1526">PR #1526</a> from <code>arm64-ci-pr</code> to <code>master</code>:</p>
<blockquote>
<p>This commit enhances our CI with an AArch64 builder. Currently we have<br>
no physical hardware to run on so for now we run all tests in an<br>
emulator. The AArch64 build is cross-compiled from x86_64 from Linux.<br>
Tests all happen in release mode with a recent version of QEMU (recent<br>
version because it's so much faster, and in release mode because debug<br>
mode tests take quite a long time in an emulator).</p>
<p>The goal here was not to get all tests passing on CI, but rather to get<br>
AArch64 running on CI and get it green at the same time. To achieve that<br>
goal many tests are now ignored on aarch64 platforms. Many tests fail<br>
due to unimplemented functionality in the aarch64 backend (#1521), and<br>
all wasmtime tests involving compilation are also disabled due to<br>
panicking attempting to generate generate instruction offset information<br>
for trap symbolication (#1523).</p>
<p>Despite this, though, all Cranelift tests and other wasmtime tests<br>
should be runnin on AArch64 through QEMU with this PR. Additionally<br>
we'll have an AArch64 binary release of Wasmtime for Linux, although it<br>
won't be too useful just yet since it will panic on almost all wasm<br>
modules.</p>
</blockquote>



<a name="194511215"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194511215" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194511215">(Apr 17 2020 at 23:15)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395821091" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-395821091">PR Review</a>.</p>



<a name="194511216"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194511216" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194511216">(Apr 17 2020 at 23:15)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r410510668" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r410510668">PR Review Comment</a>:</p>
<blockquote>
<p>Sure, tag me in an issue and I will try to look at this later.</p>
</blockquote>



<a name="194688239"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194688239" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194688239">(Apr 20 2020 at 15:09)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1526" title="https://github.com/bytecodealliance/wasmtime/pull/1526">PR #1526</a> from <code>arm64-ci-pr</code> to <code>master</code>:</p>
<blockquote>
<p>This commit enhances our CI with an AArch64 builder. Currently we have<br>
no physical hardware to run on so for now we run all tests in an<br>
emulator. The AArch64 build is cross-compiled from x86_64 from Linux.<br>
Tests all happen in release mode with a recent version of QEMU (recent<br>
version because it's so much faster, and in release mode because debug<br>
mode tests take quite a long time in an emulator).</p>
<p>The goal here was not to get all tests passing on CI, but rather to get<br>
AArch64 running on CI and get it green at the same time. To achieve that<br>
goal many tests are now ignored on aarch64 platforms. Many tests fail<br>
due to unimplemented functionality in the aarch64 backend (#1521), and<br>
all wasmtime tests involving compilation are also disabled due to<br>
panicking attempting to generate generate instruction offset information<br>
for trap symbolication (#1523).</p>
<p>Despite this, though, all Cranelift tests and other wasmtime tests<br>
should be runnin on AArch64 through QEMU with this PR. Additionally<br>
we'll have an AArch64 binary release of Wasmtime for Linux, although it<br>
won't be too useful just yet since it will panic on almost all wasm<br>
modules.</p>
</blockquote>



<a name="194688438"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194688438" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194688438">(Apr 20 2020 at 15:10)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-396547028" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-396547028">PR Review</a>.</p>



<a name="194688439"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194688439" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194688439">(Apr 20 2020 at 15:10)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r411457715" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r411457715">PR Review Comment</a>:</p>
<blockquote>
<p>Sure thing! Extracted out <a href="https://github.com/bytecodealliance/wasmtime/issues/1558" title="https://github.com/bytecodealliance/wasmtime/issues/1558">https://github.com/bytecodealliance/wasmtime/issues/1558</a></p>
</blockquote>



<a name="194846879"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194846879" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194846879">(Apr 21 2020 at 18:57)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1526" title="https://github.com/bytecodealliance/wasmtime/pull/1526">PR #1526</a> from <code>arm64-ci-pr</code> to <code>master</code>:</p>
<blockquote>
<p>This commit enhances our CI with an AArch64 builder. Currently we have<br>
no physical hardware to run on so for now we run all tests in an<br>
emulator. The AArch64 build is cross-compiled from x86_64 from Linux.<br>
Tests all happen in release mode with a recent version of QEMU (recent<br>
version because it's so much faster, and in release mode because debug<br>
mode tests take quite a long time in an emulator).</p>
<p>The goal here was not to get all tests passing on CI, but rather to get<br>
AArch64 running on CI and get it green at the same time. To achieve that<br>
goal many tests are now ignored on aarch64 platforms. Many tests fail<br>
due to unimplemented functionality in the aarch64 backend (#1521), and<br>
all wasmtime tests involving compilation are also disabled due to<br>
panicking attempting to generate generate instruction offset information<br>
for trap symbolication (#1523).</p>
<p>Despite this, though, all Cranelift tests and other wasmtime tests<br>
should be runnin on AArch64 through QEMU with this PR. Additionally<br>
we'll have an AArch64 binary release of Wasmtime for Linux, although it<br>
won't be too useful just yet since it will panic on almost all wasm<br>
modules.</p>
</blockquote>



<a name="194944823"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194944823" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194944823">(Apr 22 2020 at 15:05)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1526" title="https://github.com/bytecodealliance/wasmtime/pull/1526">PR #1526</a> from <code>arm64-ci-pr</code> to <code>master</code>:</p>
<blockquote>
<p>This commit enhances our CI with an AArch64 builder. Currently we have<br>
no physical hardware to run on so for now we run all tests in an<br>
emulator. The AArch64 build is cross-compiled from x86_64 from Linux.<br>
Tests all happen in release mode with a recent version of QEMU (recent<br>
version because it's so much faster, and in release mode because debug<br>
mode tests take quite a long time in an emulator).</p>
<p>The goal here was not to get all tests passing on CI, but rather to get<br>
AArch64 running on CI and get it green at the same time. To achieve that<br>
goal many tests are now ignored on aarch64 platforms. Many tests fail<br>
due to unimplemented functionality in the aarch64 backend (#1521), and<br>
all wasmtime tests involving compilation are also disabled due to<br>
panicking attempting to generate generate instruction offset information<br>
for trap symbolication (#1523).</p>
<p>Despite this, though, all Cranelift tests and other wasmtime tests<br>
should be runnin on AArch64 through QEMU with this PR. Additionally<br>
we'll have an AArch64 binary release of Wasmtime for Linux, although it<br>
won't be too useful just yet since it will panic on almost all wasm<br>
modules.</p>
</blockquote>



<a name="194947615"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194947615" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194947615">(Apr 22 2020 at 15:24)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1526" title="https://github.com/bytecodealliance/wasmtime/pull/1526">PR #1526</a> from <code>arm64-ci-pr</code> to <code>master</code>:</p>
<blockquote>
<p>This commit enhances our CI with an AArch64 builder. Currently we have<br>
no physical hardware to run on so for now we run all tests in an<br>
emulator. The AArch64 build is cross-compiled from x86_64 from Linux.<br>
Tests all happen in release mode with a recent version of QEMU (recent<br>
version because it's so much faster, and in release mode because debug<br>
mode tests take quite a long time in an emulator).</p>
<p>The goal here was not to get all tests passing on CI, but rather to get<br>
AArch64 running on CI and get it green at the same time. To achieve that<br>
goal many tests are now ignored on aarch64 platforms. Many tests fail<br>
due to unimplemented functionality in the aarch64 backend (#1521), and<br>
all wasmtime tests involving compilation are also disabled due to<br>
panicking attempting to generate generate instruction offset information<br>
for trap symbolication (#1523).</p>
<p>Despite this, though, all Cranelift tests and other wasmtime tests<br>
should be runnin on AArch64 through QEMU with this PR. Additionally<br>
we'll have an AArch64 binary release of Wasmtime for Linux, although it<br>
won't be too useful just yet since it will panic on almost all wasm<br>
modules.</p>
</blockquote>



<a name="194963733"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194963733" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194963733">(Apr 22 2020 at 17:20)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-398399288" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-398399288">PR Review</a>.</p>



<a name="194963735"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194963735" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194963735">(Apr 22 2020 at 17:20)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-398399288" title="https://github.com/bytecodealliance/wasmtime/pull/1526#pullrequestreview-398399288">PR Review</a>.</p>



<a name="194963736"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194963736" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194963736">(Apr 22 2020 at 17:20)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r413164693" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r413164693">PR Review Comment</a>:</p>
<blockquote>
<p>Just for future sanity -- maybe standardize on <code>$platform</code>, and add a <code># Usage: build-tarballs.sh PLATFORM [.exe] (PLATFORM is e.g. x86_64-linux, aarch64-linux)</code> comment (no need for an actual arg check)?</p>
</blockquote>



<a name="194963737"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194963737" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194963737">(Apr 22 2020 at 17:20)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r413168303" title="https://github.com/bytecodealliance/wasmtime/pull/1526#discussion_r413168303">PR Review Comment</a>:</p>
<blockquote>
<p>Little clarity nit, but maybe add a comment here to distinguish from the "test that this correctly panics" unit-test idiom. Something like <code>// Determine whether to add a should_panic attribute. These tests currently panic because of unfinished backend implementation work; we will remove them from this list as we finish the implementation.</code></p>
</blockquote>



<a name="194968528"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194968528" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194968528">(Apr 22 2020 at 17:56)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1526" title="https://github.com/bytecodealliance/wasmtime/pull/1526">PR #1526</a> from <code>arm64-ci-pr</code> to <code>master</code>:</p>
<blockquote>
<p>This commit enhances our CI with an AArch64 builder. Currently we have<br>
no physical hardware to run on so for now we run all tests in an<br>
emulator. The AArch64 build is cross-compiled from x86_64 from Linux.<br>
Tests all happen in release mode with a recent version of QEMU (recent<br>
version because it's so much faster, and in release mode because debug<br>
mode tests take quite a long time in an emulator).</p>
<p>The goal here was not to get all tests passing on CI, but rather to get<br>
AArch64 running on CI and get it green at the same time. To achieve that<br>
goal many tests are now ignored on aarch64 platforms. Many tests fail<br>
due to unimplemented functionality in the aarch64 backend (#1521), and<br>
all wasmtime tests involving compilation are also disabled due to<br>
panicking attempting to generate generate instruction offset information<br>
for trap symbolication (#1523).</p>
<p>Despite this, though, all Cranelift tests and other wasmtime tests<br>
should be runnin on AArch64 through QEMU with this PR. Additionally<br>
we'll have an AArch64 binary release of Wasmtime for Linux, although it<br>
won't be too useful just yet since it will panic on almost all wasm<br>
modules.</p>
</blockquote>



<a name="194968538"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231526%20Add%20AArch64%20tests%20to%20CI/near/194968538" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231526.20Add.20AArch64.20tests.20to.20CI.html#194968538">(Apr 22 2020 at 17:56)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1526" title="https://github.com/bytecodealliance/wasmtime/pull/1526">PR #1526</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>