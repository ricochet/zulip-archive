<html>
<head><meta charset="utf-8"><title>wasmtime / PR #8569 [20.0.0]: Backport fixes from main br... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238569.20.5B20.2E0.2E0.5D.3A.20Backport.20fixes.20from.20main.20br.2E.2E.2E.html">wasmtime / PR #8569 [20.0.0]: Backport fixes from main br...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="437420429"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238569%20%5B20.0.0%5D%3A%20Backport%20fixes%20from%20main%20br.../near/437420429" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238569.20.5B20.2E0.2E0.5D.3A.20Backport.20fixes.20from.20main.20br.2E.2E.2E.html#437420429">(May 07 2024 at 10:08)</a>:</h4>
<p>dundargoc opened <a href="https://github.com/bytecodealliance/wasmtime/pull/8569">PR #8569</a> from <code>dundargoc:backport/release-20.0.0</code> to <code>bytecodealliance:release-20.0.0</code>.</p>



<a name="437420430"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238569%20%5B20.0.0%5D%3A%20Backport%20fixes%20from%20main%20br.../near/437420430" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238569.20.5B20.2E0.2E0.5D.3A.20Backport.20fixes.20from.20main.20br.2E.2E.2E.html#437420430">(May 07 2024 at 10:08)</a>:</h4>
<p><strong>dundargoc</strong> requested <a href="https://github.com/elliottt">elliottt</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8569">PR #8569</a>.</p>



<a name="437420431"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238569%20%5B20.0.0%5D%3A%20Backport%20fixes%20from%20main%20br.../near/437420431" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238569.20.5B20.2E0.2E0.5D.3A.20Backport.20fixes.20from.20main.20br.2E.2E.2E.html#437420431">(May 07 2024 at 10:08)</a>:</h4>
<p><strong>dundargoc</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8569">PR #8569</a>.</p>



<a name="437420433"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238569%20%5B20.0.0%5D%3A%20Backport%20fixes%20from%20main%20br.../near/437420433" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238569.20.5B20.2E0.2E0.5D.3A.20Backport.20fixes.20from.20main.20br.2E.2E.2E.html#437420433">(May 07 2024 at 10:08)</a>:</h4>
<p><strong>dundargoc</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/8569">PR #8569</a>.</p>



<a name="437420451"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238569%20%5B20.0.0%5D%3A%20Backport%20fixes%20from%20main%20br.../near/437420451" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238569.20.5B20.2E0.2E0.5D.3A.20Backport.20fixes.20from.20main.20br.2E.2E.2E.html#437420451">(May 07 2024 at 10:08)</a>:</h4>
<p>dundargoc edited <a href="https://github.com/bytecodealliance/wasmtime/pull/8569">PR #8569</a>:</p>
<blockquote>
<ul>
<li>
<p>[20.0.0]: Backport fixes from main to the release branch (#8331)</p>
</li>
<li>
<p>cranelift: Include clobbers and outgoing args in stack limit (#8301)</p>
</li>
</ul>
<p>When we compute the amount of space that we need in a stack frame for<br>
the stack limit check, we were only counting spill-slots and explicit<br>
stack-slots. However, we need to account for all uses of the stack which<br>
occur before the next stack limit check. That includes clobbers and any<br>
stack arguments we want to pass to callees.</p>
<p>The maximum amount that we could have missed by is essentially bounded<br>
by the number of arguments which could be passed to a function. In<br>
Wasmtime, that is limited by <code>MAX_WASM_FUNCTION_PARAMS</code> in<br>
<code>wasmparser::limits</code>, which is set to 1,000, and the largest arguments<br>
are 16-byte vectors, so this could undercount by about 16kB.</p>
<p>This is not a security issue according to Wasmtime's security policy<br>
(<a href="https://docs.wasmtime.dev/security-what-is-considered-a-security-vulnerability.html">https://docs.wasmtime.dev/security-what-is-considered-a-security-vulnerability.html</a>)<br>
because it's the embedder's responsibility to ensure that the stack<br>
where Wasmtime is running has enough extra space on top of the<br>
configured <code>max_wasm_stack</code> size, and getting within 16kB of the host<br>
stack size is too small to be safe even with this fixed.</p>
<p>However, this was definitely not the intended behavior when stack limit<br>
checks or stack probes are enabled, and anyone with non-default<br>
configurations or non-Wasmtime uses of Cranelift should evaluate whether<br>
this bug impacts your use case.</p>
<p>(For reference: When Wasmtime is used in async mode or on Linux, the<br>
default stack size is 1.5MB larger than the default WebAssembly stack<br>
limit, so such configurations are typically safe regardless. On the<br>
other hand, on macOS the default non-async stack size for threads other<br>
than the main thread is the same size as the default for<br>
<code>max_wasm_stack</code>, so that is too small with or without this bug fix.)</p>
<ul>
<li>fix: bindgen trappable_errors using unversion/versioned packages (#8305)</li>
</ul>
<p>Signed-off-by: Brian H &lt;<a href="mailto:brian.hardock@fermyon.com">brian.hardock@fermyon.com</a>&gt;</p>
<ul>
<li>
<p>Cranelift: Do not dedupe/GVN bitcasts from reference values (#8317)</p>
</li>
<li>
<p>Cranelift: Do not dedupe/GVN bitcasts from reference values</p>
</li>
</ul>
<p>Deduping bitcasts to integers from references can make the references no long<br>
longer live across safepoints, and instead only the bitcasted integer results<br>
would be. Because the reference is no longer live after the safepoint, the<br>
safepoint's stack map would not have an entry for the reference, which could<br>
result in the collector reclaiming an object too early, which is basically a<br>
use-after-free bug. Luckily, we sandbox the GC heap now, so such UAF bugs aren't<br>
memory unsafe, but they could potentially result in denial of service<br>
attacks. Either way, we don't want those bugs!</p>
<p>On the other hand, it is technically fine to dedupe bitcasts <em>to</em> reference<br>
types. Doing so extends, rather than shortens, the live range of the GC<br>
reference. This potentially adds it to more stack maps than it otherwise would<br>
have been in, which means it might unnecessarily survive a GC it otherwise<br>
wouldn't have. But that is fine. Shrinking live ranges of GC references, and<br>
removing them from stack maps they otherwise should have been in, is the<br>
problematic transformation.</p>
<ul>
<li>
<p>Add additional logging and debug asserts for GC stuff</p>
</li>
<li>
<p>Handle out-of-bounds component sections (#8323)</p>
</li>
<li>
<p>Handle out-of-bounds component sections</p>
</li>
</ul>
<p>Fixes <a href="https://github.com/bytecodealliance/wasmtime/issues/8322">https://github.com/bytecodealliance/wasmtime/issues/8322</a></p>
<ul>
<li>Add a test that trancated component binaries don't cause panics</li>
</ul>
<hr>
<p>Signed-off-by: Brian H &lt;<a href="mailto:brian.hardock@fermyon.com">brian.hardock@fermyon.com</a>&gt;<br>
Co-authored-by: Jamey Sharp &lt;<a href="mailto:jsharp@fastly.com">jsharp@fastly.com</a>&gt;<br>
Co-authored-by: Brian &lt;<a href="mailto:brian.hardock@fermyon.com">brian.hardock@fermyon.com</a>&gt;<br>
Co-authored-by: Nick Fitzgerald &lt;<a href="mailto:fitzgen@gmail.com">fitzgen@gmail.com</a>&gt;</p>
<ul>
<li>
<p>Backport 8066 to release-20.0.0 (#8351)</p>
</li>
<li>
<p>wasmtime-c-api: switch from wasi-common to wasmtime-wasi (#8066)</p>
</li>
<li>
<p>wasmtime-c-api: switch from using wasi-common to wasmtime-wasi</p>
</li>
<li>
<p>Fix WasiP1Ctx references, and stop eagerly opening dirs for preopens</p>
</li>
<li>
<p>Add OutputFile to skip async writes in stdout/stderr</p>
</li>
</ul>
<hr>
<p>Co-authored-by: Trevor Elliott &lt;<a href="mailto:telliott@fastly.com">telliott@fastly.com</a>&gt;</p>
<ul>
<li>Add release notes for 8066</li>
</ul>
<hr>
<p>Co-authored-by: Pat Hickey &lt;<a href="mailto:phickey@fastly.com">phickey@fastly.com</a>&gt;</p>
<ul>
<li>
<p>[20.0.0] More backports of fixes, mostly c-api related (#8368)</p>
</li>
<li>
<p>c-api: Better differentiate between <code>wasm.h</code> and <code>wasmtime.h</code> APIs (#8344)</p>
</li>
</ul>
<p>This renames some types and adds some type aliases to help us better distinguish<br>
between <code>wasm.h</code> APIs and <code>wasmtime.h</code> APIs, primarily for <code>Store</code>-related<br>
types. In general, <code>WasmFoo</code> is related to <code>wasm.h</code> and <code>WasmtimeFoo</code> is related<br>
to <code>wasmtime.h</code>.</p>
<ul>
<li><code>StoreRef</code> -&gt; <code>WasmStoreRef</code></li>
<li>Introduce the <code>WasmStore[Data]</code> and <code>WasmStoreContext[Mut]</code> aliases</li>
<li><code>StoreData</code> -&gt; <code>WasmtimeStoreData</code></li>
<li><code>CStoreContext[Mut]</code> -&gt; <code>WasmtimeStoreContext[Mut]</code></li>
<li>
<p>Introduce the <code>Wasmtime{Store,Caller}</code> aliases</p>
</li>
<li>
<p><code>wasmtime-c-api</code>: Improve non-support of GC references in <code>wasm.h</code> APIs (#8345)</p>
</li>
<li>
<p>c-api: Better differentiate between <code>wasm.h</code> and <code>wasmtime.h</code> APIs</p>
</li>
</ul>
<p>This renames some types and adds some type aliases to help us better distinguish<br>
between <code>wasm.h</code> APIs and <code>wasmtime.h</code> APIs, primarily for <code>Store</code>-related<br>
types. In general, <code>WasmFoo</code> is related to <code>wasm.h</code> and <code>WasmtimeFoo</code> is related<br>
to <code>wasmtime.h</code>.</p>
<ul>
<li><code>StoreRef</code> -&gt; <code>WasmStoreRef</code></li>
<li>Introduce the <code>WasmStore[Data]</code> and <code>WasmStoreContext[Mut]</code> aliases</li>
<li><code>StoreData</code> -&gt; <code>WasmtimeStoreData</code></li>
<li><code>CStoreContext[Mut]</code> -&gt; <code>WasmtimeStoreContext[Mut]</code></li>
<li>
<p>Introduce the <code>Wasmtime{Store,Caller}</code> aliases</p>
</li>
<li>
<p>c-api: Improve non-support of GC references in <code>wasm.h</code> APIs</p>
</li>
</ul>
<p>A couple small tweaks: error message improvements, exhaustive matching, etc...</p>
<ul>
<li>
<p>Fix running wasi-common tests on CI (#8353)</p>
</li>
<li>
<p>Fix running wasi-common tests on CI</p>
</li>
</ul>
<p>Turns out we haven't been running wasi-common tests for some time in CI<br>
and they've started failing. Force enable the test at all times and then<br>
fix the test failures. The test failures here were introduced in #8277<br>
and weren't caught due to the test not running and the fix was to relax<br>
the implementation of <code>fd_pread</code> to avoid taking multiple mutable<br>
borrows.</p>
<ul>
<li>
<p>Fix CI</p>
</li>
<li>
<p>Update release notes for 20.0.0 (#8358)</p>
</li>
</ul>
<p>A busy release!</p>
<ul>
<li>Enable the gc feature by default in the c-api (#8356)</li>
</ul>
<p>Match the Wasmtime crate in this respect</p>
<ul>
<li>wasmtime-c-api: Add support for GC references in <code>wasmtime.h</code> APIs (#8346)</li>
</ul>
<p>Restores support for <code>externref</code> in <code>wasmtime_val_t</code>, methods for manipulating<br>
them and getting their wrapped host data, and examples/tests for these things.</p>
<p>Additionally adds support for <code>anyref</code> in <code>wasmtime_val_t</code>, clone/delete methods<br>
similar to those for <code>externref</code>, and a few <code>i31ref</code>-specific methods. Also adds<br>
C and Rust example / test for working with <code>anyref</code>.</p>
<ul>
<li>
<p>Fix calculation of gc refs in functions (#8355)</p>
</li>
<li>
<p>Fix calculation of gc refs in functions</p>
</li>
</ul>
<p>In addition to excluding i31 also exclude funcrefs.</p>
<ul>
<li>
<p>Review comments</p>
</li>
<li>
<p>Remove <code>wasi_config_preopen_socket</code> from C header (#8364)</p>
</li>
</ul>
<p>This was removed in #8066</p>
<ul>
<li>
<p>Tidy up some headers related to shared memory (#8366)</p>
</li>
<li>
<p>Tidy up some headers related to shared memory</p>
</li>
<li>
<p>Don't declare an anonymous <code>struct wasmtime_sharedmemory</code>, instead<br>
<code>#include</code> the actual definition.</p>
</li>
<li>
<p>Fix an issue where a header in <code>sharedmemory.h</code> referred to a type in<br>
<code>extern.h</code> which wasn't <code>#include</code>'d. This function,<br>
<code>wasmtime_sharedmemory_into_extern</code>, additionally isn't necessary as<br>
  it's no different than manually constructing it. Fix this by removing<br>
  this function.</p>
</li>
<li>
<p>Run clang-format</p>
</li>
<li>
<p>c-api: Fix alignment of <code>wasmtime_val_*</code> (#8363)</p>
</li>
<li>
<p>c-api: Fix alignment of <code>wasmtime_val_*</code></p>
</li>
</ul>
<p>This commit fixes an issue where <code>wasmtime_val_raw_t</code> had an incorrect<br>
alignment. In Rust <code>ValRaw</code> contains a <code>u128</code> which has an alignment of<br>
16 but in C the representation had a smaller alignment meaning that the<br>
alignment of the two structures was different. This was seen to cause<br>
alignment faults when structure were passed from C++ to Rust, for<br>
example.</p>
<p>This commit changes the Rust representation of <code>ValRaw</code>'s <code>v128</code> field<br>
to do the same as C which is to use <code>[u8; 16]</code>. This avoids the need to<br>
raise the alignment in C which appears to be nontrivial. Cranelift is<br>
appropriately adjusted to understand that loads/stores from <code>ValRaw</code> are<br>
no longer aligned. Technically this only applies to the <code>v128</code> field but<br>
it's not too bad to apply it to the other fields as well.</p>
<ul>
<li>
<p>Try alternate syntax for alignof</p>
</li>
<li>
<p>Use <code>--locked</code> on all <code>cargo install</code> in CI, also remove non-locked example (#8369)</p>
</li>
<li>
<p>Use <code>--locked</code> on all <code>cargo install</code> in CI</p>
</li>
</ul>
<p>Prevents any updates to rustc or crates from accidentally causing issues<br>
by ensuring that the same set of deps is used over time.</p>
<ul>
<li>Remove rust/WASI markdown parser example</li>
</ul>
<p>The documentation referring to this example was removed in #6994 and<br>
that forgot to remove this as well. This example is building without a<br>
lock file which is causing issues in #8368.</p>
<hr>
<p>Co-authored-by: Nick Fitzgerald &lt;<a href="mailto:fitzgen@gmail.com">fitzgen@gmail.com</a>&gt;</p>
<ul>
<li>
<p>c-api: Create <code>RootScope</code> where necessary (#8374) (#8375)</p>
</li>
<li>
<p>c-api: Create <code>RootScope</code> where necessary</p>
</li>
</ul>
<p>This commit changes the <code>wasmtime_val_t::{from_val, to_val}</code> methods to<br>
take a <code>RootScope</code> instead of any <code>AsContextMut</code>. This then required a<br>
number of refactorings in callers to ensure that a <code>RootScope</code> was<br>
created for any function that needed one. This is required to ensure<br>
that GC references in the C API aren't forced to live for the entire<br>
lifetime of the store.</p>
<p>This additionally added <code>*_unrooted</code> variants which do the same thing<br>
but don't require <code>RootScope</code>. This was needed for when the C API calls<br>
out to the embedder through a function call because a new <code>RootScope</code><br>
wouldn't work for return values (they're bound to a scope within the<br>
closure when we want them to outlive the closure). In these situations<br>
though we know a <code>RootScope</code> is already present at the entrypoint.</p>
<p>Closes #8367</p>
<ul>
<li>
<p>Review comments</p>
</li>
<li>
<p>Fix use-after-free in externref example (#8410) (#8414)</p>
</li>
</ul>
<p>[message truncated]</p>
</blockquote>



<a name="437420628"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238569%20%5B20.0.0%5D%3A%20Backport%20fixes%20from%20main%20br.../near/437420628" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238569.20.5B20.2E0.2E0.5D.3A.20Backport.20fixes.20from.20main.20br.2E.2E.2E.html#437420628">(May 07 2024 at 10:09)</a>:</h4>
<p>dundargoc edited <a href="https://github.com/bytecodealliance/wasmtime/pull/8569">PR #8569</a>:</p>
<blockquote>
<ul>
<li>fix(c-api): give a cleaner error message if cargo isn't found (#8497)</li>
</ul>
<p>Instead of</p>
<blockquote>
<p>Performing build step for<br>
'wasmtime-crate''WASMTIME_CARGO_BINARY-NOTFOUND' is not recognized as an<br>
internal or external command, operable program or batch file.</p>
</blockquote>
<p>this will now instead output</p>
<blockquote>
<p>"cargo" was not found. Ensure "cargo" is in PATH. Aborting...</p>
</blockquote>
<ul>
<li>
<p>c-api: use <code>--release</code> when MinSizeRel and RelWithDebInfo is used (#8549)</p>
</li>
<li>
<p>build: add "fastest-runtime" profile for runtime optimization (#8554)</p>
</li>
</ul>
<p>This is extremely useful for cases where the default optimizations just<br>
are not enough.</p>
<p>Background: <a href="https://github.com/neovim/neovim">neovim</a> is interested to<br>
add wasmtime support in <a href="https://github.com/neovim/neovim/pull/28415">https://github.com/neovim/neovim/pull/28415</a> but<br>
we noticed that including wasmtime, even when not using wasmtime<br>
directly, heavily affects runtime performance. This is not only<br>
reflected in the increased startuptime but affects the runtime<br>
performance overall.</p>
<p>Here are the benchmarks for startuptimes for different configurations.<br>
Important to note is that all of runtime is affected, but the<br>
startuptime is a decent proxy to measure runtime performance:</p>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">No</span><span class="w"> </span><span class="n">wasm</span>
<span class="w">  </span><span class="n">Time</span><span class="w"> </span><span class="p">(</span><span class="n">mean</span><span class="w"> </span><span class="err">±</span><span class="w"> </span><span class="err">σ</span><span class="p">)</span>:      <span class="mf">50.5</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="err">±</span><span class="w">   </span><span class="mf">1.5</span><span class="w"> </span><span class="n">ms</span><span class="w">    </span><span class="p">[</span><span class="n">User</span>: <span class="mf">32.8</span><span class="w"> </span><span class="n">ms</span><span class="p">,</span><span class="w"> </span><span class="n">System</span>: <span class="mf">12.3</span><span class="w"> </span><span class="n">ms</span><span class="p">]</span>
<span class="w">  </span><span class="n">Range</span><span class="w"> </span><span class="p">(</span><span class="n">min</span><span class="w"> </span><span class="err">…</span><span class="w"> </span><span class="n">max</span><span class="p">)</span>:    <span class="mf">48.3</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="err">…</span><span class="w">  </span><span class="mf">54.4</span><span class="w"> </span><span class="n">ms</span><span class="w">    </span><span class="mi">56</span><span class="w"> </span><span class="n">runs</span>

<span class="n">Wasm</span><span class="p">,</span><span class="w"> </span><span class="n">lto</span><span class="o">=</span><span class="n">thin</span>
<span class="w">  </span><span class="n">Time</span><span class="w"> </span><span class="p">(</span><span class="n">mean</span><span class="w"> </span><span class="err">±</span><span class="w"> </span><span class="err">σ</span><span class="p">)</span>:     <span class="mf">104.9</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="err">±</span><span class="w">   </span><span class="mf">3.5</span><span class="w"> </span><span class="n">ms</span><span class="w">    </span><span class="p">[</span><span class="n">User</span>: <span class="mf">86.5</span><span class="w"> </span><span class="n">ms</span><span class="p">,</span><span class="w"> </span><span class="n">System</span>: <span class="mf">12.7</span><span class="w"> </span><span class="n">ms</span><span class="p">]</span>
<span class="w">  </span><span class="n">Range</span><span class="w"> </span><span class="p">(</span><span class="n">min</span><span class="w"> </span><span class="err">…</span><span class="w"> </span><span class="n">max</span><span class="p">)</span>:    <span class="mf">99.5</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="err">…</span><span class="w"> </span><span class="mf">111.1</span><span class="w"> </span><span class="n">ms</span><span class="w">    </span><span class="mi">26</span><span class="w"> </span><span class="n">runs</span>

<span class="n">Wasm</span><span class="p">,</span><span class="w"> </span><span class="n">lto</span><span class="o">=</span><span class="kc">true</span>
<span class="w">  </span><span class="n">Time</span><span class="w"> </span><span class="p">(</span><span class="n">mean</span><span class="w"> </span><span class="err">±</span><span class="w"> </span><span class="err">σ</span><span class="p">)</span>:      <span class="mf">83.8</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="err">±</span><span class="w">   </span><span class="mf">2.5</span><span class="w"> </span><span class="n">ms</span><span class="w">    </span><span class="p">[</span><span class="n">User</span>: <span class="mf">65.8</span><span class="w"> </span><span class="n">ms</span><span class="p">,</span><span class="w"> </span><span class="n">System</span>: <span class="mf">12.1</span><span class="w"> </span><span class="n">ms</span><span class="p">]</span>
<span class="w">  </span><span class="n">Range</span><span class="w"> </span><span class="p">(</span><span class="n">min</span><span class="w"> </span><span class="err">…</span><span class="w"> </span><span class="n">max</span><span class="p">)</span>:    <span class="mf">80.5</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="err">…</span><span class="w">  </span><span class="mf">93.3</span><span class="w"> </span><span class="n">ms</span><span class="w">    </span><span class="mi">31</span><span class="w"> </span><span class="n">runs</span>

<span class="n">Wasm</span><span class="p">,</span><span class="w"> </span><span class="n">lto</span><span class="o">=</span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="n">strip</span><span class="o">=</span><span class="s">"none"</span><span class="p">,</span><span class="w"> </span><span class="n">incremental</span><span class="o">=</span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="n">codegen</span><span class="o">-</span><span class="n">units</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">panic</span><span class="o">=</span><span class="s">"abort"</span>
<span class="w">  </span><span class="n">Time</span><span class="w"> </span><span class="p">(</span><span class="n">mean</span><span class="w"> </span><span class="err">±</span><span class="w"> </span><span class="err">σ</span><span class="p">)</span>:      <span class="mf">53.1</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="err">±</span><span class="w">   </span><span class="mf">1.0</span><span class="w"> </span><span class="n">ms</span><span class="w">    </span><span class="p">[</span><span class="n">User</span>: <span class="mf">35.5</span><span class="w"> </span><span class="n">ms</span><span class="p">,</span><span class="w"> </span><span class="n">System</span>: <span class="mf">12.5</span><span class="w"> </span><span class="n">ms</span><span class="p">]</span>
<span class="w">  </span><span class="n">Range</span><span class="w"> </span><span class="p">(</span><span class="n">min</span><span class="w"> </span><span class="err">…</span><span class="w"> </span><span class="n">max</span><span class="p">)</span>:    <span class="mf">50.6</span><span class="w"> </span><span class="n">ms</span><span class="w"> </span><span class="err">…</span><span class="w">  </span><span class="mf">55.5</span><span class="w"> </span><span class="n">ms</span><span class="w">    </span><span class="mi">54</span><span class="w"> </span><span class="n">runs</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="437505231"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238569%20%5B20.0.0%5D%3A%20Backport%20fixes%20from%20main%20br.../near/437505231" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238569.20.5B20.2E0.2E0.5D.3A.20Backport.20fixes.20from.20main.20br.2E.2E.2E.html#437505231">(May 07 2024 at 18:13)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/8569#pullrequestreview-2043863935">PR review</a>.</p>



<a name="437505237"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%238569%20%5B20.0.0%5D%3A%20Backport%20fixes%20from%20main%20br.../near/437505237" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.238569.20.5B20.2E0.2E0.5D.3A.20Backport.20fixes.20from.20main.20br.2E.2E.2E.html#437505237">(May 07 2024 at 18:13)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/8569">PR #8569</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>