<html>
<head><meta charset="utf-8"><title>wasmtime / issue #7377 curl install broken · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html">wasmtime / issue #7377 curl install broken</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="398626472"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/398626472" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#398626472">(Oct 26 2023 at 07:08)</a>:</h4>
<p>monperrus opened <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>Hi all,</p>
<p>FYI curl-based installation is broken with 404</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="err">±</span><span class="w"> </span><span class="n">curl</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//wasmtime.dev/install.sh -sSf | bash</span>
<span class="w">  </span><span class="n">Installing</span><span class="w"> </span><span class="n">latest</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Wasmtime</span><span class="w"> </span><span class="p">(</span><span class="n">https</span>:<span class="c1">//api.github.com/repos/bytecodealliance/wasmtime/releases/126307703)</span>
<span class="w">    </span><span class="n">Checking</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">Wasmtime</span><span class="w"> </span><span class="n">installation</span>
<span class="w">    </span><span class="n">Fetching</span><span class="w"> </span><span class="n">archive</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Linux</span><span class="p">,</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//api.github.com/repos/bytecodealliance/wasmtime/releases/126307703</span>
<span class="n">https</span>:<span class="c1">//github.com/bytecodealliance/wasmtime/releases/download/https://api.github.com/repos/bytecodealliance/wasmtime/releases/126307703/wasmtime-https://api.github.com/repos/bytecodealliance/wasmtime/releases/126307703-x86_64-linux.tar.xz</span>
<span class="n">curl</span>: <span class="p">(</span><span class="mi">22</span><span class="p">)</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">requested</span><span class="w"> </span><span class="n">URL</span><span class="w"> </span><span class="n">returned</span><span class="w"> </span><span class="n">error</span>: <span class="mi">404</span>

<span class="n">Error</span>: <span class="nc">Could</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">download</span><span class="w"> </span><span class="n">Wasmtime</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">'</span><span class="na">https</span>:<span class="c1">//api.github.com/repos/bytecodealliance/wasmtime/releases/126307703'. See https://github.com/bytecodealliance/wasmtime/releases for a list of available releases</span>
</code></pre></div>
<p>Thanks!<br>
</p>
</blockquote>



<a name="398712082"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/398712082" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#398712082">(Oct 26 2023 at 15:17)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1781335217">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>Thanks for the report, can you detail what system you're using? It may be that your system utilities such as <code>curl</code> or <code>cut</code> aren't behaving as the script is expecting.</p>
</blockquote>



<a name="398713335"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/398713335" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#398713335">(Oct 26 2023 at 15:23)</a>:</h4>
<p>monperrus <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1781345735">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>I'm running Ubuntu 22.04.3 LTS.<br>
Thanks!<br>
</p>
</blockquote>



<a name="398910350"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/398910350" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#398910350">(Oct 27 2023 at 14:32)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1783020872">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>Can you execute <a href="https://github.com/bytecodealliance/wasmtime.dev/blob/fa746b4c20126744a892277819f800cbd14255fa/install.sh#L43-L45">these lines manually</a> and paste their output? Ubuntu 22.04 is pretty standard so I'm not sure why they'd be going wrong.</p>
</blockquote>



<a name="399236010"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/399236010" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#399236010">(Oct 30 2023 at 06:53)</a>:</h4>
<p>monperrus <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1784582303">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">  </span><span class="n">curl</span><span class="w"> </span><span class="o">--</span><span class="n">silent</span><span class="w"> </span><span class="s">"https://api.github.com/repos/bytecodealliance/wasmtime/releases/latest"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="n">grep</span><span class="w"> </span><span class="n">tag_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="n">cut</span><span class="w"> </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="sc">'"'</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="mi">4</span>
<span class="n">https</span>:<span class="c1">//api.github.com/repos/bytecodealliance/wasmtime/releases/126802444</span>
</code></pre></div>
<p>seems pretty OK<br>
</p>
</blockquote>



<a name="399304033"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/399304033" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#399304033">(Oct 30 2023 at 13:41)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1785228332">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>Hm so that should print <code>v14.0.2</code> at this time on the terminal, not a URL, so that's the issue. Can you paste the output of the <code>curl</code> command alone perhaps?</p>
</blockquote>



<a name="399341649"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/399341649" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#399341649">(Oct 30 2023 at 16:52)</a>:</h4>
<p>monperrus <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1785653051">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p><div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="err">±</span><span class="w"> </span><span class="n">curl</span><span class="w"> </span><span class="o">--</span><span class="n">silent</span><span class="w"> </span><span class="s">"https://api.github.com/repos/bytecodealliance/wasmtime/releases/latest"</span>
<span class="p">{</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/repos/bytecodealliance/wasmtime/releases/127213349"</span><span class="p">,</span><span class="s">"assets_url"</span>:<span class="s">"https://api.github.com/repos/bytecodealliance/wasmtime/releases/127213349/assets"</span><span class="p">,</span><span class="s">"upload_url"</span>:<span class="s">"https://uploads.github.com/repos/bytecodealliance/wasmtime/releases/127213349/assets{?name,label}"</span><span class="p">,</span><span class="s">"html_url"</span>:<span class="s">"https://github.com/bytecodealliance/wasmtime/releases/tag/v14.0.3"</span><span class="p">,</span><span class="s">"id"</span>:<span class="mi">127213349</span><span class="p">,</span><span class="s">"author"</span>:<span class="p">{</span><span class="s">"login"</span>:<span class="s">"github-actions[bot]"</span><span class="p">,</span><span class="s">"id"</span>:<span class="mi">41898282</span><span class="p">,</span><span class="s">"node_id"</span>:<span class="s">"MDM6Qm90NDE4OTgyODI="</span><span class="p">,</span><span class="s">"avatar_url"</span>:<span class="s">"https://avatars.githubusercontent.com/in/15368?v=4"</span><span class="p">,</span><span class="s">"gravatar_id"</span>:<span class="s">""</span><span class="p">,</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D"</span><span class="p">,</span><span class="s">"html_url"</span>:<span class="s">"https://github.com/apps/github-actions"</span><span class="p">,</span><span class="s">"followers_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/followers"</span><span class="p">,</span><span class="s">"following_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}"</span><span class="p">,</span><span class="s">"gists_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}"</span><span class="p">,</span><span class="s">"starred_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}"</span><span class="p">,</span><span class="s">"subscriptions_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions"</span><span class="p">,</span><span class="s">"organizations_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/orgs"</span><span class="p">,</span><span class="s">"repos_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/repos"</span><span class="p">,</span><span class="s">"events_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}"</span><span class="p">,</span><span class="s">"received_events_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/received_events"</span><span class="p">,</span><span class="s">"type"</span>:<span class="s">"Bot"</span><span class="p">,</span><span class="s">"site_admin"</span>:<span class="nc">false</span><span class="p">},</span><span class="s">"node_id"</span>:<span class="s">"RE_kwDOBhDaXM4HlR8l"</span><span class="p">,</span><span class="s">"tag_name"</span>:<span class="s">"v14.0.3"</span><span class="p">,</span><span class="s">"target_commitish"</span>:<span class="s">"main"</span><span class="p">,</span><span class="s">"name"</span>:<span class="s">""</span><span class="p">,</span><span class="s">"draft"</span>:<span class="nc">false</span><span class="p">,</span><span class="s">"prerelease"</span>:<span class="nc">false</span><span class="p">,</span><span class="s">"created_at"</span>:<span class="s">"2023-10-30T15:15:54Z"</span><span class="p">,</span><span class="s">"published_at"</span>:<span class="s">"2023-10-30T16:04:19Z"</span><span class="p">,</span><span class="s">"assets"</span>:<span class="p">[{</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/repos/bytecodealliance/wasmtime/releases/assets/133083898"</span><span class="p">,</span><span class="s">"id"</span>:<span class="mi">133083898</span><span class="p">,</span><span class="s">"node_id"</span>:<span class="s">"RA_kwDOBhDaXM4H7rL6"</span><span class="p">,</span><span class="s">"name"</span>:<span class="s">"wasi_snapshot_preview1.command.wasm"</span><span class="p">,</span><span class="s">"label"</span>:<span class="s">""</span><span class="p">,</span><span class="s">"uploader"</span>:<span class="p">{</span><span class="s">"login"</span>:<span class="s">"github-actions[bot]"</span><span class="p">,</span><span class="s">"id"</span>:<span class="mi">41898282</span><span class="p">,</span><span class="s">"node_id"</span>:<span class="s">"MDM6Qm90NDE4OTgyODI="</span><span class="p">,</span><span class="s">"avatar_url"</span>:<span class="s">"https://avatars.githubusercontent.com/in/15368?v=4"</span><span class="p">,</span><span class="s">"gravatar_id"</span>:<span class="s">""</span><span class="p">,</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D"</span><span class="p">,</span><span class="s">"html_url"</span>:<span class="s">"https://github.com/apps/github-actions"</span><span class="p">,</span><span class="s">"followers_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/followers"</span><span class="p">,</span><span class="s">"following_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}"</span><span class="p">,</span><span class="s">"gists_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}"</span><span class="p">,</span><span class="s">"starred_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}"</span><span class="p">,</span><span class="s">"subscriptions_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions"</span><span class="p">,</span><span class="s">"organizations_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/orgs"</span><span class="p">,</span><span class="s">"repos_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/repos"</span><span class="p">,</span><span class="s">"events_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}"</span><span class="p">,</span><span class="s">"received_events_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/received_events"</span><span class="p">,</span><span class="s">"type"</span>:<span class="s">"Bot"</span><span class="p">,</span><span class="s">"site_admin"</span>:<span class="nc">false</span><span class="p">},</span><span class="s">"content_type"</span>:<span class="s">"application/octet-stream"</span><span class="p">,</span><span class="s">"state"</span>:<span class="s">"uploaded"</span><span class="p">,</span><span class="s">"size"</span>:<span class="mi">96692</span><span class="p">,</span><span class="s">"download_count"</span>:<span class="mi">1</span><span class="p">,</span><span class="s">"created_at"</span>:<span class="s">"2023-10-30T16:04:19Z"</span><span class="p">,</span><span class="s">"updated_at"</span>:<span class="s">"2023-10-30T16:04:20Z"</span><span class="p">,</span><span class="s">"browser_download_url"</span>:<span class="s">"https://github.com/bytecodealliance/wasmtime/releases/download/v14.0.3/wasi_snapshot_preview1.command.wasm"</span><span class="p">},{</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/repos/bytecodealliance/wasmtime/releases/assets/133083900"</span><span class="p">,</span><span class="s">"id"</span>:<span class="mi">133083900</span><span class="p">,</span><span class="s">"node_id"</span>:<span class="s">"RA_kwDOBhDaXM4H7rL8"</span><span class="p">,</span><span class="s">"name"</span>:<span class="s">"wasi_snapshot_preview1.reactor.wasm"</span><span class="p">,</span><span class="s">"label"</span>:<span class="s">""</span><span class="p">,</span><span class="s">"uploader"</span>:<span class="p">{</span><span class="s">"login"</span>:<span class="s">"github-actions[bot]"</span><span class="p">,</span><span class="s">"id"</span>:<span class="mi">41898282</span><span class="p">,</span><span class="s">"node_id"</span>:<span class="s">"MDM6Qm90NDE4OTgyODI="</span><span class="p">,</span><span class="s">"avatar_url"</span>:<span class="s">"https://avatars.githubusercontent.com/in/15368?v=4"</span><span class="p">,</span><span class="s">"gravatar_id"</span>:<span class="s">""</span><span class="p">,</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D"</span><span class="p">,</span><span class="s">"html_url"</span>:<span class="s">"https://github.com/apps/github-actions"</span><span class="p">,</span><span class="s">"followers_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/followers"</span><span class="p">,</span><span class="s">"following_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}"</span><span class="p">,</span><span class="s">"gists_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}"</span><span class="p">,</span><span class="s">"starred_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}"</span><span class="p">,</span><span class="s">"subscriptions_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions"</span><span class="p">,</span><span class="s">"organizations_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/orgs"</span><span class="p">,</span><span class="s">"repos_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/repos"</span><span class="p">,</span><span class="s">"events_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}"</span><span class="p">,</span><span class="s">"received_events_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/received_events"</span><span class="p">,</span><span class="s">"type"</span>:<span class="s">"Bot"</span><span class="p">,</span><span class="s">"site_admin"</span>:<span class="nc">false</span><span class="p">},</span><span class="s">"content_type"</span>:<span class="s">"application/octet-stream"</span><span class="p">,</span><span class="s">"state"</span>:<span class="s">"uploaded"</span><span class="p">,</span><span class="s">"size"</span>:<span class="mi">109408</span><span class="p">,</span><span class="s">"download_count"</span>:<span class="mi">1</span><span class="p">,</span><span class="s">"created_at"</span>:<span class="s">"2023-10-30T16:04:20Z"</span><span class="p">,</span><span class="s">"updated_at"</span>:<span class="s">"2023-10-30T16:04:20Z"</span><span class="p">,</span><span class="s">"browser_download_url"</span>:<span class="s">"https://github.com/bytecodealliance/wasmtime/releases/download/v14.0.3/wasi_snapshot_preview1.reactor.wasm"</span><span class="p">},{</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/repos/bytecodealliance/wasmtime/releases/assets/133083902"</span><span class="p">,</span><span class="s">"id"</span>:<span class="mi">133083902</span><span class="p">,</span><span class="s">"node_id"</span>:<span class="s">"RA_kwDOBhDaXM4H7rL-"</span><span class="p">,</span><span class="s">"name"</span>:<span class="s">"wasmtime-v14.0.3-aarch64-linux-c-api.tar.xz"</span><span class="p">,</span><span class="s">"label"</span>:<span class="s">""</span><span class="p">,</span><span class="s">"uploader"</span>:<span class="p">{</span><span class="s">"login"</span>:<span class="s">"github-actions[bot]"</span><span class="p">,</span><span class="s">"id"</span>:<span class="mi">41898282</span><span class="p">,</span><span class="s">"node_id"</span>:<span class="s">"MDM6Qm90NDE4OTgyODI="</span><span class="p">,</span><span class="s">"avatar_url"</span>:<span class="s">"https://avatars.githubusercontent.com/in/15368?v=4"</span><span class="p">,</span><span class="s">"gravatar_id"</span>:<span class="s">""</span><span class="p">,</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D"</span><span class="p">,</span><span class="s">"html_url"</span>:<span class="s">"https://github.com/apps/github-actions"</span><span class="p">,</span><span class="s">"followers_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/followers"</span><span class="p">,</span><span class="s">"following_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}"</span><span class="p">,</span><span class="s">"gists_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}"</span><span class="p">,</span><span class="s">"starred_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}"</span><span class="p">,</span><span class="s">"subscriptions_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions"</span><span class="p">,</span><span class="s">"organizations_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/orgs"</span><span class="p">,</span><span class="s">"repos_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/repos"</span><span class="p">,</span><span class="s">"events_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}"</span><span class="p">,</span><span class="s">"received_events_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/received_events"</span><span class="p">,</span><span class="s">"type"</span>:<span class="s">"Bot"</span><span class="p">,</span><span class="s">"site_admin"</span>:<span class="nc">false</span><span class="p">},</span><span class="s">"content_type"</span>:<span class="s">"application/octet-stream"</span><span class="p">,</span><span class="s">"state"</span>:<span class="s">"uploaded"</span><span class="p">,</span><span class="s">"size"</span>:<span class="mi">15273120</span><span class="p">,</span><span class="s">"download_count"</span>:<span class="mi">1</span><span class="p">,</span><span class="s">"created_at"</span>:<span class="s">"2023-10-30T16:04:21Z"</span><span class="p">,</span><span class="s">"updated_at"</span>:<span class="s">"2023-10-30T16:04:21Z"</span><span class="p">,</span><span class="s">"browser_download_url"</span>:<span class="s">"https://github.com/bytecodealliance/wasmtime/releases/download/v14.0.3/wasmtime-v14.0.3-aarch64-linux-c-api.tar.xz"</span><span class="p">},{</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/repos/bytecodealliance/wasmtime/releases/assets/133083904"</span><span class="p">,</span><span class="s">"id"</span>:<span class="mi">133083904</span><span class="p">,</span><span class="s">"node_id"</span>:<span class="s">"RA_kwDOBhDaXM4H7rMA"</span><span class="p">,</span><span class="s">"name"</span>:<span class="s">"wasmtime-v14.0.3-aarch64-linux.tar.xz"</span><span class="p">,</span><span class="s">"label"</span>:<span class="s">""</span><span class="p">,</span><span class="s">"uploader"</span>:<span class="p">{</span><span class="s">"login"</span>:<span class="s">"github-actions[bot]"</span><span class="p">,</span><span class="s">"id"</span>:<span class="mi">41898282</span><span class="p">,</span><span class="s">"node_id"</span>:<span class="s">"MDM6Qm90NDE4OTgyODI="</span><span class="p">,</span><span class="s">"avatar_url"</span>:<span class="s">"https://avatars.githubusercontent.com/in/15368?v=4"</span><span class="p">,</span><span class="s">"gravatar_id"</span>:<span class="s">""</span><span class="p">,</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D"</span><span class="p">,</span><span class="s">"html_url"</span>:<span class="s">"https://github.com/apps/github-actions"</span><span class="p">,</span><span class="s">"followers_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/followers"</span><span class="p">,</span><span class="s">"following_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}"</span><span class="p">,</span><span class="s">"gists_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}"</span><span class="p">,</span><span class="s">"starred_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}"</span><span class="p">,</span><span class="s">"subscriptions_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions"</span><span class="p">,</span><span class="s">"organizations_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/orgs"</span><span class="p">,</span><span class="s">"repos_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/repos"</span><span class="p">,</span><span class="s">"events_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}"</span><span class="p">,</span><span class="s">"received_events_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/received_events"</span><span class="p">,</span><span class="s">"type"</span>:<span class="s">"Bot"</span><span class="p">,</span><span class="s">"site_admin"</span>:<span class="nc">false</span><span class="p">},</span><span class="s">"content_type"</span>:<span class="s">"application/octet-stream"</span><span class="p">,</span><span class="s">"state"</span>:<span class="s">"uploaded"</span><span class="p">,</span><span class="s">"size"</span>:<span class="mi">8476928</span><span class="p">,</span><span class="s">"download_count"</span>:<span class="mi">2</span><span class="p">,</span><span class="s">"created_at"</span>:<span class="s">"2023-10-30T16:04:22Z"</span><span class="p">,</span><span class="s">"updated_at"</span>:<span class="s">"2023-10-30T16:04:22Z"</span><span class="p">,</span><span class="s">"browser_download_url"</span>:<span class="s">"https://github.com/bytecodealliance/wasmtime/releases/download/v14.0.3/wasmtime-v14.0.3-aarch64-linux.tar.xz"</span><span class="p">},{</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/repos/bytecodealliance/wasmtime/releases/assets/133083906"</span><span class="p">,</span><span class="s">"id"</span>:<span class="mi">133083906</span><span class="p">,</span><span class="s">"node_id"</span>:<span class="s">"RA_kwDOBhDaXM4H7rMC"</span><span class="p">,</span><span class="s">"name"</span>:<span class="s">"wasmtime-v14.0.3-aarch64-macos-c-api.tar.xz"</span><span class="p">,</span><span class="s">"label"</span>:<span class="s">""</span><span class="p">,</span><span class="s">"uploader"</span>:<span class="p">{</span><span class="s">"login"</span>:<span class="s">"github-actions[bot]"</span><span class="p">,</span><span class="s">"id"</span>:<span class="mi">41898282</span><span class="p">,</span><span class="s">"node_id"</span>:<span class="s">"MDM6Qm90NDE4OTgyODI="</span><span class="p">,</span><span class="s">"avatar_url"</span>:<span class="s">"https://avatars.githubusercontent.com/in/15368?v=4"</span><span class="p">,</span><span class="s">"gravatar_id"</span>:<span class="s">""</span><span class="p">,</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D"</span><span class="p">,</span><span class="s">"html_url"</span>:<span class="s">"https://github.com/apps/github-actions"</span><span class="p">,</span><span class="s">"followers_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/followers"</span><span class="p">,</span><span class="s">"following_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}"</span><span class="p">,</span><span class="s">"gists_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}"</span><span class="p">,</span><span class="s">"starred_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}"</span><span class="p">,</span><span class="s">"subscriptions_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions"</span><span class="p">,</span><span class="s">"organizations_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/orgs"</span><span class="p">,</span><span class="s">"repos_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/repos"</span><span class="p">,</span><span class="s">"events_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}"</span><span class="p">,</span><span class="s">"received_events_url"</span>:<span class="s">"https://api.github.com/users/github-actions%5Bbot%5D/received_events"</span><span class="p">,</span><span class="s">"type"</span>:<span class="s">"Bot"</span><span class="p">,</span><span class="s">"site_admin"</span>:<span class="nc">false</span><span class="p">},</span><span class="s">"content_type"</span>:<span class="s">"application/octet-stream"</span><span class="p">,</span><span class="s">"state"</span>:<span class="s">"uploaded"</span><span class="p">,</span><span class="s">"size"</span>:<span class="mi">12509852</span><span class="p">,</span><span class="s">"download_count"</span>:<span class="mi">1</span><span class="p">,</span><span class="s">"created_at"</span>:<span class="s">"2023-10-30T16:04:23Z"</span><span class="p">,</span><span class="s">"updated_at"</span>:<span class="s">"2023-10-30T16:04:23Z"</span><span class="p">,</span><span class="s">"browser_download_url"</span>:<span class="s">"https://github.com/bytecodealliance/wasmtime/releases/download/v14.0.3/wasmtime-v14.0.3-aarch64-macos-c-api.tar.xz"</span><span class="p">},{</span><span class="s">"url"</span>:<span class="s">"https://api.github.com/repos/bytecodealliance/wasmtime/releases/asse</span>
<span class="s">[message truncated]</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="399368130"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/399368130" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#399368130">(Oct 30 2023 at 19:56)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1785940602">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>Ah I'm not sure why but your <code>curl</code> is printing compact JSON where the script is expecting "pretty" JSON. I'm not sure why that's happening, but that's why the script is failing.</p>
</blockquote>



<a name="399434921"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/399434921" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#399434921">(Oct 31 2023 at 06:11)</a>:</h4>
<p>monperrus <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1786512348">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>Github sends compact JSON.<br>
As far as I know, curl has no capability for pretty-printing json.<br>
If we want to have pretty JSON, we need to send it through json_pp or jq.</p>
</blockquote>



<a name="399437546"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/399437546" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#399437546">(Oct 31 2023 at 06:39)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1786538928">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>Weirdly, exactly that <code>curl</code> command returns formatted JSON for me; I wonder if we're hitting some sort of A/B test, or if there's some middlebox (compressing proxy or similar) somewhere in your network path, or...?</p>
<p>IIRC, one of the considerations against using <code>jq</code> was that it would have to be installed on the user's machine, and <code>install.sh</code> is meant to work in as many places as possible without unnecessary dependencies. </p>
<p>I wonder, though, if we can craft a sed regex or similar that grabs the tag name out of a single line or multiline JSON?</p>
</blockquote>



<a name="399448427"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/399448427" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#399448427">(Oct 31 2023 at 08:13)</a>:</h4>
<p>monperrus <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1786711844">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<blockquote>
<p>IIRC, one of the considerations against using jq was that it would have to be installed on the user's machine</p>
</blockquote>
<p>I see.</p>
<blockquote>
<p>Weirdly, exactly that curl command returns formatted JSON for me</p>
</blockquote>
<p>What! This is very surprising. I really don't see which component in the stack does that.</p>
<blockquote>
<p>I wonder, though, if we can craft a sed regex or similar that grabs the tag name out of a single line or multiline JSON?</p>
</blockquote>
<p>brittle. honestly, <code>jq</code> would be much better. The target users of wasmtime are probably tech-savvy enough to install jq by themselves if need be. </p>
</blockquote>



<a name="399914799"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/399914799" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#399914799">(Nov 02 2023 at 11:31)</a>:</h4>
<p>monperrus <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1790554527">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>I confirm that changing <code>install.sh</code> to <code> | json_pp</code> works!</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">  </span><span class="n">curl</span><span class="w"> </span><span class="o">--</span><span class="n">silent</span><span class="w"> </span><span class="s">"https://api.github.com/repos/bytecodealliance/wasmtime/releases/latest"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">json_pp</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="n">grep</span><span class="w"> </span><span class="n">tag_name</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="err">\</span>
<span class="w">    </span><span class="n">cut</span><span class="w"> </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="sc">'"'</span><span class="w"> </span><span class="o">-</span><span class="n">f</span><span class="w"> </span><span class="mi">4</span>
</code></pre></div>
<p>With this fix I have wasmtime on my machine, thanks!</p>
</blockquote>



<a name="399983371"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/399983371" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#399983371">(Nov 02 2023 at 16:46)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1791101101">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<blockquote>
<p>brittle. honestly, <code>jq</code> would be much better. The target users of wasmtime are probably tech-savvy enough to install jq by themselves if need be.</p>
</blockquote>
<p>A consideration when developing infrastructure like this is that the machines we may run on might not look like our own developer machines: for example, we want it to be easy to install <code>wasmtime</code> on a fresh virtual machine, server, CI environment, minimal Docker container, etc. The requirement to install JSON-munging tools would be a bit of a speedbump causing folks to trip; the use of a shell script and core Unix utilities only (plus curl) is pretty intentional here.</p>
<p>It's too bad there's no API endpoint that gives us exactly the latest release tag and nothing else. I wonder if some automation could e.g. put some file in place that helps with this -- @alexcrichton, what would you think about something in the release process that updates a <code>latest-release.txt</code> in the static site so one could do <code>curl https://wasmtime.dev/latest-release.txt</code>?</p>
</blockquote>



<a name="399990861"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/399990861" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#399990861">(Nov 02 2023 at 17:29)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1791209746">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>Using <code>| sed 's/.*tag_name": *"//' | sed 's/".*//'</code> instead of <code>| grep tag_name | cut -d '"' -f 4</code> should work for both pretty and unpretty json.</p>
</blockquote>



<a name="399998507"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/399998507" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#399998507">(Nov 02 2023 at 18:20)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1791297301">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>I like the idea of <code>latest-release.txt</code> but I don't know how to do that easily off the top of my head. I'd be tempted to go with @bjorn3's suggestion first if we can, but that should be confirmed to work on macOS since I know that they've got a BSD version of sed (or something like that) and it's different from the GNU version sometimes.</p>
</blockquote>



<a name="400001211"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/400001211" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#400001211">(Nov 02 2023 at 18:39)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1791324413">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>Unfortunately the sed command lines above don't work on macOS -- with pretty JSON, the line containing the tag is edited to just the tag, but a bunch of other lines remain:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">cfallin</span><span class="o">@</span><span class="n">fastly2</span>:<span class="o">~%</span><span class="w"> </span><span class="n">curl</span><span class="w"> </span><span class="o">--</span><span class="n">silent</span><span class="w"> </span><span class="s">"https://api.github.com/repos/bytecodealliance/wasmtime/releases/latest"</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">sed</span><span class="w"> </span><span class="o">'</span><span class="na">s</span><span class="o">/</span><span class="p">.</span><span class="o">*</span><span class="n">tag_name</span><span class="s">": *"</span><span class="c1">//' | sed 's/".*//' | head -n 30</span>
<span class="p">{</span>
<span class="w">  </span><span class="p">[</span><span class="w"> </span><span class="n">lots</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">blank</span><span class="w"> </span><span class="n">lines</span><span class="w"> </span><span class="p">]</span>
<span class="w">  </span><span class="p">},</span>

<span class="n">v14</span><span class="p">.</span><span class="mf">0.4</span>
</code></pre></div>
<p>It appears that BSD sed doesn't do multiline edits -- the man-page says "Normally, sed cyclically copies a line of input, not including its terminating newline character, ..." (and I can't find another flag that would override that).</p>
<p>So it appears we're back to</p>
<ul>
<li>Figure out why the JSON is compacted when some folks fetch it and not others, or</li>
<li>Craft a grep+sed invocation that works on all platforms with both kinds of inputs, or</li>
<li>Create an endpoint like <code>latest-release.txt</code> (or find one somewhere in the GitHub API)</li>
</ul>
</blockquote>



<a name="400001743"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/400001743" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#400001743">(Nov 02 2023 at 18:43)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1791333547">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>Try adding <code>| tr -d '\n'</code> before the sed commands. This will remove all newlines.</p>
</blockquote>



<a name="400003718"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/400003718" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#400003718">(Nov 02 2023 at 18:58)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/issues/7377#issuecomment-1791370749">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>That worked for me -- just sent a PR for this, thanks!</p>
</blockquote>



<a name="400005698"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237377%20curl%20install%20broken/near/400005698" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237377.20curl.20install.20broken.html#400005698">(Nov 02 2023 at 19:12)</a>:</h4>
<p>cfallin closed <a href="https://github.com/bytecodealliance/wasmtime/issues/7377">issue #7377</a>:</p>
<blockquote>
<p>Hi all,</p>
<p>FYI curl-based installation is broken with 404</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="err">±</span><span class="w"> </span><span class="n">curl</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//wasmtime.dev/install.sh -sSf | bash</span>
<span class="w">  </span><span class="n">Installing</span><span class="w"> </span><span class="n">latest</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">Wasmtime</span><span class="w"> </span><span class="p">(</span><span class="n">https</span>:<span class="c1">//api.github.com/repos/bytecodealliance/wasmtime/releases/126307703)</span>
<span class="w">    </span><span class="n">Checking</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">existing</span><span class="w"> </span><span class="n">Wasmtime</span><span class="w"> </span><span class="n">installation</span>
<span class="w">    </span><span class="n">Fetching</span><span class="w"> </span><span class="n">archive</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">Linux</span><span class="p">,</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="n">https</span>:<span class="c1">//api.github.com/repos/bytecodealliance/wasmtime/releases/126307703</span>
<span class="n">https</span>:<span class="c1">//github.com/bytecodealliance/wasmtime/releases/download/https://api.github.com/repos/bytecodealliance/wasmtime/releases/126307703/wasmtime-https://api.github.com/repos/bytecodealliance/wasmtime/releases/126307703-x86_64-linux.tar.xz</span>
<span class="n">curl</span>: <span class="p">(</span><span class="mi">22</span><span class="p">)</span><span class="w"> </span><span class="n">The</span><span class="w"> </span><span class="n">requested</span><span class="w"> </span><span class="n">URL</span><span class="w"> </span><span class="n">returned</span><span class="w"> </span><span class="n">error</span>: <span class="mi">404</span>

<span class="n">Error</span>: <span class="nc">Could</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">download</span><span class="w"> </span><span class="n">Wasmtime</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="o">'</span><span class="na">https</span>:<span class="c1">//api.github.com/repos/bytecodealliance/wasmtime/releases/126307703'. See https://github.com/bytecodealliance/wasmtime/releases for a list of available releases</span>
</code></pre></div>
<p>Thanks!<br>
</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>