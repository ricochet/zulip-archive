<html>
<head><meta charset="utf-8"><title>wasmtime / PR #1244 Add an opcode accessor to require tha... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html">wasmtime / PR #1244 Add an opcode accessor to require tha...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="189899031"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/189899031" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#189899031">(Mar 06 2020 at 14:41)</a>:</h4>
<p>bnjbvr opened <a href="https://github.com/bytecodealliance/wasmtime/pull/1244" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244">PR #1244</a> from <code>clobber_all_regs</code> to <code>master</code>:</p>
<blockquote>
<p>As seen in #1240.</p>
</blockquote>



<a name="189899050"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/189899050" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#189899050">(Mar 06 2020 at 14:41)</a>:</h4>
<p>bnjbvr edited <a href="https://github.com/bytecodealliance/wasmtime/pull/1244" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244">PR #1244</a> from <code>clobber_all_regs</code> to <code>master</code>:</p>
<blockquote>
<p>As seen in #1240. Also adds CI that would help catching build failures on arm64 / x86 only, or non-debug builds.</p>
</blockquote>



<a name="189899116"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/189899116" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#189899116">(Mar 06 2020 at 14:42)</a>:</h4>
<p><strong>bnjbvr</strong> requested <a href="https://github.com/alexcrichton" target="_blank" title="https://github.com/alexcrichton">alexcrichton</a>, and <a href="https://github.com/iximeow" target="_blank" title="https://github.com/iximeow">iximeow</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1244" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244">PR #1244</a>.</p>



<a name="189899117"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/189899117" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#189899117">(Mar 06 2020 at 14:42)</a>:</h4>
<p><strong>bnjbvr</strong> requested <a href="https://github.com/alexcrichton" target="_blank" title="https://github.com/alexcrichton">alexcrichton</a>, and <a href="https://github.com/iximeow" target="_blank" title="https://github.com/iximeow">iximeow</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1244" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244">PR #1244</a>.</p>



<a name="189908621"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/189908621" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#189908621">(Mar 06 2020 at 16:19)</a>:</h4>
<p>bnjbvr updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1244" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244">PR #1244</a> from <code>clobber_all_regs</code> to <code>master</code>:</p>
<blockquote>
<p>As seen in #1240. Also adds CI that would help catching build failures on arm64 / x86 only, or non-debug builds.</p>
</blockquote>



<a name="189915128"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/189915128" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#189915128">(Mar 06 2020 at 17:28)</a>:</h4>
<p>iximeow submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1244#pullrequestreview-370488087" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244#pullrequestreview-370488087">PR Review</a>.</p>



<a name="189915129"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/189915129" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#189915129">(Mar 06 2020 at 17:28)</a>:</h4>
<p>iximeow submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1244#pullrequestreview-370488087" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244#pullrequestreview-370488087">PR Review</a>.</p>



<a name="189915130"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/189915130" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#189915130">(Mar 06 2020 at 17:28)</a>:</h4>
<p>iximeow created <a href="https://github.com/bytecodealliance/wasmtime/pull/1244#discussion_r389031449" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244#discussion_r389031449">PR Review Comment</a>:</p>
<blockquote>
<p>Oh! I just learned that I was passing <code>--features</code> wrong when I tried to do a build entirely in-tree. Very cool :)</p>
</blockquote>



<a name="189915131"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/189915131" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#189915131">(Mar 06 2020 at 17:28)</a>:</h4>
<p>iximeow created <a href="https://github.com/bytecodealliance/wasmtime/pull/1244#discussion_r389037825" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244#discussion_r389037825">PR Review Comment</a>:</p>
<blockquote>
<p><code>clobber_all</code> is a bit more pessimistic than we need for <code>__tls_get_addr</code>, which seems to really be <code>has the architectural effects of an ABI-conforming call</code> (callee-save registers are not clobbered)</p>
<p>Since you and @bjorn3 were both going for a <code>clobbers_all*</code> change this seems fine, but can I bug you for a comment here and below that this is a bit broader than should be necessary?</p>
</blockquote>



<a name="189915458"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/189915458" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#189915458">(Mar 06 2020 at 17:32)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/1244#discussion_r389042119" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244#discussion_r389042119">PR Review Comment</a>:</p>
<blockquote>
<p>Callee-saved registers are clobbered for normal calls too currently. There is a fixme in <a href="http://spilling.rs" target="_blank" title="http://spilling.rs">spilling.rs</a> for that.</p>
</blockquote>



<a name="189915459"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/189915459" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#189915459">(Mar 06 2020 at 17:32)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1244#pullrequestreview-370501323" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244#pullrequestreview-370501323">PR Review</a>.</p>



<a name="189916924"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/189916924" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#189916924">(Mar 06 2020 at 17:48)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1244#pullrequestreview-370511024" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244#pullrequestreview-370511024">PR Review</a>.</p>



<a name="190830887"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/190830887" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#190830887">(Mar 17 2020 at 10:40)</a>:</h4>
<p>bnjbvr updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1244" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244">PR #1244</a> from <code>clobber_all_regs</code> to <code>master</code>:</p>
<blockquote>
<p>As seen in #1240. Also adds CI that would help catching build failures on arm64 / x86 only, or non-debug builds.</p>
</blockquote>



<a name="190830905"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/190830905" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#190830905">(Mar 17 2020 at 10:40)</a>:</h4>
<p><strong>bnjbvr</strong> requested <a href="https://github.com/iximeow" target="_blank" title="https://github.com/iximeow">iximeow</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/1244" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244">PR #1244</a>.</p>



<a name="190830937"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/190830937" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#190830937">(Mar 17 2020 at 10:40)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1244#pullrequestreview-375916910" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244#pullrequestreview-375916910">PR Review</a>.</p>



<a name="190830939"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/190830939" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#190830939">(Mar 17 2020 at 10:40)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/1244#discussion_r393586199" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244#discussion_r393586199">PR Review Comment</a>:</p>
<blockquote>
<p>I added a comment, please let me know what you think of it!</p>
</blockquote>



<a name="191429664"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/191429664" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#191429664">(Mar 23 2020 at 03:20)</a>:</h4>
<p>iximeow submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/1244#pullrequestreview-379111603" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244#pullrequestreview-379111603">PR Review</a>.</p>



<a name="191456454"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/191456454" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#191456454">(Mar 23 2020 at 10:48)</a>:</h4>
<p>bnjbvr updated <a href="https://github.com/bytecodealliance/wasmtime/pull/1244" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244">PR #1244</a> from <code>clobber_all_regs</code> to <code>master</code>:</p>
<blockquote>
<p>As seen in #1240. Also adds CI that would help catching build failures on arm64 / x86 only, or non-debug builds.</p>
</blockquote>



<a name="191459373"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%231244%20Add%20an%20opcode%20accessor%20to%20require%20tha.../near/191459373" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.231244.20Add.20an.20opcode.20accessor.20to.20require.20tha.2E.2E.2E.html#191459373">(Mar 23 2020 at 11:19)</a>:</h4>
<p>bnjbvr merged <a href="https://github.com/bytecodealliance/wasmtime/pull/1244" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/1244">PR #1244</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>