<html>
<head><meta charset="utf-8"><title>wasmtime / issue #5104 Update `wasmi` used in differentia... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235104.20Update.20.60wasmi.60.20used.20in.20differentia.2E.2E.2E.html">wasmtime / issue #5104 Update `wasmi` used in differentia...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="305736125"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235104%20Update%20%60wasmi%60%20used%20in%20differentia.../near/305736125" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235104.20Update.20.60wasmi.60.20used.20in.20differentia.2E.2E.2E.html#305736125">(Oct 24 2022 at 02:06)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/5104#issuecomment-1288308192">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5104">issue #5104</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "fuzzing"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>fitzgen: fuzzing</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="305756546"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235104%20Update%20%60wasmi%60%20used%20in%20differentia.../near/305756546" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235104.20Update.20.60wasmi.60.20used.20in.20differentia.2E.2E.2E.html#305756546">(Oct 24 2022 at 06:46)</a>:</h4>
<p>Robbepop <a href="https://github.com/bytecodealliance/wasmtime/pull/5104#issuecomment-1288498242">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5104">issue #5104</a>:</p>
<blockquote>
<p>We have not yet integrated full fuzz testing for the newest <code>wasmi</code> engine (just very basic fuzzing so far) so I am a bit worried that it might be a big noisy at start. If that's the case we will definitely fix found <code>wasmi</code> bugs asap.</p>
<p>Concerning <code>cargo-vet</code> the following crates must be registered to your database:</p>
<ul>
<li><code>wasmi</code>: Well, this is a tough one tbh. I am the author of it but it contains plenty of unsafe code for optimization purposes. We (Parity) are going to use it in production very soon(TM).</li>
<li><code>wasmi_core</code>: This is just a small utility crate and should be pretty boring. Also it has no <code>unsafe</code> code.</li>
<li><code>wasmi_arena</code>: Similar to <code>wasmi_core</code>. Just defines some arena data structures for use in <code>wasmi</code>.</li>
<li><code>memory-units</code>: Can be safely ignored since <code>wasmi</code> already removed it.</li>
<li><code>indexmap-nostd</code>: This again is interesting. It is a reimlpementation of the API of the well-known <code>indexmap</code> crate. It uses no <code>unsafe</code> Rust code and is implemented as simple as it gets. We use it in the <code>wasmparser-nostd</code> fork of <code>wasmparser</code> and it passes all <code>wasm-tools</code> tests as well as all of <code>wasmi</code> tests but has no tests on its own.</li>
<li><code>wasmparser-nostd</code>: More or less trivial fork of <code>wasmparser</code>. The most interesting difference is the use of the aforementioned <code>indexmap-nostd</code>.</li>
</ul>
</blockquote>



<a name="305756595"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235104%20Update%20%60wasmi%60%20used%20in%20differentia.../near/305756595" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235104.20Update.20.60wasmi.60.20used.20in.20differentia.2E.2E.2E.html#305756595">(Oct 24 2022 at 06:47)</a>:</h4>
<p>Robbepop edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/5104#issuecomment-1288498242">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5104">issue #5104</a>:</p>
<blockquote>
<p>Very cool to see <code>wasmi</code> update in the Wasmtime fuzzing.</p>
<p>We have not yet integrated full fuzz testing for the newest <code>wasmi</code> engine (just very basic fuzzing so far) so I am a bit worried that it might be a big noisy at start. If that's the case we will definitely fix found <code>wasmi</code> bugs asap.</p>
<p>Concerning <code>cargo-vet</code> the following crates must be registered to your database:</p>
<ul>
<li><code>wasmi</code>: Well, this is a tough one tbh. I am the author of it but it contains plenty of unsafe code for optimization purposes. We (Parity) are going to use it in production very soon(TM).</li>
<li><code>wasmi_core</code>: This is just a small utility crate and should be pretty boring. Also it has no <code>unsafe</code> code.</li>
<li><code>wasmi_arena</code>: Similar to <code>wasmi_core</code>. Just defines some arena data structures for use in <code>wasmi</code>.</li>
<li><code>memory-units</code>: Can be safely ignored since <code>wasmi</code> already removed it.</li>
<li><code>indexmap-nostd</code>: This again is interesting. It is a reimlpementation of the API of the well-known <code>indexmap</code> crate. It uses no <code>unsafe</code> Rust code and is implemented as simple as it gets. We use it in the <code>wasmparser-nostd</code> fork of <code>wasmparser</code> and it passes all <code>wasm-tools</code> tests as well as all of <code>wasmi</code> tests but has no tests on its own.</li>
<li><code>wasmparser-nostd</code>: More or less trivial fork of <code>wasmparser</code>. The most interesting difference is the use of the aforementioned <code>indexmap-nostd</code>.</li>
</ul>
</blockquote>



<a name="305756680"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235104%20Update%20%60wasmi%60%20used%20in%20differentia.../near/305756680" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235104.20Update.20.60wasmi.60.20used.20in.20differentia.2E.2E.2E.html#305756680">(Oct 24 2022 at 06:48)</a>:</h4>
<p>Robbepop edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/5104#issuecomment-1288498242">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5104">issue #5104</a>:</p>
<blockquote>
<p>Very cool to see <code>wasmi</code> update in the Wasmtime fuzzing.</p>
<p>We have not yet integrated full fuzz testing for the newest <code>wasmi</code> engine ourselves (just very basic fuzzing so far) so my main worry is that this new fuzzy test might be a big noisy at start. If that's the case we will definitely fix found <code>wasmi</code> bugs asap.</p>
<p>Concerning <code>cargo-vet</code> the following crates must be registered to your database:</p>
<ul>
<li><code>wasmi</code>: Well, this is a tough one tbh. I am the author of it but it contains plenty of unsafe code for optimization purposes. We (Parity) are going to use it in production very soon(TM).</li>
<li><code>wasmi_core</code>: This is just a small utility crate and should be pretty boring. Also it has no <code>unsafe</code> code.</li>
<li><code>wasmi_arena</code>: Similar to <code>wasmi_core</code>. Just defines some arena data structures for use in <code>wasmi</code>.</li>
<li><code>memory-units</code>: Can be safely ignored since <code>wasmi</code> already removed it.</li>
<li><code>indexmap-nostd</code>: This again is interesting. It is a reimlpementation of the API of the well-known <code>indexmap</code> crate. It uses no <code>unsafe</code> Rust code and is implemented as simple as it gets. We use it in the <code>wasmparser-nostd</code> fork of <code>wasmparser</code> and it passes all <code>wasm-tools</code> tests as well as all of <code>wasmi</code> tests but has no tests on its own.</li>
<li><code>wasmparser-nostd</code>: More or less trivial fork of <code>wasmparser</code>. The most interesting difference is the use of the aforementioned <code>indexmap-nostd</code>.</li>
</ul>
</blockquote>



<a name="305756732"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235104%20Update%20%60wasmi%60%20used%20in%20differentia.../near/305756732" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235104.20Update.20.60wasmi.60.20used.20in.20differentia.2E.2E.2E.html#305756732">(Oct 24 2022 at 06:48)</a>:</h4>
<p>Robbepop edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/5104#issuecomment-1288498242">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5104">issue #5104</a>:</p>
<blockquote>
<p>Very cool to see <code>wasmi</code> update in the Wasmtime fuzzing.</p>
<p>We have not yet integrated full fuzz testing for the newest <code>wasmi</code> engine ourselves (just very basic fuzzing so far) so my main worry is that this new fuzzy test might be a big noisy at start. If that's the case we will definitely fix found <code>wasmi</code> bugs asap.</p>
<p>Concerning <code>cargo-vet</code> the following crates must be registered to your database:</p>
<ul>
<li><code>wasmi</code>: Well, this is a tough one tbh. I am the author of it but it contains plenty of unsafe code for optimization purposes. We (Parity) are going to use it in production very soon(TM). I am the author of that crate.</li>
<li><code>wasmi_core</code>: This is just a small utility crate and should be pretty boring. Also it has no <code>unsafe</code> code. I am the author of that crate.</li>
<li><code>wasmi_arena</code>: Similar to <code>wasmi_core</code>. Just defines some arena data structures for use in <code>wasmi</code>. I am the author of that crate.</li>
<li><code>memory-units</code>: Can be safely ignored since <code>wasmi</code> already removed it.</li>
<li><code>indexmap-nostd</code>: This again is interesting. It is a reimlpementation of the API of the well-known <code>indexmap</code> crate. It uses no <code>unsafe</code> Rust code and is implemented as simple as it gets. We use it in the <code>wasmparser-nostd</code> fork of <code>wasmparser</code> and it passes all <code>wasm-tools</code> tests as well as all of <code>wasmi</code> tests but has no tests on its own. I am the author of that crate.</li>
<li><code>wasmparser-nostd</code>: More or less trivial fork of <code>wasmparser</code>. The most interesting difference is the use of the aforementioned <code>indexmap-nostd</code>.</li>
</ul>
</blockquote>



<a name="305757468"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235104%20Update%20%60wasmi%60%20used%20in%20differentia.../near/305757468" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235104.20Update.20.60wasmi.60.20used.20in.20differentia.2E.2E.2E.html#305757468">(Oct 24 2022 at 06:54)</a>:</h4>
<p>Robbepop edited a <a href="https://github.com/bytecodealliance/wasmtime/pull/5104#issuecomment-1288498242">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5104">issue #5104</a>:</p>
<blockquote>
<p>Very cool to see <code>wasmi</code> update in the Wasmtime fuzzing.</p>
<p>We have not yet integrated full fuzz testing for the newest <code>wasmi</code> engine ourselves (just very basic fuzzing so far) so my main worry is that this new fuzzy test might be a big noisy at start. If that's the case we will definitely fix found <code>wasmi</code> bugs asap.</p>
<p>Concerning <code>cargo-vet</code> the following crates must be registered to your database:</p>
<ul>
<li><code>wasmi</code>: Well, this is a tough one tbh. I am the author of it but it contains plenty of unsafe code for optimization purposes. We (Parity) are going to use it in production very soon(TM). I am the author of that crate.</li>
<li><code>wasmi_core</code>: This is just a small utility crate and should be pretty boring. Also it has no <code>unsafe</code> code. I am the author of that crate.</li>
<li><code>wasmi_arena</code>: Similar to <code>wasmi_core</code>. Just defines some arena data structures for use in <code>wasmi</code>. I am the author of that crate.</li>
<li><code>memory-units</code>: Can be safely ignored since <code>wasmi</code> already removed it.</li>
<li><code>indexmap-nostd</code>: This again is interesting. It is a reimlpementation of the API of the well-known <code>indexmap</code> crate. It uses no <code>unsafe</code> Rust code and is implemented as simple as it gets. We use it in the <code>wasmparser-nostd</code> fork of <code>wasmparser</code> and it passes all <code>wasm-tools</code> tests as well as all of <code>wasmi</code> tests but has no tests on its own. I am the author of that crate.</li>
<li><code>wasmparser-nostd</code>: More or less trivial fork of <code>wasmparser</code>. The most interesting difference is the use of the aforementioned <code>indexmap-nostd</code>. I am the author of that fork.</li>
</ul>
</blockquote>



<a name="305844581"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235104%20Update%20%60wasmi%60%20used%20in%20differentia.../near/305844581" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235104.20Update.20.60wasmi.60.20used.20in.20differentia.2E.2E.2E.html#305844581">(Oct 24 2022 at 15:22)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/5104#issuecomment-1289203343">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5104">issue #5104</a>:</p>
<blockquote>
<p>I've added <code>cargo vet</code> entries for all new dependencies added here, except for the <code>wasmi</code> crate itself. I've updated the exemption from 0.11.0 to 0.19.0 so we're not necessarily in much worse of a position, but othewise I'm not in a position to provide a "vet" of that crate in the official sense but I believe it's safe to run for fuzzing for us.</p>
<p>Otherwise thanks for the info @Robbepop, I've run the fuzzer for a number of hours locally and nothing has shown up, so if something pops up on oss-fuzz I'll forward along the issue.</p>
</blockquote>



<a name="305915056"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%235104%20Update%20%60wasmi%60%20used%20in%20differentia.../near/305915056" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.235104.20Update.20.60wasmi.60.20used.20in.20differentia.2E.2E.2E.html#305915056">(Oct 24 2022 at 21:15)</a>:</h4>
<p>Robbepop <a href="https://github.com/bytecodealliance/wasmtime/pull/5104#issuecomment-1289626914">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/5104">issue #5104</a>:</p>
<blockquote>
<blockquote>
<p>Otherwise thanks for the info @Robbepop, I've run the fuzzer for a number of hours locally and nothing has shown up, so if something pops up on oss-fuzz I'll forward along the issue.</p>
</blockquote>
<p>Oh wow, that's incredible news. Also looking forward to any forwarded bugs. :)</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>