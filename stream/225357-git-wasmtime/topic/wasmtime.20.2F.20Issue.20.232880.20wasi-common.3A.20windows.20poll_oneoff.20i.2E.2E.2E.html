<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2880 wasi-common: windows poll_oneoff i... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232880.20wasi-common.3A.20windows.20poll_oneoff.20i.2E.2E.2E.html">wasmtime / Issue #2880 wasi-common: windows poll_oneoff i...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="237738927"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232880%20wasi-common%3A%20windows%20poll_oneoff%20i.../near/237738927" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232880.20wasi-common.3A.20windows.20poll_oneoff.20i.2E.2E.2E.html#237738927">(May 06 2021 at 22:14)</a>:</h4>
<p>pchickey labeled <a href="https://github.com/bytecodealliance/wasmtime/issues/2880">Issue #2880</a>:</p>
<blockquote>
<p>The implementation of WASI <code>poll_oneoff</code> on Windows in <code>wasi-cap-std-sync</code> (and now copied in <code>wasi-tokio</code>) is poorly understood and possibly buggy. It passes the test suite, but we expect that its behavior diverges from the unix implementation in some cases. We should consider refactoring or rewriting it when time permits. This task requires some Windows programming expertise that I don't currently have.</p>
<p>The current implementation is one of the few pieces of pre-rewrite (#2487) wasi-common still around, originally written by @kubkon and others.</p>
</blockquote>



<a name="237738928"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232880%20wasi-common%3A%20windows%20poll_oneoff%20i.../near/237738928" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232880.20wasi-common.3A.20windows.20poll_oneoff.20i.2E.2E.2E.html#237738928">(May 06 2021 at 22:14)</a>:</h4>
<p>pchickey opened <a href="https://github.com/bytecodealliance/wasmtime/issues/2880">Issue #2880</a>:</p>
<blockquote>
<p>The implementation of WASI <code>poll_oneoff</code> on Windows in <code>wasi-cap-std-sync</code> (and now copied in <code>wasi-tokio</code>) is poorly understood and possibly buggy. It passes the test suite, but we expect that its behavior diverges from the unix implementation in some cases. We should consider refactoring or rewriting it when time permits. This task requires some Windows programming expertise that I don't currently have.</p>
<p>The current implementation is one of the few pieces of pre-rewrite (#2487) wasi-common still around, originally written by @kubkon and others.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>