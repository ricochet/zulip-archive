<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9837 Run the full test suite on 32-bit pla... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html">wasmtime / PR #9837 Run the full test suite on 32-bit pla...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="489347056"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489347056" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489347056">(Dec 16 2024 at 21:30)</a>:</h4>
<p>alexcrichton opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a> from <code>alexcrichton:pulley-full-test-suite</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>This commit switches to running the full test suite in its entirety (<code>./ci/run-tests.sh</code>) on 32-bit platforms in CI in addition to 64-bit platforms. This notably adds i686 and armv7 as architectures that are tested in CI.</p>
<p>Lots of little fixes here and there were applied to a number of tests. Many tests just don't run on 32-bit platforms or a platform without Cranelift support, and they've been annotated as such where necessary. Other tests were adjusted to run on all platforms a few minor bug fixes are here as well.</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="489347061"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489347061" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489347061">(Dec 16 2024 at 21:30)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/cfallin">cfallin</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="489347063"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489347063" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489347063">(Dec 16 2024 at 21:30)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers">wasmtime-compiler-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="489347064"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489347064" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489347064">(Dec 16 2024 at 21:30)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="489347065"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489347065" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489347065">(Dec 16 2024 at 21:30)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="489347066"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489347066" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489347066">(Dec 16 2024 at 21:30)</a>:</h4>
<p><strong>alexcrichton</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="489354286"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489354286" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489354286">(Dec 16 2024 at 22:11)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="489355933"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489355933" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489355933">(Dec 16 2024 at 22:19)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="489359909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489359909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489359909">(Dec 16 2024 at 22:41)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="489360614"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489360614" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489360614">(Dec 16 2024 at 22:46)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#pullrequestreview-2507499853">PR review</a>:</p>
<blockquote>
<p>I'll defer to @fitzgen on the Pulley interpreter changes but a few thoughts on the conditional logic -- my main thought is that I'd prefer we didn't conflate "32-bit host" with "has no backend" and instead of a specific feature (or other method) meaning "we have a native codegen backend for the host platform"; seems less likely to cause unintentional issues later.</p>
</blockquote>



<a name="489360616"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489360616" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489360616">(Dec 16 2024 at 22:46)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#discussion_r1887671956">PR review comment</a>:</p>
<blockquote>
<p>This is fairly counterintuitive -- could we take an <code>Option</code> or a custom enum here? <code>Err</code> turning into some other meaning below seems to go against what I'd expect <code>Err</code> to mean.</p>
</blockquote>



<a name="489360617"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489360617" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489360617">(Dec 16 2024 at 22:46)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#discussion_r1887672833">PR review comment</a>:</p>
<blockquote>
<p>likewise here as above re: "has native backend" feature. Or alternatively, allowlist the natively supported ISAs; then at least when we add a new ISA we can grep for all the places ISAs are mentioned...</p>
</blockquote>



<a name="489360618"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489360618" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489360618">(Dec 16 2024 at 22:46)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#discussion_r1887671248">PR review comment</a>:</p>
<blockquote>
<p>The non-support here has less to do with "32-bit" than "no Cranelift backend for the host architecture", right? I wonder if we could add some build-script logic to add a <code>cranelift-has-host-backend</code> feature and then <code>cfg</code> on that here? My concern is otherwise that a bunch of "exclude 32-bit" conditions scattered through tests get missed if/when we do add a native backend for say arm32 or riscv32.</p>
</blockquote>



<a name="489362960"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489362960" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489362960">(Dec 16 2024 at 23:01)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#pullrequestreview-2507523723">PR review</a>.</p>



<a name="489362963"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489362963" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489362963">(Dec 16 2024 at 23:01)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#discussion_r1887686536">PR review comment</a>:</p>
<blockquote>
<p>I'll try to think of something better yeah, but I also don't want to go too too overboard here because the tests handled in this PR are about 1% of our tests and are probably all largely redundant with all other tests we do from a "run this on all platforms" perspective. I definitely agree with what you're thinking though, I'm also not a fan of writing these #[cfg] and I like the idea of a <code>build.rs</code>-based thing (although it may be difficult to propagate that out beyond cranelift-codegen...)</p>
</blockquote>



<a name="489365715"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489365715" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489365715">(Dec 16 2024 at 23:19)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#pullrequestreview-2507545187">PR review</a>.</p>



<a name="489365716"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489365716" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489365716">(Dec 16 2024 at 23:19)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#discussion_r1887698561">PR review comment</a>:</p>
<blockquote>
<p>Alternate idea: could we add a method to <code>Engine</code> (or <code>Config</code> or ...) that lets the user query whether Wasmtime has a native compilation backend? Then the affected tests could early-out succeed. Such a query is probably useful for other cases too...</p>
</blockquote>



<a name="489365928"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489365928" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489365928">(Dec 16 2024 at 23:20)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#pullrequestreview-2507546673">PR review</a>.</p>



<a name="489365931"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489365931" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489365931">(Dec 16 2024 at 23:20)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#discussion_r1887699573">PR review comment</a>:</p>
<blockquote>
<p>(Likewise at the <code>cranelift-native</code> level, or whatever other level, for Cranelift.)</p>
</blockquote>



<a name="489365957"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489365957" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489365957">(Dec 16 2024 at 23:20)</a>:</h4>
<p>cfallin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#discussion_r1887699573">PR review comment</a>.</p>



<a name="489370958"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489370958" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489370958">(Dec 16 2024 at 23:59)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#pullrequestreview-2507586571">PR review</a>.</p>



<a name="489370959"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489370959" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489370959">(Dec 16 2024 at 23:59)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#discussion_r1887723954">PR review comment</a>:</p>
<blockquote>
<p>It might help yeah, but the problem is that we have tests all over the place in all sorts of crates that need this logic. That leads to either duplication of the logic, moving tests, or something like that. Basically it's just really difficult wrangling a ubiquitous dependency on platform-specific logic when testing across platforms. </p>
</blockquote>



<a name="489387634"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489387634" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489387634">(Dec 17 2024 at 02:15)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#issuecomment-2547354286">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "cranelift", "cranelift:area:aarch64", "cranelift:area:machinst", "pulley", "wasmtime:api"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>fitzgen: pulley</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="489484488"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489484488" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489484488">(Dec 17 2024 at 13:23)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#pullrequestreview-2508868903">PR review</a>:</p>
<blockquote>
<p>Just looked at the runtime and pulley changes themselves since Chris looked at the other parts.</p>
</blockquote>



<a name="489484489"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489484489" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489484489">(Dec 17 2024 at 13:23)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#discussion_r1888510298">PR review comment</a>:</p>
<blockquote>
<p>Here I think it is worth explicitly checking against our ISAs supported by Cranelift.</p>
</blockquote>



<a name="489484490"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489484490" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489484490">(Dec 17 2024 at 13:23)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#discussion_r1888511366">PR review comment</a>:</p>
<blockquote>
<p>Shouldn't this happen automatically when the build script enables the feature?</p>
</blockquote>



<a name="489484936"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489484936" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489484936">(Dec 17 2024 at 13:26)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#pullrequestreview-2508880527">PR review</a>.</p>



<a name="489484938"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489484938" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489484938">(Dec 17 2024 at 13:26)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#discussion_r1888517214">PR review comment</a>:</p>
<blockquote>
<p>I guess we could push and dedupe the check into some common dependency, which is a bit annoying, but would otherwise work. <code>wasmtime-environ</code>?</p>
<p>There is someone actively working on a riscv32 backend for cranelift, they've been commenting on zulip, so it would be a shame to build in new cranelift-doesn't-support-32-bit assumptions at this point...</p>
</blockquote>



<a name="489550188"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489550188" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489550188">(Dec 17 2024 at 18:42)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="489564651"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489564651" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489564651">(Dec 17 2024 at 20:12)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="489567638"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489567638" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489567638">(Dec 17 2024 at 20:35)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#issuecomment-2549569769">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>:</p>
<blockquote>
<p>Ok I've been thinking about how to clean this up. For the tests that @cfallin flagged I added logic to them all to check <code>cranelift_native::builder()</code> and see whether that's an error. That indicates whether the native platform is supported by Cranelift and tests will early-return if that's an error.</p>
<p>@fitzgen for your points though I'm not sure how to make it better. I'll note that the <code>cargo:rustc-cfg</code> in the build script is not enabling the <code>pulley</code> feature, it's just affecting the <code>--cfg</code> flags to the compiler. Accurately reflecting Cranelift's supported architecture would mean having:</p>
<div class="codehilite" data-code-language="TOML"><pre><span></span><code><span class="k">[target.</span><span class="s1">'cfg(not(any(target_arch = "x86_64", target_arch = "aarch64", target_arch = "s390x", target_arch = "riscv64")))'</span><span class="k">.dependencies]</span>
<span class="n">pulley-interpreter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">workspace</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span>
</code></pre></div>
<p>And then reflecting that same condition into <code>build.rs</code></p>
<p>This feels "zoomed out" enough to me that leaving <code>target_pointer_width = "32"</code> as a proxy there for now is probably sufficient, but I want to confirm with you and/or see if you know of a way to simplify this.</p>
</blockquote>



<a name="489575350"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489575350" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489575350">(Dec 17 2024 at 21:30)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#issuecomment-2549677111">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>:</p>
<blockquote>
<p>That cfg is certainly annoying but seems like it is probably better than baking in new assumptions that we know are unlikely to be true for too long?</p>
</blockquote>



<a name="489582312"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/489582312" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#489582312">(Dec 17 2024 at 22:23)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#issuecomment-2549770225">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>:</p>
<blockquote>
<p>To clarify though the precise assumption here is that 32-bit platforms don't have a Cranelift backend so pulley is pulled in as a dependency. This doesn't actually change any logic internally within Cranelift or Wasmtime, it just compiles in Pulley by default without a way to turn that off. That's only a problem with respect to binary size.</p>
<p>If all of Cranelift's currently supported architectures are listed out here then that's duplicated in two places in Wasmtime (not counting the ones in Cranelift) and they're just going to get blindly added to in the future. Alternatively if Cranelift gets a 32-bit backend then that would be added as an exception to the cfg as-is when binary size becomes a problem.</p>
<p>To me this is six-to-one-half-dozen-or-the-other where I have a preference for what's as-is as it's a managable cfg that's by-default workable for most platforms (it doesn't work for 64-bit platforms without a Cranelift backend). Listing out architectures individually feels "just as bad" to me basically.</p>
<p>The main alternative to me is that we leave pulley disabled by default on all platforms, regardless of Cranelift support. That feels like a worse experience to me though because it means that Wasmtime only works by default on Cranelift-supported platforms, which if someone's new to Wasmtime they might not understand to enable the Pulley backend.</p>
</blockquote>



<a name="490197909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/490197909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#490197909">(Dec 20 2024 at 16:52)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#issuecomment-2557377574">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>:</p>
<blockquote>
<p>ping @fitzgen on ^</p>
</blockquote>



<a name="491523599"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/491523599" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#491523599">(Jan 01 2025 at 19:37)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#pullrequestreview-2526919700">PR review</a>:</p>
<blockquote>
<p>I don't feel strongly enough on the issue of <code>cfg</code>s that I want to hold this up from landing. I do think writing out all the targets is slightly better than using pointer-width=32, but even better is running the full test suite on 32-bit platforms.</p>
</blockquote>



<a name="492159933"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/492159933" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#492159933">(Jan 06 2025 at 18:31)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="492160087"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/492160087" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#492160087">(Jan 06 2025 at 18:32)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#issuecomment-2573682245">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>:</p>
<blockquote>
<p>Doing a bit of thinking on this, @fitzgen mind looking at the last commit? (<a href="https://github.com/bytecodealliance/wasmtime/pull/9837/commits/b476a2e7e414413a8c6a72de9c85db77477f93d6">https://github.com/bytecodealliance/wasmtime/pull/9837/commits/b476a2e7e414413a8c6a72de9c85db77477f93d6</a>) It's a different strategy for enabling Pulley but it pulls the on-vs-off out of <code>Cargo.toml</code> which makes it manageable to list out targets IMO (and it's also going to be hard to forget to update because if it's not updated then the native Cranelift backend isn't used by default which would almost surely get noticed)</p>
</blockquote>



<a name="492181658"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/492181658" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#492181658">(Jan 06 2025 at 20:45)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#issuecomment-2573894900">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>:</p>
<blockquote>
<h4>Label Messager: wasmtime:config</h4>
<p>It looks like you are changing Wasmtime's configuration options. Make sure to<br>
complete this check list:</p>
<ul>
<li>
<p>[ ] If you added a new <code>Config</code> method, you wrote extensive documentation for<br>
      it.</p>
<p>&lt;details&gt;</p>
<p>Our documentation should be of the following form:</p>
<p>```text<br>
Short, simple summary sentence.</p>
<p>More details. These details can be multiple paragraphs. There should be<br>
information about not just the method, but its parameters and results as<br>
well.</p>
<p>Is this method fallible? If so, when can it return an error?</p>
<p>Can this method panic? If so, when does it panic?</p>
<h1>Example</h1>
<p>Optional example here.<br>
```</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[ ] If you added a new <code>Config</code> method, or modified an existing one, you<br>
  ensured that this configuration is exercised by the fuzz targets.</p>
<p>&lt;details&gt;</p>
<p>For example, if you expose a new strategy for allocating the next instance<br>
slot inside the pooling allocator, you should ensure that at least one of our<br>
fuzz targets exercises that new strategy.</p>
<p>Often, all that is required of you is to ensure that there is a knob for this<br>
configuration option in [<code>wasmtime_fuzzing::Config</code>][fuzzing-config] (or one<br>
of its nested <code>struct</code>s).</p>
<p>Rarely, this may require authoring a new fuzz target to specifically test this<br>
configuration. See [our docs on fuzzing][fuzzing-docs] for more details.</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[ ] If you are enabling a configuration option by default, make sure that it<br>
  has been fuzzed for at least two weeks before turning it on by default.</p>
</li>
</ul>
<p>[fuzzing-config]: <a href="https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194">https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194</a><br>
[fuzzing-docs]: <a href="https://docs.wasmtime.dev/contributing-fuzzing.html">https://docs.wasmtime.dev/contributing-fuzzing.html</a></p>
<hr>
<p>&lt;details&gt;</p>
<p>To modify this label's message, edit the &lt;code&gt;.github/label-messager/wasmtime-config.md&lt;/code&gt; file.</p>
<p>To add new label messages or remove existing label messages, edit the<br>
&lt;code&gt;.github/label-messager.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/label-messager-action">Learn more.</a></p>
<p>&lt;/details&gt;</p>
</blockquote>



<a name="492184384"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/492184384" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#492184384">(Jan 06 2025 at 21:01)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="492184586"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/492184586" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#492184586">(Jan 06 2025 at 21:02)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#issuecomment-2573922178">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>:</p>
<blockquote>
<p>I'll also call out the now-currently-last commit in this PR which is new and (somewhat) substantial. It resolves a segfault on CI which I could reproduce locally and was one of the items listed in <a href="https://github.com/bytecodealliance/wasmtime/issues/9747">https://github.com/bytecodealliance/wasmtime/issues/9747</a> namely that the setjmp/longjmp implementation for Pulley needed to restore callee-save state and this was the first time that turned up.</p>
</blockquote>



<a name="492187916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/492187916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#492187916">(Jan 06 2025 at 21:24)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="493662274"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/493662274" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#493662274">(Jan 14 2025 at 20:16)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#pullrequestreview-2550929845">PR review</a>:</p>
<blockquote>
<p>Latest commit seems like a good balance.</p>
<p>Did you happen to verify that code size didn't increase under this set up when not using Pulley?</p>
</blockquote>



<a name="493668325"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/493668325" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#493668325">(Jan 14 2025 at 20:53)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="493668489"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/493668489" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#493668489">(Jan 14 2025 at 20:54)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#issuecomment-2591083090">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>:</p>
<blockquote>
<p>Code size is expected to increase due to the Pulley backend being unconditionally enabled in Cranelift now, but otherwise for Wasmtime itself I've confirmed that Pulley support in Wasmtime is not compiled in on x86_64 (I introduced a compile failure in the pulley-specific integration and it didn't get compiled with default features)</p>
</blockquote>



<a name="493668495"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/493668495" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#493668495">(Jan 14 2025 at 20:54)</a>:</h4>
<p>alexcrichton has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="493702811"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/493702811" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#493702811">(Jan 15 2025 at 01:52)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="493717563"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/493717563" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#493717563">(Jan 15 2025 at 04:39)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="493982201"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/493982201" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#493982201">(Jan 15 2025 at 17:39)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="493989691"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/493989691" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#493989691">(Jan 15 2025 at 18:19)</a>:</h4>
<p>alexcrichton updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="493997024"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/493997024" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#493997024">(Jan 15 2025 at 19:04)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9837">PR #9837</a>.</p>



<a name="494029064"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239837%20Run%20the%20full%20test%20suite%20on%2032-bit%20pla.../near/494029064" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239837.20Run.20the.20full.20test.20suite.20on.2032-bit.20pla.2E.2E.2E.html#494029064">(Jan 15 2025 at 22:32)</a>:</h4>
<p>Scutua submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9837#pullrequestreview-2554175571">PR review</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>