<html>
<head><meta charset="utf-8"><title>wasmtime / PR #7423 wasi-sockets: Sync up UDP implementat... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html">wasmtime / PR #7423 wasi-sockets: Sync up UDP implementat...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="399557435"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237423%20wasi-sockets%3A%20Sync%20up%20UDP%20implementat.../near/399557435" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html#399557435">(Oct 31 2023 at 16:14)</a>:</h4>
<p>badeend opened <a href="https://github.com/bytecodealliance/wasmtime/pull/7423">PR #7423</a> from <code>badeend:udp-tests</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>No major functional changes:</p>
<ul>
<li>Moved the validation utility methods out of <a href="http://tcp.rs">tcp.rs</a> and into <a href="http://network.rs">network.rs</a> so that the UDP implementation can use them too.</li>
<li>Extracted most platform compatibility fixes out into separate functions and moved them to a place where they can be used by UDP too.</li>
<li>Applied those validations and compatibility fixes to the UDP implementation as well.</li>
<li>Copied the TCP tests and adjusted them to work with UDP</li>
</ul>
</blockquote>



<a name="399557437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237423%20wasi-sockets%3A%20Sync%20up%20UDP%20implementat.../near/399557437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html#399557437">(Oct 31 2023 at 16:14)</a>:</h4>
<p><strong>badeend</strong> requested <a href="https://github.com/alexcrichton">alexcrichton</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7423">PR #7423</a>.</p>



<a name="399557438"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237423%20wasi-sockets%3A%20Sync%20up%20UDP%20implementat.../near/399557438" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html#399557438">(Oct 31 2023 at 16:14)</a>:</h4>
<p><strong>badeend</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/7423">PR #7423</a>.</p>



<a name="399560577"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237423%20wasi-sockets%3A%20Sync%20up%20UDP%20implementat.../near/399560577" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html#399560577">(Oct 31 2023 at 16:33)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7423#pullrequestreview-1706761265">PR review</a>:</p>
<blockquote>
<p>Thanks!</p>
<p>Sort of a side-question as it's not directly related to this PR itself, where's all this error-handling code coming from? This seems extensive enough that the tests probably aren't exercising all the various cases here and I'm curious if you're porting from another library for example or something like that.</p>
</blockquote>



<a name="399560578"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237423%20wasi-sockets%3A%20Sync%20up%20UDP%20implementat.../near/399560578" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html#399560578">(Oct 31 2023 at 16:33)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7423#pullrequestreview-1706761265">PR review</a>:</p>
<blockquote>
<p>Thanks!</p>
<p>Sort of a side-question as it's not directly related to this PR itself, where's all this error-handling code coming from? This seems extensive enough that the tests probably aren't exercising all the various cases here and I'm curious if you're porting from another library for example or something like that.</p>
</blockquote>



<a name="399560581"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237423%20wasi-sockets%3A%20Sync%20up%20UDP%20implementat.../near/399560581" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html#399560581">(Oct 31 2023 at 16:33)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/7423#discussion_r1377868628">PR review comment</a>:</p>
<blockquote>
<p>Can this fail if the port is already bound? We've had issues with tests running concurrently in the past and I think the TCP test has a case where it handles failure to bind here.</p>
</blockquote>



<a name="399587098"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237423%20wasi-sockets%3A%20Sync%20up%20UDP%20implementat.../near/399587098" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html#399587098">(Oct 31 2023 at 19:13)</a>:</h4>
<p>badeend submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7423#pullrequestreview-1707072136">PR review</a>.</p>



<a name="399587099"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237423%20wasi-sockets%3A%20Sync%20up%20UDP%20implementat.../near/399587099" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html#399587099">(Oct 31 2023 at 19:13)</a>:</h4>
<p>badeend created <a href="https://github.com/bytecodealliance/wasmtime/pull/7423#discussion_r1378061317">PR review comment</a>:</p>
<blockquote>
<p>Ah right. Hadn't noticed the TCP test changed recently. Yes, this UDP test needs the same update.</p>
</blockquote>



<a name="400322514"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237423%20wasi-sockets%3A%20Sync%20up%20UDP%20implementat.../near/400322514" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html#400322514">(Nov 04 2023 at 19:39)</a>:</h4>
<p>badeend updated <a href="https://github.com/bytecodealliance/wasmtime/pull/7423">PR #7423</a>.</p>



<a name="400322593"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237423%20wasi-sockets%3A%20Sync%20up%20UDP%20implementat.../near/400322593" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html#400322593">(Nov 04 2023 at 19:40)</a>:</h4>
<p>badeend submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/7423#pullrequestreview-1713843539">PR review</a>.</p>



<a name="400322594"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237423%20wasi-sockets%3A%20Sync%20up%20UDP%20implementat.../near/400322594" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html#400322594">(Nov 04 2023 at 19:40)</a>:</h4>
<p>badeend created <a href="https://github.com/bytecodealliance/wasmtime/pull/7423#discussion_r1382449209">PR review comment</a>:</p>
<blockquote>
<p>I've updated the test with the same workaround that's in the TCP test.</p>
</blockquote>



<a name="400426060"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%237423%20wasi-sockets%3A%20Sync%20up%20UDP%20implementat.../near/400426060" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.237423.20wasi-sockets.3A.20Sync.20up.20UDP.20implementat.2E.2E.2E.html#400426060">(Nov 05 2023 at 22:15)</a>:</h4>
<p>alexcrichton merged <a href="https://github.com/bytecodealliance/wasmtime/pull/7423">PR #7423</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>