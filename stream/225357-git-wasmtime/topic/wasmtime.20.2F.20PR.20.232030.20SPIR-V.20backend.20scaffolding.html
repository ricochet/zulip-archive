<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2030 SPIR-V backend scaffolding · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html">wasmtime / PR #2030 SPIR-V backend scaffolding</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="204061863"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204061863" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204061863">(Jul 16 2020 at 09:23)</a>:</h4>
<p>Jasper-Bekkers opened <a href="https://github.com/bytecodealliance/wasmtime/pull/2030">PR #2030</a> from <code>master</code> to <code>master</code>:</p>
<blockquote>
<p>As discussed on Zulip, we're starting to ramp up our efforts on providing the SPIR-V backend, so I thought it might be a good time to provide some insights into the project to the wasmtime team. </p>
<p>I figure it's easier for everybody if we engage early on rather then submit a giant PR in the end, this way we can take it together and one step at a time.</p>
<p>We'll most likely have some changes incoming for internal cranelift datastructures etc to be able to deal with SPIR-V properly but they're not part of this PR yet, we'll try and contribute those as smaller improvements.</p>
<p>Right now the PR is a draft because we'd like to get initial feedback on our approach, because it still contains some debug code and because I need to rebase this on top of master.</p>
</blockquote>



<a name="204063186"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063186" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063186">(Jul 16 2020 at 09:39)</a>:</h4>
<p>Jasper-Bekkers updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2030">PR #2030</a> from <code>master</code> to <code>master</code>:</p>
<blockquote>
<p>As discussed on Zulip, we're starting to ramp up our efforts on providing the SPIR-V backend, so I thought it might be a good time to provide some insights into the project to the wasmtime team. </p>
<p>I figure it's easier for everybody if we engage early on rather then submit a giant PR in the end, this way we can take it together and one step at a time.</p>
<p>We'll most likely have some changes incoming for internal cranelift datastructures etc to be able to deal with SPIR-V properly but they're not part of this PR yet, we'll try and contribute those as smaller improvements.</p>
<p>Right now the PR is a draft because we'd like to get initial feedback on our approach, because it still contains some debug code and because I need to rebase this on top of master.</p>
</blockquote>



<a name="204063648"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063648" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063648">(Jul 16 2020 at 09:45)</a>:</h4>
<p>Jasper-Bekkers updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2030">PR #2030</a> from <code>master</code> to <code>master</code>:</p>
<blockquote>
<p>As discussed on Zulip, we're starting to ramp up our efforts on providing the SPIR-V backend, so I thought it might be a good time to provide some insights into the project to the wasmtime team. </p>
<p>I figure it's easier for everybody if we engage early on rather then submit a giant PR in the end, this way we can take it together and one step at a time.</p>
<p>We'll most likely have some changes incoming for internal cranelift datastructures etc to be able to deal with SPIR-V properly but they're not part of this PR yet, we'll try and contribute those as smaller improvements.</p>
<p>Right now the PR is a draft because we'd like to get initial feedback on our approach, because it still contains some debug code and because I need to rebase this on top of master.</p>
</blockquote>



<a name="204063803"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063803" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063803">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449678342">PR Review</a>.</p>



<a name="204063804"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063804" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063804">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449678342">PR Review</a>.</p>



<a name="204063805"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063805" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063805">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455652919">PR Review Comment</a>:</p>
<blockquote>
<p>Please make these optional and depend on them from the <code>spriv</code> feature.</p>
</blockquote>



<a name="204063806"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063806" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063806">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455655696">PR Review Comment</a>:</p>
<blockquote>
<div class="codehilite"><pre><span></span><code>#[cfg(feature = &quot;spirv&quot;)]
mod spirv;
</code></pre></div>


</blockquote>



<a name="204063807"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063807" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063807">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455656798">PR Review Comment</a>:</p>
<blockquote>
<div class="codehilite"><pre><span></span><code>        if self.result_type.is_some() {
</code></pre></div>


</blockquote>



<a name="204063808"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063808" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063808">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455653399">PR Review Comment</a>:</p>
<blockquote>
<p>Does toml support trailing commas? If so, please add one to minimize diffs a bit for future architecture additions.</p>
</blockquote>



<a name="204063809"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063809" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063809">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455654386">PR Review Comment</a>:</p>
<blockquote>
<div class="codehilite"><pre><span></span><code>
</code></pre></div>


<p>Already mentioned below.</p>
</blockquote>



<a name="204063810"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063810" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063810">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455655314">PR Review Comment</a>:</p>
<blockquote>
<p>@cfallin Is it still necessary to specify backends in <code>codegen-meta</code> when using the new framework?</p>
</blockquote>



<a name="204063811"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063811" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063811">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455656929">PR Review Comment</a>:</p>
<blockquote>
<div class="codehilite"><pre><span></span><code>        if self.result_id.is_some() {
</code></pre></div>


</blockquote>



<a name="204063812"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063812" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063812">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455659959">PR Review Comment</a>:</p>
<blockquote>
<p>nit: missing trailing newline</p>
</blockquote>



<a name="204063813"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063813" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063813">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455659025">PR Review Comment</a>:</p>
<blockquote>
<p>nit: missing trailing newline</p>
</blockquote>



<a name="204063814"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063814" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063814">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455659564">PR Review Comment</a>:</p>
<blockquote>
<p><span aria-label="wave" class="emoji emoji-1f44b" role="img" title="wave">:wave:</span></p>
</blockquote>



<a name="204063815"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063815" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063815">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455658017">PR Review Comment</a>:</p>
<blockquote>
<p>nit: missing trailing newline</p>
</blockquote>



<a name="204063816"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063816" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063816">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455661796">PR Review Comment</a>:</p>
<blockquote>
<p>nit: missing trailing newline</p>
</blockquote>



<a name="204063817"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063817" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063817">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455661532">PR Review Comment</a>:</p>
<blockquote>
<p>Something went wrong here. Can you revert this change?</p>
</blockquote>



<a name="204063818"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204063818" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204063818">(Jul 16 2020 at 09:47)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455657398">PR Review Comment</a>:</p>
<blockquote>
<p>nit:</p>
<div class="codehilite"><pre><span></span><code>        if let Some(result) = self.result_id {
</code></pre></div>


</blockquote>



<a name="204065180"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204065180" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204065180">(Jul 16 2020 at 10:04)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449704237">PR Review</a>.</p>



<a name="204065181"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204065181" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204065181">(Jul 16 2020 at 10:04)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455673784">PR Review Comment</a>:</p>
<blockquote>
<p>nit: missing trailing newline</p>
</blockquote>



<a name="204065306"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204065306" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204065306">(Jul 16 2020 at 10:06)</a>:</h4>
<p>Jasper-Bekkers submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449705216">PR Review</a>.</p>



<a name="204065307"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204065307" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204065307">(Jul 16 2020 at 10:06)</a>:</h4>
<p>Jasper-Bekkers created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455674521">PR Review Comment</a>:</p>
<blockquote>
<p>It looks like some more went wrong - not just here, during the rebase on top of main, investigating.</p>
</blockquote>



<a name="204068088"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204068088" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204068088">(Jul 16 2020 at 10:43)</a>:</h4>
<p>Jasper-Bekkers updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2030">PR #2030</a> from <code>master</code> to <code>master</code>:</p>
<blockquote>
<p>As discussed on Zulip, we're starting to ramp up our efforts on providing the SPIR-V backend, so I thought it might be a good time to provide some insights into the project to the wasmtime team. </p>
<p>I figure it's easier for everybody if we engage early on rather then submit a giant PR in the end, this way we can take it together and one step at a time.</p>
<p>We'll most likely have some changes incoming for internal cranelift datastructures etc to be able to deal with SPIR-V properly but they're not part of this PR yet, we'll try and contribute those as smaller improvements.</p>
<p>Right now the PR is a draft because we'd like to get initial feedback on our approach, because it still contains some debug code and because I need to rebase this on top of master.</p>
</blockquote>



<a name="204068665"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204068665" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204068665">(Jul 16 2020 at 10:51)</a>:</h4>
<p>Jasper-Bekkers edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2030">PR #2030</a> from <code>master</code> to <code>main</code>:</p>
<blockquote>
<p>As discussed on Zulip, we're starting to ramp up our efforts on providing the SPIR-V backend, so I thought it might be a good time to provide some insights into the project to the wasmtime team. </p>
<p>I figure it's easier for everybody if we engage early on rather then submit a giant PR in the end, this way we can take it together and one step at a time.</p>
<p>We'll most likely have some changes incoming for internal cranelift datastructures etc to be able to deal with SPIR-V properly but they're not part of this PR yet, we'll try and contribute those as smaller improvements.</p>
<p>Right now the PR is a draft because we'd like to get initial feedback on our approach, because it still contains some debug code and because I need to rebase this on top of master.</p>
</blockquote>



<a name="204069361"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204069361" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204069361">(Jul 16 2020 at 11:00)</a>:</h4>
<p>Jasper-Bekkers updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2030">PR #2030</a> from <code>master</code> to <code>main</code>:</p>
<blockquote>
<p>As discussed on Zulip, we're starting to ramp up our efforts on providing the SPIR-V backend, so I thought it might be a good time to provide some insights into the project to the wasmtime team. </p>
<p>I figure it's easier for everybody if we engage early on rather then submit a giant PR in the end, this way we can take it together and one step at a time.</p>
<p>We'll most likely have some changes incoming for internal cranelift datastructures etc to be able to deal with SPIR-V properly but they're not part of this PR yet, we'll try and contribute those as smaller improvements.</p>
<p>Right now the PR is a draft because we'd like to get initial feedback on our approach, because it still contains some debug code and because I need to rebase this on top of master.</p>
</blockquote>



<a name="204069452"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204069452" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204069452">(Jul 16 2020 at 11:01)</a>:</h4>
<p>Jasper-Bekkers updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2030">PR #2030</a> from <code>master</code> to <code>main</code>:</p>
<blockquote>
<p>As discussed on Zulip, we're starting to ramp up our efforts on providing the SPIR-V backend, so I thought it might be a good time to provide some insights into the project to the wasmtime team. </p>
<p>I figure it's easier for everybody if we engage early on rather then submit a giant PR in the end, this way we can take it together and one step at a time.</p>
<p>We'll most likely have some changes incoming for internal cranelift datastructures etc to be able to deal with SPIR-V properly but they're not part of this PR yet, we'll try and contribute those as smaller improvements.</p>
<p>Right now the PR is a draft because we'd like to get initial feedback on our approach, because it still contains some debug code and because I need to rebase this on top of master.</p>
</blockquote>



<a name="204072458"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204072458" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204072458">(Jul 16 2020 at 11:46)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449770067">PR Review</a>.</p>



<a name="204072459"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204072459" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204072459">(Jul 16 2020 at 11:46)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455726157">PR Review Comment</a>:</p>
<blockquote>
<p>It should be only useful to require a new-backend style meta build, that is, build the instructions and <code>expand</code> group. So the module is not strictly required here, the <code>Isa</code> variant below is sufficient, and should be handled in the second loop in <code>codegen/meta/src/lib.rs</code>, probably with an empty match arm (as aarch64) if there are no spirv specific settings. Also the <code>codegen/build.rs</code> script should mimic what's done for x64.</p>
</blockquote>



<a name="204076080"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204076080" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204076080">(Jul 16 2020 at 12:32)</a>:</h4>
<p>Jasper-Bekkers updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2030">PR #2030</a> from <code>master</code> to <code>main</code>:</p>
<blockquote>
<p>As discussed on Zulip, we're starting to ramp up our efforts on providing the SPIR-V backend, so I thought it might be a good time to provide some insights into the project to the wasmtime team. </p>
<p>I figure it's easier for everybody if we engage early on rather then submit a giant PR in the end, this way we can take it together and one step at a time.</p>
<p>We'll most likely have some changes incoming for internal cranelift datastructures etc to be able to deal with SPIR-V properly but they're not part of this PR yet, we'll try and contribute those as smaller improvements.</p>
<p>Right now the PR is a draft because we'd like to get initial feedback on our approach, because it still contains some debug code and because I need to rebase this on top of master.</p>
</blockquote>



<a name="204076127"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204076127" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204076127">(Jul 16 2020 at 12:32)</a>:</h4>
<p>Jasper-Bekkers submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449801023">PR Review</a>.</p>



<a name="204076128"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204076128" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204076128">(Jul 16 2020 at 12:32)</a>:</h4>
<p>Jasper-Bekkers created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455750564">PR Review Comment</a>:</p>
<blockquote>
<p>Re-rebased on <code>main</code> this time (didn't catch the branch rename the first time around, but it's all fixed now).</p>
</blockquote>



<a name="204076218"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204076218" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204076218">(Jul 16 2020 at 12:33)</a>:</h4>
<p>Jasper-Bekkers submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449801519">PR Review</a>.</p>



<a name="204076219"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204076219" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204076219">(Jul 16 2020 at 12:33)</a>:</h4>
<p>Jasper-Bekkers created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455750943">PR Review Comment</a>:</p>
<blockquote>
<p>Seems so, fixed.</p>
</blockquote>



<a name="204076226"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204076226" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204076226">(Jul 16 2020 at 12:33)</a>:</h4>
<p>Jasper-Bekkers submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449801614">PR Review</a>.</p>



<a name="204076228"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204076228" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204076228">(Jul 16 2020 at 12:33)</a>:</h4>
<p>Jasper-Bekkers created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455751000">PR Review Comment</a>:</p>
<blockquote>
<p>Done.</p>
</blockquote>



<a name="204076311"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204076311" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204076311">(Jul 16 2020 at 12:34)</a>:</h4>
<p>Jasper-Bekkers submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449802123">PR Review</a>.</p>



<a name="204076312"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204076312" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204076312">(Jul 16 2020 at 12:34)</a>:</h4>
<p>Jasper-Bekkers created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455751389">PR Review Comment</a>:</p>
<blockquote>
<p>Changed.</p>
</blockquote>



<a name="204076352"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204076352" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204076352">(Jul 16 2020 at 12:34)</a>:</h4>
<p>Jasper-Bekkers submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449802260">PR Review</a>.</p>



<a name="204076353"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204076353" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204076353">(Jul 16 2020 at 12:34)</a>:</h4>
<p>Jasper-Bekkers created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455751532">PR Review Comment</a>:</p>
<blockquote>
<p>Done.</p>
</blockquote>



<a name="204076746"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204076746" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204076746">(Jul 16 2020 at 12:38)</a>:</h4>
<p>Jasper-Bekkers updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2030">PR #2030</a> from <code>master</code> to <code>main</code>:</p>
<blockquote>
<p>As discussed on Zulip, we're starting to ramp up our efforts on providing the SPIR-V backend, so I thought it might be a good time to provide some insights into the project to the wasmtime team. </p>
<p>I figure it's easier for everybody if we engage early on rather then submit a giant PR in the end, this way we can take it together and one step at a time.</p>
<p>We'll most likely have some changes incoming for internal cranelift datastructures etc to be able to deal with SPIR-V properly but they're not part of this PR yet, we'll try and contribute those as smaller improvements.</p>
<p>Right now the PR is a draft because we'd like to get initial feedback on our approach, because it still contains some debug code and because I need to rebase this on top of master.</p>
</blockquote>



<a name="204077327"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204077327" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204077327">(Jul 16 2020 at 12:44)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449802445">PR Review</a>.</p>



<a name="204077328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204077328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204077328">(Jul 16 2020 at 12:44)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449802445">PR Review</a>.</p>



<a name="204077329"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204077329" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204077329">(Jul 16 2020 at 12:44)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455751673">PR Review Comment</a>:</p>
<blockquote>
<p>I think this is can be return an empty <code>IsaRegs</code>.</p>
</blockquote>



<a name="204077330"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204077330" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204077330">(Jul 16 2020 at 12:44)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455752593">PR Review Comment</a>:</p>
<blockquote>
<p>I think <code>Spirv</code> can be handled the same as <code>Arm64</code>.</p>
</blockquote>



<a name="204077331"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204077331" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204077331">(Jul 16 2020 at 12:44)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455755688">PR Review Comment</a>:</p>
<blockquote>
<p>This won't work they way you may think it does. You are only accessing it from a single thread, so it is equivalent to an <code>u32</code>. What about adding a relocation type for ids, so that the code creating a SPIR-V module from all functions can make the ids unique?</p>
</blockquote>



<a name="204077332"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204077332" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204077332">(Jul 16 2020 at 12:44)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455756379">PR Review Comment</a>:</p>
<blockquote>
<p>Reminder to implement.</p>
</blockquote>



<a name="204077603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204077603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204077603">(Jul 16 2020 at 12:46)</a>:</h4>
<p>Jasper-Bekkers updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2030">PR #2030</a> from <code>master</code> to <code>main</code>:</p>
<blockquote>
<p>As discussed on Zulip, we're starting to ramp up our efforts on providing the SPIR-V backend, so I thought it might be a good time to provide some insights into the project to the wasmtime team. </p>
<p>I figure it's easier for everybody if we engage early on rather then submit a giant PR in the end, this way we can take it together and one step at a time.</p>
<p>We'll most likely have some changes incoming for internal cranelift datastructures etc to be able to deal with SPIR-V properly but they're not part of this PR yet, we'll try and contribute those as smaller improvements.</p>
<p>Right now the PR is a draft because we'd like to get initial feedback on our approach, because it still contains some debug code and because I need to rebase this on top of master.</p>
</blockquote>



<a name="204078072"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204078072" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204078072">(Jul 16 2020 at 12:51)</a>:</h4>
<p>Jasper-Bekkers updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2030">PR #2030</a> from <code>master</code> to <code>main</code>:</p>
<blockquote>
<p>As discussed on Zulip, we're starting to ramp up our efforts on providing the SPIR-V backend, so I thought it might be a good time to provide some insights into the project to the wasmtime team. </p>
<p>I figure it's easier for everybody if we engage early on rather then submit a giant PR in the end, this way we can take it together and one step at a time.</p>
<p>We'll most likely have some changes incoming for internal cranelift datastructures etc to be able to deal with SPIR-V properly but they're not part of this PR yet, we'll try and contribute those as smaller improvements.</p>
<p>Right now the PR is a draft because we'd like to get initial feedback on our approach, because it still contains some debug code and because I need to rebase this on top of master.</p>
</blockquote>



<a name="204078369"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204078369" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204078369">(Jul 16 2020 at 12:54)</a>:</h4>
<p>Jasper-Bekkers submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449817160">PR Review</a>.</p>



<a name="204078371"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204078371" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204078371">(Jul 16 2020 at 12:54)</a>:</h4>
<p>Jasper-Bekkers created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455762906">PR Review Comment</a>:</p>
<blockquote>
<p>Yeah; we're having a discussion internally on how to best solve this. We'll need to hand out <code>id</code>'s in a few cases; one is to allocate types and the other as virtual SSA registers, so we need some architecture around this. </p>
<p>For type allocation we're thinking of doing a two-pass approach (eg. scan which types are needed and alloc them followed by a pass that just uses them).</p>
<p>For handing out id's during instruction lowering, we'll need some kind of way to have relocateable id's most likely so we'll take a look at that.</p>
</blockquote>



<a name="204078432"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204078432" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204078432">(Jul 16 2020 at 12:54)</a>:</h4>
<p>Jasper-Bekkers submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449817349">PR Review</a>.</p>



<a name="204078433"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204078433" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204078433">(Jul 16 2020 at 12:54)</a>:</h4>
<p>Jasper-Bekkers created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455763048">PR Review Comment</a>:</p>
<blockquote>
<p>Replaced with <code>todo!</code></p>
</blockquote>



<a name="204078448"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204078448" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204078448">(Jul 16 2020 at 12:54)</a>:</h4>
<p>Jasper-Bekkers submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449817452">PR Review</a>.</p>



<a name="204078449"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204078449" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204078449">(Jul 16 2020 at 12:54)</a>:</h4>
<p>Jasper-Bekkers created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455763132">PR Review Comment</a>:</p>
<blockquote>
<p>Done.</p>
</blockquote>



<a name="204078458"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204078458" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204078458">(Jul 16 2020 at 12:54)</a>:</h4>
<p>Jasper-Bekkers submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#pullrequestreview-449817537">PR Review</a>.</p>



<a name="204078460"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/204078460" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#204078460">(Jul 16 2020 at 12:54)</a>:</h4>
<p>Jasper-Bekkers created <a href="https://github.com/bytecodealliance/wasmtime/pull/2030#discussion_r455763201">PR Review Comment</a>:</p>
<blockquote>
<p>Done.</p>
</blockquote>



<a name="209491883"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232030%20SPIR-V%20backend%20scaffolding/near/209491883" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232030.20SPIR-V.20backend.20scaffolding.html#209491883">(Sep 09 2020 at 10:00)</a>:</h4>
<p>Jasper-Bekkers closed without merge <a href="https://github.com/bytecodealliance/wasmtime/pull/2030">PR #2030</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>