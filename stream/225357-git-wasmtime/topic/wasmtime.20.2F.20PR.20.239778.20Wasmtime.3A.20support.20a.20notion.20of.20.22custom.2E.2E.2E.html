<html>
<head><meta charset="utf-8"><title>wasmtime / PR #9778 Wasmtime: support a notion of &quot;custom... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html">wasmtime / PR #9778 Wasmtime: support a notion of &quot;custom...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="487314094"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487314094" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487314094">(Dec 10 2024 at 18:15)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/fitzgen">fitzgen</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487314096"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487314096" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487314096">(Dec 10 2024 at 18:15)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers">wasmtime-core-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487314097"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487314097" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487314097">(Dec 10 2024 at 18:15)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a> from <code>cfallin:custom-code-publisher</code> to <code>bytecodealliance:main</code>:</p>
<blockquote>
<p>In some <code>no_std</code> environments, virtual memory usage is <em>generally</em> prohibited for performance-predictability reasons, but the MMU hardware is still in use for permissions (e.g., <code>W^X</code> write-xor-execute). Occasional changes to page mapping permissions are thus necessary when new modules are loaded dynamically, and are acceptable in that context. Wasmtime needs a way to support "publishing" code (making it executable) in such environments.</p>
<p>Rather than try to segment the <code>signals-based-traps</code> divide further, and piece out the code-publishing parts from the heap parts, and backdoor a path to <code>mprotect</code> in an otherwise <code>no_std</code> build, in this PR I have opted to add a trait an impl of which the embedder can provide to the <code>Config</code> to implement custom actions for "code publish". This otherwise operates properly in a<br>
no-<code>signals-based-traps</code> environment, e.g., the module backing memory itself is regularly allocated rather than mmap'd (but is now aligned to the degree requested by the trait impl).</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="487314098"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487314098" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487314098">(Dec 10 2024 at 18:15)</a>:</h4>
<p><strong>cfallin</strong> requested <a href="https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers">wasmtime-default-reviewers</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487314128"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487314128" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487314128">(Dec 10 2024 at 18:15)</a>:</h4>
<p>cfallin edited <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>:</p>
<blockquote>
<p>In some <code>no_std</code> environments, virtual memory usage is <em>generally</em> prohibited for performance-predictability reasons, but the MMU hardware is still in use for permissions (e.g., <code>W^X</code> write-xor-execute). Occasional changes to page mapping permissions are thus necessary when new modules are loaded dynamically, and are acceptable in that context. Wasmtime needs a way to support "publishing" code (making it executable) in such environments.</p>
<p>Rather than try to segment the <code>signals-based-traps</code> divide further, and piece out the code-publishing parts from the heap parts, and backdoor a path to <code>mprotect</code> in an otherwise <code>no_std</code> build, in this PR I have opted to add a trait an impl of which the embedder can provide to the <code>Config</code> to implement custom actions for "code publish". This otherwise operates properly in a no-<code>signals-based-traps</code> environment, e.g., the module backing memory itself is regularly allocated rather than mmap'd (but is now aligned to the degree requested by the trait impl).</p>
<p>&lt;!--<br>
Please make sure you include the following information:</p>
<ul>
<li>
<p>If this work has been discussed elsewhere, please include a link to that<br>
  conversation. If it was discussed in an issue, just mention "issue #...".</p>
</li>
<li>
<p>Explain why this change is needed. If the details are in an issue already,<br>
  this can be brief.</p>
</li>
</ul>
<p>Our development process is documented in the Wasmtime book:<br>
<a href="https://docs.wasmtime.dev/contributing-development-process.html">https://docs.wasmtime.dev/contributing-development-process.html</a></p>
<p>Please ensure all communication follows the code of conduct:<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>
--&gt;</p>
</blockquote>



<a name="487316222"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487316222" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487316222">(Dec 10 2024 at 18:28)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493228864">PR review</a>.</p>



<a name="487316223"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487316223" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487316223">(Dec 10 2024 at 18:28)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878618790">PR review comment</a>:</p>
<blockquote>
<p>I think it might make sense to augment the previous constructor instead of adding a new one in this case as it feels reasonable to have every caller pass in the alignment</p>
</blockquote>



<a name="487316224"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487316224" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487316224">(Dec 10 2024 at 18:28)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878614581">PR review comment</a>:</p>
<blockquote>
<p>WDYT about removing this feature and unconditionally including the support from this PR? I don't think LLVM will propagate that the trait object is <code>None</code> all that well but the cost is a few virtual dispatches in a few places which doesn't seem too bad, so this seems reasonable to me to include by default.</p>
<p>I ask because cargo features to me are pretty pricey in terms of maintenance due to extra CI and understanding all the <code>#[cfg]</code>, so in the abstract we would have zero Cargo features. They're basically required for extra platform requirements though which is why we have a lot, though, but this use case isn't related (in that sense) to gating wasmtime's requirement on additional platform requirements.</p>
</blockquote>



<a name="487316225"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487316225" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487316225">(Dec 10 2024 at 18:28)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878620619">PR review comment</a>:</p>
<blockquote>
<p>I think it might be better to explicitly request aligned memory from the system allocator rather than performing manual alignment here. That means we can't use <code>Vec&lt;u8&gt;</code> because it won't deallocate properly, but I also think that's reasonable since we don't need any growth-related aspects of <code>Vec</code> here.</p>
</blockquote>



<a name="487317086"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487317086" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487317086">(Dec 10 2024 at 18:32)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493248402">PR review</a>.</p>



<a name="487317087"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487317087" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487317087">(Dec 10 2024 at 18:32)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878626833">PR review comment</a>:</p>
<blockquote>
<p>Unfortunately that's not an option in my embedding: memory must come from the <code>alloc</code> allocator.</p>
</blockquote>



<a name="487317232"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487317232" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487317232">(Dec 10 2024 at 18:33)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493251468">PR review</a>.</p>



<a name="487317233"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487317233" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487317233">(Dec 10 2024 at 18:33)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878628647">PR review comment</a>:</p>
<blockquote>
<p>Ah, actually, do you mean the lower-level <code>alloc</code> APIs? I'll look into that.</p>
</blockquote>



<a name="487317457"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487317457" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487317457">(Dec 10 2024 at 18:34)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493253351">PR review</a>.</p>



<a name="487317458"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487317458" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487317458">(Dec 10 2024 at 18:34)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878629862">PR review comment</a>:</p>
<blockquote>
<p>Sure, happy to fold it in; was worried the extra checks might cause some consternation but you're right, it's probably not too bad (and loading modules is relatively not a hot path).</p>
</blockquote>



<a name="487317829"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487317829" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487317829">(Dec 10 2024 at 18:36)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493256913">PR review</a>.</p>



<a name="487317830"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487317830" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487317830">(Dec 10 2024 at 18:36)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878632048">PR review comment</a>:</p>
<blockquote>
<p>Ah yes I mean <a href="https://doc.rust-lang.org/stable/std/alloc/fn.alloc.html">calling <code>alloc</code> directly</a> and then having a custom collection which calls <code>Drop</code> as well (since <code>Vec&lt;u8&gt;</code> can't be used)</p>
</blockquote>



<a name="487319810"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487319810" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487319810">(Dec 10 2024 at 18:48)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487319915"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487319915" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487319915">(Dec 10 2024 at 18:49)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493284152">PR review</a>.</p>



<a name="487319917"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487319917" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487319917">(Dec 10 2024 at 18:49)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878647926">PR review comment</a>:</p>
<blockquote>
<p>Done.</p>
</blockquote>



<a name="487324459"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487324459" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487324459">(Dec 10 2024 at 19:15)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487324551"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487324551" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487324551">(Dec 10 2024 at 19:16)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493353952">PR review</a>.</p>



<a name="487324553"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487324553" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487324553">(Dec 10 2024 at 19:16)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878692957">PR review comment</a>:</p>
<blockquote>
<p>Done!</p>
</blockquote>



<a name="487324567"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487324567" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487324567">(Dec 10 2024 at 19:16)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493354233">PR review</a>.</p>



<a name="487324568"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487324568" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487324568">(Dec 10 2024 at 19:16)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878693129">PR review comment</a>:</p>
<blockquote>
<p>Done.</p>
</blockquote>



<a name="487324582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487324582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487324582">(Dec 10 2024 at 19:16)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#issuecomment-2532660041">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>:</p>
<blockquote>
<p>Updated, thanks!</p>
</blockquote>



<a name="487325596"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487325596" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487325596">(Dec 10 2024 at 19:23)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487326899"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487326899" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487326899">(Dec 10 2024 at 19:32)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487329911"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487329911" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487329911">(Dec 10 2024 at 19:52)</a>:</h4>
<p>alexcrichton submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493420572">PR review</a>:</p>
<blockquote>
<p>Would it be possible to add a test exercising this trait as well? Perhaps x86_64-linux-specific to avoid rewriting a bunch of logic to make things executable or something like that.</p>
</blockquote>



<a name="487329912"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487329912" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487329912">(Dec 10 2024 at 19:52)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878733121">PR review comment</a>:</p>
<blockquote>
<p>This is already stored as-is in <code>Config</code> so might be able to access from there (stored above) instead of also storing here too?</p>
</blockquote>



<a name="487329913"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487329913" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487329913">(Dec 10 2024 at 19:52)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878737686">PR review comment</a>:</p>
<blockquote>
<p>I think <code>len</code> can be dropped here in favor of <code>layout.size()</code>?</p>
</blockquote>



<a name="487329914"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487329914" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487329914">(Dec 10 2024 at 19:52)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878734206">PR review comment</a>:</p>
<blockquote>
<p>Would it be possible to return <code>Option&lt;&amp;dyn ...&gt;</code> here to avoid forcing the clone on callers? Or perhaps <code>Option&lt;&amp;Arc&lt;dyn ...&gt;&gt;</code> if callers should optionally have the ability to create an owned copy</p>
</blockquote>



<a name="487329915"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487329915" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487329915">(Dec 10 2024 at 19:52)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878736519">PR review comment</a>:</p>
<blockquote>
<p>Would <code>SendSyncPtr</code> suffice for this?</p>
</blockquote>



<a name="487329916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487329916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487329916">(Dec 10 2024 at 19:52)</a>:</h4>
<p>alexcrichton created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1878738998">PR review comment</a>:</p>
<blockquote>
<p>I think this may not work for the use case of combining <code>CustomCodeMemory</code> and compilation at runtime, so the <code>Engine</code> and its custom alignment might need to be plumbed down here?</p>
</blockquote>



<a name="487346414"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487346414" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487346414">(Dec 10 2024 at 21:45)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#issuecomment-2532962734">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>:</p>
<blockquote>
<h4>Label Messager: wasmtime:config</h4>
<p>It looks like you are changing Wasmtime's configuration options. Make sure to<br>
complete this check list:</p>
<ul>
<li>
<p>[ ] If you added a new <code>Config</code> method, you wrote extensive documentation for<br>
      it.</p>
<p>&lt;details&gt;</p>
<p>Our documentation should be of the following form:</p>
<p>```text<br>
Short, simple summary sentence.</p>
<p>More details. These details can be multiple paragraphs. There should be<br>
information about not just the method, but its parameters and results as<br>
well.</p>
<p>Is this method fallible? If so, when can it return an error?</p>
<p>Can this method panic? If so, when does it panic?</p>
<h1>Example</h1>
<p>Optional example here.<br>
```</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[ ] If you added a new <code>Config</code> method, or modified an existing one, you<br>
  ensured that this configuration is exercised by the fuzz targets.</p>
<p>&lt;details&gt;</p>
<p>For example, if you expose a new strategy for allocating the next instance<br>
slot inside the pooling allocator, you should ensure that at least one of our<br>
fuzz targets exercises that new strategy.</p>
<p>Often, all that is required of you is to ensure that there is a knob for this<br>
configuration option in [<code>wasmtime_fuzzing::Config</code>][fuzzing-config] (or one<br>
of its nested <code>struct</code>s).</p>
<p>Rarely, this may require authoring a new fuzz target to specifically test this<br>
configuration. See [our docs on fuzzing][fuzzing-docs] for more details.</p>
<p>&lt;/details&gt;</p>
</li>
<li>
<p>[ ] If you are enabling a configuration option by default, make sure that it<br>
  has been fuzzed for at least two weeks before turning it on by default.</p>
</li>
</ul>
<p>[fuzzing-config]: <a href="https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194">https://github.com/bytecodealliance/wasmtime/blob/ca0e8d0a1d8cefc0496dba2f77a670571d8fdcab/crates/fuzzing/src/generators.rs#L182-L194</a><br>
[fuzzing-docs]: <a href="https://docs.wasmtime.dev/contributing-fuzzing.html">https://docs.wasmtime.dev/contributing-fuzzing.html</a></p>
<hr>
<p>&lt;details&gt;</p>
<p>To modify this label's message, edit the &lt;code&gt;.github/label-messager/wasmtime-config.md&lt;/code&gt; file.</p>
<p>To add new label messages or remove existing label messages, edit the<br>
&lt;code&gt;.github/label-messager.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/label-messager-action">Learn more.</a></p>
<p>&lt;/details&gt;</p>
</blockquote>



<a name="487351347"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487351347" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487351347">(Dec 10 2024 at 22:27)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487351354"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487351354" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487351354">(Dec 10 2024 at 22:27)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493814835">PR review</a>.</p>



<a name="487351355"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487351355" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487351355">(Dec 10 2024 at 22:27)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1879002257">PR review comment</a>:</p>
<blockquote>
<p>Done!</p>
</blockquote>



<a name="487351364"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487351364" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487351364">(Dec 10 2024 at 22:27)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493814914">PR review</a>.</p>



<a name="487351365"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487351365" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487351365">(Dec 10 2024 at 22:27)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1879002310">PR review comment</a>:</p>
<blockquote>
<p>Ah, goodness, our crate is a veritable toy-store of useful utilities. I'm not sure how I didn't notice that -- thanks, reused!</p>
</blockquote>



<a name="487351372"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487351372" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487351372">(Dec 10 2024 at 22:27)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493814997">PR review</a>.</p>



<a name="487351373"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487351373" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487351373">(Dec 10 2024 at 22:27)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1879002363">PR review comment</a>:</p>
<blockquote>
<p>Done!</p>
</blockquote>



<a name="487351380"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487351380" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487351380">(Dec 10 2024 at 22:28)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493815086">PR review</a>.</p>



<a name="487351381"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487351381" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487351381">(Dec 10 2024 at 22:28)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1879002419">PR review comment</a>:</p>
<blockquote>
<p>Ah, right, good point -- updated.</p>
</blockquote>



<a name="487351930"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487351930" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487351930">(Dec 10 2024 at 22:33)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487352740"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487352740" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487352740">(Dec 10 2024 at 22:39)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487357243"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487357243" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487357243">(Dec 10 2024 at 23:21)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487358864"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487358864" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487358864">(Dec 10 2024 at 23:37)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487358959"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487358959" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487358959">(Dec 10 2024 at 23:38)</a>:</h4>
<p>cfallin submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#pullrequestreview-2493937908">PR review</a>.</p>



<a name="487358960"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487358960" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487358960">(Dec 10 2024 at 23:38)</a>:</h4>
<p>cfallin created <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#discussion_r1879080392">PR review comment</a>:</p>
<blockquote>
<p>Done -- this was slightly gnarly to plumb through (required an extra <code>State</code> arg on the <code>FinishedObject</code> trait in <code>environ</code> and propagated through all the delegated builder stuff and cache handling and ...) but seems to work.</p>
</blockquote>



<a name="487359017"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487359017" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487359017">(Dec 10 2024 at 23:39)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/9778#issuecomment-2533227430">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>:</p>
<blockquote>
<p>Updated, thanks for feedback! Added a test that uses <code>rustix</code> on non-Windows targets to delegate to <code>mprotect</code> ("custom but actually the same as always" implementation).</p>
</blockquote>



<a name="487359378"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487359378" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487359378">(Dec 10 2024 at 23:43)</a>:</h4>
<p>cfallin has enabled auto merge for <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487359723"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487359723" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487359723">(Dec 10 2024 at 23:46)</a>:</h4>
<p>cfallin updated <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<a name="487362441"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%239778%20Wasmtime%3A%20support%20a%20notion%20of%20%22custom.../near/487362441" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.239778.20Wasmtime.3A.20support.20a.20notion.20of.20.22custom.2E.2E.2E.html#487362441">(Dec 11 2024 at 00:12)</a>:</h4>
<p>cfallin merged <a href="https://github.com/bytecodealliance/wasmtime/pull/9778">PR #9778</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>