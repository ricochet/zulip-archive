<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2151 Adds i64x2.mul for the new backend ta... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html">wasmtime / PR #2151 Adds i64x2.mul for the new backend ta...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="207555217"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/207555217" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#207555217">(Aug 20 2020 at 18:10)</a>:</h4>
<p>jlb6740 opened <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> from <code>add-i64x2.mul</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="207555249"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/207555249" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#207555249">(Aug 20 2020 at 18:11)</a>:</h4>
<p><strong>jlb6740</strong> requested <a href="https://github.com/bnjbvr">bnjbvr</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a>.</p>



<a name="207555429"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/207555429" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#207555429">(Aug 20 2020 at 18:12)</a>:</h4>
<p><strong>jlb6740</strong> requested <a href="https://github.com/abrown">abrown</a> and <a href="https://github.com/bnjbvr">bnjbvr</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a>.</p>



<a name="207555442"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/207555442" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#207555442">(Aug 20 2020 at 18:12)</a>:</h4>
<p><strong>jlb6740</strong> requested <a href="https://github.com/cfallin">cfallin</a>, <a href="https://github.com/abrown">abrown</a> and <a href="https://github.com/bnjbvr">bnjbvr</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a>.</p>



<a name="207564767"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/207564767" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#207564767">(Aug 20 2020 at 19:33)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> from <code>add-i64x2.mul</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="208394047"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/208394047" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#208394047">(Aug 28 2020 at 20:54)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> from <code>add-i64x2.mul</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="208394083"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/208394083" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#208394083">(Aug 28 2020 at 20:55)</a>:</h4>
<p><strong>jlb6740</strong> has marked <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> as ready for review.</p>



<a name="208394085"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/208394085" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#208394085">(Aug 28 2020 at 20:55)</a>:</h4>
<p><strong>jlb6740</strong> requested <a href="https://github.com/bnjbvr">bnjbvr</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a>.</p>



<a name="208394096"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/208394096" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#208394096">(Aug 28 2020 at 20:55)</a>:</h4>
<p><strong>jlb6740</strong> requested <a href="https://github.com/abrown">abrown</a> and <a href="https://github.com/bnjbvr">bnjbvr</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a>.</p>



<a name="208394102"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/208394102" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#208394102">(Aug 28 2020 at 20:55)</a>:</h4>
<p><strong>jlb6740</strong> requested <a href="https://github.com/cfallin">cfallin</a>, <a href="https://github.com/abrown">abrown</a> and <a href="https://github.com/bnjbvr">bnjbvr</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a>.</p>



<a name="208843962"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/208843962" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#208843962">(Sep 02 2020 at 15:38)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#pullrequestreview-480893045">PR Review</a>.</p>



<a name="208843963"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/208843963" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#208843963">(Sep 02 2020 at 15:38)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r482124209">PR Review Comment</a>:</p>
<blockquote>
<p>nit: here and below, for shift operations, can you use <code>&gt;&gt;</code> (respectively <code>&lt;&lt;</code> for left shifts), please? I think it is a bit more usual for pseudo-code.</p>
</blockquote>



<a name="208843964"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/208843964" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#208843964">(Sep 02 2020 at 15:38)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#pullrequestreview-480893045">PR Review</a>.</p>



<a name="208843965"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/208843965" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#208843965">(Sep 02 2020 at 15:38)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r482126444">PR Review Comment</a>:</p>
<blockquote>
<p>nit: can you add a space after the comment opening slash, before "The", please?</p>
</blockquote>



<a name="208843966"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/208843966" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#208843966">(Sep 02 2020 at 15:38)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r482146529">PR Review Comment</a>:</p>
<blockquote>
<p>It is an error to reuse an input register and write into it; the RHS might be reused after this particular CLIF instruction, and there's no indication to regalloc that it ought to be preserve it. Instead, we need to copy RHS into a temporary, and use that, here. Note the vreg copy might not become a copy machine instruction, since regalloc may coalesce those two vregs.</p>
<p>Also, <code>rhs</code> is a RegMem, so it can be either a register or memory, and here the <code>to_reg().unwrap()</code> assumes it's in a register. When defining <code>rhs</code>, you need to use <code>input_to_reg</code> and not <code>input_to_reg_mem</code> to reflect that you want it to be in a register.</p>
</blockquote>



<a name="208843967"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/208843967" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#208843967">(Sep 02 2020 at 15:38)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r482165019">PR Review Comment</a>:</p>
<blockquote>
<p>Can I recommend to also use the actual register names for the summary, here, that is: <code>dst</code> when it's used, in place of <code>A</code>, etc.?</p>
</blockquote>



<a name="208843968"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/208843968" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#208843968">(Sep 02 2020 at 15:38)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r482165548">PR Review Comment</a>:</p>
<blockquote>
<p>This is the only use of <code>lhs_tmp2</code>, and at this point we could still reuse <code>lhs</code>, so we should be able to avoid the <code>lhs_tmp2</code> temporary at this point.</p>
</blockquote>



<a name="209061131"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209061131" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209061131">(Sep 04 2020 at 07:02)</a>:</h4>
<p>jlb6740 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#pullrequestreview-482406576">PR Review</a>.</p>



<a name="209061132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209061132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209061132">(Sep 04 2020 at 07:02)</a>:</h4>
<p>jlb6740 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r483427018">PR Review Comment</a>:</p>
<blockquote>
<p>Absolutely .. <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
</blockquote>



<a name="209061166"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209061166" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209061166">(Sep 04 2020 at 07:02)</a>:</h4>
<p>jlb6740 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#pullrequestreview-482406981">PR Review</a>.</p>



<a name="209061167"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209061167" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209061167">(Sep 04 2020 at 07:02)</a>:</h4>
<p>jlb6740 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r483427311">PR Review Comment</a>:</p>
<blockquote>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
</blockquote>



<a name="209252743"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209252743" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209252743">(Sep 07 2020 at 02:49)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> from <code>add-i64x2.mul</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="209259717"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209259717" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209259717">(Sep 07 2020 at 05:56)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> from <code>add-i64x2.mul</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="209262843"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209262843" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209262843">(Sep 07 2020 at 06:55)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> from <code>add-i64x2.mul</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="209262948"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209262948" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209262948">(Sep 07 2020 at 06:56)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> from <code>add-i64x2.mul</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="209305925"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209305925" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209305925">(Sep 07 2020 at 15:12)</a>:</h4>
<p><strong>bnjbvr</strong> requested <a href="https://github.com/cfallin">cfallin</a>, <a href="https://github.com/abrown">abrown</a> and <a href="https://github.com/bnjbvr">bnjbvr</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a>.</p>



<a name="209364045"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209364045" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209364045">(Sep 08 2020 at 09:33)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#pullrequestreview-483960441">PR Review</a>.</p>



<a name="209364046"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209364046" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209364046">(Sep 08 2020 at 09:33)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#pullrequestreview-483960441">PR Review</a>.</p>



<a name="209364047"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209364047" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209364047">(Sep 08 2020 at 09:33)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r484782814">PR Review Comment</a>:</p>
<blockquote>
<p>In addition to the above comment (which I still think would be nice to address, please :)), I have another suggestion that would spare one right shift.</p>
<p>The current decomposition does <code>(Ah * Bl) &lt;&lt; 32 + (Al * Bh) &lt;&lt; 32 + Al * Bl</code>. I would suggest to factor out the <code>&lt;&lt; 32</code>, so have <code>(Ah * Bl) + (Al * Bh)</code> and then apply the left shift to this; it would spare one left shift operation. Does it make sense? (This is how Spidermonkey does it, fwiw.)</p>
</blockquote>



<a name="209473186"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209473186" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209473186">(Sep 09 2020 at 05:29)</a>:</h4>
<p>jlb6740 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#pullrequestreview-484671290">PR Review</a>.</p>



<a name="209473187"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209473187" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209473187">(Sep 09 2020 at 05:29)</a>:</h4>
<p>jlb6740 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r485347174">PR Review Comment</a>:</p>
<blockquote>
<p>Hi @bnjbvr First of all note, in the latest push yesterday I switched which input referred to the lhs and which referred to the rhs as that was not consistent/correct. For this specific comment what is now the lhs needed the input to be input_to_reg_mem because of the Pmuludq instructions. Specifically <a href="https://github.com/bytecodealliance/wasmtime/blob/c2af20b113e509a603db78740cb146ea3fb2246b/cranelift/codegen/src/isa/x64/lower.rs#L599">https://github.com/bytecodealliance/wasmtime/blob/c2af20b113e509a603db78740cb146ea3fb2246b/cranelift/codegen/src/isa/x64/lower.rs#L599</a> and <a href="https://github.com/bytecodealliance/wasmtime/blob/c2af20b113e509a603db78740cb146ea3fb2246b/cranelift/codegen/src/isa/x64/lower.rs#L610">https://github.com/bytecodealliance/wasmtime/blob/c2af20b113e509a603db78740cb146ea3fb2246b/cranelift/codegen/src/isa/x64/lower.rs#L610</a>. Am I missing understanding something here? </p>
</blockquote>



<a name="209493777"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209493777" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209493777">(Sep 09 2020 at 10:25)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#pullrequestreview-484870515">PR Review</a>.</p>



<a name="209493778"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209493778" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209493778">(Sep 09 2020 at 10:25)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r485505728">PR Review Comment</a>:</p>
<blockquote>
<p><code>input_to_reg_mem</code> means that the input will be put into a register <em>or</em> a memory operand, and we don't know which one. So we can't use <code>to_reg().unwrap()</code> on the result of an <code>input_to_reg_mem</code> call, because the operand might be in memory, and <code>to_reg()</code> returns <code>None</code> in this case. Instead, you want to use <code>input_to_reg</code>, which will always return a register operand, and create a <code>RegMem::reg(...)</code> operand when you need to use it for an instruction that requires a <code>RegMem</code>. Does it help?</p>
</blockquote>



<a name="209602984"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209602984" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209602984">(Sep 10 2020 at 07:16)</a>:</h4>
<p>jlb6740 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#pullrequestreview-485644629">PR Review</a>.</p>



<a name="209602985"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209602985" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209602985">(Sep 10 2020 at 07:16)</a>:</h4>
<p>jlb6740 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r486117148">PR Review Comment</a>:</p>
<blockquote>
<p>Ok .. And I see you've renamed this :-). So I am still a little uncertain about the reuse of input registers .. is it at any time to use them as a temporary output? I've reworked the algorithm to factor out that shift and modified some things without using too many temps but it's not clear to me if what I have in this update I am about to push is the optimal usage. </p>
</blockquote>



<a name="209603217"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209603217" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209603217">(Sep 10 2020 at 07:19)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> from <code>add-i64x2.mul</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="209603440"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209603440" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209603440">(Sep 10 2020 at 07:22)</a>:</h4>
<p><strong>jlb6740</strong> requested <a href="https://github.com/cfallin">cfallin</a>, <a href="https://github.com/abrown">abrown</a> and <a href="https://github.com/bnjbvr">bnjbvr</a> for a review on <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a>.</p>



<a name="209603527"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209603527" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209603527">(Sep 10 2020 at 07:24)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> from <code>add-i64x2.mul</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="209782752"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209782752" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209782752">(Sep 11 2020 at 13:48)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#pullrequestreview-486817280">PR Review</a>.</p>



<a name="209782754"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209782754" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209782754">(Sep 11 2020 at 13:48)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#pullrequestreview-486817280">PR Review</a>.</p>



<a name="209782755"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209782755" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209782755">(Sep 11 2020 at 13:48)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r487056758">PR Review Comment</a>:</p>
<blockquote>
<p>I think I was the one who suggested using the dst register as a temporary, but thinking about it: sorry, we can't do this. It might be that <code>lhs</code> will get the same physical register as <code>dst</code> (if <code>lhs</code>'s final use is for this instruction), thus this move would clobber <code>lhs</code> before it's used in the next <code>pmuludq</code> instruction. Instead, you'll need to use a temporary in place of <code>dst</code> here and in the next instruction; I think you can reuse <code>rhs_1</code> though, since it's dead at this point. (This might require a final <code>gen_move(dst, rhs_1, ty))</code> after the whole sequence, which is fine too.)</p>
</blockquote>



<a name="209782756"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209782756" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209782756">(Sep 11 2020 at 13:48)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r487053487">PR Review Comment</a>:</p>
<blockquote>
<p>(here's the second time)</p>
</blockquote>



<a name="209782757"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209782757" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209782757">(Sep 11 2020 at 13:48)</a>:</h4>
<p>bnjbvr created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r487053396">PR Review Comment</a>:</p>
<blockquote>
<p>nit: here and below, this can be simplified to <code>lhs_1</code> instead of the whole expression (<code>lhs_1.to_reg()</code> returns a non-writable register, and <code>Writable::from_reg</code> makes it writable again; the initial <code>lhs_1</code> is writeable).</p>
</blockquote>



<a name="209820194"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209820194" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209820194">(Sep 11 2020 at 18:50)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> from <code>add-i64x2.mul</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="209820224"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209820224" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209820224">(Sep 11 2020 at 18:50)</a>:</h4>
<p>jlb6740 submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#pullrequestreview-487044210">PR Review</a>.</p>



<a name="209820226"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209820226" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209820226">(Sep 11 2020 at 18:50)</a>:</h4>
<p>jlb6740 created <a href="https://github.com/bytecodealliance/wasmtime/pull/2151#discussion_r487227808">PR Review Comment</a>:</p>
<blockquote>
<p>Makes sense. Thanks!</p>
</blockquote>



<a name="209824835"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209824835" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209824835">(Sep 11 2020 at 19:28)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> from <code>add-i64x2.mul</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="209825942"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209825942" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209825942">(Sep 11 2020 at 19:39)</a>:</h4>
<p>jlb6740 updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a> from <code>add-i64x2.mul</code> to <code>main</code>:</p>
<blockquote>
<p>&lt;!--</p>
<p>Please ensure that the following steps are all taken care of before submitting<br>
the PR.</p>
<ul>
<li>
<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>
  here.</p>
</li>
<li>
<p>[ ] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first.</p>
</li>
<li>
<p>[ ] This PR contains test cases, if meaningful.</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so. The list of<br>
  suggested reviewers on the right can help you.</li>
</ul>
<p>Please ensure all communication adheres to the <a href="https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>.<br>
--&gt;</p>
</blockquote>



<a name="209829965"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232151%20Adds%20i64x2.mul%20for%20the%20new%20backend%20ta.../near/209829965" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232151.20Adds.20i64x2.2Emul.20for.20the.20new.20backend.20ta.2E.2E.2E.html#209829965">(Sep 11 2020 at 20:17)</a>:</h4>
<p>jlb6740 merged <a href="https://github.com/bytecodealliance/wasmtime/pull/2151">PR #2151</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>