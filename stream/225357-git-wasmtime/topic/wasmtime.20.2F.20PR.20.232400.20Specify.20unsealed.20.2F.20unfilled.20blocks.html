<html>
<head><meta charset="utf-8"><title>wasmtime / PR #2400 Specify unsealed / unfilled blocks · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232400.20Specify.20unsealed.20.2F.20unfilled.20blocks.html">wasmtime / PR #2400 Specify unsealed / unfilled blocks</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="216426976"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232400%20Specify%20unsealed%20/%20unfilled%20blocks/near/216426976" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232400.20Specify.20unsealed.20.2F.20unfilled.20blocks.html#216426976">(Nov 12 2020 at 04:35)</a>:</h4>
<p>MattX opened <a href="https://github.com/bytecodealliance/wasmtime/pull/2400">PR #2400</a> from <code>improve-finalize-msg</code> to <code>main</code>:</p>
<blockquote>
<p>Hello! I'm suggesting this quick change that's helped me with debugging. Required information below.</p>
<ul>
<li>This change has not been discussed in an issue, but it's a cosmetic change which I don't think warrants deep debate.</li>
<li>This change adds an offending block identifier to error messages when a <code>FunctionBuilder</code> is finalized, but some blocks are not sealed or not filled. This should help with debugging. This also removes confusing / outdated references to dropping the <code>FunctionBuilder</code> in the messages.</li>
<li>There are no new test cases, because the only change is in an error message. All existing test cases still pass.</li>
<li>I will assign a random recommended reviewer, but feel free to unassign / reassign the PR.</li>
</ul>
</blockquote>



<a name="216427012"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232400%20Specify%20unsealed%20/%20unfilled%20blocks/near/216427012" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232400.20Specify.20unsealed.20.2F.20unfilled.20blocks.html#216427012">(Nov 12 2020 at 04:35)</a>:</h4>
<p>MattX updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2400">PR #2400</a> from <code>improve-finalize-msg</code> to <code>main</code>:</p>
<blockquote>
<p>Hello! I'm suggesting this quick change that's helped me with debugging. Required information below.</p>
<ul>
<li>This change has not been discussed in an issue, but it's a cosmetic change which I don't think warrants deep debate.</li>
<li>This change adds an offending block identifier to error messages when a <code>FunctionBuilder</code> is finalized, but some blocks are not sealed or not filled. This should help with debugging. This also removes confusing / outdated references to dropping the <code>FunctionBuilder</code> in the messages.</li>
<li>There are no new test cases, because the only change is in an error message. All existing test cases still pass.</li>
<li>I will assign a random recommended reviewer, but feel free to unassign / reassign the PR.</li>
</ul>
</blockquote>



<a name="216427146"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232400%20Specify%20unsealed%20/%20unfilled%20blocks/near/216427146" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232400.20Specify.20unsealed.20.2F.20unfilled.20blocks.html#216427146">(Nov 12 2020 at 04:38)</a>:</h4>
<p>MattX edited <a href="https://github.com/bytecodealliance/wasmtime/pull/2400">PR #2400</a> from <code>improve-finalize-msg</code> to <code>main</code>:</p>
<blockquote>
<p>Hello! I'm suggesting this quick change that's helped me with debugging. Required information below.</p>
<ul>
<li>This change has not been discussed in an issue, but it's a cosmetic change which I don't think warrants deep debate.</li>
<li>This change adds an offending block identifier to error messages when a <code>FunctionBuilder</code> is finalized, but some blocks are not sealed or not filled. This should help with debugging. This also removes confusing / outdated references to dropping the <code>FunctionBuilder</code> in the messages.</li>
<li>There are no new test cases, because the only change is in an error message. All existing test cases still pass.</li>
<li>It doesn't look like I can assign a reviewer, let me know if there's anything I need to do on that front.</li>
</ul>
</blockquote>



<a name="216954545"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232400%20Specify%20unsealed%20/%20unfilled%20blocks/near/216954545" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232400.20Specify.20unsealed.20.2F.20unfilled.20blocks.html#216954545">(Nov 17 2020 at 00:59)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2400#pullrequestreview-531943720">PR Review</a>.</p>



<a name="217460598"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232400%20Specify%20unsealed%20/%20unfilled%20blocks/near/217460598" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232400.20Specify.20unsealed.20.2F.20unfilled.20blocks.html#217460598">(Nov 20 2020 at 21:22)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2400#pullrequestreview-535784499">PR Review</a>.</p>



<a name="217460599"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232400%20Specify%20unsealed%20/%20unfilled%20blocks/near/217460599" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232400.20Specify.20unsealed.20.2F.20unfilled.20blocks.html#217460599">(Nov 20 2020 at 21:22)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2400#pullrequestreview-535784499">PR Review</a>.</p>



<a name="217460600"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232400%20Specify%20unsealed%20/%20unfilled%20blocks/near/217460600" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232400.20Specify.20unsealed.20.2F.20unfilled.20blocks.html#217460600">(Nov 20 2020 at 21:22)</a>:</h4>
<p>fitzgen created <a href="https://github.com/bytecodealliance/wasmtime/pull/2400#discussion_r527976169">PR Review Comment</a>:</p>
<blockquote>
<p>We can make this a little less word-y by using <code>assert!</code> instead of <code>if</code> and <code>panci!</code>:</p>
<div class="codehilite" data-code-language="suggestion"><pre><span></span><code>                assert!(
                    block_data.pristine || self.func_ctx.ssa.is_sealed(block),
                    "FunctionBuilder finalized, but block {} is not sealed",
                    block,
                );
                assert!(
                    block_data.pristine || block_data.filled,
                    "FunctionBuilder finalized, but block {} is not filled",
                    block,
                );
</code></pre></div>
</blockquote>



<a name="217485324"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232400%20Specify%20unsealed%20/%20unfilled%20blocks/near/217485324" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232400.20Specify.20unsealed.20.2F.20unfilled.20blocks.html#217485324">(Nov 21 2020 at 05:03)</a>:</h4>
<p>MattX updated <a href="https://github.com/bytecodealliance/wasmtime/pull/2400">PR #2400</a> from <code>improve-finalize-msg</code> to <code>main</code>:</p>
<blockquote>
<p>Hello! I'm suggesting this quick change that's helped me with debugging. Required information below.</p>
<ul>
<li>This change has not been discussed in an issue, but it's a cosmetic change which I don't think warrants deep debate.</li>
<li>This change adds an offending block identifier to error messages when a <code>FunctionBuilder</code> is finalized, but some blocks are not sealed or not filled. This should help with debugging. This also removes confusing / outdated references to dropping the <code>FunctionBuilder</code> in the messages.</li>
<li>There are no new test cases, because the only change is in an error message. All existing test cases still pass.</li>
<li>It doesn't look like I can assign a reviewer, let me know if there's anything I need to do on that front.</li>
</ul>
</blockquote>



<a name="217652270"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232400%20Specify%20unsealed%20/%20unfilled%20blocks/near/217652270" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232400.20Specify.20unsealed.20.2F.20unfilled.20blocks.html#217652270">(Nov 23 2020 at 16:45)</a>:</h4>
<p>fitzgen submitted <a href="https://github.com/bytecodealliance/wasmtime/pull/2400#pullrequestreview-536657676">PR Review</a>.</p>



<a name="217652283"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20PR%20%232400%20Specify%20unsealed%20/%20unfilled%20blocks/near/217652283" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20PR.20.232400.20Specify.20unsealed.20.2F.20unfilled.20blocks.html#217652283">(Nov 23 2020 at 16:45)</a>:</h4>
<p>fitzgen merged <a href="https://github.com/bytecodealliance/wasmtime/pull/2400">PR #2400</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>