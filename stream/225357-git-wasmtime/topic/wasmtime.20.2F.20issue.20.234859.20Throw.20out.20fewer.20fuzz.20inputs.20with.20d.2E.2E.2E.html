<html>
<head><meta charset="utf-8"><title>wasmtime / issue #4859 Throw out fewer fuzz inputs with d... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234859.20Throw.20out.20fewer.20fuzz.20inputs.20with.20d.2E.2E.2E.html">wasmtime / issue #4859 Throw out fewer fuzz inputs with d...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="296904878"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234859%20Throw%20out%20fewer%20fuzz%20inputs%20with%20d.../near/296904878" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234859.20Throw.20out.20fewer.20fuzz.20inputs.20with.20d.2E.2E.2E.html#296904878">(Sep 02 2022 at 22:26)</a>:</h4>
<p>github-actions[bot] <a href="https://github.com/bytecodealliance/wasmtime/pull/4859#issuecomment-1235940437">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4859">issue #4859</a>:</p>
<blockquote>
<h4>Subscribe to Label Action</h4>
<p>cc @fitzgen</p>
<p>&lt;details&gt;<br>
This issue or pull request has been labeled: "fuzzing"</p>
<p>Thus the following users have been cc'd because of the following labels:</p>
<ul>
<li>fitzgen: fuzzing</li>
</ul>
<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action">Learn more.</a><br>
&lt;/details&gt;</p>
</blockquote>



<a name="297445360"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234859%20Throw%20out%20fewer%20fuzz%20inputs%20with%20d.../near/297445360" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234859.20Throw.20out.20fewer.20fuzz.20inputs.20with.20d.2E.2E.2E.html#297445360">(Sep 06 2022 at 16:50)</a>:</h4>
<p>abrown <a href="https://github.com/bytecodealliance/wasmtime/pull/4859#issuecomment-1238409588">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4859">issue #4859</a>:</p>
<blockquote>
<p>Any significant change to the stats you see locally?</p>
</blockquote>



<a name="297454319"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%234859%20Throw%20out%20fewer%20fuzz%20inputs%20with%20d.../near/297454319" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.234859.20Throw.20out.20fewer.20fuzz.20inputs.20with.20d.2E.2E.2E.html#297454319">(Sep 06 2022 at 17:41)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/4859#issuecomment-1238465624">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/4859">issue #4859</a>:</p>
<blockquote>
<p>From oss-fuzz yesterday I see the log entry:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="o">===</span><span class="w"> </span><span class="n">Execution</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="p">(</span><span class="mi">22116</span><span class="w"> </span><span class="n">successes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">36000</span><span class="w"> </span><span class="n">attempted</span><span class="w"> </span><span class="n">modules</span><span class="p">)</span>: <span class="mf">61.43</span><span class="o">%</span><span class="w"> </span><span class="o">===</span><span class="w"></span>
<span class="w">    </span><span class="n">wasmi</span>: <span class="mf">4.16</span><span class="o">%</span><span class="p">,</span><span class="w"> </span><span class="n">spec</span>: <span class="mf">1.84</span><span class="o">%</span><span class="p">,</span><span class="w"> </span><span class="n">wasmtime</span>: <span class="mf">79.39</span><span class="o">%</span><span class="p">,</span><span class="w"> </span><span class="n">v8</span>: <span class="mf">14.62</span><span class="o">%</span><span class="w"></span>
<span class="w">    </span><span class="n">wasm</span><span class="o">-</span><span class="n">smith</span>: <span class="mf">87.01</span><span class="o">%</span><span class="p">,</span><span class="w"> </span><span class="n">single</span><span class="o">-</span><span class="n">inst</span>: <span class="mf">12.99</span><span class="o">%</span><span class="w"></span>
</code></pre></div>
<p>locally after I minified my preexisting corpus and restarted from that corpus I got:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="o">===</span><span class="w"> </span><span class="n">Execution</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="p">(</span><span class="mi">28362</span><span class="w"> </span><span class="n">successes</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">36000</span><span class="w"> </span><span class="n">attempted</span><span class="w"> </span><span class="n">modules</span><span class="p">)</span>: <span class="mf">78.78</span><span class="o">%</span><span class="w"> </span><span class="o">===</span><span class="w"></span>
<span class="w">        </span><span class="n">wasmi</span>: <span class="mf">8.32</span><span class="o">%</span><span class="p">,</span><span class="w"> </span><span class="n">spec</span>: <span class="mf">29.61</span><span class="o">%</span><span class="p">,</span><span class="w"> </span><span class="n">wasmtime</span>: <span class="mf">49.08</span><span class="o">%</span><span class="p">,</span><span class="w"> </span><span class="n">v8</span>: <span class="mf">12.99</span><span class="o">%</span><span class="w"></span>
<span class="w">        </span><span class="n">wasm</span><span class="o">-</span><span class="n">smith</span>: <span class="mf">74.73</span><span class="o">%</span><span class="p">,</span><span class="w"> </span><span class="n">single</span><span class="o">-</span><span class="n">inst</span>: <span class="mf">25.27</span><span class="o">%</span><span class="w"></span>
</code></pre></div>
<p>so while results will likely vary it looks like this definitely helps the execution rate in addition to the spec interepreter in particular due to how rarely its conditions were able to be met. With <code>ALLOWED_ENGINES=spec</code> the execution rate (IIRC) went from something like 9% to 90% as well.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>