<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #2028 Enable reftypes tests on aarch64. · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232028.20Enable.20reftypes.20tests.20on.20aarch64.2E.html">wasmtime / Issue #2028 Enable reftypes tests on aarch64.</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="204017817"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232028%20Enable%20reftypes%20tests%20on%20aarch64./near/204017817" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232028.20Enable.20reftypes.20tests.20on.20aarch64.2E.html#204017817">(Jul 15 2020 at 21:54)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/pull/2028#issuecomment-659032623">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2028">Issue #2028</a>:</p>
<blockquote>
<p>There's an instance of #1886 in <code>tests/all/main.rs</code>, mind removing those <code>#[cfg]</code>? I think this can close #1886 as well afterwards?</p>
<p>In any case, very nice!</p>
</blockquote>



<a name="204017913"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232028%20Enable%20reftypes%20tests%20on%20aarch64./near/204017913" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232028.20Enable.20reftypes.20tests.20on.20aarch64.2E.html#204017913">(Jul 15 2020 at 21:55)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/2028#issuecomment-659033213">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2028">Issue #2028</a>:</p>
<blockquote>
<p>There's a few of them now, I think all of these <code>cfg</code>s can be removed:</p>
<div class="codehilite"><pre><span></span><code>tests/all/func.rs:126:#[cfg(target_arch = &quot;x86_64&quot;)]
tests/all/func.rs:449:#[cfg(target_arch = &quot;x86_64&quot;)]
tests/all/func.rs:484:#[cfg(target_arch = &quot;x86_64&quot;)]
tests/all/main.rs:23:#[cfg(target_arch = &quot;x86_64&quot;)]
tests/all/main.rs:25:#[cfg(target_arch = &quot;x86_64&quot;)]
tests/all/main.rs:29:#[cfg(target_arch = &quot;x86_64&quot;)]
</code></pre></div>


</blockquote>



<a name="204018073"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232028%20Enable%20reftypes%20tests%20on%20aarch64./near/204018073" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232028.20Enable.20reftypes.20tests.20on.20aarch64.2E.html#204018073">(Jul 15 2020 at 21:57)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/2028#issuecomment-659035159">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2028">Issue #2028</a>:</p>
<blockquote>
<p>Also, thanks! <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> <span aria-label="tada" class="emoji emoji-1f389" role="img" title="tada">:tada:</span> </p>
</blockquote>



<a name="204018133"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232028%20Enable%20reftypes%20tests%20on%20aarch64./near/204018133" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232028.20Enable.20reftypes.20tests.20on.20aarch64.2E.html#204018133">(Jul 15 2020 at 21:58)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/2028#issuecomment-659035541">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2028">Issue #2028</a>:</p>
<blockquote>
<p>Argh -- false positive: removing the directives in <code>tests/all/main.rs</code>, I see failures of <code>gc::smoke_test_gc</code> and <code>gc::gc_during_gc_from_many_table_gets</code>. I wonder if the tests enabled in <code>build.rs</code> are only testing opcodes and the gc tests exercise the stackwalking more?</p>
<p>I'll push the commit in any case so the failures are visible here on the CI run.</p>
</blockquote>



<a name="204018320"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232028%20Enable%20reftypes%20tests%20on%20aarch64./near/204018320" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232028.20Enable.20reftypes.20tests.20on.20aarch64.2E.html#204018320">(Jul 15 2020 at 22:00)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/wasmtime/pull/2028#issuecomment-659036905">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2028">Issue #2028</a>:</p>
<blockquote>
<p>It is possible that we don't dynamically trigger any GC during the whole reference types proposal spec tests, and so they would only be testing the code generation.</p>
</blockquote>



<a name="216646181"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%232028%20Enable%20reftypes%20tests%20on%20aarch64./near/216646181" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.232028.20Enable.20reftypes.20tests.20on.20aarch64.2E.html#216646181">(Nov 13 2020 at 17:41)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/wasmtime/pull/2028#issuecomment-726907828">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/pull/2028">Issue #2028</a>:</p>
<blockquote>
<p>Closing this now, as #2410 enables GC/reftypes on all backends!</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>