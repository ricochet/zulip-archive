<html>
<head><meta charset="utf-8"><title>wasmtime / Issue #793 Reconciling `wasmtime::Instance` an... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html">wasmtime / Issue #793 Reconciling `wasmtime::Instance` an...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="199992822"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/199992822" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#199992822">(Jun 06 2020 at 20:58)</a>:</h4>
<p>autodidaddict <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-640117346">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>I'm running into problems right now in a few downstream crates that I'm writing on top of wasmtime where I am having to jump through all kinds of hoops and create some pretty gnarly looking code because the wasmtime Instance isn't send. I can't even hide the instance under an <code>Arc&lt;RwLock&lt;...&gt;&gt;</code> because of its internal use of <code>Rc&lt;RefCell&gt;&gt;</code>s.</p>
</blockquote>



<a name="210094810"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/210094810" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#210094810">(Sep 15 2020 at 06:39)</a>:</h4>
<p>Waridley <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-692500798">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>How does <a href="https://github.com/bytecodealliance/wasmtime/pull/1363">https://github.com/bytecodealliance/wasmtime/pull/1363</a> affect this?</p>
</blockquote>



<a name="210103501"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/210103501" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#210103501">(Sep 15 2020 at 08:35)</a>:</h4>
<p>Waridley <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-692559781">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>It seems the most up-to-date explanation of the problem here may be at <a href="https://github.com/bytecodealliance/wasmtime/issues/777#issuecomment-625942214">https://github.com/bytecodealliance/wasmtime/issues/777#issuecomment-625942214</a><br>
I still really hope it's possible to make <code>Instance</code> be <code>Send</code>. This issue causes me to need to decide whether to use <code>Wasmer</code> instead (speaking of which, how do they do it? Is it actually safe? What's different? I actually thought the way wasmer <code>Module</code>s need a <code>Store</code> made using threads <em>harder</em> until I tried it with wasmtime and discovered this issue.) Or just wrap it in a newtype and <code>unsafe impl Send</code> for it... But then I'll have no idea if it's actually working right until something breaks.</p>
</blockquote>



<a name="210134209"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/210134209" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#210134209">(Sep 15 2020 at 14:09)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-692740254">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>At this point <code>Instance</code> is pretty unlikely to ever be <code>Send</code>. It is, however, safe to move everything connected to a <code>Store</code> to a different thread all at once. It's just not safe to use a <code>Store</code> simultaneously across threads. We haven't documented this, however, it's just a feature of the implementation that will likely always be true. I don't know how wasmer internals work, but for Wasmtime it is not memory safe to add <code>unsafe impl Send for Instance</code>.</p>
</blockquote>



<a name="210142049"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/210142049" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#210142049">(Sep 15 2020 at 15:05)</a>:</h4>
<p>Waridley <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-692777238">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>So basically there's no way to enforce in the type system that you move everything connected to the <code>Store</code> all at once?</p>
</blockquote>



<a name="210210832"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/210210832" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#210210832">(Sep 16 2020 at 00:52)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-693105534">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>Correct, yeah, we haven't implemented a way of doing that yet. (I'm not sure if it exists for us)</p>
</blockquote>



<a name="210422832"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/210422832" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#210422832">(Sep 17 2020 at 17:31)</a>:</h4>
<p>Waridley <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-694385324">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>Thanks. Turns out Wasmer just has an <code>unsafe impl Send for InstanceHandle {}</code> <a href="https://github.com/wasmerio/wasmer/blob/a2e744aba6c4898841f8a67f4d56a24f204ee439/lib/vm/src/instance.rs#L769-L772">https://github.com/wasmerio/wasmer/blob/a2e744aba6c4898841f8a67f4d56a24f204ee439/lib/vm/src/instance.rs#L769-L772</a></p>
<p>And a comment saying <code>/// TODO: this needs extra review</code>. Not to call anyone out, but I'd rather use a library that has thoroughly considered all safety implications and decided that it's not sound to add this impl, rather than one that just assumes it's fine... I can just wrap it in a newtype and impl Send on that myself, and at least I'll have a better understanding of why it's unsafe and what invariants I need to uphold to make it sound.</p>
</blockquote>



<a name="210433349"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/210433349" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#210433349">(Sep 17 2020 at 18:50)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-694430431">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>It isn't safe. There is a <code>Clone</code> impl that shares the memory. This means that you can use send a clone to another thread and then call <code>table_set</code> from multiple threads at the same time. There doesn't seem to be any synchronization, so this is a race-condition and thus UB.</p>
</blockquote>



<a name="210434260"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/210434260" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#210434260">(Sep 17 2020 at 18:57)</a>:</h4>
<p>bjorn3 edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-694430431">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>It isn't safe. There is a <code>Clone</code> impl that shares the memory. This means that you can use send a clone to another thread and then call <code>table_set</code> from multiple threads at the same time. There doesn't seem to be any synchronization, so this is a race-condition and thus UB.</p>
<p>Edit: missed that <code>.set</code> has a lock.</p>
</blockquote>



<a name="210434932"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/210434932" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#210434932">(Sep 17 2020 at 19:01)</a>:</h4>
<p>bjorn3 edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-694430431">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>It isn't safe. There is a <code>Clone</code> impl that shares the memory. This means that you can use send a clone to another thread and then call <code>table_set</code> from multiple threads at the same time. There doesn't seem to be any synchronization, so this is a race-condition and thus UB.</p>
<p>Edit: missed that <code>.set</code> has a lock.<br>
Edit2: <code>host_state</code> contains <code>Box&lt;dyn Any&gt;</code>, but it can be accessed from multiple threads at the same time through the aforementioned way. This means that it must be <code>Box&lt;dyn Any + Sync&gt;</code>.</p>
</blockquote>



<a name="210435515"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/210435515" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#210435515">(Sep 17 2020 at 19:05)</a>:</h4>
<p>bjorn3 edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-694430431">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>It isn't safe. There is a <code>Clone</code> impl that shares the memory. This means that you can use send a clone to another thread and then call <code>table_set</code> from multiple threads at the same time. There doesn't seem to be any synchronization, so this is a race-condition and thus UB.</p>
<p>Edit: missed that <code>.set</code> has a lock.<br>
Edit2: <code>host_state</code> contains <code>Box&lt;dyn Any&gt;</code>, but it can be accessed from multiple threads at the same time through the aforementioned way. This means that it must be <code>Box&lt;dyn Any + Sync&gt;</code>.<br>
Edit3: reported bug to wasmer</p>
</blockquote>



<a name="210435583"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/210435583" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#210435583">(Sep 17 2020 at 19:06)</a>:</h4>
<p>bjorn3 edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-694430431">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>It isn't safe. There is a <code>Clone</code> impl that shares the memory. This means that you can use send a clone to another thread and then call <code>table_set</code> from multiple threads at the same time. There doesn't seem to be any synchronization, so this is a race-condition and thus UB.</p>
<p>Edit: missed that <code>.set</code> has a lock.<br>
Edit2: <code>host_state</code> contains <code>Box&lt;dyn Any&gt;</code>, but it can be accessed from multiple threads at the same time through the aforementioned way. This means that it must be <code>Box&lt;dyn Any + Sync&gt;</code>.<br>
Edit3: reported bug on the wasmer repo</p>
</blockquote>



<a name="233528574"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/233528574" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#233528574">(Apr 07 2021 at 17:20)</a>:</h4>
<p>Knight-X <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-815086740">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>Can we run the wasi example on the async pattern now ? It looks like we just have async Func and Store, but we do not have async Linker. If we can, is there any tutorial to run wasi example on async mode?  </p>
</blockquote>



<a name="233567087"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/233567087" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#233567087">(Apr 07 2021 at 21:34)</a>:</h4>
<p>alexcrichton closed <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>Currently as of today the <code>Instance</code> type in the <code>wasmtime</code> crate is not <code>Send</code>. This means that you cannot send it to other threads once it's created. There's a whole bunch of technical issues as to why this is, but for the sake of this issue I'd like to assume a world where we can instantly design everything the way we want. </p>
<p>In our eventual world, for example, <code>Module</code> is <code>Send</code> and <code>Sync</code> along with most other types in <code>wasmtime</code>. We, in this world, get to decide whether we want <code>Instance</code> to be <code>Send</code> or not. As a quick note we fundamentally cannot make <code>Instance</code> <code>Sync</code> because that would allow concurently invoking the same function and (at least) concurrently modifying globals in a non-atomic fashion. This is what we've historically discussed, where <code>Send</code> is desired to send instances to other threads.</p>
<p>I want to write down some reasoning, though, for why I think this may actually be extremely difficult if not impossible. There's two issues I see with trying to make <code>Instance</code> a send-able type:</p>
<ul>
<li>
<p>One is that all the externals today rely on reference counting. Once you put <code>Rc</code> somewhere it's fundamentally neither <code>Send</code> nor <code>Sync</code>. Types like <code>Global</code>, however, internally contain an <code>Rc</code>. We <em>may</em> be able to fix this by only allowing acquisition of <code>&amp;Global</code> from <code>Instance</code>, however. This is the easier of the constraints to solve.</p>
</li>
<li>
<p>Perhaps the more fundamental constraint though is how we want to deal with function imports. Today this is done with the <a href="https://bytecodealliance.github.io/wasmtime/api/wasmtime/trait.Callable.html"><code>Callable</code></a> trait, and those values are stored within an <code>Instance</code> (transitively through <code>Func</code> and such). The <code>Callable</code>, trait, however, does not require <code>Send</code>, which means that, again, <code>Instance</code> is not send. For the rest of this issue I'll discuss this problem.</p>
</li>
</ul>
<p>One possible solution to the latter point would be to add <code>Send</code> as a requirement to the <code>Callable</code> trait, but this also unfortunately is not a great API decision. That requires <em>everyone</em>, even those who don't need it, to implement the <code>Send</code> trait. That's surprisingly restrictive because there are legitimate cases where you don't want to implement <code>Send</code> or deal with the overhead. </p>
<p>The only real solution I know of is to somehow get generics into the picture. For example we can make <code>Instance&lt;T&gt;</code> conditionally <code>Send</code> based on <code>T</code>, allowing users to enable an instance to be <code>Send</code> if they configure it accordingly, but also accomodating users who don't want to deal with <code>Send</code> and only want to work on one thread.</p>
<p>This "real solution", though, doesn't really make sense to me. What is <code>T</code> in <code>Instance&lt;T&gt;</code>? Naively it's basically "the import object" but how can we express this? Is there a way we can create a trait to represent this?</p>
<hr>
<p>The tl;dr; of this issue is basically:</p>
<ul>
<li>I assert that it is a local maximum today (and likely beyond) for <code>Instance</code> to <strong>not</strong> be <code>Send</code>.</li>
<li>For <code>Instance</code> to be <code>Send</code>, I think it will require a type parameter, like <code>Instance&lt;T&gt;</code> where <code>T</code> is the "import object" with some trait to make it work. I haven't the foggiest though how this trait would be designed that satisfies all our constraints for possible optimizations and such.</li>
</ul>
<p>As a result, I'd like to propose that we commit to, for now, the <code>Instance</code> type not being <code>Send</code>, and then getting as much mileage out of that as we can.</p>
</blockquote>



<a name="233567197"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20Issue%20%23793%20Reconciling%20%60wasmtime%3A%3AInstance%60%20an.../near/233567197" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20Issue.20.23793.20Reconciling.20.60wasmtime.3A.3AInstance.60.20an.2E.2E.2E.html#233567197">(Apr 07 2021 at 21:35)</a>:</h4>
<p>alexcrichton <a href="https://github.com/bytecodealliance/wasmtime/issues/793#issuecomment-815280099">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/793">Issue #793</a>:</p>
<blockquote>
<p>@Knight-X currently <code>wasi-common</code> doesn't have async bindings, but that is planned for the future. Using a <code>Linker</code> you can insert <code>Func</code> values created from async host functions too.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>