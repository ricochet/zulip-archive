<html>
<head><meta charset="utf-8"><title>wasmtime / issue #7037 Memory checker (wmemcheck) complet... · git-wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/index.html">git-wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237037.20Memory.20checker.20.28wmemcheck.29.20complet.2E.2E.2E.html">wasmtime / issue #7037 Memory checker (wmemcheck) complet...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="390990586"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237037%20Memory%20checker%20%28wmemcheck%29%20complet.../near/390990586" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237037.20Memory.20checker.20.28wmemcheck.29.20complet.2E.2E.2E.html#390990586">(Sep 14 2023 at 17:44)</a>:</h4>
<p>cfallin opened <a href="https://github.com/bytecodealliance/wasmtime/issues/7037">issue #7037</a>:</p>
<blockquote>
<p>This issue is meant to track what remains to make <code>wmemcheck</code> feature-complete and robust enough for practical use:</p>
<ul>
<li>[ ] Handle SIMD loads and stores (#6829)</li>
<li>[ ] Hook <code>calloc</code> as well as existing <code>malloc</code> and <code>free</code></li>
<li>[ ] Provide hooks for custom allocators to use</li>
<li>[ ] Allow for more flexibility in heap and stack layout (don't assume stack is above <code>.data</code>/<code>.bss</code> and everything below initial TOS is accessible)</li>
<li>[ ] Provide an alternate way to hook <code>malloc</code>/<code>free</code>, rather than requiring a name section in the <code>.wasm</code> module</li>
<li>[ ] Provide an option to print warnings as violations occur, rather than halting execution (like Valgrind)</li>
<li>[ ] Provide a mechanism to define "suppressions" for unwanted warnings (like Valgrind)</li>
<li>[ ] Track definedness at byte or bit level?</li>
</ul>
<p>cc @iximeow for more thoughts, and others from today's Wasmtime meeting?</p>
</blockquote>



<a name="391203479"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237037%20Memory%20checker%20%28wmemcheck%29%20complet.../near/391203479" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237037.20Memory.20checker.20.28wmemcheck.29.20complet.2E.2E.2E.html#391203479">(Sep 15 2023 at 15:39)</a>:</h4>
<p>iximeow <a href="https://github.com/bytecodealliance/wasmtime/issues/7037#issuecomment-1721483630">commented</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7037">issue #7037</a>:</p>
<blockquote>
<p>@alexcrichton noted earlier that it would be good to have:</p>
<ul>
<li>[ ] an end-to-end test starting with some clearly-UB .c and test expectations for a stack trace pointing to wasmtime trapping a bad access</li>
</ul>
<p>and since wmemcheck doesn't support multiple memories (though we ought to make it so!),</p>
<ul>
<li>[ ] warn if a user tries to wmemcheck a multi-memory program<br>
or add that support multiple memories. but i think that's maybe a step after "robust enough for practical use" in terms of effort, warning seems more expedient for now :)</li>
</ul>
</blockquote>



<a name="391203566"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/225357-git-wasmtime/topic/wasmtime%20/%20issue%20%237037%20Memory%20checker%20%28wmemcheck%29%20complet.../near/391203566" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wasmtime GitHub notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/225357-git-wasmtime/topic/wasmtime.20.2F.20issue.20.237037.20Memory.20checker.20.28wmemcheck.29.20complet.2E.2E.2E.html#391203566">(Sep 15 2023 at 15:40)</a>:</h4>
<p>iximeow edited a <a href="https://github.com/bytecodealliance/wasmtime/issues/7037#issuecomment-1721483630">comment</a> on <a href="https://github.com/bytecodealliance/wasmtime/issues/7037">issue #7037</a>:</p>
<blockquote>
<p>@alexcrichton noted earlier that it would be good to have:</p>
<ul>
<li>[ ] an end-to-end test starting with some clearly-UB .c and test expectations for a stack trace pointing to wasmtime trapping a bad access</li>
</ul>
<p>and since wmemcheck doesn't support multiple memories (though we ought to make it so!),</p>
<ul>
<li>[ ] warn if a user tries to wmemcheck a multi-memory program</li>
</ul>
<p>or add that support multiple memories. but i think that's maybe a step after "robust enough for practical use" in terms of effort, warning seems more expedient for now :)</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>