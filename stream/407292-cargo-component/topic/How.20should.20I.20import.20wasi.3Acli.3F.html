<html>
<head><meta charset="utf-8"><title>How should I import wasi:cli? · cargo-component · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/index.html">cargo-component</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html">How should I import wasi:cli?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="442367598"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442367598" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Reeves <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442367598">(Jun 03 2024 at 20:41)</a>:</h4>
<p>For wasi components do I need to add the wit files for the WASI components or are they all intrinsically included?</p>



<a name="442370313"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442370313" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442370313">(Jun 03 2024 at 20:54)</a>:</h4>
<p>Generally they're included through an adapter, e.g. <code>wasi_snapshot_preview1.command.wasm</code>. If you're using Rust you can also include them via the <code>wasi</code> crate on <a href="http://crates.io">crates.io</a>. For other languages if you're not using an adapter you'll need to copy them in</p>
<div class="message_embed"><a class="message_embed_image" href="http://crates.io" style="background-image: url(&quot;https://uploads.zulipusercontent.net/75f8c66509c680a2345cca9b6adaf7e2cdb6f41b/68747470733a2f2f6372617465732e696f2f6173736574732f6f672d696d6167652e706e67&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="http://crates.io" title="crates.io: Rust Package Registry">crates.io: Rust Package Registry</a></div></div></div>



<a name="442372503"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442372503" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Reeves <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442372503">(Jun 03 2024 at 21:04)</a>:</h4>
<p>Thanks for the response.<br>
If I want to write to stdout is this what I need to do instead of simply calling <code>println!</code>?<br>
Also are there any examples out there of using this with cargo component?</p>



<a name="442372647"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442372647" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442372647">(Jun 03 2024 at 21:05)</a>:</h4>
<p>Using <code>println!</code> should work by default with <code>cargo component</code></p>



<a name="442372851"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442372851" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442372851">(Jun 03 2024 at 21:06)</a>:</h4>
<p>As for an example, I'm not sure if you're looking for something specific? <code>cargo component new foo</code> followed by <code>cargo component run</code> shows <code>println!</code> working for me</p>



<a name="442373044"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442373044" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Reeves <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442373044">(Jun 03 2024 at 21:07)</a>:</h4>
<p>I'm finding whenever I include a <code>println!</code> in my built cargo component and use it in a <code>jco</code> built use in a JavaScript app that the app hangs on the println. If I remove the println, I get no hang.</p>



<a name="442373306"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442373306" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442373306">(Jun 03 2024 at 21:08)</a>:</h4>
<p>This might be related to jco then rather than cargo component?</p>



<a name="442373504"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442373504" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Reeves <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442373504">(Jun 03 2024 at 21:09)</a>:</h4>
<p>Would I need the wasi, dependencies in my cargo components though?</p>



<a name="442373684"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442373684" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442373684">(Jun 03 2024 at 21:10)</a>:</h4>
<p>Sorry I'm not sure what you mean by that? <code>cargo component build</code> will produce a component which you can feed to jco as-is, no need to pull anything else along. The <code>cargo component</code> tools is a means by which to produce a component from rust source code, but once you have the component it's up to you where to put it</p>



<a name="442374057"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442374057" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Reeves <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442374057">(Jun 03 2024 at 21:12)</a>:</h4>
<p>Yeah that's what I thought. I was just thinking that possibly the hang was because I didn't link in something I need to.</p>



<a name="442374796"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442374796" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442374796">(Jun 03 2024 at 21:16)</a>:</h4>
<p>ah no you should be good in that respect</p>



<a name="442374825"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442374825" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442374825">(Jun 03 2024 at 21:17)</a>:</h4>
<p>once you have a component it's a standalone thing which is runnable or not given its imports</p>



<a name="442375361"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/407292-cargo-component/topic/How%20should%20I%20import%20wasi%3Acli%3F/near/442375361" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Damian Reeves <a href="https://bytecodealliance.github.io/zulip-archive/stream/407292-cargo-component/topic/How.20should.20I.20import.20wasi.3Acli.3F.html#442375361">(Jun 03 2024 at 21:19)</a>:</h4>
<p>Thanks.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>