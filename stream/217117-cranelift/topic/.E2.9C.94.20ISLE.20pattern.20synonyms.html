<html>
<head><meta charset="utf-8"><title>✔ ISLE pattern synonyms · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20ISLE.20pattern.20synonyms.html">✔ ISLE pattern synonyms</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="343251111"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/%E2%9C%94%20ISLE%20pattern%20synonyms/near/343251111" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kmeakin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20ISLE.20pattern.20synonyms.html#343251111">(Mar 21 2023 at 00:21)</a>:</h4>
<p>Can you define pattern synonyms in ISLE?<br>
eg being able to use <code>(ugt x y)</code> as shorthand for <code>(icmp (fits_in_64 (ty_int ty)) (IntCC.UnsignedGreaterThan) x y)</code></p>



<a name="343251866"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/%E2%9C%94%20ISLE%20pattern%20synonyms/near/343251866" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamey Sharp <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20ISLE.20pattern.20synonyms.html#343251866">(Mar 21 2023 at 00:29)</a>:</h4>
<p>Yes! We call them "internal extractors," because… well, there's a reason but it doesn't matter. Look for <code>(extractor …)</code> for the actual pattern synonyms, and for each one you'll also find an associated <code>decl</code>.</p>



<a name="343451540"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/%E2%9C%94%20ISLE%20pattern%20synonyms/near/343451540" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20ISLE.20pattern.20synonyms.html#343451540">(Mar 21 2023 at 15:46)</a>:</h4>
<p>yes, you can define any term you want and add extractors (for matching in the LHS of rules) and constructors (for making things in the RHS of rules) for the term. see the language reference for details: <a href="https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/isle/docs/language-reference.md#constructors-and-extractors">https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/isle/docs/language-reference.md#constructors-and-extractors</a></p>
<p>for example, there is nothing special/built-in about the existing <code>icmp</code> term as far as ISLE the language goes, it is just automatically generated by the meta crate: <a href="https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/codegen/meta/src/gen_inst.rs#L1412">https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/codegen/meta/src/gen_inst.rs#L1412</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/isle/docs/language-reference.md#constructors-and-extractors" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/6f9ac760272fa586a89cdc8ca3b9c4e2437e7363\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f633761303532383462383739616232666433613334643266376336613334623066646239396231343166633538333266666234663165356437373139393037622f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/isle/docs/language-reference.md#constructors-and-extractors" title="wasmtime/language-reference.md at 861220c433e70599ce51fb1c041c03fa9c7766ae · bytecodealliance/wasmtime">wasmtime/language-reference.md at 861220c433e70599ce51fb1c041c03fa9c7766ae · bytecodealliance/wasmtime</a></div><div class="message_embed_description">A fast and secure runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/codegen/meta/src/gen_inst.rs#L1412" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/6f9ac760272fa586a89cdc8ca3b9c4e2437e7363\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f633761303532383462383739616232666433613334643266376336613334623066646239396231343166633538333266666234663165356437373139393037622f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/codegen/meta/src/gen_inst.rs#L1412" title="wasmtime/gen_inst.rs at 861220c433e70599ce51fb1c041c03fa9c7766ae · bytecodealliance/wasmtime">wasmtime/gen_inst.rs at 861220c433e70599ce51fb1c041c03fa9c7766ae · bytecodealliance/wasmtime</a></div><div class="message_embed_description">A fast and secure runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div>



<a name="343451901"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/%E2%9C%94%20ISLE%20pattern%20synonyms/near/343451901" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20ISLE.20pattern.20synonyms.html#343451901">(Mar 21 2023 at 15:47)</a>:</h4>
<p>and for the record, I think having <code>(ugt x y)</code> et al helpers would be great! the term declaration and extractor definition would go in the common prelude, and the constructors would go in the mid-end specific prelude (since the backend lowerings wouldn't ever construct new clif)</p>



<a name="343517348"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/%E2%9C%94%20ISLE%20pattern%20synonyms/near/343517348" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20ISLE.20pattern.20synonyms.html#343517348">(Mar 21 2023 at 20:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="600668">kmeakin</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>