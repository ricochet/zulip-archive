<html>
<head><meta charset="utf-8"><title>blog post on regalloc checker · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html">blog post on regalloc checker</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="230401241"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230401241" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230401241">(Mar 15 2021 at 19:06)</a>:</h4>
<p>Hi all -- I've just posted blog post 3 of 3 on Cranelift: this one about the regalloc checker: <a href="https://cfallin.org/blog/2021/03/15/cranelift-isel-3/">https://cfallin.org/blog/2021/03/15/cranelift-isel-3/</a></p>



<a name="230401272"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230401272" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230401272">(Mar 15 2021 at 19:07)</a>:</h4>
<p>Please feel free to share and/or give feedback and/or ask questions :-)</p>



<a name="230420483"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230420483" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230420483">(Mar 15 2021 at 21:20)</a>:</h4>
<blockquote>
<p>Is this a hard problem, and if so, why? In fact, it is NP-complete</p>
</blockquote>
<p>This reads a bit awkward.</p>



<a name="230421200"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230421200" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230421200">(Mar 15 2021 at 21:25)</a>:</h4>
<p>In the "Checking the Register Allocator" section it would be nice to consistently place "machine code" relative to "register allocator" in the diagram.</p>



<a name="230422848"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230422848" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230422848">(Mar 15 2021 at 21:39)</a>:</h4>
<p>Nice post!</p>



<a name="230457255"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230457255" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230457255">(Mar 16 2021 at 04:07)</a>:</h4>
<p>Thanks! I tweaked the wording there; also added some more detail about lattices, and other bits, from some feedback on Reddit.</p>



<a name="230555164"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230555164" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230555164">(Mar 16 2021 at 17:21)</a>:</h4>
<p>lol the footnotes have footnotes <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span></p>



<a name="230555271"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230555271" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230555271">(Mar 16 2021 at 17:22)</a>:</h4>
<p>tweeted it out for you, as usual: <a href="https://twitter.com/fitzgen/status/1371872683772628994">https://twitter.com/fitzgen/status/1371872683772628994</a> <span aria-label="stuck out tongue wink" class="emoji emoji-1f61c" role="img" title="stuck out tongue wink">:stuck_out_tongue_wink:</span></p>
<div class="inline-preview-twitter"><div class="twitter-tweet"><a href="https://twitter.com/fitzgen/status/1371872683772628994"><img class="twitter-avatar" src="https://pbs.twimg.com/profile_images/964574996386398209/SF2y-pJB_normal.jpg"></a><p>Correctness in Register Allocation

new blog post by Chris Fallin on the symbolic checker and fuzzing set up we have for Cranelift's regalloc

<a href="https://t.co/2uoBXNFfpg">https://cfallin.org/blog/2021/03/15/cranelift-isel-3/</a></p><span>- fitzgen (@fitzgen)</span></div></div>



<a name="230558198"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230558198" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230558198">(Mar 16 2021 at 17:38)</a>:</h4>
<p>Thanks!</p>



<a name="230558235"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230558235" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230558235">(Mar 16 2021 at 17:38)</a>:</h4>
<p>I may have been a bit exuberant with the footnotes, but there's just so much interesting stuff to say...</p>



<a name="230561825"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230561825" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230561825">(Mar 16 2021 at 17:58)</a>:</h4>
<p>you didn't even touch on the fact that the fuzz inputs are driven by libfuzzer and the <code>arbitrary</code> crate, which let us get coverage guided fuzzing with structured inputs :-p</p>



<a name="230561899"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230561899" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230561899">(Mar 16 2021 at 17:59)</a>:</h4>
<p>it just adds one more layer of niceness onto the whole approach</p>



<a name="230562342"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/230562342" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#230562342">(Mar 16 2021 at 18:01)</a>:</h4>
<p>Oh, yes, the whole "fuzzing is fantastic" discussion could fill a blog post of its own</p>



<a name="231118939"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/231118939" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Rogers <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#231118939">(Mar 20 2021 at 03:49)</a>:</h4>
<p>Nice post! Tbh, register allocators have never been the greatest source of bugs for doing the correctness analysis on for me - that's if you dealt with swaps and the lost copy problems properly. It feels like the meet condition is, "don't allocate the same register twice," which is pretty common-sensical.</p>



<a name="231119357"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/blog%20post%20on%20regalloc%20checker/near/231119357" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ian Rogers <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/blog.20post.20on.20regalloc.20checker.html#231119357">(Mar 20 2021 at 03:59)</a>:</h4>
<p>I should say, don't allocate two values to the same register if they are live at the same time.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>