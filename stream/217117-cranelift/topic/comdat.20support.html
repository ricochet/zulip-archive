<html>
<head><meta charset="utf-8"><title>comdat support · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/comdat.20support.html">comdat support</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="199977018"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/comdat%20support/near/199977018" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carlo Kok <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/comdat.20support.html#199977018">(Jun 06 2020 at 14:16)</a>:</h4>
<p>Is there any support for comdat in Cranelift?</p>



<a name="199977669"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/comdat%20support/near/199977669" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/comdat.20support.html#199977669">(Jun 06 2020 at 14:32)</a>:</h4>
<p>No. If you want to add support, you will need to implement it in <a href="https://github.com/gimli-rs/object">object</a> first.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/gimli-rs/object" style="background-image: url(https://avatars3.githubusercontent.com/u/21131604?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/gimli-rs/object" title="gimli-rs/object">gimli-rs/object</a></div><div class="message_embed_description">A unified interface for reading and writing object file formats - gimli-rs/object</div></div></div>



<a name="204455161"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/comdat%20support/near/204455161" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carlo Kok <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/comdat.20support.html#204455161">(Jul 20 2020 at 18:05)</a>:</h4>
<p>so <a href="https://github.com/gimli-rs/object/pull/243">https://github.com/gimli-rs/object/pull/243</a> supports COMDAT now.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/gimli-rs/object/pull/243" style="background-image: url(https://avatars3.githubusercontent.com/u/21131604?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/gimli-rs/object/pull/243" title="Implement COMDAT support by philipc · Pull Request #243 · gimli-rs/object">Implement COMDAT support by philipc · Pull Request #243 · gimli-rs/object</a></div><div class="message_embed_description">Fixes #239
I'll add tests before merging.
@carlokok Are you able to review this please?</div></div></div>



<a name="204459411"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/comdat%20support/near/204459411" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carlo Kok <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/comdat.20support.html#204459411">(Jul 20 2020 at 18:42)</a>:</h4>
<p>so to get back to this</p>



<a name="204459434"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/comdat%20support/near/204459434" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carlo Kok <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/comdat.20support.html#204459434">(Jul 20 2020 at 18:42)</a>:</h4>
<p>should I create an issue for this first, wait for the oke, then a PR?</p>



<a name="204461541"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/comdat%20support/near/204461541" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carlo Kok <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/comdat.20support.html#204461541">(Jul 20 2020 at 18:58)</a>:</h4>
<p><a href="https://github.com/bytecodealliance/wasmtime/issues/2048">https://github.com/bytecodealliance/wasmtime/issues/2048</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/2048" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/2048" title="Cranelift: COMDAT support · Issue #2048 · bytecodealliance/wasmtime">Cranelift: COMDAT support · Issue #2048 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">COMDAT can be used for two purposes: Allow multiple symbols with the same name without linking failures(pick largest, pick any, etc) Bind symbols together This is very useful for using Cranelift as...</div></div></div>



<a name="204530195"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/comdat%20support/near/204530195" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/comdat.20support.html#204530195">(Jul 21 2020 at 10:04)</a>:</h4>
<p><span class="user-mention" data-user-id="295546">@Carlo Kok</span> I think that mainly depends on if it's an easy fix or not, and whether you anticipate any disagreement on the approach</p>



<a name="204531762"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/comdat%20support/near/204531762" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/comdat.20support.html#204531762">(Jul 21 2020 at 10:27)</a>:</h4>
<p>ah, I misread, and now see that you did open the issue. I don't know how much work the implementation is here, but if it's not too much, I'd suggest starting on that now, given that what you describe as the approach does seem reasonable (to me, lacking domain expertise!)</p>



<a name="207708240"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/comdat%20support/near/207708240" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carlo Kok <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/comdat.20support.html#207708240">(Aug 22 2020 at 05:10)</a>:</h4>
<p>anyone able to help me with the design for comdat within cranelift? Comdat itself is essentially 1 symbol, with a mode (comdat mode), tied to other symbols. Where a symbol can be either a global var or a global function.</p>



<a name="207708243"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/comdat%20support/near/207708243" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carlo Kok <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/comdat.20support.html#207708243">(Aug 22 2020 at 05:10)</a>:</h4>
<p>I'm having a bit of trouble with the right design for this</p>



<a name="209500280"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/comdat%20support/near/209500280" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Carlo Kok <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/comdat.20support.html#209500280">(Sep 09 2020 at 11:49)</a>:</h4>
<p>Anyone feel like commenting on this <a href="https://github.com/bytecodealliance/wasmtime/issues/2048#issuecomment-669041583">https://github.com/bytecodealliance/wasmtime/issues/2048#issuecomment-669041583</a> ? I'm having a bit of trouble with the design for this feature.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/2048#issuecomment-669041583" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/2048#issuecomment-669041583" title="Cranelift: COMDAT support · Issue #2048 · bytecodealliance/wasmtime">Cranelift: COMDAT support · Issue #2048 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">COMDAT can be used for two purposes: Allow multiple symbols with the same name without linking failures(pick largest, pick any, etc) Bind symbols together This is very useful for using Cranelift as...</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>