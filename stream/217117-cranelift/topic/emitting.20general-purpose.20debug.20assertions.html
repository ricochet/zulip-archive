<html>
<head><meta charset="utf-8"><title>emitting general-purpose debug assertions · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/emitting.20general-purpose.20debug.20assertions.html">emitting general-purpose debug assertions</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="390334797"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/emitting%20general-purpose%20debug%20assertions/near/390334797" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Emrich <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/emitting.20general-purpose.20debug.20assertions.html#390334797">(Sep 11 2023 at 15:18)</a>:</h4>
<p>Hi, I was curious if there is a general mechanism for emitting debug assertions in jitted code (i.e., emitting debug code that checks a condition and traps if it doesn't hold).  I've found <code>DEBUG_ASSERT_TRAP_CODE</code> in <code>lib.rs</code> and its users, but there doesn't seem to be a counterpart to something like Rust's <code>debug_assert_eq</code>. Am I overlooking it, is there a good reason why it doesn't exist, or is it just that no need for has come up for it so far?</p>



<a name="390336997"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/emitting%20general-purpose%20debug%20assertions/near/390336997" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/emitting.20general-purpose.20debug.20assertions.html#390336997">(Sep 11 2023 at 15:28)</a>:</h4>
<p>So far the trap codes have mostly been ad-hoc so there hasn't been an effort yet (AFAIK) to unify things, but that'd be appreciated if you're willing to give it a stab!</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>