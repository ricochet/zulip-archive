<html>
<head><meta charset="utf-8"><title>cranelift type inference? · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift.20type.20inference.3F.html">cranelift type inference?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="266583312"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift%20type%20inference%3F/near/266583312" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> McCoy <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift.20type.20inference.3F.html#266583312">(Jan 02 2022 at 00:00)</a>:</h4>
<p>I was checking out the IR reference: <a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/docs/ir.md">https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/docs/ir.md</a> it seems like any type information is not displayed when printing the IR. I checked out the <code>InstBuilder</code> <a href="https://docs.rs/cranelift-codegen/latest/cranelift_codegen/ir/trait.InstBuilder.html">https://docs.rs/cranelift-codegen/latest/cranelift_codegen/ir/trait.InstBuilder.html</a> and also noticed (similarly) that most instruction creation doesn't require specifying types. How should I understand types in cranelift?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/docs/ir.md" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/d4a01e97b6d817566c789662d3ea397d8843d783\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f613730643738646337333733643065363337343633393435396137643964363732653033373666616466376363613736666330616537303635656436646230612f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/main/cranelift/docs/ir.md" title="wasmtime/ir.md at main · bytecodealliance/wasmtime">wasmtime/ir.md at main · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - wasmtime/ir.md at main · bytecodealliance/wasmtime</div></div></div>



<a name="266609378"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift%20type%20inference%3F/near/266609378" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift.20type.20inference.3F.html#266609378">(Jan 02 2022 at 11:23)</a>:</h4>
<p>The table of type constraints for instructions is generated at <a href="https://github.com/bytecodealliance/wasmtime/blob/dd85d66ec353959479f7d8518a79d0c7d0b9e3ad/cranelift/codegen/meta/src/gen_inst.rs#L722">https://github.com/bytecodealliance/wasmtime/blob/dd85d66ec353959479f7d8518a79d0c7d0b9e3ad/cranelift/codegen/meta/src/gen_inst.rs#L722</a> For getting the control typevar when creating an instruction see <a href="https://github.com/bytecodealliance/wasmtime/blob/dd85d66ec353959479f7d8518a79d0c7d0b9e3ad/cranelift/codegen/meta/src/gen_inst.rs#L1012">https://github.com/bytecodealliance/wasmtime/blob/dd85d66ec353959479f7d8518a79d0c7d0b9e3ad/cranelift/codegen/meta/src/gen_inst.rs#L1012</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/dd85d66ec353959479f7d8518a79d0c7d0b9e3ad/cranelift/codegen/meta/src/gen_inst.rs#L722" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/e851b6ca865f5929ee3719581e1dd0af12ff1c3d\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f646238346235366439633339623561663039333962663836313162393966363631646539313037666332353065323066353664396133616335663331396165342f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/dd85d66ec353959479f7d8518a79d0c7d0b9e3ad/cranelift/codegen/meta/src/gen_inst.rs#L722" title="wasmtime/gen_inst.rs at dd85d66ec353959479f7d8518a79d0c7d0b9e3ad · bytecodealliance/wasmtime">wasmtime/gen_inst.rs at dd85d66ec353959479f7d8518a79d0c7d0b9e3ad · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - wasmtime/gen_inst.rs at dd85d66ec353959479f7d8518a79d0c7d0b9e3ad · bytecodealliance/wasmtime</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/dd85d66ec353959479f7d8518a79d0c7d0b9e3ad/cranelift/codegen/meta/src/gen_inst.rs#L1012" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/e851b6ca865f5929ee3719581e1dd0af12ff1c3d\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f646238346235366439633339623561663039333962663836313162393966363631646539313037666332353065323066353664396133616335663331396165342f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/dd85d66ec353959479f7d8518a79d0c7d0b9e3ad/cranelift/codegen/meta/src/gen_inst.rs#L1012" title="wasmtime/gen_inst.rs at dd85d66ec353959479f7d8518a79d0c7d0b9e3ad · bytecodealliance/wasmtime">wasmtime/gen_inst.rs at dd85d66ec353959479f7d8518a79d0c7d0b9e3ad · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - wasmtime/gen_inst.rs at dd85d66ec353959479f7d8518a79d0c7d0b9e3ad · bytecodealliance/wasmtime</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>