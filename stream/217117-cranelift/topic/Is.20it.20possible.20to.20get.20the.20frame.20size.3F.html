<html>
<head><meta charset="utf-8"><title>Is it possible to get the frame size? 路 cranelift 路 Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Is.20it.20possible.20to.20get.20the.20frame.20size.3F.html">Is it possible to get the frame size?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="307170008"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Is%20it%20possible%20to%20get%20the%20frame%20size%3F/near/307170008" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yorick Peterse <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Is.20it.20possible.20to.20get.20the.20frame.20size.3F.html#307170008">(Oct 31 2022 at 18:10)</a>:</h4>
<p>I'm looking into ways of dynamically growing stack memory. Does Cranelift provide a way of obtaining a frame's stack size at runtime (i.e.g as some static value stored somewhere), or does one have to implement this manually using <code>get_stack_pointer()</code> and comparing that to some known value?</p>



<a name="307172303"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Is%20it%20possible%20to%20get%20the%20frame%20size%3F/near/307172303" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yorick Peterse <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Is.20it.20possible.20to.20get.20the.20frame.20size.3F.html#307172303">(Oct 31 2022 at 18:22)</a>:</h4>
<p>Hm, seems <code>https://docs.rs/cranelift-codegen/latest/cranelift_codegen/ir/function/struct.FunctionStencil.html#method.fixed_stack_size</code> might be the trick as used at <a href="https://github.com/bytecodealliance/wasmtime/blob/c392e461a3458a011f79dca7ec22773b873006cd/cranelift/interpreter/src/interpreter.rs#L325">https://github.com/bytecodealliance/wasmtime/blob/c392e461a3458a011f79dca7ec22773b873006cd/cranelift/interpreter/src/interpreter.rs#L325</a>.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/c392e461a3458a011f79dca7ec22773b873006cd/cranelift/interpreter/src/interpreter.rs#L325" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/c34555c4b041c2d3dd0464344e677e2d85ae3e7b\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f316664623863613865643433626561623534393337343264353935373330666633363363656663656131363230383565633637663238353330333730396438612f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/c392e461a3458a011f79dca7ec22773b873006cd/cranelift/interpreter/src/interpreter.rs#L325" title="wasmtime/interpreter.rs at c392e461a3458a011f79dca7ec22773b873006cd 路 bytecodealliance/wasmtime">wasmtime/interpreter.rs at c392e461a3458a011f79dca7ec22773b873006cd 路 bytecodealliance/wasmtime</a></div><div class="message_embed_description">A fast and secure runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div>



<a name="307172456"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Is%20it%20possible%20to%20get%20the%20frame%20size%3F/near/307172456" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yorick Peterse <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Is.20it.20possible.20to.20get.20the.20frame.20size.3F.html#307172456">(Oct 31 2022 at 18:22)</a>:</h4>
<p>Though I'm not sure that this information is available/up to date when generating code for a function <span aria-label="thinking" class="emoji emoji-1f914" role="img" title="thinking">:thinking:</span></p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>