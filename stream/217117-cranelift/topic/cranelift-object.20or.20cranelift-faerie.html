<html>
<head><meta charset="utf-8"><title>cranelift-object or cranelift-faerie · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html">cranelift-object or cranelift-faerie</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="199639477"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199639477" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199639477">(Jun 03 2020 at 16:06)</a>:</h4>
<p>cl-object and cl-faerie produce object files , which one is here to stay?</p>



<a name="199639778"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199639778" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199639778">(Jun 03 2020 at 16:09)</a>:</h4>
<p>object is generally more capable than faerie, so i think thats the best bet to go forward. when we last talked about this, fastly had just switched from using cl-faerie to cl-object in prod, and we wanted to keep faerie in tree for a little longer in case we needed to revert that change while we figured out any object bugs.</p>



<a name="199639933"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199639933" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199639933">(Jun 03 2020 at 16:10)</a>:</h4>
<p>my preference would be to keep cl-faerie in tree for another month or two, but maybe its appropriate to start marking it as deprecated and going away soon? if you're planning any major renovations to cl-module / cl-object that would make it hard to carry faerie along, then we can drop it sooner.</p>



<a name="199640050"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199640050" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199640050">(Jun 03 2020 at 16:11)</a>:</h4>
<p>Nice. Can we mark them or one of them somehow to identify that we made such decision?</p>



<a name="199640154"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199640154" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199640154">(Jun 03 2020 at 16:12)</a>:</h4>
<p>yes, we ought to, im not sure the best way to actually do so though.</p>



<a name="199640185"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199640185" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199640185">(Jun 03 2020 at 16:12)</a>:</h4>
<p>/me remembered the conversation but do not remember which one</p>



<a name="199640246"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199640246" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199640246">(Jun 03 2020 at 16:13)</a>:</h4>
<p><a href="https://doc.rust-lang.org/edition-guide/rust-2018/the-compiler/an-attribute-for-deprecation.html">https://doc.rust-lang.org/edition-guide/rust-2018/the-compiler/an-attribute-for-deprecation.html</a> we could mark the FaerieBuilder::new function with the deprecated attribute</p>



<a name="199640265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199640265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199640265">(Jun 03 2020 at 16:13)</a>:</h4>
<p>/me did look at opened issues, READMEs and Cargo.toml</p>



<a name="199640382"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199640382" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199640382">(Jun 03 2020 at 16:14)</a>:</h4>
<p>and note it in the readme as well.</p>



<a name="199640429"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199640429" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199640429">(Jun 03 2020 at 16:14)</a>:</h4>
<p>i believe we discussed it verbally in one of the cranelift or wasmtime zoom meetings, but im not aware of anywhere we wrote it down.</p>



<a name="199688062"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199688062" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199688062">(Jun 03 2020 at 23:05)</a>:</h4>
<p>im prepping a PR announcing the planned deprecation of cranelift-faerie. I figure 60 days notice is sufficient, so we can say that we intend to remove this crate from the tree on or after Aug 3, 2020. does that seem reasonable <span class="user-mention" data-user-id="254083">@Dan Gohman</span> ?</p>



<a name="199688351"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199688351" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199688351">(Jun 03 2020 at 23:09)</a>:</h4>
<p>Sounds good to me.</p>



<a name="199688550"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199688550" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199688550">(Jun 03 2020 at 23:12)</a>:</h4>
<p>according to <a href="http://crates.io">crates.io</a> reverse-deps the only things using cranelift-faerie are lucetc and a programming-language project called graviton</p>



<a name="199688619"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199688619" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199688619">(Jun 03 2020 at 23:13)</a>:</h4>
<p>but graviton recently deleted large parts of their code and plan to rewrite it</p>



<a name="199689121"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199689121" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199689121">(Jun 03 2020 at 23:18)</a>:</h4>
<p>cool. and i think the design of cranelift-module makes it really straightforward to ask users to switch to cranelift-object</p>



<a name="199689153"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199689153" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199689153">(Jun 03 2020 at 23:18)</a>:</h4>
<p>thanks for looking into the reverse dep search, i had not thought of that.</p>



<a name="199689543"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199689543" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199689543">(Jun 03 2020 at 23:22)</a>:</h4>
<p><a href="https://github.com/bytecodealliance/wasmtime/pull/1816">https://github.com/bytecodealliance/wasmtime/pull/1816</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/1816" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/1816" title="Add deprecation notice to cranelift-faerie README and FaerieBuilder. by pchickey · Pull Request #1816 · bytecodealliance/wasmtime">Add deprecation notice to cranelift-faerie README and FaerieBuilder. by pchickey · Pull Request #1816 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">I put the following notice in both the README and as a deprecated attribute on the
FaerieBuilder::new method:
the Cranelift developer team intends to stop maintaining
the `cranelift-faerie` crate a...</div></div></div>



<a name="199689552"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199689552" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199689552">(Jun 03 2020 at 23:23)</a>:</h4>
<p>i'll open an issue on graviton</p>



<a name="199690002"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199690002" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199690002">(Jun 03 2020 at 23:29)</a>:</h4>
<p>The code for cranelift-object isn't even in the tree anymore, as it was deleted along with a bunch of other stuff</p>



<a name="199690011"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199690011" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199690011">(Jun 03 2020 at 23:29)</a>:</h4>
<p>er, cranelift-faerie</p>



<a name="199690075"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/cranelift-object%20or%20cranelift-faerie/near/199690075" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/cranelift-object.20or.20cranelift-faerie.html#199690075">(Jun 03 2020 at 23:30)</a>:</h4>
<p>ah, cool. well, that should make the transition easy. I filed an issue on their bug tracker to be polite, but im def not going to sweat it :)</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>