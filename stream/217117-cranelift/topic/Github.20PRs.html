<html>
<head><meta charset="utf-8"><title>Github PRs · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html">Github PRs</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="260247909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Github%20PRs/near/260247909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Parker <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html#260247909">(Nov 04 2021 at 09:50)</a>:</h4>
<p>Hi,<br>
What are people's thoughts on having PRs squashed into a single commit before being committed? When I was working on LLVM, we'd push the whole patch up for review, even after changes from feedback, and the patch would land as one commit. This makes it very simple to view what was changed for a certain feature, which is a great way to learn and remind oneself, and also made reverts simple. Of course, it can also just clean up the commit log considerably.</p>



<a name="260252402"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Github%20PRs/near/260252402" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Bouvier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html#260252402">(Nov 04 2021 at 10:38)</a>:</h4>
<p>+1 to that! squashing hides most unimportant details and allows work flows where one can just continously push to their github branch, making it nice to collaborate with other people (vs rebasing, which causes force-push and thus merge conflicts if two people are on the same branch).</p>
<p>It could make bisection a bit harder sometimes, but if a commit resulting from a PR is so large that it makes bisection impossible, maybe it shouldn't have been so large in the first place, and could be split in several PRs.</p>



<a name="260288964"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Github%20PRs/near/260288964" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html#260288964">(Nov 04 2021 at 15:43)</a>:</h4>
<p>As long as commits stand on their own (eg pass tests so they don't break bisection, are a logical chunk of work, etc) then I think it is fine to keep the history.</p>
<p>But if not, then squashing is the way to go.</p>



<a name="260293427"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Github%20PRs/near/260293427" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html#260293427">(Nov 04 2021 at 16:09)</a>:</h4>
<p>Multiple commits that stand on their own can be nicer for reviewers, as well, since you aren't faced with a massive wall of code, and have things organized into little chunks of functionality</p>



<a name="260295296"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Github%20PRs/near/260295296" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html#260295296">(Nov 04 2021 at 16:20)</a>:</h4>
<p>One specific thing I find nice during the review process is a separate "Address review comments" sort of commit; without that, it's difficult to tell what changed</p>



<a name="260295342"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Github%20PRs/near/260295342" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html#260295342">(Nov 04 2021 at 16:20)</a>:</h4>
<p>Other projects I have definitely seen the rule be that this is then squashed before merge; +1 to that if that's the way we want to go</p>



<a name="260413074"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Github%20PRs/near/260413074" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Parker <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html#260413074">(Nov 05 2021 at 14:35)</a>:</h4>
<p>Yeah, I agree it's probably easier to review the increments, so having the auto squash before the merge would be the best of both worlds. This is something that can just be setup via the github UI, right?</p>



<a name="260414597"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Github%20PRs/near/260414597" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Parker <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html#260414597">(Nov 05 2021 at 14:47)</a>:</h4>
<p>As for smaller chunks of functionality, maybe it's worth just breaking the PR up. I'm mainly thinking about removing commits that amend typos, fix cargo fmt and other small things that really have no historical use.</p>



<a name="260416950"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Github%20PRs/near/260416950" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html#260416950">(Nov 05 2021 at 15:02)</a>:</h4>
<p>we could set things up to force auto-squashing for all PRs, if that's what we end up agreeing on. If we do decide to squash, then I agree that that's much better than manually squashing, with the review issues that brings</p>



<a name="260446613"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Github%20PRs/near/260446613" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html#260446613">(Nov 05 2021 at 18:35)</a>:</h4>
<p>I personally squash PR's for cg_clif if they are a small change combined with a couple of fixups (fixing ci, review comments, ...) If the commits somewhat stand alone I don't squash.</p>



<a name="261771822"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Github%20PRs/near/261771822" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sam Parker <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html#261771822">(Nov 17 2021 at 11:29)</a>:</h4>
<p>So... would anyone have strong objections to squashing pre-merge?</p>



<a name="261798652"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Github%20PRs/near/261798652" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Github.20PRs.html#261798652">(Nov 17 2021 at 15:19)</a>:</h4>
<p>I slightly prefer not squashing when there aren't any fixup commits.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>