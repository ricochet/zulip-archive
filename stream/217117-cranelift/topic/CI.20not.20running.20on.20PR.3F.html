<html>
<head><meta charset="utf-8"><title>CI not running on PR? · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html">CI not running on PR?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="196257631"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196257631" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196257631">(May 05 2020 at 00:50)</a>:</h4>
<p>Any GitHub-CI wizards present who would be able to debug why <a href="https://github.com/bytecodealliance/wasmtime/pull/1570" title="https://github.com/bytecodealliance/wasmtime/pull/1570">https://github.com/bytecodealliance/wasmtime/pull/1570</a> has no CI tests (none pending/queued/...)? The PR doesn't change any config/metadata files, and tests are clean locally.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/1570" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/1570" title="Fix long-range (non-colocated) aarch64 calls to not use Arm64Call reloc, and fix simplejit to use new long-distance call. by cfallin · Pull Request #1570 · bytecodealliance/wasmtime">Fix long-range (non-colocated) aarch64 calls to not use Arm64Call reloc, and fix simplejit to use new long-distance call. by cfallin · Pull Request #1570 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Previously, every call was lowered on AArch64 to a call instruction, which
takes a signed 26-bit PC-relative offset. Including the 2-bit left shift, this
gives a range of +/- 128 MB. Longer-distanc...</div></div></div>



<a name="196257651"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196257651" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196257651">(May 05 2020 at 00:51)</a>:</h4>
<p>The last rebase/force-push of mine didn't seem to kick the test-runner in the right way either</p>



<a name="196262328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196262328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196262328">(May 05 2020 at 02:34)</a>:</h4>
<p><span class="user-mention" data-user-id="254389">@Chris Fallin</span> I clicked on the actions tab of the repo and it says GitHub is having issues</p>



<a name="196262351"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196262351" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196262351">(May 05 2020 at 02:34)</a>:</h4>
<p>Typically a force.push should.retrigger but now they may just have issues</p>



<a name="196262366"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196262366" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196262366">(May 05 2020 at 02:35)</a>:</h4>
<p>OK, thanks, will wait till their infra is back up before poking it further :-)</p>



<a name="196262378"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196262378" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196262378">(May 05 2020 at 02:35)</a>:</h4>
<p><a href="https://www.githubstatus.com/incidents/ljygds069np9" title="https://www.githubstatus.com/incidents/ljygds069np9">https://www.githubstatus.com/incidents/ljygds069np9</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://www.githubstatus.com/incidents/ljygds069np9" style="background-image: url(https://dka575ofm4ao0.cloudfront.net/pages-twitter_logos/original/36420/GitHub-Mark-120px-plus.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://www.githubstatus.com/incidents/ljygds069np9" title="Incident on 2020-05-05 00:45 UTC">Incident on 2020-05-05 00:45 UTC</a></div><div class="message_embed_description">GitHub's Status Page - Incident on 2020-05-05 00:45 UTC.</div></div></div>



<a name="196332829"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196332829" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196332829">(May 05 2020 at 16:37)</a>:</h4>
<p>Something kind of odd is happening here again. I force-pushed and the resulting runs ended with a 404 in a "download artifacts" step; forced a re-run and now the git checkout is failing with:</p>
<div class="codehilite"><pre><span></span><code>git checkout --progress --force 692f9e4ff3379b6f1bf6dbd01fd9d7ca1ba8b921
##[error]fatal: reference is not a tree: 692f9e4ff3379b6f1bf6dbd01fd9d7ca1ba8b921
##[error]Git checkout failed with exit code: 128
##[error]Exit code 1 returned from process: file name &#39;/home/runner/runners/2.169.1/bin/Runner.PluginHost&#39;, arguments &#39;action &quot;GitHub.Runner.Plugins.Repository.v1_0.CheckoutTask, Runner.Plugins&quot;&#39;.
</code></pre></div>


<p>(link: <a href="https://github.com/bytecodealliance/wasmtime/pull/1570/checks?check_run_id=646758917" title="https://github.com/bytecodealliance/wasmtime/pull/1570/checks?check_run_id=646758917">https://github.com/bytecodealliance/wasmtime/pull/1570/checks?check_run_id=646758917</a>)</p>
<p>Disk space error? Or something else? Not sure how to debug...</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/1570/checks?check_run_id=646758917" style="background-image: url(https://avatars2.githubusercontent.com/u/216148?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/1570/checks?check_run_id=646758917" title="Fix long-range (non-colocated) aarch64 calls to not use Arm64Call reloc, and fix simplejit to use new long-distance call. by cfallin · Pull Request #1570 · bytecodealliance/wasmtime">Fix long-range (non-colocated) aarch64 calls to not use Arm64Call reloc, and fix simplejit to use new long-distance call. by cfallin · Pull Request #1570 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Previously, every call was lowered on AArch64 to a call instruction, which
takes a signed 26-bit PC-relative offset. Including the 2-bit left shift, this
gives a range of +/- 128 MB. Longer-distanc...</div></div></div>



<a name="196334285"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196334285" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196334285">(May 05 2020 at 16:50)</a>:</h4>
<p>uh...</p>



<a name="196334348"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196334348" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196334348">(May 05 2020 at 16:50)</a>:</h4>
<p>that can happen if you restart a PR build b/c it's a bug in github actions</p>



<a name="196334358"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196334358" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196334358">(May 05 2020 at 16:50)</a>:</h4>
<p>but this was just from a straight push?</p>



<a name="196334896"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196334896" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196334896">(May 05 2020 at 16:54)</a>:</h4>
<p>That error came after I hit 'rerun jobs'; but the builds from the push also errored out, with a 404 while downloading aarch64 artifacts (I didn't save the logs, sorry; should have)</p>



<a name="196334940"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196334940" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196334940">(May 05 2020 at 16:54)</a>:</h4>
<p>I'll retrigger with a push and see what happens.</p>



<a name="196335480"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196335480" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196335480">(May 05 2020 at 16:58)</a>:</h4>
<p>I had similar 404 things, only <code>git rebase</code> worked for me &amp;&amp; <code>git push -f</code></p>



<a name="196336328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196336328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196336328">(May 05 2020 at 17:04)</a>:</h4>
<p><span class="user-mention" data-user-id="254389">@Chris Fallin</span> oh for PRs the "rerun jobs" button is always busted</p>



<a name="196336346"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196336346" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196336346">(May 05 2020 at 17:04)</a>:</h4>
<p>I dunno why, I think it's basically a bug in github actions</p>



<a name="196336373"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196336373" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196336373">(May 05 2020 at 17:05)</a>:</h4>
<p>Good to know, thanks</p>



<a name="196336378"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196336378" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196336378">(May 05 2020 at 17:05)</a>:</h4>
<p>for failures to download it's probably a transient error with uploads/downloads</p>



<a name="196336401"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196336401" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196336401">(May 05 2020 at 17:05)</a>:</h4>
<p>to retrigger a PR build the only way I know is to force-push</p>



<a name="196336416"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196336416" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196336416">(May 05 2020 at 17:05)</a>:</h4>
<p>e.g. `git commit --amend &amp;&amp; git push -f</p>



<a name="196336433"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/CI%20not%20running%20on%20PR%3F/near/196336433" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/CI.20not.20running.20on.20PR.3F.html#196336433">(May 05 2020 at 17:05)</a>:</h4>
<p>got it; hopefully this one works :-)</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>