<html>
<head><meta charset="utf-8"><title>Error when compiling cranelift-codegen 0.110.2 · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Error.20when.20compiling.20cranelift-codegen.200.2E110.2E2.html">Error when compiling cranelift-codegen 0.110.2</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="477687132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Error%20when%20compiling%20cranelift-codegen%200.110.2/near/477687132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> edoardo <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Error.20when.20compiling.20cranelift-codegen.200.2E110.2E2.html#477687132">(Oct 18 2024 at 16:03)</a>:</h4>
<p>Hello, I've been seeing this error for the first time: </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span><span class="p">:</span><span class="w"> </span><span class="nc">couldn</span><span class="o">'</span><span class="na">t</span><span class="w"> </span><span class="n">read</span><span class="w"> </span><span class="o">/</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">cranelift</span><span class="o">-</span><span class="n">codegen</span><span class="o">-</span><span class="mf">0.110.2</span><span class="o">/</span><span class="n">isle_generated_code</span><span class="o">/</span><span class="n">isle_x64</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="w"> </span><span class="nc">No</span><span class="w"> </span><span class="n">such</span><span class="w"> </span><span class="n">file</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">directory</span><span class="w"> </span><span class="p">(</span><span class="n">os</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
<span class="w">  </span><span class="o">-</span><span class="p">-&gt;</span><span class="w"> </span><span class="o">/</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">cranelift</span><span class="o">-</span><span class="n">codegen</span><span class="o">-</span><span class="mf">0.110.2</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">isa</span><span class="o">/</span><span class="n">x64</span><span class="o">/</span><span class="n">lower</span><span class="o">/</span><span class="n">isle</span><span class="o">/</span><span class="n">generated_code</span><span class="p">.</span><span class="n">rs</span><span class="p">:</span><span class="mi">14</span><span class="p">:</span><span class="mi">1</span>
<span class="w">   </span><span class="o">|</span>
<span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="fm">include!</span><span class="p">(</span><span class="fm">concat!</span><span class="p">(</span><span class="fm">env!</span><span class="p">(</span><span class="s">"ISLE_DIR"</span><span class="p">),</span><span class="w"> </span><span class="s">"/isle_x64.rs"</span><span class="p">));</span>
<span class="w">   </span><span class="o">|</span><span class="w"> </span><span class="o">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>
<span class="w">   </span><span class="o">|</span>
<span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="n">note</span><span class="p">:</span><span class="w"> </span><span class="nc">this</span><span class="w"> </span><span class="n">error</span><span class="w"> </span><span class="n">originates</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="kr">macro</span><span class="w"> </span><span class="err">`</span><span class="n">include</span><span class="err">`</span><span class="w"> </span><span class="p">(</span><span class="k">in</span><span class="w"> </span><span class="n">Nightly</span><span class="w"> </span><span class="n">builds</span><span class="p">,</span><span class="w"> </span><span class="n">run</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="o">-</span><span class="n">Z</span><span class="w"> </span><span class="kr">macro</span><span class="o">-</span><span class="n">backtrace</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">more</span><span class="w"> </span><span class="n">info</span><span class="p">)</span>
</code></pre></div>
<p>Any idea what it could be?</p>



<a name="477691020"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Error%20when%20compiling%20cranelift-codegen%200.110.2/near/477691020" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Error.20when.20compiling.20cranelift-codegen.200.2E110.2E2.html#477691020">(Oct 18 2024 at 16:26)</a>:</h4>
<p>looks like an issue with the ISLE build step -- is there an <code>isle_x64.rs</code> anywhere in your <code>target/</code> directory?</p>



<a name="477691097"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Error%20when%20compiling%20cranelift-codegen%200.110.2/near/477691097" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Error.20when.20compiling.20cranelift-codegen.200.2E110.2E2.html#477691097">(Oct 18 2024 at 16:27)</a>:</h4>
<p>also: you say "for the first time" -- what variable changed, new version of Rust, new Cranelift version, something else?</p>



<a name="477697318"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Error%20when%20compiling%20cranelift-codegen%200.110.2/near/477697318" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> edoardo <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Error.20when.20compiling.20cranelift-codegen.200.2E110.2E2.html#477697318">(Oct 18 2024 at 17:08)</a>:</h4>
<p>This is from an action I run on github to build a project: I have a run that compiles correctly and one that stably fails with that error. Nothing changed between the two runs, at least in my code (maybe something changed in gh's runners?)</p>



<a name="477707647"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Error%20when%20compiling%20cranelift-codegen%200.110.2/near/477707647" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Error.20when.20compiling.20cranelift-codegen.200.2E110.2E2.html#477707647">(Oct 18 2024 at 18:19)</a>:</h4>
<p>OK, the first thing I would do is try to reproduce locally, and then determine what exactly is new -- e.g. bisect compiler versions</p>



<a name="477707682"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Error%20when%20compiling%20cranelift-codegen%200.110.2/near/477707682" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Error.20when.20compiling.20cranelift-codegen.200.2E110.2E2.html#477707682">(Oct 18 2024 at 18:19)</a>:</h4>
<p>A local reproduction will also be necessary to debug this further</p>



<a name="479647372"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Error%20when%20compiling%20cranelift-codegen%200.110.2/near/479647372" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> edoardo <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Error.20when.20compiling.20cranelift-codegen.200.2E110.2E2.html#479647372">(Oct 30 2024 at 10:14)</a>:</h4>
<p>I was not able to reproduce it locally: what I ended up doing is removing the cache between each <code>cargo build</code> command in CI. However, I got a different one, still related to <code>cranelift-codegen</code>: <a href="https://docs.rs/crate/wasmer/5.0.0/builds/1485455">https://docs.rs/crate/wasmer/5.0.0/builds/1485455</a></p>



<a name="479706618"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Error%20when%20compiling%20cranelift-codegen%200.110.2/near/479706618" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Error.20when.20compiling.20cranelift-codegen.200.2E110.2E2.html#479706618">(Oct 30 2024 at 15:20)</a>:</h4>
<p>This looks like an issue with something outside of Cranelift's codebase: "read-only filesystem"</p>



<a name="479706660"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Error%20when%20compiling%20cranelift-codegen%200.110.2/near/479706660" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Error.20when.20compiling.20cranelift-codegen.200.2E110.2E2.html#479706660">(Oct 30 2024 at 15:20)</a>:</h4>
<p>I see this is part of a build of Wasmer; I would suggest going to them for further technical support</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>