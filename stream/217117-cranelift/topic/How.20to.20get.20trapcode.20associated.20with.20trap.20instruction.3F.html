<html>
<head><meta charset="utf-8"><title>How to get trapcode associated with trap instruction? · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/How.20to.20get.20trapcode.20associated.20with.20trap.20instruction.3F.html">How to get trapcode associated with trap instruction?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="471477552"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/How%20to%20get%20trapcode%20associated%20with%20trap%20instruction%3F/near/471477552" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Adel Prokurov <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/How.20to.20get.20trapcode.20associated.20with.20trap.20instruction.3F.html#471477552">(Sep 19 2024 at 12:40)</a>:</h4>
<p>Hello! I am compiling each function without usage of cranelift-object or cranelift-jit crates and instead allocate the code for bytes produced by <code>ctx.compile_and_emit()</code>. I don't quite get how to acquire text section offset from that? Is there any convenient method to get trap code associated with trap instruction?</p>



<a name="471483071"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/How%20to%20get%20trapcode%20associated%20with%20trap%20instruction%3F/near/471483071" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/How.20to.20get.20trapcode.20associated.20with.20trap.20instruction.3F.html#471483071">(Sep 19 2024 at 13:10)</a>:</h4>
<p>You can use <code>compiled_code.buffer.traps()</code> where <code>compiled_code</code> is the value returned by <code>compile_and_emit()</code> to get access to all offsets where a trap can happen as well as their trap code.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>