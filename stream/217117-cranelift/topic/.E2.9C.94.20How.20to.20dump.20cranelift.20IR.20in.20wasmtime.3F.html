<html>
<head><meta charset="utf-8"><title>✔ How to dump cranelift IR in wasmtime? · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20How.20to.20dump.20cranelift.20IR.20in.20wasmtime.3F.html">✔ How to dump cranelift IR in wasmtime?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="422566966"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/%E2%9C%94%20How%20to%20dump%20cranelift%20IR%20in%20wasmtime%3F/near/422566966" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Nakata <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20How.20to.20dump.20cranelift.20IR.20in.20wasmtime.3F.html#422566966">(Feb 21 2024 at 08:30)</a>:</h4>
<p>Hi everyone,<br>
I'm interested in Wasmtime's JIT and would like to read the IR it generates. I'm looking for information on how to dump the IR generated by the Cranelift JIT compiler. Do any of you know about such options or methods?</p>



<a name="422568618"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/%E2%9C%94%20How%20to%20dump%20cranelift%20IR%20in%20wasmtime%3F/near/422568618" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20How.20to.20dump.20cranelift.20IR.20in.20wasmtime.3F.html#422568618">(Feb 21 2024 at 08:41)</a>:</h4>
<p>You can use <code>wasmtime compile --emit-clif /path/to/some/directory your_program.wasm</code>.</p>



<a name="422570615"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/%E2%9C%94%20How%20to%20dump%20cranelift%20IR%20in%20wasmtime%3F/near/422570615" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Nakata <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20How.20to.20dump.20cranelift.20IR.20in.20wasmtime.3F.html#422570615">(Feb 21 2024 at 08:53)</a>:</h4>
<p>Thank you for your prompt reply! <br>
Is it correct to assume that the clif generated by  <code> wasmtime compile </code> option (AOT compilation) and the clif generated by JIT compilation are the same?</p>



<a name="422571101"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/%E2%9C%94%20How%20to%20dump%20cranelift%20IR%20in%20wasmtime%3F/near/422571101" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20How.20to.20dump.20cranelift.20IR.20in.20wasmtime.3F.html#422571101">(Feb 21 2024 at 08:57)</a>:</h4>
<p>Yes. In case of JIT compilation Wasmtime effectively does the same as AOT compilation, except that instead of writing the compilation output to a file, it maps it as executable in memory.</p>



<a name="422572815"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/%E2%9C%94%20How%20to%20dump%20cranelift%20IR%20in%20wasmtime%3F/near/422572815" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yuki Nakata <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20How.20to.20dump.20cranelift.20IR.20in.20wasmtime.3F.html#422572815">(Feb 21 2024 at 09:08)</a>:</h4>
<p>Thanks for the explanation! My question has been answered.</p>



<a name="422572842"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/%E2%9C%94%20How%20to%20dump%20cranelift%20IR%20in%20wasmtime%3F/near/422572842" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/.E2.9C.94.20How.20to.20dump.20cranelift.20IR.20in.20wasmtime.3F.html#422572842">(Feb 21 2024 at 09:08)</a>:</h4>
<p><span class="user-mention silent" data-user-id="264278">bjorn3</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>