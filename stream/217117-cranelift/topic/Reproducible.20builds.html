<html>
<head><meta charset="utf-8"><title>Reproducible builds · cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/index.html">cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Reproducible.20builds.html">Reproducible builds</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="183728500"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Reproducible%20builds/near/183728500" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Reproducible.20builds.html#183728500">(Dec 18 2019 at 08:16)</a>:</h4>
<p>I found a couple of sources of non-reproducible builds in cranelift. I'm currently working on fixing those; expect a couple of PRs soonish.</p>



<a name="183734573"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Reproducible%20builds/near/183734573" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Josh Triplett <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Reproducible.20builds.html#183734573">(Dec 18 2019 at 09:48)</a>:</h4>
<p>Nevermind, it looks like I rediscovered the work already done in cranelift commit 497b4e1ca1d33dfd54314366d8e3a27a9fea225f, which just isn't in current wasmtime. Would it be much trouble to do a cranelift release so wasmtime can depend on it?</p>



<a name="183735803"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Reproducible%20builds/near/183735803" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Bouvier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Reproducible.20builds.html#183735803">(Dec 18 2019 at 10:06)</a>:</h4>
<p>Yes, it's a good time, I'll do it! For what it's worth, I've added CI checks that the generated meta code is (very likely to be) deterministic, so we don't run into this ever again (this messes up with caching in build systems).</p>



<a name="183742458"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Reproducible%20builds/near/183742458" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Bouvier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Reproducible.20builds.html#183742458">(Dec 18 2019 at 11:39)</a>:</h4>
<p><span class="user-mention" data-user-id="254083">@Dan Gohman</span> I'm not an owner of all the cranelift crates, so I did a partial release, sorry. Can you add Yury and me as owners of cranelift-codegen-shared please? Thanks!</p>



<a name="183759790"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Reproducible%20builds/near/183759790" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Reproducible.20builds.html#183759790">(Dec 18 2019 at 15:28)</a>:</h4>
<p>Done -- log into <a href="http://crates.io" target="_blank" title="http://crates.io">crates.io</a> and check your Owner Invites</p>



<a name="183759888"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Reproducible%20builds/near/183759888" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Bouvier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Reproducible.20builds.html#183759888">(Dec 18 2019 at 15:29)</a>:</h4>
<p>Thank you!</p>



<a name="183761528"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Reproducible%20builds/near/183761528" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Bouvier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Reproducible.20builds.html#183761528">(Dec 18 2019 at 15:46)</a>:</h4>
<p>And it's done! 0.52.0 is now published and live.</p>



<a name="183770518"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Reproducible%20builds/near/183770518" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Reproducible.20builds.html#183770518">(Dec 18 2019 at 17:23)</a>:</h4>
<p>I marked the PR bringing 0.52.0 into wasmtime as ready for review if anyone has time: <a href="https://github.com/bytecodealliance/wasmtime/pull/710" target="_blank" title="https://github.com/bytecodealliance/wasmtime/pull/710">https://github.com/bytecodealliance/wasmtime/pull/710</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/710" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)" target="_blank"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/710" target="_blank" title="Update Cranelift to 0.52.0 by abrown · Pull Request #710 · bytecodealliance/wasmtime">Update Cranelift to 0.52.0 by abrown · Pull Request #710 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">This PR is a bit premature (since Cranelift v0.52.0 has not yet been published) but as I attempt to get SIMD spec tests working I need changes like these to build my locally-changing copy of Cranel...</div></div></div>



<a name="183770706"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Reproducible%20builds/near/183770706" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Sean Stangl <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Reproducible.20builds.html#183770706">(Dec 18 2019 at 17:25)</a>:</h4>
<p>Oh, into wasmtime, that's not my territory. I just saw "Andrew Brown" and jumped :)</p>



<a name="183771131"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Reproducible%20builds/near/183771131" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Reproducible.20builds.html#183771131">(Dec 18 2019 at 17:30)</a>:</h4>
<p><span class="user-mention" data-user-id="254391">@Sean Stangl</span> there's an easy one for <code>and_not</code> in cranelift coming your way!</p>



<a name="183791869"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217117-cranelift/topic/Reproducible%20builds/near/183791869" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217117-cranelift/topic/Reproducible.20builds.html#183791869">(Dec 18 2019 at 21:23)</a>:</h4>
<p>Unclear why the tests fail on beta :-(</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>