<html>
<head><meta charset="utf-8"><title>cranelift / PR #1340 Fix remaining clippy warnings · git-cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/index.html">git-cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html">cranelift / PR #1340 Fix remaining clippy warnings</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="185515787"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185515787" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185515787">(Jan 13 2020 at 17:34)</a>:</h4>
<p>abrown opened <a href="https://github.com/bytecodealliance/cranelift/pull/1340" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340">PR #1340</a> from <code>clippy</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>[x] This has been discussed in issue #1170</li>
<li>[x] A short description of what this does, why it is needed: this fixes the remaining clippy warnings that I could see from running <code>cargo clean &amp;&amp; cargo clippy</code> (is there a better way to do this?)</li>
<li>[x] This PR contains no test cases; no functionality should change</li>
<li>[x] A reviewer from the core maintainer team has been assigned for this PR</li>
</ul>
</blockquote>



<a name="185515788"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185515788" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185515788">(Jan 13 2020 at 17:34)</a>:</h4>
<p><strong>abrown</strong> requested <a href="https://github.com/bnjbvr" target="_blank" title="https://github.com/bnjbvr">bnjbvr</a> for a review on <a href="https://github.com/bytecodealliance/cranelift/pull/1340" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340">PR #1340</a>.</p>



<a name="185516683"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185516683" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185516683">(Jan 13 2020 at 17:44)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/cranelift/pull/1340" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340">PR #1340</a> from <code>clippy</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>[x] This has been discussed in issue #1170</li>
<li>[x] A short description of what this does, why it is needed: this fixes the remaining clippy warnings that I could see from running <code>cargo clean &amp;&amp; cargo clippy</code> (is there a better way to do this?)</li>
<li>[x] This PR contains no test cases; no functionality should change</li>
<li>[x] A reviewer from the core maintainer team has been assigned for this PR</li>
</ul>
</blockquote>



<a name="185576283"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185576283" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185576283">(Jan 14 2020 at 09:07)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-342377514" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-342377514">PR Review</a>.</p>



<a name="185633700"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185633700" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185633700">(Jan 14 2020 at 19:56)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/cranelift/pull/1340" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340">PR #1340</a> from <code>clippy</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>[x] This has been discussed in issue #1170</li>
<li>[x] A short description of what this does, why it is needed: this fixes the remaining clippy warnings that I could see from running <code>cargo clean &amp;&amp; cargo clippy</code> (is there a better way to do this?)</li>
<li>[x] This PR contains no test cases; no functionality should change</li>
<li>[x] A reviewer from the core maintainer team has been assigned for this PR</li>
</ul>
</blockquote>



<a name="185835799"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185835799" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185835799">(Jan 16 2020 at 17:05)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/cranelift/pull/1340" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340">PR #1340</a> from <code>clippy</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>[x] This has been discussed in issue #1170</li>
<li>[x] A short description of what this does, why it is needed: this fixes the remaining clippy warnings that I could see from running <code>cargo clean &amp;&amp; cargo clippy</code> (is there a better way to do this?)</li>
<li>[x] This PR contains no test cases; no functionality should change</li>
<li>[x] A reviewer from the core maintainer team has been assigned for this PR</li>
</ul>
</blockquote>



<a name="185839301"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185839301" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185839301">(Jan 16 2020 at 17:39)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/cranelift/pull/1340" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340">PR #1340</a> from <code>clippy</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>[x] This has been discussed in issue #1170</li>
<li>[x] A short description of what this does, why it is needed: this fixes the remaining clippy warnings that I could see from running <code>cargo clean &amp;&amp; cargo clippy</code> (is there a better way to do this?)</li>
<li>[x] This PR contains no test cases; no functionality should change</li>
<li>[x] A reviewer from the core maintainer team has been assigned for this PR</li>
</ul>
</blockquote>



<a name="185839898"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185839898" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185839898">(Jan 16 2020 at 17:44)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-344098004" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-344098004">PR Review</a>.</p>



<a name="185839899"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185839899" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185839899">(Jan 16 2020 at 17:44)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/cranelift/pull/1340#discussion_r367559626" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#discussion_r367559626">PR Review Comment</a>:</p>
<blockquote>
<p>@iximeow, @yurydelendik: here it is! (With an extra variable assignment)</p>
</blockquote>



<a name="185840080"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185840080" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185840080">(Jan 16 2020 at 17:46)</a>:</h4>
<p>iximeow submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-344099362" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-344099362">PR Review</a>.</p>



<a name="185840081"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185840081" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185840081">(Jan 16 2020 at 17:46)</a>:</h4>
<p>iximeow created <a href="https://github.com/bytecodealliance/cranelift/pull/1340#discussion_r367560639" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#discussion_r367560639">PR Review Comment</a>:</p>
<blockquote>
<p>@yurydelendik Do you recall what this u32 specifically is? It's a count of FDEs or something, right? It'd be nice if we could use that name instead of <code>fde_first_u32</code>.</p>
</blockquote>



<a name="185842755"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185842755" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185842755">(Jan 16 2020 at 18:14)</a>:</h4>
<p>yurydelendik submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-344115672" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-344115672">PR Review</a>.</p>



<a name="185842756"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185842756" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185842756">(Jan 16 2020 at 18:14)</a>:</h4>
<p>yurydelendik created <a href="https://github.com/bytecodealliance/cranelift/pull/1340#discussion_r367573181" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#discussion_r367573181">PR Review Comment</a>:</p>
<blockquote>
<p>As discussed <a href="https://github.com/bytecodealliance/cranelift/pull/1320#discussion_r366607644" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320#discussion_r366607644">in previous PR</a>, gimli does not provide right API to get all data needed. It is a field (u32) that show length of the CIE, so the len and 4 u32 bytes is offset of the FDE structure that follows CIE.</p>
</blockquote>



<a name="185843962"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185843962" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185843962">(Jan 16 2020 at 18:27)</a>:</h4>
<p>abrown submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-344123026" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-344123026">PR Review</a>.</p>



<a name="185843963"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185843963" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185843963">(Jan 16 2020 at 18:27)</a>:</h4>
<p>abrown created <a href="https://github.com/bytecodealliance/cranelift/pull/1340#discussion_r367578656" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#discussion_r367578656">PR Review Comment</a>:</p>
<blockquote>
<p>Should I rename <code>fde_first_u32</code> as <code>cie_len</code>?</p>
</blockquote>



<a name="185860747"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185860747" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185860747">(Jan 16 2020 at 21:11)</a>:</h4>
<p>philipc submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-344218544" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-344218544">PR Review</a>.</p>



<a name="185860748"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185860748" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185860748">(Jan 16 2020 at 21:11)</a>:</h4>
<p>philipc created <a href="https://github.com/bytecodealliance/cranelift/pull/1340#discussion_r367651741" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#discussion_r367651741">PR Review Comment</a>:</p>
<blockquote>
<p>Nit: the expect message is wrong. That <code>try_into</code> isn't checking there were 4 bytes at the beginning of <code>bytes</code>. It's checking that the slice passed to <code>try_into</code> is 4 bytes, which will always be true because we indexed with a range of <code>[..4]</code>. If there were less than 4 bytes, then there would be a panic on the slice indexing, not on the <code>try_into().expect()</code>. IMO using <code>unwrap</code> is fine in this case.</p>
</blockquote>



<a name="185866763"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185866763" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185866763">(Jan 16 2020 at 22:04)</a>:</h4>
<p>abrown updated <a href="https://github.com/bytecodealliance/cranelift/pull/1340" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340">PR #1340</a> from <code>clippy</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>[x] This has been discussed in issue #1170</li>
<li>[x] A short description of what this does, why it is needed: this fixes the remaining clippy warnings that I could see from running <code>cargo clean &amp;&amp; cargo clippy</code> (is there a better way to do this?)</li>
<li>[x] This PR contains no test cases; no functionality should change</li>
<li>[x] A reviewer from the core maintainer team has been assigned for this PR</li>
</ul>
</blockquote>



<a name="185950884"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185950884" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185950884">(Jan 17 2020 at 19:59)</a>:</h4>
<p>yurydelendik submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-342377514" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-342377514">PR Review</a>.</p>



<a name="185950998"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185950998" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185950998">(Jan 17 2020 at 20:00)</a>:</h4>
<p>yurydelendik submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-344810639" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340#pullrequestreview-344810639">PR Review</a>.</p>



<a name="185951270"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231340%20Fix%20remaining%20clippy%20warnings/near/185951270" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231340.20Fix.20remaining.20clippy.20warnings.html#185951270">(Jan 17 2020 at 20:03)</a>:</h4>
<p>yurydelendik merged <a href="https://github.com/bytecodealliance/cranelift/pull/1340" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1340">PR #1340</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>