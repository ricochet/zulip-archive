<html>
<head><meta charset="utf-8"><title>cranelift / Issue #1317 Improve support for reference-types · git-cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/index.html">git-cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231317.20Improve.20support.20for.20reference-types.html">cranelift / Issue #1317 Improve support for reference-types</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="185534938"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231317%20Improve%20support%20for%20reference-types/near/185534938" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231317.20Improve.20support.20for.20reference-types.html#185534938">(Jan 13 2020 at 20:39)</a>:</h4>
<p>eqrion <a href="https://github.com/bytecodealliance/cranelift/pull/1317#issuecomment-573859445" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1317#issuecomment-573859445">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1317" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1317">Issue #1317</a>:</p>
<blockquote>
<p>I've found an issue through more extensive testing, this isn't ready for review.</p>
</blockquote>



<a name="186202999"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231317%20Improve%20support%20for%20reference-types/near/186202999" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231317.20Improve.20support.20for.20reference-types.html#186202999">(Jan 21 2020 at 16:57)</a>:</h4>
<p>eqrion <a href="https://github.com/bytecodealliance/cranelift/pull/1317#issuecomment-576776877" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1317#issuecomment-576776877">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1317" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1317">Issue #1317</a>:</p>
<blockquote>
<blockquote>
<p>I've found an issue through more extensive testing, this isn't ready for review.</p>
</blockquote>
<p>That was a false alarm, I was getting a timeout in a non-standard configuration. Upon further investigation, it looks like it's just caused by a very slow implementation of barriers. So this should be ready for review.</p>
</blockquote>



<a name="186300251"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231317%20Improve%20support%20for%20reference-types/near/186300251" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231317.20Improve.20support.20for.20reference-types.html#186300251">(Jan 22 2020 at 16:01)</a>:</h4>
<p>eqrion <a href="https://github.com/bytecodealliance/cranelift/pull/1317#issuecomment-577256523" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1317#issuecomment-577256523">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1317" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1317">Issue #1317</a>:</p>
<blockquote>
<blockquote>
<p>Code looks good to me, but I think it should be possible to have some tests, right? I don't think we actually need to manufacture any reference types to have tests (which would require askign how we're going to manage their lifetimes) and can instead have test functions that take <code>r32</code> and <code>r64</code> parameters and put them in tables and all that. I think we should be able to do that even in the dummy environment.</p>
</blockquote>
<p>That seems plausible to me. I'm not very familiar with the testing architecture, so I'll need to do some investigation. I'll try to do that today or tomorrow.</p>
</blockquote>



<a name="186400358"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231317%20Improve%20support%20for%20reference-types/near/186400358" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231317.20Improve.20support.20for.20reference-types.html#186400358">(Jan 23 2020 at 15:36)</a>:</h4>
<p>eqrion <a href="https://github.com/bytecodealliance/cranelift/pull/1317#issuecomment-577735113" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1317#issuecomment-577735113">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1317" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1317">Issue #1317</a>:</p>
<blockquote>
<p>I've now added a basic test for r32 and r64, removed the out-of-date comments, and updated the documentation on <code>StackMap</code> to more thoroughly explain the representation.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>