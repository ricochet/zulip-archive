<html>
<head><meta charset="utf-8"><title>cranelift / PR #1301 Merge emit_small_memcpy and emit_sma... · git-cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/index.html">git-cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html">cranelift / PR #1301 Merge emit_small_memcpy and emit_sma...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="183881166"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/183881166" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#183881166">(Dec 19 2019 at 20:16)</a>:</h4>
<p>bjorn3 opened <a href="https://github.com/bytecodealliance/cranelift/pull/1301" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301">PR #1301</a> from <code>group_small_memcpy_load_store</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>
<p>[x] This has been discussed in issue #..., or if not, please tell us why<br>
  here. This is mostly a cleanup.</p>
</li>
<li>
<p>[x] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first. They share a lot of code. Also by performing all loads before all stores, the performance of the simple-raytracer cg_clif benchmark increases by 1%.</p>
</li>
<li>
<p>[x] This PR contains test cases, if meaningful. N/A</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so and/or ping<br>
<code>bnjbvr</code>. &lt;strike&gt;The list of suggested reviewers on the right can help you.&lt;/strike&gt; (no list for non members)</li>
</ul>
<p>&lt;!-- Please ensure all communication adheres to the <a href="https://github.com/CraneStation/cranelift/blob/master/CODE_OF_CONDUCT.md" target="_blank" title="https://github.com/CraneStation/cranelift/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>. --&gt;</p>
</blockquote>



<a name="183881193"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/183881193" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#183881193">(Dec 19 2019 at 20:17)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/cranelift/pull/1301" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301">PR #1301</a> from <code>group_small_memcpy_load_store</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>
<p>[x] This has been discussed in issue #..., or if not, please tell us why<br>
  here. This is mostly a cleanup.</p>
</li>
<li>
<p>[x] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first. They share a lot of code. Also by performing all loads before all stores, the performance of the simple-raytracer cg_clif benchmark increases by 1%.</p>
</li>
<li>
<p>[x] This PR contains test cases, if meaningful. N/A</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so and/or ping<br>
<code>bnjbvr</code>. &lt;strike&gt;The list of suggested reviewers on the right can help you.&lt;/strike&gt; (no list for non members)</li>
</ul>
<p>&lt;!-- Please ensure all communication adheres to the <a href="https://github.com/CraneStation/cranelift/blob/master/CODE_OF_CONDUCT.md" target="_blank" title="https://github.com/CraneStation/cranelift/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>. --&gt;</p>
</blockquote>



<a name="183887396"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/183887396" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#183887396">(Dec 19 2019 at 21:32)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1301#pullrequestreview-334944040" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301#pullrequestreview-334944040">PR Review</a>.</p>



<a name="183887397"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/183887397" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#183887397">(Dec 19 2019 at 21:32)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1301#pullrequestreview-334944040" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301#pullrequestreview-334944040">PR Review</a>.</p>



<a name="183887410"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/183887410" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#183887410">(Dec 19 2019 at 21:32)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/cranelift/pull/1301#discussion_r360127049" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301#discussion_r360127049">PR Review Comment</a>:</p>
<blockquote>
<p>Pre-existing, but this needs to compare <code>{src,dest}_align</code> with <code>access_size</code>.</p>
</blockquote>



<a name="188094765"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/188094765" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#188094765">(Feb 13 2020 at 10:44)</a>:</h4>
<p><strong>bnjbvr</strong> requested <a href="https://github.com/eqrion" target="_blank" title="https://github.com/eqrion">eqrion</a> for a review on <a href="https://github.com/bytecodealliance/cranelift/pull/1301" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301">PR #1301</a>.</p>



<a name="188235864"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/188235864" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#188235864">(Feb 14 2020 at 19:06)</a>:</h4>
<p>eqrion submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1301#pullrequestreview-359154661" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301#pullrequestreview-359154661">PR Review</a>.</p>



<a name="188235866"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/188235866" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#188235866">(Feb 14 2020 at 19:06)</a>:</h4>
<p>eqrion created <a href="https://github.com/bytecodealliance/cranelift/pull/1301#discussion_r379594642" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301#discussion_r379594642">PR Review Comment</a>:</p>
<blockquote>
<p><code>src cq dest</code></p>
<p>Is <code>cq</code> a typo or am I missing an abbreviation?</p>
</blockquote>



<a name="188235867"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/188235867" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#188235867">(Feb 14 2020 at 19:06)</a>:</h4>
<p>eqrion submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1301#pullrequestreview-359154661" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301#pullrequestreview-359154661">PR Review</a>.</p>



<a name="188236604"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/188236604" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#188236604">(Feb 14 2020 at 19:14)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/cranelift/pull/1301" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301">PR #1301</a> from <code>group_small_memcpy_load_store</code> to <code>master</code>:</p>
<blockquote>
<ul>
<li>
<p>[x] This has been discussed in issue #..., or if not, please tell us why<br>
  here. This is mostly a cleanup.</p>
</li>
<li>
<p>[x] A short description of what this does, why it is needed; if the<br>
  description becomes long, the matter should probably be discussed in an issue<br>
  first. They share a lot of code. Also by performing all loads before all stores, the performance of the simple-raytracer cg_clif benchmark increases by 1%.</p>
</li>
<li>
<p>[x] This PR contains test cases, if meaningful. N/A</p>
</li>
<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so and/or ping<br>
<code>bnjbvr</code>. &lt;strike&gt;The list of suggested reviewers on the right can help you.&lt;/strike&gt; (no list for non members)</li>
</ul>
<p>&lt;!-- Please ensure all communication adheres to the <a href="https://github.com/CraneStation/cranelift/blob/master/CODE_OF_CONDUCT.md" target="_blank" title="https://github.com/CraneStation/cranelift/blob/master/CODE_OF_CONDUCT.md">code of
conduct</a>. --&gt;</p>
</blockquote>



<a name="188236616"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/188236616" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#188236616">(Feb 14 2020 at 19:14)</a>:</h4>
<p>bjorn3 created <a href="https://github.com/bytecodealliance/cranelift/pull/1301#discussion_r379599747" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301#discussion_r379599747">PR Review Comment</a>:</p>
<blockquote>
<p>It seems that <code>cq</code> is a Dutch abbreviation: <a href="https://nl.m.wikipedia.org/wiki/Casu_quo" target="_blank" title="https://nl.m.wikipedia.org/wiki/Casu_quo">https://nl.m.wikipedia.org/wiki/Casu_quo</a>. I also used it wrong. :man_facepalming: I meant: <code>src_align</code> is the upper-bound on the alignment of <code>src</code> and <code>dest_align</code> is the upper-bound on the alignment of <code>dest</code>. I replaced it with <code>respectively</code>.</p>
</blockquote>



<a name="188236617"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/188236617" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#188236617">(Feb 14 2020 at 19:14)</a>:</h4>
<p>bjorn3 submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1301#pullrequestreview-359161419" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301#pullrequestreview-359161419">PR Review</a>.</p>



<a name="188254522"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231301%20Merge%20emit_small_memcpy%20and%20emit_sma.../near/188254522" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231301.20Merge.20emit_small_memcpy.20and.20emit_sma.2E.2E.2E.html#188254522">(Feb 14 2020 at 22:44)</a>:</h4>
<p>eqrion merged <a href="https://github.com/bytecodealliance/cranelift/pull/1301" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1301">PR #1301</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>