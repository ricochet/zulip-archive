<html>
<head><meta charset="utf-8"><title>cranelift / Issue #1320 Refactor unwind; add FDE support. · git-cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/index.html">git-cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231320.20Refactor.20unwind.3B.20add.20FDE.20support.2E.html">cranelift / Issue #1320 Refactor unwind; add FDE support.</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="185357053"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231320%20Refactor%20unwind%3B%20add%20FDE%20support./near/185357053" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231320.20Refactor.20unwind.3B.20add.20FDE.20support.2E.html#185357053">(Jan 10 2020 at 22:16)</a>:</h4>
<p>yurydelendik <a href="https://github.com/bytecodealliance/cranelift/pull/1320#issuecomment-573227197" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320#issuecomment-573227197">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1320" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320">Issue #1320</a>:</p>
<blockquote>
<blockquote>
<p>I also think a follow-up PR to make <a href="http://test_unwind.rs" target="_blank" title="http://test_unwind.rs">test_unwind.rs</a> more generic so that it supports FDE generation in addition to Windows unwind information would be ideal.</p>
</blockquote>
<p>Yeah, currently I added "<a href="http://test_fde.rs" target="_blank" title="http://test_fde.rs">test_fde.rs</a>" -- it will match how wasmtime will use the functionality, by using FrameUnwindKind parameter.</p>
</blockquote>



<a name="185357441"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231320%20Refactor%20unwind%3B%20add%20FDE%20support./near/185357441" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231320.20Refactor.20unwind.3B.20add.20FDE.20support.2E.html#185357441">(Jan 10 2020 at 22:23)</a>:</h4>
<p>peterhuene <a href="https://github.com/bytecodealliance/cranelift/pull/1320#issuecomment-573229280" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320#issuecomment-573229280">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1320" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320">Issue #1320</a>:</p>
<blockquote>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
<p>I think in a future PR we might want to unify the <code>unwind</code> and <code>fde</code> subtests so that it'll print out the right thing depending on the given function's ABI and calling convention.</p>
<p>I feel that <code>unwind</code> is too generic a term to mean  just Windows unwind information, so it might lead to confusing in the long run.  Perhaps something to revisit when we further abstract things.</p>
</blockquote>



<a name="185357461"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231320%20Refactor%20unwind%3B%20add%20FDE%20support./near/185357461" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231320.20Refactor.20unwind.3B.20add.20FDE.20support.2E.html#185357461">(Jan 10 2020 at 22:23)</a>:</h4>
<p>peterhuene edited a <a href="https://github.com/bytecodealliance/cranelift/pull/1320#issuecomment-573229280" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320#issuecomment-573229280">comment</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1320" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320">Issue #1320</a>:</p>
<blockquote>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span> </p>
<p>I think in a future PR we might want to unify the <code>unwind</code> and <code>fde</code> subtests so that it'll print out the right thing depending on the given function's ABI and calling convention.</p>
<p>I feel that <code>unwind</code> is too generic a term to mean  just Windows unwind information, so it might lead to confusion in the long run.  Perhaps something to revisit when we further abstract things.</p>
</blockquote>



<a name="185533024"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231320%20Refactor%20unwind%3B%20add%20FDE%20support./near/185533024" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231320.20Refactor.20unwind.3B.20add.20FDE.20support.2E.html#185533024">(Jan 13 2020 at 20:17)</a>:</h4>
<p>iximeow <a href="https://github.com/bytecodealliance/cranelift/pull/1320#issuecomment-573850746" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320#issuecomment-573850746">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1320" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320">Issue #1320</a>:</p>
<blockquote>
<p>sorry for the late comments - I was out last week and as a result wasn't checking <code>cranelift</code> too closely. I do have a few comments, but I expect them to be subsequent PRs, and would like to discuss a bit first.</p>
</blockquote>



<a name="185538186"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231320%20Refactor%20unwind%3B%20add%20FDE%20support./near/185538186" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231320.20Refactor.20unwind.3B.20add.20FDE.20support.2E.html#185538186">(Jan 13 2020 at 21:12)</a>:</h4>
<p>yurydelendik <a href="https://github.com/bytecodealliance/cranelift/pull/1320#issuecomment-573872848" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320#issuecomment-573872848">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1320" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320">Issue #1320</a>:</p>
<blockquote>
<blockquote>
<p>I do have a few comments, but I expect them to be subsequent PRs</p>
</blockquote>
<p>@iximeow thank you for review, I'll try to get back to them shortly after bytecodealliance/wasmtime#759 . As @peterhuene noted, there will be more refactoring connected with generalizing unwind information.</p>
</blockquote>



<a name="185680606"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231320%20Refactor%20unwind%3B%20add%20FDE%20support./near/185680606" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231320.20Refactor.20unwind.3B.20add.20FDE.20support.2E.html#185680606">(Jan 15 2020 at 09:17)</a>:</h4>
<p>bnjbvr <a href="https://github.com/bytecodealliance/cranelift/pull/1320#issuecomment-574568006" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320#issuecomment-574568006">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1320" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1320">Issue #1320</a>:</p>
<blockquote>
<p>Random drive-by comment for a future PR: can you explicit what the acronym FDE means, at the top of the <a href="http://fde.rs" target="_blank" title="http://fde.rs">fde.rs</a> file, for instance?</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>