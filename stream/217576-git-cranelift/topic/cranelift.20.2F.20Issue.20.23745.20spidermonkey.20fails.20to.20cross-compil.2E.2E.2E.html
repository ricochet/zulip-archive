<html>
<head><meta charset="utf-8"><title>cranelift / Issue #745 spidermonkey fails to cross-compil... · git-cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/index.html">git-cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.23745.20spidermonkey.20fails.20to.20cross-compil.2E.2E.2E.html">cranelift / Issue #745 spidermonkey fails to cross-compil...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="189361434"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%23745%20spidermonkey%20fails%20to%20cross-compil.../near/189361434" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.23745.20spidermonkey.20fails.20to.20cross-compil.2E.2E.2E.html#189361434">(Feb 28 2020 at 23:25)</a>:</h4>
<p>alexcrichton transferred <a href="https://github.com/bytecodealliance/cranelift/issues/745" target="_blank" title="https://github.com/bytecodealliance/cranelift/issues/745">Issue #745</a>:</p>
<blockquote>
<p>this is initially a bug in spidermonkey, but we're running out of ideas what the cause of this might be in the end. So do you think you could give some insight wether it might be caused by cranelift? </p>
<div class="codehilite"><pre><span></span>how to reproduce:

download master.zip from https://github.com/mozilla/gecko-dev and unzip, then:

cd gecko-dev-master/js/src/
autoconf-2.13
mkdir build_OPT.OBJ &amp;&amp; cd build_OPT.OBJ

../configure --target=aarch64-unknown-linux-gnu --disable-jemalloc --enable-readline --with-system-nspr --with-system-zlib --disable-optimize --with-intl-api --with-system-icu --disable-debug --enable-ion --disable-tests

make -j12

it fails with this error:

--- stderr
/usr/include/gnu/stubs.h:7:11: fatal error: &#39;gnu/stubs-32.h&#39; file not found
/usr/include/gnu/stubs.h:7:11: fatal error: &#39;gnu/stubs-32.h&#39; file not found, err: true
thread &#39;main&#39; panicked at &#39;Unable to generate baldrapi.h bindings: ()&#39;, src/libcore/result.rs:1009:5
</pre></div>


<p>seems as if 32bit headers are pulled into a 64bit process? </p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>