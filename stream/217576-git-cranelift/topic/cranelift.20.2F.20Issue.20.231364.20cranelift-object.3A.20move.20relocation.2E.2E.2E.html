<html>
<head><meta charset="utf-8"><title>cranelift / Issue #1364 cranelift-object: move relocation... · git-cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/index.html">git-cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231364.20cranelift-object.3A.20move.20relocation.2E.2E.2E.html">cranelift / Issue #1364 cranelift-object: move relocation...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="186531920"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231364%20cranelift-object%3A%20move%20relocation.../near/186531920" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231364.20cranelift-object.3A.20move.20relocation.2E.2E.2E.html#186531920">(Jan 24 2020 at 20:41)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/cranelift/pull/1364#issuecomment-578293096" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1364#issuecomment-578293096">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1364" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1364">Issue #1364</a>:</p>
<blockquote>
<p>I think <code>finalize_definition</code> may makes sense to be called multiple times in for example a C JIT. After every function definition all pending relocations are likely either resolved outside the current compilation unit, or resolved to a previously defined function. This means that you could immediately perform the relocation of the code without a list of pending relocations consuming unnecessary memory.</p>
</blockquote>



<a name="186534520"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231364%20cranelift-object%3A%20move%20relocation.../near/186534520" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231364.20cranelift-object.3A.20move.20relocation.2E.2E.2E.html#186534520">(Jan 24 2020 at 21:11)</a>:</h4>
<p>iximeow <a href="https://github.com/bytecodealliance/cranelift/pull/1364#issuecomment-578303891" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1364#issuecomment-578303891">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1364" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1364">Issue #1364</a>:</p>
<blockquote>
<p>In that case, wouldn't the C JIT would have a custom <code>Backend</code> implementation that (hopefully) makes that usage clear in its documentation? I mostly want to be sure that uses of <code>cranelift-module</code> in-tree here are clear about how they should be used.</p>
<p>I'm not sure if trying to write a C JIT on top of cranelift-object would be ideal..</p>
</blockquote>



<a name="186536967"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231364%20cranelift-object%3A%20move%20relocation.../near/186536967" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231364.20cranelift-object.3A.20move.20relocation.2E.2E.2E.html#186536967">(Jan 24 2020 at 21:40)</a>:</h4>
<p>bjorn3 <a href="https://github.com/bytecodealliance/cranelift/pull/1364#issuecomment-578312485" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1364#issuecomment-578312485">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1364" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1364">Issue #1364</a>:</p>
<blockquote>
<p>Yeah, a C jit would probably use simplejit. It may want to support aot too though, in which case it would be nice to still support <code>finalize_definitions</code> to be able to make the actual C -&gt; clif part generic over the backend.</p>
</blockquote>



<a name="187804162"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231364%20cranelift-object%3A%20move%20relocation.../near/187804162" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231364.20cranelift-object.3A.20move.20relocation.2E.2E.2E.html#187804162">(Feb 10 2020 at 10:38)</a>:</h4>
<p>philipc <a href="https://github.com/bytecodealliance/cranelift/pull/1364#issuecomment-584059450" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1364#issuecomment-584059450">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1364" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1364">Issue #1364</a>:</p>
<blockquote>
<p>Do I need to do anything more to get this merged?</p>
</blockquote>



<a name="187804324"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231364%20cranelift-object%3A%20move%20relocation.../near/187804324" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231364.20cranelift-object.3A.20move.20relocation.2E.2E.2E.html#187804324">(Feb 10 2020 at 10:41)</a>:</h4>
<p>bnjbvr <a href="https://github.com/bytecodealliance/cranelift/pull/1364#issuecomment-584060844" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1364#issuecomment-584060844">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/1364" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1364">Issue #1364</a>:</p>
<blockquote>
<p>@philipc nope. Merging on behalf of @iximeow who approved.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>