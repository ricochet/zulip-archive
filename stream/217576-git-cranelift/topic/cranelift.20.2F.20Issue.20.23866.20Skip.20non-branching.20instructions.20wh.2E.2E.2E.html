<html>
<head><meta charset="utf-8"><title>cranelift / Issue #866 Skip non-branching instructions wh... · git-cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/index.html">git-cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.23866.20Skip.20non-branching.20instructions.20wh.2E.2E.2E.html">cranelift / Issue #866 Skip non-branching instructions wh...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="186271098"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%23866%20Skip%20non-branching%20instructions%20wh.../near/186271098" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.23866.20Skip.20non-branching.20instructions.20wh.2E.2E.2E.html#186271098">(Jan 22 2020 at 09:57)</a>:</h4>
<p>bnjbvr <a href="https://github.com/bytecodealliance/cranelift/pull/866#issuecomment-577102912" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/866#issuecomment-577102912">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/866" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/866">Issue #866</a>:</p>
<blockquote>
<p>@nbp ping? (see previous comment)</p>
</blockquote>



<a name="186275840"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%23866%20Skip%20non-branching%20instructions%20wh.../near/186275840" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.23866.20Skip.20non-branching.20instructions.20wh.2E.2E.2E.html#186275840">(Jan 22 2020 at 11:06)</a>:</h4>
<p>nbp milestoned <a href="https://github.com/bytecodealliance/cranelift/pull/866" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/866">Issue #866</a>:</p>
<blockquote>
<p>This changes are replacing the iteration over all instructions by an iteration over the last 2 instructions of basic blocks, when <code>basic-blocks</code> feature is enabled.</p>
<p>I am confident this change is likely improving performances. However, until the front-end is completely fixed to generate valid basic blocks, we have no way to check the performances of this code on benchmarks.</p>
<p>I tried running the test suite, but it takes less than a second, which does not give me much confidence.</p>
</blockquote>



<a name="186275845"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%23866%20Skip%20non-branching%20instructions%20wh.../near/186275845" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.23866.20Skip.20non-branching.20instructions.20wh.2E.2E.2E.html#186275845">(Jan 22 2020 at 11:06)</a>:</h4>
<p>nbp demilestoned <a href="https://github.com/bytecodealliance/cranelift/pull/866" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/866">Issue #866</a>:</p>
<blockquote>
<p>This changes are replacing the iteration over all instructions by an iteration over the last 2 instructions of basic blocks, when <code>basic-blocks</code> feature is enabled.</p>
<p>I am confident this change is likely improving performances. However, until the front-end is completely fixed to generate valid basic blocks, we have no way to check the performances of this code on benchmarks.</p>
<p>I tried running the test suite, but it takes less than a second, which does not give me much confidence.</p>
</blockquote>



<a name="186276129"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%23866%20Skip%20non-branching%20instructions%20wh.../near/186276129" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.23866.20Skip.20non-branching.20instructions.20wh.2E.2E.2E.html#186276129">(Jan 22 2020 at 11:10)</a>:</h4>
<p>nbp <a href="https://github.com/bytecodealliance/cranelift/pull/866#issuecomment-577131952" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/866#issuecomment-577131952">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/866" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/866">Issue #866</a>:</p>
<blockquote>
<p>I think this PR was quite complete at the time, it was only a draft as it depend on the "new" bb.</p>
</blockquote>



<a name="186499461"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%23866%20Skip%20non-branching%20instructions%20wh.../near/186499461" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.23866.20Skip.20non-branching.20instructions.20wh.2E.2E.2E.html#186499461">(Jan 24 2020 at 15:05)</a>:</h4>
<p>eqrion <a href="https://github.com/bytecodealliance/cranelift/pull/866#issuecomment-578167662" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/866#issuecomment-578167662">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/866" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/866">Issue #866</a>:</p>
<blockquote>
<blockquote>
<p>This looks good to me. @nbp do you have time to rebase this? If not I can take this and rebase it.</p>
</blockquote>
<p>This will require a change now that #1363 has been merged, as the feature gate has been removed.</p>
</blockquote>



<a name="187404270"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%23866%20Skip%20non-branching%20instructions%20wh.../near/187404270" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.23866.20Skip.20non-branching.20instructions.20wh.2E.2E.2E.html#187404270">(Feb 04 2020 at 21:48)</a>:</h4>
<p>eqrion <a href="https://github.com/bytecodealliance/cranelift/pull/866#issuecomment-582131672" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/866#issuecomment-582131672">commented</a> on <a href="https://github.com/bytecodealliance/cranelift/pull/866" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/866">Issue #866</a>:</p>
<blockquote>
<blockquote>
<blockquote>
<p>This looks good to me. @nbp do you have time to rebase this? If not I can take this and rebase it.</p>
</blockquote>
<p>This will require a change now that #1363 has been merged, as the feature gate has been removed.</p>
</blockquote>
<p>I'm going to work on this after #1365 is merged. I don't this commit will apply at all after then, so I'll probably end up rewriting it and attributing @nbp.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>