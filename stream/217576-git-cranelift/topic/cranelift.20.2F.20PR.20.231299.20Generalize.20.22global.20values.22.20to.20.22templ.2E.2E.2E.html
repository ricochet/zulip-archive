<html>
<head><meta charset="utf-8"><title>cranelift / PR #1299 Generalize &quot;global values&quot; to &quot;templ... · git-cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/index.html">git-cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231299.20Generalize.20.22global.20values.22.20to.20.22templ.2E.2E.2E.html">cranelift / PR #1299 Generalize &quot;global values&quot; to &quot;templ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="183792436"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231299%20Generalize%20%22global%20values%22%20to%20%22templ.../near/183792436" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231299.20Generalize.20.22global.20values.22.20to.20.22templ.2E.2E.2E.html#183792436">(Dec 18 2019 at 21:31)</a>:</h4>
<p>sunfishcode opened <a href="https://github.com/bytecodealliance/cranelift/pull/1299" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1299">PR #1299</a> from <code>templates</code> to <code>master</code>:</p>
<blockquote>
<p>Rename "global values" to "templates", to better describe their role as<br>
expressions which can be provided by frontends and expanded by the code<br>
generator as needed. And, start to generalize them, by introducing<br>
<code>Call</code> and <code>IfElse</code> templates.</p>
<p>This is a step towards generalizing templates into a form that can be<br>
independent of Cranelift, and allow embedding environments to provide a<br>
single description of their data structures which is independent of any<br>
specific JIT. And, it's a step toward being able to use templates to<br>
describe GC barrier instruction sequences.</p>
<p>This also helps avoid some confusion between Cranelift IR global values,<br>
wasm global variables, global variable data objects, and "global"<br>
variables in regalloc.</p>
<ul>
<li>[x] No issue; this is a largely mechanical change that didn't take too long to put together, so it seemed easier to just stand up a patch so that we can talk about it. Reviewers shouldn't hesitate to push back or ask for broad changes.</li>
<li>[x] See the commit message above for a description.</li>
<li>[X] This PR updates existing tests as needed.</li>
<li>[X] Reviewers selected.</li>
</ul>
</blockquote>



<a name="183792438"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231299%20Generalize%20%22global%20values%22%20to%20%22templ.../near/183792438" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231299.20Generalize.20.22global.20values.22.20to.20.22templ.2E.2E.2E.html#183792438">(Dec 18 2019 at 21:31)</a>:</h4>
<p><strong>sunfishcode</strong> requested <a href="https://github.com/fitzgen" target="_blank" title="https://github.com/fitzgen">fitzgen</a>, and <a href="https://github.com/bnjbvr" target="_blank" title="https://github.com/bnjbvr">bnjbvr</a> for a review on <a href="https://github.com/bytecodealliance/cranelift/pull/1299" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1299">PR #1299</a>.</p>



<a name="183792440"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231299%20Generalize%20%22global%20values%22%20to%20%22templ.../near/183792440" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231299.20Generalize.20.22global.20values.22.20to.20.22templ.2E.2E.2E.html#183792440">(Dec 18 2019 at 21:31)</a>:</h4>
<p><strong>sunfishcode</strong> requested <a href="https://github.com/fitzgen" target="_blank" title="https://github.com/fitzgen">fitzgen</a>, and <a href="https://github.com/bnjbvr" target="_blank" title="https://github.com/bnjbvr">bnjbvr</a> for a review on <a href="https://github.com/bytecodealliance/cranelift/pull/1299" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1299">PR #1299</a>.</p>



<a name="183794275"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231299%20Generalize%20%22global%20values%22%20to%20%22templ.../near/183794275" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231299.20Generalize.20.22global.20values.22.20to.20.22templ.2E.2E.2E.html#183794275">(Dec 18 2019 at 21:52)</a>:</h4>
<p>sunfishcode updated <a href="https://github.com/bytecodealliance/cranelift/pull/1299" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1299">PR #1299</a> from <code>templates</code> to <code>master</code>:</p>
<blockquote>
<p>Rename "global values" to "templates", to better describe their role as<br>
expressions which can be provided by frontends and expanded by the code<br>
generator as needed. And, start to generalize them, by introducing<br>
<code>Call</code> and <code>IfElse</code> templates.</p>
<p>This is a step towards generalizing templates into a form that can be<br>
independent of Cranelift, and allow embedding environments to provide a<br>
single description of their data structures which is independent of any<br>
specific JIT. And, it's a step toward being able to use templates to<br>
describe GC barrier instruction sequences.</p>
<p>This also helps avoid some confusion between Cranelift IR global values,<br>
wasm global variables, global variable data objects, and "global"<br>
variables in regalloc.</p>
<ul>
<li>[x] No issue; this is a largely mechanical change that didn't take too long to put together, so it seemed easier to just stand up a patch so that we can talk about it. Reviewers shouldn't hesitate to push back or ask for broad changes.</li>
<li>[x] See the commit message above for a description.</li>
<li>[X] This PR updates existing tests as needed.</li>
<li>[X] Reviewers selected.</li>
</ul>
</blockquote>



<a name="183795248"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231299%20Generalize%20%22global%20values%22%20to%20%22templ.../near/183795248" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231299.20Generalize.20.22global.20values.22.20to.20.22templ.2E.2E.2E.html#183795248">(Dec 18 2019 at 22:04)</a>:</h4>
<p>sunfishcode edited <a href="https://github.com/bytecodealliance/cranelift/pull/1299" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1299">PR #1299</a> from <code>templates</code> to <code>master</code>:</p>
<blockquote>
<p>Rename "global values" to "templates", to better describe their role as<br>
expressions which can be provided by frontends and expanded by the code<br>
generator as needed. And, start to generalize them, by introducing<br>
<code>Call</code> and <code>IfElse</code> templates.</p>
<p>This is a step towards generalizing templates into a form that can be<br>
independent of Cranelift, and allow embedding environments to provide a<br>
single description of their data structures which is independent of any<br>
specific JIT. And, it's a step toward being able to use templates to<br>
describe GC barrier instruction sequences.</p>
<p>This also helps avoid some confusion between Cranelift IR global values,<br>
wasm global variables, global variable data objects, and "global"<br>
variables in regalloc.</p>
<ul>
<li>[x] This is partly in support of the discussion in <a href="https://github.com/bytecodealliance/cranelift/issues/1176#issuecomment-567180969" target="_blank" title="https://github.com/bytecodealliance/cranelift/issues/1176#issuecomment-567180969">https://github.com/bytecodealliance/cranelift/issues/1176#issuecomment-567180969</a>.</li>
<li>[x] See the commit message above for a description.</li>
<li>[X] This PR updates existing tests as needed.</li>
<li>[X] Reviewers selected.</li>
</ul>
<p>[Edited - added the bug that discusses this]</p>
</blockquote>



<a name="183826405"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231299%20Generalize%20%22global%20values%22%20to%20%22templ.../near/183826405" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231299.20Generalize.20.22global.20values.22.20to.20.22templ.2E.2E.2E.html#183826405">(Dec 19 2019 at 08:49)</a>:</h4>
<p>bnjbvr submitted <a href="https://github.com/bytecodealliance/cranelift/pull/1299#pullrequestreview-334481454" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1299#pullrequestreview-334481454">PR Review</a>.</p>



<a name="190143695"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231299%20Generalize%20%22global%20values%22%20to%20%22templ.../near/190143695" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231299.20Generalize.20.22global.20values.22.20to.20.22templ.2E.2E.2E.html#190143695">(Mar 10 2020 at 05:37)</a>:</h4>
<p>sunfishcode closed without merge <a href="https://github.com/bytecodealliance/cranelift/pull/1299" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1299">PR #1299</a>.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>