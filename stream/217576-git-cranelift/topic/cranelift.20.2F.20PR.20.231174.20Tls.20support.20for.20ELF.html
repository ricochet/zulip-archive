<html>
<head><meta charset="utf-8"><title>cranelift / PR #1174 Tls support for ELF · git-cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/index.html">git-cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231174.20Tls.20support.20for.20ELF.html">cranelift / PR #1174 Tls support for ELF</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="185397938"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231174%20Tls%20support%20for%20ELF/near/185397938" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231174.20Tls.20support.20for.20ELF.html#185397938">(Jan 11 2020 at 17:23)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/cranelift/pull/1174" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1174">PR #1174</a> from <code>tls_support</code> to <code>master</code>:</p>
<blockquote>
<p>This adds TLS (thread local storage) support for ELF targets to Cranelift</p>
<ul>
<li>[x] ASM of the <code>tls_example.clif</code> file has been verifier to match the ASM emitted by LLVM at <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-531466812" target="_blank" title="https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-531466812">https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-531466812</a></li>
<li>[x] Test runtime: object::write doesn't have enough TLS support yet to test execution.</li>
<li>[ ] Verify encodings are correct and idiomatic.</li>
<li>[x] Rustfmt</li>
<li>[x] Add flag to switch between TLS styles (ELF, machO) and set it automatically from either codegen or backends.</li>
<li>
<p>[ ] Add tests</p>
</li>
<li>
<p>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so and/or ping<br>
<code>bnjbvr</code>. &lt;strike&gt;The list of suggested reviewers on the right can help you.&lt;/strike&gt; No list of suggested reviewers shown on the right side.</p>
</li>
</ul>
<p>Fixes #963</p>
<p>cc @philipc <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-526909856" target="_blank" title="https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-526909856">https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-526909856</a><br>
cc @abrown Because you implemented SIMD support for x86, I think you know enough of x86 encodings to verify that the encodings are correct.</p>
</blockquote>



<a name="186569388"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20PR%20%231174%20Tls%20support%20for%20ELF/near/186569388" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20PR.20.231174.20Tls.20support.20for.20ELF.html#186569388">(Jan 25 2020 at 11:21)</a>:</h4>
<p>bjorn3 updated <a href="https://github.com/bytecodealliance/cranelift/pull/1174" target="_blank" title="https://github.com/bytecodealliance/cranelift/pull/1174">PR #1174</a> from <code>tls_support</code> to <code>master</code>:</p>
<blockquote>
<p>This adds TLS (thread local storage) support for ELF targets to Cranelift</p>
<ul>
<li>[x] ASM of the <code>tls_example.clif</code> file has been verifier to match the ASM emitted by LLVM at <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-531466812" target="_blank" title="https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-531466812">https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-531466812</a></li>
<li>[x] Test runtime: object::write doesn't have enough TLS support yet to test execution.</li>
<li>[ ] Verify encodings are correct and idiomatic.</li>
<li>[x] Rustfmt</li>
<li>[x] Add flag to switch between TLS styles (ELF, machO) and set it automatically from either codegen or backends.</li>
<li>
<p>[ ] Add tests</p>
</li>
<li>
<p>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>
  If you don't know who could review this, please indicate so and/or ping<br>
<code>bnjbvr</code>. &lt;strike&gt;The list of suggested reviewers on the right can help you.&lt;/strike&gt; No list of suggested reviewers shown on the right side.</p>
</li>
</ul>
<p>Fixes #963</p>
<p>cc @philipc <a href="https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-526909856" target="_blank" title="https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-526909856">https://github.com/bjorn3/rustc_codegen_cranelift/issues/388#issuecomment-526909856</a><br>
cc @abrown Because you implemented SIMD support for x86, I think you know enough of x86 encodings to verify that the encodings are correct.</p>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>