<html>
<head><meta charset="utf-8"><title>cranelift / Issue #1339 Add function to move ebb to the e... · git-cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/index.html">git-cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231339.20Add.20function.20to.20move.20ebb.20to.20the.20e.2E.2E.2E.html">cranelift / Issue #1339 Add function to move ebb to the e...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="185395954"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231339%20Add%20function%20to%20move%20ebb%20to%20the%20e.../near/185395954" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231339.20Add.20function.20to.20move.20ebb.20to.20the.20e.2E.2E.2E.html#185395954">(Jan 11 2020 at 16:26)</a>:</h4>
<p>bjorn3 opened <a href="https://github.com/bytecodealliance/cranelift/issues/1339" target="_blank" title="https://github.com/bytecodealliance/cranelift/issues/1339">Issue #1339</a>:</p>
<blockquote>
<ul>
<li>
<p>What is the feature or code improvement you would like to do in Cranelift?<br>
    I want to move all cold code to the end of the function to reduce the average amount of jumps and improve code locality.</p>
</li>
<li>
<p>What is the value of adding this in Cranelift?<br>
    While it is currently possible to first remove all instructions, then remove the ebb and then append the ebb with it's instructions again, doing so is slower than just moving all instructions in place.</p>
</li>
<li>
<p>Do you have an implementation plan, and/or ideas for data structures or<br>
  algorithms to use?<br>
    First the ebb linked list is modified to place the ebb later in the layout. Then the sequence number of all instructions in the ebb are changed to accomodate the new position of the ebb.</p>
</li>
<li>
<p>Have you considered alternative implementations? If so, how are they better<br>
  or worse than your proposal?<br>
    No</p>
</li>
</ul>
</blockquote>



<a name="189361759"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231339%20Add%20function%20to%20move%20ebb%20to%20the%20e.../near/189361759" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231339.20Add.20function.20to.20move.20ebb.20to.20the.20e.2E.2E.2E.html#189361759">(Feb 28 2020 at 23:28)</a>:</h4>
<p>alexcrichton transferred <a href="https://github.com/bytecodealliance/cranelift/issues/1339" target="_blank" title="https://github.com/bytecodealliance/cranelift/issues/1339">Issue #1339</a>:</p>
<blockquote>
<ul>
<li>
<p>What is the feature or code improvement you would like to do in Cranelift?<br>
    I want to move all cold code to the end of the function to reduce the average amount of jumps and improve code locality.</p>
</li>
<li>
<p>What is the value of adding this in Cranelift?<br>
    While it is currently possible to first remove all instructions, then remove the ebb and then append the ebb with it's instructions again, doing so is slower than just moving all instructions in place.</p>
</li>
<li>
<p>Do you have an implementation plan, and/or ideas for data structures or<br>
  algorithms to use?<br>
    First the ebb linked list is modified to place the ebb later in the layout. Then the sequence number of all instructions in the ebb are changed to accomodate the new position of the ebb.</p>
</li>
<li>
<p>Have you considered alternative implementations? If so, how are they better<br>
  or worse than your proposal?<br>
    No</p>
</li>
</ul>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>