<html>
<head><meta charset="utf-8"><title>cranelift / Issue #1199 Don&#x27;t save/restore the stack if i... · git-cranelift · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/index.html">git-cranelift</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231199.20Don.27t.20save.2Frestore.20the.20stack.20if.20i.2E.2E.2E.html">cranelift / Issue #1199 Don&#x27;t save/restore the stack if i...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="189361642"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217576-git-cranelift/topic/cranelift%20/%20Issue%20%231199%20Don%27t%20save/restore%20the%20stack%20if%20i.../near/189361642" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> GitHub <a href="https://bytecodealliance.github.io/zulip-archive/stream/217576-git-cranelift/topic/cranelift.20.2F.20Issue.20.231199.20Don.27t.20save.2Frestore.20the.20stack.20if.20i.2E.2E.2E.html#189361642">(Feb 28 2020 at 23:27)</a>:</h4>
<p>alexcrichton transferred <a href="https://github.com/bytecodealliance/cranelift/issues/1199" target="_blank" title="https://github.com/bytecodealliance/cranelift/issues/1199">Issue #1199</a>:</p>
<blockquote>
<ul>
<li>What is the feature or code improvement you would like to do in Cranelift? Small functions which don't make usage of the stack will still preserve the stack pointer by saving it into the frame pointer register, which is spurious. It's a few instructions per call which could be removed in general.</li>
<li>What is the value of adding this in Cranelift? Runtime speedup.</li>
<li>Do you have an implementation plan, and/or ideas for data structures or<br>
  algorithms to use? Have you considered alternative implementations? If so, how are they better<br>
  or worse than your proposal? Implementation should be trivial: lookup the number of stack slots<br>
and don't preserve SP if there are no stack slots.</li>
</ul>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>