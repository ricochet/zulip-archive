<html>
<head><meta charset="utf-8"><title>Weval assertion failure in debug build · ComponentizeJS · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/387620-ComponentizeJS/index.html">ComponentizeJS</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/387620-ComponentizeJS/topic/Weval.20assertion.20failure.20in.20debug.20build.html">Weval assertion failure in debug build</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="473876813"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/387620-ComponentizeJS/topic/Weval%20assertion%20failure%20in%20debug%20build/near/473876813" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/387620-ComponentizeJS/topic/Weval.20assertion.20failure.20in.20debug.20build.html#473876813">(Sep 30 2024 at 22:41)</a>:</h4>
<p><span class="user-mention" data-user-id="254389">@Chris Fallin</span> is it expected that a debug build of StarlingMonkey with weval enabled fails a <code>stubInfo-&gt;stubDataSize() == writer.stubDataSize()</code> assert when building the IC cache? I get that issue on current <code>main</code> with a cmake configuration of <code>-DCMAKE_BUILD_TYPE=Debug -DUSE_WASM_OPT=OFF -DWEVAL=ON</code></p>



<a name="473876937"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/387620-ComponentizeJS/topic/Weval%20assertion%20failure%20in%20debug%20build/near/473876937" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/387620-ComponentizeJS/topic/Weval.20assertion.20failure.20in.20debug.20build.html#473876937">(Sep 30 2024 at 22:41)</a>:</h4>
<p>Our CI seems to only test release builds of weval, so CI not failing over this is probably expected</p>



<a name="473877017"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/387620-ComponentizeJS/topic/Weval%20assertion%20failure%20in%20debug%20build/near/473877017" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/387620-ComponentizeJS/topic/Weval.20assertion.20failure.20in.20debug.20build.html#473877017">(Sep 30 2024 at 22:42)</a>:</h4>
<p>nope, not expected!</p>



<a name="473877057"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/387620-ComponentizeJS/topic/Weval%20assertion%20failure%20in%20debug%20build/near/473877057" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/387620-ComponentizeJS/topic/Weval.20assertion.20failure.20in.20debug.20build.html#473877057">(Sep 30 2024 at 22:42)</a>:</h4>
<p>I can take a look at this, it's at the end of a long TODO backlog though, probably two weeks or so</p>



<a name="473877175"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/387620-ComponentizeJS/topic/Weval%20assertion%20failure%20in%20debug%20build/near/473877175" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/387620-ComponentizeJS/topic/Weval.20assertion.20failure.20in.20debug.20build.html#473877175">(Sep 30 2024 at 22:43)</a>:</h4>
<p>that's okay: now that I know I can't use debug builds it's not immediately blocking me</p>



<a name="473877177"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/387620-ComponentizeJS/topic/Weval%20assertion%20failure%20in%20debug%20build/near/473877177" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/387620-ComponentizeJS/topic/Weval.20assertion.20failure.20in.20debug.20build.html#473877177">(Sep 30 2024 at 22:43)</a>:</h4>
<p>thanks!</p>



<a name="473877204"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/387620-ComponentizeJS/topic/Weval%20assertion%20failure%20in%20debug%20build/near/473877204" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/387620-ComponentizeJS/topic/Weval.20assertion.20failure.20in.20debug.20build.html#473877204">(Sep 30 2024 at 22:43)</a>:</h4>
<p>I'll file an issue</p>



<a name="473877239"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/387620-ComponentizeJS/topic/Weval%20assertion%20failure%20in%20debug%20build/near/473877239" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/387620-ComponentizeJS/topic/Weval.20assertion.20failure.20in.20debug.20build.html#473877239">(Sep 30 2024 at 22:43)</a>:</h4>
<p>awesome, thanks</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>