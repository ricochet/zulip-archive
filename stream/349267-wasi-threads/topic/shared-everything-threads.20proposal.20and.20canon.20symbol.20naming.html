<html>
<head><meta charset="utf-8"><title>shared-everything-threads proposal and canon symbol naming · wasi-threads · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/349267-wasi-threads/index.html">wasi-threads</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/349267-wasi-threads/topic/shared-everything-threads.20proposal.20and.20canon.20symbol.20naming.html">shared-everything-threads proposal and canon symbol naming</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="423151237"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/349267-wasi-threads/topic/shared-everything-threads%20proposal%20and%20canon%20symbol%20naming/near/423151237" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Christof Petig <a href="https://bytecodealliance.github.io/zulip-archive/stream/349267-wasi-threads/topic/shared-everything-threads.20proposal.20and.20canon.20symbol.20naming.html#423151237">(Feb 24 2024 at 08:52)</a>:</h4>
<p><a href="https://github.com/WebAssembly/shared-everything-threads/blob/main/proposals/shared-everything-threads/Overview.md#thread-management-builtins">https://github.com/WebAssembly/shared-everything-threads/blob/main/proposals/shared-everything-threads/Overview.md#thread-management-builtins</a> proposes a thread spawning function compatible with the component model.</p>
<p>I think that this part is largely uncontroversial and the current work on the proposal (harmonizing with GC, IIUC) won't influence this function. So it looks compelling to experimentally add it, but the mapping between the proposal and a specific function name is unclear to me.</p>
<p>Guessing from other component model functions it could be that <code>(canon thread.spawn &lt;typeidx&gt; (core func &lt;id&gt;?))</code> maps to the symbol name <code>[thread-spawn]i32</code> (I can't guess the module name), but I really would like to understand where to find this information. Any hints?</p>



<a name="423725506"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/349267-wasi-threads/topic/shared-everything-threads%20proposal%20and%20canon%20symbol%20naming/near/423725506" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/349267-wasi-threads/topic/shared-everything-threads.20proposal.20and.20canon.20symbol.20naming.html#423725506">(Feb 28 2024 at 00:40)</a>:</h4>
<p>In the short-term, we decided to punt on a name-conversion scheme and only allow the single i32 version. <a href="https://github.com/WebAssembly/component-model/pull/291">https://github.com/WebAssembly/component-model/pull/291</a> has more details.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/component-model/pull/291" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/221eec299ba7011858d3d061546a3570fe4bc5c5\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f373463313661363139306232633530303533343363356663336162386531656535666431363430356234643863363566663331393239636432343936613433382f576562417373656d626c792f636f6d706f6e656e742d6d6f64656c2f70756c6c2f323931)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/component-model/pull/291" title="Add canonical `thread.*` builtins by abrown · Pull Request #291 · WebAssembly/component-model">Add canonical `thread.*` builtins by abrown · Pull Request #291 · WebAssembly/component-model</a></div><div class="message_embed_description">This change adds the thread.spawn and thread.hw_concurrency builtins in line with what was proposed in the shared-everything threads proposal.</div></div></div>



<a name="423725555"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/349267-wasi-threads/topic/shared-everything-threads%20proposal%20and%20canon%20symbol%20naming/near/423725555" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/349267-wasi-threads/topic/shared-everything-threads.20proposal.20and.20canon.20symbol.20naming.html#423725555">(Feb 28 2024 at 00:40)</a>:</h4>
<p>What the component model will expect that function name to be... I'm not sure yet.</p>



<a name="423725607"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/349267-wasi-threads/topic/shared-everything-threads%20proposal%20and%20canon%20symbol%20naming/near/423725607" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/349267-wasi-threads/topic/shared-everything-threads.20proposal.20and.20canon.20symbol.20naming.html#423725607">(Feb 28 2024 at 00:41)</a>:</h4>
<p>(Also, apologies for the delayed reply to this here; feel free to tag me to get my attention!)</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>