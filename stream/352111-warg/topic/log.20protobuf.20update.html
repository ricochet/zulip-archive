<html>
<head><meta charset="utf-8"><title>log protobuf update · warg · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/index.html">warg</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/log.20protobuf.20update.html">log protobuf update</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="387715627"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/log%20protobuf%20update/near/387715627" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/log.20protobuf.20update.html#387715627">(Aug 28 2023 at 17:03)</a>:</h4>
<p>Any concerns with changing e.g. <code>PackageGrantFlat.permission</code> to <code>repeated permissions</code>?</p>



<a name="387715781"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/log%20protobuf%20update/near/387715781" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/log.20protobuf.20update.html#387715781">(Aug 28 2023 at 17:04)</a>:</h4>
<p>This is actually a backward-compatible change under protobuf's binary encoding</p>



<a name="387727325"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/log%20protobuf%20update/near/387727325" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/log.20protobuf.20update.html#387727325">(Aug 28 2023 at 17:58)</a>:</h4>
<p>The design philosophy for entries is that they are individually simple and you can compose them together to do more complex things by batching them in a record. It's nice for the state machine if they don't try and do too many things.</p>



<a name="387727950"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/log%20protobuf%20update/near/387727950" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/log.20protobuf.20update.html#387727950">(Aug 28 2023 at 18:01)</a>:</h4>
<p>I guess we can losslessly compress records if size becomes an issue</p>



<a name="387732544"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/log%20protobuf%20update/near/387732544" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/log.20protobuf.20update.html#387732544">(Aug 28 2023 at 18:23)</a>:</h4>
<p>I think this kind of change is fine as long as we keep it to 1 key and N permissions.</p>



<a name="387738494"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/log%20protobuf%20update/near/387738494" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/log.20protobuf.20update.html#387738494">(Aug 28 2023 at 19:02)</a>:</h4>
<p><a href="https://github.com/bytecodealliance/registry/pull/188">https://github.com/bytecodealliance/registry/pull/188</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/registry/pull/188" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/4525d3fba33a7c901fc1783c0dbf492d2116df53\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f336164646432613735616462343034396465386436366132373031616463663636623736333530316338623730656238343637656138623235383262366538622f62797465636f6465616c6c69616e63652f72656769737472792f70756c6c2f313838)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/registry/pull/188" title="Allow multiple permissions per grant/revoke entry by lann · Pull Request #188 · bytecodealliance/registry">Allow multiple permissions per grant/revoke entry by lann · Pull Request #188 · bytecodealliance/registry</a></div><div class="message_embed_description">WebAssembly component registry prototype. Contribute to bytecodealliance/registry development by creating an account on GitHub.</div></div></div>



<a name="387740803"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/log%20protobuf%20update/near/387740803" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/log.20protobuf.20update.html#387740803">(Aug 28 2023 at 19:16)</a>:</h4>
<p>Turns out this isn't entirely backward-compatible under proto3 encoding after all, but given that the tooling doesn't really support grant/revoke yet I think its a reasonably safe change to make</p>



<a name="387742859"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/log%20protobuf%20update/near/387742859" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/log.20protobuf.20update.html#387742859">(Aug 28 2023 at 19:30)</a>:</h4>
<p>I don't think we need backwards compatible yet</p>



<a name="387743009"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/log%20protobuf%20update/near/387743009" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/log.20protobuf.20update.html#387743009">(Aug 28 2023 at 19:31)</a>:</h4>
<p>Yeah just trying not to break logs again before next week</p>



<a name="387743330"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/log%20protobuf%20update/near/387743330" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/log.20protobuf.20update.html#387743330">(Aug 28 2023 at 19:32)</a>:</h4>
<p>I think our plan should be to finalize any breaking changes by Wednesday.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>