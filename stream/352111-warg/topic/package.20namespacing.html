<html>
<head><meta charset="utf-8"><title>package namespacing · warg · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/index.html">warg</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html">package namespacing</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="326233668"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326233668" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326233668">(Feb 06 2023 at 20:37)</a>:</h4>
<p>I've waved my hands at the idea that a public-good registry could have some kind of externally-enforced namespacing: domain names, public repos, etc. How do we generally feel about that idea vs a Cargo-style first-come-first-serve flat namespace?</p>



<a name="326235188"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326235188" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326235188">(Feb 06 2023 at 20:47)</a>:</h4>
<p>Concrete ideas: require a prefix of either a well-known public forge e.g. <code>gitlab.com/lann/package</code> or a DNS name verified <em>somehow</em> (probably just manually, initially) e.g. <code>bytecodealliance.org/package</code>. We wouldn't have to do anything special for an initial semi-private instance but it would determine the naming convention.</p>



<a name="326240005"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326240005" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326240005">(Feb 06 2023 at 21:16)</a>:</h4>
<p>I don't think we want to repeat the mistake of having a flat namespace, so I just assumed we were going to go with a user/org name namespace scheme a la Docker. The policy around the user/org name would be first-come-first-served, but explicitly reserve the right to reclaim a user/org name that someone holds legal claim / trademark over (with perhaps some explicit dispute process). </p>
<p>To me, the Docker way makes a lot of sense. In terms of a "uniquely identifiable package name", it'd be prefixed with the registry it came from in some format (warg url?).</p>
<p>I'm completely open to alternatives, but we should keep in mind that not everyone publishing to a registry is part of a larger organization or company.</p>



<a name="326243088"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326243088" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326243088">(Feb 06 2023 at 21:37)</a>:</h4>
<blockquote>
<p>reclaim a user/org name that someone holds legal claim / trademark over</p>
</blockquote>
<p>is a big part of what I don't love about the first-come namespace approach, but I would certainly take it over no namespace</p>
<blockquote>
<p>we should keep in mind that not everyone publishing to a registry is part of a larger organization or company</p>
</blockquote>
<p>Right, I don't think any solution should depend on owning a DNS name; requiring an account at a well-known forge seems like a low-enough bar to me, though it makes package names subjectively ugly</p>



<a name="326393420"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326393420" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326393420">(Feb 07 2023 at 15:48)</a>:</h4>
<p>Wrote up some thoughts / options: <a href="https://hackmd.io/@lann/B1M7L1epj">https://hackmd.io/@lann/B1M7L1epj</a><br>
Can discuss tomorrow too.</p>
<div class="message_embed"><a class="message_embed_image" href="https://hackmd.io/@lann/B1M7L1epj" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/be5883ebc78216e6d97b1f14ef5fbbb5049814a8\/68747470733a2f2f7777772e67726176617461722e636f6d2f6176617461722f35386537303761353133356136613738313666373336386266643564396134663f733d343030)"></a><div class="data-container"><div class="message_embed_title"><a href="https://hackmd.io/@lann/B1M7L1epj" title="Public Warg Registry Package Name Policy - HackMD">Public Warg Registry Package Name Policy - HackMD</a></div><div class="message_embed_description"># Public Warg Registry Package Name Policy  :::info This would be the policy for any BCA-operated re</div></div></div>



<a name="326394108"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326394108" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326394108">(Feb 07 2023 at 15:51)</a>:</h4>
<p>Does this proposal have any implications for <code>warg</code> as a protocol other than that names may need delimiters like <code>/</code>?</p>



<a name="326394329"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326394329" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326394329">(Feb 07 2023 at 15:52)</a>:</h4>
<blockquote>
<p>This form of namespacing is only meaningful for registry policy enforcement; it has no meaning in the Warg protocol. There may be additional outer namespacing by the “owning” registry itself to facilitate federation.</p>
</blockquote>
<p><span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="326394529"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326394529" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326394529">(Feb 07 2023 at 15:53)</a>:</h4>
<p><code>/</code>-delimited names will require some changes to the API. We currently use names as url parameters in a way that I don't think can handle names with slashes.</p>



<a name="326394899"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326394899" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326394899">(Feb 07 2023 at 15:55)</a>:</h4>
<p>How much does this proposal, if at all, apply to the initial dogfood registry?</p>



<a name="326395428"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326395428" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326395428">(Feb 07 2023 at 15:57)</a>:</h4>
<p>The plan initially iirc is to only allow BCA projects to publish anyway, so I think we can start a lot simpler.</p>



<a name="326396063"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326396063" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326396063">(Feb 07 2023 at 15:59)</a>:</h4>
<p>If we know what we want to do we can start off prefixing those initial packages (without policy enforcement)</p>



<a name="326396365"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326396365" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326396365">(Feb 07 2023 at 16:00)</a>:</h4>
<p>I worry that implies a level of continuity/stability across preview registry protocols/instances that we don't want.</p>



<a name="326396597"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326396597" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326396597">(Feb 07 2023 at 16:01)</a>:</h4>
<p>We can use <code>bytecodealliance-preview/*</code> if we want <span aria-label="shrug" class="emoji emoji-1f937" role="img" title="shrug">:shrug:</span></p>



<a name="326397469"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326397469" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326397469">(Feb 07 2023 at 16:04)</a>:</h4>
<p>Maybe we should just give the entire dogfood registry as a whole a name/domain that makes it very clear that we might blow it away and repopulate it whenever we feel. In fact, it might make sense to give the new registry a new subdomain each time we do so that its semantically a new registry and doesn't confuse clients/monitors.</p>



<a name="326397573"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326397573" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326397573">(Feb 07 2023 at 16:05)</a>:</h4>
<p>e.g. <code>dogfood0.warg.io</code>, <code>dogfood1.warg.io</code>, ...</p>



<a name="326397830"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326397830" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326397830">(Feb 07 2023 at 16:06)</a>:</h4>
<p>We could do <code>preview0</code>, <code>preview1</code>, ... but I think initially we might do that several times before hitting anything that deserves preview status and should increment a preview number.</p>



<a name="326399515"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326399515" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326399515">(Feb 07 2023 at 16:13)</a>:</h4>
<p><span class="user-mention" data-user-id="480579">@Lann Martin</span> thoughts on using the hash of the package name (<code>LogId</code>) in the url params instead of the name itself?<br>
(that will naturally take care of the slashes for us and keep url lengths in check)</p>



<a name="326400077"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326400077" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326400077">(Feb 07 2023 at 16:15)</a>:</h4>
<p>If that makes sense semantically, sure. Otherwise we can just URL-encode.</p>



<a name="326400459"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326400459" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326400459">(Feb 07 2023 at 16:17)</a>:</h4>
<p>It's something I was already considering and I think it makes sense.</p>



<a name="326687739"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326687739" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326687739">(Feb 08 2023 at 21:24)</a>:</h4>
<p><span class="user-mention" data-user-id="480579">@Lann Martin</span>  thanks for writing that up and sorry for the knee-jerk reaction to what was being discussed without the full context of the document ingested. My reaction was coming from a strong desire to make publishing to the registry as low-barrier as possible for individual developers given this being a nascent registry and hearing the discussion about potentially using ACME challenges for registering a namespace gave me an ignorant <span aria-label="upside down" class="emoji emoji-1f643" role="img" title="upside down">:upside_down:</span> face (my misunderstanding was that it is not the <em>only</em> way to do so).</p>
<p>I think this makes a lot of sense at a policy level for the BA registry and to serve as a de facto example for other instance implementations; we can continue to use some canonical form of a package log (not delimited) identifier in the protocol itself.</p>



<a name="326696362"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326696362" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326696362">(Feb 08 2023 at 22:22)</a>:</h4>
<p>I've updated the hackmd to use <code>:</code> as a namespace separator instead of <code>/</code> to avoid confusion with URLs. We've used <code>:</code> in some docs to separate version numbers; the hackmd now suggests <code>@</code> for that purpose, leading to release references like:</p>
<ul>
<li><code>wasi:filesystem@0.1.0</code></li>
<li><code>example.com:package@0.2.0</code></li>
<li><code>github.com/lann:dog-facts@0.3.0</code></li>
</ul>



<a name="326709075"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/package%20namespacing/near/326709075" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/package.20namespacing.html#326709075">(Feb 09 2023 at 00:03)</a>:</h4>
<p>I've updated the <code>cargo-component</code> PR to match (specifically, looking for the last <code>@</code> in a short-form dependency to treat as the version delimiter)</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>