<html>
<head><meta charset="utf-8"><title>Relative content URLs · warg · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/index.html">warg</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/Relative.20content.20URLs.html">Relative content URLs</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="378242421"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/Relative%20content%20URLs/near/378242421" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/Relative.20content.20URLs.html#378242421">(Jul 24 2023 at 18:52)</a>:</h4>
<p><a href="https://github.com/bytecodealliance/registry/pull/167">This PR</a> makes an API change that hasn't been discussed: allowing relative URLs as upload endpoints. This is convenient for the implementation as it could avoid the need to specify a content base URL in the simplest deployment scenarios.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/registry/pull/167" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/ca4560caecaffc99b15629b60f01e404eba804d9\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f656231646132626661326631366364303463613335616132623135633134626663386639363734386461383261303261346564353064386464663432663135352f62797465636f6465616c6c69616e63652f72656769737472792f70756c6c2f313637)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/registry/pull/167" title="Update missing content API by lann · Pull Request #167 · bytecodealliance/registry">Update missing content API by lann · Pull Request #167 · bytecodealliance/registry</a></div><div class="message_embed_description">This implements the proposal here: #160 It adapts some of #137. Notably it does not add a "patch record" operation as I think that conflicts with #146.
I also fell down a bit of a rabbit hole to al...</div></div></div>



<a name="378242609"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/Relative%20content%20URLs/near/378242609" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/Relative.20content.20URLs.html#378242609">(Jul 24 2023 at 18:53)</a>:</h4>
<ol>
<li>Any concerns with using relative URLs like this?</li>
<li>Should these be allowed in download URLs as well (seems clear to me if 1 is OK)?</li>
</ol>



<a name="378243658"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/Relative%20content%20URLs/near/378243658" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/Relative.20content.20URLs.html#378243658">(Jul 24 2023 at 18:58)</a>:</h4>
<p>I guess since everything has checksums, the security concerns are pretty minor.<br>
It's possible that a client might try to resolve a URL that came from an upstream repo against the downstream registry's origin, which isn't a security problem because they need to validate the hash anyway but could cause some instability in poorly-written clients or clients that aren't yet fully federation-aware.</p>



<a name="378244069"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/Relative%20content%20URLs/near/378244069" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/Relative.20content.20URLs.html#378244069">(Jul 24 2023 at 19:00)</a>:</h4>
<p>I think a (shallow) mirror would need to rewrite relative URLs, which is definitely an argument against allowing them.</p>



<a name="378281009"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/Relative%20content%20URLs/near/378281009" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/Relative.20content.20URLs.html#378281009">(Jul 24 2023 at 21:37)</a>:</h4>
<p>Allowing relative URLs or allowing shallow mirroring?</p>



<a name="378282551"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/352111-warg/topic/Relative%20content%20URLs/near/378282551" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/352111-warg/topic/Relative.20content.20URLs.html#378282551">(Jul 24 2023 at 21:47)</a>:</h4>
<p>relative URLs</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>