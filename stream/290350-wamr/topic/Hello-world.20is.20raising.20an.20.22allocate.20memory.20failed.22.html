<html>
<head><meta charset="utf-8"><title>Hello-world is raising an &quot;allocate memory failed&quot; 路 wamr 路 Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/index.html">wamr</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/topic/Hello-world.20is.20raising.20an.20.22allocate.20memory.20failed.22.html">Hello-world is raising an &quot;allocate memory failed&quot;</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="443785590"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/290350-wamr/topic/Hello-world%20is%20raising%20an%20%22allocate%20memory%20failed%22/near/443785590" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gilles ORAZI <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/topic/Hello-world.20is.20raising.20an.20.22allocate.20memory.20failed.22.html#443785590">(Jun 10 2024 at 14:36)</a>:</h4>
<p>Hi, I am starting my journey with WAMR, trying to figure out if it would be well suited for our next project. For now, I am trying to comile and run the "hello world" (from here <a href="https://wamr.gitbook.io/document/basics/getting-started/on_host">https://wamr.gitbook.io/document/basics/getting-started/on_host</a>). I basically copy/pasted the commands from the "host preparation" and running the program on host. Everything seems to install and compile perfectly, with no error. And at runtime I get: </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">-&gt;</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">iwasm</span><span class="w"> </span><span class="n">test</span><span class="p">.</span><span class="n">wasm</span>
<span class="p">[</span><span class="mi">21</span><span class="p">:</span><span class="mi">49</span><span class="p">:</span><span class="mi">39</span><span class="p">:</span><span class="mi">153</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">7</span><span class="n">F08B87FBB80</span><span class="p">]:</span><span class="w"> </span><span class="nc">warning</span><span class="p">:</span><span class="w"> </span><span class="nc">allocate</span><span class="w"> </span><span class="mi">16</span><span class="w"> </span><span class="n">bytes</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">failed</span>
<span class="n">Exception</span><span class="p">:</span><span class="w"> </span><span class="nc">allocate</span><span class="w"> </span><span class="n">memory</span><span class="w"> </span><span class="n">failed</span>
</code></pre></div>
<p>Any hint on what might be the issue?</p>
<div class="message_embed"><a class="message_embed_image" href="https://wamr.gitbook.io/document/basics/getting-started/on_host" style="background-image: url(&quot;https://uploads.zulipusercontent.net/8cd1607013bbb9288a6a1ace5a11de2e90b282ec/68747470733a2f2f77616d722e676974626f6f6b2e696f2f646f63756d656e742f7e676974626f6f6b2f6f67696d6167652f4d626762526e4467393942326b6f67384f474151&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://wamr.gitbook.io/document/basics/getting-started/on_host" title="Hello-world Program On Host | Document">Hello-world Program On Host | Document</a></div><div class="message_embed_description">Now we have our host set up, we can build our hello world program and run it using WAMR.</div></div></div>



<a name="443818795"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/290350-wamr/topic/Hello-world%20is%20raising%20an%20%22allocate%20memory%20failed%22/near/443818795" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mats Brorsson <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/topic/Hello-world.20is.20raising.20an.20.22allocate.20memory.20failed.22.html#443818795">(Jun 10 2024 at 17:04)</a>:</h4>
<p>What platform and architecture are you on?</p>



<a name="443827588"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/290350-wamr/topic/Hello-world%20is%20raising%20an%20%22allocate%20memory%20failed%22/near/443827588" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gilles ORAZI <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/topic/Hello-world.20is.20raising.20an.20.22allocate.20memory.20failed.22.html#443827588">(Jun 10 2024 at 17:45)</a>:</h4>
<p>sorry I forgot to mention : I tried on ubuntu 24 and WSL hosting a ubuntu 20.</p>



<a name="443905348"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/290350-wamr/topic/Hello-world%20is%20raising%20an%20%22allocate%20memory%20failed%22/near/443905348" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> lum1n0us <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/topic/Hello-world.20is.20raising.20an.20.22allocate.20memory.20failed.22.html#443905348">(Jun 11 2024 at 03:09)</a>:</h4>
<p>May I ask which repo or branch you are using? Since there is no "app-samples" in <a href="https://github.com/bytecodealliance/wasm-micro-runtime">https://github.com/bytecodealliance/wasm-micro-runtime</a> currently</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-micro-runtime" style="background-image: url(&quot;https://uploads.zulipusercontent.net/6f5ffdbfa71304a435b806998737c2d20bb791c7/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f383966383539313561333634643030343035663265376434633161363330613165396662663634353132323165636235633661363563366138343963353534652f62797465636f6465616c6c69616e63652f7761736d2d6d6963726f2d72756e74696d65&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-micro-runtime" title="GitHub - bytecodealliance/wasm-micro-runtime: WebAssembly Micro Runtime (WAMR)">GitHub - bytecodealliance/wasm-micro-runtime: WebAssembly Micro Runtime (WAMR)</a></div><div class="message_embed_description">WebAssembly Micro Runtime (WAMR). Contribute to bytecodealliance/wasm-micro-runtime development by creating an account on GitHub.</div></div></div>



<a name="443926642"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/290350-wamr/topic/Hello-world%20is%20raising%20an%20%22allocate%20memory%20failed%22/near/443926642" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gilles ORAZI <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/topic/Hello-world.20is.20raising.20an.20.22allocate.20memory.20failed.22.html#443926642">(Jun 11 2024 at 06:43)</a>:</h4>
<p>Here it is : <a href="https://github.com/bytecodealliance/wasm-micro-runtime/tree/main/product-mini/app-samples">https://github.com/bytecodealliance/wasm-micro-runtime/tree/main/product-mini/app-samples</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-micro-runtime/tree/main/product-mini/app-samples" style="background-image: url(&quot;https://uploads.zulipusercontent.net/6f5ffdbfa71304a435b806998737c2d20bb791c7/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f383966383539313561333634643030343035663265376434633161363330613165396662663634353132323165636235633661363563366138343963353534652f62797465636f6465616c6c69616e63652f7761736d2d6d6963726f2d72756e74696d65&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-micro-runtime/tree/main/product-mini/app-samples" title="wasm-micro-runtime/product-mini/app-samples at main 路 bytecodealliance/wasm-micro-runtime">wasm-micro-runtime/product-mini/app-samples at main 路 bytecodealliance/wasm-micro-runtime</a></div><div class="message_embed_description">WebAssembly Micro Runtime (WAMR). Contribute to bytecodealliance/wasm-micro-runtime development by creating an account on GitHub.</div></div></div>



<a name="443927762"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/290350-wamr/topic/Hello-world%20is%20raising%20an%20%22allocate%20memory%20failed%22/near/443927762" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wenyong Huang <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/topic/Hello-world.20is.20raising.20an.20.22allocate.20memory.20failed.22.html#443927762">(Jun 11 2024 at 06:51)</a>:</h4>
<p><span class="user-mention" data-user-id="727702">@Gilles ORAZI</span> currently the default host managed heap size is set 0 when libc wasi is compiled, but the wasm file without libc wasi enabled may require host managed heap to run, could you try <code>iwasm --heap-size=16384 test.wasm</code>?</p>



<a name="443928013"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/290350-wamr/topic/Hello-world%20is%20raising%20an%20%22allocate%20memory%20failed%22/near/443928013" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Gilles ORAZI <a href="https://bytecodealliance.github.io/zulip-archive/stream/290350-wamr/topic/Hello-world.20is.20raising.20an.20.22allocate.20memory.20failed.22.html#443928013">(Jun 11 2024 at 06:53)</a>:</h4>
<p><span class="user-mention" data-user-id="415404">@Wenyong Huang</span> That works perfectly now. Thank you so much !</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>