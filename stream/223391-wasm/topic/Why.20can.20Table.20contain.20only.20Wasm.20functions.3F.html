<html>
<head><meta charset="utf-8"><title>Why can Table contain only Wasm functions? · wasm · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/index.html">wasm</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/Why.20can.20Table.20contain.20only.20Wasm.20functions.3F.html">Why can Table contain only Wasm functions?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="215671008"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/Why%20can%20Table%20contain%20only%20Wasm%20functions%3F/near/215671008" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> YAMAMOTO Yuji <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/Why.20can.20Table.20contain.20only.20Wasm.20functions.3F.html#215671008">(Nov 05 2020 at 04:46)</a>:</h4>
<p>Recently I read a [Lin Clark's helpful introduction to Table][1] to understand use cases of Table.<br>
According to the article, Table is created to pass various functions such as  the Wasm module's functions,  external Wasm modules' functions, and JavaScript's functions,  if I read correctly.<br>
But actually, [MDN][2] says the <code>Table.prototype.set</code> method only accepts "an exported WebAssembly function". And both Firefox and V8 do throw an error given a JavaScript function as it says.<br>
To make sure, I consulted the [specification of set][3], and found MDN is correct (as a matter of course).</p>
<p>So my question is: Why was the feature of Table to refer to host's (i.e. JavaScript's) function dropped?<br>
Lin's explanation is very clear for me, so passing the pointer to a JavaScript function via a Table to Wasm modules' functions sounds an essential feature of Table.</p>
<p>[1]: <a href="https://hacks.mozilla.org/2017/07/webassembly-table-imports-what-are-they/">https://hacks.mozilla.org/2017/07/webassembly-table-imports-what-are-they/</a><br>
[2]: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Table/set">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Table/set</a><br>
[3]: <a href="https://webassembly.github.io/spec/js-api/#dom-table-set">https://webassembly.github.io/spec/js-api/#dom-table-set</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://hacks.mozilla.org/2017/07/webassembly-table-imports-what-are-they/" style="background-image: url(https://hacks.mozilla.org/wp-content/themes/Hax/img/hacks-meta-image.jpg)"></a><div class="data-container"><div class="message_embed_title"><a href="https://hacks.mozilla.org/2017/07/webassembly-table-imports-what-are-they/" title="WebAssembly table imports… what are they?">WebAssembly table imports… what are they?</a></div><div class="message_embed_description">This is the 3rd article in a 3-part series of articles with code cartoons that illustrate how to get started running WebAssembly modules and how to use table imports. </div></div></div><div class="message_embed"><a class="message_embed_image" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Table/set" style="background-image: url(https://developer.mozilla.org/static/img/opengraph-logo.72382e605ce3.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WebAssembly/Table/set" title="WebAssembly.Table.prototype.set()">WebAssembly.Table.prototype.set()</a></div><div class="message_embed_description">The set() prototype method of the WebAssembly.Table object mutates a reference stored at a given index to a different value.</div></div></div>



<a name="216825653"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/Why%20can%20Table%20contain%20only%20Wasm%20functions%3F/near/216825653" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> YAMAMOTO Yuji <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/Why.20can.20Table.20contain.20only.20Wasm.20functions.3F.html#216825653">(Nov 16 2020 at 01:45)</a>:</h4>
<p>I cross-posted this and got an answer: <a href="https://www.reddit.com/r/WebAssembly/comments/jslu0o/why_can_table_contain_only_wasm_functions/">https://www.reddit.com/r/WebAssembly/comments/jslu0o/why_can_table_contain_only_wasm_functions/</a> . Thank you!</p>
<div class="message_embed"><a class="message_embed_image" href="https://www.reddit.com/r/WebAssembly/comments/jslu0o/why_can_table_contain_only_wasm_functions/" style="background-image: url(https://external-preview.redd.it/aOx9ImmYQ9uKSulrAbdXQQLQ3IzoE1BsH-td8DLbmn4.jpg?auto=webp&amp;s=b184b6ab815578280d4438b2d3309311c9934c37)"></a><div class="data-container"><div class="message_embed_title"><a href="https://www.reddit.com/r/WebAssembly/comments/jslu0o/why_can_table_contain_only_wasm_functions/" title="r/WebAssembly - Why can Table contain only Wasm functions?">r/WebAssembly - Why can Table contain only Wasm functions?</a></div><div class="message_embed_description">8 votes and 4 comments so far on Reddit</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>