<html>
<head><meta charset="utf-8"><title>WIT and semicolons · wasm · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/index.html">wasm</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/WIT.20and.20semicolons.html">WIT and semicolons</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="393246513"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/WIT%20and%20semicolons/near/393246513" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/WIT.20and.20semicolons.html#393246513">(Sep 26 2023 at 14:30)</a>:</h4>
<p>As a heads up the plan is to <a href="https://github.com/WebAssembly/component-model/pull/249">add semicolons to the WIT text format</a> in the near future. With the spec updated  I've <a href="https://github.com/bytecodealliance/wasm-tools/pull/1212">updated the <code>wasm-tools</code> repository</a> and hope to publish that today and start integrating it into tools. This means that once that change starts propagating you can start putting semicolons in WIT files.</p>
<p>To avoid breaking too much this is a bit of a phased rollout:</p>
<ul>
<li>The <code>wit-parser 0.11.2</code> release will support semicolons in WIT, but not require it.</li>
<li>Any tooling which depends on that version of <code>wit-parser</code> can use semicolons</li>
<li>You can set <code>WIT_REQUIRE_SEMICOLONS=1</code> in CI or locally to simulate what will happen when they're required</li>
</ul>
<p>Eventually in the future we'll publish a version of <code>wit-parser</code> that requires semicolons by default but still supports optional semicolons via <code>WIT_REQUIRE_SEMICOLONS=0</code>. Then a bit further in the future the env var will be removed and semicolons will always be required.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/component-model/pull/249" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/d749973e6945a2d5548a195adbc218be197a2da8\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f306133633038636536383730386437623136643530346437613064613232343639636339383362663138386263313866373536343665396232663439373266312f576562417373656d626c792f636f6d706f6e656e742d6d6f64656c2f70756c6c2f323439)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/component-model/pull/249" title="Use semicolons as delimiters in WIT text format by alexcrichton · Pull Request #249 · WebAssembly/component-model">Use semicolons as delimiters in WIT text format by alexcrichton · Pull Request #249 · WebAssembly/component-model</a></div><div class="message_embed_description">This commit commit is an implementation of #142 where semicolons are now required as delimiters between items in the WIT text format. All items in the WIT format are now delimited with either curly...</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-tools/pull/1212" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/e7f22c9528aa64586a5481984a67cb72e093cc10\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f376131396431303261633963366432366632306138346662633934343835326163336430636561633365666162626133386263356638333033306437333964622f62797465636f6465616c6c69616e63652f7761736d2d746f6f6c732f70756c6c2f31323132)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-tools/pull/1212" title=" Add support for semicolon delimiters to wit-parser  by alexcrichton · Pull Request #1212 · bytecodealliance/wasm-tools"> Add support for semicolon delimiters to wit-parser  by alexcrichton · Pull Request #1212 · bytecodealliance/wasm-tools</a></div><div class="message_embed_description">This commit is an implementation of WebAssembly/component-model#142 to
add semicolon delimiters to the WIT text format. The intention of this
change is to be rolled out gradually to minimize ecosys...</div></div></div>



<a name="393246981"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/WIT%20and%20semicolons/near/393246981" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/WIT.20and.20semicolons.html#393246981">(Sep 26 2023 at 14:32)</a>:</h4>
<p>My rough idea for a timeline here is:</p>
<ul>
<li>By October 20 all tooling will support semicolons. This is the Wasmtime 14 release date.</li>
<li>On November 20 all tooling will require semicolons by default, this is the Wasmtime 15 release date.</li>
</ul>



<a name="393247022"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/WIT%20and%20semicolons/near/393247022" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/WIT.20and.20semicolons.html#393247022">(Sep 26 2023 at 14:32)</a>:</h4>
<ul>
<li>On December 20 all tooling won't have an option to parse non-semicolon-using WITs, this is Wasmtime 16</li>
</ul>



<a name="393247291"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/WIT%20and%20semicolons/near/393247291" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/WIT.20and.20semicolons.html#393247291">(Sep 26 2023 at 14:34)</a>:</h4>
<p>With exact dates being a bit fungible, so for example <code>wasm-tools</code> will on November 5 require semicolons by default since that will then be integrated into Wasmtime for the release later that month. The hope though is that by smearing this over a few months it should reduce churn where if you hit breakage it should be straightforward to fix without requiring everything be updated all at once. In theory. We'll see!</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>