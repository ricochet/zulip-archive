<html>
<head><meta charset="utf-8"><title>✔ wasm-bindgen/wit-bindgen commonality · wasm · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/index.html">wasm</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html">✔ wasm-bindgen/wit-bindgen commonality</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="351037692"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351037692" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351037692">(Apr 19 2023 at 12:50)</a>:</h4>
<p>I was thinking about maybe doing a bit more source codegen for c# (I did a bit of playing with witx-bindgen some time back), and want to ask the question, how much commonality is there between the source code generator in wit-bindgen and the one in wasm-bindgen, and the one that was in witx-bindgen ?</p>



<a name="351051464"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351051464" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351051464">(Apr 19 2023 at 13:37)</a>:</h4>
<p>wasm-bindgen is entirely unrelated to wit/witx. It is exclusively for rust code and running inside a javascript engine.</p>



<a name="351051834"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351051834" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351051834">(Apr 19 2023 at 13:38)</a>:</h4>
<p>As far as I understand wit is being standardized with the wasm component model. Witx doesn't work with the wasm component model.</p>



<a name="351057595"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351057595" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351057595">(Apr 19 2023 at 13:59)</a>:</h4>
<p>Yes, I just wondered if they had the same authors and might have been similar designs.    I know wasm-bindgen is for rust, but it's page does say "and it's hoping that over time as this tool stabilizes that it can be used for languages like C/C++" <a href="https://rustwasm.github.io/docs/wasm-bindgen/">https://rustwasm.github.io/docs/wasm-bindgen/</a>  Maybe that's out of date.</p>



<a name="351061444"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351061444" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351061444">(Apr 19 2023 at 14:12)</a>:</h4>
<p>I like the idea of making wasm-bindgen, "bindgen" for c#  but not if its going to be 100% dead code in a years time.  As I understand it wasm-bindgen was a "sort of half polyfill for features like the host bindings proposal" which is replaced by the component model.   There is a relation here isn't there?</p>



<a name="351064211"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351064211" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351064211">(Apr 19 2023 at 14:22)</a>:</h4>
<p>I wrote most of wasm and wit bindgen and I'd recommend wit bindgen for the component model. The two have somewhat similar designs but not really enough to substantively share anything. The input to both bindings generators is very different.</p>
<p>Also don't hold your breath for C and C++ support in wasm-bindgen, those docs are very outdated</p>



<a name="351087156"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351087156" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351087156">(Apr 19 2023 at 15:43)</a>:</h4>
<p>Thanks, I wonder, could you take the wasm-bindgen's web IDL frontend to create a Wasm module, or object file out of web-sys, define the functions you want from Web IDL to wit, create a tool to marshal the wit calls to Web IDL, then use the the wit source gen in the source language?</p>



<a name="351087491"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351087491" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351087491">(Apr 19 2023 at 15:44)</a>:</h4>
<p>So the source language talks component model, but it is mangled into Web IDL using another generator, then leverage the wasm-bindgen WebIDL frontend to get to JS</p>



<a name="351087515"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351087515" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351087515">(Apr 19 2023 at 15:45)</a>:</h4>
<p>Well, what's within the realm of possibility is only limited by how big we can dream. </p>
<p>What I can say though is that from a practical side of things that would likely be quite a lot of work with quite a few compromises along the way with a lot of overlap with existing work in other areas. Probably could be done, wouldn't necessarily recommend doing so though.</p>



<a name="351087623"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351087623" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351087623">(Apr 19 2023 at 15:45)</a>:</h4>
<p>mm, ok, thanks</p>



<a name="351088117"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351088117" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351088117">(Apr 19 2023 at 15:47)</a>:</h4>
<p>What are the "other areas" you are thinking of?  As far as I can tell using wit/component model to get to the DOM is in pretty early stages in Chromium at least</p>



<a name="351088431"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351088431" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351088431">(Apr 19 2023 at 15:48)</a>:</h4>
<p>I do a lot of dreaming :-)</p>



<a name="351092226"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351092226" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351092226">(Apr 19 2023 at 16:02)</a>:</h4>
<p>There's quite a lot of overlap between things like WASI, the component model, WebIDL, what wasm-bindgen does, and web-sys. Not to say there's complete overlap of course, as WASI isn't planning on adding a DOM any time soon.</p>
<p>One day this is something I'd like to see as well, basically a componentized version of web-sys with a bindings generator that automatically hooks up everything in the same manner that <code>wasm-bindgen</code> does today. I haven't thought much about it beyond this though</p>



<a name="351095225"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/351095225" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#351095225">(Apr 19 2023 at 16:13)</a>:</h4>
<p><span class="user-mention silent" data-user-id="395878">Scott Waye</span> has marked this topic as resolved.</p>



<a name="384454018"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/384454018" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DougAnderson444 | PeerPiper.io <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#384454018">(Aug 13 2023 at 10:34)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253994">Alex Crichton</span> <a href="#narrow/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality/near/351092226">said</a>:</p>
<blockquote>
<p>basically a componentized version of web-sys with a bindings generator that automatically hooks up everything in the same manner that <code>wasm-bindgen</code></p>
</blockquote>
<p><span aria-label="heart eyes" class="emoji emoji-1f60d" role="img" title="heart eyes">:heart_eyes:</span> <br>
Giving us a way to build <strong>reusable</strong>, <strong>composable</strong> wasm Websites components, executed in a <strong>sandboxed</strong> way? Do we realize how powerful this would be? Especially in terms of limiting data exfiltration on the web!</p>



<a name="384538794"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/384538794" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DougAnderson444 | PeerPiper.io <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#384538794">(Aug 13 2023 at 16:30)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="253998">@Luke Wagner</span> The <a href="https://github.com/rustwasm/wasm-bindgen/tree/main#features">wasm-bindgen</a> repo says</p>
<blockquote>
<p>Designed with the "Web IDL bindings" proposal in mind. Eventually, there won't be any JavaScript shims between Rust-generated wasm functions and native DOM methods. Because the wasm functions are statically type checked, some of those native methods' dynamic type checks should become unnecessary, promising to unlock even-faster-than-JavaScript DOM access.</p>
</blockquote>
<p>...which is <a href="https://github.com/WebAssembly/proposals/issues/8">linked here</a> with your name on it. </p>
<p>I see that issue has deferred to the Component Model, which is great and I am wondering if the goals are the same: interface directly to the DOM and eventually skip the JavaScript middleman?</p>
<p>I asked because of what <span class="user-mention" data-user-id="253994">@Alex Crichton</span>  says above -- one day it would be great to have <code>web-sys</code> component that interfaces to the DOM. Is this on the roadmap anywhere? I am very excited by the prospect of being able to manipulate the DOM from inside a WIT Component!</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/rustwasm/wasm-bindgen/tree/main#features" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/5a1f63cf7aedabfb90dadb3cf10841c73bfebcff\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f386231336563643865303434323239653939366466613764363638393266326566653165663836363735336532646130323161663835663030613632353361302f727573747761736d2f7761736d2d62696e6467656e)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/rustwasm/wasm-bindgen/tree/main#features" title="GitHub - rustwasm/wasm-bindgen: Facilitating high-level interactions between Wasm modules and JavaScript">GitHub - rustwasm/wasm-bindgen: Facilitating high-level interactions between Wasm modules and JavaScript</a></div><div class="message_embed_description">Facilitating high-level interactions between Wasm modules and JavaScript - GitHub - rustwasm/wasm-bindgen: Facilitating high-level interactions between Wasm modules and JavaScript</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/proposals/issues/8" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/9ef455e2c9153ee6c9cf76dccd11864ff5cb352e\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f396533356465396266396430336466613266626362306665633136613539366365353965313936346664363966373531613064363733336235653934366535352f576562417373656d626c792f70726f706f73616c732f6973737565732f38)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/proposals/issues/8" title="🛤 Interface types · Issue #8 · WebAssembly/proposals">🛤 Interface types · Issue #8 · WebAssembly/proposals</a></div><div class="message_embed_description">This is a tracking issue for a post-MVP feature It will be updated as the issue progresses. Topic WebIDL bindings Champion Luke Wagner @lukewagner Status in progress Phase Feature proposal Linked i...</div></div></div>



<a name="384594043"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/384594043" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#384594043">(Aug 13 2023 at 22:30)</a>:</h4>
<p>the plan is to at some point have a dom world you can import in your components, but remember that means browsers must natively support component model, which means it requires at least a 1.0 release, not a preview2 soon to be preview3. Judging by the roadmap Bailey showed last month, I would guess work on browser support of the final component model specification can start early next year, but that is pure speculation</p>



<a name="384827013"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/384827013" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#384827013">(Aug 14 2023 at 15:54)</a>:</h4>
<p>the component model doesn't require native support by browsers, though that would be nice to see one day. it can run in js engines today via <code>jco</code></p>



<a name="385104146"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/385104146" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#385104146">(Aug 15 2023 at 12:23)</a>:</h4>
<p>their goal was to have native browser apis, as in wasi directly calling C functions, circumventing js entirely</p>



<a name="385104275"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/385104275" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#385104275">(Aug 15 2023 at 12:24)</a>:</h4>
<p>that's the thing where I'm pretty sure you can't even start work on it until a 1.0 component model</p>



<a name="385105487"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/385105487" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#385105487">(Aug 15 2023 at 12:28)</a>:</h4>
<p>though I'd love to be wrong :) combining wasm-bindgen with wit-bindgen and browsers exporting dom calls through component interfaces would be a big milestone for wasi everywhere, people still are very biased against wasm frontends since there are a lot of rumours about the complexity of converting values between wasm and js</p>



<a name="385231423"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/385231423" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#385231423">(Aug 15 2023 at 15:35)</a>:</h4>
<p>wasm shipped as an mvp in browsers before it was 1.0</p>



<a name="385233265"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/385233265" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#385233265">(Aug 15 2023 at 15:41)</a>:</h4>
<p>the complexity of converting values between wasm and js has definitely been an issue that has prevented wasm from being used more widely. the component model and all the wit tooling has been heavily informed by both the successes and failures of wasm-bindgen - alex was a leader on wasm-bindgen and has been the leader in defining what wit is and how the tools work.</p>



<a name="385249675"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/385249675" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DougAnderson444 | PeerPiper.io <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#385249675">(Aug 15 2023 at 16:37)</a>:</h4>
<p>The <code>wasm-bindgen</code> readme says </p>
<blockquote>
<p>Eventually, there won't be any JavaScript shims between Rust-generated wasm functions and native DOM methods.</p>
</blockquote>
<p>which would mean we would be able to skip over the javascript conversion all together (=awesome)</p>
<p>The idea I was wondering about was making a WIT world with DOM import functions, then passing the WIT a handle to the DOM functions. I'm pretty sure that would work in present day, yes?</p>



<a name="385250517"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/385250517" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#385250517">(Aug 15 2023 at 16:42)</a>:</h4>
<p>I think you could do that with jco already, but I'm almost sure jco would still just call the dom updates in js code and send you back the responses, it could be used to prototype a dom wit but ultimately browsers need to implement that world's host in their C code</p>



<a name="385256735"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/385256735" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#385256735">(Aug 15 2023 at 17:24)</a>:</h4>
<p>You can do that today, but only for functions that only work with "value types" (think: stuff you can represent in JSON). Once resources are implemented in jco I believe it should be fairly straightforward to implement at least large parts of the DOM APIs.</p>



<a name="418340849"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/%E2%9C%94%20wasm-bindgen/wit-bindgen%20commonality/near/418340849" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DougAnderson444 | PeerPiper.io <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/.E2.9C.94.20wasm-bindgen.2Fwit-bindgen.20commonality.html#418340849">(Jan 26 2024 at 19:42)</a>:</h4>
<p>Linking this here for eveyrone, <span class="user-mention" data-user-id="395878">@Scott Waye</span>  <br>
<a href="https://github.com/MendyBerger/webidl-wit#conversions-from-webidl-to-wit-types">https://github.com/MendyBerger/webidl-wit#conversions-from-webidl-to-wit-types</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/MendyBerger/webidl-wit#conversions-from-webidl-to-wit-types" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/6f08e24dbea323ed9700ecbf47b3794fe1bd81b3\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f346162313062376662333130623566306533316339346338643434363761303061646432386337383839383266306262346439306438326637386334383437652f4d656e64794265726765722f77656269646c2d776974)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/MendyBerger/webidl-wit#conversions-from-webidl-to-wit-types" title="GitHub - MendyBerger/webidl-wit">GitHub - MendyBerger/webidl-wit</a></div><div class="message_embed_description">Contribute to MendyBerger/webidl-wit development by creating an account on GitHub.</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>