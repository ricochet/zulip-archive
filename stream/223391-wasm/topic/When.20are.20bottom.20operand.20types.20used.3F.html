<html>
<head><meta charset="utf-8"><title>When are bottom operand types used? · wasm · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/index.html">wasm</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/When.20are.20bottom.20operand.20types.20used.3F.html">When are bottom operand types used?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="293678625"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/When%20are%20bottom%20operand%20types%20used%3F/near/293678625" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julien Cretin (ia0) <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/When.20are.20bottom.20operand.20types.20used.3F.html#293678625">(Aug 16 2022 at 09:06)</a>:</h4>
<p>Hi! I tried grepping for <code>\bot</code> in the spec and it only seems to appear where it is defined. Am I missing something? Thanks!</p>



<a name="293708261"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/When%20are%20bottom%20operand%20types%20used%3F/near/293708261" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/When.20are.20bottom.20operand.20types.20used.3F.html#293708261">(Aug 16 2022 at 12:47)</a>:</h4>
<p>It is used for example at <a href="https://webassembly.github.io/spec/core/exec/instructions.html#host-functions">https://webassembly.github.io/spec/core/exec/instructions.html#host-functions</a></p>



<a name="293709658"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/When%20are%20bottom%20operand%20types%20used%3F/near/293709658" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julien Cretin (ia0) <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/When.20are.20bottom.20operand.20types.20used.3F.html#293709658">(Aug 16 2022 at 12:56)</a>:</h4>
<p>To my understanding, this is a different bottom. It represents that the host function does not return during execution. The bottom I'm talking about is the operand type during validation.</p>



<a name="293771116"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/When%20are%20bottom%20operand%20types%20used%3F/near/293771116" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/When.20are.20bottom.20operand.20types.20used.3F.html#293771116">(Aug 16 2022 at 18:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="517563">Ivan Font</span> has marked this topic as resolved.</p>



<a name="293771128"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/When%20are%20bottom%20operand%20types%20used%3F/near/293771128" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/When.20are.20bottom.20operand.20types.20used.3F.html#293771128">(Aug 16 2022 at 18:00)</a>:</h4>
<p><span class="user-mention silent" data-user-id="517563">Ivan Font</span> has marked this topic as unresolved.</p>



<a name="293896109"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/223391-wasm/topic/When%20are%20bottom%20operand%20types%20used%3F/near/293896109" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Julien Cretin (ia0) <a href="https://bytecodealliance.github.io/zulip-archive/stream/223391-wasm/topic/When.20are.20bottom.20operand.20types.20used.3F.html#293896109">(Aug 17 2022 at 13:25)</a>:</h4>
<p>I believe there is a trace of answer in this issue: <a href="https://github.com/WebAssembly/spec/pull/1521">https://github.com/WebAssembly/spec/pull/1521</a>. Bottom types were intended to be used to model stack-polymorphic operations.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/spec/pull/1521" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/c2f9ab520cecde227d3cd22a384a5f780f616416\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f393939623635613265356564333566376230393061613764643333373962336632356363663035643532323265613365363138376664663539633533306538632f576562417373656d626c792f737065632f70756c6c2f31353231)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/spec/pull/1521" title="[test] Fix invalid ref.is_null after select by ia0 · Pull Request #1521 · WebAssembly/spec">[test] Fix invalid ref.is_null after select by ia0 · Pull Request #1521 · WebAssembly/spec</a></div><div class="message_embed_description">select without argument produces a numeric or vector type while ref.is_null consumes a reference type. Since those types are disjoint, select followed by ref.is_null can never be well-typed.
The te...</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>