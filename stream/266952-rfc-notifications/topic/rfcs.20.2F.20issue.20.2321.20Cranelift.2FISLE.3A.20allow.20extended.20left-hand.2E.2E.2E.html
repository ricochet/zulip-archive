<html>
<head><meta charset="utf-8"><title>rfcs / issue #21 Cranelift/ISLE: allow extended left-hand... · rfc-notifications · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/index.html">rfc-notifications</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html">rfcs / issue #21 Cranelift/ISLE: allow extended left-hand...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="280021175"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280021175" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280021175">(Apr 25 2022 at 04:54)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1108077203">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>This is an elaboration of some of the high-level thoughts I mentioned in the <a href="https://github.com/bytecodealliance/wasmtime/blob/main/meetings/cranelift/2022/cranelift-04-18.md">last Cranelift biweekly</a>, and originally came from some discussions and head-scratching while pair-implementing some x64 rules with @abrown (thanks!). I spent some time playing with a bunch of different corners of the design space and this seems like the best option so far, but I'm curious if anyone has better ideas; I figured this was at the point that I could lay it out for feedback, in any case!</p>
</blockquote>



<a name="280052869"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280052869" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280052869">(Apr 25 2022 at 11:06)</a>:</h4>
<p>sparker-arm <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1108425069">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>This looks good to me... I'm currently trying to port IaddPairwise lowering to {U|S}ADDLP for aarch64 and I'm not finding it intuitive, so anything that makes it clearer how to use a N-to-1 extractor(s) would be great. My specific problem requires pattern matching a diamond shaped DAG and, I think, from your examples of current hacks, I can currently achieve this with using an approach from @uweigand. But, again, it doesn't look natural or really make obvious sense to me.</p>
<p>For my clarification, can current extractors use put_in_reg? Or is this considered as having side-effects? </p>
<p>I also like having the 'given' for predicates, such as for architecture features.</p>
</blockquote>



<a name="280097965"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280097965" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280097965">(Apr 25 2022 at 16:55)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1108813498">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Thanks! For what it's worth @sparker-arm I'd be happy to help you work out how to get particular lowerings to work sometime, if you think that would be useful. (I've done some Zoom pair-implementing with abrown before and it's always interesting and educational for both of us!)</p>
<blockquote>
<p>For my clarification, can current extractors use put_in_reg? Or is this considered as having side-effects?</p>
</blockquote>
<p>It's a side-effecting constructor, so this would only come in the RHS. In general the phasing divide that makes sense I think is to collect as much as we need to match in the LHS (this includes "pure" parts that we may or may not be able to build, like certain immediate kinds), and then start the emission actions in the RHS. The only kinds of actions that <em>have</em> to come in the RHS (after we commit) are <code>put_in_reg</code>, <code>sink_inst</code>, and <code>emit</code>, I think.</p>
</blockquote>



<a name="280100882"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280100882" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280100882">(Apr 25 2022 at 17:17)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1108834901">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Ah, I forgot to cc @avanhatt re: verification concerns -- please let us know what you think as well!</p>
</blockquote>



<a name="280100918"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280100918" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280100918">(Apr 25 2022 at 17:17)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1108835482">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>This example</p>
<div class="codehilite" data-code-language="Common Lisp"><pre><span></span><code><span class="p">(</span><span class="nv">rule</span> <span class="p">(</span><span class="nv">lower</span> <span class="p">(</span><span class="nv">magic_simd_op</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">))</span>
      <span class="p">(</span><span class="nv">given</span> <span class="p">(</span><span class="nv">magic_simd_extension_enabled</span><span class="p">))</span>
      <span class="p">(</span><span class="nv">x64_magic_simd_op</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">))</span>
</code></pre></div>
<p>seems like it would be better written as the following so that it isn't "backwards" -- which users have found confusing -- with the new language extension:</p>
<p><div class="codehilite" data-code-language="Common Lisp"><pre><span></span><code><span class="p">(</span><span class="nv">rule</span> <span class="p">(</span><span class="nv">lower</span> <span class="p">(</span><span class="nv">magic_simd_op</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">))</span>
      <span class="p">(</span><span class="nv">given</span> <span class="nv">_</span> <span class="p">(</span><span class="nv">magic_simd_extension_enabled</span><span class="p">))</span>
      <span class="p">(</span><span class="nv">x64_magic_simd_op</span> <span class="nv">x</span> <span class="nv">y</span><span class="p">))</span>
</code></pre></div><br>
</p>
</blockquote>



<a name="280101167"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280101167" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280101167">(Apr 25 2022 at 17:20)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1108839686">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>(And that would let us get rid of optional expressions in <code>given</code> clauses, simplifying the language extension a little)</p>
</blockquote>



<a name="280101224"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280101224" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280101224">(Apr 25 2022 at 17:20)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1108839883">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Overall, I like this a lot!</p>
</blockquote>



<a name="280101282"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280101282" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280101282">(Apr 25 2022 at 17:21)</a>:</h4>
<p>fitzgen <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1108840577">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Are you imagining that pure external terms would only get <code>&amp;self</code> context methods?</p>
</blockquote>



<a name="280101728"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280101728" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280101728">(Apr 25 2022 at 17:24)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1108843436">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<blockquote>
<p>Are you imagining that pure external terms would only get <code>&amp;self</code> context methods?</p>
</blockquote>
<p>I actually hadn't considered that at least at first, as extractors take <code>&amp;mut self</code> right now as well (if I remember right this was mostly for consistency but there may be some cases where we memoize as well). But it does seem like a nice long-term goal to take <code>&amp;self</code> both for extractors and pure constructors, for more safety in the Rust bindings.</p>
</blockquote>



<a name="280101895"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280101895" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280101895">(Apr 25 2022 at 17:26)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1108844436">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<blockquote>
<p>(And that would let us get rid of optional expressions in <code>given</code> clauses, simplifying the language extension a little)</p>
</blockquote>
<p>Hmm, yeah, I like your version better here, thanks!</p>
</blockquote>



<a name="280179111"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280179111" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280179111">(Apr 26 2022 at 08:55)</a>:</h4>
<p>sparker-arm <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1109532572">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<blockquote>
<p>I'd be happy to help you work out how to get particular lowerings to work sometime</p>
</blockquote>
<p>Thanks!</p>
<blockquote>
<p>It's a side-effecting constructor, so this would only come in the RHS.</p>
</blockquote>
<p>Sorry to go off track, but why is it that to look at a value produced by an instruction, we have to put_in_reg first? Can't extractors understand an SSA value from an instruction, without causing side-effects? As a concrete example, is something like a simple optimisation like this possible?</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="p">(</span><span class="n">rule</span><span class="w"> </span><span class="p">(</span><span class="n">lower</span><span class="w"> </span><span class="p">(</span><span class="n">isub</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="n">y</span><span class="p">))</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="n">given</span><span class="w"> </span><span class="p">(</span><span class="n">are_equal</span><span class="w"> </span><span class="n">x</span><span class="w">  </span><span class="n">y</span><span class="p">))</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="n">iconst</span><span class="w"> </span><span class="mi">0</span><span class="p">))</span><span class="w"></span>
</code></pre></div>
</blockquote>



<a name="280233216"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280233216" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280233216">(Apr 26 2022 at 16:14)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1109988498">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<blockquote>
<p>Sorry to go off track, but why is it that to look at a value produced by an instruction, we have to put_in_reg first? Can't extractors understand an SSA value from an instruction, without causing side-effects? As a concrete example, is something like a simple optimisation like this possible?</p>
<p><code>
(rule (lower (isub x y))
  (given (are_equal x  y))
  (iconst 0))
</code></p>
</blockquote>
<p>That's definitely possible! <code>put_in_reg</code> isn't needed to look at the SSA <code>Value</code>; it is only needed once one decides to put the value in a register and use it in a machine instruction.</p>
</blockquote>



<a name="280269319"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280269319" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280269319">(Apr 26 2022 at 20:41)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1110229491">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Thanks all -- updated based on feedback!</p>
<p>It seems like there are no really big concerns here yet (and after speaking with @avanhatt, @mlfbrown and @mpardesh today it sounds like this should work for <code>isle-veri</code> as well), but please let me know if there are any other lingering concerns. Otherwise I'll likely move this to final-call status in a day or two.</p>
</blockquote>



<a name="280404266"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280404266" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280404266">(Apr 27 2022 at 20:07)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1111432362">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Alright, it is now time for the FCP, I think! I'll create the stakeholders list below based on committers to Cranelift active in the past three months (since Jan 26, anything more than a trivial doc fix) and Cranelift-related RFCs, plus anyone who has commented here.</p>
<h1>Motion to finalize with a disposition to merge</h1>
<h1>Stakeholders sign-off</h1>
<h2>Arm</h2>
<ul>
<li>[ ] @akirilov-arm</li>
<li>[ ] @sparker-arm</li>
<li>[ ] @dheaton-arm</li>
<li>[ ] @FreddieLiardet</li>
</ul>
<h2>Cornell</h2>
<ul>
<li>[ ] @avanhatt</li>
</ul>
<h2>Fastly</h2>
<ul>
<li>[ ] @alexcrichton </li>
<li>[x] @cfallin</li>
<li>[ ] @fitzgen </li>
</ul>
<h2>IBM</h2>
<ul>
<li>[ ] @uweigand</li>
</ul>
<h2>Intel</h2>
<ul>
<li>[ ] @abrown </li>
<li>[ ] @jlb6740</li>
</ul>
<h2>Unaffiliated</h2>
<ul>
<li>[ ] @bjorn3</li>
</ul>
</blockquote>



<a name="280405330"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280405330" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280405330">(Apr 27 2022 at 20:17)</a>:</h4>
<p>fitzgen edited a <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1111432362">comment</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Alright, it is now time for the FCP, I think! I'll create the stakeholders list below based on committers to Cranelift active in the past three months (since Jan 26, anything more than a trivial doc fix) and Cranelift-related RFCs, plus anyone who has commented here.</p>
<h1>Motion to finalize with a disposition to merge</h1>
<h1>Stakeholders sign-off</h1>
<h2>Arm</h2>
<ul>
<li>[ ] @akirilov-arm</li>
<li>[ ] @sparker-arm</li>
<li>[ ] @dheaton-arm</li>
<li>[ ] @FreddieLiardet</li>
</ul>
<h2>Cornell</h2>
<ul>
<li>[ ] @avanhatt</li>
</ul>
<h2>Fastly</h2>
<ul>
<li>[ ] @alexcrichton </li>
<li>[x] @cfallin</li>
<li>[x] @fitzgen </li>
</ul>
<h2>IBM</h2>
<ul>
<li>[ ] @uweigand</li>
</ul>
<h2>Intel</h2>
<ul>
<li>[ ] @abrown </li>
<li>[ ] @jlb6740</li>
</ul>
<h2>Unaffiliated</h2>
<ul>
<li>[ ] @bjorn3</li>
</ul>
</blockquote>



<a name="280407112"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280407112" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280407112">(Apr 27 2022 at 20:33)</a>:</h4>
<p>alexcrichton edited a <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1111432362">comment</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Alright, it is now time for the FCP, I think! I'll create the stakeholders list below based on committers to Cranelift active in the past three months (since Jan 26, anything more than a trivial doc fix) and Cranelift-related RFCs, plus anyone who has commented here.</p>
<h1>Motion to finalize with a disposition to merge</h1>
<h1>Stakeholders sign-off</h1>
<h2>Arm</h2>
<ul>
<li>[ ] @akirilov-arm</li>
<li>[ ] @sparker-arm</li>
<li>[ ] @dheaton-arm</li>
<li>[ ] @FreddieLiardet</li>
</ul>
<h2>Cornell</h2>
<ul>
<li>[ ] @avanhatt</li>
</ul>
<h2>Fastly</h2>
<ul>
<li>[x] @alexcrichton </li>
<li>[x] @cfallin</li>
<li>[x] @fitzgen </li>
</ul>
<h2>IBM</h2>
<ul>
<li>[ ] @uweigand</li>
</ul>
<h2>Intel</h2>
<ul>
<li>[ ] @abrown </li>
<li>[ ] @jlb6740</li>
</ul>
<h2>Unaffiliated</h2>
<ul>
<li>[ ] @bjorn3</li>
</ul>
</blockquote>



<a name="280409703"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280409703" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280409703">(Apr 27 2022 at 20:56)</a>:</h4>
<p>cfallin edited a <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1111432362">comment</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Alright, it is now time to make a motion to finalize, I think! I'll create the stakeholders list below based on committers to Cranelift active in the past three months (since Jan 26, anything more than a trivial doc fix) and Cranelift-related RFCs, plus anyone who has commented here.</p>
<h1>Motion to finalize with a disposition to merge</h1>
<h1>Stakeholders sign-off</h1>
<h2>Arm</h2>
<ul>
<li>[ ] @akirilov-arm</li>
<li>[ ] @sparker-arm</li>
<li>[ ] @dheaton-arm</li>
<li>[ ] @FreddieLiardet</li>
</ul>
<h2>Cornell</h2>
<ul>
<li>[ ] @avanhatt</li>
</ul>
<h2>Fastly</h2>
<ul>
<li>[x] @alexcrichton </li>
<li>[x] @cfallin</li>
<li>[x] @fitzgen </li>
</ul>
<h2>IBM</h2>
<ul>
<li>[ ] @uweigand</li>
</ul>
<h2>Intel</h2>
<ul>
<li>[ ] @abrown </li>
<li>[ ] @jlb6740</li>
</ul>
<h2>Unaffiliated</h2>
<ul>
<li>[ ] @bjorn3</li>
</ul>
</blockquote>



<a name="280422600"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280422600" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280422600">(Apr 27 2022 at 22:57)</a>:</h4>
<p>cfallin edited a <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1111432362">comment</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Alright, it is now time to make a motion to finalize, I think! I'll create the stakeholders list below based on committers to Cranelift active in the past three months (since Jan 26, anything more than a trivial doc fix) and Cranelift-related RFCs, plus anyone who has commented here.</p>
<h1>Motion to finalize with a disposition to merge</h1>
<h1>Stakeholders sign-off</h1>
<h2>Arm</h2>
<ul>
<li>[ ] @akirilov-arm</li>
<li>[ ] @sparker-arm</li>
<li>[ ] @dheaton-arm</li>
<li>[ ] @FreddieLiardet</li>
</ul>
<h2>Cornell</h2>
<ul>
<li>[ ] @avanhatt</li>
</ul>
<h2>Fastly</h2>
<ul>
<li>[x] @alexcrichton </li>
<li>[x] @cfallin</li>
<li>[x] @fitzgen </li>
</ul>
<h2>IBM</h2>
<ul>
<li>[ ] @uweigand</li>
</ul>
<h2>Intel</h2>
<ul>
<li>[x] @abrown </li>
<li>[ ] @jlb6740</li>
</ul>
<h2>Unaffiliated</h2>
<ul>
<li>[ ] @bjorn3</li>
</ul>
</blockquote>



<a name="280422745"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280422745" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280422745">(Apr 27 2022 at 22:59)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1111558371">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>With approvals from two separate groups (Fastly and Intel) this now enters the <em>Final Comment Period</em>, which will end on Mon May 9 (unless all groups have at least one approval, shortcutting the process, or any objections are raised, pausing it).</p>
</blockquote>



<a name="280516384"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280516384" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280516384">(Apr 28 2022 at 16:03)</a>:</h4>
<p>uweigand <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1112386381">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Looks good to me, thanks!</p>
</blockquote>



<a name="280526548"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280526548" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280526548">(Apr 28 2022 at 17:14)</a>:</h4>
<p>cfallin edited a <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1111432362">comment</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Alright, it is now time to make a motion to finalize, I think! I'll create the stakeholders list below based on committers to Cranelift active in the past three months (since Jan 26, anything more than a trivial doc fix) and Cranelift-related RFCs, plus anyone who has commented here.</p>
<h1>Motion to finalize with a disposition to merge</h1>
<h1>Stakeholders sign-off</h1>
<h2>Arm</h2>
<ul>
<li>[ ] @akirilov-arm</li>
<li>[ ] @sparker-arm</li>
<li>[ ] @dheaton-arm</li>
<li>[ ] @FreddieLiardet</li>
</ul>
<h2>Cornell</h2>
<ul>
<li>[ ] @avanhatt</li>
</ul>
<h2>Fastly</h2>
<ul>
<li>[x] @alexcrichton </li>
<li>[x] @cfallin</li>
<li>[x] @fitzgen </li>
</ul>
<h2>IBM</h2>
<ul>
<li>[x] @uweigand</li>
</ul>
<h2>Intel</h2>
<ul>
<li>[x] @abrown </li>
<li>[ ] @jlb6740</li>
</ul>
<h2>Unaffiliated</h2>
<ul>
<li>[ ] @bjorn3</li>
</ul>
</blockquote>



<a name="280526564"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280526564" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280526564">(Apr 28 2022 at 17:14)</a>:</h4>
<p>cfallin edited a <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1111432362">comment</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Alright, it is now time to make a motion to finalize, I think! I'll create the stakeholders list below based on committers to Cranelift active in the past three months (since Jan 26, anything more than a trivial doc fix) and Cranelift-related RFCs, plus anyone who has commented here.</p>
<h1>Motion to finalize with a disposition to merge</h1>
<h1>Stakeholders sign-off</h1>
<h2>Arm</h2>
<ul>
<li>[ ] @akirilov-arm</li>
<li>[ ] @sparker-arm</li>
<li>[ ] @dheaton-arm</li>
<li>[ ] @FreddieLiardet</li>
</ul>
<h2>Cornell</h2>
<ul>
<li>[x] @avanhatt</li>
</ul>
<h2>Fastly</h2>
<ul>
<li>[x] @alexcrichton </li>
<li>[x] @cfallin</li>
<li>[x] @fitzgen </li>
</ul>
<h2>IBM</h2>
<ul>
<li>[x] @uweigand</li>
</ul>
<h2>Intel</h2>
<ul>
<li>[x] @abrown </li>
<li>[ ] @jlb6740</li>
</ul>
<h2>Unaffiliated</h2>
<ul>
<li>[ ] @bjorn3</li>
</ul>
</blockquote>



<a name="280529814"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280529814" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280529814">(Apr 28 2022 at 17:39)</a>:</h4>
<p>sparker-arm <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1112488232">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Yeah, LGTM too, thanks!</p>
</blockquote>



<a name="280529992"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280529992" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280529992">(Apr 28 2022 at 17:41)</a>:</h4>
<p>cfallin edited a <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1111432362">comment</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Alright, it is now time to make a motion to finalize, I think! I'll create the stakeholders list below based on committers to Cranelift active in the past three months (since Jan 26, anything more than a trivial doc fix) and Cranelift-related RFCs, plus anyone who has commented here.</p>
<h1>Motion to finalize with a disposition to merge</h1>
<h1>Stakeholders sign-off</h1>
<h2>Arm</h2>
<ul>
<li>[ ] @akirilov-arm</li>
<li>[x] @sparker-arm</li>
<li>[ ] @dheaton-arm</li>
<li>[ ] @FreddieLiardet</li>
</ul>
<h2>Cornell</h2>
<ul>
<li>[x] @avanhatt</li>
</ul>
<h2>Fastly</h2>
<ul>
<li>[x] @alexcrichton </li>
<li>[x] @cfallin</li>
<li>[x] @fitzgen </li>
</ul>
<h2>IBM</h2>
<ul>
<li>[x] @uweigand</li>
</ul>
<h2>Intel</h2>
<ul>
<li>[x] @abrown </li>
<li>[ ] @jlb6740</li>
</ul>
<h2>Unaffiliated</h2>
<ul>
<li>[ ] @bjorn3</li>
</ul>
</blockquote>



<a name="280537288"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280537288" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280537288">(Apr 28 2022 at 18:35)</a>:</h4>
<p>cfallin edited a <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1111432362">comment</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Alright, it is now time to make a motion to finalize, I think! I'll create the stakeholders list below based on committers to Cranelift active in the past three months (since Jan 26, anything more than a trivial doc fix) and Cranelift-related RFCs, plus anyone who has commented here.</p>
<h1>Motion to finalize with a disposition to merge</h1>
<h1>Stakeholders sign-off</h1>
<h2>Arm</h2>
<ul>
<li>[ ] @akirilov-arm</li>
<li>[x] @sparker-arm</li>
<li>[ ] @dheaton-arm</li>
<li>[ ] @FreddieLiardet</li>
</ul>
<h2>Cornell</h2>
<ul>
<li>[x] @avanhatt</li>
</ul>
<h2>Fastly</h2>
<ul>
<li>[x] @alexcrichton </li>
<li>[x] @cfallin</li>
<li>[x] @fitzgen </li>
</ul>
<h2>IBM</h2>
<ul>
<li>[x] @uweigand</li>
</ul>
<h2>Intel</h2>
<ul>
<li>[x] @abrown </li>
<li>[ ] @jlb6740</li>
</ul>
<h2>Unaffiliated</h2>
<ul>
<li>[x] @bjorn3</li>
</ul>
</blockquote>



<a name="280537645"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280537645" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280537645">(Apr 28 2022 at 18:38)</a>:</h4>
<p>cfallin <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1112538125">commented</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>With approvals from all stakeholder groups above, the final comment period has ended early and this RFC will merge:  as per the <a href="https://github.com/bytecodealliance/rfcs/blob/main/accepted/rfc-process.md">RFC process</a>,</p>
<blockquote>
<p>Finally, the RFC is automatically merged/close if either:
* The FCP elapses without any objections.
* A stakeholder from each group has signed off, short-cutting the waiting period.</p>
</blockquote>
<p>Thanks all! I'll work on cleaning up the draft implementation in <a href="https://github.com/bytecodealliance/wasmtime/issues/4072">bytecodealliance/wasmtime#4072</a>, incorporating changes from here (notably <code>given</code> -&gt; <code>if-let</code>), and hopefully we can start using this in our lowering rules soon!</p>
</blockquote>



<a name="280622133"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/266952-rfc-notifications/topic/rfcs%20/%20issue%20%2321%20Cranelift/ISLE%3A%20allow%20extended%20left-hand.../near/280622133" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> RFC notifications bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/266952-rfc-notifications/topic/rfcs.20.2F.20issue.20.2321.20Cranelift.2FISLE.3A.20allow.20extended.20left-hand.2E.2E.2E.html#280622133">(Apr 29 2022 at 12:01)</a>:</h4>
<p>akirilov-arm edited a <a href="https://github.com/bytecodealliance/rfcs/pull/21#issuecomment-1111432362">comment</a> on <a href="https://github.com/bytecodealliance/rfcs/pull/21">issue #21</a>:</p>
<blockquote>
<p>Alright, it is now time to make a motion to finalize, I think! I'll create the stakeholders list below based on committers to Cranelift active in the past three months (since Jan 26, anything more than a trivial doc fix) and Cranelift-related RFCs, plus anyone who has commented here.</p>
<h1>Motion to finalize with a disposition to merge</h1>
<h1>Stakeholders sign-off</h1>
<h2>Arm</h2>
<ul>
<li>[x] @akirilov-arm</li>
<li>[x] @sparker-arm</li>
<li>[ ] @dheaton-arm</li>
<li>[ ] @FreddieLiardet</li>
</ul>
<h2>Cornell</h2>
<ul>
<li>[x] @avanhatt</li>
</ul>
<h2>Fastly</h2>
<ul>
<li>[x] @alexcrichton </li>
<li>[x] @cfallin</li>
<li>[x] @fitzgen </li>
</ul>
<h2>IBM</h2>
<ul>
<li>[x] @uweigand</li>
</ul>
<h2>Intel</h2>
<ul>
<li>[x] @abrown </li>
<li>[ ] @jlb6740</li>
</ul>
<h2>Unaffiliated</h2>
<ul>
<li>[x] @bjorn3</li>
</ul>
</blockquote>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>