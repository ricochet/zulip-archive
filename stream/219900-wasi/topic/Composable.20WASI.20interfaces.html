<html>
<head><meta charset="utf-8"><title>Composable WASI interfaces · wasi · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/index.html">wasi</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Composable.20WASI.20interfaces.html">Composable WASI interfaces</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="195112857"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Composable%20WASI%20interfaces/near/195112857" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Brittain <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Composable.20WASI.20interfaces.html#195112857">(Apr 23 2020 at 20:06)</a>:</h4>
<p>as a followup to the W3C WASI sync today, I posted an issue to begin discussing one of the issues Lee and I mentioned</p>
<p><a href="https://github.com/WebAssembly/WASI/issues/262" title="https://github.com/WebAssembly/WASI/issues/262">https://github.com/WebAssembly/WASI/issues/262</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/WASI/issues/262" style="background-image: url(https://avatars3.githubusercontent.com/u/11578470?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/WASI/issues/262" title="Composable WASI interfaces · Issue #262 · WebAssembly/WASI">Composable WASI interfaces · Issue #262 · WebAssembly/WASI</a></div><div class="message_embed_description">I&#39;d like WASI function calls to be routed to an instance based on the origin of the handle. This likely requires some dynamic routing capabilities in the wasm runtime. As things currently work,...</div></div></div>



<a name="195112876"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Composable%20WASI%20interfaces/near/195112876" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Brittain <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Composable.20WASI.20interfaces.html#195112876">(Apr 23 2020 at 20:07)</a>:</h4>
<p>really excited to see what conversation comes of this</p>



<a name="195124758"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Composable%20WASI%20interfaces/near/195124758" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Composable.20WASI.20interfaces.html#195124758">(Apr 23 2020 at 22:01)</a>:</h4>
<p>I think a lot of this will be addressed by the linking proposal that <span class="user-mention" data-user-id="253998">@Luke Wagner</span> is working on</p>



<a name="195125094"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Composable%20WASI%20interfaces/near/195125094" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Brittain <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Composable.20WASI.20interfaces.html#195125094">(Apr 23 2020 at 22:04)</a>:</h4>
<p>Maybe that's grown in scope? I don't think it did when we chatted</p>



<a name="195125165"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Composable%20WASI%20interfaces/near/195125165" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Brittain <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Composable.20WASI.20interfaces.html#195125165">(Apr 23 2020 at 22:05)</a>:</h4>
<p>is there a tl;dr on that?</p>



<a name="195126863"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Composable%20WASI%20interfaces/near/195126863" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Composable.20WASI.20interfaces.html#195126863">(Apr 23 2020 at 22:23)</a>:</h4>
<p>Luke mentioned in the WASI call that he's currently working on an explainer, which I hope should answer this</p>



<a name="195126933"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Composable%20WASI%20interfaces/near/195126933" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Composable.20WASI.20interfaces.html#195126933">(Apr 23 2020 at 22:23)</a>:</h4>
<p>I'm not sure it will address all of what you mention in the issue, but I do think it should be a good part of a solution</p>



<a name="195131474"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Composable%20WASI%20interfaces/near/195131474" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Luke Wagner <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Composable.20WASI.20interfaces.html#195131474">(Apr 23 2020 at 23:25)</a>:</h4>
<p>Yes, I think there are a couple of separable pieces here to make the end-to-end use cases Benjamin is talking about work.  <span class="user-mention" data-user-id="254083">@Dan Gohman</span> also has a doc on a "proxy" feature in wasmtime that i think addresses a different facet of this problem.  Lastly, there are some issues the have to do with apps which have multiple stores where stores can independently die with the other stores living on.</p>



<a name="195135028"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Composable%20WASI%20interfaces/near/195135028" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Campbell <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Composable.20WASI.20interfaces.html#195135028">(Apr 24 2020 at 00:19)</a>:</h4>
<p>One other thing to  get on the radar is how host/native modules are handled. We've played around with decoupling this from the engine so the host side code doesn't have to live in the codebases of wasmtime, v8 etc... We recently were experimenting with an example of a framebuffer api. On Linux we had a host module where this was implemented with SDL, loaded a .so and could be used by v8, wasmtime and our interpreter without modification. Then when we moved it to windows, we implemented the same API as dll. I thought it was quite nice that to add and use that new API, across different platforms and 3 engines required no changes to the engines themselves.</p>



<a name="195135745"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Composable%20WASI%20interfaces/near/195135745" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Campbell <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Composable.20WASI.20interfaces.html#195135745">(Apr 24 2020 at 00:31)</a>:</h4>
<p><a href="/user_uploads/15107/jd2JgncwXTF9Uhlg8I3DMhjJ/doom.mp4" title="doom.mp4">doom.mp4</a></p>



<a name="195136055"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/Composable%20WASI%20interfaces/near/195136055" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lee Campbell <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/Composable.20WASI.20interfaces.html#195136055">(Apr 24 2020 at 00:37)</a>:</h4>
<p>In that little video thats doom running in wasmtime, but using a handle to a framebuffer api to draw to the screen. The backend of that is implemented in a host side lib and calls to it are dynamically routed based on the handle. So no changes required to the engine, and no changes required to the wasm binary when changing the display backend. Would be keen to discuss at some point how folks think about handling this host side code.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>