<html>
<head><meta charset="utf-8"><title>✔ Consider adding `cabi_realloc` to `wasi-libc`? · wasi · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/index.html">wasi</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.E2.9C.94.20Consider.20adding.20.60cabi_realloc.60.20to.20.60wasi-libc.60.3F.html">✔ Consider adding `cabi_realloc` to `wasi-libc`?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="448391758"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%E2%9C%94%20Consider%20adding%20%60cabi_realloc%60%20to%20%60wasi-libc%60%3F/near/448391758" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.E2.9C.94.20Consider.20adding.20.60cabi_realloc.60.20to.20.60wasi-libc.60.3F.html#448391758">(Jul 01 2024 at 17:17)</a>:</h4>
<p>Hi all.  I've been chatting with folks on the .NET Discord regarding WASIp2 support, and one of the questions that came up was "Where does/should <code>cabi_realloc</code> belong?".  Currently, for Rust and C/C++, it gets generated by <code>wit-bindgen</code> and linked in as a weak symbol.  We do the same for C#/.NET currently, but it's a bit more awkward there because for technical reasons it needs to be implemented in C, but that means the user needs to have a C compiler installed.</p>
<p>Should we consider adding it to <code>wasi-libc</code>, at least as part of the <code>wasm32-wasip2</code> target?  The other option would be to add it to the .NET standard library, but that work would need to be duplicated across all languages, potentially.</p>



<a name="448696741"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%E2%9C%94%20Consider%20adding%20%60cabi_realloc%60%20to%20%60wasi-libc%60%3F/near/448696741" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.E2.9C.94.20Consider.20adding.20.60cabi_realloc.60.20to.20.60wasi-libc.60.3F.html#448696741">(Jul 02 2024 at 20:24)</a>:</h4>
<p>Nevermind -- it already is part of <code>wasi-libc</code>: <a href="https://github.com/WebAssembly/wasi-libc/blob/320bbbcced68ce8e564b0dc4c8f80a5a5ad21a9c/libc-bottom-half/sources/wasip2.c#L372-L378">https://github.com/WebAssembly/wasi-libc/blob/320bbbcced68ce8e564b0dc4c8f80a5a5ad21a9c/libc-bottom-half/sources/wasip2.c#L372-L378</a>.  And I'm the one who put it there <span aria-label="sweat smile" class="emoji emoji-1f605" role="img" title="sweat smile">:sweat_smile:</span></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/wasi-libc/blob/320bbbcced68ce8e564b0dc4c8f80a5a5ad21a9c/libc-bottom-half/sources/wasip2.c#L372-L378" style="background-image: url(&quot;https://uploads.zulipusercontent.net/9c65652758fbd1441cc6716fca41d99a3947cdac/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f656335343764323437616330333766633564613235343339356466346465643738656363306534646264663031393462626633386663323239383164656361392f576562417373656d626c792f776173692d6c696263&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/wasi-libc/blob/320bbbcced68ce8e564b0dc4c8f80a5a5ad21a9c/libc-bottom-half/sources/wasip2.c#L372-L378" title="wasi-libc/libc-bottom-half/sources/wasip2.c at 320bbbcced68ce8e564b0dc4c8f80a5a5ad21a9c · WebAssembly/wasi-libc">wasi-libc/libc-bottom-half/sources/wasip2.c at 320bbbcced68ce8e564b0dc4c8f80a5a5ad21a9c · WebAssembly/wasi-libc</a></div><div class="message_embed_description">WASI libc implementation for WebAssembly. Contribute to WebAssembly/wasi-libc development by creating an account on GitHub.</div></div></div>



<a name="448859326"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%E2%9C%94%20Consider%20adding%20%60cabi_realloc%60%20to%20%60wasi-libc%60%3F/near/448859326" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.E2.9C.94.20Consider.20adding.20.60cabi_realloc.60.20to.20.60wasi-libc.60.3F.html#448859326">(Jul 03 2024 at 14:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="509936">Joel Dice</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>