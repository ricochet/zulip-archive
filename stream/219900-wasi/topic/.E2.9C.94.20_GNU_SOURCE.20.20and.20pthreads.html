<html>
<head><meta charset="utf-8"><title>✔ _GNU_SOURCE  and pthreads · wasi · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/index.html">wasi</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.E2.9C.94.20_GNU_SOURCE.20.20and.20pthreads.html">✔ _GNU_SOURCE  and pthreads</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="354888542"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%E2%9C%94%20_GNU_SOURCE%20%20and%20pthreads/near/354888542" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.E2.9C.94.20_GNU_SOURCE.20.20and.20pthreads.html#354888542">(May 01 2023 at 14:17)</a>:</h4>
<p>With the wasi-sdk-pthreads cmake config, I see there is <code>pthread_attr_getstack</code> but if <code>_GNU_SOURCE</code> is not defined, then the functions <code>pthread_attr_get_np</code> and <code>pthread_getattr_np</code> are not available, so how do you use <code>pthread_attr_getstack</code> as my understanding is that the <code>pthread_attr_t</code> must be retrieved first before passing to <code>pthread_attr_getstack</code> ?</p>



<a name="354913967"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%E2%9C%94%20_GNU_SOURCE%20%20and%20pthreads/near/354913967" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamey Sharp <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.E2.9C.94.20_GNU_SOURCE.20.20and.20pthreads.html#354913967">(May 01 2023 at 16:02)</a>:</h4>
<p>I don't know about the WASI side of this question, but it looks to me like POSIX only allows you to set your desired thread attributes before creating the thread, and the getter functions are so you can find out what you previously set in the attributes object you're constructing. As you've noted, <code>pthread_getattr_np</code> for finding out what your thread actually got is a GNU libc extension.</p>



<a name="354918672"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%E2%9C%94%20_GNU_SOURCE%20%20and%20pthreads/near/354918672" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.E2.9C.94.20_GNU_SOURCE.20.20and.20pthreads.html#354918672">(May 01 2023 at 16:22)</a>:</h4>
<p>Ah, I see, thanks!</p>



<a name="354918684"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/%E2%9C%94%20_GNU_SOURCE%20%20and%20pthreads/near/354918684" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/.E2.9C.94.20_GNU_SOURCE.20.20and.20pthreads.html#354918684">(May 01 2023 at 16:22)</a>:</h4>
<p><span class="user-mention silent" data-user-id="395878">Scott Waye</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>