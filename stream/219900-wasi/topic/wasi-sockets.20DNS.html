<html>
<head><meta charset="utf-8"><title>wasi-sockets DNS · wasi · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/index.html">wasi</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/wasi-sockets.20DNS.html">wasi-sockets DNS</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="393816649"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/wasi-sockets%20DNS/near/393816649" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/wasi-sockets.20DNS.html#393816649">(Sep 28 2023 at 22:58)</a>:</h4>
<p>For those interested I've posted an initial implementation of the <code>ip-name-lookup</code> interface to <a href="https://github.com/bytecodealliance/wasmtime/issues/7070">https://github.com/bytecodealliance/wasmtime/issues/7070</a>. The implementation and tests are pretty bare bones for now as I mostly wanted to set up the plumbing of types and bindgen and all that. </p>
<p><span class="user-mention" data-user-id="378155">@Badeend</span> (sorry for the ping both on github and here) I suspect you have an implementation already in mind and/or a test suite already in mind, and I'd be happy to switch implementations and/or fill out tests as well, so was wondering if you do indeed already have these things in mind to share here. If not, no worries!</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/7070" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/12de6ba9757a8ad621ae36d35e6eb9e8492ad4c3\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f376131623862306565646437323237303365343865323538653866333738613537316665323063303738646264653537313162613036356438343061333436312f62797465636f6465616c6c69616e63652f7761736d74696d652f6973737565732f37303730)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/7070" title="Wasmtime wasi-sockets implementation: DNS · Issue #7070 · bytecodealliance/wasmtime">Wasmtime wasi-sockets implementation: DNS · Issue #7070 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">A fast and secure runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div>



<a name="395999074"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/wasi-sockets%20DNS/near/395999074" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kellytk <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/wasi-sockets.20DNS.html#395999074">(Oct 11 2023 at 03:15)</a>:</h4>
<p>I'm developing a tool which will perform DNS lookups.  I could write it directly in Rust, however I'd like to target a wasm+wasi environment if possible.  I require two features: 1. To resolve name =&gt; [ipv4|6] address(es),  2. To obtain the associated TTL for the record.  Will both be offered by Preview 2?</p>



<a name="396009283"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/wasi-sockets%20DNS/near/396009283" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/wasi-sockets.20DNS.html#396009283">(Oct 11 2023 at 05:05)</a>:</h4>
<p>Currently <code>wasi:sockets/ip-name-lookup</code> can perform translation to ip addresses, but I don't believe it currently has information about TTL. If you're interested in that I think it'd be good to open an issue on the <a href="https://github.com/webassembly/wasi-sockets">wasi-sockets repository</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/webassembly/wasi-sockets" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/7d1895014bff2f76c437a1fe9f4d7a446891e8f7\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f323434353037383961653334383463373232373531653332653430653130353165323734313538303030376432616332386239366433373663663630396661382f576562417373656d626c792f776173692d736f636b657473)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/webassembly/wasi-sockets" title="GitHub - WebAssembly/wasi-sockets: WASI API proposal for managing sockets">GitHub - WebAssembly/wasi-sockets: WASI API proposal for managing sockets</a></div><div class="message_embed_description">WASI API proposal for managing sockets. Contribute to WebAssembly/wasi-sockets development by creating an account on GitHub.</div></div></div>



<a name="396139433"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/219900-wasi/topic/wasi-sockets%20DNS/near/396139433" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kellytk <a href="https://bytecodealliance.github.io/zulip-archive/stream/219900-wasi/topic/wasi-sockets.20DNS.html#396139433">(Oct 11 2023 at 17:49)</a>:</h4>
<p><a href="https://github.com/WebAssembly/wasi-sockets/issues/65#issuecomment-1757809815">https://github.com/WebAssembly/wasi-sockets/issues/65#issuecomment-1757809815</a> provided an update and answer to my feature request.  ""TTL" is a concept specific to DNS and ip-name-lookup is not a DNS API."... "If you need access to the TTL value, the only option available in WASI right now is to perform the UDP communication yourself."</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/wasi-sockets/issues/65#issuecomment-1757809815" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/cfa95c4769607371c549180fac559304e2fc3350\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f633033656136356462353838346631376434343663313333653163643162366630313539363531396535363637373531643131363065393434313133636165362f576562417373656d626c792f776173692d736f636b6574732f6973737565732f3635)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/wasi-sockets/issues/65#issuecomment-1757809815" title="Provide access to TTL in wasi:sockets/ip-name-lookup · Issue #65 · WebAssembly/wasi-sockets">Provide access to TTL in wasi:sockets/ip-name-lookup · Issue #65 · WebAssembly/wasi-sockets</a></div><div class="message_embed_description">I'm developing a tool which will perform DNS lookups, cache results, and refresh the cache. I could write it directly in Rust, however I'd like to target a wasm+wasi environment if possible. I requ...</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>