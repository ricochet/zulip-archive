<html>
<head><meta charset="utf-8"><title>Swift host support · wit-bindgen · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/index.html">wit-bindgen</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/topic/Swift.20host.20support.html">Swift host support</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="326668470"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/327223-wit-bindgen/topic/Swift%20host%20support/near/326668470" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Qi <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/topic/Swift.20host.20support.html#326668470">(Feb 08 2023 at 19:27)</a>:</h4>
<p>Hi, I'm interested in using wit-bindgen to create libraries written in Rust that will be used by mobile hosts (iOS/Swift, Android/Kotlin), the readme suggested checking in here before diving in. </p>
<p>I see Java is already supported but:<br>
1) Has there been any work on generating Swift code and using this on iOS hosts?<br>
2) Are there any know major barriers to getting this working?<br>
3) How far away is some kind of async function support from landing?</p>
<p>If not I would like to contribute Swift support if there is interest.</p>
<p>Thanks</p>



<a name="326694384"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/327223-wit-bindgen/topic/Swift%20host%20support/near/326694384" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mossaka (Joe) <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/topic/Swift.20host.20support.html#326694384">(Feb 08 2023 at 22:09)</a>:</h4>
<p>Hey! Thanks for asking and welcome to contribute Swift guest bindgen!</p>
<ol>
<li>I am not aware of any work on generating Swift guest code</li>
<li>I don't think a swift host version of wasmtime exists yet. </li>
<li>async will not land this year</li>
</ol>



<a name="326695484"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/327223-wit-bindgen/topic/Swift%20host%20support/near/326695484" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/topic/Swift.20host.20support.html#326695484">(Feb 08 2023 at 22:17)</a>:</h4>
<p>Also, wasmtime won't work on iOS anyway due to JIT restrictions on that platform.</p>



<a name="326697583"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/327223-wit-bindgen/topic/Swift%20host%20support/near/326697583" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Qi <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/topic/Swift.20host.20support.html#326697583">(Feb 08 2023 at 22:30)</a>:</h4>
<p><span class="user-mention" data-user-id="487764">@Mossaka (Joe)</span> Thanks for the quick reply. I'm looking for Swift host support, my use case is to have the guest written in rust which from what I understand is very well supported. My plan was to wrap the wasmtime C API (<a href="https://docs.wasmtime.dev/c-api/">https://docs.wasmtime.dev/c-api/</a>) with Swift as a first step, then work on adding Swift code generation.</p>



<a name="326697732"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/327223-wit-bindgen/topic/Swift%20host%20support/near/326697732" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Qi <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/topic/Swift.20host.20support.html#326697732">(Feb 08 2023 at 22:31)</a>:</h4>
<p><span class="user-mention" data-user-id="509936">@Joel Dice</span> Doesn't wasmtime support an AOT compilation mode? Would that not work on iOS?</p>



<a name="326701652"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/327223-wit-bindgen/topic/Swift%20host%20support/near/326701652" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mossaka (Joe) <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/topic/Swift.20host.20support.html#326701652">(Feb 08 2023 at 22:59)</a>:</h4>
<p>Ah that makes sense! Currently all the host generations are moved out of <code>wit-bindgen</code>. You might want to ask this question in the <code>wasmtime </code> stream!</p>



<a name="326705404"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/327223-wit-bindgen/topic/Swift%20host%20support/near/326705404" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/topic/Swift.20host.20support.html#326705404">(Feb 08 2023 at 23:29)</a>:</h4>
<p><span class="user-mention" data-user-id="522247">@Jack Qi</span> Yes, you can have wasmtime AOT a .wasm file to a native .cwasm file, but the iOS restrictions mean that you can't execute native code that was previously writable, so you can't just download a .cwasm and run it.  If you don't need to do that, and all your .cwasm files are bundled, read-only, as part of your app, then it might work.  Worth a try, anyway!</p>



<a name="326705912"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/327223-wit-bindgen/topic/Swift%20host%20support/near/326705912" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/topic/Swift.20host.20support.html#326705912">(Feb 08 2023 at 23:33)</a>:</h4>
<p><span class="user-mention" data-user-id="522247">@Jack Qi</span> you might be interested in the <code>wasmtime-py</code> embedding support which is a Python wrapper for Wasmtime's C API which then additionally has a <code>bindgen</code> module which is a code generator to execute components in Python, essentially host support for components in Python</p>



<a name="326729851"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/327223-wit-bindgen/topic/Swift%20host%20support/near/326729851" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Qi <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/topic/Swift.20host.20support.html#326729851">(Feb 09 2023 at 04:36)</a>:</h4>
<p><span class="user-mention" data-user-id="487764">@Mossaka (Joe)</span> thanks for the pointer,  I'll take a look at the <code>wasmtime</code> repo to see how host support is implemented for other host languages. <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="326729881"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/327223-wit-bindgen/topic/Swift%20host%20support/near/326729881" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Qi <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/topic/Swift.20host.20support.html#326729881">(Feb 09 2023 at 04:37)</a>:</h4>
<p><span class="user-mention" data-user-id="509936">@Joel Dice</span> yes I was hoping to be able bundle the AOT compiled wasm in the app and ship that. I still have hope that Apple might eventually remove the restriction in the future.</p>



<a name="326729948"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/327223-wit-bindgen/topic/Swift%20host%20support/near/326729948" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jack Qi <a href="https://bytecodealliance.github.io/zulip-archive/stream/327223-wit-bindgen/topic/Swift.20host.20support.html#326729948">(Feb 09 2023 at 04:38)</a>:</h4>
<p><span class="user-mention" data-user-id="253994">@Alex Crichton</span> thanks I will take a look at <code>wasmtime-py</code> <span aria-label="thumbs up" class="emoji emoji-1f44d" role="img" title="thumbs up">:thumbs_up:</span></p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>