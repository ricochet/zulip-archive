<html>
<head><meta charset="utf-8"><title>C++ community contemplating a 64-bit-only world · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html">C++ community contemplating a 64-bit-only world</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="248514498"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/248514498" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#248514498">(Aug 05 2021 at 18:11)</a>:</h4>
<p>Here's an example of at least some people in the C++ community thinking about prioritizing 64-bit targets: <a href="http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2137r0.html#platforms">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2020/p2137r0.html#platforms</a></p>



<a name="248514833"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/248514833" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#248514833">(Aug 05 2021 at 18:14)</a>:</h4>
<p>The world is certainly easier to deal with if everything is a little-endian 64-bit desktop core :-)</p>



<a name="248514883"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/248514883" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#248514883">(Aug 05 2021 at 18:14)</a>:</h4>
<p>What sort of implications would this actually have though, if the standard still supports platforms with 32-bit pointers?</p>



<a name="248514945"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/248514945" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#248514945">(Aug 05 2021 at 18:15)</a>:</h4>
<p>(I guess I should just read it fully to find out)</p>



<a name="248515346"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/248515346" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#248515346">(Aug 05 2021 at 18:19)</a>:</h4>
<p>In a 64-bit only world, it'd be easier to make techniques where you squirrel extra bits into a pointer portable. It'd be easier to standardize on "LP64" as the only data model, ending decades of needless complexity caused by C data models being a thing. It'd be easier to specify raw-data interchange formats because you only need to know where the pointers are, and not what the offsets to everything are.</p>



<a name="248515829"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/248515829" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#248515829">(Aug 05 2021 at 18:22)</a>:</h4>
<p>I guess the distinction I'm wondering about is between "prefer 64-bit" and "the standard actually says that sizeof(void*) == 8"; it seems to me that a spec usually dictates things like the latter? perhaps the "preference" just means that there will be features that work only for 64-bit pointers?</p>



<a name="248516665"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/248516665" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#248516665">(Aug 05 2021 at 18:29)</a>:</h4>
<p>Yeah, the context for that paper was that they're looking to put out a vision and see what kinds of ideas they can build consensus on before moving forward with actual proposals.</p>



<a name="248516837"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/248516837" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#248516837">(Aug 05 2021 at 18:30)</a>:</h4>
<p>Note that that is just a paper, and not necessarily the view of the committee as a whole.</p>



<a name="249607394"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/249607394" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton Kirilov <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#249607394">(Aug 16 2021 at 15:54)</a>:</h4>
<p>I just skimmed through the linked section, but I'd like to mention that prioritizing 64-bit targets doesn't necessarily mean just deprioritizing 32-bit or older targets. For example, Arm is researching an 128-bit capability architecture called <a href="https://developer.arm.com/architectures/cpu-architecture/a-profile/morello">Morello</a>, which actually doesn't fit neatly into the model because the virtual address space is still 64-bit, but <code>sizeof(void *) == 16</code> and "squirreling extra bits into a pointer" is probably not going to work (capability bound representation issue).</p>
<div class="message_embed"><a class="message_embed_image" href="https://developer.arm.com/architectures/cpu-architecture/a-profile/morello" style="background-image: url(https://developer.arm.com)"></a><div class="data-container"><div class="message_embed_title"><a href="https://developer.arm.com/architectures/cpu-architecture/a-profile/morello" title="Morello – Arm Developer">Morello – Arm Developer</a></div><div class="message_embed_description">Arm is leading a UK government research program called the Morello Project, which focuses on the development of more robust processors that can deter security breaches.</div></div></div>



<a name="249608436"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/249608436" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#249608436">(Aug 16 2021 at 16:02)</a>:</h4>
<p>I know people who are looking forward to wasm64 because they have "standardized on 64-bit" within their C++ codebases, and are planning to use wasm rewriting tools on it to convert it to wasm32 to that it can run in today's wasm engines.</p>



<a name="249608471"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/249608471" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#249608471">(Aug 16 2021 at 16:03)</a>:</h4>
<p>I've talked with people who were surprised that we did wasm32 at all. "Isn't everything 64-bit these days?"</p>



<a name="249608663"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/249608663" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#249608663">(Aug 16 2021 at 16:04)</a>:</h4>
<p>The C++ world is diverse, and not everyone thinks this way, but my impression is that quite a few people are hoping that x86-64 plus aarch64 means they don't have to think about any other pointer size ever again.</p>



<a name="249609997"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/C%2B%2B%20community%20contemplating%20a%2064-bit-only%20world/near/249609997" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Anton Kirilov <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/C.2B.2B.20community.20contemplating.20a.2064-bit-only.20world.html#249609997">(Aug 16 2021 at 16:15)</a>:</h4>
<p>Well, depending on how capability architectures evolve, that might be too optimistic, but even in a pure 64-bit world Arm has introduced a couple of technologies that don't play well with arbitrary manipulation of pointer bits (e.g. pointer authentication and memory tagging).</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>