<html>
<head><meta charset="utf-8"><title>Canonical way to get value return by host function · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Canonical.20way.20to.20get.20value.20return.20by.20host.20function.html">Canonical way to get value return by host function</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="484788081"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Canonical%20way%20to%20get%20value%20return%20by%20host%20function/near/484788081" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Canonical.20way.20to.20get.20value.20return.20by.20host.20function.html#484788081">(Nov 27 2024 at 19:41)</a>:</h4>
<p>Hi, I'm trying to use rust wasmtime engine to instantiate wasm module and call its function, the function in the module could call some host functions to read some data on host machine, is there any canonical way to return the value to the wasm function? The current possible way I'm doing is by using get_export("memory") to get Memory for the wasm instance and write back the data to the Memory which wasm instance function can read, but want to see if there is any better way for this purpose? Thanks in advance!</p>



<a name="484789683"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Canonical%20way%20to%20get%20value%20return%20by%20host%20function/near/484789683" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Canonical.20way.20to.20get.20value.20return.20by.20host.20function.html#484789683">(Nov 27 2024 at 19:54)</a>:</h4>
<p>What you want is the component model, and the <code>wit-bindgen</code> tool. It lets you define interfaces at a higher level, including with types like strings and lists, and generates bindings within the Wasm module and on the host side that let you call functions easily. You'll find examples in our documentation <a href="https://component-model.bytecodealliance.org/">here</a>. Let us know if you have any questions!</p>



<a name="484794527"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Canonical%20way%20to%20get%20value%20return%20by%20host%20function/near/484794527" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Stephen <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Canonical.20way.20to.20get.20value.20return.20by.20host.20function.html#484794527">(Nov 27 2024 at 20:31)</a>:</h4>
<p>Cool, will read this, thanks!</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>