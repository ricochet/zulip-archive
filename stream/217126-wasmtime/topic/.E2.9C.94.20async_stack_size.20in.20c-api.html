<html>
<head><meta charset="utf-8"><title>✔ async_stack_size in c-api · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20async_stack_size.20in.20c-api.html">✔ async_stack_size in c-api</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="378227198"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20async_stack_size%20in%20c-api/near/378227198" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Roseberry <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20async_stack_size.20in.20c-api.html#378227198">(Jul 24 2023 at 17:49)</a>:</h4>
<p>Hello, first time contributor here. I would like to expose async_stack_size in the C API so that wasmtime-go can configure its stack sizes.<br>
I made a PR in a fork, if someone could take a look I would be grateful (it's a small PR). If it looks OK I'll make a PR against the main repo!<br>
<a href="https://github.com/guregu/wasmtime/pull/1">https://github.com/guregu/wasmtime/pull/1</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/guregu/wasmtime/pull/1" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/dd786d8e5f8f4437f51ca38fbc6a2c58ac9874c9\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f623639323664633737663737323663313533613532626461663162613438323666353239616161363538663866653930633139643731333832376532633161342f6775726567752f7761736d74696d652f70756c6c2f31)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/guregu/wasmtime/pull/1" title="c-api: Expose async_stack_size configuration by guregu · Pull Request #1 · guregu/wasmtime">c-api: Expose async_stack_size configuration by guregu · Pull Request #1 · guregu/wasmtime</a></div><div class="message_embed_description">Adds wasm_config_async_stack_size_set to C API.
Motivation: I want to set the stack size in wasmtime-go, but max_wasm_stack is limited by async_stack_size, so we need to set this too.</div></div></div>



<a name="378227987"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20async_stack_size%20in%20c-api/near/378227987" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20async_stack_size.20in.20c-api.html#378227987">(Jul 24 2023 at 17:52)</a>:</h4>
<p>lgtm, please send it upstream</p>



<a name="378228131"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20async_stack_size%20in%20c-api/near/378228131" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Roseberry <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20async_stack_size.20in.20c-api.html#378228131">(Jul 24 2023 at 17:53)</a>:</h4>
<p>Thanks, will do!</p>



<a name="378229181"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20async_stack_size%20in%20c-api/near/378229181" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Greg Roseberry <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20async_stack_size.20in.20c-api.html#378229181">(Jul 24 2023 at 17:57)</a>:</h4>
<p>sent PR against upstream here: <a href="https://github.com/bytecodealliance/wasmtime/pull/6762">https://github.com/bytecodealliance/wasmtime/pull/6762</a> <span aria-label="ok signal" class="emoji emoji-1f646" role="img" title="ok signal">:ok_signal:</span></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/6762" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/1a4784ff28a0e82c1be27bc637ac3e01e91c0536\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f663630646537636233343738613838653930333662633763643961643563616632383064306334343434656633323437616465386565356462663939666564352f62797465636f6465616c6c69616e63652f7761736d74696d652f70756c6c2f36373632)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/6762" title="c-api: Expose async_stack_size configuration by guregu · Pull Request #6762 · bytecodealliance/wasmtime">c-api: Expose async_stack_size configuration by guregu · Pull Request #6762 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Adds wasm_config_async_stack_size_set to C API. Also updates the stack-related comments in config.h to match the latest Rust ones.
Motivation: I want to set the stack size in wasmtime-go, but max_w...</div></div></div>



<a name="380202797"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20async_stack_size%20in%20c-api/near/380202797" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20async_stack_size.20in.20c-api.html#380202797">(Jul 31 2023 at 06:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="635244">Greg Roseberry</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>