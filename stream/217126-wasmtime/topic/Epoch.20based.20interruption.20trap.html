<html>
<head><meta charset="utf-8"><title>Epoch based interruption trap · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Epoch.20based.20interruption.20trap.html">Epoch based interruption trap</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="280339899"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Epoch%20based%20interruption%20trap/near/280339899" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saúl Cabrera <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Epoch.20based.20interruption.20trap.html#280339899">(Apr 27 2022 at 12:06)</a>:</h4>
<p>Hey! I have a small question around the API for epoch based interruption: is there a particular reason why the <a href="https://github.com/bytecodealliance/wasmtime/blob/main/crates/wasmtime/src/store.rs#L1875">EpochDeadlineError</a> isn't publicly exposed? We are currently migrating to epoch based interruption from the previous approach in which the API returned a <code>TrapCode::Interrupt</code> to signal an interruption in execution. Would it make sense to expose it? Or perhaps I'm missing something and there's an equivalent way to <code>TrapCode::Interrupt</code> to determine when the execution was interrupted?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/main/crates/wasmtime/src/store.rs#L1875" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/bc53807040b5e2c344fdd6943b544889a18f3063\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f663561333061626663626363333166383430336535626633353365366366346662376361376232646131396530373164373563626531323833666235616363372f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/main/crates/wasmtime/src/store.rs#L1875" title="wasmtime/store.rs at main · bytecodealliance/wasmtime">wasmtime/store.rs at main · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - wasmtime/store.rs at main · bytecodealliance/wasmtime</div></div></div>



<a name="280351133"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Epoch%20based%20interruption%20trap/near/280351133" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Epoch.20based.20interruption.20trap.html#280351133">(Apr 27 2022 at 13:40)</a>:</h4>
<p>Exposing either the error or a trap code makes sense to me, it's not necessarily intentional it's private we just do that by default to be conservative</p>



<a name="280884774"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Epoch%20based%20interruption%20trap/near/280884774" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Saúl Cabrera <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Epoch.20based.20interruption.20trap.html#280884774">(May 02 2022 at 15:00)</a>:</h4>
<p>I meant to get to this earlier, sorry about that. All that makes sense to me, thanks for the context <span class="user-mention" data-user-id="253994">@Alex Crichton</span> ! I can give this one a try if no one else is working on it.</p>



<a name="280884879"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Epoch%20based%20interruption%20trap/near/280884879" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Epoch.20based.20interruption.20trap.html#280884879">(May 02 2022 at 15:00)</a>:</h4>
<p>Sounds good to me, feel free!</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>