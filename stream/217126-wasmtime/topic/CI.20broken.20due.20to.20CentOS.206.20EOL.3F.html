<html>
<head><meta charset="utf-8"><title>CI broken due to CentOS 6 EOL? · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CI.20broken.20due.20to.20CentOS.206.20EOL.3F.html">CI broken due to CentOS 6 EOL?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="218593443"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CI%20broken%20due%20to%20CentOS%206%20EOL%3F/near/218593443" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CI.20broken.20due.20to.20CentOS.206.20EOL.3F.html#218593443">(Dec 02 2020 at 17:48)</a>:</h4>
<p>It seems that our CI runs are now failing because a CentOS 6 repo disappeared:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Status</span>: <span class="nc">Downloaded</span><span class="w"> </span><span class="n">newer</span><span class="w"> </span><span class="n">image</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">centos</span>:<span class="mi">6</span><span class="w"></span>
<span class="n">dc404c3f71e249ccce98ddd5dbf9c7a7ad976beef9e13b5dd3d7cd61eec1e441</span><span class="w"></span>
<span class="n">Loaded</span><span class="w"> </span><span class="n">plugins</span>: <span class="nc">fastestmirror</span><span class="p">,</span><span class="w"> </span><span class="n">ovl</span><span class="w"></span>
<span class="n">Setting</span><span class="w"> </span><span class="n">up</span><span class="w"> </span><span class="n">Install</span><span class="w"> </span><span class="n">Process</span><span class="w"></span>
<span class="n">Error</span>: <span class="nc">Cannot</span><span class="w"> </span><span class="n">retrieve</span><span class="w"> </span><span class="n">repository</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="p">(</span><span class="n">repomd</span><span class="p">.</span><span class="n">xml</span><span class="p">)</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">repository</span>: <span class="nc">base</span><span class="p">.</span><span class="w"> </span><span class="n">Please</span><span class="w"> </span><span class="n">verify</span><span class="w"> </span><span class="n">its</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="n">and</span><span class="w"> </span><span class="k">try</span><span class="w"> </span><span class="n">again</span><span class="w"></span>
<span class="n">YumRepo</span><span class="w"> </span><span class="n">Error</span>: <span class="nc">All</span><span class="w"> </span><span class="n">mirror</span><span class="w"> </span><span class="n">URLs</span><span class="w"> </span><span class="n">are</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">using</span><span class="w"> </span><span class="n">ftp</span><span class="p">,</span><span class="w"> </span><span class="n">http</span><span class="p">[</span><span class="n">s</span><span class="p">]</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">file</span><span class="p">.</span><span class="w"></span>
<span class="w"> </span><span class="n">Eg</span><span class="p">.</span><span class="w"> </span><span class="n">Invalid</span><span class="w"> </span><span class="n">release</span><span class="o">/</span><span class="n">repo</span><span class="o">/</span><span class="n">arch</span><span class="w"> </span><span class="n">combination</span><span class="o">/</span><span class="w"></span>
<span class="n">removing</span><span class="w"> </span><span class="n">mirrorlist</span><span class="w"> </span><span class="n">with</span><span class="w"> </span><span class="n">no</span><span class="w"> </span><span class="n">valid</span><span class="w"> </span><span class="n">mirrors</span>: <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">yum</span><span class="o">/</span><span class="n">x86_64</span><span class="o">/</span><span class="mi">6</span><span class="o">/</span><span class="n">base</span><span class="o">/</span><span class="n">mirrorlist</span><span class="p">.</span><span class="n">txt</span><span class="w"></span>
<span class="n">child_process</span><span class="p">.</span><span class="n">js</span>:<span class="mi">660</span><span class="w"></span>
<span class="w">    </span><span class="n">throw</span><span class="w"> </span><span class="n">err</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="o">^</span><span class="w"></span>

<span class="n">Error</span>: <span class="nc">Command</span><span class="w"> </span><span class="n">failed</span>: <span class="nc">docker</span><span class="w"> </span><span class="n">exec</span><span class="w"> </span><span class="n">centos</span><span class="w"> </span><span class="n">yum</span><span class="w"> </span><span class="n">install</span><span class="w"> </span><span class="o">-</span><span class="n">y</span><span class="w"> </span><span class="n">centos</span><span class="o">-</span><span class="n">release</span><span class="o">-</span><span class="n">scl</span><span class="w"> </span><span class="n">cmake</span><span class="w"> </span><span class="n">xz</span><span class="w"> </span><span class="n">epel</span><span class="o">-</span><span class="n">release</span><span class="w"></span>
</code></pre></div>
<p>("Cannot retrieve repository metadata" seems to be the key bit.) </p>
<p>It seems that CentOS 6's EOL was last month (Nov 2020): <a href="https://phoenixnap.com/kb/centos-6-eol">https://phoenixnap.com/kb/centos-6-eol</a>. I imagine that someone just pushed the button to delete the repo.</p>
<p>Should we move to CentOS 7 for CI builds?</p>
<div class="message_embed"><a class="message_embed_image" href="https://phoenixnap.com/kb/centos-6-eol" style="background-image: url(https://phoenixnap.com/kb/wp-content/uploads/2020/08/centos-6-eol.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://phoenixnap.com/kb/centos-6-eol" title="CentOS 6 End of Life in November 2020">CentOS 6 End of Life in November 2020</a></div><div class="message_embed_description">CentOS 6 EOL is coming up on November 2020. This Linux distribution will no longer be supported with updates and patches, so make sure you upgrade or mitigate your systems on time.</div></div></div>



<a name="218594713"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CI%20broken%20due%20to%20CentOS%206%20EOL%3F/near/218594713" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CI.20broken.20due.20to.20CentOS.206.20EOL.3F.html#218594713">(Dec 02 2020 at 17:58)</a>:</h4>
<p>ah, interesting! We're using that old version to ensure compatibility with old versions of Linux more generally, so I guess the question is whether we want to change how far back we go with that. <span class="user-mention" data-user-id="253994">@Alex Crichton</span>, wdyt is the best way forward here?</p>



<a name="218594812"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CI%20broken%20due%20to%20CentOS%206%20EOL%3F/near/218594812" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CI.20broken.20due.20to.20CentOS.206.20EOL.3F.html#218594812">(Dec 02 2020 at 17:58)</a>:</h4>
<p>oh dear</p>



<a name="218594865"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CI%20broken%20due%20to%20CentOS%206%20EOL%3F/near/218594865" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CI.20broken.20due.20to.20CentOS.206.20EOL.3F.html#218594865">(Dec 02 2020 at 17:59)</a>:</h4>
<p>We should probably bump to centos 7 and only worry about fixing centos 6 if someone files an issue</p>



<a name="218594872"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CI%20broken%20due%20to%20CentOS%206%20EOL%3F/near/218594872" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CI.20broken.20due.20to.20CentOS.206.20EOL.3F.html#218594872">(Dec 02 2020 at 17:59)</a>:</h4>
<p>I'm about to create a PR to pull us to CentOS 7</p>



<a name="218594881"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CI%20broken%20due%20to%20CentOS%206%20EOL%3F/near/218594881" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CI.20broken.20due.20to.20CentOS.206.20EOL.3F.html#218594881">(Dec 02 2020 at 17:59)</a>:</h4>
<p>seems to be just minor tweaks</p>



<a name="218594892"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CI%20broken%20due%20to%20CentOS%206%20EOL%3F/near/218594892" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CI.20broken.20due.20to.20CentOS.206.20EOL.3F.html#218594892">(Dec 02 2020 at 17:59)</a>:</h4>
<p>I think we can get 6 working but it would be a pain</p>



<a name="218595091"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CI%20broken%20due%20to%20CentOS%206%20EOL%3F/near/218595091" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CI.20broken.20due.20to.20CentOS.206.20EOL.3F.html#218595091">(Dec 02 2020 at 18:00)</a>:</h4>
<p>let's see if this becomes green: <a href="https://github.com/bytecodealliance/wasmtime/pull/2464">https://github.com/bytecodealliance/wasmtime/pull/2464</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/2464" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/2464" title="Update to a CentOS 7 docker container for binary compatible builds. by cfallin · Pull Request #2464 · bytecodealliance/wasmtime">Update to a CentOS 7 docker container for binary compatible builds. by cfallin · Pull Request #2464 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">CentOS 6 just went EOL at the end of November 2020; as of today, the
repository seems to have disappeared, so our CI builds are failing. This
PR updates us to CentOS 7, which should be usable until...</div></div></div>



<a name="218597527"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CI%20broken%20due%20to%20CentOS%206%20EOL%3F/near/218597527" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CI.20broken.20due.20to.20CentOS.206.20EOL.3F.html#218597527">(Dec 02 2020 at 18:18)</a>:</h4>
<p>agreed: moving to CentOS 7 makes sense</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>