<html>
<head><meta charset="utf-8"><title>✔ parse_wit as an public fn in wit-parser · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20parse_wit.20as.20an.20public.20fn.20in.20wit-parser.html">✔ parse_wit as an public fn in wit-parser</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="394493625"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20parse_wit%20as%20an%20public%20fn%20in%20wit-parser/near/394493625" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20parse_wit.20as.20an.20public.20fn.20in.20wit-parser.html#394493625">(Oct 02 2023 at 18:50)</a>:</h4>
<p>Hey y'all, I wanted to use <a href="https://github.com/bytecodealliance/wasm-tools/blob/03d21b8d9f0dd29441c5de4d6a2fc1505a9fd0d5/src/bin/wasm-tools/component.rs#L608">the logic of <code>parse_wit</code></a> in <code>wasm-tools</code> in some code, and was hoping it might already be an export in <code>wit-parser</code>.</p>
<p>Would adding it there as a public export (to be used as a library) be of value? I'd be happy to contribute that (mostly) copy of the code.</p>
<p>Separately (but similarly), the component <a href="https://github.com/bytecodealliance/wasm-tools/blob/03d21b8d9f0dd29441c5de4d6a2fc1505a9fd0d5/src/bin/wasm-tools/component.rs#L207">metadata embedding logic</a> would be great to have accessible from outside as well (i.e. an <code>lib</code> export on <code>wasm-tools</code>)</p>



<a name="394509050"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20parse_wit%20as%20an%20public%20fn%20in%20wit-parser/near/394509050" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20parse_wit.20as.20an.20public.20fn.20in.20wit-parser.html#394509050">(Oct 02 2023 at 20:36)</a>:</h4>
<p>cc <span class="user-mention" data-user-id="253994">@Alex Crichton</span></p>



<a name="394510336"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20parse_wit%20as%20an%20public%20fn%20in%20wit-parser/near/394510336" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20parse_wit.20as.20an.20public.20fn.20in.20wit-parser.html#394510336">(Oct 02 2023 at 20:46)</a>:</h4>
<p>Please do feel free to send PRs!</p>
<p>For parsing WIT the only gotcha there is that the support for that is split across the <code>wit-parser</code> and <code>wit-component</code> crates. The function you highlighted there would probably best reside in the <code>wit-component</code> crate.</p>
<p>For metadata embedding the main guts of all that should live in <code>wit-component</code>, but if you'd like to add a helper function to <code>wit-component</code> the CLI calls for that as well to be exported I think that'd work well</p>



<a name="394540526"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20parse_wit%20as%20an%20public%20fn%20in%20wit-parser/near/394540526" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20parse_wit.20as.20an.20public.20fn.20in.20wit-parser.html#394540526">(Oct 03 2023 at 01:39)</a>:</h4>
<p>Appreciate the bounce/forward <span class="user-mention" data-user-id="234973">@Till Schneidereit</span> and thanks <span class="user-mention" data-user-id="253994">@Alex Crichton</span> !</p>
<p>Will take this into account and send some PRs (with issues created first, so other people can chime in?) and make sure both fit into <code>wit-component</code></p>



<a name="394893442"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20parse_wit%20as%20an%20public%20fn%20in%20wit-parser/near/394893442" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20parse_wit.20as.20an.20public.20fn.20in.20wit-parser.html#394893442">(Oct 04 2023 at 18:16)</a>:</h4>
<p>Thanks for the help and speedy reviews <span class="user-mention" data-user-id="253994">@Alex Crichton</span> ! going to close this one now (and rework my code to use those new functions)</p>



<a name="394893446"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20parse_wit%20as%20an%20public%20fn%20in%20wit-parser/near/394893446" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20parse_wit.20as.20an.20public.20fn.20in.20wit-parser.html#394893446">(Oct 04 2023 at 18:16)</a>:</h4>
<p><span class="user-mention silent" data-user-id="598440">Victor Adossi</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>