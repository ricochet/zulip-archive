<html>
<head><meta charset="utf-8"><title>Using wasmtime with LTO · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Using.20wasmtime.20with.20LTO.html">Using wasmtime with LTO</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="327412836"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Using%20wasmtime%20with%20LTO/near/327412836" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Coates <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Using.20wasmtime.20with.20LTO.html#327412836">(Feb 12 2023 at 17:09)</a>:</h4>
<p>Is anyone aware of any changes between Wasmtime 4.0 and 5.0 which might affect Fat LTO? I'm getting linkage errors due to a missing <code>_ZN16wasmtime_runtime8libcalls11trampolines25impl_table_grow_externref17hcf2c6f25ec53e0a8E</code> symbol, and I'm not quite sure why - I can't see anything obvious in the git log which touches this code.</p>



<a name="327415345"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Using%20wasmtime%20with%20LTO/near/327415345" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Using.20wasmtime.20with.20LTO.html#327415345">(Feb 12 2023 at 17:32)</a>:</h4>
<p><a href="https://github.com/bytecodealliance/wasmtime/pull/5459">https://github.com/bytecodealliance/wasmtime/pull/5459</a> seems related. Maybe a rustc bug?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/5459" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/93f8393e33be6a90037f1a9dd533ea09e51b8e86\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f636666346430653031333563633865653631396636363932353230656664613839656433323166616531663039656262316261613566613636376131303837302f62797465636f6465616c6c69616e63652f7761736d74696d652f70756c6c2f35343539)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/5459" title="Use the `sym` operator for inline assembly by alexcrichton · Pull Request #5459 · bytecodealliance/wasmtime">Use the `sym` operator for inline assembly by alexcrichton · Pull Request #5459 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Avoids extra #[no_mangle] functions and undue symbols being exposed from Wasmtime. This is a newly stabilized feature in Rust 1.66.0. I've also added a rust-version entry to the wasmtime crate to t...</div></div></div>



<a name="327418233"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Using%20wasmtime%20with%20LTO/near/327418233" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jonathan Coates <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Using.20wasmtime.20with.20LTO.html#327418233">(Feb 12 2023 at 18:00)</a>:</h4>
<p>Yeah, I fear you may be right :(. Will have a go with Rust nightly. <br>
Thank you :)</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>