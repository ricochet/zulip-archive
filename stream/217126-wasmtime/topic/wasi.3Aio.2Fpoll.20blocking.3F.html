<html>
<head><meta charset="utf-8"><title>wasi:io/poll blocking? · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/wasi.3Aio.2Fpoll.20blocking.3F.html">wasi:io/poll blocking?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="425378396"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/wasi%3Aio/poll%20blocking%3F/near/425378396" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashanti Mutinta <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/wasi.3Aio.2Fpoll.20blocking.3F.html#425378396">(Mar 07 2024 at 19:22)</a>:</h4>
<p>Seems like I have a weird issue where when I set up epoch counting and I call poll on a subscribe_duration it ends up not trapping so I essentially loop forever. I'm using async wasmtime as well. Wondering if anyone has come across this?</p>



<a name="425380925"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/wasi%3Aio/poll%20blocking%3F/near/425380925" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/wasi.3Aio.2Fpoll.20blocking.3F.html#425380925">(Mar 07 2024 at 19:36)</a>:</h4>
<p>Epoch interruption only applies to actively executing wasm. You can combine it with async cancellation for a more complete timeout feature</p>



<a name="425380980"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/wasi%3Aio/poll%20blocking%3F/near/425380980" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashanti Mutinta <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/wasi.3Aio.2Fpoll.20blocking.3F.html#425380980">(Mar 07 2024 at 19:36)</a>:</h4>
<p>That makes sense. Worked after I placed it in a timeout</p>



<a name="425381059"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/wasi%3Aio/poll%20blocking%3F/near/425381059" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashanti Mutinta <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/wasi.3Aio.2Fpoll.20blocking.3F.html#425381059">(Mar 07 2024 at 19:37)</a>:</h4>
<p>Do you think it might be worth to put this in the docs? Seems like a gotcha</p>



<a name="425381320"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/wasi%3Aio/poll%20blocking%3F/near/425381320" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/wasi.3Aio.2Fpoll.20blocking.3F.html#425381320">(Mar 07 2024 at 19:39)</a>:</h4>
<p>That would make sense to me. Could add one more sentence to this novel: <a href="https://docs.rs/wasmtime/latest/wasmtime/struct.Config.html#method.epoch_interruption">https://docs.rs/wasmtime/latest/wasmtime/struct.Config.html#method.epoch_interruption</a></p>



<a name="425381539"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/wasi%3Aio/poll%20blocking%3F/near/425381539" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ashanti Mutinta <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/wasi.3Aio.2Fpoll.20blocking.3F.html#425381539">(Mar 07 2024 at 19:40)</a>:</h4>
<p>Awesome! Thank you very much and thank you for the great work in this project!</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>