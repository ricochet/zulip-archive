<html>
<head><meta charset="utf-8"><title>cloning whole instance? · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/cloning.20whole.20instance.3F.html">cloning whole instance?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="249373981"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/cloning%20whole%20instance%3F/near/249373981" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Bouvier <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/cloning.20whole.20instance.3F.html#249373981">(Aug 13 2021 at 15:21)</a>:</h4>
<p>lazy request: I understand it that the clone impl on <code>Instance</code> is cloning only the reference, so the same instance with the same backing memory/globals etc. Is there a way to deep-clone a full <code>Instance</code> (including all the wasm objects, but the module context too assuming it's <code>Clone</code> too)?</p>



<a name="249394741"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/cloning%20whole%20instance%3F/near/249394741" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/cloning.20whole.20instance.3F.html#249394741">(Aug 13 2021 at 18:20)</a>:</h4>
<p>currently, no, I think the roughest equivalent is re-instantiating the module</p>



<a name="249761178"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/cloning%20whole%20instance%3F/near/249761178" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/cloning.20whole.20instance.3F.html#249761178">(Aug 17 2021 at 18:44)</a>:</h4>
<p>if you want the instance's memory and globals etc to be in the same state then you'll have to replay all the same calls after instantiation though</p>
<p>... or you could see if Wizer fits your use case :-p</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>