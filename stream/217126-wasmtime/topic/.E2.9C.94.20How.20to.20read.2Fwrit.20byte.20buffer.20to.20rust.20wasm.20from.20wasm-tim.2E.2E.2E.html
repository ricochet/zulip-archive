<html>
<head><meta charset="utf-8"><title>✔ How to read/writ byte buffer to rust wasm from wasm-tim... · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20How.20to.20read.2Fwrit.20byte.20buffer.20to.20rust.20wasm.20from.20wasm-tim.2E.2E.2E.html">✔ How to read/writ byte buffer to rust wasm from wasm-tim...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="348503012"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20How%20to%20read/writ%20byte%20buffer%20to%20rust%20wasm%20from%20wasm-tim.../near/348503012" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kishan Adapa <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20How.20to.20read.2Fwrit.20byte.20buffer.20to.20rust.20wasm.20from.20wasm-tim.2E.2E.2E.html#348503012">(Apr 11 2023 at 15:59)</a>:</h4>
<p>Hi, I am trying to call a wasm binary from wasmtime-go and want to pass a byte buffer and receive a buffer in return. I wasn't able to navigate my self through it. Can some one help me do that?</p>
<p>I was following <a href="https://github.com/tetratelabs/wazero/tree/main/examples/allocation/rust">https://github.com/tetratelabs/wazero/tree/main/examples/allocation/rust</a> as a reference, was able to do it in wazero but stuck trying to do the same in wasmtime -go. The allocate function seems to be returning a pointer address much larger than size of wasm buffer, in case of wazero it always was a direct mapping so that I can read/write from linear byte array</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/tetratelabs/wazero/tree/main/examples/allocation/rust" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/622096439b7225dd3cbeb26aa4013036e88eb9bb\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f393735346231386338623732336661663830313561333631626437353964373262616632353230656634366434363165616636313839376635396431636433342f746574726174656c6162732f77617a65726f)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/tetratelabs/wazero/tree/main/examples/allocation/rust" title="wazero/examples/allocation/rust at main · tetratelabs/wazero">wazero/examples/allocation/rust at main · tetratelabs/wazero</a></div><div class="message_embed_description">wazero: the zero dependency WebAssembly runtime for Go developers - wazero/examples/allocation/rust at main · tetratelabs/wazero</div></div></div>



<a name="348504062"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20How%20to%20read/writ%20byte%20buffer%20to%20rust%20wasm%20from%20wasm-tim.../near/348504062" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kishan Adapa <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20How.20to.20read.2Fwrit.20byte.20buffer.20to.20rust.20wasm.20from.20wasm-tim.2E.2E.2E.html#348504062">(Apr 11 2023 at 16:03)</a>:</h4>
<blockquote>
<p>in case of wazero it always was a direct mapping so that I can read/write from linear byte array</p>
</blockquote>
<p>Rather I should say, using mod.Memory (of wazero) read/write of that variable succeeds. How achieve similar functionality in wasmtime?</p>



<a name="348606541"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20How%20to%20read/writ%20byte%20buffer%20to%20rust%20wasm%20from%20wasm-tim.../near/348606541" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kishan Adapa <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20How.20to.20read.2Fwrit.20byte.20buffer.20to.20rust.20wasm.20from.20wasm-tim.2E.2E.2E.html#348606541">(Apr 12 2023 at 03:42)</a>:</h4>
<p>I realised I wasn't giving enough memory pages</p>



<a name="348606560"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20How%20to%20read/writ%20byte%20buffer%20to%20rust%20wasm%20from%20wasm-tim.../near/348606560" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20How.20to.20read.2Fwrit.20byte.20buffer.20to.20rust.20wasm.20from.20wasm-tim.2E.2E.2E.html#348606560">(Apr 12 2023 at 03:42)</a>:</h4>
<p><span class="user-mention silent" data-user-id="582392">Kishan Adapa</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>