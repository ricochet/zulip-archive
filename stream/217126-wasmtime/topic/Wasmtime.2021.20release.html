<html>
<head><meta charset="utf-8"><title>Wasmtime 21 release · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime.2021.20release.html">Wasmtime 21 release</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="439621543"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime%2021%20release/near/439621543" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime.2021.20release.html#439621543">(May 20 2024 at 17:41)</a>:</h4>
<p><span class="user-mention" data-user-id="254389">@Chris Fallin</span> <span class="user-mention" data-user-id="504918">@Jamey Sharp</span> I paused the 21.0.0 release of wasmtime for <a href="https://github.com/bytecodealliance/wasmtime/issues/8659">https://github.com/bytecodealliance/wasmtime/issues/8659</a> since it seemed like there's probably an easy-ish fix for it. If y'all think the investigation will take longer than today though lemme know and I'll go ahead and do the release and we can do a point-release when the fix is ready</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/8659" style="background-image: url(&quot;https://uploads.zulipusercontent.net/4d54a3772ec1225ff56f47883250a78b06cb4f22/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f333164623532323533346338306238343264313535376239623739663165636163623236333533353936633264646165303166393536326638336631626566362f62797465636f6465616c6c69616e63652f7761736d74696d652f6973737565732f38363539&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/8659" title="Cranelift: `sret` argument without use causes bad SSA to be passed to regalloc · Issue #8659 · bytecodealliance/wasmtime">Cranelift: `sret` argument without use causes bad SSA to be passed to regalloc · Issue #8659 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">As reported by @bjorn3 just now, we get a compilation panic with the following: test compile precise-output target aarch64 function u0:11(i64 sret) system_v { block0(v0: i64): nop jump block1 block...</div></div></div>



<a name="439621627"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime%2021%20release/near/439621627" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamey Sharp <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime.2021.20release.html#439621627">(May 20 2024 at 17:42)</a>:</h4>
<p>I'm almost done fixing it. Thanks for pausing the release!</p>



<a name="439621692"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime%2021%20release/near/439621692" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime.2021.20release.html#439621692">(May 20 2024 at 17:42)</a>:</h4>
<p>nice sounds good <span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="439623274"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Wasmtime%2021%20release/near/439623274" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jamey Sharp <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Wasmtime.2021.20release.html#439623274">(May 20 2024 at 17:52)</a>:</h4>
<p><a href="https://github.com/bytecodealliance/wasmtime/pull/8664">https://github.com/bytecodealliance/wasmtime/pull/8664</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/8664" style="background-image: url(&quot;https://uploads.zulipusercontent.net/4d3a3465e7f42aa7385fc2cca4c93b075a4c3e52/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f646265333438343737613737663134363436636662333839666663666331316663386535396265633061373564353337383238363935326533613465663430632f62797465636f6465616c6c69616e63652f7761736d74696d652f70756c6c2f38363634&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/8664" title="cranelift: Always consider sret arguments used by jameysharp · Pull Request #8664 · bytecodealliance/wasmtime">cranelift: Always consider sret arguments used by jameysharp · Pull Request #8664 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">In #8438 we stopped emitting register bindings for unused arguments, based on the use-counts from compute_use_states. However, that doesn't count the use of the struct-return argument that's automa...</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>