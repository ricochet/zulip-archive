<html>
<head><meta charset="utf-8"><title>Which WASI version(preview) to use? · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Which.20WASI.20version.28preview.29.20to.20use.3F.html">Which WASI version(preview) to use?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="464489365"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Which%20WASI%20version%28preview%29%20to%20use%3F/near/464489365" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> anb <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Which.20WASI.20version.28preview.29.20to.20use.3F.html#464489365">(Aug 22 2024 at 22:15)</a>:</h4>
<p>Hi I'm going to work on a WASI project with rust and wasmtime. The project currently depends on wasmtime-9, wasi_common(preview 1) and bunch of other "old" stuff, I wonder should I upgraded it to wasmtime-24. My concern is that the preview2 doesn't seem to be supported yet as of rust-1.80, and does it make sense to use wasmtime-24::preview1 instead? Thanks.</p>



<a name="464504684"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Which%20WASI%20version%28preview%29%20to%20use%3F/near/464504684" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Which.20WASI.20version.28preview.29.20to.20use.3F.html#464504684">(Aug 22 2024 at 23:39)</a>:</h4>
<p>preview1 wasi can be adapted into a preview2 component, support of wasip2 in rust merely makes the build simpler, it's not required at all</p>
<p>without further info I would suggest to upgrade wasmtime and use the component model if that makes sense for your project, and even if you would stay with preview1, you still should upgrade the dependencies :)</p>



<a name="464505761"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Which%20WASI%20version%28preview%29%20to%20use%3F/near/464505761" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> anb <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Which.20WASI.20version.28preview.29.20to.20use.3F.html#464505761">(Aug 22 2024 at 23:43)</a>:</h4>
<p>Thanks Ramon. Looks like wasmtime::preview1 doesn't support the component model.</p>
<blockquote>
<p>support of wasip2 in rust merely makes the build simpler</p>
</blockquote>
<p>Any docs on how to build a rust program into wasip2 without the support of the compiler?</p>



<a name="464511518"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Which%20WASI%20version%28preview%29%20to%20use%3F/near/464511518" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joe Sylve <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Which.20WASI.20version.28preview.29.20to.20use.3F.html#464511518">(Aug 23 2024 at 00:23)</a>:</h4>
<p><span class="user-mention silent" data-user-id="591763">anb</span> <a href="#narrow/stream/217126-wasmtime/topic/Which.20WASI.20version.28preview.29.20to.20use.3F/near/464505761">said</a>:</p>
<blockquote>
<p>Thanks Ramon. Looks like wasmtime::preview1 doesn't support the component model.</p>
</blockquote>
<p>Take a look at cargo-component: <a href="https://github.com/bytecodealliance/cargo-component">https://github.com/bytecodealliance/cargo-component</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/cargo-component" style="background-image: url(&quot;https://uploads.zulipusercontent.net/a2391e31147cc78690c0831d977591e8df95720c/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f363333346137633230343761353233323530336535666132346236333731353561373337633265323831353862646132353063633433643462666134353930312f62797465636f6465616c6c69616e63652f636172676f2d636f6d706f6e656e74&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/cargo-component" title="GitHub - bytecodealliance/cargo-component: A Cargo subcommand for creating WebAssembly components based on the component model proposal.">GitHub - bytecodealliance/cargo-component: A Cargo subcommand for creating WebAssembly components based on the component model proposal.</a></div><div class="message_embed_description">A Cargo subcommand for creating WebAssembly components based on the component model proposal. - bytecodealliance/cargo-component</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>