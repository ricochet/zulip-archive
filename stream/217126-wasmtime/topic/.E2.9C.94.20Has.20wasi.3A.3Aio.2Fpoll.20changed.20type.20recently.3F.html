<html>
<head><meta charset="utf-8"><title>✔ Has wasi::io/poll changed type recently? · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20Has.20wasi.3A.3Aio.2Fpoll.20changed.20type.20recently.3F.html">✔ Has wasi::io/poll changed type recently?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="396768039"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20Has%20wasi%3A%3Aio/poll%20changed%20type%20recently%3F/near/396768039" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20Has.20wasi.3A.3Aio.2Fpoll.20changed.20type.20recently.3F.html#396768039">(Oct 15 2023 at 16:30)</a>:</h4>
<p>I'm getting </p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">Error</span>: <span class="nc">import</span><span class="w"> </span><span class="err">`</span><span class="n">wasi</span>:<span class="nc">io</span><span class="o">/</span><span class="n">poll</span><span class="err">`</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">wrong</span><span class="w"> </span><span class="k">type</span>

<span class="nc">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="mi">0</span>: <span class="nc">instance</span><span class="w"> </span><span class="n">export</span><span class="w"> </span><span class="err">`</span><span class="n">pollable</span><span class="err">`</span><span class="w"> </span><span class="n">has</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">wrong</span><span class="w"> </span><span class="k">type</span>
    <span class="mi">1</span>: <span class="nc">expected</span><span class="w"> </span><span class="n">resource</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="n">nothing</span>
</code></pre></div>
<p>Using the latest <code>wasi_snapshot_preview1.reactor.wasm</code></p>



<a name="396904281"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20Has%20wasi%3A%3Aio/poll%20changed%20type%20recently%3F/near/396904281" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20Has.20wasi.3A.3Aio.2Fpoll.20changed.20type.20recently.3F.html#396904281">(Oct 16 2023 at 13:34)</a>:</h4>
<p>This has changed somewhat recently yeah, namely moving <code>wasi:poll/poll</code> to <code>wasi:io/poll</code> I believe. You'll want to confirm that the verison of Wasmtime you're using matches the version of the adapter used to produce a component</p>



<a name="397397252"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20Has%20wasi%3A%3Aio/poll%20changed%20type%20recently%3F/near/397397252" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20Has.20wasi.3A.3Aio.2Fpoll.20changed.20type.20recently.3F.html#397397252">(Oct 18 2023 at 23:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="395878">Scott Waye</span> has marked this topic as resolved.</p>



<a name="397397258"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20Has%20wasi%3A%3Aio/poll%20changed%20type%20recently%3F/near/397397258" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20Has.20wasi.3A.3Aio.2Fpoll.20changed.20type.20recently.3F.html#397397258">(Oct 18 2023 at 23:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="395878">Scott Waye</span> has marked this topic as unresolved.</p>



<a name="397397271"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/%E2%9C%94%20Has%20wasi%3A%3Aio/poll%20changed%20type%20recently%3F/near/397397271" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/.E2.9C.94.20Has.20wasi.3A.3Aio.2Fpoll.20changed.20type.20recently.3F.html#397397271">(Oct 18 2023 at 23:47)</a>:</h4>
<p><span class="user-mention silent" data-user-id="395878">Scott Waye</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>