<html>
<head><meta charset="utf-8"><title>Merge Queue · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html">Merge Queue</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="328312125"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328312125" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328312125">(Feb 16 2023 at 18:51)</a>:</h4>
<p>I'm about to enable the merge queue which means that no one will be able to merge anything until the first PR merges, and after the first PR merges everyone will have to rebase on that PR to ensure that their PR CI is running the right CI to get added to the queue.</p>
<p>I'll post here once I actually update the branch protections.</p>



<a name="328312200"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328312200" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328312200">(Feb 16 2023 at 18:52)</a>:</h4>
<p>I plan to do it within the next half hour though</p>



<a name="328313350"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328313350" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328313350">(Feb 16 2023 at 18:58)</a>:</h4>
<p>hm ok, actually gonna update the settings now, so nothing will be able to merge for a bit while <a href="https://github.com/bytecodealliance/wasmtime/pull/5766">https://github.com/bytecodealliance/wasmtime/pull/5766</a> is testing</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/5766" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/60e8544ec393fd9ed2d0f37691ac67d96e0f64c8\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f656532383336353564383739373936376237616662313339336637663536303134646131326265626534353862666261666532613764633066396239393437352f62797465636f6465616c6c69616e63652f7761736d74696d652f70756c6c2f35373636)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/5766" title="Update CI to use GitHub's Merge Queue by alexcrichton · Pull Request #5766 · bytecodealliance/wasmtime">Update CI to use GitHub's Merge Queue by alexcrichton · Pull Request #5766 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">GitHub recently made its merge queue feature available for use in public repositories owned by organizations meaning that the Wasmtime repository is a candidate for using this. GitHub's Merge Queue...</div></div></div>



<a name="328314459"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328314459" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328314459">(Feb 16 2023 at 19:03)</a>:</h4>
<p>I'm realizing now I forgot to write up documentation, so I'll do that once this merges as well</p>



<a name="328317606"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328317606" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328317606">(Feb 16 2023 at 19:19)</a>:</h4>
<p>ok queue is turned on and 5766 is in the queue</p>



<a name="328319929"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328319929" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328319929">(Feb 16 2023 at 19:31)</a>:</h4>
<p>Is there a way to actually watch the CI run for the merge queue? It doesn't seem like the "Merge Queue" view provides it</p>



<a name="328320095"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328320095" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328320095">(Feb 16 2023 at 19:32)</a>:</h4>
<p>ah, nevermind, you can get to it from the toplevel actions list</p>



<a name="328320288"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328320288" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328320288">(Feb 16 2023 at 19:33)</a>:</h4>
<p>once you make it to the <a href="https://github.com/bytecodealliance/wasmtime/queue/main">merge queue page</a> which is itself hard to find:</p>
<ul>
<li>Click "Queued" in the <a href="https://github.com/bytecodealliance/wasmtime/pulls?page=1&amp;q=is%3Apr+is%3Aopen">PR list</a> for something queued</li>
<li>Or click on "28 branches" on the repo homepage and <a href="https://github.com/bytecodealliance/wasmtime/branches">click on the "1 PR to merge"</a> link there</li>
</ul>
<p>but on that page you can click the little icon that looks like a paper with a checkmark to...</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/queue/main" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/b5e10a0f83e419d2648838c8ed717ecc6c676daf\/68747470733a2f2f6769746875622e6769746875626173736574732e636f6d2f696d616765732f6d6f64756c65732f6f70656e5f67726170682f6769746875622d6f63746f6361742e706e67)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/queue/main" title="Build software better, together">Build software better, together</a></div><div class="message_embed_description">GitHub is where people build software. More than 100 million people use GitHub to discover, fork, and contribute to over 330 million projects.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pulls?page=1&amp;q=is%3Apr+is%3Aopen" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/044d49b81ebb3c1ffbfa559c15fe3d273c9384b8\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f646432376439333432363136383837646533353165633830306630373465613037356239323836336635616562623565663463653762323261303234643437382f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pulls?page=1&amp;q=is%3Apr+is%3Aopen" title="Pull requests · bytecodealliance/wasmtime">Pull requests · bytecodealliance/wasmtime</a></div><div class="message_embed_description">A fast and secure runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/branches" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/044d49b81ebb3c1ffbfa559c15fe3d273c9384b8\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f646432376439333432363136383837646533353165633830306630373465613037356239323836336635616562623565663463653762323261303234643437382f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/branches" title="Branches · bytecodealliance/wasmtime">Branches · bytecodealliance/wasmtime</a></div><div class="message_embed_description">A fast and secure runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div>



<a name="328320308"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328320308" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328320308">(Feb 16 2023 at 19:33)</a>:</h4>
<p>ok I forget that it doesn't actually show it there any more</p>



<a name="328320398"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328320398" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328320398">(Feb 16 2023 at 19:34)</a>:</h4>
<p>in any case you can click on the "Actions" tab and <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/4197428209/jobs/7279733679">this is the build</a> for the merge</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/actions/runs/4197428209/jobs/7279733679" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/044d49b81ebb3c1ffbfa559c15fe3d273c9384b8\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f646432376439333432363136383837646533353165633830306630373465613037356239323836336635616562623565663463653762323261303234643437382f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/actions/runs/4197428209/jobs/7279733679" title="Update CI to use GitHub's Merge Queue (#5766) · bytecodealliance/wasmtime@1efee4a">Update CI to use GitHub's Merge Queue (#5766) · bytecodealliance/wasmtime@1efee4a</a></div><div class="message_embed_description">A fast and secure runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div>



<a name="328320412"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328320412" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328320412">(Feb 16 2023 at 19:34)</a>:</h4>
<p>none of this is surfaced in the PR UI AFAIK</p>



<a name="328320582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328320582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328320582">(Feb 16 2023 at 19:35)</a>:</h4>
<p>ok I just added "Rustfmt" as a required check</p>



<a name="328320635"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328320635" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328320635">(Feb 16 2023 at 19:35)</a>:</h4>
<p>so if you click the paper-with-checkmark icon the "Rustfmt" job should always be there if it's been queued up and you can click "Details" to go to the full build</p>



<a name="328320672"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328320672" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328320672">(Feb 16 2023 at 19:35)</a>:</h4>
<p>(I don't think that the UI is great here)</p>



<a name="328324328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328324328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328324328">(Feb 16 2023 at 19:56)</a>:</h4>
<p>CI has passed now, waiting for the queue to pick it up</p>



<a name="328324401"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328324401" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328324401">(Feb 16 2023 at 19:56)</a>:</h4>
<p>and it's merged!</p>



<a name="328324647"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328324647" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328324647">(Feb 16 2023 at 19:58)</a>:</h4>
<p>I've rebased and queued <a href="https://github.com/bytecodealliance/wasmtime/pull/5797">https://github.com/bytecodealliance/wasmtime/pull/5797</a> now</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/5797" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/71b7d6ee8b003b08d8d67d2e7a69ffab574cc69d\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f343439643139353436653833316462326561623265626232373134643430373766326462616637643862346532653734343138323163396331363566386535612f62797465636f6465616c6c69616e63652f7761736d74696d652f70756c6c2f35373937)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/5797" title="x64: Improve codegen for vectors with constant shift amounts by alexcrichton · Pull Request #5797 · bytecodealliance/wasmtime">x64: Improve codegen for vectors with constant shift amounts by alexcrichton · Pull Request #5797 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">I stumbled across this working on #5795 and figured this was a nice opportunity to improve the codegen here.</div></div></div>



<a name="328327099"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328327099" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328327099">(Feb 16 2023 at 20:11)</a>:</h4>
<p>CInis failing due to rate limits. I need to go to the vet right now so I'll be back in a bit. I think this is the issue labeler job eating all our capacity. I'll try disabling that when I get back</p>



<a name="328327527"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328327527" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328327527">(Feb 16 2023 at 20:14)</a>:</h4>
<p>ah, I didn't realize the labeler took away CI capacity. Slightly spicy hot take: if we're CI-bound and talking about finding funding for additional resources etc, maybe we disable it permanently?</p>



<a name="328327655"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328327655" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328327655">(Feb 16 2023 at 20:14)</a>:</h4>
<p>(I wonder if there are other ways to get labels, external bots or somesuch; alternately it's not the worst thing in the world to apply labels when creating a PR)</p>



<a name="328328753"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328328753" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328328753">(Feb 16 2023 at 20:22)</a>:</h4>
<p>I am supposed to be engaged in finding you all more capacity in some form. I have failed in the current "who's leaving their job" environment. I'll see what I can do here.</p>



<a name="328330272"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328330272" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328330272">(Feb 16 2023 at 20:32)</a>:</h4>
<p>I'm not certain the labeler is the issue it's just a hunch at this point. If it's the problem I'll give it its own dedicated token which should have a separate rate limit</p>



<a name="328335520"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328335520" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328335520">(Feb 16 2023 at 21:04)</a>:</h4>
<p>Ok looking like fewer failures so I'll look into a separate token for the labeler job</p>



<a name="328335558"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328335558" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328335558">(Feb 16 2023 at 21:04)</a>:</h4>
<p>We can also turn down the frequency of the issue labeler to every hour or something, fwiw. The jobs last like a couple minutes last time I checked though, so it would be surprising if they were using up any significant amount of our capacity...</p>



<a name="328335806"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328335806" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328335806">(Feb 16 2023 at 21:05)</a>:</h4>
<p>oh its about API rate limits? in that case, in addition to scheduling it less often, we can make it process fewer issues per run</p>



<a name="328335915"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328335915" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328335915">(Feb 16 2023 at 21:06)</a>:</h4>
<p>The labeler scrapes all open prs and issues right?</p>



<a name="328335967"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328335967" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328335967">(Feb 16 2023 at 21:06)</a>:</h4>
<p>not all, there is a configurable number, 40 by default iirc</p>



<a name="328335977"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328335977" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328335977">(Feb 16 2023 at 21:06)</a>:</h4>
<p>I'm not sure of the interval of the rate limit and if it's blowing the whole limit in one run or repeated runs in the interval</p>



<a name="328336060"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328336060" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328336060">(Feb 16 2023 at 21:07)</a>:</h4>
<p>Wow if it's just 40 we shouldn't be anywhere near rate limits</p>



<a name="328336101"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328336101" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328336101">(Feb 16 2023 at 21:07)</a>:</h4>
<p>We've had a lot of historical issues with rate limits that are transient that I've never bottomed out</p>



<a name="328336305"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328336305" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328336305">(Feb 16 2023 at 21:08)</a>:</h4>
<p><a href="https://github.com/bytecodealliance/label-messager-action/blob/main/action.yml#L10-L12">https://github.com/bytecodealliance/label-messager-action/blob/main/action.yml#L10-L12</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/label-messager-action/blob/main/action.yml#L10-L12" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/c2322456edd13f409c2cdc2c04e86109a928828f\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f323238666561323130666665623034303134626230373164383538666230383331376561356439343830373033626135646433666663356430333336323862612f62797465636f6465616c6c69616e63652f6c6162656c2d6d657373616765722d616374696f6e)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/label-messager-action/blob/main/action.yml#L10-L12" title="label-messager-action/action.yml at main · bytecodealliance/label-messager-action">label-messager-action/action.yml at main · bytecodealliance/label-messager-action</a></div><div class="message_embed_description">Automatically leave a message when an issue or pull request has a certain label - label-messager-action/action.yml at main · bytecodealliance/label-messager-action</div></div></div>



<a name="328336354"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328336354" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328336354">(Feb 16 2023 at 21:08)</a>:</h4>
<p><a href="https://github.com/bytecodealliance/subscribe-to-label-action/blob/main/action.yml#L10-L12">https://github.com/bytecodealliance/subscribe-to-label-action/blob/main/action.yml#L10-L12</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/subscribe-to-label-action/blob/main/action.yml#L10-L12" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/2f31ea3215420a31ec6ec1907372c4ad89819ee1\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f396531643662353939313134303661323166383731646163336463343365343037393839346539653032653732643665306664616435363131303630386237332f62797465636f6465616c6c69616e63652f7375627363726962652d746f2d6c6162656c2d616374696f6e)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/subscribe-to-label-action/blob/main/action.yml#L10-L12" title="subscribe-to-label-action/action.yml at main · bytecodealliance/subscribe-to-label-action">subscribe-to-label-action/action.yml at main · bytecodealliance/subscribe-to-label-action</a></div><div class="message_embed_description">A GitHub action that allows users to subscribe to a label and automatically get @&#39;d when the label is applied - subscribe-to-label-action/action.yml at main · bytecodealliance/subscribe-to-labe...</div></div></div>



<a name="328337171"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328337171" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328337171">(Feb 16 2023 at 21:14)</a>:</h4>
<p>Hm ok the rate issue is probably totally unrelated then</p>



<a name="328337193"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328337193" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328337193">(Feb 16 2023 at 21:14)</a>:</h4>
<p>I'll reenable the labeler later</p>



<a name="328337388"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328337388" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328337388">(Feb 16 2023 at 21:15)</a>:</h4>
<p>Actually if that's not on the v1 tag we aren't using that</p>



<a name="328337407"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328337407" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328337407">(Feb 16 2023 at 21:15)</a>:</h4>
<p>And our triage workflow has other actions too</p>



<a name="328337467"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328337467" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328337467">(Feb 16 2023 at 21:16)</a>:</h4>
<p>So I'd need to dig into all of them</p>



<a name="328352132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328352132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328352132">(Feb 16 2023 at 22:54)</a>:</h4>
<p>so <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/4197659201/jobs/7280265577">this job</a> prints out headers which tells us that:</p>
<ul>
<li>the time of the PR to the time of the rate limit reset was 30m+</li>
<li>from the <a href="https://github.com/bytecodealliance/wasmtime/actions/runs/4197608247/jobs/7280148973">prior successful run</a> 200 api calls were used</li>
</ul>
<p>so once every 5m with 200+ calls per run I think could account for these issues</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/actions/runs/4197659201/jobs/7280265577" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/75a0532ce60429144b83b5c79679195442382330\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f343339656536313361396166343133616236366565396533623136666364386231303738366237643335316337613439376362303834396334616533303066322f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/actions/runs/4197659201/jobs/7280265577" title="Issue / PR Triage · bytecodealliance/wasmtime@80c147d">Issue / PR Triage · bytecodealliance/wasmtime@80c147d</a></div><div class="message_embed_description">A fast and secure runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/actions/runs/4197608247/jobs/7280148973" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/75a0532ce60429144b83b5c79679195442382330\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f343339656536313361396166343133616236366565396533623136666364386231303738366237643335316337613439376362303834396334616533303066322f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/actions/runs/4197608247/jobs/7280148973" title="Issue / PR Triage · bytecodealliance/wasmtime@80c147d">Issue / PR Triage · bytecodealliance/wasmtime@80c147d</a></div><div class="message_embed_description">A fast and secure runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div>



<a name="328352147"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328352147" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328352147">(Feb 16 2023 at 22:54)</a>:</h4>
<p>I'll send a PR to run once an hour</p>



<a name="328353766"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/Merge%20Queue/near/328353766" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/Merge.20Queue.html#328353766">(Feb 16 2023 at 23:06)</a>:</h4>
<p>fwiw github turned down how frequent cron actions could be, so it was effectively set at 15 minutes</p>
<p>all that stuff should be on the <code>v1</code> branch too, fwiw</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>