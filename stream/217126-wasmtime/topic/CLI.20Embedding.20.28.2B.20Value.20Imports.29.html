<html>
<head><meta charset="utf-8"><title>CLI Embedding (+ Value Imports) · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CLI.20Embedding.20.28.2B.20Value.20Imports.29.html">CLI Embedding (+ Value Imports)</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="294694695"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CLI%20Embedding%20%28%2B%20Value%20Imports%29/near/294694695" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CLI.20Embedding.20.28.2B.20Value.20Imports.29.html#294694695">(Aug 22 2022 at 14:20)</a>:</h4>
<p>I'm looking to implement the <a href="https://github.com/WebAssembly/component-model/pull/80">CLI Embedding Proposal</a>, does anyone know when the prerequisites will be available?<br>
The main feature needed is iterating over a components type to identify and then supply specific value imports.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/component-model/pull/80" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/d537155aeb74749aeab7c712f06bbe342033c749\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f363761656438653764343036316131313632373461356633663361383461386339396338306330666234376638663533363637393761313535613165656461342f576562417373656d626c792f636f6d706f6e656e742d6d6f64656c2f70756c6c2f3830)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/component-model/pull/80" title="CLI Embedding Proposal by Kylebrown9 · Pull Request #80 · WebAssembly/component-model">CLI Embedding Proposal by Kylebrown9 · Pull Request #80 · WebAssembly/component-model</a></div><div class="message_embed_description">Add a Typed Main proposal to the component model.
Rendered</div></div></div>



<a name="294758723"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CLI%20Embedding%20%28%2B%20Value%20Imports%29/near/294758723" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CLI.20Embedding.20.28.2B.20Value.20Imports.29.html#294758723">(Aug 22 2022 at 20:03)</a>:</h4>
<p><span class="user-mention" data-user-id="253994">@Alex Crichton</span> can give a more complete answer, but I don't believe any work has been done yet to support component values.  Here's where an implementation would start, I believe: <a href="https://github.com/bytecodealliance/wasmtime/blob/bb0b6dafdeab816cdf5b8977cbd627092d022a91/crates/environ/src/component/translate.rs#L825">https://github.com/bytecodealliance/wasmtime/blob/bb0b6dafdeab816cdf5b8977cbd627092d022a91/crates/environ/src/component/translate.rs#L825</a><br>
See also the first item under "Unsure how to implement so far" <a href="https://github.com/bytecodealliance/wasmtime/issues/4185#issue-1246949479">here</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/bb0b6dafdeab816cdf5b8977cbd627092d022a91/crates/environ/src/component/translate.rs#L825" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/f01dc8928db1bb9f553d6bfff103a4696e4f6fb7\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f653933616365653732376166393635396339623139323332333662623330623931313130643731643430646437646536666431666162313563346662646336612f62797465636f6465616c6c69616e63652f7761736d74696d65)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/bb0b6dafdeab816cdf5b8977cbd627092d022a91/crates/environ/src/component/translate.rs#L825" title="wasmtime/translate.rs at bb0b6dafdeab816cdf5b8977cbd627092d022a91 · bytecodealliance/wasmtime">wasmtime/translate.rs at bb0b6dafdeab816cdf5b8977cbd627092d022a91 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">A standalone runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/4185#issue-1246949479" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/7d1b096b1060a357f826a776c704166175317d14\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f316361346263636539633138663230613133373437396334316232633364626337646566343231633862333861346166316637663461636462303235656135302f62797465636f6465616c6c69616e63652f7761736d74696d652f6973737565732f34313835)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/4185#issue-1246949479" title="Tracking issue for implementing the component model · Issue #4185 · bytecodealliance/wasmtime">Tracking issue for implementing the component model · Issue #4185 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">This is intended to be a tracking issue for the implementation of the component model proposal of WebAssembly. I&#39;m in the progress of implementing this with work in Wasmtime starting at #4005 a...</div></div></div>



<a name="296141640"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CLI%20Embedding%20%28%2B%20Value%20Imports%29/near/296141640" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CLI.20Embedding.20.28.2B.20Value.20Imports.29.html#296141640">(Aug 30 2022 at 15:04)</a>:</h4>
<p>I am not familiar with the CLI embedding proposal myself, but if it relies on anything related to <code>value</code> imports/exports that's not at all implemented yet (and I basically have no idea how to implement it). Otherwise though it should be the case that most of the pieces are all there</p>



<a name="296705200"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/CLI%20Embedding%20%28%2B%20Value%20Imports%29/near/296705200" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/CLI.20Embedding.20.28.2B.20Value.20Imports.29.html#296705200">(Sep 01 2022 at 21:48)</a>:</h4>
<p><span class="user-mention" data-user-id="477605">@Kyle Brown</span> FYI, we've made some progress on this: <a href="https://github.com/bytecodealliance/wasmtime/issues/4844">https://github.com/bytecodealliance/wasmtime/issues/4844</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/4844" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/74b2529185777789588b6133d01fc702cbbf78bf\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f646531643264656336356335656237313865663762623336326634373439336135333934636464343932633538373566356165303830623265396231613566352f62797465636f6465616c6c69616e63652f7761736d74696d652f6973737565732f34383434)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/4844" title="Implement `value` imports/exports and `start` functions in the component model · Issue #4844 · bytecodealliance/wasmtime">Implement `value` imports/exports and `start` functions in the component model · Issue #4844 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">The current implementation of the component model traked in #4185 is fairly complete with the current state of the spec but a major gap is the implementation of value imports, value exports, and th...</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>