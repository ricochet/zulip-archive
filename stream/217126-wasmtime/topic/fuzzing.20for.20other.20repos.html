<html>
<head><meta charset="utf-8"><title>fuzzing for other repos · wasmtime · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/index.html">wasmtime</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html">fuzzing for other repos</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="198130910"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198130910" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198130910">(May 19 2020 at 21:44)</a>:</h4>
<p><span class="user-mention" data-user-id="253990">@fitzgen (he/him)</span> hey so I've been looking again at the fuzzers for other repos other than wasmtime which aren't hooked up to oss-fuzz</p>



<a name="198130919"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198130919" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198130919">(May 19 2020 at 21:44)</a>:</h4>
<p>and I was struck with an idea, what if we used github actions to fuzz everything?</p>



<a name="198130937"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198130937" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198130937">(May 19 2020 at 21:45)</a>:</h4>
<p>like on a cron job?</p>



<a name="198130947"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198130947" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198130947">(May 19 2020 at 21:45)</a>:</h4>
<p>I've got a loose idea that looks like this -- <a href="https://github.com/alexcrichton/wasm-tools/blob/fdd674a95ac8aa9963e6f7da316393775e07814e/.github/workflows/fuzz.yml">https://github.com/alexcrichton/wasm-tools/blob/fdd674a95ac8aa9963e6f7da316393775e07814e/.github/workflows/fuzz.yml</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/alexcrichton/wasm-tools/blob/fdd674a95ac8aa9963e6f7da316393775e07814e/.github/workflows/fuzz.yml" style="background-image: url(https://avatars0.githubusercontent.com/u/64996?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/alexcrichton/wasm-tools/blob/fdd674a95ac8aa9963e6f7da316393775e07814e/.github/workflows/fuzz.yml" title="alexcrichton/wasm-tools">alexcrichton/wasm-tools</a></div><div class="message_embed_description">Low level tooling for WebAssembly . Contribute to alexcrichton/wasm-tools development by creating an account on GitHub.</div></div></div>



<a name="198130952"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198130952" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198130952">(May 19 2020 at 21:45)</a>:</h4>
<p>where you basically drop that file in your repo</p>



<a name="198130960"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198130960" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198130960">(May 19 2020 at 21:45)</a>:</h4>
<p>and all of a sudden you're continuously running fuzzers</p>



<a name="198130969"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198130969" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198130969">(May 19 2020 at 21:45)</a>:</h4>
<p>yeah I'm thinking we'd do like a daily cron job</p>



<a name="198130991"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198130991" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198130991">(May 19 2020 at 21:45)</a>:</h4>
<p>where it builds all the fuzzers then forks off a bunch of parallel targets to run each fuzzer</p>



<a name="198131014"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131014" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131014">(May 19 2020 at 21:45)</a>:</h4>
<p>and if anything fails it automatically uploads crash logs as well as files an issue</p>



<a name="198131070"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131070" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131070">(May 19 2020 at 21:46)</a>:</h4>
<p>e.g. <a href="https://github.com/alexcrichton/wasm-tools/issues/1">https://github.com/alexcrichton/wasm-tools/issues/1</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/alexcrichton/wasm-tools/issues/1" style="background-image: url(https://avatars0.githubusercontent.com/u/64996?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/alexcrichton/wasm-tools/issues/1" title="Fuzz run failed: foo · Issue #1 · alexcrichton/wasm-tools">Fuzz run failed: foo · Issue #1 · alexcrichton/wasm-tools</a></div><div class="message_embed_description">https://github.com/alexcrichton/wasm-tools/actions/runs/109745591</div></div></div>



<a name="198131092"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131092" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131092">(May 19 2020 at 21:46)</a>:</h4>
<p>wdyt about doing this for things like walrus/wasmparser/etc?</p>



<a name="198131104"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131104" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131104">(May 19 2020 at 21:46)</a>:</h4>
<p>one thing I don't know what to do about is the corpus</p>



<a name="198131127"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131127" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131127">(May 19 2020 at 21:46)</a>:</h4>
<p>I'm also not sure whether it's worth it to run all the fuzzers in separate builders</p>



<a name="198131146"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131146" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131146">(May 19 2020 at 21:47)</a>:</h4>
<p>b/c it means I can't easily use <code>cargo fuzz</code> to run the fuzzers, which seems like a bummer</p>



<a name="198131153"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131153" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131153">(May 19 2020 at 21:47)</a>:</h4>
<p>semi related: I just set up gimli's CI for fuzzing so that it builds all fuzz targets in one job, and then runs each one in N parallel jobs: <a href="https://github.com/gimli-rs/gimli/pull/512/commits/b7d1a194c6c4742f69ee77f3c0e3afb532fa84ab">https://github.com/gimli-rs/gimli/pull/512/commits/b7d1a194c6c4742f69ee77f3c0e3afb532fa84ab</a></p>
<p>also, if fuzzing finds a crash/panic/etc, it uploads the failing input as an artifact that you can download for debugging</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/gimli-rs/gimli/pull/512/commits/b7d1a194c6c4742f69ee77f3c0e3afb532fa84ab" style="background-image: url(https://avatars2.githubusercontent.com/u/74571?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/gimli-rs/gimli/pull/512/commits/b7d1a194c6c4742f69ee77f3c0e3afb532fa84ab" title="Add fuzzing infrastructure by fitzgen · Pull Request #512 · gimli-rs/gimli">Add fuzzing infrastructure by fitzgen · Pull Request #512 · gimli-rs/gimli</a></div><div class="message_embed_description">This adds a few fuzz targets for various DWARF sections, and also integrates it with our CI, so that the fuzz targets are built in one job, and then each fuzz target is run in N parallel jobs for f...</div></div></div>



<a name="198131225"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131225" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131225">(May 19 2020 at 21:47)</a>:</h4>
<p>I think you and I just converged on the same thing</p>



<a name="198131230"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131230" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131230">(May 19 2020 at 21:47)</a>:</h4>
<blockquote>
<p>one thing I don't know what to do about is the corpus</p>
</blockquote>
<p>I think a separate repo, like we do with wasmtime (and I also did with gimli) is the way to go</p>



<a name="198131295"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131295" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131295">(May 19 2020 at 21:48)</a>:</h4>
<p>I think we can be better about triggers tho, than what you have sketched out</p>



<a name="198131303"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131303" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131303">(May 19 2020 at 21:48)</a>:</h4>
<p>one sec</p>



<a name="198131332"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131332" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131332">(May 19 2020 at 21:48)</a>:</h4>
<p>it'd be awesome if we could package this all up and put it in the cargo-fuzz org</p>



<a name="198131342"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131342" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131342">(May 19 2020 at 21:48)</a>:</h4>
<p>so we just slap a "here's a tiny snippet to include" and it just runs</p>



<a name="198131360"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131360" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131360">(May 19 2020 at 21:48)</a>:</h4>
<p><a href="https://github.com/bytecodealliance/wasmtime/blob/master/.github/workflows/subscribe-to-label.yml#L5-L10">https://github.com/bytecodealliance/wasmtime/blob/master/.github/workflows/subscribe-to-label.yml#L5-L10</a></p>
<p>we can actually use a scheduled thing, instead of a weird auto-fuzz branch</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/master/.github/workflows/subscribe-to-label.yml#L5-L10" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/master/.github/workflows/subscribe-to-label.yml#L5-L10" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="198131390"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131390" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131390">(May 19 2020 at 21:49)</a>:</h4>
<blockquote>
<p>it'd be awesome if we could package this all up and put it in the cargo-fuzz org</p>
</blockquote>
<p>totally</p>



<a name="198131400"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131400" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131400">(May 19 2020 at 21:49)</a>:</h4>
<p>oh auto-fuzz is just my own local testing</p>



<a name="198131415"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131415" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131415">(May 19 2020 at 21:49)</a>:</h4>
<p><span aria-label="+1" class="emoji emoji-1f44d" role="img" title="+1">:+1:</span></p>



<a name="198131467"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131467" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131467">(May 19 2020 at 21:50)</a>:</h4>
<p>I was thinking it might be best to not do this on PRs since it'd slow them down</p>



<a name="198131514"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131514" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131514">(May 19 2020 at 21:50)</a>:</h4>
<p>but should be easy enough to queue it up for pushes to master</p>



<a name="198131530"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131530" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131530">(May 19 2020 at 21:50)</a>:</h4>
<p>in that ideally we'd let the fuzzers run for like an hour</p>



<a name="198131575"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131575" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131575">(May 19 2020 at 21:50)</a>:</h4>
<p>oh nice, you auto open an issue!</p>



<a name="198131586"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131586" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131586">(May 19 2020 at 21:51)</a>:</h4>
<p>that's sweet</p>



<a name="198131715"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131715" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131715">(May 19 2020 at 21:52)</a>:</h4>
<p>the time limit for an action is like 50 minutes or something, right?</p>
<p>we could probably just do a cron job every hour to fuzz for ~40 minutes</p>
<p>also, maybe makes sense to do a corpus minification run once per day, and push that back to the corpus repo</p>



<a name="198131729"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131729" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131729">(May 19 2020 at 21:52)</a>:</h4>
<p>apparently it's 6 hours (!)</p>



<a name="198131764"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131764" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131764">(May 19 2020 at 21:52)</a>:</h4>
<p>this would eat into the max parallism of the repo so I don't think we'd want it running semi-permanently</p>



<a name="198131773"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131773" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131773">(May 19 2020 at 21:53)</a>:</h4>
<p>but man auto-compaction would be nice</p>



<a name="198131788"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131788" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131788">(May 19 2020 at 21:53)</a>:</h4>
<p>I'd ideally like the corpus to auto-expand over time too</p>



<a name="198131944"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131944" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131944">(May 19 2020 at 21:54)</a>:</h4>
<p>for relatively low-volume repos, like wasm-tools, I think it would be fine modulo maybe not running every fuzz target in parallel</p>



<a name="198131993"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198131993" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198131993">(May 19 2020 at 21:55)</a>:</h4>
<p>so libfuzzer automatically adds to the corpus, right?</p>



<a name="198132035"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132035" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132035">(May 19 2020 at 21:55)</a>:</h4>
<p>expanding the corpus is just</p>
<div class="codehilite"><pre><span></span><code>cd corpus
git add .
git commit -m &quot;update corpus&quot;
git push
</code></pre></div>


<p>after fuzzing</p>



<a name="198132102"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132102" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132102">(May 19 2020 at 21:56)</a>:</h4>
<blockquote>
<p>so libfuzzer automatically adds to the corpus, right?</p>
</blockquote>
<p>when it finds inputs that trigger new code paths, yes</p>



<a name="198132105"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132105" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132105">(May 19 2020 at 21:56)</a>:</h4>
<p>ah ok</p>



<a name="198132120"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132120" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132120">(May 19 2020 at 21:56)</a>:</h4>
<p>I do think a downside of this though is it'll just keep reporting the same bugs once it hits a crash</p>



<a name="198132129"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132129" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132129">(May 19 2020 at 21:56)</a>:</h4>
<p>b/c it won't know it's already reported</p>



<a name="198132163"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132163" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132163">(May 19 2020 at 21:56)</a>:</h4>
<p>yeah, oss-fuzz has a lot of nice bug de-dupe infra, even if it doesn't understand rust's backtraces very well</p>



<a name="198132202"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132202" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132202">(May 19 2020 at 21:57)</a>:</h4>
<p>ideally we'd just hook up more projects to oss-fuzz</p>



<a name="198132211"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132211" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132211">(May 19 2020 at 21:57)</a>:</h4>
<p>but it seems like that's somewhat higher overhead...</p>



<a name="198132228"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132228" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132228">(May 19 2020 at 21:57)</a>:</h4>
<p>I don't think that should be too hard; I saw that serde is in their now too</p>



<a name="198132310"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132310" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132310">(May 19 2020 at 21:58)</a>:</h4>
<p>oh interesting...</p>



<a name="198132314"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132314" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132314">(May 19 2020 at 21:58)</a>:</h4>
<p>I found <a href="https://google.github.io/oss-fuzz/getting-started/continuous-integration/">https://google.github.io/oss-fuzz/getting-started/continuous-integration/</a> as well btw</p>



<a name="198132322"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132322" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132322">(May 19 2020 at 21:58)</a>:</h4>
<p>which we may want to consider for wasmtime if it doesn't take too too long</p>



<a name="198132404"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132404" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132404">(May 19 2020 at 21:59)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253994">Alex Crichton</span> <a href="#narrow/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos/near/198132314">said</a>:</p>
<blockquote>
<p>I found <a href="https://google.github.io/oss-fuzz/getting-started/continuous-integration/">https://google.github.io/oss-fuzz/getting-started/continuous-integration/</a> as well btw</p>
</blockquote>
<p>oh nice! I think this is pretty new, because I don't remember seeing it in their docs when I last browsed them</p>



<a name="198132427"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132427" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132427">(May 19 2020 at 21:59)</a>:</h4>
<p>yeah same</p>



<a name="198132658"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132658" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132658">(May 19 2020 at 22:01)</a>:</h4>
<p>hm ok I'll probably hold off on this sort of continuous fuzzing for now</p>



<a name="198132671"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132671" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132671">(May 19 2020 at 22:02)</a>:</h4>
<p>mainly b/c of the issue spam possibility</p>



<a name="198132687"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198132687" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198132687">(May 19 2020 at 22:02)</a>:</h4>
<p>yeah, I think in conclusion, testing the waters with more oss-fuzz integration is probably the way to go, and if that doesn't work out, then investigate a github actions-based thing</p>



<a name="198133002"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198133002" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198133002">(May 19 2020 at 22:04)</a>:</h4>
<p>looking at <a href="https://github.com/google/oss-fuzz/pull/3785">https://github.com/google/oss-fuzz/pull/3785</a> tbh it looks like you don't even need a formal request</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/google/oss-fuzz/pull/3785" style="background-image: url(https://avatars0.githubusercontent.com/u/1342004?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/google/oss-fuzz/pull/3785" title="[serde-json] initial integration. by DavidKorczynski · Pull Request #3785 · google/oss-fuzz">[serde-json] initial integration. by DavidKorczynski · Pull Request #3785 · google/oss-fuzz</a></div><div class="message_embed_description">serde-json is a core library for working with json in Rust.
Cross-referencing
This has been coordinated with the authors of serde-json, in particular @dtolnay.</div></div></div>



<a name="198133007"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198133007" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198133007">(May 19 2020 at 22:04)</a>:</h4>
<p>that was just a PR</p>



<a name="198133435"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198133435" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198133435">(May 19 2020 at 22:09)</a>:</h4>
<p>Do we know GitHub's position on this kind of usage pattern? I.e., could there be a concern of them seeing it as improper use of resources?</p>



<a name="198133646"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/217126-wasmtime/topic/fuzzing%20for%20other%20repos/near/198133646" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/217126-wasmtime/topic/fuzzing.20for.20other.20repos.html#198133646">(May 19 2020 at 22:11)</a>:</h4>
<p>We don't know their position, but I find it unlikely that they would think of it as improper use, and even if they did, I don't think they would be angry so much as chagrinned and apologetic.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>