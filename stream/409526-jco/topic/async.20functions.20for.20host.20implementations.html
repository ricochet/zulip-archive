<html>
<head><meta charset="utf-8"><title>async functions for host implementations · jco · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/index.html">jco</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/async.20functions.20for.20host.20implementations.html">async functions for host implementations</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="418443399"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/async%20functions%20for%20host%20implementations/near/418443399" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/async.20functions.20for.20host.20implementations.html#418443399">(Jan 27 2024 at 20:15)</a>:</h4>
<p>what's the current opinion about async functions? For example, if I define a fetch function in an interface, then on the js host side that would have to be async so it can return the received bytes</p>
<p>I found this <a href="https://github.com/bytecodealliance/jco/issues/39">https://github.com/bytecodealliance/jco/issues/39</a> and I hope that's not the final decision, or else how do I achieve an interface function that fetches an url and returns the data it read?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/jco/issues/39" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/0b1e039d17c389b38250ebb9cb41450677d435df\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f353033643535613162323163346561633665303861383131303930303734356163613330623163353633313536323735633738666535653233303134323865612f62797465636f6465616c6c69616e63652f6a636f2f6973737565732f3339)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/jco/issues/39" title="Allow async function to be imported/exported · Issue #39 · bytecodealliance/jco">Allow async function to be imported/exported · Issue #39 · bytecodealliance/jco</a></div><div class="message_embed_description">There are certain cases where the host/guest implementation needs to pass an asynchronous function. Can this be supported in the JavaScript codegen even when the WIT definition has its signature as...</div></div></div>



<a name="418443873"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/async%20functions%20for%20host%20implementations/near/418443873" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/async.20functions.20for.20host.20implementations.html#418443873">(Jan 27 2024 at 20:23)</a>:</h4>
<p>the atomics solution mentioned in the issue would work for me since I already run my jco transpiled component in a worker, but it's important to note that Atomics.wait() is usually forbidden on the main thread</p>



<a name="423660973"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/async%20functions%20for%20host%20implementations/near/423660973" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> DougAnderson444 | PeerPiper.io <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/async.20functions.20for.20host.20implementations.html#423660973">(Feb 27 2024 at 17:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="550770">Ramon Klass</span> <a href="#narrow/stream/409526-jco/topic/async.20functions.20for.20host.20implementations/near/418443873">said</a>:</p>
<blockquote>
<p>the atomics solution mentioned in the issue would work for me since I already run my jco transpiled component in a worker, but it's important to note that Atomics.wait() is usually forbidden on the main thread</p>
</blockquote>
<p><span class="user-mention" data-user-id="550770">@Ramon Klass</span> I'd be curious to take a look at your design here, mind sharing a link to it please?</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>