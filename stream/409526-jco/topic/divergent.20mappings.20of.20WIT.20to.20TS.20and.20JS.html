<html>
<head><meta charset="utf-8"><title>divergent mappings of WIT to TS and JS · jco · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/index.html">jco</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/divergent.20mappings.20of.20WIT.20to.20TS.20and.20JS.html">divergent mappings of WIT to TS and JS</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="401429873"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/divergent%20mappings%20of%20WIT%20to%20TS%20and%20JS/near/401429873" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/divergent.20mappings.20of.20WIT.20to.20TS.20and.20JS.html#401429873">(Nov 10 2023 at 19:46)</a>:</h4>
<p>Hey I sat down with <span class="user-mention" data-user-id="653616">@Wassim Chegham</span> today to ask him some questions about how TypeScript, and some of the mappings we were doing. And it seems there might be some differences between what our TypeScript type generator is generating - and the code we actually want to be writing.</p>



<a name="401430145"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/divergent%20mappings%20of%20WIT%20to%20TS%20and%20JS/near/401430145" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/divergent.20mappings.20of.20WIT.20to.20TS.20and.20JS.html#401430145">(Nov 10 2023 at 19:49)</a>:</h4>
<p>I think what we walked away from was with some questions. To speak for myself, I'm wondering:</p>
<ul>
<li>What is the right mapping of WIT -&gt; JS?</li>
<li>What are the consequences of TypeScript types and JS implementations diverging?</li>
<li>How would we like to proceed here?</li>
</ul>



<a name="401430305"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/divergent%20mappings%20of%20WIT%20to%20TS%20and%20JS/near/401430305" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/divergent.20mappings.20of.20WIT.20to.20TS.20and.20JS.html#401430305">(Nov 10 2023 at 19:50)</a>:</h4>
<p>I think one thing we probably want to do is write down the mapping we perform from WIT -&gt; TypeScript in our docs. But separately from that we should evaluate how we want to proceed here in the short term.</p>



<a name="401430385"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/divergent%20mappings%20of%20WIT%20to%20TS%20and%20JS/near/401430385" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/divergent.20mappings.20of.20WIT.20to.20TS.20and.20JS.html#401430385">(Nov 10 2023 at 19:52)</a>:</h4>
<p>(No need to answer this now; it's more to make sure I've raised this ahead of Monday's meeting; that way we get to perhaps think about this a little)</p>



<a name="401449263"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/divergent%20mappings%20of%20WIT%20to%20TS%20and%20JS/near/401449263" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Wassim Chegham <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/divergent.20mappings.20of.20WIT.20to.20TS.20and.20JS.html#401449263">(Nov 10 2023 at 23:39)</a>:</h4>
<p>also, I would like to know:</p>
<ol>
<li>what is the purpose of these TS definition files? Are they used/imported somewhere? </li>
<li>in addition (or instead of) these TS definition files, can we directly generate an "empty" JavaScript implementation out of these WIT files.</li>
</ol>
<p><em>(we can chat about this during our next call)</em></p>



<a name="401582210"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/divergent%20mappings%20of%20WIT%20to%20TS%20and%20JS/near/401582210" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Guy Bedford <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/divergent.20mappings.20of.20WIT.20to.20TS.20and.20JS.html#401582210">(Nov 12 2023 at 05:52)</a>:</h4>
<p>The current TS bindgen for the preview2-shim project is just the same bindgen as if WASI was implemented as a component itself. But WASI isn't implemented as a single component - instead we split its implementation across multiple modules for each subsystem. Therefore there is a difference between what we generate and the actual package type of the preview2-shim project. Bridging that difference with a wrapper TS file to reexport the right types would be great to see!</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>