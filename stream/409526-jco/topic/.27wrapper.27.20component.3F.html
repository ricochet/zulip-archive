<html>
<head><meta charset="utf-8"><title>&#x27;wrapper&#x27; component? · jco · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/index.html">jco</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/.27wrapper.27.20component.3F.html">&#x27;wrapper&#x27; component?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="476510168"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/%27wrapper%27%20component%3F/near/476510168" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ben Sully <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/.27wrapper.27.20component.3F.html#476510168">(Oct 12 2024 at 09:33)</a>:</h4>
<p>Hello! I'm experimenting with <code>jco</code> as an alternative to <code>wasm-pack</code> for providing JS bindings to a library I'm writing. The library is written in Rust as a bunch of separate crates, and I was hoping I could:</p>
<ol>
<li>wrap each of the crates in a component to expose their functionality individually</li>
<li>create a 'wrapper' component which just imports/exports all of their functionality.<br>
I was thinking I could then use <code>jco transpile</code> on the wrapper component to get nice JS bindings with types and stuff, rather than having to write a bunch of bindings by hand like I do for <code>wasm-pack</code>. Plus the component could be used from other languages, too.</li>
</ol>
<p>I've been trying to do this for a little while and have got a bit stuck, so figured it's time to ask!</p>
<ol>
<li>Is this actually possible? and what would be the right incantation of wasm-tools to generate a WASM file from the WIT (which really only contains imports/exports in the world)</li>
<li>Is this a good idea? I'm not actually sure it's easier than just writing the bindings by hand (since I need to write the component impls), but there are several other benefits...</li>
<li>I have no idea if this is possible, but it would be _really_ cool if I could separate out the instantiation of all the separate components, so that e.g. a JS user importing <code>@bsull/library/foo</code> didn't also have to instantiate <code>@bsull/library/bar</code>, etc. That might be a pipe dream and require a manual wrapper library though?</li>
</ol>
<p>aside, I've been impressed with how much all of the tooling 'just works' so far (when I get things lined up correctly), thanks for that!</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>