<html>
<head><meta charset="utf-8"><title>Contributing Guide 路 jco 路 Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/index.html">jco</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html">Contributing Guide</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="397167246"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/397167246" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#397167246">(Oct 17 2023 at 19:05)</a>:</h4>
<p><span class="user-mention" data-user-id="553681">@Guy Bedford</span> What do you think of maybe writing a (minimal?) guide on how to contribute a single Wasi API implementation? I'd love it if we had a basic doc we could point people at saying: "this is how you add an API"</p>



<a name="397168543"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/397168543" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Guy Bedford <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#397168543">(Oct 17 2023 at 19:15)</a>:</h4>
<p>I think more generally, having guides on working with WIT and JS implementations would be the better focus here over preview2 / WASI implementations</p>



<a name="397168594"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/397168594" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Guy Bedford <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#397168594">(Oct 17 2023 at 19:15)</a>:</h4>
<p>Improving guide material here would definitely be great to see though</p>



<a name="425354164"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425354164" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artem Kobzar <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425354164">(Mar 07 2024 at 17:06)</a>:</h4>
<p>Hello guys. I'm trying to contribute to jco (to support GC instructions inside the transpiler), but I have the problem of building the project locally.<br>
I get such weird compilation errors from <code>serde</code>, <code>zerocopy</code>, and other deps like no standard enum variants like <code>Ok</code>, <code>Error</code>, <code>Some</code>, etc.<br>
I went through the guide and installed all the possible things, but nothing helped.<br>
Did somebody face it?</p>



<a name="425356914"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425356914" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425356914">(Mar 07 2024 at 17:20)</a>:</h4>
<p>I haven't encountered any issues of that kind; I'm sorry</p>



<a name="425356968"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425356968" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425356968">(Mar 07 2024 at 17:20)</a>:</h4>
<p>Maybe if you can post the actual error we can take a look?</p>



<a name="425357108"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425357108" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artem Kobzar <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425357108">(Mar 07 2024 at 17:21)</a>:</h4>
<p>One of them:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span><span class="p">[</span><span class="n">E0425</span><span class="p">]</span>: <span class="nc">cannot</span><span class="w"> </span><span class="n">find</span><span class="w"> </span><span class="n">function</span><span class="p">,</span><span class="w"> </span><span class="n">tuple</span><span class="w"> </span><span class="k">struct</span> <span class="nc">or</span><span class="w"> </span><span class="n">tuple</span><span class="w"> </span><span class="n">variant</span><span class="w"> </span><span class="err">`</span><span class="nb">Some</span><span class="err">`</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">scope</span>
<span class="w">    </span><span class="o">-</span>-&gt; <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Artem</span><span class="p">.</span><span class="n">Kobzar</span><span class="o">/</span><span class="p">.</span><span class="n">cargo</span><span class="o">/</span><span class="n">registry</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">index</span><span class="p">.</span><span class="n">crates</span><span class="p">.</span><span class="n">io</span><span class="o">-</span><span class="mi">6</span><span class="n">f17d22bba15001f</span><span class="o">/</span><span class="n">zerocopy</span><span class="o">-</span><span class="mf">0.7.32</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">lib</span><span class="p">.</span><span class="n">rs</span>:<span class="mi">4282</span>:<span class="mi">13</span>
<span class="w">     </span><span class="o">|</span>
<span class="mi">4282</span><span class="w"> </span><span class="o">|</span><span class="w">             </span><span class="nb">Some</span><span class="p">((</span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="n">rest</span><span class="p">))</span>
<span class="w">     </span><span class="o">|</span><span class="w">             </span><span class="o">^^^^</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">found</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">scope</span>

<span class="nb">Some</span><span class="w"> </span><span class="n">errors</span><span class="w"> </span><span class="n">have</span><span class="w"> </span><span class="n">detailed</span><span class="w"> </span><span class="n">explanations</span>: <span class="nc">E0405</span><span class="p">,</span><span class="w"> </span><span class="n">E0408</span><span class="p">,</span><span class="w"> </span><span class="n">E0412</span><span class="p">,</span><span class="w"> </span><span class="n">E0425</span><span class="p">,</span><span class="w"> </span><span class="n">E0433</span><span class="p">,</span><span class="w"> </span><span class="n">E0463</span><span class="p">,</span><span class="w"> </span><span class="n">E0531</span><span class="p">.</span>
<span class="n">error</span>: <span class="nc">could</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">compile</span><span class="w"> </span><span class="err">`</span><span class="n">zerocopy</span><span class="err">`</span><span class="w"> </span><span class="p">(</span><span class="n">lib</span><span class="p">)</span><span class="w"> </span><span class="n">due</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="mi">345</span><span class="w"> </span><span class="n">previous</span><span class="w"> </span><span class="n">errors</span>
</code></pre></div>



<a name="425357230"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425357230" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425357230">(Mar 07 2024 at 17:22)</a>:</h4>
<p>okay; something seems really wrong there</p>



<a name="425357337"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425357337" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425357337">(Mar 07 2024 at 17:22)</a>:</h4>
<p>can you run <code>cargo clean</code> and then try building again?</p>



<a name="425357420"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425357420" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artem Kobzar <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425357420">(Mar 07 2024 at 17:23)</a>:</h4>
<p>I did it multiple times <span aria-label="sad" class="emoji emoji-2639" role="img" title="sad">:sad:</span></p>



<a name="425357435"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425357435" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425357435">(Mar 07 2024 at 17:23)</a>:</h4>
<p>ooffff</p>



<a name="425357675"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425357675" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425357675">(Mar 07 2024 at 17:24)</a>:</h4>
<p>I'm looking at the list of issues, and there doesn't seem to be any mention of an issue like what you're seeing for <code>zerocopy</code>: <a href="https://github.com/google/zerocopy/issues?q=is%3Aissue">https://github.com/google/zerocopy/issues?q=is%3Aissue</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/google/zerocopy/issues?q=is%3Aissue" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/0f458e8ee5b72e92e364fa7bea70df360c09adbc\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f306662373666353832626336343537366465666564373731366539366336663663356164393466626361353262313337363630316539383066633935663137382f676f6f676c652f7a65726f636f7079)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/google/zerocopy/issues?q=is%3Aissue" title="Issues 路 google/zerocopy">Issues 路 google/zerocopy</a></div><div class="message_embed_description">Contribute to google/zerocopy development by creating an account on GitHub.</div></div></div>



<a name="425357697"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425357697" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artem Kobzar <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425357697">(Mar 07 2024 at 17:24)</a>:</h4>
<p>I feel like there is no stdlib, but I also did run <code> rustup target add wasm32-wasi</code> multiple times</p>



<a name="425357710"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425357710" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425357710">(Mar 07 2024 at 17:24)</a>:</h4>
<p>This makes me suspect it might be something local to your environment</p>



<a name="425357765"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425357765" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425357765">(Mar 07 2024 at 17:25)</a>:</h4>
<p>if you run <code>cargo version</code>, what do you see?</p>



<a name="425357787"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425357787" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425357787">(Mar 07 2024 at 17:25)</a>:</h4>
<p>in the project's repo</p>



<a name="425357824"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425357824" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artem Kobzar <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425357824">(Mar 07 2024 at 17:25)</a>:</h4>
<p>cargo: 1.76.0</p>



<a name="425359886"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425359886" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artem Kobzar <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425359886">(Mar 07 2024 at 17:36)</a>:</h4>
<p>So, I deleted rustc, cargo, and rustup; installed rustup again, and it seems like it works. Sorry for disturbing, such a weird situation <span aria-label="melting face" class="emoji emoji-1fae0" role="img" title="melting face">:melting_face:</span></p>



<a name="425362567"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425362567" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Guy Bedford <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425362567">(Mar 07 2024 at 17:52)</a>:</h4>
<p><span class="user-mention" data-user-id="253994">@Alex Crichton</span> might be a good person to chat to here about GC instruction support in Wasmtime-environ (the base on top of which Jco bindgen is implemented)</p>



<a name="425365947"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425365947" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artem Kobzar <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425365947">(Mar 07 2024 at 18:09)</a>:</h4>
<p>I just explored, and it seems like it should be supported already:</p>
<ul>
<li>To parse components, you use <code>wit-parser</code></li>
<li>It uses <code>wasmparser</code> and turns on all available features (including GC): <a href="https://github.com/bytecodealliance/wasm-tools/blob/main/crates/wit-parser/src/decoding.rs#L47">https://github.com/bytecodealliance/wasm-tools/blob/main/crates/wit-parser/src/decoding.rs#L47</a></li>
</ul>



<a name="425476685"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/409526-jco/topic/Contributing%20Guide/near/425476685" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Artem Kobzar <a href="https://bytecodealliance.github.io/zulip-archive/stream/409526-jco/topic/Contributing.20Guide.html#425476685">(Mar 08 2024 at 09:09)</a>:</h4>
<p>Oh, okay. I've found the root cause. You use <code>wasmtime-environ</code> create that doesn't support GC at all.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>