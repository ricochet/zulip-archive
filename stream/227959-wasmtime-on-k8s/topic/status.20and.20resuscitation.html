<html>
<head><meta charset="utf-8"><title>status and resuscitation · wasmtime on k8s · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/index.html">wasmtime on k8s</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html">status and resuscitation</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="397063393"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397063393" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397063393">(Oct 17 2023 at 09:11)</a>:</h4>
<p>Hi all, we haven't had stuff here for a while but a LOT of stuff has been done. Here's a quick update.</p>



<a name="397063741"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397063741" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397063741">(Oct 17 2023 at 09:13)</a>:</h4>
<ol>
<li>there are now three engines with runwasi shims: wasmedge, wasmtime, and now wasmer.</li>
</ol>



<a name="397063909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397063909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397063909">(Oct 17 2023 at 09:14)</a>:</h4>
<ol start="2">
<li>downstream of runwasi, there are I think four shims: spin, slight, lunatic, and wasm workers. These are app host optimizations with nicer dev ux and custom app level features.</li>
</ol>



<a name="397063976"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397063976" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397063976">(Oct 17 2023 at 09:14)</a>:</h4>
<p>the repository for the downstream shims is currently <a href="https://github.com/deislabs/containerd-wasm-shims">https://github.com/deislabs/containerd-wasm-shims</a>.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/deislabs/containerd-wasm-shims" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/f87b1420ca61a9fd6a53e7051313099ef2bf9db0\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f366463316366323236393630343966613335306661663662633566616238636265383536643537316265326266316134373439376531623633653139376134612f646569736c6162732f636f6e7461696e6572642d7761736d2d7368696d73)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/deislabs/containerd-wasm-shims" title="GitHub - deislabs/containerd-wasm-shims: containerd shims for running WebAssembly workloads in Kubernetes">GitHub - deislabs/containerd-wasm-shims: containerd shims for running WebAssembly workloads in Kubernetes</a></div><div class="message_embed_description">containerd shims for running WebAssembly workloads in Kubernetes - GitHub - deislabs/containerd-wasm-shims: containerd shims for running WebAssembly workloads in Kubernetes</div></div></div>



<a name="397064179"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397064179" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397064179">(Oct 17 2023 at 09:16)</a>:</h4>
<ol start="3">
<li>The most recent versions of shims now support "pod agnosticity" -- the ability of containers and modules/components to run in the same pod without any modification of k8s workloads.</li>
</ol>



<a name="397064223"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397064223" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397064223">(Oct 17 2023 at 09:16)</a>:</h4>
<ol start="4">
<li>all shims work on both arm and amd64</li>
</ol>



<a name="397064276"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397064276" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397064276">(Oct 17 2023 at 09:16)</a>:</h4>
<ol start="5">
<li>Windows support is coming relatively soon, so all shims will work on windows and linux.</li>
</ol>



<a name="397064761"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397064761" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397064761">(Oct 17 2023 at 09:20)</a>:</h4>
<ol start="6">
<li>Runwasi shims are working on moving from a scratch-image delivery package to an OCI Artifact-based delivery package, meaning that only one "image" version is required for any execution platform, whether windows or linux, amd/arm, k8s or standalone (that is, execution of standalone app hosts will work from the same reference).</li>
</ol>



<a name="397064963"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397064963" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397064963">(Oct 17 2023 at 09:21)</a>:</h4>
<p>at this time, we are now looking forward to wasi preview 2 with component support. As that appears, runwasi shims will update to use that and versioning will clearly mark that for people wanting to try support.</p>



<a name="397065075"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397065075" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397065075">(Oct 17 2023 at 09:21)</a>:</h4>
<p>two final things for those who care:</p>



<a name="397065658"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397065658" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397065658">(Oct 17 2023 at 09:25)</a>:</h4>
<ol>
<li>runwasi is meant to run WASI, obviously. However, the project isn't into worrying about enforcing such things, partly in full recognition of the moving spec and reference work and partly in the belief that developers are more than able to choose their own functionality. After all, anyone can fork the project and build their own customizations in any case. What the project will do, however, as soon as it's easy to incorporate is build reports of wasi support by shims and app hosts and ensure that releases come with those reports so that if you're looking for wasi support you can easily see which shims have implementations and which shins either do not or to what extent they do.</li>
</ol>



<a name="397065724"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397065724" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397065724">(Oct 17 2023 at 09:25)</a>:</h4>
<ol start="2">
<li>There is an issue to add a shim for wamr. Hopefully we can get that up and running relatively soon.</li>
</ol>



<a name="397066020"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397066020" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397066020">(Oct 17 2023 at 09:27)</a>:</h4>
<p>ooh! there was a 3.</p>



<a name="397066250"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397066250" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397066250">(Oct 17 2023 at 09:28)</a>:</h4>
<ol start="3">
<li>We are collaborating with the developers of kwasm to create a robust k8s operator installation experience. Once that's done, installing, upgrading, and uninstalling can be done on current clusters and can be entirely separate from core cluster operations.</li>
</ol>



<a name="397066288"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397066288" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397066288">(Oct 17 2023 at 09:29)</a>:</h4>
<p>that's about it for now.</p>



<a name="397199984"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397199984" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397199984">(Oct 18 2023 at 00:11)</a>:</h4>
<p><span class="user-mention silent" data-user-id="268586">Ralph</span> <a href="#narrow/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation/near/397064179">said</a>:</p>
<blockquote>
<ol start="3">
<li>The most recent versions of shims now support "pod agnosticity" -- the ability of containers and modules/components to run in the same pod without any modification of k8s workloads.</li>
</ol>
</blockquote>
<p>Hey Ralph, would you mind clarifying this? <code>RuntimeClass</code>es apply to pods, so I was wondering how you could get a "regular" container and a Wasm container to run in the same <code>Pod</code> definition.</p>
<p><span class="user-mention silent" data-user-id="268586">Ralph</span> <a href="#narrow/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation/near/397064761">said</a>:</p>
<blockquote>
<ol start="6">
<li>Runwasi shims are working on moving from a scratch-image delivery package to an OCI Artifact-based delivery package, meaning that only one "image" version is required for any execution platform, whether windows or linux, amd/arm, k8s or standalone (that is, execution of standalone app hosts will work from the same reference).</li>
</ol>
</blockquote>
<p>I'd love to learn more about this, is there a PR/example/docs I can peruse? It <em>seems</em> like what this means is that rather than <code>FROM scratch</code> (not sure where this was used), runwasi will use the specified base image of the shim (does the shim supply that somehow)?</p>



<a name="397264884"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397264884" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397264884">(Oct 18 2023 at 09:01)</a>:</h4>
<p>Hi <span class="user-mention" data-user-id="598440">@Victor Adossi</span>. The answers are:</p>



<a name="397264900"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397264900" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397264900">(Oct 18 2023 at 09:01)</a>:</h4>
<ol>
<li><a href="https://github.com/keithmattix/istio-wasm-demo">https://github.com/keithmattix/istio-wasm-demo</a> for an example using istio.</li>
</ol>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/keithmattix/istio-wasm-demo" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/53793c3a88b6d0b9b8f24454bc5f0642045509ee\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f316463316466333939353032393530373233633930393835613463643964393562656239326161353161633530646462643838333439626134323632636262612f6b656974686d61747469782f697374696f2d7761736d2d64656d6f)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/keithmattix/istio-wasm-demo" title="GitHub - keithmattix/istio-wasm-demo">GitHub - keithmattix/istio-wasm-demo</a></div><div class="message_embed_description">Contribute to keithmattix/istio-wasm-demo development by creating an account on GitHub.</div></div></div>



<a name="397265220"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397265220" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397265220">(Oct 18 2023 at 09:03)</a>:</h4>
<ol start="2">
<li><a href="https://github.com/opencontainers/image-spec/pull/1141">https://github.com/opencontainers/image-spec/pull/1141</a> is the OCI spec work in progress. Container "scratch" images will still be supported, but because <em>any container image</em> is arch- and OS-specific, we can't just use one of them for all deployments, whereas the artifact approach means that we can push ONE deployment/module/component and then any runwasi shim can pull it in and do the right thing.</li>
</ol>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/opencontainers/image-spec/pull/1141" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/169e503915088370c0d1ed1c45a530f16dc0139c\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f663434303564623335383065626630633334306138343735346337613165303865633235613737613331336439613462343564316565323065616166633162642f6f70656e636f6e7461696e6572732f696d6167652d737065632f70756c6c2f31313431)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/opencontainers/image-spec/pull/1141" title="Artifacts clarification by neersighted · Pull Request #1141 · opencontainers/image-spec">Artifacts clarification by neersighted · Pull Request #1141 · opencontainers/image-spec</a></div><div class="message_embed_description">Closes #1131
Relates to #1137
Follow-up to #999

Attempt to better clarify the conceptual differences between artifacts and images (which I tie to the config as described in this spec), and provide...</div></div></div>



<a name="397265307"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397265307" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397265307">(Oct 18 2023 at 09:04)</a>:</h4>
<p>no more multiarch builds, no custom code in runwasi to handle all possible differences.</p>



<a name="397266507"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397266507" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397266507">(Oct 18 2023 at 09:10)</a>:</h4>
<p>BTW, currently we ONLY use FROM Scratch to build minimal images with the application artifact graph inside to push to a repo. at deployment, we can then point the <code>image</code> field at a familiar "image" without adding funky yaml to kubernetes.</p>



<a name="397266663"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397266663" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397266663">(Oct 18 2023 at 09:11)</a>:</h4>
<p>but runwasi does not <em>run</em> that container image; instead, it pulls the image, extracts the contents, and executes those contents with the runtime (like wasmtime). The container is NOT executed; the wasm sandbox executes the contents.</p>



<a name="397266846"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397266846" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397266846">(Oct 18 2023 at 09:12)</a>:</h4>
<p>we then brought in the Youki work for OCI support, so that gave us two features in addition: it enables us to execute the wasm sandbox inside OCI features, and it enables us to run a container image and a module in the same pod, per the example above.</p>



<a name="397266950"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397266950" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397266950">(Oct 18 2023 at 09:13)</a>:</h4>
<p>Another example using Dapr is at <a href="https://dev.to/thangchung/series/24617">https://dev.to/thangchung/series/24617</a>.</p>
<div class="message_embed"><a class="message_embed_image" href="https://dev.to/thangchung/series/24617" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/9158beda7b09cb083a5c2257ac75857908e5b0dd\/68747470733a2f2f74686570726163746963616c6465762e73332e616d617a6f6e6177732e636f6d2f692f3668716d636a61786267626f6e3879647739337a2e706e67)"></a><div class="data-container"><div class="message_embed_title"><a href="https://dev.to/thangchung/series/24617" title="WebAssembly, Docker container, Dapr, and Kubernetes better together Series' Articles">WebAssembly, Docker container, Dapr, and Kubernetes better together Series' Articles</a></div><div class="message_embed_description">View WebAssembly, Docker container, Dapr, and Kubernetes better together Series' Articles on DEV Community</div></div></div>



<a name="397267129"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397267129" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397267129">(Oct 18 2023 at 09:14)</a>:</h4>
<p>But FROM Scratch still had a problem: Windows won't pull that image!!!! it's an empty image, but the k8s framework on windows doesn't think it will run</p>



<a name="397267274"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397267274" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397267274">(Oct 18 2023 at 09:15)</a>:</h4>
<p>so we needed to move to an OCI Artifact approach, as that will enable one component "artifact" to be pulled by anyone who knows how to run it.</p>



<a name="397267313"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397267313" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397267313">(Oct 18 2023 at 09:15)</a>:</h4>
<p>that last part now works in code, but the spec work in OCI is still ongoing.</p>



<a name="397267449"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397267449" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397267449">(Oct 18 2023 at 09:16)</a>:</h4>
<p>this will also enable RTOSES and standalone application hosts (wasmcloud, spin, lunatic, anyone) to use OCI registries to pull and execute components.</p>



<a name="397267459"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397267459" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397267459">(Oct 18 2023 at 09:16)</a>:</h4>
<p>does that help?</p>



<a name="397289012"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397289012" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397289012">(Oct 18 2023 at 11:15)</a>:</h4>
<p>Thanks for the detailed explanation, this is fantastic. </p>
<p>I didn't realize that the artifact spec was what was being used to facilitate running the two alongside each other, and I didn't see the wide ranging changes like enabling Windows and RTOSes. </p>
<p>Thanks for the links,  will dig in and try to better understand!</p>
<p><span class="user-mention silent" data-user-id="268586">Ralph</span> <a href="#narrow/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation/near/397266663">said</a>:</p>
<blockquote>
<p>but runwasi does not <em>run</em> that container image; instead, it pulls the image, extracts the contents, and executes those contents with the runtime (like wasmtime). The container is NOT executed; the wasm sandbox executes the contents.</p>
</blockquote>
<p>Ah this makes sense -- the packaging that was necessary to get the WASM distributed -- I'd forgotten about that bit. I was wondering how you could get <em>both</em> a binary (or the equivalent "pre-WASM" workload) and a WASM binary out of the one artifact and have the runtime underneath know to run them both.</p>
<p>If I'm understanding right, you'd have <em>one</em> image pushed to a registry with a <code>CMD</code> set to the binary that needs to actually run, with the WASM file also on disk somewhere, and metadata to specify the artifact (in this case the WASM file) so the runtime knows to start it, as well, right?</p>



<a name="397752730"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397752730" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mossaka (Joe) <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397752730">(Oct 20 2023 at 17:41)</a>:</h4>
<p>I'd like to also recommend this blog: <a href="https://dev.to/thangchung/how-to-run-webassemblywasi-application-spin-with-dapr-on-kubernetes-2b8n">https://dev.to/thangchung/how-to-run-webassemblywasi-application-spin-with-dapr-on-kubernetes-2b8n</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://dev.to/thangchung/how-to-run-webassemblywasi-application-spin-with-dapr-on-kubernetes-2b8n" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/b70c184e50bb2234c4cc7c802d35e1de6169b889\/68747470733a2f2f7265732e636c6f7564696e6172792e636f6d2f70726163746963616c6465762f696d6167652f66657463682f732d2d7749304a426331542d2d2f635f696d616767615f7363616c652c665f6175746f2c666c5f70726f67726573736976652c685f3530302c715f6175746f2c775f313030302f68747470733a2f2f6465762d746f2d75706c6f6164732e73332e616d617a6f6e6177732e636f6d2f75706c6f6164732f61727469636c65732f3733346b6a3079626d677a6230666579703632352e706e67)"></a><div class="data-container"><div class="message_embed_title"><a href="https://dev.to/thangchung/how-to-run-webassemblywasi-application-spin-with-dapr-on-kubernetes-2b8n" title="How to run WebAssembly/WASI application (Spin) with Dapr on Kubernetes">How to run WebAssembly/WASI application (Spin) with Dapr on Kubernetes</a></div><div class="message_embed_description">Introduction   As far as we know, WebAssembly (WASM) / WebAssembly System Interface (WASI)...</div></div></div>



<a name="397756425"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397756425" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397756425">(Oct 20 2023 at 18:12)</a>:</h4>
<p>Whoops, <span class="user-mention" data-user-id="598440">@Victor Adossi</span> I had forgotten to answer this, though <span class="user-mention" data-user-id="487764">@Mossaka (Joe)</span> might be better here.</p>



<a name="397756430"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397756430" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397756430">(Oct 20 2023 at 18:12)</a>:</h4>
<blockquote>
<p>"If I'm understanding right, you'd have one image pushed to a registry with a CMD set to the binary that needs to actually run, with the WASM file also on disk somewhere, and metadata to specify the artifact (in this case the WASM file) so the runtime knows to start it, as well, right?"</p>
</blockquote>



<a name="397756596"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397756596" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397756596">(Oct 20 2023 at 18:14)</a>:</h4>
<p>the image has only the runtime that executes for shims like spin, slight, etc. The app host shims do not use the underlying runtime because they're built with the crate/lib for that wasm runtime. They can execute standalone, in other words, so those contain a) the app host and b) the wasm module(s) to execute, and c) any config files or other artifacts. They're all dropped and executed as-is.</p>



<a name="397756694"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397756694" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397756694">(Oct 20 2023 at 18:15)</a>:</h4>
<p>the runwasi shims with merely wasm runtimes in them place the runtimes onto the node; using artifacts, you can just drop the artifact and execute it. So, slightly different paths. With artifacts, you don't push "spin" to the repo -- it's already on the node. You only push the module.</p>



<a name="397765035"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397765035" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397765035">(Oct 20 2023 at 19:28)</a>:</h4>
<p>Ah thank you for the detailed explanation! It makes a lot more sense to me now</p>



<a name="397765091"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397765091" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Victor Adossi <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397765091">(Oct 20 2023 at 19:28)</a>:</h4>
<p>I was thinking that the image coming in would be basically empty except for the module</p>



<a name="397770701"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/397770701" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Mossaka (Joe) <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#397770701">(Oct 20 2023 at 20:15)</a>:</h4>
<p>Actually, the examples we've shown are two images - one is the usual Linux image and one is wasm image. The difference between these two is that one has the runtime built into the image (e.x. the Python runtime) and the wasm one only have wasm files. </p>
<p>When the shim sees the rootfs, it tries to determine whether the executable is a Linux executable or a Wasm executable. (e.g. here is the source code in runwasi to determine if the exeuctbale is a Linux executable: <a href="https://github.com/containerd/runwasi/blob/main/crates/containerd-shim-wasm/src/sys/unix/container/executor.rs#L86-L107">https://github.com/containerd/runwasi/blob/main/crates/containerd-shim-wasm/src/sys/unix/container/executor.rs#L86-L107</a>)</p>



<a name="398143888"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/398143888" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#398143888">(Oct 23 2023 at 19:24)</a>:</h4>
<p><em>fancy</em></p>



<a name="404781491"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/404781491" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Divya Mohan <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#404781491">(Nov 29 2023 at 04:48)</a>:</h4>
<p><span class="user-mention" data-user-id="268586">@Ralph</span> : I don't know if this is the right place to raise this concern. Please reroute me if not.</p>
<p>Context: At an upcoming event, I am demonstrating ways we can leverage a combination of Wasm + cloud native tech to build sustainable/greener workloads. Toward which, one of the things that I am doing is deploying the containerd shims and associated workloads per <a href="https://github.com/deislabs/containerd-wasm-shims/blob/main/containerd-shim-spin/quickstart.md">this example</a>. In the demo, I'm also using the <a href="https://sustainable-computing.io/">Kepler</a> &amp; the <a href="https://kube-green.dev/">kube-green</a> projects to demonstrate how much memory/CPU is being consumed &amp; I noticed something odd. The pod running the wws workload, even when it was idle <strong>i.e. no curl requests were being sent its way</strong>, was consuming ~75% of the assigned CPU. The other pods consumed way way less. I will attach a screencap shortly.</p>
<p>My question: Is this expected behavior?</p>
<div class="message_embed"><a class="message_embed_image" href="https://kube-green.dev/" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/1a7ac9b98fbc37c157b6e0e9dbb6a374c9bb6de7\/68747470733a2f2f6b7562652d677265656e2e6465762f696d672f6f672d636f7665722e706e67)"></a><div class="data-container"><div class="message_embed_title"><a href="https://kube-green.dev/" title="kube-green">kube-green</a></div><div class="message_embed_description">kube-green documentation</div></div></div>



<a name="404784943"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/404784943" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Divya Mohan <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#404784943">(Nov 29 2023 at 05:10)</a>:</h4>
<p><span class="user-mention silent" data-user-id="618524">Divya Mohan</span> <a href="#narrow/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation/near/404781491">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="268586">Ralph</span> : I don't know if this is the right place to raise this concern. Please reroute me if not.</p>
<p>Context: At an upcoming event, I am demonstrating ways we can leverage a combination of Wasm + cloud native tech to build sustainable/greener workloads. Toward which, one of the things that I am doing is deploying the containerd shims and associated workloads per <a href="https://github.com/deislabs/containerd-wasm-shims/blob/main/containerd-shim-spin/quickstart.md">this example</a>. In the demo, I'm also using the <a href="https://sustainable-computing.io/">Kepler</a> &amp; the <a href="https://kube-green.dev/">kube-green</a> projects to demonstrate how much memory/CPU is being consumed &amp; I noticed something odd. The pod running the wws workload, even when it was idle <strong>i.e. no curl requests were being sent its way</strong>, was consuming ~75% of the assigned CPU. The other pods consumed way way less. I will attach a screencap shortly.</p>
<p>My question: Is this expected behavior?</p>
</blockquote>
<p>Okay, there are a couple of things I was mistaken about here.</p>
<ul>
<li>It's not the CPU, but the memory.</li>
<li>
<p>Additionally, it's not the pod, but the wws workload that's consuming around ~49.68 MiB of the assigned 128 MiB when it is idle. That's  <strong>~38.81%</strong> and <strong>not 75%</strong>, sorry!. However, in comparison to the other workloads when they are idle, this is significantly higher. (spin 8.25%, slight 9.84%, and lunatic 6.17%). Screenshots attached below.</p>
</li>
<li>
<p>For wws workload (when idle)<br>
<a href="/user_uploads/15107/YH6HXVbnbd04GSCLN2YCSJhW/Screenshot-2023-11-29-at-10.41.06AM.png">Screenshot-2023-11-29-at-10.41.06AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/15107/YH6HXVbnbd04GSCLN2YCSJhW/Screenshot-2023-11-29-at-10.41.06AM.png" title="Screenshot-2023-11-29-at-10.41.06AM.png"><img src="/user_uploads/15107/YH6HXVbnbd04GSCLN2YCSJhW/Screenshot-2023-11-29-at-10.41.06AM.png"></a></div></li>
<li>
<p>For spin workload (when idle)<br>
<a href="/user_uploads/15107/_ud6r_OqQFD5DHbovj36tpzK/Screenshot-2023-11-29-at-10.43.11AM.png">Screenshot-2023-11-29-at-10.43.11AM.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/15107/_ud6r_OqQFD5DHbovj36tpzK/Screenshot-2023-11-29-at-10.43.11AM.png" title="Screenshot-2023-11-29-at-10.43.11AM.png"><img src="/user_uploads/15107/_ud6r_OqQFD5DHbovj36tpzK/Screenshot-2023-11-29-at-10.43.11AM.png"></a></div></li>
</ul>



<a name="404803603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/404803603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#404803603">(Nov 29 2023 at 07:33)</a>:</h4>
<p>Morning from Italy, Divya! The wws shim just uses the wws priest, and nothing more</p>



<a name="404803717"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/404803717" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#404803717">(Nov 29 2023 at 07:34)</a>:</h4>
<p>So my assumption is that it's just a large project.... It's apache after all,basically</p>



<a name="404803900"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/404803900" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#404803900">(Nov 29 2023 at 07:35)</a>:</h4>
<p>Let's ping angel at VMware and see what he says...</p>



<a name="404804474"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/404804474" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#404804474">(Nov 29 2023 at 07:40)</a>:</h4>
<p><span class="user-mention" data-user-id="512058">@Angel M</span> any thoughts?</p>



<a name="404861119"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/404861119" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Divya Mohan <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#404861119">(Nov 29 2023 at 13:04)</a>:</h4>
<p>Thanks, I thought as much! Just wanted to clarify before I jump to conclusions <span aria-label="joy" class="emoji emoji-1f602" role="img" title="joy">:joy:</span>  I'll wait for Angel to answer :)</p>



<a name="404874328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/404874328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#404874328">(Nov 29 2023 at 14:11)</a>:</h4>
<p>the shims themselves merely consume the upstream runwasi crate, so anything "different" is what the shim app host brings.....</p>



<a name="404907340"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/404907340" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angel M <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#404907340">(Nov 29 2023 at 16:41)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="618524">@Divya Mohan</span>,</p>
<p>This is amazing! It's really cool to see the comparison between containers / Wasm / Wasm runtimes running side by side <span aria-label="smiley" class="emoji emoji-1f603" role="img" title="smiley">:smiley:</span>. In the case of wws, the example is running a JS based module, which contains an entire QuickJS interpreter + JS Polyfill code inside the Wasm module. Without checking it yet, I believe it's the main reason for the memory footprint is higher in this example. I believe a Rust example will use less memory, but we wanted to use JS to showcase this specific language.</p>
<p>In addition to that, we spawn the entire <code>wws</code> server, which contains different libraries as <span class="user-mention" data-user-id="268586">@Ralph</span> mentioned. Would you mind to open a discussion on the GitHub project? The information you provided here is more than enough, just wanted to keep track of it and start digging into the issue: <a href="https://github.com/vmware-labs/wasm-workers-server/discussions">https://github.com/vmware-labs/wasm-workers-server/discussions</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/vmware-labs/wasm-workers-server/discussions" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/acd2220ffcfe17e8842fdd11d5145971e800028b\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f363166636163343863643362343136653136633062326334333164346531326661646636616437383161313535313935626462663338346565633933653236302f766d776172652d6c6162732f7761736d2d776f726b6572732d736572766572)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/vmware-labs/wasm-workers-server/discussions" title="vmware-labs/wasm-workers-server · Discussions">vmware-labs/wasm-workers-server · Discussions</a></div><div class="message_embed_description">Explore the GitHub Discussions forum for vmware-labs wasm-workers-server. Discuss code, ask questions &amp; collaborate with the developer community.</div></div></div>



<a name="404907395"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/404907395" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angel M <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#404907395">(Nov 29 2023 at 16:41)</a>:</h4>
<p>And thank you <span class="user-mention" data-user-id="268586">@Ralph</span> for the ping here!</p>



<a name="404914234"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/404914234" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#404914234">(Nov 29 2023 at 17:15)</a>:</h4>
<p>in short, it's more of a scale-out web server than a serverless function host in design, and the footprint indicates that, though I'm sure it can be configured differently.</p>



<a name="404991597"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/404991597" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Divya Mohan <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#404991597">(Nov 30 2023 at 02:18)</a>:</h4>
<p>Thanks gentlemen for your response!</p>
<p><span class="user-mention" data-user-id="512058">@Angel M</span> : I've opened up a <a href="https://github.com/vmware-labs/wasm-workers-server/discussions/258">discussion</a>. If you do need anything else from my side for the investigation, I'd be happy to help!</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/vmware-labs/wasm-workers-server/discussions/258" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/1087c9b6e425eee40427b2597b4b4a137513aa78\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f666430343037313536613437636539366130393632623132613866373334646230376362626333383934356132646235356436303633326366636335373361632f766d776172652d6c6162732f7761736d2d776f726b6572732d7365727665722f64697363757373696f6e732f323538)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/vmware-labs/wasm-workers-server/discussions/258" title="WWS workload with containerd shim taking more CPU as compared to other Wasm workloads · vmware-labs/wasm-workers-server · Discussion #258">WWS workload with containerd shim taking more CPU as compared to other Wasm workloads · vmware-labs/wasm-workers-server · Discussion #258</a></div><div class="message_embed_description">This is per the discussion on the Bytecode Alliance Zulip regarding Wasm workers server workloads taking way more memory (~38%) as compared to other Wasm workloads from the same example. To do: Pro...</div></div></div>



<a name="405162683"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/227959-wasmtime%20on%20k8s/topic/status%20and%20resuscitation/near/405162683" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Angel M <a href="https://bytecodealliance.github.io/zulip-archive/stream/227959-wasmtime-on-k8s/topic/status.20and.20resuscitation.html#405162683">(Nov 30 2023 at 17:10)</a>:</h4>
<p>Thank you <span class="user-mention" data-user-id="618524">@Divya Mohan</span> !!</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>