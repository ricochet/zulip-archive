<html>
<head><meta charset="utf-8"><title>witx-bindgen · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html">witx-bindgen</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="221848657"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221848657" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Gaspard <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221848657">(Jan 07 2021 at 02:00)</a>:</h4>
<p>Edit: I was asking where witx-bindgen was living, and obviously I thought of doing a github-wide search only just after searching, so... Just found it's in bytecodealliance/wasi</p>



<a name="221849756"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221849756" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Gaspard <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221849756">(Jan 07 2021 at 02:20)</a>:</h4>
<p>Actually, reusing this topic for an actual question... Is it known that witx-bindgen is broken? I've got a function that takes in (array u8), and witx-bindgen generates a function that takes <code>&amp;'a [u8]</code> (instead of <code>&amp;mut [u8]</code>) and does not declare the <code>'a</code> lifetime</p>



<a name="221970890"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221970890" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221970890">(Jan 07 2021 at 17:14)</a>:</h4>
<p>I just upgraded witx-bindgen to the latest version of witx, which fixes the CI: <a href="https://github.com/bytecodealliance/wasi/pull/56">https://github.com/bytecodealliance/wasi/pull/56</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasi/pull/56" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasi/pull/56" title="Upgrade to the latest version of witx by abrown · Pull Request #56 · bytecodealliance/wasi">Upgrade to the latest version of witx by abrown · Pull Request #56 · bytecodealliance/wasi</a></div><div class="message_embed_description">
Have a question about this project? Sign up for a free GitHub account to open an issue and contact its maintainers and the community.
  </div></div></div>



<a name="221970909"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221970909" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221970909">(Jan 07 2021 at 17:14)</a>:</h4>
<p><span class="user-mention" data-user-id="253992">@Pat Hickey</span> or <span class="user-mention" data-user-id="253994">@Alex Crichton</span>, can you take a look?</p>



<a name="221971000"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221971000" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221971000">(Jan 07 2021 at 17:15)</a>:</h4>
<p><span class="user-mention" data-user-id="300082">@Léo Gaspard</span>, for the lifetime issue you bring up, is it the same as <a href="https://github.com/bytecodealliance/wasi/issues/47">https://github.com/bytecodealliance/wasi/issues/47</a>?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasi/issues/47" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasi/issues/47" title="generate-raw does not understand pointers as parameters · Issue #47 · bytecodealliance/wasi">generate-raw does not understand pointers as parameters · Issue #47 · bytecodealliance/wasi</a></div><div class="message_embed_description">In wasi-nn, the API passes pointers into several functions: in set_input a tensor structure is passed in in get_output a pointer to a buffer and its max length are passed in to receive the copied o...</div></div></div>



<a name="221971108"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221971108" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221971108">(Jan 07 2021 at 17:16)</a>:</h4>
<p><span class="user-mention" data-user-id="253994">@Alex Crichton</span>, that was fast <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="221971605"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221971605" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221971605">(Jan 07 2021 at 17:20)</a>:</h4>
<p>thanks, idk why that broke CI, do you mind pointing me to the failure?</p>



<a name="221971654"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221971654" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221971654">(Jan 07 2021 at 17:20)</a>:</h4>
<p>id like to make sure when i do a witx release in the future i dont break it, or i fix it myself :)</p>



<a name="221971906"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221971906" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221971906">(Jan 07 2021 at 17:22)</a>:</h4>
<p>found <a href="https://github.com/bytecodealliance/wasi/pull/55/checks">https://github.com/bytecodealliance/wasi/pull/55/checks</a> but it doesnt make sense to me :/ version 0.8.7 should have been available on <a href="http://crates.io">crates.io</a> still...</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasi/pull/55/checks" style="background-image: url(https://avatars3.githubusercontent.com/u/411447?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasi/pull/55/checks" title="Add the repository so people know where to look for the source code by Ekleog · Pull Request #55 · bytecodealliance/wasi">Add the repository so people know where to look for the source code by Ekleog · Pull Request #55 · bytecodealliance/wasi</a></div><div class="message_embed_description">Disclaimer: this is a via-github en-passant PR, nothing is actually tested but hopefully it&#39;ll add the repository link to crates.io so other people don&#39;t have to also use the github search ...</div></div></div>



<a name="221974169"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221974169" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221974169">(Jan 07 2021 at 17:38)</a>:</h4>
<p>hm... perhaps it was that the Git submodule was looking at an old version of witx?</p>



<a name="221974211"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221974211" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Andrew Brown <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221974211">(Jan 07 2021 at 17:38)</a>:</h4>
<p>it's a local path dependency, not a <a href="http://crates.io">crates.io</a> dependency</p>



<a name="221977082"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221977082" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221977082">(Jan 07 2021 at 17:58)</a>:</h4>
<p>hmm, yeah, so the cargo.toml didnt agree with the path dependency prior to that CI run</p>



<a name="221977139"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221977139" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221977139">(Jan 07 2021 at 17:58)</a>:</h4>
<p>im not sure how that got introduced without CI catching it</p>



<a name="221977280"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221977280" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Pat Hickey <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221977280">(Jan 07 2021 at 17:59)</a>:</h4>
<p>could have been a lot of things, the submodule hadnt been updated since feb 2020. hopefully this doesnt happen again. thanks!</p>



<a name="221983268"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/witx-bindgen/near/221983268" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Gaspard <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/witx-bindgen.html#221983268">(Jan 07 2021 at 18:44)</a>:</h4>
<p><span class="user-mention" data-user-id="254110">@Andrew Brown</span> I don't think so, I've submitted issue 57 with a simple reproducer :)</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>