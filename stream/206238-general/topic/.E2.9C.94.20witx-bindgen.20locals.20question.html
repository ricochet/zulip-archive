<html>
<head><meta charset="utf-8"><title>✔ witx-bindgen locals question · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20witx-bindgen.20locals.20question.html">✔ witx-bindgen locals question</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="260515333"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20witx-bindgen%20locals%20question/near/260515333" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20witx-bindgen.20locals.20question.html#260515333">(Nov 06 2021 at 14:03)</a>:</h4>
<p>I'm working on getting a c# <a href="http://lib.rs">lib.rs</a> for witx-bindgen.  Just started really and have a question about how to use the <code>self.locals</code> .  In lowering I create a local that I need to "free" after the call, in the lifting.  I guess I want to use <code>self.locals.insert("pinnedArray");</code> to create the local but how do I get a reference to that in <code>Instruction::ListCanonLift</code> ?</p>



<a name="260515664"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20witx-bindgen%20locals%20question/near/260515664" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20witx-bindgen.20locals.20question.html#260515664">(Nov 06 2021 at 14:09)</a>:</h4>
<p>I should add that I'm starting with the C implementation, so <code>locals</code> is <code>locals: Ns,</code> in its <code>struct FunctionBindgen&lt;'a&gt; </code> .  I'm new to Rust in general, so not sure what I should be looking for.  I mean some of this code is specific to the C implementation, but the general idea of wanting to use a local in the lowering and lifting I would think is universal.</p>



<a name="260521510"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20witx-bindgen%20locals%20question/near/260521510" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20witx-bindgen.20locals.20question.html#260521510">(Nov 06 2021 at 16:06)</a>:</h4>
<p>I've just put stuff on <code>self</code> I guess thats ok if there is a new <code>self</code> for every function?</p>



<a name="260674324"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20witx-bindgen%20locals%20question/near/260674324" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20witx-bindgen.20locals.20question.html#260674324">(Nov 08 2021 at 15:43)</a>:</h4>
<p><span class="user-mention" data-user-id="395878">@Scott Waye</span> I don't think there's much too strict about this, the <code>locals</code> idea was just me trying to make it easier to generate temporary names for variables for languages like C where everything needs to be unique. That's not necessarily required of all generators and it largely depends otherwise on the shape of the code that you're generating and the lanugage that you're generating for (I don't know enough about C# to say anything myself)</p>



<a name="260674581"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20witx-bindgen%20locals%20question/near/260674581" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20witx-bindgen.20locals.20question.html#260674581">(Nov 08 2021 at 15:45)</a>:</h4>
<p><span class="user-mention silent" data-user-id="395878">Scott Waye</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>