<html>
<head><meta charset="utf-8"><title>Wasm panic=unwind · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Wasm.20panic.3Dunwind.html">Wasm panic=unwind</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="221767279"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Wasm%20panic%3Dunwind/near/221767279" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Gaspard <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Wasm.20panic.3Dunwind.html#221767279">(Jan 06 2021 at 13:37)</a>:</h4>
<p>Is there any way to get panic=unwind behavior on wasm blobs? I'd like to make sure I deallocate the missing memory in case of a trap, because reinitializing the whole wasm module to avoid memory leaks sounds... suboptimal :/</p>



<a name="221771547"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Wasm%20panic%3Dunwind/near/221771547" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Wasm.20panic.3Dunwind.html#221771547">(Jan 06 2021 at 14:19)</a>:</h4>
<p>Webassembly doesn't yet have support for unwinding. I believe there is a proposal for this but I don't know what the status is.</p>



<a name="221775987"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Wasm%20panic%3Dunwind/near/221775987" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Gaspard <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Wasm.20panic.3Dunwind.html#221775987">(Jan 06 2021 at 14:56)</a>:</h4>
<p>Hmm ok thank you! Guess I'll just eat the memory leak until such a proposal lands and is implemented then, panics are hopefully not going to happen often in the configuration :)</p>



<a name="221780608"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Wasm%20panic%3Dunwind/near/221780608" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Bouvier <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Wasm.20panic.3Dunwind.html#221780608">(Jan 06 2021 at 15:31)</a>:</h4>
<p>There's a proposal for <a href="https://github.com/WebAssembly/exception-handling/">exception handling</a>, but it's not implemented or planned yet in Wasmtime as far as I know. I assume that when it becomes stage 4 in wasm, it'll be a stronger requirement in wasmtime. (See also <a href="https://github.com/bytecodealliance/wasmtime/issues/2049">this issue</a>.)</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/exception-handling/" style="background-image: url(https://avatars3.githubusercontent.com/u/11578470?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/exception-handling/" title="WebAssembly/exception-handling">WebAssembly/exception-handling</a></div><div class="message_embed_description">Proposal to add exception handling to WebAssembly. Contribute to WebAssembly/exception-handling development by creating an account on GitHub.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/2049" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/2049" title="Exception support · Issue #2049 · bytecodealliance/wasmtime">Exception support · Issue #2049 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Feature Cranelift currently doesn&#39;t support SEH (but has some support for finally I think). This is a feature request to support properly exception (landingpads on Posix, SEH on windows, maybe ...</div></div></div>



<a name="221826279"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Wasm%20panic%3Dunwind/near/221826279" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Léo Gaspard <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Wasm.20panic.3Dunwind.html#221826279">(Jan 06 2021 at 21:30)</a>:</h4>
<p>Thank you! I'd love for something like that to happen indeed :)</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>