<html>
<head><meta charset="utf-8"><title>Adapter module for `wasm-tools component new` · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Adapter.20module.20for.20.60wasm-tools.20component.20new.60.html">Adapter module for `wasm-tools component new`</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="376727746"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Adapter%20module%20for%20%60wasm-tools%20component%20new%60/near/376727746" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Macovei <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Adapter.20module.20for.20.60wasm-tools.20component.20new.60.html#376727746">(Jul 19 2023 at 16:34)</a>:</h4>
<p>Been awhile since I've done this, but historically I could grab an adapter module from this url <a href="https://github.com/bytecodealliance/preview2-prototyping/releases/tag/latest">https://github.com/bytecodealliance/preview2-prototyping/releases/tag/latest</a> and then do <code>wasm-tools component new ./path/to/module.wasm -o target.wasm  --adapt wasi_snapshot_preview1.wasm</code> and it would generate a component wasm that I could later embed a wit into.  Now I get the following error when I try to reproduce.  Is this adapter module no longer up to date?  Also maybe that work flow just isn't supported anymore?  It was a couple months ago.  Also I know the tooling has been changing quite a bit.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">error</span>: <span class="nc">decoding</span><span class="w"> </span><span class="n">custom</span><span class="w"> </span><span class="n">section</span><span class="w"> </span><span class="n">component</span><span class="o">-</span><span class="k">type</span>:<span class="nc">wasi</span><span class="o">-</span><span class="n">command</span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="mi">0</span>: <span class="nc">component</span><span class="o">-</span><span class="k">type</span> <span class="nc">version</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="n">does</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="k">match</span><span class="w"> </span><span class="n">supported</span><span class="w"> </span><span class="n">version</span><span class="w"> </span><span class="mi">3</span>
</code></pre></div>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/preview2-prototyping/releases/tag/latest" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/0499e43f8332dfe58813fe8fdfd869bcdb9429f6\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f326466643661356333383537646431633936353763666361393735386366323631333232633762623737353630333038633563323233376266633730653265322f62797465636f6465616c6c69616e63652f70726576696577322d70726f746f747970696e672f72656c65617365732f7461672f6c6174657374)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/preview2-prototyping/releases/tag/latest" title="Release Latest Build · bytecodealliance/preview2-prototyping">Release Latest Build · bytecodealliance/preview2-prototyping</a></div><div class="message_embed_description">Commits

e4c04bc: Update README.md (Pat Hickey)</div></div></div>



<a name="376728494"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Adapter%20module%20for%20%60wasm-tools%20component%20new%60/near/376728494" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Adapter.20module.20for.20.60wasm-tools.20component.20new.60.html#376728494">(Jul 19 2023 at 16:36)</a>:</h4>
<p>Oh that general workflow should still work, and the adapters have moved to Wasmtime's releases instead -- <a href="https://github.com/bytecodealliance/wasmtime/releases/tag/v10.0.1">https://github.com/bytecodealliance/wasmtime/releases/tag/v10.0.1</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/releases/tag/v10.0.1" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/d5b4f2535328d55fafb4790196ff3a274525f31a\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f303335306161343936306538316539653036626534633635636232313832376536313939316262623838363165313861383931336632643539313462666230352f62797465636f6465616c6c69616e63652f7761736d74696d652f72656c65617365732f7461672f7631302e302e31)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/releases/tag/v10.0.1" title="Release v10.0.1: Release Wasmtime 10.0.1 (#6620) · bytecodealliance/wasmtime">Release v10.0.1: Release Wasmtime 10.0.1 (#6620) · bytecodealliance/wasmtime</a></div><div class="message_embed_description">A fast and secure runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div>



<a name="376728580"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Adapter%20module%20for%20%60wasm-tools%20component%20new%60/near/376728580" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Daniel Macovei <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Adapter.20module.20for.20.60wasm-tools.20component.20new.60.html#376728580">(Jul 19 2023 at 16:36)</a>:</h4>
<p>Thanks!</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>