<html>
<head><meta charset="utf-8"><title>rust-analyzer on wasmtime repo · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html">rust-analyzer on wasmtime repo</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="345235092"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345235092" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kmeakin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345235092">(Mar 28 2023 at 20:23)</a>:</h4>
<p>Is <code>rust-analyzer</code> working on the <code>wasmtime</code> repo? Doesn't seem to be working for me on VSCode. Compile errors arent reported at all, but hundreads of clippy warnings are</p>



<a name="345235883"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345235883" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345235883">(Mar 28 2023 at 20:28)</a>:</h4>
<p>It's working at least for me and I know for a number of the other contributors; I'm using it under emacs with <code>eglot</code></p>



<a name="345235931"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345235931" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345235931">(Mar 28 2023 at 20:28)</a>:</h4>
<p>Are you able to see logs or output? maybe it's missing some configuration or something?</p>



<a name="345237756"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345237756" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kmeakin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345237756">(Mar 28 2023 at 20:41)</a>:</h4>
<p>Changing the rust-analyer command from <code>cargo clippy</code> to <code>cargo check</code> seems to fix it</p>



<a name="345237796"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345237796" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kmeakin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345237796">(Mar 28 2023 at 20:41)</a>:</h4>
<p>I'm guessinng wasmtime doesnt use clippy, since there are hundreds of clippy warnings?</p>



<a name="345237892"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345237892" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345237892">(Mar 28 2023 at 20:42)</a>:</h4>
<p>Ah, yeah, actual typechecking is what you want</p>



<a name="345237939"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345237939" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345237939">(Mar 28 2023 at 20:42)</a>:</h4>
<p>we don't use clippy; it's overly opinionated about a lot of things and suggests refactors that don't make sense, or actively make code worse</p>



<a name="345237955"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345237955" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345237955">(Mar 28 2023 at 20:42)</a>:</h4>
<p>(that's my opinion at least, may be slightly spicy)</p>



<a name="345238238"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345238238" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kmeakin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345238238">(Mar 28 2023 at 20:44)</a>:</h4>
<p>Yeah, the <code>pedantic</code> warnings are overly, well, pedantic. But the default warnings can be pretty helpful - eg useless clones or borrows</p>



<a name="345251953"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345251953" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345251953">(Mar 28 2023 at 22:20)</a>:</h4>
<p>some of them are helpful, but even the default aren't all great IMO</p>



<a name="345252081"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345252081" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345252081">(Mar 28 2023 at 22:21)</a>:</h4>
<p>one thing I've never figured out is how to tell rust-analyzer which cargo features to enable or disable from emacs via lsp-mode</p>



<a name="345252592"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345252592" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345252592">(Mar 28 2023 at 22:24)</a>:</h4>
<p>Oh, yeah, that one's really annoying; if I'm working on something that's under a feature and not on by default, sometimes I just add it to the default feature set (locally, uncommitted) to make LSP work</p>



<a name="345253255"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345253255" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345253255">(Mar 28 2023 at 22:29)</a>:</h4>
<p>Regarding Clippy: perhaps it would help to add a clippy.toml file which disables the opinionated lints.  I agree with <span class="user-mention" data-user-id="600668">@kmeakin</span> that some of the lints are quite helpful.</p>



<a name="345253651"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345253651" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345253651">(Mar 28 2023 at 22:32)</a>:</h4>
<p>Err, nevermind the clippy.toml idea.  I just noticed this in the Clippy docs: <code>Note: The configuration file is unstable and may be deprecated in the future.</code></p>



<a name="345259719"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/rust-analyzer%20on%20wasmtime%20repo/near/345259719" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> kmeakin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/rust-analyzer.20on.20wasmtime.20repo.html#345259719">(Mar 28 2023 at 23:16)</a>:</h4>
<p>you can ignore them with <code>#![allow(...)]</code> in <code>lib.rs</code>. But you have to repeat that for every crate</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>