<html>
<head><meta charset="utf-8"><title>cranelift to wasm · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/cranelift.20to.20wasm.html">cranelift to wasm</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="392894572"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/cranelift%20to%20wasm/near/392894572" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Antonio Rosario Palomino <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/cranelift.20to.20wasm.html#392894572">(Sep 25 2023 at 03:04)</a>:</h4>
<p>Hello, i am interested i writing a functional compiler bac end for a functional language. I have been thining of targetting llvm but cranelift may be an easier to use alternative. One of my main questions Is whether cranelift can Targets wasm like llvm can</p>



<a name="393007603"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/cranelift%20to%20wasm/near/393007603" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Afonso Bordado <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/cranelift.20to.20wasm.html#393007603">(Sep 25 2023 at 13:03)</a>:</h4>
<p>Hey, currently cranelift only supports 4 targets, x86, AArch64, S390X and RISC-V. Adding a WebAssembly backend has been brought up before in this issue: <a href="https://github.com/bytecodealliance/wasmtime/issues/2566">https://github.com/bytecodealliance/wasmtime/issues/2566</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/2566" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/b65081c7af59a359a4d7dd29933afab4a7e25b22\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f393338366236353364323236353131666363636434373937356237323730333235366238316335656635356235323337303261363263373031373735633439652f62797465636f6465616c6c69616e63652f7761736d74696d652f6973737565732f32353636)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/2566" title="Add Webassembly backend · Issue #2566 · bytecodealliance/wasmtime">Add Webassembly backend · Issue #2566 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Feature Add a Cranelift backend that compiles to Webassembly. Benefit This would allow a compiler to run in the browser and compile code to run in the browser. Implementation No plan yet Alternativ...</div></div></div>



<a name="393038087"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/cranelift%20to%20wasm/near/393038087" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Antonio Rosario Palomino <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/cranelift.20to.20wasm.html#393038087">(Sep 25 2023 at 15:04)</a>:</h4>
<p>I see, so it could be done, but it has Yet to be implemented. Is there anything in the cranelift ir that would make it not an ideal Fit to Target wasm? <br>
I have seem other SSA ir that Targets wasm so i hope it Is as well:<br>
<a href="https://github.com/GetFirefly/firefly">https://github.com/GetFirefly/firefly</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/GetFirefly/firefly" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/c54b15140578b3d82e24858291eaf71e785f74c3\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f346631646634353531653038646336363339643466393762366633663032653230626233386138353832366664316536313438646333643133343735646161302f47657446697265666c792f66697265666c79)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/GetFirefly/firefly" title="GitHub - GetFirefly/firefly: An alternative BEAM implementation, designed for WebAssembly">GitHub - GetFirefly/firefly: An alternative BEAM implementation, designed for WebAssembly</a></div><div class="message_embed_description">An alternative BEAM implementation, designed for WebAssembly - GitHub - GetFirefly/firefly: An alternative BEAM implementation, designed for WebAssembly</div></div></div>



<a name="393042148"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/cranelift%20to%20wasm/near/393042148" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Afonso Bordado <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/cranelift.20to.20wasm.html#393042148">(Sep 25 2023 at 15:21)</a>:</h4>
<p>I'm not entirely sure if there's anything cranelift specific that makes it worse, <span class="user-mention" data-user-id="254389">@Chris Fallin</span> has a good summary on the topic in this <a href="https://github.com/bytecodealliance/wasmtime/issues/2566#issuecomment-1350345180">comment</a>.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/2566#issuecomment-1350345180" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/b65081c7af59a359a4d7dd29933afab4a7e25b22\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f393338366236353364323236353131666363636434373937356237323730333235366238316335656635356235323337303261363263373031373735633439652f62797465636f6465616c6c69616e63652f7761736d74696d652f6973737565732f32353636)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/2566#issuecomment-1350345180" title="Add Webassembly backend · Issue #2566 · bytecodealliance/wasmtime">Add Webassembly backend · Issue #2566 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Feature Add a Cranelift backend that compiles to Webassembly. Benefit This would allow a compiler to run in the browser and compile code to run in the browser. Implementation No plan yet Alternativ...</div></div></div>



<a name="393112048"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/cranelift%20to%20wasm/near/393112048" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Antonio Rosario Palomino <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/cranelift.20to.20wasm.html#393112048">(Sep 25 2023 at 21:12)</a>:</h4>
<p>Thanks. That comment links to a very useful project</p>



<a name="393113438"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/cranelift%20to%20wasm/near/393113438" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Antonio Rosario Palomino <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/cranelift.20to.20wasm.html#393113438">(Sep 25 2023 at 21:22)</a>:</h4>
<p>I have been talking with the Gerbil/ Gambit scheme developers and the lead developer of Gambit says he would rather target web assembly directly as another IR could limit the performance of the generated code and the Gambit Bytecode Machine already does relooping of sorts to target other languages and is already an stack machine</p>



<a name="393114043"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/cranelift%20to%20wasm/near/393114043" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Antonio Rosario Palomino <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/cranelift.20to.20wasm.html#393114043">(Sep 25 2023 at 21:27)</a>:</h4>
<p>I am checking the Gambit Bytecode Machine to see whether its actually similar to wasm and cranelift to see if using it would add a performance penalty.</p>
<p>Would rather use cranelift ( or a similar alternative ) to gain more native backends, low level optimizations and the ability to define custom calling conventions</p>



<a name="393114172"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/cranelift%20to%20wasm/near/393114172" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Antonio Rosario Palomino <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/cranelift.20to.20wasm.html#393114172">(Sep 25 2023 at 21:28)</a>:</h4>
<p>Redox os developers say faster context switching could be achieved by using a non standard system call ABI</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>