<html>
<head><meta charset="utf-8"><title>Building WMRT on Windows · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html">Building WMRT on Windows</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="195530242"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195530242" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195530242">(Apr 28 2020 at 08:01)</a>:</h4>
<p>Hi guys, grabbed repo, created a CMakefiles.txt. <br>
Get this : <a href="https://pastebin.com/t80r554J" title="https://pastebin.com/t80r554J">https://pastebin.com/t80r554J</a><br>
Stuck as there appears to be no  wasm-micro-runtime\core\shared\platform windows subdir with the file its looking for.</p>
<p>noob to the system. help :)</p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/t80r554J" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/t80r554J" title="Selecting Windows SDK version 10.0.18362.0 to target Windows 10.0.18363.  The C  - Pastebin.com">Selecting Windows SDK version 10.0.18362.0 to target Windows 10.0.18363.  The C  - Pastebin.com</a></div></div></div>



<a name="195530398"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195530398" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195530398">(Apr 28 2020 at 08:03)</a>:</h4>
<p>unsure where I should set WAMR_RUNTIME_LIB_SOURCE to</p>



<a name="195530858"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195530858" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195530858">(Apr 28 2020 at 08:08)</a>:</h4>
<p>looks like I need to set WAMR_BUILD_PLATFORM to something but to build on windows, what ? as stated, the file its looking for isn't in the tree as far as I can see.</p>



<a name="195530900"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195530900" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195530900">(Apr 28 2020 at 08:08)</a>:</h4>
<p>you build this on windows normally or I'm doing something new ?</p>



<a name="195531145"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195531145" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195531145">(Apr 28 2020 at 08:11)</a>:</h4>
<p>It indeed seems that there is no windows support yet. <a href="https://github.com/bytecodealliance/wasm-micro-runtime/blob/master/doc/port_wamr.md" title="https://github.com/bytecodealliance/wasm-micro-runtime/blob/master/doc/port_wamr.md">https://github.com/bytecodealliance/wasm-micro-runtime/blob/master/doc/port_wamr.md</a> describes how to port WAMR though if you want to try it yourself.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-micro-runtime/blob/master/doc/port_wamr.md" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-micro-runtime/blob/master/doc/port_wamr.md" title="bytecodealliance/wasm-micro-runtime">bytecodealliance/wasm-micro-runtime</a></div><div class="message_embed_description">WebAssembly Micro Runtime (WAMR). Contribute to bytecodealliance/wasm-micro-runtime development by creating an account on GitHub.</div></div></div>



<a name="195531321"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195531321" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195531321">(Apr 28 2020 at 08:13)</a>:</h4>
<p>mmmmkay :) thanks bjorn3.  as wasm is in browsers &amp; browsers run on windows that's surprising. suppose firefox &amp; chrome use different runtimes.<br>
can you offer any insight ? I'm wanting a wasm runtime to add to our 3D web browser to replace .net runtime &amp; mono. thought maybe this was a good choice. then again maybe its not. unsure.</p>



<a name="195533865"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195533865" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195533865">(Apr 28 2020 at 08:41)</a>:</h4>
<p><span class="user-mention" data-user-id="297332">@Steve Williams</span> you could look into another one of our projects, <a href="https://github.com/bytecodealliance/wasmtime" title="https://github.com/bytecodealliance/wasmtime">Wasmtime</a>, which works on Windows (and macOS, Linux, and some other systems) and is optimized for embedding.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="195534756"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195534756" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195534756">(Apr 28 2020 at 08:51)</a>:</h4>
<p>hi till, I spotted wasmtime but wasn't sure what it was. does it also have an embedding API. wanting something close to mono's native interface binding. spotted this for micro-runtime. does wasmtime have similar ? thanks for your assistance.</p>
<p><a href="https://github.com/bytecodealliance/wasm-micro-runtime/blob/master/doc/embed_wamr.md" title="https://github.com/bytecodealliance/wasm-micro-runtime/blob/master/doc/embed_wamr.md">https://github.com/bytecodealliance/wasm-micro-runtime/blob/master/doc/embed_wamr.md</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-micro-runtime/blob/master/doc/embed_wamr.md" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-micro-runtime/blob/master/doc/embed_wamr.md" title="bytecodealliance/wasm-micro-runtime">bytecodealliance/wasm-micro-runtime</a></div><div class="message_embed_description">WebAssembly Micro Runtime (WAMR). Contribute to bytecodealliance/wasm-micro-runtime development by creating an account on GitHub.</div></div></div>



<a name="195534988"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195534988" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195534988">(Apr 28 2020 at 08:53)</a>:</h4>
<p>It does, yes. See the documentation for a few existing embeddings, and the C embedding API here: <a href="https://github.com/bytecodealliance/wasmtime#language-support" title="https://github.com/bytecodealliance/wasmtime#language-support">https://github.com/bytecodealliance/wasmtime#language-support</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime#language-support" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime#language-support" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="195535105"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195535105" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195535105">(Apr 28 2020 at 08:54)</a>:</h4>
<p>think we have a winner - cheers :)</p>
<p>time to experiment. update when I have something.</p>



<a name="195535177"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195535177" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195535177">(Apr 28 2020 at 08:55)</a>:</h4>
<p>We also have support for debugging of the Wasm code with gdb/lldb, which often helps a lot with figuring out what's going wrong in embedding scenarios. Sadly no Visual Studio debugger, because that requires a completely different debug info format, but Visual Studio Code works, for example</p>



<a name="195535326"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195535326" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195535326">(Apr 28 2020 at 08:56)</a>:</h4>
<p>yeah, spotted the lldb stuff. looking forwards to having that running in vr :) so you can debug your 3d stuff right alongside it. not sure if gimmick or genuinely useful at this point - guess we'll see :)</p>



<a name="195535530"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195535530" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195535530">(Apr 28 2020 at 08:59)</a>:</h4>
<p>interesting we can use visual studio code for more traditional debugging. visual studio proper has got too big &amp; bulky anyway. for all use cases. asking webdevs to install gigabytes to debug a basic script is one of the reasons for junking our .net assembly approach.</p>
<p>input appreciated &amp; project sounds great. time to dive in :)</p>



<a name="195535778"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195535778" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195535778">(Apr 28 2020 at 09:01)</a>:</h4>
<p>Great! I'd love to hear how things are going, whether you run into issues or everything goes smoothly <span aria-label="slight smile" class="emoji emoji-1f642" role="img" title="slight smile">:slight_smile:</span></p>



<a name="195535925"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195535925" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195535925">(Apr 28 2020 at 09:03)</a>:</h4>
<p>back with questions if I get stuck :)</p>



<a name="195540420"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195540420" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195540420">(Apr 28 2020 at 09:51)</a>:</h4>
<p>k, installed wasmtime windows installer. it installs wasmtime.exe . no library to build against for embedding applications such as ours. having binary library &amp; header files in that install would eliminate a pain point. so installer no use at this point, guess its back to git repo &amp; figure out how to build what I need. ideally that would have come later. experiment first, build from scratch later is my prefered development path.</p>



<a name="195541214"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195541214" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Konka <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195541214">(Apr 28 2020 at 09:58)</a>:</h4>
<p>For embedding wasmtime, you might wanna check out these two crates:</p>
<ul>
<li><a href="https://github.com/bytecodealliance/wasmtime/tree/master/crates/api" title="https://github.com/bytecodealliance/wasmtime/tree/master/crates/api">api</a></li>
<li><a href="https://github.com/bytecodealliance/wasmtime/tree/master/crates/c-api" title="https://github.com/bytecodealliance/wasmtime/tree/master/crates/c-api">c-api</a></li>
</ul>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/tree/master/crates/api" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/tree/master/crates/api" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/tree/master/crates/c-api" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/tree/master/crates/c-api" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="195541353"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195541353" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195541353">(Apr 28 2020 at 10:00)</a>:</h4>
<p>I don't do crates :) can I not get a zip with .lib &amp; .h in it :) suppose I have to figure out this weird system.</p>



<a name="195541483"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195541483" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195541483">(Apr 28 2020 at 10:01)</a>:</h4>
<p>ewwww rust. this stuff has to go fast. not sold its the way.</p>



<a name="195541659"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195541659" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195541659">(Apr 28 2020 at 10:03)</a>:</h4>
<p>don't much care what you do under the hood. if you can get it fast in rust, fine. but I'm a straight c++ guy. I want a library and header files. the end.</p>
<p>hate rust syntax so not going there myself.</p>



<a name="195541713"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195541713" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Konka <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195541713">(Apr 28 2020 at 10:03)</a>:</h4>
<p>Oh, right. So I reckon you should checkout the repo (with the submodule) and specifically look into <a href="https://github.com/bytecodealliance/wasmtime/tree/master/crates/c-api" title="https://github.com/bytecodealliance/wasmtime/tree/master/crates/c-api">c-api</a>, <a href="https://github.com/WebAssembly/wasm-c-api" title="https://github.com/WebAssembly/wasm-c-api">wasm-c-api</a>, and wasmtime C-headers <a href="https://github.com/bytecodealliance/wasmtime/tree/master/crates/c-api/include" title="https://github.com/bytecodealliance/wasmtime/tree/master/crates/c-api/include">here</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/tree/master/crates/c-api" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/tree/master/crates/c-api" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/wasm-c-api" style="background-image: url(https://avatars3.githubusercontent.com/u/11578470?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/wasm-c-api" title="WebAssembly/wasm-c-api">WebAssembly/wasm-c-api</a></div><div class="message_embed_description">Wasm C API prototype. Contribute to WebAssembly/wasm-c-api development by creating an account on GitHub.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/tree/master/crates/c-api/include" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/tree/master/crates/c-api/include" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="195541825"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195541825" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Konka <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195541825">(Apr 28 2020 at 10:04)</a>:</h4>
<p>hahaha, I'm exactly the opposite, used to code a lot in C++ and now can't look at it. Rust is so much more readable for me :D</p>



<a name="195541887"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195541887" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Konka <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195541887">(Apr 28 2020 at 10:05)</a>:</h4>
<p>Anyhow, I'll try to help out here but I'm not an expert in embedding Wasmtime in other languages but Rust</p>



<a name="195541994"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195541994" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195541994">(Apr 28 2020 at 10:06)</a>:</h4>
<p>thanks. the bit I don't currently understand is where the library my c/c++ program links against is.  a .lib file on windows.</p>
<p>happy to build myself. ideally from a script or cmake in the root so I don't have to learn a new system.</p>
<p>or ideally, the binary library would be in the windows installer, along with a simple embedding example I can build &amp; run to verify all is ok before proceeding with development.</p>



<a name="195542718"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195542718" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195542718">(Apr 28 2020 at 10:14)</a>:</h4>
<p>do I use rust build thingies to get me a library I can link to from C/C++ ? </p>
<p>confused. not seeing an on ramp here.</p>



<a name="195543713"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195543713" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195543713">(Apr 28 2020 at 10:24)</a>:</h4>
<p>thus far I've got build v8 as that defines wasm-c-api, but that's not wasmtime, its the v8 runtime with all its javascript stuff too.<br>
mozilla also have an implementation. am happy to try yours. if there's a piece of the puzzle I need that isn't ready yet, I can shelf this for a while.</p>



<a name="195545319"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195545319" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Konka <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195545319">(Apr 28 2020 at 10:41)</a>:</h4>
<p>I think this is what you're looking for then: <a href="https://github.com/bytecodealliance/wasmtime/releases/download/v0.15.0/wasmtime-v0.15.0-x86_64-windows-c-api.zip" title="https://github.com/bytecodealliance/wasmtime/releases/download/v0.15.0/wasmtime-v0.15.0-x86_64-windows-c-api.zip">wasmtime-v0.15.0-x86_64-windows-c-api.zip</a> :-)</p>



<a name="195545371"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195545371" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Konka <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195545371">(Apr 28 2020 at 10:41)</a>:</h4>
<p>This archive contains both headers and static/dynamic libs</p>



<a name="195545395"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195545395" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Konka <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195545395">(Apr 28 2020 at 10:41)</a>:</h4>
<p>I think it comes with both <code>.lib</code> and <code>.dll</code> but you might want to verify me here :-)</p>



<a name="195545402"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195545402" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195545402">(Apr 28 2020 at 10:41)</a>:</h4>
<p>oh you rock, Jakub :) thanks so much :)</p>



<a name="195545410"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195545410" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Konka <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195545410">(Apr 28 2020 at 10:41)</a>:</h4>
<p>anytime!</p>



<a name="195545458"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195545458" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Konka <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195545458">(Apr 28 2020 at 10:42)</a>:</h4>
<p>lemme know how you're getting on! I'll do my best to help out the best I can!</p>



<a name="195545693"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195545693" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195545693">(Apr 28 2020 at 10:45)</a>:</h4>
<p>looks to be both static &amp; dynamic linked versions there - perfect. is there also a 32 bit equivalent ? thinking of dropping our 32 bit support but I'd like that to be optional rather than forced.</p>



<a name="195545936"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195545936" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Konka <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195545936">(Apr 28 2020 at 10:48)</a>:</h4>
<p>Hmm, I don't think we have 32bit versions. For that, I think you'd need to build it yourself, although I wonder if it'd build just fine.</p>



<a name="195546096"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195546096" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195546096">(Apr 28 2020 at 10:49)</a>:</h4>
<p>looks to be 64 bit only prebuilt for now. guess we're running 64 bit :) </p>
<p><a href="https://github.com/bytecodealliance/wasmtime/releases/tag/v0.15.0" title="https://github.com/bytecodealliance/wasmtime/releases/tag/v0.15.0">https://github.com/bytecodealliance/wasmtime/releases/tag/v0.15.0</a></p>
<p>32 bit has its advantages as pointers are half the size so caching better, but whatever. lets get something running.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/releases/tag/v0.15.0" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/releases/tag/v0.15.0" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="195546108"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195546108" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195546108">(Apr 28 2020 at 10:49)</a>:</h4>
<p>cheers :)</p>



<a name="195546228"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195546228" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195546228">(Apr 28 2020 at 10:50)</a>:</h4>
<p>will work with what you have pre-built for now. if I like it, I can put the effort into how to build as I need. your 64 bit only distribution is fine for now.</p>
<p>many thanks.</p>



<a name="195546402"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195546402" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Konka <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195546402">(Apr 28 2020 at 10:52)</a>:</h4>
<p>No probs! I don't have Windows handy ATM, but if you were able to build <code>wasmtime</code> from sources,  I could supply you with build commands to specifically build the embedding libs</p>



<a name="195546773"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195546773" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195546773">(Apr 28 2020 at 10:57)</a>:</h4>
<p>happy to work from pre-built for now. that lets me figure out how cool you are :)</p>



<a name="195548708"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195548708" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195548708">(Apr 28 2020 at 11:17)</a>:</h4>
<p>32bit support in Cranelift is a bit lacking. @whitequark did open a few PRs to improve this though.</p>



<a name="195557006"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195557006" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195557006">(Apr 28 2020 at 12:40)</a>:</h4>
<p>this seems out of date. </p>
<p><a href="https://bytecodealliance.github.io/wasmtime/examples-c-hello-world.html" title="https://bytecodealliance.github.io/wasmtime/examples-c-hello-world.html">https://bytecodealliance.github.io/wasmtime/examples-c-hello-world.html</a></p>
<p>wasmtime_error_t * seems to have changed to bool</p>



<a name="195557086"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195557086" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195557086">(Apr 28 2020 at 12:41)</a>:</h4>
<p>fixing up as I go. comments here in case I anticipate incorrectly. feel free to bash me with the stupid stick :)</p>



<a name="195557414"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195557414" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195557414">(Apr 28 2020 at 12:43)</a>:</h4>
<p>not just minor, that sample's out of date. will see if I can figure it out but should be fixed up as this is for us noobs who are confused enough as it is :)</p>



<a name="195557593"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195557593" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195557593">(Apr 28 2020 at 12:45)</a>:</h4>
<p>or wasmtime-v0.15.0-x86_64-windows-c-api is out of date &amp; we need a package update. don't know which as new to the code :)</p>



<a name="195557765"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195557765" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195557765">(Apr 28 2020 at 12:46)</a>:</h4>
<p>bjorn3: 32 bit support not critical right now. for now looking to compile embedding example. 64 bit is fine.</p>



<a name="195558814"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195558814" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195558814">(Apr 28 2020 at 12:55)</a>:</h4>
<p>changed too much to use right now. I need windows h/libs as provided and sample code at the same revision of the api that compiles &amp; runs as expected to continue.</p>



<a name="195558907"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195558907" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195558907">(Apr 28 2020 at 12:56)</a>:</h4>
<p>thanks - being clear. almost there :)</p>



<a name="195559981"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195559981" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195559981">(Apr 28 2020 at 13:03)</a>:</h4>
<p>going with this instead as apparently the embed API is vendor neutral.</p>
<p><a href="https://github.com/WebAssembly/wasm-c-api/blob/master/example/hello.c" title="https://github.com/WebAssembly/wasm-c-api/blob/master/example/hello.c">https://github.com/WebAssembly/wasm-c-api/blob/master/example/hello.c</a></p>
<p>compiles.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/wasm-c-api/blob/master/example/hello.c" style="background-image: url(https://avatars3.githubusercontent.com/u/11578470?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/wasm-c-api/blob/master/example/hello.c" title="WebAssembly/wasm-c-api">WebAssembly/wasm-c-api</a></div><div class="message_embed_description">Wasm C API prototype. Contribute to WebAssembly/wasm-c-api development by creating an account on GitHub.</div></div></div>



<a name="195560222"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195560222" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195560222">(Apr 28 2020 at 13:05)</a>:</h4>
<p>link against your lib has following unresolved. </p>
<p><a href="https://pastebin.com/JjXLCNA8" title="https://pastebin.com/JjXLCNA8">https://pastebin.com/JjXLCNA8</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/JjXLCNA8" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/JjXLCNA8" title="1&gt;Z:\dev\infinity\plugins\object\action_wasm\inf_action_wasm.cpp(35,16): warning - Pastebin.com">1&gt;Z:\dev\infinity\plugins\object\action_wasm\inf_action_wasm.cpp(35,16): warning - Pastebin.com</a></div></div></div>



<a name="195560291"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195560291" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195560291">(Apr 28 2020 at 13:05)</a>:</h4>
<p>My source file is .cpp. Put an extern "C" around wasm headers.</p>



<a name="195561222"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195561222" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195561222">(Apr 28 2020 at 13:12)</a>:</h4>
<p>ahhhh - linked to the dll rather than the static lib, contact :)</p>



<a name="195561449"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195561449" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195561449">(Apr 28 2020 at 13:14)</a>:</h4>
<p>don't care. dll will do. so lets see if I can do something. wasm api direct rather than your extensions is better anyhow as want to try various engines in due course &amp; that being the point :) </p>
<p>the unresolved above linking to your static lib, no idea, don't care :) but fyi.</p>



<a name="195561632"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195561632" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195561632">(Apr 28 2020 at 13:15)</a>:</h4>
<p>Are you sure that wasmtime supports wasm-c-api? The official C api for wasmtime is at <a href="https://github.com/bytecodealliance/wasmtime/blob/master/crates/c-api/include/wasmtime.h" title="https://github.com/bytecodealliance/wasmtime/blob/master/crates/c-api/include/wasmtime.h">https://github.com/bytecodealliance/wasmtime/blob/master/crates/c-api/include/wasmtime.h</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/master/crates/c-api/include/wasmtime.h" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/master/crates/c-api/include/wasmtime.h" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="195562183"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195562183" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195562183">(Apr 28 2020 at 13:19)</a>:</h4>
<p>I'm not sure of anything. I hit this code about half an hour ago :)</p>



<a name="195562244"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195562244" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195562244">(Apr 28 2020 at 13:19)</a>:</h4>
<p>but it compiles &amp; links, so lets see.</p>



<a name="195562927"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195562927" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195562927">(Apr 28 2020 at 13:24)</a>:</h4>
<p>bjorn3 : wasmtime_error_t  is used in the wasmtime.h you just referenced (assuming that's trunk) but its not defined in wasmtime-v0.15.0-x86_64-windows-c-api.zip  headers, which is why I pivoted to wasm-c-api</p>



<a name="195563104"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195563104" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Benjamin Brittain <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195563104">(Apr 28 2020 at 13:25)</a>:</h4>
<p>wasmtime supports the wasm-c api, not a custom one</p>



<a name="195563128"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195563128" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195563128">(Apr 28 2020 at 13:25)</a>:</h4>
<p>wasm_engine_new gets me an instance so I assume its working.  have no clue what I'm going yet, but we continue. guessing that sample wants to load a wasm binary that I don't currently have. so need to find that :)</p>



<a name="195563308"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Building%20WMRT%20on%20Windows/near/195563308" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Building.20WMRT.20on.20Windows.html#195563308">(Apr 28 2020 at 13:26)</a>:</h4>
<p><span class="user-mention silent" data-user-id="297332">Steve Williams</span> <a href="#narrow/stream/206238-general/topic/Building.20WMRT.20on.20Windows/near/195562927" title="#narrow/stream/206238-general/topic/Building.20WMRT.20on.20Windows/near/195562927">said</a>:</p>
<blockquote>
<p>bjorn3 : wasmtime_error_t  is used in the wasmtime.h you just referenced (assuming that's trunk) but its not defined in wasmtime-v0.15.0-x86_64-windows-c-api.zip  headers, which is why I pivoted to wasm-c-api</p>
</blockquote>
<p>It should be defined at <a href="https://github.com/bytecodealliance/wasmtime/blob/4d2670afa3d28e17b185b7292ddbfd5e9e4f02ba/crates/c-api/include/wasmtime.h#L15-L20" title="https://github.com/bytecodealliance/wasmtime/blob/4d2670afa3d28e17b185b7292ddbfd5e9e4f02ba/crates/c-api/include/wasmtime.h#L15-L20">https://github.com/bytecodealliance/wasmtime/blob/4d2670afa3d28e17b185b7292ddbfd5e9e4f02ba/crates/c-api/include/wasmtime.h#L15-L20</a> using a macro</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/4d2670afa3d28e17b185b7292ddbfd5e9e4f02ba/crates/c-api/include/wasmtime.h#L15-L20" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/4d2670afa3d28e17b185b7292ddbfd5e9e4f02ba/crates/c-api/include/wasmtime.h#L15-L20" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>