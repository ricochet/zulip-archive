<html>
<head><meta charset="utf-8"><title>Memory limit exceeded when pooling instances · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Memory.20limit.20exceeded.20when.20pooling.20instances.html">Memory limit exceeded when pooling instances</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="419743400"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Memory%20limit%20exceeded%20when%20pooling%20instances/near/419743400" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kai <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Memory.20limit.20exceeded.20when.20pooling.20instances.html#419743400">(Feb 04 2024 at 23:50)</a>:</h4>
<p>Hi, <br>
I'm fairly new to wasmtime (I used wasmer until recently). I noticed in my code that when I use the "pooling" Instance allocation strategy, I get an error of the following form; " wasmtime:<span aria-label="store" class="emoji emoji-1fad9" role="img" title="store">:store:</span> ignoring memory growth failure error: Memory maximum size exceeded". Everything works fine without the pooling strategy.<br>
The code I execute allocates 10Mb, so it really should not hit the memory limit yet. Any idea what the cause could be?</p>



<a name="419853976"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Memory%20limit%20exceeded%20when%20pooling%20instances/near/419853976" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Memory.20limit.20exceeded.20when.20pooling.20instances.html#419853976">(Feb 05 2024 at 14:39)</a>:</h4>
<p>Memory is limited by default for the pooling allocator, so you're likely running into the default configuration of <a href="https://docs.rs/wasmtime/latest/wasmtime/struct.PoolingAllocationConfig.html#method.memory_pages"><code>PoolingAllocationConfig::memory_pages</code></a>. If you increase that does it work for you?</p>



<a name="420128565"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Memory%20limit%20exceeded%20when%20pooling%20instances/near/420128565" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Kai <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Memory.20limit.20exceeded.20when.20pooling.20instances.html#420128565">(Feb 06 2024 at 20:20)</a>:</h4>
<p>Thank you! That fixed it.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>