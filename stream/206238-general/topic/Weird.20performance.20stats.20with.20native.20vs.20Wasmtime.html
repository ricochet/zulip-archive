<html>
<head><meta charset="utf-8"><title>Weird performance stats with native vs Wasmtime · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Weird.20performance.20stats.20with.20native.20vs.20Wasmtime.html">Weird performance stats with native vs Wasmtime</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="409709675"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Weird%20performance%20stats%20with%20native%20vs%20Wasmtime/near/409709675" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Robin Freyler <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Weird.20performance.20stats.20with.20native.20vs.20Wasmtime.html#409709675">(Dec 23 2023 at 11:23)</a>:</h4>
<p>This may be more of a Rust or LLVM codegen question but here we go: For a Wasm interpreter project I am conducting continuous benchmarks for native and Wasm (via Wasmtime) performance. Since recently the Wasm interpreter is running faster via Wasmtime than native for some test cases which is very weird since usually the overhead is between 50-100% of native. Note that on other machines native performance is far superior. So this mostly affects our benchmark infra and also my MBP M2 machine. After lots of thinking and experimenting I am kinda out of ideas for what could cause this and would really love if someone is willing to throw in a hint, a wild guess or their thoughts. Thanks. :)</p>
<p>Example benchmark CI run: <a href="https://github.com/paritytech/wasmi/pull/863#issuecomment-1867846070">https://github.com/paritytech/wasmi/pull/863#issuecomment-1867846070</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/paritytech/wasmi/pull/863#issuecomment-1867846070" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/4470d66b64927d0ae028d09602d9fed07662a195\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f303863643566376334643139656334366664613334353932306639306638356231663130616530643661633863306536623931363731643234353933383731302f706172697479746563682f7761736d692f70756c6c2f383633)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/paritytech/wasmi/pull/863#issuecomment-1867846070" title="Prepare release of `v0.32.0-beta.2` by Robbepop · Pull Request #863 · paritytech/wasmi">Prepare release of `v0.32.0-beta.2` by Robbepop · Pull Request #863 · paritytech/wasmi</a></div><div class="message_embed_description">WebAssembly (Wasm) interpreter. Contribute to paritytech/wasmi development by creating an account on GitHub.</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>