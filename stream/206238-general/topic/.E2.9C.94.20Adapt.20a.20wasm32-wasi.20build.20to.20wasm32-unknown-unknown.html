<html>
<head><meta charset="utf-8"><title>✔ Adapt a wasm32-wasi build to wasm32-unknown-unknown · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Adapt.20a.20wasm32-wasi.20build.20to.20wasm32-unknown-unknown.html">✔ Adapt a wasm32-wasi build to wasm32-unknown-unknown</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="420373285"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Adapt%20a%20wasm32-wasi%20build%20to%20wasm32-unknown-unknown/near/420373285" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Geoff Goodman <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Adapt.20a.20wasm32-wasi.20build.20to.20wasm32-unknown-unknown.html#420373285">(Feb 08 2024 at 01:43)</a>:</h4>
<p>Given a crate that only targets wasm32-wasi (it wraps quickjs which is a c project), how might I go about wrapping / adapting the <code>wasm32-wasi</code> build into a <code>wasm32-unknown-unknown</code> build. I intentionally don't want any I/O except host functions I'll explicitly pass in so I don't think I'm really looking to virtualize things.</p>
<p>I'm also interested in pursuing approaches that will produce smaller file sizes.</p>



<a name="420453338"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Adapt%20a%20wasm32-wasi%20build%20to%20wasm32-unknown-unknown/near/420453338" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Geoff Goodman <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Adapt.20a.20wasm32-wasi.20build.20to.20wasm32-unknown-unknown.html#420453338">(Feb 08 2024 at 13:07)</a>:</h4>
<p>A break from the computer and I realized that the <code>wasm32-wasi</code> target <em>does not</em> produce a component in the first place <span aria-label="face palm" class="emoji emoji-1f926" role="img" title="face palm">:face_palm:</span>. I can see the imports for preview1. Time to track down what's pulling in those bits of libc.</p>



<a name="420453361"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Adapt%20a%20wasm32-wasi%20build%20to%20wasm32-unknown-unknown/near/420453361" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Adapt.20a.20wasm32-wasi.20build.20to.20wasm32-unknown-unknown.html#420453361">(Feb 08 2024 at 13:07)</a>:</h4>
<p><span class="user-mention silent" data-user-id="680230">Geoff Goodman</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>