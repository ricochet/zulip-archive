<html>
<head><meta charset="utf-8"><title>✔ wasmparser assumptions about Resources with static func... · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html">✔ wasmparser assumptions about Resources with static func...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="436919753"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436919753" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436919753">(May 03 2024 at 16:33)</a>:</h4>
<p>I've found a block of code that bails when a resource that is being imported has a static function.</p>
<p><a href="https://github.com/bytecodealliance/wasm-tools/blob/df542a839b1fc6c1345c68abf5da21ca9ef5f9fe/crates/wasmparser/src/validator/component.rs#L3162-L3170">https://github.com/bytecodealliance/wasm-tools/blob/df542a839b1fc6c1345c68abf5da21ca9ef5f9fe/crates/wasmparser/src/validator/component.rs#L3162-L3170</a></p>
<p>If that doesn't expand here, let me do it:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">            </span><span class="c1">// Static methods don't have much validation beyond that they must</span>
<span class="w">            </span><span class="c1">// be a function and the resource name referred to must already be</span>
<span class="w">            </span><span class="c1">// in this context.</span>
<span class="w">            </span><span class="n">ComponentNameKind</span>::<span class="n">Static</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">func</span><span class="p">()</span><span class="o">?</span><span class="p">;</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="o">!</span><span class="bp">self</span><span class="p">.</span><span class="n">all_resource_names</span><span class="p">.</span><span class="n">contains</span><span class="p">(</span><span class="n">name</span><span class="p">.</span><span class="n">resource</span><span class="p">().</span><span class="n">as_str</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="n">bail</span><span class="o">!</span><span class="p">(</span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="s">"static resource name is not known in this context"</span><span class="p">);</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
</code></pre></div>
<p>An issue that was created against <code>cargo-component</code> yesterday, <a href="https://github.com/bytecodealliance/cargo-component/issues/284">https://github.com/bytecodealliance/cargo-component/issues/284</a><br>
has a small example that fails.<br>
The first WIT is</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">package</span><span class="w"> </span><span class="n">test</span>:<span class="nc">exporter</span><span class="o">@</span><span class="mf">0.1.0</span><span class="p">;</span>

<span class="n">interface</span><span class="w"> </span><span class="n">exports</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">resource</span><span class="w"> </span><span class="n">my</span><span class="o">-</span><span class="n">resource</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">get</span><span class="o">-</span><span class="k">static</span>: <span class="nc">static</span><span class="w"> </span><span class="n">func</span><span class="p">()</span><span class="w"> </span>-&gt; <span class="nc">string</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="n">world</span><span class="w"> </span><span class="n">example</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">export</span><span class="w"> </span><span class="n">exports</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>and the second that wants to use it but fails is</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">package</span><span class="w"> </span><span class="n">test</span>:<span class="nc">importer</span><span class="o">@</span><span class="mf">0.1.0</span><span class="p">;</span>

<span class="n">world</span><span class="w"> </span><span class="n">my</span><span class="o">-</span><span class="n">world</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">import</span><span class="w"> </span><span class="n">test</span>:<span class="nc">exporter</span><span class="o">/</span><span class="n">exports</span><span class="o">@</span><span class="mf">0.1.0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>I've traced enough to know that it fails because the <code>all_resource_names</code> <code>IndexSet</code> is still empty. The "my-resource" string can't be found in it.</p>
<p>Does anyone here have an idea why it might be empty? I can keep digging in a few hours if the problem isn't immediately obvious to someone. But the two WIT files are very small and the validation assumptions made by the <code>wasmparser</code> validator are still probably fresh in someone's mind.</p>
<p>Thanks.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-tools/blob/df542a839b1fc6c1345c68abf5da21ca9ef5f9fe/crates/wasmparser/src/validator/component.rs#L3162-L3170" style="background-image: url(&quot;https://uploads.zulipusercontent.net/577c8d471ecec555c2be45e912c2c6dc5dccd703/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f663737643664646435353136343839336561346565303966353235623766303332363939376538323233373963366565353439303461653864623861626334312f62797465636f6465616c6c69616e63652f7761736d2d746f6f6c73&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-tools/blob/df542a839b1fc6c1345c68abf5da21ca9ef5f9fe/crates/wasmparser/src/validator/component.rs#L3162-L3170" title="wasm-tools/crates/wasmparser/src/validator/component.rs at df542a839b1fc6c1345c68abf5da21ca9ef5f9fe · bytecodealliance/wasm-tools">wasm-tools/crates/wasmparser/src/validator/component.rs at df542a839b1fc6c1345c68abf5da21ca9ef5f9fe · bytecodealliance/wasm-tools</a></div><div class="message_embed_description"> CLI and Rust libraries for low-level manipulation of WebAssembly modules  - bytecodealliance/wasm-tools</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/cargo-component/issues/284" style="background-image: url(&quot;https://uploads.zulipusercontent.net/04e53ba7520c3d268965253b8bf6e6acbfc52a1e/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f643830333233643636646566306661373062353539313331313865393365643163346361366231623834316362653063663062393163636334363136356130332f62797465636f6465616c6c69616e63652f636172676f2d636f6d706f6e656e742f6973737565732f323834&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/cargo-component/issues/284" title="Resource Static Methods Cause Build Failure When Imported · Issue #284 · bytecodealliance/cargo-component">Resource Static Methods Cause Build Failure When Imported · Issue #284 · bytecodealliance/cargo-component</a></div><div class="message_embed_description">Hey all, I ran into an issue where I couldn't import static resource functions which were defined in another wasm component. I have a minimal example attached as a zip file below. In the project, I...</div></div></div>



<a name="436924637"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436924637" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436924637">(May 03 2024 at 17:04)</a>:</h4>
<p>Given this error, do you have a wasm on hand which should be valid but the validator is rejecting it? If so can you share the wasm? (and perhaps how to build the wasm as well)</p>



<a name="436925497"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436925497" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436925497">(May 03 2024 at 17:10)</a>:</h4>
<p><a href="/user_uploads/15107/mwF1Uf3Bmd4zxHNoYOdEPclp/exporter.wasm">exporter.wasm</a></p>



<a name="436925573"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436925573" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436925573">(May 03 2024 at 17:11)</a>:</h4>
<p>as in, that's considered invalid? If I run <code>wasm-tools validate</code> on it then it looks like it validates successfully</p>



<a name="436925628"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436925628" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436925628">(May 03 2024 at 17:12)</a>:</h4>
<p>Agreed. It is valid when I  run was-tools validate on it too.</p>



<a name="436925700"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436925700" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436925700">(May 03 2024 at 17:12)</a>:</h4>
<p>but through a different means it's hitting an error in the validator?</p>



<a name="436925717"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436925717" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436925717">(May 03 2024 at 17:12)</a>:</h4>
<p>But it fails when the second component is being built and wants to import it.</p>



<a name="436925750"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436925750" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436925750">(May 03 2024 at 17:12)</a>:</h4>
<p>do you have a wasm for the second component?</p>



<a name="436925796"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436925796" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436925796">(May 03 2024 at 17:13)</a>:</h4>
<p>Well, I do if you count the case where I commented out that check that bails. You want that one?</p>



<a name="436925839"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436925839" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436925839">(May 03 2024 at 17:13)</a>:</h4>
<p>sure yeah</p>



<a name="436925858"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436925858" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436925858">(May 03 2024 at 17:13)</a>:</h4>
<p>(still trying to catch up on the context here myself)</p>



<a name="436926055"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436926055" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436926055">(May 03 2024 at 17:14)</a>:</h4>
<p>this may also be a bug in wasm-compose where it's not generating a resource type when it should</p>



<a name="436926594"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436926594" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436926594">(May 03 2024 at 17:18)</a>:</h4>
<p>Well, that second wasm binary is built, even when the <code>cargo component build</code> fails with the error message. I guess it is checking things after the fact.</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="n">importer</span><span class="w"> </span><span class="cp">$</span><span class="w"> </span><span class="n">cargo</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="n">build</span><span class="w"> </span><span class="o">--</span><span class="n">release</span>
<span class="w">   </span><span class="n">Compiling</span><span class="w"> </span><span class="n">wit</span><span class="o">-</span><span class="n">bindgen</span><span class="o">-</span><span class="n">rt</span><span class="w"> </span><span class="n">v0</span><span class="p">.</span><span class="mf">24.0</span>
<span class="w">   </span><span class="n">Compiling</span><span class="w"> </span><span class="n">importer</span><span class="w"> </span><span class="n">v0</span><span class="p">.</span><span class="mf">1.0</span><span class="w"> </span><span class="p">(</span><span class="o">/</span><span class="n">private</span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="kr">try</span><span class="o">/</span><span class="n">min</span><span class="o">-</span><span class="n">ex</span><span class="o">/</span><span class="n">importer</span><span class="p">)</span>
<span class="w">    </span><span class="n">Finished</span><span class="w"> </span><span class="err">`</span><span class="n">release</span><span class="err">`</span><span class="w"> </span><span class="n">profile</span><span class="w"> </span><span class="p">[</span><span class="n">optimized</span><span class="p">]</span><span class="w"> </span><span class="n">target</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="mf">0.32</span><span class="n">s</span>
<span class="w">    </span><span class="n">Creating</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="n">target</span><span class="o">/</span><span class="n">wasm32</span><span class="o">-</span><span class="n">wasi</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">importer</span><span class="p">.</span><span class="n">wasm</span>
<span class="n">error</span>: <span class="nc">failed</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">validate</span><span class="w"> </span><span class="n">component</span><span class="w"> </span><span class="n">output</span>

<span class="n">Caused</span><span class="w"> </span><span class="n">by</span>:
    <span class="nc">export</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="err">`</span><span class="p">[</span><span class="k">static</span><span class="p">]</span><span class="n">my</span><span class="o">-</span><span class="n">resource</span><span class="p">.</span><span class="n">get</span><span class="o">-</span><span class="k">static</span><span class="err">`</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">valid</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="n">resource</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="n">is</span><span class="w"> </span><span class="n">not</span><span class="w"> </span><span class="n">known</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">this</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="p">(</span><span class="n">at</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="mh">0xb</span><span class="p">)</span>
<span class="w"> </span><span class="n">importer</span><span class="w"> </span><span class="cp">$</span><span class="w"> </span><span class="n">l</span><span class="w"> </span><span class="cp">$(</span><span class="n">find</span><span class="w"> </span><span class="p">.</span><span class="w"> </span><span class="o">-</span><span class="n">name</span><span class="w"> </span><span class="o">'*</span><span class="p">.</span><span class="n">wasm</span><span class="o">'</span><span class="p">)</span>
<span class="o">-</span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="n">frank</span><span class="w">  </span><span class="n">wheel</span><span class="w">   </span><span class="mf">1.6</span><span class="n">M</span><span class="w"> </span><span class="n">May</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="mi">13</span>:<span class="mi">16</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">wasm32</span><span class="o">-</span><span class="n">wasi</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">deps</span><span class="o">/</span><span class="n">importer</span><span class="o">-</span><span class="n">cc9d5b41ee4288ab</span><span class="p">.</span><span class="n">wasm</span>
<span class="o">-</span><span class="n">rwxr</span><span class="o">-</span><span class="n">xr</span><span class="o">-</span><span class="n">x</span><span class="w">  </span><span class="mi">1</span><span class="w"> </span><span class="n">frank</span><span class="w">  </span><span class="n">wheel</span><span class="w">   </span><span class="mf">1.6</span><span class="n">M</span><span class="w"> </span><span class="n">May</span><span class="w">  </span><span class="mi">3</span><span class="w"> </span><span class="mi">13</span>:<span class="mi">16</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">target</span><span class="o">/</span><span class="n">wasm32</span><span class="o">-</span><span class="n">wasi</span><span class="o">/</span><span class="n">release</span><span class="o">/</span><span class="n">importer</span><span class="p">.</span><span class="n">wasm</span>
</code></pre></div>
<p>It also passes the wasm-tools validate on its own.</p>



<a name="436926714"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436926714" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436926714">(May 03 2024 at 17:19)</a>:</h4>
<p>I can confirm (as the one who added it) that <code>wasm-compose</code>'s resource support is... less than robust.  I've got some patches lying around for other issues I've run into, but haven't prioritized getting them upstreamed, partly because it seems like <code>wac</code> is where the focus is these days.  But sounds like there's a problem even before <code>wasm-compose</code> is involved?</p>



<a name="436927217"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436927217" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joel Dice <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436927217">(May 03 2024 at 17:23)</a>:</h4>
<p>Or does <code>cargo-component</code> use <code>wasm-compose</code> behind the scenes?</p>



<a name="436928147"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436928147" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ryan Levick (rylev) <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436928147">(May 03 2024 at 17:29)</a>:</h4>
<p>I believe cargo-component uses wasm-compose for component dependencies. I believe <span class="user-mention" data-user-id="253989">@Peter Huene</span> was hoping to move it over to use wac at some point in the nearish future.</p>



<a name="436928498"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436928498" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436928498">(May 03 2024 at 17:31)</a>:</h4>
<p>It's true that the second wasm crate, the one named <code>importer</code> is using the first crate named <code>exporter</code>. But now I see the second wasm crate build fails with the same message, even when the first one's crate has just had 'cargo clean' run it so there is no target in it, no ".wasm" to pick up.  So I don't think this is a compose issue - at least not the composing of two components.</p>



<a name="436928949"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436928949" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436928949">(May 03 2024 at 17:34)</a>:</h4>
<p>can you get a copy of <code>importer.wasm</code> perhaps? The raw output of rustc before cargo-component turns it into a component?</p>



<a name="436928970"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436928970" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436928970">(May 03 2024 at 17:34)</a>:</h4>
<p>It is the <code>cargo component build</code> step in the second crate that fails because the wasmparser has found the name of the resource isn't found in the list it thinks it setup for validation. The comment around the check for static functions of a resource says there isn't much to check except that the resource name was known. Well, here it isn't known. I don't know if it should have been known or if the logic behind the check is wrong.</p>
<p>I don't see something like this being tested in the cargo-component crate.</p>



<a name="436928971"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436928971" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436928971">(May 03 2024 at 17:34)</a>:</h4>
<p>this may also be a bug in wit-component where it's producing an invalid component</p>



<a name="436929133"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436929133" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436929133">(May 03 2024 at 17:35)</a>:</h4>
<p><span class="user-mention silent" data-user-id="590805">Ryan Levick (rylev)</span> <a href="#narrow/stream/206238-general/topic/wasmparser.20assumptions.20about.20Resources.20with.20static.20functions/near/436928147">said</a>:</p>
<blockquote>
<p>I believe cargo-component uses wasm-compose for component dependencies. I believe <span class="user-mention silent" data-user-id="253989">Peter Huene</span> was hoping to move it over to use wac at some point in the nearish future.</p>
</blockquote>
<p>There's no use of <code>wasm-compose</code> for component dependencies; <code>cargo-component</code> just synthesizes imports for each component's exports in the target world for bindings generation.</p>
<p>I haven't looked too closely at this issue, but there might be something wrong with what it's giving <code>wit-bindgen</code>.</p>



<a name="436929230"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436929230" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436929230">(May 03 2024 at 17:36)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253994">Alex Crichton</span> <a href="#narrow/stream/206238-general/topic/wasmparser.20assumptions.20about.20Resources.20with.20static.20functions/near/436928949">said</a>:</p>
<blockquote>
<p>can you get a copy of <code>importer.wasm</code> perhaps? The raw output of rustc before cargo-component turns it into a component?</p>
</blockquote>
<p>I would be happy too. But I don't know the command sequence for that.</p>



<a name="436929330"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436929330" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436929330">(May 03 2024 at 17:36)</a>:</h4>
<p>run <code>cargo build --target wasm32-wasi</code>, the <code>.wasm</code> in <code>targets/wasm32-wasi/debug</code> will be a module</p>



<a name="436929858"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436929858" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436929858">(May 03 2024 at 17:39)</a>:</h4>
<p>Hmm. That created exactly the same wasm files. I ran <code>sum</code> on them.</p>



<a name="436929971"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436929971" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436929971">(May 03 2024 at 17:40)</a>:</h4>
<p>If it's failing to compentize with <code>cargo component build</code>, the original .wasm will still be present too</p>



<a name="436930014"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436930014" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436930014">(May 03 2024 at 17:40)</a>:</h4>
<p>Maybe the one I already uploaded was the first step? When it is a raw module?</p>



<a name="436930094"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436930094" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436930094">(May 03 2024 at 17:41)</a>:</h4>
<p>i think you uploaded <code>exporter.wasm</code> and Alex was requesting <code>importer.wasm</code>, but maybe I missed it</p>



<a name="436930272"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436930272" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436930272">(May 03 2024 at 17:42)</a>:</h4>
<p>You are right. I don't see the second one in the stream now either. Thought I had uploaded it. Here it is again. And then the zip file that has both crates in it that came with the original issue.</p>



<a name="436930390"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436930390" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436930390">(May 03 2024 at 17:43)</a>:</h4>
<p><a href="/user_uploads/15107/Helrc3d42m7uO5y33-z35i_O/importer.wasm">importer.wasm</a></p>



<a name="436930408"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436930408" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436930408">(May 03 2024 at 17:43)</a>:</h4>
<p><a href="/user_uploads/15107/UU4pWBxtbZ-QbTZO_HzVOLKs/min-ex.zip">min-ex.zip</a></p>



<a name="436930965"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436930965" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436930965">(May 03 2024 at 17:47)</a>:</h4>
<p>ok I can reproduce the error with <code>wasm-tools component new ~/Downloads/importer.wasm --adapt ./wasi_snapshot_preview1.reactor.wasm</code></p>



<a name="436930999"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436930999" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436930999">(May 03 2024 at 17:47)</a>:</h4>
<p>would you mind opening an issue on the wasm-tools repo with <code>importer.wasm</code> and that comand line for this?</p>



<a name="436931033"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436931033" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436931033">(May 03 2024 at 17:48)</a>:</h4>
<p>I'll try to get to investigating what's going on soon</p>



<a name="436931294"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436931294" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436931294">(May 03 2024 at 17:49)</a>:</h4>
<p>Sure. No problem. Glad you don't think it is something obviously wrong with the WIT files or the Cargo.toml files. Those are always the first places someone can go wrong when it is actually operator error.</p>



<a name="436931539"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436931539" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436931539">(May 03 2024 at 17:51)</a>:</h4>
<p>no yeah I suspect this is a bug in wit-component</p>



<a name="436931543"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436931543" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436931543">(May 03 2024 at 17:51)</a>:</h4>
<p>Definitely not operator error and thanks for reporting it!</p>



<a name="436931560"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436931560" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436931560">(May 03 2024 at 17:51)</a>:</h4>
<p>I think I have a grasp on the shape of the bug too just need some time later to dig in properly</p>



<a name="436934074"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436934074" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436934074">(May 03 2024 at 18:06)</a>:</h4>
<p>Here is the <a href="https://github.com/bytecodealliance/wasm-tools/issues/1529">issue</a>.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-tools/issues/1529" style="background-image: url(&quot;https://uploads.zulipusercontent.net/341d33717833c5a61518f8f2ef1709a11644e81e/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f663939393662393665663539653665363465326233396237666136653663316332643565653166376335373234656532306361383532656262333163366337642f62797465636f6465616c6c69616e63652f7761736d2d746f6f6c732f6973737565732f31353239&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-tools/issues/1529" title="wit-component: static Resource function causes Validate to fail · Issue #1529 · bytecodealliance/wasm-tools">wit-component: static Resource function causes Validate to fail · Issue #1529 · bytecodealliance/wasm-tools</a></div><div class="message_embed_description">Per the Zulip discussion this afternoon, this is opened against wasm-tools. The original issue, against cargo-component, included the zip file to allow easy reproduction of the problem. The importe...</div></div></div>



<a name="436938143"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436938143" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436938143">(May 03 2024 at 18:32)</a>:</h4>
<p>thanks!</p>



<a name="436948135"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436948135" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436948135">(May 03 2024 at 19:40)</a>:</h4>
<p>ok turned out to be a pretty easy fix -- <a href="https://github.com/bytecodealliance/wasm-tools/pull/1530">https://github.com/bytecodealliance/wasm-tools/pull/1530</a> -- thanks again for the report!</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasm-tools/pull/1530" style="background-image: url(&quot;https://uploads.zulipusercontent.net/c1ca0a822682a1e3708876a166b02528e3580bfa/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f623433363865373162613864343833386536336564323666383261656465376562343063636631356534393037396132663236623466303438666531326264612f62797465636f6465616c6c69616e63652f7761736d2d746f6f6c732f70756c6c2f31353330&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasm-tools/pull/1530" title="Fix creating components with only static methods on resources by alexcrichton · Pull Request #1530 · bytecodealliance/wasm-tools">Fix creating components with only static methods on resources by alexcrichton · Pull Request #1530 · bytecodealliance/wasm-tools</a></div><div class="message_embed_description">Previously the resource itself wasn't imported which meant that the [static] function did not pass validation. This commit updates the liveness of these functions to include the resource that the s...</div></div></div>



<a name="436948271"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/436948271" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#436948271">(May 03 2024 at 19:41)</a>:</h4>
<p>Thanks alex!</p>



<a name="437055642"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20wasmparser%20assumptions%20about%20Resources%20with%20static%20func.../near/437055642" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20wasmparser.20assumptions.20about.20Resources.20with.20static.20func.2E.2E.2E.html#437055642">(May 04 2024 at 22:09)</a>:</h4>
<p><span class="user-mention silent" data-user-id="704709">Frank Rehwinkel</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>