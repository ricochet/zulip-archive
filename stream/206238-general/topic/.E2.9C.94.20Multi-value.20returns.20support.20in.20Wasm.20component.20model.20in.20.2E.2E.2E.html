<html>
<head><meta charset="utf-8"><title>✔ Multi-value returns support in Wasm component model in ... · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Multi-value.20returns.20support.20in.20Wasm.20component.20model.20in.20.2E.2E.2E.html">✔ Multi-value returns support in Wasm component model in ...</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="418600937"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Multi-value%20returns%20support%20in%20Wasm%20component%20model%20in%20.../near/418600937" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Denys Zadorozhnyi <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Multi-value.20returns.20support.20in.20Wasm.20component.20model.20in.20.2E.2E.2E.html#418600937">(Jan 29 2024 at 10:00)</a>:</h4>
<p>Hi! Could someone please clarify the plans for the multi-value return support in the component model (Canonical ABI)? How far are we? I'm interested in using them in WIT interfaces in rust.</p>



<a name="418666262"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Multi-value%20returns%20support%20in%20Wasm%20component%20model%20in%20.../near/418666262" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Multi-value.20returns.20support.20in.20Wasm.20component.20model.20in.20.2E.2E.2E.html#418666262">(Jan 29 2024 at 15:49)</a>:</h4>
<p>Currently AFAIK there's no plans to implement it. The knobs are all there to take advantage of it and we have binary encodings in place to eventually take advantage of it in the future too. For now it's blocked on there's no way to write a source-level program (e.g. C or Rust) which uses multi-value returns in a stable fashion.</p>



<a name="418666416"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Multi-value%20returns%20support%20in%20Wasm%20component%20model%20in%20.../near/418666416" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Multi-value.20returns.20support.20in.20Wasm.20component.20model.20in.20.2E.2E.2E.html#418666416">(Jan 29 2024 at 15:50)</a>:</h4>
<p>That being said it shouldn't prevent you from returning multiple values in WIT, whether or not wasm multi-value is used is "just" an ABI detail so all WIT features should work regardless (e.g. returning a tuple)</p>



<a name="418770006"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Multi-value%20returns%20support%20in%20Wasm%20component%20model%20in%20.../near/418770006" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Denys Zadorozhnyi <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Multi-value.20returns.20support.20in.20Wasm.20component.20model.20in.20.2E.2E.2E.html#418770006">(Jan 30 2024 at 05:23)</a>:</h4>
<p>Thanks Alex!</p>



<a name="418770330"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Multi-value%20returns%20support%20in%20Wasm%20component%20model%20in%20.../near/418770330" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Denys Zadorozhnyi <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Multi-value.20returns.20support.20in.20Wasm.20component.20model.20in.20.2E.2E.2E.html#418770330">(Jan 30 2024 at 05:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253994">Alex Crichton</span> <a href="#narrow/stream/206238-general/topic/Multi-value.20returns.20support.20in.20Wasm.20component.20model.20in.20rust/near/418666416">said</a>:</p>
<blockquote>
<p>That being said it shouldn't prevent you from returning multiple values in WIT, whether or not wasm multi-value is used is "just" an ABI detail so all WIT features should work regardless (e.g. returning a tuple)</p>
</blockquote>
<p>Oh, my bad. I forgot to mention that we're using Wasm as a frontend in our compiler <a href="https://github.com/0xPolygonMiden/compiler">https://github.com/0xPolygonMiden/compiler</a> so we're interested in seeing multi-value returns in generated Wasm.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/0xPolygonMiden/compiler" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/4930e34ef3f069fa8f389732c490c8b257d9916c\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f343836373830663465613263373432353230316463636366343266393833626534343163353764376433336431383038326637346666393161333036613264612f3078506f6c79676f6e4d6964656e2f636f6d70696c6572)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/0xPolygonMiden/compiler" title="GitHub - 0xPolygonMiden/compiler: Compiler from MidenIR to Miden Assembly">GitHub - 0xPolygonMiden/compiler: Compiler from MidenIR to Miden Assembly</a></div><div class="message_embed_description">Compiler from MidenIR to Miden Assembly. Contribute to 0xPolygonMiden/compiler development by creating an account on GitHub.</div></div></div>



<a name="418770341"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Multi-value%20returns%20support%20in%20Wasm%20component%20model%20in%20.../near/418770341" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Multi-value.20returns.20support.20in.20Wasm.20component.20model.20in.20.2E.2E.2E.html#418770341">(Jan 30 2024 at 05:27)</a>:</h4>
<p><span class="user-mention silent" data-user-id="594829">Denys Zadorozhnyi</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>