<html>
<head><meta charset="utf-8"><title>Does wasmtime support WasmGC? 路 general 路 Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html">Does wasmtime support WasmGC?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="452465201"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%20support%20WasmGC%3F/near/452465201" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srayan Jana <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html#452465201">(Jul 19 2024 at 00:53)</a>:</h4>
<p>I'm interested in using Hoot (<a href="https://gitlab.com/spritely/guile-hoot">https://gitlab.com/spritely/guile-hoot</a>) and want to run it using wasmtime so i can integrate it into a C project. However, it depends on Tail Call optimizations and WasmGC. Does wasmtime support that?</p>
<div class="message_embed"><a class="message_embed_image" href="https://gitlab.com/spritely/guile-hoot" style="background-image: url(&quot;https://uploads.zulipusercontent.net/5df75b2377c091df9d7cd43466335f62bacaf93b/68747470733a2f2f6769746c61622e636f6d2f75706c6f6164732f2d2f73797374656d2f70726f6a6563742f6176617461722f34333539313835302f686f6f742e706e67&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://gitlab.com/spritely/guile-hoot" title="spritely / Guile Hoot 路 GitLab">spritely / Guile Hoot 路 GitLab</a></div><div class="message_embed_description">GitLab.com</div></div></div>



<a name="452465345"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%20support%20WasmGC%3F/near/452465345" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html#452465345">(Jul 19 2024 at 00:55)</a>:</h4>
<p>not yet, but <span class="user-mention" data-user-id="253990">@fitzgen (he/him)</span> is actively working on implementing it. It's a large project!</p>



<a name="452465482"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%20support%20WasmGC%3F/near/452465482" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Srayan Jana <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html#452465482">(Jul 19 2024 at 00:57)</a>:</h4>
<p>damn. in the meantime, is there any sort of native wasm runtime that DOES have it?</p>



<a name="452467726"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%20support%20WasmGC%3F/near/452467726" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html#452467726">(Jul 19 2024 at 01:27)</a>:</h4>
<p>depending on what you mean by "native Wasm runtime" (outside the browser perhaps?), Node might count; it has Wasm GC because it uses V8. I'm not aware of any other outside-the-browser / server-side VMs that do</p>



<a name="452536998"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%20support%20WasmGC%3F/near/452536998" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html#452536998">(Jul 19 2024 at 10:05)</a>:</h4>
<p>does jco -- which uses node/deno/bun -- have this support? I can't recall; we could ask <span class="user-mention" data-user-id="553681">@Guy Bedford</span></p>



<a name="452537013"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%20support%20WasmGC%3F/near/452537013" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html#452537013">(Jul 19 2024 at 10:05)</a>:</h4>
<p>guessing not, though</p>



<a name="452539132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%20support%20WasmGC%3F/near/452539132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html#452539132">(Jul 19 2024 at 10:13)</a>:</h4>
<p>jco has separate wasi-shims for node and browsers, some functions are stubbed on either side, so it's possible that jco supports this, but only on browsers</p>



<a name="452539244"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%20support%20WasmGC%3F/near/452539244" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ramon Klass <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html#452539244">(Jul 19 2024 at 10:14)</a>:</h4>
<p>I mean technically possible, I haven't checked if they have shims for wasi-gc yet</p>



<a name="452598561"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%20support%20WasmGC%3F/near/452598561" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html#452598561">(Jul 19 2024 at 15:28)</a>:</h4>
<p>wasmtime does have tail calls, fwiw; gc is still WIP</p>



<a name="452599057"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%20support%20WasmGC%3F/near/452599057" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> fitzgen (he/him) <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html#452599057">(Jul 19 2024 at 15:30)</a>:</h4>
<p>minor nitpick: wasmtime does not do tail call optimization, i.e. it will not automatically turn <code>call</code>s that are in tail position into <code>return_call</code>s, but it does implement the tail calls proposal that introduces <code>return_call</code> et al and those are guaranteed to take <code>O(1)</code> stack usage, but it is the wasm producer's responsibility to signal whether they want tail calls or not via their instruction choice</p>



<a name="452599387"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%20support%20WasmGC%3F/near/452599387" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html#452599387">(Jul 19 2024 at 15:32)</a>:</h4>
<blockquote>
<p>I haven't checked if they have shims for wasi-gc yet</p>
</blockquote>
<p>GC is a core Wasm feature, not a WASI API, so it's not something one can really shim with imports; one could in theory do a wasm-to-wasm code transform (binaryen might even have something like this?) but in jco's case, if they run on an underlying Wasm engine with GC, then there's no reason GC wouldn't work</p>



<a name="455016137"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%20support%20WasmGC%3F/near/455016137" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Diego Antonio Rosario Palomino <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F.html#455016137">(Jul 30 2024 at 04:05)</a>:</h4>
<p><span class="user-mention silent" data-user-id="737420">Srayan Jana</span> <a href="#narrow/stream/206238-general/topic/Does.20wasmtime.20support.20WasmGC.3F/near/452465201">said</a>:</p>
<blockquote>
<p>I'm interested in using Hoot (<a href="https://gitlab.com/spritely/guile-hoot">https://gitlab.com/spritely/guile-hoot</a>) and want to run it using wasmtime so i can integrate it into a C project. However, it depends on Tail Call optimizations and WasmGC. Does wasmtime support that?</p>
</blockquote>
<p>Very interesting, is it a re implementation of Guile? The fact it has a more permissive license suggests so.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>