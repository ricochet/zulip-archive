<html>
<head><meta charset="utf-8"><title>Linking modules from wasmtime cli · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Linking.20modules.20from.20wasmtime.20cli.html">Linking modules from wasmtime cli</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="238274640"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Linking%20modules%20from%20wasmtime%20cli/near/238274640" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Lang <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Linking.20modules.20from.20wasmtime.20cli.html#238274640">(May 11 2021 at 09:05)</a>:</h4>
<p>Hi,<br>
Is it possible to link two wasm modules together from the wasmtime CLI?<br>
I've tried to preload a module but it didn't work:<br>
wasmtime run --preload NAME=linking2.wasm linking1.wasm</p>
<p>output:<br>
Error: failed to run main module <code>linking1.wasm</code></p>
<p>Caused by:<br>
    0: failed to instantiate "linking1.wasm"<br>
    1: unknown import: <code>linking2::double</code> has not been defined</p>
<p>The modules are taken from the linking tutorial:<br>
<a href="https://docs.wasmtime.dev/examples-rust-linking.html">https://docs.wasmtime.dev/examples-rust-linking.html</a></p>
<p>Thanks for your help</p>



<a name="238298666"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Linking%20modules%20from%20wasmtime%20cli/near/238298666" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Linking.20modules.20from.20wasmtime.20cli.html#238298666">(May 11 2021 at 12:34)</a>:</h4>
<p>Hi David, that's not yet possible, unfortunately, but something at least in this direction will work in the future.</p>
<p>Right now the problem is that the wasmtime CLI doesn't really have enough information to go on: it can't know that the preloaded Wasm file is what's meant when referring to <code>linking2</code>. While we in theory could just map file names to module names, we want to make sure that what we implement here will make sense in the long run, and that requires some amount of careful design</p>



<a name="238310837"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Linking%20modules%20from%20wasmtime%20cli/near/238310837" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> David Lang <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Linking.20modules.20from.20wasmtime.20cli.html#238310837">(May 11 2021 at 13:52)</a>:</h4>
<p>Hi Till,<br>
thanks for your help :)</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>