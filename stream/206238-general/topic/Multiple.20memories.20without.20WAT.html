<html>
<head><meta charset="utf-8"><title>Multiple memories without WAT · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Multiple.20memories.20without.20WAT.html">Multiple memories without WAT</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="228765049"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Multiple%20memories%20without%20WAT/near/228765049" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Risto <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Multiple.20memories.20without.20WAT.html#228765049">(Mar 04 2021 at 12:43)</a>:</h4>
<p>Wasmtime and some other runtimes support multiple memories, but it seems that there are limited ways to utilize them.<br>
In C some systems seem to support the use of address_space attribute to indicate in which memory buffers of memory exist in, however that is not supported by clang for wasm yet at least. Such would enable to indicate directly in C code how to operate with the memories.</p>
<p>Are there currently some higher-level languages or other ways to use multiple memories that someone knows?<br>
The only approaches I have seen so far have been programming WAT or WASM directly.</p>



<a name="229617240"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Multiple%20memories%20without%20WAT/near/229617240" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Risto <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Multiple.20memories.20without.20WAT.html#229617240">(Mar 10 2021 at 08:01)</a>:</h4>
<p>Hmm. Actually, it seems that I cannot even find ways to generate a WASM file from a WAT as wat2wasm does not support multiple memories yet.<br>
Is there some tool or way to generate Wasm modules that use the multi-memory instructions?</p>



<a name="229639166"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Multiple%20memories%20without%20WAT/near/229639166" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Till Schneidereit <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Multiple.20memories.20without.20WAT.html#229639166">(Mar 10 2021 at 11:12)</a>:</h4>
<p>wasmtime supports running wat files directly, so that should work, I think. I appreciate that that isn't ideal, of course, and we should have better tooling. Maybe <span class="user-mention" data-user-id="253994">@Alex Crichton</span> or <span class="user-mention" data-user-id="253990">@fitzgen (he/him)</span> know of any?</p>



<a name="229649447"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Multiple%20memories%20without%20WAT/near/229649447" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Risto <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Multiple.20memories.20without.20WAT.html#229649447">(Mar 10 2021 at 12:38)</a>:</h4>
<p>That is good to know. For now just a way to create and execute such code / modules is enough. That allows experimenting with the feature.</p>



<a name="229676913"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Multiple%20memories%20without%20WAT/near/229676913" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Multiple.20memories.20without.20WAT.html#229676913">(Mar 10 2021 at 15:10)</a>:</h4>
<p>Wasmtime should have runtime support for multi-module and the <code>wasm-tools</code>repo should have support for the text/binary format as well. I don't personally know of any toolchains which support using or emitting multi-memory at this time. I'm not sure if LLVM has plans to add support for it in the future either.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>