<html>
<head><meta charset="utf-8"><title>✔ Arm64Relocations in cranelift-jit · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Arm64Relocations.20in.20cranelift-jit.html">✔ Arm64Relocations in cranelift-jit</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="264510153"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Arm64Relocations%20in%20cranelift-jit/near/264510153" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Monadic Cat <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Arm64Relocations.20in.20cranelift-jit.html#264510153">(Dec 10 2021 at 21:22)</a>:</h4>
<p>Hi! I'm trying to use <code>cranelift-jit</code> to do some basic JIT compilation on aarch64, but it doesn't support <code>Arm64Call</code> relocations.<br>
It looked pretty simple, so I read some ARM docs and did this: <a href="https://github.com/Monadic-Cat/wasmtime/commit/ad36df54951d562c6a0e2c59d37c85bd7d3c7b6b">https://github.com/Monadic-Cat/wasmtime/commit/ad36df54951d562c6a0e2c59d37c85bd7d3c7b6b</a></p>
<p>It appears to work now, so should I open a PR?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/Monadic-Cat/wasmtime/commit/ad36df54951d562c6a0e2c59d37c85bd7d3c7b6b" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/f9374272e46d66e77393a3aa258937aaa87f3526\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f666565636363626561363139346339636534393736366135393834373434646664383765373030383564303235663938376137366237396563323936313261332f4d6f6e616469632d4361742f7761736d74696d652f636f6d6d69742f61643336646635343935316435363263366130653263353964333763383562643764336337623662)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/Monadic-Cat/wasmtime/commit/ad36df54951d562c6a0e2c59d37c85bd7d3c7b6b" title="add support for Arm64Call relocations in cranelift-jit · Monadic-Cat/wasmtime@ad36df5">add support for Arm64Call relocations in cranelift-jit · Monadic-Cat/wasmtime@ad36df5</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - add support for Arm64Call relocations in cranelift-jit · Monadic-Cat/wasmtime@ad36df5</div></div></div>



<a name="264511674"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Arm64Relocations%20in%20cranelift-jit/near/264511674" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Arm64Relocations.20in.20cranelift-jit.html#264511674">(Dec 10 2021 at 21:34)</a>:</h4>
<p><span class="user-mention" data-user-id="337018">@Monadic Cat</span> indeed, we'd be happy to take a PR for this, thanks!</p>



<a name="264511737"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Arm64Relocations%20in%20cranelift-jit/near/264511737" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Arm64Relocations.20in.20cranelift-jit.html#264511737">(Dec 10 2021 at 21:35)</a>:</h4>
<p>quick drive-by pre-review comment: it'd probably be good to assert that the relative offset is in range rather than silently truncating the upper bits</p>



<a name="264512040"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Arm64Relocations%20in%20cranelift-jit/near/264512040" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Monadic Cat <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Arm64Relocations.20in.20cranelift-jit.html#264512040">(Dec 10 2021 at 21:37)</a>:</h4>
<p>Good idea. I'll add that. :D</p>



<a name="264538205"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/%E2%9C%94%20Arm64Relocations%20in%20cranelift-jit/near/264538205" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Notification Bot <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/.E2.9C.94.20Arm64Relocations.20in.20cranelift-jit.html#264538205">(Dec 11 2021 at 03:28)</a>:</h4>
<p><span class="user-mention silent" data-user-id="337018">Monadic Cat</span> has marked this topic as resolved.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>