<html>
<head><meta charset="utf-8"><title>lldb for windows - jit debugging - required for wasm debug · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html">lldb for windows - jit debugging - required for wasm debug</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="252917888"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/252917888" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#252917888">(Sep 11 2021 at 15:50)</a>:</h4>
<p>Diving in to figure out if fixed trunk or comprehend problem if still an issue.<br>
Here's how to build lldb for Windows from llvm trunk.<br>
<a href="http://pastebin.com/ZR6Z7PPB">pastebin.com/ZR6Z7PPB</a><br>
Builds for me.</p>
<div class="message_embed"><a class="message_embed_image" href="http://pastebin.com/ZR6Z7PPB" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="http://pastebin.com/ZR6Z7PPB" title="From a visual studio 2019 x64 prompt :git clone --config core.autocrlf=false - Pastebin.com">From a visual studio 2019 x64 prompt :git clone --config core.autocrlf=false - Pastebin.com</a></div><div class="message_embed_description">Pastebin.com is the number one paste tool since 2002. Pastebin is a website where you can store text online for a set period of time.</div></div></div>



<a name="252964849"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/252964849" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#252964849">(Sep 12 2021 at 06:51)</a>:</h4>
<p>lldb developer has got back to us on discord.</p>
<p><a href="https://discord.com/channels/636084430946959380/636732809708306432">https://discord.com/channels/636084430946959380/636732809708306432</a></p>
<p>"On Windows you build native COFF objects or ELF with MinGW? Debugging ELF via GDB JIT Interface works again with LLDB since release 12"</p>
<p>More details --&gt; <a href="https://weliveindetail.github.io/blog/post/2021/04/19/lldb-12-jit-interface.html">https://weliveindetail.github.io/blog/post/2021/04/19/lldb-12-jit-interface.html</a></p>
<p>Can anyone answer his question, plz. I don't understand what's going on here at all yet.</p>
<div class="message_embed"><a class="message_embed_image" href="https://discord.com/channels/636084430946959380/636732809708306432" style="background-image: url(https://discord.com/assets/f5763d63baa119d101154db94a49a281.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://discord.com/channels/636084430946959380/636732809708306432" title="Discord - A New Way to Chat with Friends &amp; Communities">Discord - A New Way to Chat with Friends &amp; Communities</a></div><div class="message_embed_description">Discord is the easiest way to communicate over voice, video, and text.  Chat, hang out, and stay close with your friends and communities.</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://weliveindetail.github.io/blog/post/2021/04/19/lldb-12-jit-interface.html" style="background-image: url(https://github.com/vadimcn/vscode-lldb/raw/master/images/lldb.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://weliveindetail.github.io/blog/post/2021/04/19/lldb-12-jit-interface.html" title="LLDB regained JITed code debugging feature">LLDB regained JITed code debugging feature</a></div><div class="message_embed_description">A regression that reached back to version 6 was fixed in the latest release.</div></div></div>



<a name="252975955"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/252975955" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#252975955">(Sep 12 2021 at 10:20)</a>:</h4>
<blockquote>
<p>Debugging ELF via GDB JIT Interface works again with LLDB since release 12</p>
</blockquote>
<p>wasmtime generates COFF or ELF  debug object please.</p>



<a name="252976181"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/252976181" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#252976181">(Sep 12 2021 at 10:23)</a>:</h4>
<p>here's apparently what's going on : <a href="https://alexene.dev/2020/09/04/webassembly-without-the-browser-part-2.html">https://alexene.dev/2020/09/04/webassembly-without-the-browser-part-2.html</a></p>



<a name="252981631"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/252981631" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#252981631">(Sep 12 2021 at 12:02)</a>:</h4>
<p>issue presented as suspected lldb (windows) bug, here : <a href="https://discord.com/channels/636084430946959380/636732809708306432">https://discord.com/channels/636084430946959380/636732809708306432</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://discord.com/channels/636084430946959380/636732809708306432" style="background-image: url(https://discord.com/assets/f5763d63baa119d101154db94a49a281.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://discord.com/channels/636084430946959380/636732809708306432" title="Discord - A New Way to Chat with Friends &amp; Communities">Discord - A New Way to Chat with Friends &amp; Communities</a></div><div class="message_embed_description">Discord is the easiest way to communicate over voice, video, and text.  Chat, hang out, and stay close with your friends and communities.</div></div></div>



<a name="253084994"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253084994" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253084994">(Sep 13 2021 at 13:00)</a>:</h4>
<p><a href="https://bugs.llvm.org/show_bug.cgi?id=51832">https://bugs.llvm.org/show_bug.cgi?id=51832</a></p>



<a name="253870965"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253870965" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253870965">(Sep 18 2021 at 14:06)</a>:</h4>
<p>got lldb running under visual studio debugger. issue appears to be inability to resolve __jit_debug_register_code function.</p>
<p>on windows, to expose functions for external access, function must be declared </p>
<p>where defined : extern "C" __declspec(dllexport) <br>
where accessed (statically) : extern "C" __declspec(dllimport) </p>
<p>suspect wasmtime runtime and/or lldb not doing this.</p>
<p>trying to locate where wasmtime accesses or defines this function.</p>
<p>search thru entire wasmtime repo didn't find jit_debug_register_code</p>
<p>unclear how the gdb jit interface binds. clues welcome.</p>



<a name="253871156"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253871156" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253871156">(Sep 18 2021 at 14:10)</a>:</h4>
<p>I think that can be added here: <a href="https://github.com/bytecodealliance/wasmtime/blob/4376cf2609df7abe48174aade0907b90f3f2b58a/crates/runtime/src/helpers.c#L46">https://github.com/bytecodealliance/wasmtime/blob/4376cf2609df7abe48174aade0907b90f3f2b58a/crates/runtime/src/helpers.c#L46</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/4376cf2609df7abe48174aade0907b90f3f2b58a/crates/runtime/src/helpers.c#L46" style="background-image: url(https://opengraph.githubassets.com/bed3b731fe3f6c4f41ca4a81ab890c016a19af034db3d0ce0f32790b61714aba/bytecodealliance/wasmtime)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/4376cf2609df7abe48174aade0907b90f3f2b58a/crates/runtime/src/helpers.c#L46" title="wasmtime/helpers.c at 4376cf2609df7abe48174aade0907b90f3f2b58a · bytecodealliance/wasmtime">wasmtime/helpers.c at 4376cf2609df7abe48174aade0907b90f3f2b58a · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - wasmtime/helpers.c at 4376cf2609df7abe48174aade0907b90f3f2b58a · bytecodealliance/wasmtime</div></div></div>



<a name="253871446"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253871446" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253871446">(Sep 18 2021 at 14:15)</a>:</h4>
<p>thanks bjorn3 :) so ... that's not declared __declspec(dllexport) so lldb can't find it ... so appears the bug. or at least one of them.<br>
also the asm isn't defined so function might be optimized out. so bug at this point looks to be wasmtime, not lldb.</p>



<a name="253873556"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253873556" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253873556">(Sep 18 2021 at 14:52)</a>:</h4>
<p>a little further :)</p>
<p><a href="https://pastebin.com/u8Eptv6h">https://pastebin.com/u8Eptv6h</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/u8Eptv6h" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/u8Eptv6h" title=" JITLoaderGDB::JITLoaderGDB::SetJITBreakpoint looking for JIT register hook JI - Pastebin.com"> JITLoaderGDB::JITLoaderGDB::SetJITBreakpoint looking for JIT register hook JI - Pastebin.com</a></div><div class="message_embed_description">Pastebin.com is the number one paste tool since 2002. Pastebin is a website where you can store text online for a set period of time.</div></div></div>



<a name="253874442"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253874442" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253874442">(Sep 18 2021 at 15:08)</a>:</h4>
<p>weird. have that marked export too.</p>
<p><a href="https://pastebin.com/dknDqn9z">https://pastebin.com/dknDqn9z</a></p>
<p>why isn't that found ?</p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/dknDqn9z" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/dknDqn9z" title="#include &lt;setjmp.h&gt;#include &lt;stdint.h&gt;#include &lt;stdlib.h&gt;// Note that `s - Pastebin.com">#include &lt;setjmp.h&gt;#include &lt;stdint.h&gt;#include &lt;stdlib.h&gt;// Note that `s - Pastebin.com</a></div><div class="message_embed_description">Pastebin.com is the number one paste tool since 2002. Pastebin is a website where you can store text online for a set period of time.</div></div></div>



<a name="253874489"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253874489" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253874489">(Sep 18 2021 at 15:08)</a>:</h4>
<p>ADV_SW_PATCH  in above to locate 2 tiny changes.</p>



<a name="253874910"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253874910" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253874910">(Sep 18 2021 at 15:16)</a>:</h4>
<p>never tried exporting data before, only functions so maybe have the syntax wrong.</p>



<a name="253875460"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253875460" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253875460">(Sep 18 2021 at 15:26)</a>:</h4>
<p><a href="/user_uploads/15107/B-jcnthcy6gtXBn6tUkDCCsl/now.png">now.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/15107/B-jcnthcy6gtXBn6tUkDCCsl/now.png" title="now.png"><img src="/user_uploads/15107/B-jcnthcy6gtXBn6tUkDCCsl/now.png"></a></div>



<a name="253876465"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253876465" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253876465">(Sep 18 2021 at 15:46)</a>:</h4>
<p>next issue appears to be lldb insisting on binding debug descriptor as data &amp; windows perhaps not giving it that much info. so a tweak on lldb side.</p>



<a name="253876620"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253876620" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253876620">(Sep 18 2021 at 15:48)</a>:</h4>
<p><a href="https://lldb.llvm.org/cpp_reference/JITLoaderGDB_8cpp_source.html">https://lldb.llvm.org/cpp_reference/JITLoaderGDB_8cpp_source.html</a><br>
line 201 - going to change that to Any &amp; see if it binds.</p>



<a name="253877307"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253877307" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253877307">(Sep 18 2021 at 16:00)</a>:</h4>
<p>&amp; that's it :) tiny fix in wasmtime, tiny one in lldb :)</p>



<a name="253877470"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253877470" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253877470">(Sep 18 2021 at 16:03)</a>:</h4>
<p><a href="/user_uploads/15107/mVK5fmx6MhD0s3Ek2ORdVjaj/now.png">now.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/15107/mVK5fmx6MhD0s3Ek2ORdVjaj/now.png" title="now.png"><img src="/user_uploads/15107/mVK5fmx6MhD0s3Ek2ORdVjaj/now.png"></a></div>



<a name="253877598"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253877598" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253877598">(Sep 18 2021 at 16:05)</a>:</h4>
<p>LLDB fix : llvm-project\lldb\source\Plugins\JITLoader\GDB\JITLoaderGDB.cpp</p>
<p>module_list, ConstString("__jit_debug_descriptor"), eSymbolTypeAny); //eSymbolTypeData);</p>
<p>needs tidying so it can ensure qualified search where platform allows it, but that's essentially it.</p>
<p>if anyone knows how to query whether a symbol is data or function on windows, happy to take it all the way.</p>



<a name="253878477"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253878477" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253878477">(Sep 18 2021 at 16:20)</a>:</h4>
<p>so ... 2 tiny changes that affect windows only build in 1 file required to resolve. both in here marked ADV_SW_PATCH</p>
<p>file: wasmtime/crates/runtime/src/helpers.c  <br>
<a href="https://pastebin.com/dknDqn9z">https://pastebin.com/dknDqn9z</a></p>
<p>how should I submit the patch - via git ?</p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/dknDqn9z" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/dknDqn9z" title="#include &lt;setjmp.h&gt;#include &lt;stdint.h&gt;#include &lt;stdlib.h&gt;// Note that `s - Pastebin.com">#include &lt;setjmp.h&gt;#include &lt;stdint.h&gt;#include &lt;stdlib.h&gt;// Note that `s - Pastebin.com</a></div><div class="message_embed_description">Pastebin.com is the number one paste tool since 2002. Pastebin is a website where you can store text online for a set period of time.</div></div></div>



<a name="253879168"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253879168" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253879168">(Sep 18 2021 at 16:33)</a>:</h4>
<p>lldb change so you can verify &amp; access early if you'd like, as follows :</p>
<p>file: llvm-project\lldb\source\Plugins\JITLoader\GDB\JITLoaderGDB.cpp</p>
<p>m_jit_descriptor_addr = GetSymbolAddress(<br>
      module_list, ConstString("__jit_debug_descriptor"), <br>
#ifdef _MSC_VER      <br>
      // Windows implementation not indicating symbol is Data so we use Any as workaround for the time being.<br>
      eSymbolTypeAny);<br>
#else      <br>
     eSymbolTypeData);<br>
#endif</p>



<a name="253879814"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253879814" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253879814">(Sep 18 2021 at 16:44)</a>:</h4>
<p>if anyone with rights wants to just drop that in, please just do it. chances of it breaking anything that was working previously is very remote.</p>



<a name="253879904"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/253879904" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#253879904">(Sep 18 2021 at 16:46)</a>:</h4>
<p>or happy to submit formally when I can figure out how.</p>



<a name="254053423"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/254053423" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#254053423">(Sep 20 2021 at 13:55)</a>:</h4>
<p>sorry, I'm stupid - how do I submit a patch please. tried git push but insufficient access.</p>



<a name="254053629"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/254053629" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#254053629">(Sep 20 2021 at 13:57)</a>:</h4>
<p>ahhh - we're doing this as git issues ?</p>



<a name="254054288"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/254054288" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#254054288">(Sep 20 2021 at 14:01)</a>:</h4>
<p><a href="/user_uploads/15107/9txw5Ruv8UAeArdwdBXbrtXi/wasmtime_windows_export_jit.diff">wasmtime_windows_export_jit.diff</a></p>



<a name="254057030"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/254057030" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#254057030">(Sep 20 2021 at 14:19)</a>:</h4>
<p>On github the normal way to submit a patch would be to push the commit to your fork of the target repo and then open a pull request.</p>



<a name="254062962"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/254062962" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#254062962">(Sep 20 2021 at 14:55)</a>:</h4>
<p>thanks, bjorn3 :) lets see if I can fail my way through that :)</p>
<p>lldb issue in process here if that interests anybody : <a href="https://reviews.llvm.org/D110066">https://reviews.llvm.org/D110066</a></p>



<a name="255096253"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/255096253" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#255096253">(Sep 27 2021 at 18:24)</a>:</h4>
<p>forked this &amp; took it forward. might interest you guys too.</p>
<p><a href="https://github.com/adv-sw/lldbg">https://github.com/adv-sw/lldbg</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/adv-sw/lldbg" style="background-image: url(https://opengraph.githubassets.com/9c7d3e93f5ff8a5e662f90083671cc2a3faf4242d69df109bb8237322bf385af/adv-sw/lldbg)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/adv-sw/lldbg" title="GitHub - adv-sw/lldbg: A lightweight native GUI for LLDB.">GitHub - adv-sw/lldbg: A lightweight native GUI for LLDB.</a></div><div class="message_embed_description">A lightweight native GUI for LLDB. Contribute to adv-sw/lldbg development by creating an account on GitHub.</div></div></div>



<a name="255119799"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/255119799" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Scott Waye <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#255119799">(Sep 27 2021 at 21:04)</a>:</h4>
<p>That looks nice. It uses DWARF?</p>



<a name="255188197"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/255188197" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#255188197">(Sep 28 2021 at 09:39)</a>:</h4>
<p>ELF afaik - whatever wasmtime emits via GDB/JIT interface, but aside from a few custom tweaks, its basically lldb front end, so anything lldb can debug. </p>
<p>still early, stlll bits that need fixing up, but its basically sound now. thanks.</p>



<a name="255200189"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/lldb%20for%20windows%20-%20jit%20debugging%20-%20required%20for%20wasm%20debug/near/255200189" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/lldb.20for.20windows.20-.20jit.20debugging.20-.20required.20for.20wasm.20debug.html#255200189">(Sep 28 2021 at 11:24)</a>:</h4>
<p>just fixed breakpoint toggle.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>