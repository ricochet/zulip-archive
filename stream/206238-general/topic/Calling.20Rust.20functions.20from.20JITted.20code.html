<html>
<head><meta charset="utf-8"><title>Calling Rust functions from JITted code · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Calling.20Rust.20functions.20from.20JITted.20code.html">Calling Rust functions from JITted code</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="190465360"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Calling%20Rust%20functions%20from%20JITted%20code/near/190465360" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> HactarCE <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Calling.20Rust.20functions.20from.20JITted.20code.html#190465360">(Mar 13 2020 at 02:23)</a>:</h4>
<p>As part of my program, I am going to have a JIT-compiled scripting language with a fair number of built-in functions and such, which I'd like to write in Rust for speed, safety, and abstraction. I can't find anything in <a href="https://docs.rs/cranelift-codegen/0.59.0/cranelift_codegen/ir/trait.InstBuilder.html" target="_blank" title="https://docs.rs/cranelift-codegen/0.59.0/cranelift_codegen/ir/trait.InstBuilder.html">InstBuilder</a> that inserts a call to a Rust function. Do I have to write out the function signature myself, or is there some macro ... is there an example I can look at?</p>
<p>Thanks.</p>



<a name="190465422"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Calling%20Rust%20functions%20from%20JITted%20code/near/190465422" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> HactarCE <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Calling.20Rust.20functions.20from.20JITted.20code.html#190465422">(Mar 13 2020 at 02:25)</a>:</h4>
<p>My understanding of Cranelift is based on the simplejit-demo by the way</p>



<a name="190499467"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Calling%20Rust%20functions%20from%20JITted%20code/near/190499467" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Calling.20Rust.20functions.20from.20JITted.20code.html#190499467">(Mar 13 2020 at 13:01)</a>:</h4>
<p>If you pass your function to <a href="https://docs.rs/cranelift-simplejit/0.59.0/cranelift_simplejit/struct.SimpleJITBuilder.html#method.symbol" target="_blank" title="https://docs.rs/cranelift-simplejit/0.59.0/cranelift_simplejit/struct.SimpleJITBuilder.html#method.symbol">https://docs.rs/cranelift-simplejit/0.59.0/cranelift_simplejit/struct.SimpleJITBuilder.html#method.symbol</a> and then use the normal <code>declare_function</code>, you can use it like a function created using cranelift.</p>



<a name="190558761"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Calling%20Rust%20functions%20from%20JITted%20code/near/190558761" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> HactarCE <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Calling.20Rust.20functions.20from.20JITted.20code.html#190558761">(Mar 13 2020 at 21:48)</a>:</h4>
<p>Alright cool, thanks</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>