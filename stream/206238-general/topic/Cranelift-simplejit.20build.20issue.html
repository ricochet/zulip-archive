<html>
<head><meta charset="utf-8"><title>Cranelift-simplejit build issue · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html">Cranelift-simplejit build issue</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="202890702"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202890702" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Graham Scheaffer <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202890702">(Jul 04 2020 at 20:46)</a>:</h4>
<p>I've found an issue with building cranelift-simplejit, is a github issue with the cranelift bugreport template the best way to report it?</p>



<a name="202890714"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202890714" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202890714">(Jul 04 2020 at 20:47)</a>:</h4>
<p>What is the issue?</p>



<a name="202890763"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202890763" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Graham Scheaffer <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202890763">(Jul 04 2020 at 20:48)</a>:</h4>
<p>cranelift-simplejit specifies the dependency <code>region = "2.1.0"</code>, but It only builds with version 2.2.0 (latest).</p>



<a name="202890768"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202890768" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Graham Scheaffer <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202890768">(Jul 04 2020 at 20:49)</a>:</h4>
<p>Using cranelift v0.65.0 btw</p>



<a name="202890832"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202890832" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202890832">(Jul 04 2020 at 20:50)</a>:</h4>
<p><span aria-label="confused" class="emoji emoji-1f615" role="img" title="confused">:confused:</span> I recently had to change the 2.0.0 requirement to 2.1.0: <a href="https://github.com/bytecodealliance/wasmtime/pull/1827">https://github.com/bytecodealliance/wasmtime/pull/1827</a> It is suprising that it already needs 2.2.0.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/pull/1827" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/pull/1827" title="Correct version of region dependency of simplejit by bjorn3 · Pull Request #1827 · bytecodealliance/wasmtime">Correct version of region dependency of simplejit by bjorn3 · Pull Request #1827 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Using region 2.0.0 fails with:
error[E0599]: no associated item named `READ_WRITE` found for struct `region::protect::Protection` in the current scope
   --&gt; /home/bjorn/.cargo/git/checkouts/was...</div></div></div>



<a name="202890835"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202890835" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202890835">(Jul 04 2020 at 20:51)</a>:</h4>
<p>What is the exact error?</p>



<a name="202890884"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202890884" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Graham Scheaffer <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202890884">(Jul 04 2020 at 20:52)</a>:</h4>
<p>Here is the cargo output: <a href="http://ix.io/2qUQ">http://ix.io/2qUQ</a></p>



<a name="202890898"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202890898" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Graham Scheaffer <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202890898">(Jul 04 2020 at 20:53)</a>:</h4>
<p>Seems to be a very similar error</p>



<a name="202890901"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202890901" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202890901">(Jul 04 2020 at 20:53)</a>:</h4>
<p>I am pretty sure I tested it with 2.1.0.</p>



<a name="202890958"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202890958" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Graham Scheaffer <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202890958">(Jul 04 2020 at 20:55)</a>:</h4>
<p>To test it I just made an emtpy cargo project and added the following dependencies:</p>
<div class="codehilite"><pre><span></span><code>cranelift-simplejit=&quot;0.65.0&quot;
region = &quot;=2.1.0&quot;
</code></pre></div>



<a name="202891004"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202891004" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Graham Scheaffer <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202891004">(Jul 04 2020 at 20:56)</a>:</h4>
<p>It also happens with region version 2.1.2</p>



<a name="202891074"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202891074" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202891074">(Jul 04 2020 at 20:58)</a>:</h4>
<p>In that case could you please make a PR to update the region requirement to 2.2.0 everywhere? Both cranelift-sinplejit and the crate of wasmtime that uses region.</p>



<a name="202891085"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202891085" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Graham Scheaffer <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202891085">(Jul 04 2020 at 20:58)</a>:</h4>
<p>Yes, I can do that.</p>



<a name="202891244"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202891244" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Graham Scheaffer <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202891244">(Jul 04 2020 at 21:03)</a>:</h4>
<p>Are there tests I should run/add to?</p>



<a name="202891457"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202891457" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Graham Scheaffer <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202891457">(Jul 04 2020 at 21:09)</a>:</h4>
<p>I submitted the PR.</p>



<a name="202891663"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Cranelift-simplejit%20build%20issue/near/202891663" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Cranelift-simplejit.20build.20issue.html#202891663">(Jul 04 2020 at 21:15)</a>:</h4>
<p>I don't think a test is necessary.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>