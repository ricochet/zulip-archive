<html>
<head><meta charset="utf-8"><title>Does wasmtime 27 require --adapt for wasm32-wasip2? · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.2027.20require.20--adapt.20for.20wasm32-wasip2.3F.html">Does wasmtime 27 require --adapt for wasm32-wasip2?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="489568493"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%2027%20require%20--adapt%20for%20wasm32-wasip2%3F/near/489568493" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> adam <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.2027.20require.20--adapt.20for.20wasm32-wasip2.3F.html#489568493">(Dec 17 2024 at 20:41)</a>:</h4>
<p>My understanding is the adapters are for wasi p1 runtimes when building wasi p2 components and this wouldn't apply for <code>cargo build --target wasm32-wasip2</code> and <code>wasmtime thatnewnew.wasm</code> with wasmtime 27. Is that correct?</p>



<a name="489568735"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%2027%20require%20--adapt%20for%20wasm32-wasip2%3F/near/489568735" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.2027.20require.20--adapt.20for.20wasm32-wasip2.3F.html#489568735">(Dec 17 2024 at 20:43)</a>:</h4>
<p>correct yeah, the adapter is only needed when the guest is compiled for wasm32-wasip1</p>



<a name="489568762"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%2027%20require%20--adapt%20for%20wasm32-wasip2%3F/near/489568762" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.2027.20require.20--adapt.20for.20wasm32-wasip2.3F.html#489568762">(Dec 17 2024 at 20:43)</a>:</h4>
<p>(this is unrelated to the wasmtime version fwiw, 27 is nothing new in this regard)</p>



<a name="489568949"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Does%20wasmtime%2027%20require%20--adapt%20for%20wasm32-wasip2%3F/near/489568949" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> adam <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Does.20wasmtime.2027.20require.20--adapt.20for.20wasm32-wasip2.3F.html#489568949">(Dec 17 2024 at 20:45)</a>:</h4>
<p>Ah yeah, I just figured at some point since the beginning of the year wasmtime natively supported wasi p2.</p>
<p>Thanks</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>