<html>
<head><meta charset="utf-8"><title>debugging of JIT&#x27;ed code · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html">debugging of JIT&#x27;ed code</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="200119387"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200119387" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200119387">(Jun 08 2020 at 16:00)</a>:</h4>
<p>lldb requires python36.dll on windows. python 3.6 is only available as source &amp; I can't be bothered building it. if anyone has a trusted python36.dll it should be up somewhere to smooth the flow around wasmtime toolchain. llvm guys should ship it, but they don't.</p>



<a name="200120446"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200120446" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200120446">(Jun 08 2020 at 16:08)</a>:</h4>
<p>I've just grabbed a random download off the interweb for now, which isn't ideal, but it'll have to do. would prefer to use/ship something a little more trusted.</p>



<a name="200120499"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200120499" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200120499">(Jun 08 2020 at 16:08)</a>:</h4>
<p>yuri, why go backwards. its one dll to fix this problem.</p>



<a name="200120556"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200120556" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200120556">(Jun 08 2020 at 16:09)</a>:</h4>
<p>I have it running, but with a dodgy dll I downloaded. might be fine, might not :)</p>



<a name="200120626"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200120626" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200120626">(Jun 08 2020 at 16:09)</a>:</h4>
<p>&amp; therein lies a security issue so this gap should be patched properly.</p>



<a name="200121166"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200121166" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200121166">(Jun 08 2020 at 16:13)</a>:</h4>
<p>our entire distribution needs building from scratch on a clean system at some point.  right now, its just make it work mode. you have been warned. virus check our stuff if you run it. think I'm clean, but who knows what's lurking.</p>



<a name="200122843"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200122843" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200122843">(Jun 08 2020 at 16:27)</a>:</h4>
<p>"lldb was not built with gui support" using  standard download from : <a href="https://releases.llvm.org/download.html#10.0.0">https://releases.llvm.org/download.html#10.0.0</a></p>



<a name="200122879"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200122879" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200122879">(Jun 08 2020 at 16:27)</a>:</h4>
<p>we all love having to build each others stuff every 5 minutes :)</p>



<a name="200123028"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200123028" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200123028">(Jun 08 2020 at 16:28)</a>:</h4>
<p>so ... looks like a hop straight to one of the visual studio code thingies as not in the mood for building llvm from scratch either.</p>



<a name="200123325"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200123325" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200123325">(Jun 08 2020 at 16:30)</a>:</h4>
<p>if anyone knows which is the best wasmtime compatible visual studio code addon, recommendations welcome.</p>



<a name="200123540"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200123540" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200123540">(Jun 08 2020 at 16:32)</a>:</h4>
<p>post above says CodeLLDB just works, so lets try that.</p>



<a name="200124271"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200124271" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200124271">(Jun 08 2020 at 16:39)</a>:</h4>
<p>new to vs code, so will take me a while to get head around it.</p>



<a name="200124450"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200124450" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200124450">(Jun 08 2020 at 16:40)</a>:</h4>
<p>if any llvm devs around please build lldb with gui and ship whatever python dll you need with your windows binaries, thanks.</p>



<a name="200129156"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200129156" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200129156">(Jun 08 2020 at 17:19)</a>:</h4>
<p>no joy yet. got lldb to execute our app from visual studio code but it won't set breakpoints. seems to want to debug our binary rather than the wasm code.</p>



<a name="200129346"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200129346" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200129346">(Jun 08 2020 at 17:20)</a>:</h4>
<p>configuring lldb in vscode as follows : <a href="https://pastebin.com/xZJH5x6h">https://pastebin.com/xZJH5x6h</a></p>
<p>unsure how to tell it please debug wasm rather than app binaries.</p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/xZJH5x6h" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/xZJH5x6h" title="{      // Use IntelliSense to learn about possible attributes.      // Hover to  - Pastebin.com">{      // Use IntelliSense to learn about possible attributes.      // Hover to  - Pastebin.com</a></div></div></div>



<a name="200129924"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200129924" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200129924">(Jun 08 2020 at 17:24)</a>:</h4>
<p>if you have app callbacks that called from wasm, can you set breakpoints there?</p>



<a name="200130253"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200130253" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200130253">(Jun 08 2020 at 17:27)</a>:</h4>
<p>so major question here is to check if GDB JIT interface is working on Windows LLDB. if you can break at any code that was called from wasm and you can inspect call stack, it is a good news</p>



<a name="200130513"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200130513" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200130513">(Jun 08 2020 at 17:29)</a>:</h4>
<p>I could in our debug build but that's not what I want to do. I want our app in release mode with wasm stuff in debug.</p>



<a name="200130747"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200130747" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200130747">(Jun 08 2020 at 17:31)</a>:</h4>
<p>sure. can you still confirm the above though?</p>



<a name="200130796"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200130796" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200130796">(Jun 08 2020 at 17:31)</a>:</h4>
<p>yup</p>



<a name="200131281"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200131281" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200131281">(Jun 08 2020 at 17:35)</a>:</h4>
<p>if you break in the running code (+wasm) and type <code>image list</code> in the debugger terminal, you shall see a module with "JIT" in its name</p>



<a name="200131531"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200131531" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200131531">(Jun 08 2020 at 17:37)</a>:</h4>
<p>if it is there then you are almost done -- you just need to enable breakpoints on all files in vscode</p>



<a name="200131830"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200131830" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200131830">(Jun 08 2020 at 17:40)</a>:</h4>
<p>noob at lldb. gui doesn't want to let me break. seems like I have an lldb console.<br>
what's the command to break ?</p>



<a name="200131854"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200131854" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200131854">(Jun 08 2020 at 17:40)</a>:</h4>
<p>sorry, I usually just visual studio &amp; go :)</p>



<a name="200131881"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200131881" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200131881">(Jun 08 2020 at 17:40)</a>:</h4>
<p><code>b file.c:34</code> or <code>b foo_function</code></p>



<a name="200131929"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200131929" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200131929">(Jun 08 2020 at 17:41)</a>:</h4>
<p>not set a breakpoint, just halt wherever it is so we can do that 'image list'</p>



<a name="200131981"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200131981" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200131981">(Jun 08 2020 at 17:41)</a>:</h4>
<p>hmmm, is there <code>pause</code> button?</p>



<a name="200132032"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200132032" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200132032">(Jun 08 2020 at 17:42)</a>:</h4>
<p>yeah, its ignored but I have a console</p>



<a name="200132038"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200132038" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200132038">(Jun 08 2020 at 17:42)</a>:</h4>
<p>can't we do it from there ?</p>



<a name="200132070"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200132070" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200132070">(Jun 08 2020 at 17:42)</a>:</h4>
<p><code>ctrl-c</code> normally do the job in cli</p>



<a name="200132267"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200132267" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200132267">(Jun 08 2020 at 17:44)</a>:</h4>
<p>maybe I get you a linux build &amp; we do this over there first.</p>



<a name="200132345"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200132345" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200132345">(Jun 08 2020 at 17:45)</a>:</h4>
<p>it will save some time, yes</p>



<a name="200132446"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200132446" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200132446">(Jun 08 2020 at 17:46)</a>:</h4>
<p>leave this with me for a while. I can't drive vscode properly yet. need to mess with it a bit more. linux version in due course if we need that. it doesn't have everything yet but should have enough to fire up &amp; debug our wasm examples.</p>



<a name="200132550"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200132550" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200132550">(Jun 08 2020 at 17:47)</a>:</h4>
<p>also you may try smaller example such as <a href="https://github.com/bytecodealliance/wasmtime/blob/master/examples/fib-debug/main.c">https://github.com/bytecodealliance/wasmtime/blob/master/examples/fib-debug/main.c</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/master/examples/fib-debug/main.c" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/master/examples/fib-debug/main.c" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="200132564"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200132564" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200132564">(Jun 08 2020 at 17:47)</a>:</h4>
<p>can also ship an infinity version with debug mode. this is mostly likely an I can't drive lldb/vscode issue. so maybe I need to hop out of the way.</p>



<a name="200132651"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200132651" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200132651">(Jun 08 2020 at 17:48)</a>:</h4>
<p>there are also <a href="https://github.com/bytecodealliance/wasmtime/tree/master/tests/all/debug/testsuite">https://github.com/bytecodealliance/wasmtime/tree/master/tests/all/debug/testsuite</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/tree/master/tests/all/debug/testsuite" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/tree/master/tests/all/debug/testsuite" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="200132654"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200132654" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200132654">(Jun 08 2020 at 17:48)</a>:</h4>
<p>yeah, think you're right. lets get a simple example running under the debugger first.</p>



<a name="200133574"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200133574" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200133574">(Jun 08 2020 at 17:56)</a>:</h4>
<p>k, back up a step. lets drop vscode &amp; work from lldb command line</p>



<a name="200136655"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200136655" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200136655">(Jun 08 2020 at 18:21)</a>:</h4>
<p>sorry for the delay, here's "image list" output</p>
<p><a href="https://pastebin.com/vVSuba8G">https://pastebin.com/vVSuba8G</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/vVSuba8G" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/vVSuba8G" title="(lldb) image list  [  0]                                      infinity.exe[0x000 - Pastebin.com">(lldb) image list  [  0]                                      infinity.exe[0x000 - Pastebin.com</a></div></div></div>



<a name="200137089"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200137089" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200137089">(Jun 08 2020 at 18:25)</a>:</h4>
<p>sorry, that wasn't during a run. this one is though. ctrl-c from cmd line as advised.</p>
<p><a href="https://pastebin.com/i0WhxfRC">https://pastebin.com/i0WhxfRC</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/i0WhxfRC" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/i0WhxfRC" title="(lldb) run  Process 7348 launched: 'C:\Program Files (x86)\Infinity\infinity.exe - Pastebin.com">(lldb) run  Process 7348 launched: 'C:\Program Files (x86)\Infinity\infinity.exe - Pastebin.com</a></div></div></div>



<a name="200137272"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200137272" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200137272">(Jun 08 2020 at 18:27)</a>:</h4>
<p>not seeing anything with jit. maybe I messed up adding your debug support. will go back over that.</p>



<a name="200137279"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200137279" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200137279">(Jun 08 2020 at 18:27)</a>:</h4>
<p>yeah, that's missing "JIT" module, means debugger did not get any info about JIT code</p>



<a name="200137422"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200137422" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200137422">(Jun 08 2020 at 18:28)</a>:</h4>
<p>good news is vstudio code was doing as it should. can't break on anything it doesn't understand.</p>



<a name="200137448"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200137448" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200137448">(Jun 08 2020 at 18:28)</a>:</h4>
<p>it can be that windows support for lldb is not on the par with other OS</p>



<a name="200137478"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200137478" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200137478">(Jun 08 2020 at 18:29)</a>:</h4>
<p>vscode can be configured to set breakpoints on everything</p>



<a name="200137490"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200137490" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200137490">(Jun 08 2020 at 18:29)</a>:</h4>
<p>or it could be I've goofed. others have got wasmtime debugging on windows.</p>



<a name="200137607"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200137607" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200137607">(Jun 08 2020 at 18:30)</a>:</h4>
<p>can you try simple code on linux?</p>



<a name="200137653"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200137653" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200137653">(Jun 08 2020 at 18:30)</a>:</h4>
<p>yeah but I haven't given up here yet.</p>



<a name="200137751"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200137751" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200137751">(Jun 08 2020 at 18:31)</a>:</h4>
<p>leave it with me. you've told me what to look for when its working. will let you know when I get there.</p>



<a name="200137882"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200137882" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200137882">(Jun 08 2020 at 18:32)</a>:</h4>
<p>&amp; I will try linux if no joy windows</p>



<a name="200139473"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200139473" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200139473">(Jun 08 2020 at 18:42)</a>:</h4>
<p>got this to enable debug stuff, with an audio cue so I know I hit it.<br>
<a href="https://pastebin.com/rqNqkTAP">https://pastebin.com/rqNqkTAP</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/rqNqkTAP" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/rqNqkTAP" title=" const bool debug_mode = true; // for now        if (debug_mode)      {          - Pastebin.com"> const bool debug_mode = true; // for now        if (debug_mode)      {          - Pastebin.com</a></div></div></div>



<a name="200139511"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200139511" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200139511">(Jun 08 2020 at 18:42)</a>:</h4>
<p>did I miss something. its just that &amp; compile with -g</p>



<a name="200139530"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200139530" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200139530">(Jun 08 2020 at 18:42)</a>:</h4>
<p>missing a linker flag ?</p>



<a name="200139590"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200139590" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200139590">(Jun 08 2020 at 18:43)</a>:</h4>
<p>checked wasm with llvm-dwarfdump?</p>



<a name="200139829"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200139829" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200139829">(Jun 08 2020 at 18:45)</a>:</h4>
<p>not yet, that's next I guess.</p>



<a name="200139976"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200139976" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200139976">(Jun 08 2020 at 18:46)</a>:</h4>
<p>build script as follows : <a href="https://pastebin.com/rfUWxrd8">https://pastebin.com/rfUWxrd8</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/rfUWxrd8" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/rfUWxrd8" title="rem ===============        &lt;&gt;&lt;&gt; Infinity Web Assembly SDK makefile (batch file f - Pastebin.com">rem ===============        &lt;&gt;&lt;&gt; Infinity Web Assembly SDK makefile (batch file f - Pastebin.com</a></div></div></div>



<a name="200140448"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200140448" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200140448">(Jun 08 2020 at 18:50)</a>:</h4>
<p><a href="http://advance-software.com/misc/app.wasm">http://advance-software.com/misc/app.wasm</a></p>



<a name="200140521"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200140521" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200140521">(Jun 08 2020 at 18:50)</a>:</h4>
<p>don't seem to have llvm-dwarfdump windows. might have to boot linux after all :)</p>



<a name="200140672"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200140672" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200140672">(Jun 08 2020 at 18:52)</a>:</h4>
<p>nope. don't have it. llvm 10 standard binary distribution, windows is rubbish :)</p>



<a name="200144896"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200144896" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200144896">(Jun 08 2020 at 19:29)</a>:</h4>
<p>got llvm-dwarfdump linux, so ran that. don't know what I'm doing with it yet. didn't seem to spot anything interesting so perhaps entry level fail &amp; no debug info in the wasm.   just compiled with -g as requested. maybe that's not enough.</p>



<a name="200145476"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200145476" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200145476">(Jun 08 2020 at 19:35)</a>:</h4>
<p>Line 27 , no “-g”</p>



<a name="200145760"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200145760" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200145760">(Jun 08 2020 at 19:38)</a>:</h4>
<p>there is, it expands from COMPILE_OPTIONS, which gets it from EXTRA_COMPILE_OPTIONS</p>



<a name="200145893"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200145893" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200145893">(Jun 08 2020 at 19:38)</a>:</h4>
<p>expands as follows :</p>
<p><a href="https://pastebin.com/Bt06aMTq">https://pastebin.com/Bt06aMTq</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/Bt06aMTq" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/Bt06aMTq" title="Z:\dev\infinity\wasm\xsg_sdk\examples\simple&gt;make_d    Z:\dev\infinity\wasm\xsg_ - Pastebin.com">Z:\dev\infinity\wasm\xsg_sdk\examples\simple&gt;make_d    Z:\dev\infinity\wasm\xsg_ - Pastebin.com</a></div></div></div>



<a name="200146029"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200146029" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200146029">(Jun 08 2020 at 19:39)</a>:</h4>
<p>on line 36, we have the actual compilation, which includes -g flag</p>



<a name="200146246"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200146246" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200146246">(Jun 08 2020 at 19:41)</a>:</h4>
<p>as I have no clue how to use llvm-dwarfdump can I get a minimal command line or output to look for please</p>



<a name="200146292"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200146292" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200146292">(Jun 08 2020 at 19:41)</a>:</h4>
<p>I can experiment with other flags into the compiler to hopefully generate some debug.</p>



<a name="200146366"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200146366" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200146366">(Jun 08 2020 at 19:42)</a>:</h4>
<p>this is almost comp sci 101 fail territory :)</p>



<a name="200146956"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200146956" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200146956">(Jun 08 2020 at 19:47)</a>:</h4>
<p>this bit doesn't require running any of our binaries, just running llvm 10.0 distribution out of the box, with make script above instead of the release script shipped in our sdk above.</p>



<a name="200147100"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200147100" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200147100">(Jun 08 2020 at 19:48)</a>:</h4>
<p>realise its my problem, just saying its safe for others to help identify why we're compiling without debug info if you wanted to.</p>



<a name="200147184"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200147184" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200147184">(Jun 08 2020 at 19:49)</a>:</h4>
<p>am I missing an obvious link flag I need ?</p>



<a name="200147570"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200147570" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200147570">(Jun 08 2020 at 19:52)</a>:</h4>
<p>maybe clang is weird &amp; the position of the flag on the command line matters ?</p>



<a name="200148034"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200148034" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200148034">(Jun 08 2020 at 19:56)</a>:</h4>
<p>llvm-dwarfdump just prints entire dwarf sections, so if nothing then it’s empty</p>



<a name="200148128"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200148128" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200148128">(Jun 08 2020 at 19:57)</a>:</h4>
<p>I place -g before files but it shall not matter</p>



<a name="200148163"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200148163" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200148163">(Jun 08 2020 at 19:57)</a>:</h4>
<p>k, so I got nothing. so we're at bottom of the class here. how embarassing :)</p>



<a name="200148213"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200148213" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200148213">(Jun 08 2020 at 19:57)</a>:</h4>
<p>wasm-ld just combines these sections</p>



<a name="200148474"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200148474" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200148474">(Jun 08 2020 at 19:59)</a>:</h4>
<p>Do llvmdwarfdump for obj file</p>



<a name="200148813"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200148813" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200148813">(Jun 08 2020 at 20:02)</a>:</h4>
<p>llvm-dwarfdump app.o<br>
app.o: Invalid data was encountered while parsing the file</p>



<a name="200148919"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200148919" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200148919">(Jun 08 2020 at 20:02)</a>:</h4>
<p>Is dwarfdump new e.g. from wadi-sdk</p>



<a name="200148998"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200148998" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200148998">(Jun 08 2020 at 20:03)</a>:</h4>
<p>nope. I have no idea what version., should update it.</p>



<a name="200149031"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200149031" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200149031">(Jun 08 2020 at 20:03)</a>:</h4>
<p>however, whichever version I have says this :</p>
<p>llvm-dwarfdump app.wasm<br>
app.wasm: No available targets are compatible with this triple.<br>
app.wasm:   file format WASM</p>
<p>.debug_info contents:</p>



<a name="200149129"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200149129" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200149129">(Jun 08 2020 at 20:04)</a>:</h4>
<p>Right. Use one from wadi-sdk</p>



<a name="200149174"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200149174" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200149174">(Jun 08 2020 at 20:04)</a>:</h4>
<p>link to wadi-sdk please. jfgi but not obvious</p>



<a name="200149193"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200149193" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200149193">(Jun 08 2020 at 20:04)</a>:</h4>
<p>The one you have probably from 10 years ago :p</p>



<a name="200149285"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200149285" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200149285">(Jun 08 2020 at 20:05)</a>:</h4>
<p>Wasi-sdk it is</p>



<a name="200149300"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200149300" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200149300">(Jun 08 2020 at 20:05)</a>:</h4>
<p>llvm-dwarfdump --version<br>
LLVM (<a href="http://llvm.org/">http://llvm.org/</a>):<br>
  LLVM version 6.0.0</p>
<p>Optimized build.<br>
  Default target: x86_64-pc-linux-gnu<br>
  Host CPU: skylake</p>



<a name="200149342"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200149342" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200149342">(Jun 08 2020 at 20:06)</a>:</h4>
<p>so yeah, my linux box needs an update</p>



<a name="200149399"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200149399" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200149399">(Jun 08 2020 at 20:06)</a>:</h4>
<p>ah, it is wasi sdk &amp; so a typo</p>



<a name="200149671"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200149671" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200149671">(Jun 08 2020 at 20:09)</a>:</h4>
<p>Right. You have wasm-ld so you may have dwarfdump near it</p>



<a name="200150097"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200150097" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200150097">(Jun 08 2020 at 20:12)</a>:</h4>
<p>nope. gonna do that linux. upgrading my llvm to 10.0 ubuntu</p>



<a name="200150364"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200150364" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200150364">(Jun 08 2020 at 20:14)</a>:</h4>
<p>yup, 10 linux has it, 10 windoze doesn't :)</p>



<a name="200150384"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200150384" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200150384">(Jun 08 2020 at 20:15)</a>:</h4>
<p>pre-built binary distributions</p>



<a name="200150566"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200150566" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200150566">(Jun 08 2020 at 20:16)</a>:</h4>
<p>then as no installer  ubuntu, looks like I just drop the directories into the file system</p>



<a name="200150914"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200150914" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200150914">(Jun 08 2020 at 20:19)</a>:</h4>
<p>LLVM (<a href="http://llvm.org/">http://llvm.org/</a>):<br>
  LLVM version 10.0.0<br>
  Optimized build.<br>
  Default target: x86_64-unknown-linux-gnu<br>
  Host CPU: skylake</p>



<a name="200150987"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200150987" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200150987">(Jun 08 2020 at 20:20)</a>:</h4>
<p>from : llvm-dwarfdump --version</p>



<a name="200151005"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200151005" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200151005">(Jun 08 2020 at 20:20)</a>:</h4>
<p>so think that's how you install it :)</p>



<a name="200151107"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200151107" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200151107">(Jun 08 2020 at 20:21)</a>:</h4>
<p>tired. simple obvious things aren't working so gonna stop there for today &amp; get something simple compiling with debug info in the morning.<br>
cheers all.</p>



<a name="200189281"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200189281" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200189281">(Jun 09 2020 at 07:27)</a>:</h4>
<p>k, progress. ported my make script to bash, compiled our thing ubuntu, llvm 10. ran llvm-dwarfdump app.wasm got a ton out output, unlike yesterday :)</p>



<a name="200189409"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200189409" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200189409">(Jun 09 2020 at 07:29)</a>:</h4>
<p>apparent bug llvm 10 wasm win64 : debug info not generated when requested, though need to verify.</p>



<a name="200201386"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200201386" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200201386">(Jun 09 2020 at 09:43)</a>:</h4>
<p>image list from llvm on windows not showing anything jit related, unless I'm blind. this is with the wasm with debug in it compiled on linux.<br>
still running on windows, next step is perhaps run linux. which wouldn't hurt anyway.<br>
<a href="https://pastebin.com/fL3TpAqn">https://pastebin.com/fL3TpAqn</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/fL3TpAqn" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/fL3TpAqn" title="(lldb) image list  [  0]                                      0x0000000140000000 - Pastebin.com">(lldb) image list  [  0]                                      0x0000000140000000 - Pastebin.com</a></div></div></div>



<a name="200201487"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200201487" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200201487">(Jun 09 2020 at 09:44)</a>:</h4>
<ul>
<li>from lldb</li>
</ul>
<p>however confidence low that lldb 10 precompiled binary version on windows is solid anyway.</p>



<a name="200201538"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200201538" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200201538">(Jun 09 2020 at 09:45)</a>:</h4>
<p>from wasm. for standard compilation, it gets exercised plenty.</p>



<a name="200201679"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200201679" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200201679">(Jun 09 2020 at 09:47)</a>:</h4>
<p>so, back to basics until standard stuff is working as expected. maybe a wasmtime.exe example next, rather than our stuff.</p>



<a name="200207933"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200207933" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200207933">(Jun 09 2020 at 10:59)</a>:</h4>
<p>looking at debug example posted above.  we have differences. its not just this :<br>
<a href="https://github.com/bytecodealliance/wasmtime/blob/master/examples/fib-debug/main.c#L18">https://github.com/bytecodealliance/wasmtime/blob/master/examples/fib-debug/main.c#L18</a></p>
<p>most of the entrypoints in that example are wasmtime methods, whereas I assumed wasm_c_api would be sufficient.</p>
<p>seems I assumed wrong :)</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/master/examples/fib-debug/main.c#L18" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/master/examples/fib-debug/main.c#L18" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="200208175"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200208175" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200208175">(Jun 09 2020 at 11:02)</a>:</h4>
<p>as of 0.16 you have a regression, yury</p>
<p>./main.c:74:68: error: too many arguments to function call, expected 5, have 6<br>
  error = wasmtime_instance_new(store, module, NULL, 0, &amp;instance, &amp;trap);</p>



<a name="200208396"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200208396" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200208396">(Jun 09 2020 at 11:04)</a>:</h4>
<p>store parameter needs removing from that call.</p>



<a name="200216983"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200216983" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200216983">(Jun 09 2020 at 12:25)</a>:</h4>
<p>no cargo.toml so instructions in <a href="http://main.rs">main.rs</a> cannot be completed.</p>



<a name="200217066"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200217066" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200217066">(Jun 09 2020 at 12:25)</a>:</h4>
<p>for fib-debug</p>



<a name="200217338"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200217338" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200217338">(Jun 09 2020 at 12:26)</a>:</h4>
<p>if I could have that missing file, please, I should be able to run your example as-is to see if I can reproduce expected behaviour :)</p>



<a name="200218720"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200218720" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200218720">(Jun 09 2020 at 12:31)</a>:</h4>
<p>sorry misunderstood - <a href="http://main.rs">main.rs</a> is equivalent of main.c which I don't need. the wasm is in wasm :) with its toml :)</p>



<a name="200220577"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200220577" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200220577">(Jun 09 2020 at 12:38)</a>:</h4>
<p>cargo build -p example-fib-debug-wasm --target wasm32-unknown-unknown</p>
<p>should be in <a href="http://make.sh">make.sh</a> in the wasm directory, not referenced in <a href="http://main.rs">main.rs</a> which I'm not using :)</p>



<a name="200220843"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200220843" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200220843">(Jun 09 2020 at 12:40)</a>:</h4>
<p>a make script so all of that just works would be nice :)</p>
<p>note how my stuff has that :P</p>



<a name="200220992"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200220992" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200220992">(Jun 09 2020 at 12:41)</a>:</h4>
<p>welcome back... so you are on linux today?</p>



<a name="200221051"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221051" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221051">(Jun 09 2020 at 12:42)</a>:</h4>
<p>for right now, yup.</p>



<a name="200221100"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221100" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221100">(Jun 09 2020 at 12:42)</a>:</h4>
<p>"too many arguments to function call" means you are trying to use old version of wasmtime with new example</p>



<a name="200221114"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221114" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221114">(Jun 09 2020 at 12:42)</a>:</h4>
<p>API changed after my PR</p>



<a name="200221149"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221149" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221149">(Jun 09 2020 at 12:43)</a>:</h4>
<p>I'm using latest shipped version :) 0.16</p>



<a name="200221168"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221168" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221168">(Jun 09 2020 at 12:43)</a>:</h4>
<p>0.17 is source only.</p>



<a name="200221202"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221202" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221202">(Jun 09 2020 at 12:43)</a>:</h4>
<p>but if its the runtime that's too old, can compile 0.17 myself.</p>



<a name="200221338"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221338" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221338">(Jun 09 2020 at 12:44)</a>:</h4>
<p>I thought 0.17 is released</p>



<a name="200221394"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221394" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221394">(Jun 09 2020 at 12:45)</a>:</h4>
<p>it is, but only as source &amp; I was keeping workload to the minimum.</p>



<a name="200221396"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221396" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221396">(Jun 09 2020 at 12:45)</a>:</h4>
<p>yep, <a href="https://crates.io/crates/wasmtime">https://crates.io/crates/wasmtime</a></p>



<a name="200221425"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221425" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221425">(Jun 09 2020 at 12:45)</a>:</h4>
<p>but if that's a requirement, then it is :)</p>



<a name="200221444"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221444" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221444">(Jun 09 2020 at 12:45)</a>:</h4>
<p>got fib_debug running using main.c 0.16</p>



<a name="200221490"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221490" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221490">(Jun 09 2020 at 12:46)</a>:</h4>
<p>next job, drop in 0.17</p>



<a name="200221516"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200221516" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200221516">(Jun 09 2020 at 12:46)</a>:</h4>
<p>no debugging yet, just got my head around your build process.</p>



<a name="200222155"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200222155" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200222155">(Jun 09 2020 at 12:52)</a>:</h4>
<p>here's that start of a make script - compiles main.c &amp; installs wasmtime runtime. I'm a bit crap on linux, so could possibly be done better, but it works.<br>
<a href="https://pastebin.com/hKznEJRC">https://pastebin.com/hKznEJRC</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/hKznEJRC" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/hKznEJRC" title="#!/bin/sh      # ===============      WASMTIME example make script      ======== - Pastebin.com">#!/bin/sh      # ===============      WASMTIME example make script      ======== - Pastebin.com</a></div></div></div>



<a name="200223140"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223140" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223140">(Jun 09 2020 at 13:01)</a>:</h4>
<p>that's right, I gave up on building 0.17 when I hit this :)<br>
cargo build -p wasmtime-c-api --release</p>



<a name="200223180"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223180" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223180">(Jun 09 2020 at 13:01)</a>:</h4>
<p>error: failed to parse manifest at <code>/home/x/dev/wasm/wasmtime-0.17.0/Cargo.toml</code></p>
<p>Caused by:<br>
  feature <code>profile-overrides</code> is required</p>
<p>this Cargo does not support nightly features, but if you<br>
switch to nightly channel you can add<br>
<code>cargo-features = ["profile-overrides"]</code> to enable this feature</p>



<a name="200223258"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223258" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223258">(Jun 09 2020 at 13:02)</a>:</h4>
<p>is it really necessary to use absolutely bleeding edge functionality on everything ?<br>
:)</p>



<a name="200223362"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223362" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223362">(Jun 09 2020 at 13:03)</a>:</h4>
<div class="codehilite"><pre><span></span><code>$ rustc --version
rustc 1.43.1 (8d69840ab 2020-05-04)
</code></pre></div>



<a name="200223403"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223403" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223403">(Jun 09 2020 at 13:03)</a>:</h4>
<p>rustc 1.36.0 (a53f9df32 2019-07-03)</p>



<a name="200223421"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223421" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223421">(Jun 09 2020 at 13:03)</a>:</h4>
<p>k, so how do I update that plz :)</p>



<a name="200223484"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223484" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223484">(Jun 09 2020 at 13:04)</a>:</h4>
<p><code>rustup update</code>?</p>



<a name="200223566"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223566" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223566">(Jun 09 2020 at 13:04)</a>:</h4>
<p>apparently, I avoid the horrid thing as much as possible as it lacks elegant c/c++ syntax :P</p>



<a name="200223567"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223567" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223567">(Jun 09 2020 at 13:04)</a>:</h4>
<p>did you install via <code>rustup</code> ?</p>



<a name="200223610"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223610" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223610">(Jun 09 2020 at 13:05)</a>:</h4>
<p>at some stage I suppose.</p>



<a name="200223620"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223620" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223620">(Jun 09 2020 at 13:05)</a>:</h4>
<p>running an update</p>



<a name="200223722"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223722" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223722">(Jun 09 2020 at 13:06)</a>:</h4>
<p>its like the pascal people showed up &amp; told us how its gonna be &amp; the c++ guys when, ummm ... no ... but I digress :)</p>



<a name="200223770"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223770" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223770">(Jun 09 2020 at 13:06)</a>:</h4>
<p>1.44</p>



<a name="200223805"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223805" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223805">(Jun 09 2020 at 13:06)</a>:</h4>
<p>alright, bleeding edge</p>



<a name="200223840"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223840" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223840">(Jun 09 2020 at 13:07)</a>:</h4>
<p>x@dev:~/dev/wasm/wasmtime-0.17.0$ cargo build -p wasmtime-c-api --release<br>
error: failed to read <code>/home/x/dev/wasm/wasmtime-0.17.0/crates/wasi-common/WASI/tools/witx/Cargo.toml</code></p>
<p>Caused by:<br>
  No such file or directory (os error 2)</p>



<a name="200223892"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223892" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223892">(Jun 09 2020 at 13:07)</a>:</h4>
<p>this is why we have binary distributions of things - so everyone doesn't have to go through dependency nightmares :)</p>



<a name="200223980"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223980" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223980">(Jun 09 2020 at 13:08)</a>:</h4>
<p>how do I install that wasi crate thingy please.</p>



<a name="200223981"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200223981" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200223981">(Jun 09 2020 at 13:08)</a>:</h4>
<p>let's cleanup: <code>cargo clean</code> and <code>git submodule update --init</code> ?</p>



<a name="200224025"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200224025" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200224025">(Jun 09 2020 at 13:08)</a>:</h4>
<p>its unhappy doing a cargo clean, same error.</p>



<a name="200224068"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200224068" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200224068">(Jun 09 2020 at 13:09)</a>:</h4>
<p>what about submodules?</p>



<a name="200224074"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200224074" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200224074">(Jun 09 2020 at 13:09)</a>:</h4>
<p>I don't need to do this. can you just build 0.17 &amp; post it, no is cool if you can't be bothered</p>



<a name="200224174"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200224174" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200224174">(Jun 09 2020 at 13:10)</a>:</h4>
<p>not a git repository. I downloaded 0.17 from releases, not from git.</p>



<a name="200224204"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200224204" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200224204">(Jun 09 2020 at 13:10)</a>:</h4>
<p>probably glitch in matrix, did you report it?</p>



<a name="200224226"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200224226" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200224226">(Jun 09 2020 at 13:10)</a>:</h4>
<p>how do I pull that branch from git please</p>



<a name="200224266"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200224266" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200224266">(Jun 09 2020 at 13:10)</a>:</h4>
<p>yeah, but then these guys with dark glasses showed up &amp; I ended up here :)</p>



<a name="200224386"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200224386" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200224386">(Jun 09 2020 at 13:11)</a>:</h4>
<p><code>git fetch upstream</code> &amp;&amp; <code>git checkout upstream/master</code> normally works for me</p>



<a name="200224398"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200224398" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200224398">(Jun 09 2020 at 13:11)</a>:</h4>
<p>guess I just pull wasmtime git trunk on linux, as I did on windows. cross fingers &amp; hope its solid.<br>
which is what you just said.</p>



<a name="200224621"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200224621" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200224621">(Jun 09 2020 at 13:13)</a>:</h4>
<p>if I'm angry with what I see in <code>git status</code>, I just nuking that  with <code>git checkout -f --recurse-submodules</code></p>



<a name="200224838"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200224838" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200224838">(Jun 09 2020 at 13:15)</a>:</h4>
<p>pulled fresh trunk</p>



<a name="200224964"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200224964" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200224964">(Jun 09 2020 at 13:16)</a>:</h4>
<p>x@dev:~/dev/wasm/wasmtime$ cargo build -p wasmtime-c-api --release<br>
error: failed to read <code>/home/x/dev/wasm/wasmtime/crates/wasi-common/WASI/tools/witx/Cargo.toml</code></p>



<a name="200225021"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225021" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225021">(Jun 09 2020 at 13:16)</a>:</h4>
<p>can we have a binary build of 0.17 please.</p>



<a name="200225132"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225132" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225132">(Jun 09 2020 at 13:18)</a>:</h4>
<p><a href="https://github.com/bytecodealliance/wasmtime/releases/tag/dev">https://github.com/bytecodealliance/wasmtime/releases/tag/dev</a> ?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/releases/tag/dev" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/releases/tag/dev" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="200225210"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225210" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225210">(Jun 09 2020 at 13:18)</a>:</h4>
<p>ah, that's new :)</p>



<a name="200225276"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225276" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225276">(Jun 09 2020 at 13:19)</a>:</h4>
<p>when you go this way, it just shows source : <a href="https://github.com/bytecodealliance/wasmtime/releases">https://github.com/bytecodealliance/wasmtime/releases</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/releases" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/releases" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="200225289"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225289" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225289">(Jun 09 2020 at 13:19)</a>:</h4>
<p>thanks.</p>



<a name="200225314"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225314" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225314">(Jun 09 2020 at 13:19)</a>:</h4>
<p>There was a build problem on CI, so exact 0.17 might be missing -- the issue needs to be opened</p>



<a name="200225408"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225408" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225408">(Jun 09 2020 at 13:20)</a>:</h4>
<p>well, we can hop past this. if there's a binary 0.17 which you've linked, thanks. I can just use this &amp; the matrix can resolve itself :)</p>



<a name="200225463"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225463" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225463">(Jun 09 2020 at 13:20)</a>:</h4>
<p>the Assets is what you are looking for</p>



<a name="200225554"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225554" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225554">(Jun 09 2020 at 13:21)</a>:</h4>
<p>? I'm just wanting to link 0.17 to main.c from fibdebug so I have the same API you have in your example &amp; as close to edge as possible without losing my mind :)</p>



<a name="200225672"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225672" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225672">(Jun 09 2020 at 13:22)</a>:</h4>
<p><span class="user-mention" data-user-id="254083">@Dan Gohman</span> can we release 0.18 sinse 0.17 did not publish any assets?</p>



<a name="200225811"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225811" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Dan Gohman <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225811">(Jun 09 2020 at 13:22)</a>:</h4>
<p>Sure</p>



<a name="200225924"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225924" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225924">(Jun 09 2020 at 13:23)</a>:</h4>
<p>I wonder if 0.17.1 is a thing for us</p>



<a name="200225960"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200225960" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200225960">(Jun 09 2020 at 13:23)</a>:</h4>
<p>whatever works :)</p>



<a name="200227047"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200227047" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200227047">(Jun 09 2020 at 13:31)</a>:</h4>
<p>k, 0.17 build, runs ubuntu. no debugging yet but works</p>



<a name="200229763"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200229763" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200229763">(Jun 09 2020 at 13:50)</a>:</h4>
<p>building lldb 10 from source as seems to be a requirement :)</p>



<a name="200234698"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200234698" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200234698">(Jun 09 2020 at 14:20)</a>:</h4>
<p>lldb version 10 installed, ubuntu</p>



<a name="200235161"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200235161" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200235161">(Jun 09 2020 at 14:23)</a>:</h4>
<p>alright, alright, alright... let me know if I shall pull mine from the closet</p>



<a name="200235344"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200235344" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200235344">(Jun 09 2020 at 14:24)</a>:</h4>
<p>think that's a private matter :)</p>



<a name="200235392"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200235392" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200235392">(Jun 09 2020 at 14:24)</a>:</h4>
<p>ran fib debug thingy.</p>



<a name="200235397"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200235397" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200235397">(Jun 09 2020 at 14:24)</a>:</h4>
<p><a href="https://pastebin.com/iueXJuGj">https://pastebin.com/iueXJuGj</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/iueXJuGj" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/iueXJuGj" title="(lldb) image list  [  0] 65FDCEFE 0x0000000000400000 /home/x/dev/wasm/debug/bin/ - Pastebin.com">(lldb) image list  [  0] 65FDCEFE 0x0000000000400000 /home/x/dev/wasm/debug/bin/ - Pastebin.com</a></div></div></div>



<a name="200235459"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200235459" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200235459">(Jun 09 2020 at 14:25)</a>:</h4>
<p>just let it run all the way through. not sure if that's what you wanted.</p>



<a name="200235677"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200235677" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200235677">(Jun 09 2020 at 14:26)</a>:</h4>
<p>so, not seeing anything jit there. to be clear I ran that after a run of the app. didn't break inside it.</p>



<a name="200236034"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200236034" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200236034">(Jun 09 2020 at 14:28)</a>:</h4>
<p>sure if store is cleaned up -- there is no JIT'ed code</p>



<a name="200236115"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200236115" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200236115">(Jun 09 2020 at 14:28)</a>:</h4>
<p>place a breakpoint in your app just before/after the wasm function invocation.</p>



<a name="200236429"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200236429" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200236429">(Jun 09 2020 at 14:31)</a>:</h4>
<p>k, so that's expected. I have no clue how to use lldb from command line yet :) and of course compiled without gui :)</p>



<a name="200236489"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200236489" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200236489">(Jun 09 2020 at 14:31)</a>:</h4>
<p>is there the equivalent of DebugBreak() on windows I can just compile in ?</p>



<a name="200236503"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200236503" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200236503">(Jun 09 2020 at 14:31)</a>:</h4>
<p><a href="https://www.nesono.com/sites/default/files/lldb%20cheat%20sheet.pdf">https://www.nesono.com/sites/default/files/lldb%20cheat%20sheet.pdf</a> ?<br>
]</p>



<a name="200236669"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200236669" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200236669">(Jun 09 2020 at 14:32)</a>:</h4>
<p>thanks</p>



<a name="200236679"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200236679" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200236679">(Jun 09 2020 at 14:32)</a>:</h4>
<p>normally you type <code>b main.c:234</code> to set a breakpoint at specific line, <code>r</code> to run/restart, <code>c</code> to continue, <code>q</code> to quit</p>



<a name="200237106"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237106" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237106">(Jun 09 2020 at 14:35)</a>:</h4>
<p>you don't need to know much to drive debugging session, but it will be useful to see what you did hen you post terminal in the pastebin</p>



<a name="200237153"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237153" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237153">(Jun 09 2020 at 14:35)</a>:</h4>
<p>it is impossible to paste your mouse clicks</p>



<a name="200237299"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237299" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237299">(Jun 09 2020 at 14:36)</a>:</h4>
<p>k, so to keep this simple, how do I single source line  step please</p>



<a name="200237417"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237417" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237417">(Jun 09 2020 at 14:37)</a>:</h4>
<p><code>s</code> or <code>n</code></p>



<a name="200237491"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237491" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237491">(Jun 09 2020 at 14:37)</a>:</h4>
<p>tried that - invalid process</p>



<a name="200237511"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237511" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237511">(Jun 09 2020 at 14:37)</a>:</h4>
<p>so I have to start it somehow first ?</p>



<a name="200237522"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237522" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237522">(Jun 09 2020 at 14:37)</a>:</h4>
<p><code>r</code>?</p>



<a name="200237576"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237576" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237576">(Jun 09 2020 at 14:38)</a>:</h4>
<p>that runs the whole thing</p>



<a name="200237662"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237662" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237662">(Jun 09 2020 at 14:38)</a>:</h4>
<p>so I have to put a breakpoint. I can't just step in a line at a time.</p>



<a name="200237694"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237694" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237694">(Jun 09 2020 at 14:38)</a>:</h4>
<p>so breakpoint at main</p>



<a name="200237751"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237751" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237751">(Jun 09 2020 at 14:39)</a>:</h4>
<p>god I hate this - we've moved on. its like hanging out with the vi is great crowd :)</p>



<a name="200237813"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237813" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237813">(Jun 09 2020 at 14:39)</a>:</h4>
<p>right, it will break on set breakpoint though, see e.g. tests <a href="https://github.com/bytecodealliance/wasmtime/blob/master/tests/all/debug/lldb.rs#L71-L74">https://github.com/bytecodealliance/wasmtime/blob/master/tests/all/debug/lldb.rs#L71-L74</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/master/tests/all/debug/lldb.rs#L71-L74" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/master/tests/all/debug/lldb.rs#L71-L74" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="200237949"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200237949" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200237949">(Jun 09 2020 at 14:40)</a>:</h4>
<p>I don't have a set breakpoint. I just want to do like visual studio. f10, first line, next line, next line.</p>



<a name="200238019"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200238019" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200238019">(Jun 09 2020 at 14:40)</a>:</h4>
<p>but you do set a breakpoint at first line, no?</p>



<a name="200238100"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200238100" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200238100">(Jun 09 2020 at 14:41)</a>:</h4>
<p>in visual studio, no. turns out you can step and it figures out you wanted to start at the first line of the program :)</p>



<a name="200238165"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200238165" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200238165">(Jun 09 2020 at 14:41)</a>:</h4>
<p>but that's not important. this toolchain works how it does.</p>



<a name="200238184"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200238184" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200238184">(Jun 09 2020 at 14:41)</a>:</h4>
<p>yeah, usually hello world programs are debugged this way</p>



<a name="200238261"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200238261" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200238261">(Jun 09 2020 at 14:42)</a>:</h4>
<p>this pretty much is hello world. its only about 50 lines</p>



<a name="200238348"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200238348" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200238348">(Jun 09 2020 at 14:42)</a>:</h4>
<p>breakpoint set --name main</p>



<a name="200238361"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200238361" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200238361">(Jun 09 2020 at 14:43)</a>:</h4>
<p>apparently</p>



<a name="200238373"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200238373" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200238373">(Jun 09 2020 at 14:43)</a>:</h4>
<p>or <code>b main</code></p>



<a name="200238446"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200238446" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200238446">(Jun 09 2020 at 14:43)</a>:</h4>
<p>which should be implict if you step from an unstarted program, but anyhow :)</p>



<a name="200238588"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200238588" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200238588">(Jun 09 2020 at 14:44)</a>:</h4>
<p>omg its working :)</p>



<a name="200238760"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200238760" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200238760">(Jun 09 2020 at 14:45)</a>:</h4>
<p>s steps in,  not wanting to dive deep n is next high level instruction ?</p>



<a name="200239061"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239061" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239061">(Jun 09 2020 at 14:47)</a>:</h4>
<p>yeah, but I'm interested in <code>image list</code></p>



<a name="200239066"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239066" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239066">(Jun 09 2020 at 14:47)</a>:</h4>
<p>at </p>
<blockquote>
<p>wasm_extern_vec_delete(&amp;exports);</p>
</blockquote>



<a name="200239099"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239099" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239099">(Jun 09 2020 at 14:47)</a>:</h4>
<p>so image list here</p>



<a name="200239181"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239181" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239181">(Jun 09 2020 at 14:47)</a>:</h4>
<p>you're not gonna like this :)</p>



<a name="200239263"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239263" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239263">(Jun 09 2020 at 14:48)</a>:</h4>
<p><a href="https://pastebin.com/uithP4MY">https://pastebin.com/uithP4MY</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/uithP4MY" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/uithP4MY" title="  (lldb) image list  [  0] 65FDCEFE 0x0000000000400000 /home/x/dev/wasm/debug/bi - Pastebin.com">  (lldb) image list  [  0] 65FDCEFE 0x0000000000400000 /home/x/dev/wasm/debug/bi - Pastebin.com</a></div></div></div>



<a name="200239305"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239305" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239305">(Jun 09 2020 at 14:48)</a>:</h4>
<p>I spy <code>[ 11] 54F9EC54 0x00007ffff7fc7000 JIT(0x737b80) (0x0000000000737b80)</code></p>



<a name="200239381"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239381" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239381">(Jun 09 2020 at 14:49)</a>:</h4>
<p>ah, so it is :)</p>



<a name="200239466"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239466" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239466">(Jun 09 2020 at 14:49)</a>:</h4>
<p>so, we've got the basics working. next step hop back to windows &amp; see if I can get it doing the same thing.</p>



<a name="200239490"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239490" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239490">(Jun 09 2020 at 14:49)</a>:</h4>
<p>thanks for your assistance &amp; patience :)</p>



<a name="200239550"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239550" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239550">(Jun 09 2020 at 14:50)</a>:</h4>
<p>hold on, set breakpoint in wasm code</p>



<a name="200239636"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239636" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239636">(Jun 09 2020 at 14:50)</a>:</h4>
<p>how plz</p>



<a name="200239652"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239652" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239652">(Jun 09 2020 at 14:50)</a>:</h4>
<p>use source file name and line number</p>



<a name="200239755"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239755" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239755">(Jun 09 2020 at 14:51)</a>:</h4>
<p>just like you use mouse, but using the keyboard :P</p>



<a name="200239914"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239914" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239914">(Jun 09 2020 at 14:52)</a>:</h4>
<p>yeah, mouse was invented so you didn't have to search through cheat sheets :)</p>



<a name="200239988"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200239988" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200239988">(Jun 09 2020 at 14:52)</a>:</h4>
<p>this is like arguing with blender artists who love their key combos when I prefer 3dsmax gui but anyways :)</p>



<a name="200240121"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200240121" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200240121">(Jun 09 2020 at 14:53)</a>:</h4>
<p>repeatable is a key here, mouse is an art</p>



<a name="200240300"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200240300" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200240300">(Jun 09 2020 at 14:54)</a>:</h4>
<p>mouse triggers events that can be captured &amp; logged, but we digress. you want to stay with 60s tech, we'll stay with 60s tech.</p>



<a name="200240651"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200240651" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200240651">(Jun 09 2020 at 14:56)</a>:</h4>
<p>(lldb) b fib.rs:4         <br>
Breakpoint 1: no locations (pending).<br>
WARNING:  Unable to resolve breakpoint to any actual locations.</p>



<a name="200240719"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200240719" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200240719">(Jun 09 2020 at 14:56)</a>:</h4>
<p>that's from a fresh start. guessing that's too early. hasn't loaded yet so knows nothing about it.</p>



<a name="200240870"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200240870" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200240870">(Jun 09 2020 at 14:57)</a>:</h4>
<p>b main</p>



<a name="200240904"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200240904" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200240904">(Jun 09 2020 at 14:57)</a>:</h4>
<p>or just <code>b fib</code></p>



<a name="200241174"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241174" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241174">(Jun 09 2020 at 14:59)</a>:</h4>
<p>when the c code is reading imports/exports you should have enough info for wasm breakpoints ?</p>



<a name="200241229"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241229" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241229">(Jun 09 2020 at 14:59)</a>:</h4>
<p>apparently so</p>



<a name="200241288"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241288" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241288">(Jun 09 2020 at 14:59)</a>:</h4>
<p>yeah, if wasm code has <em>valid</em> DWARF info</p>



<a name="200241415"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241415" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241415">(Jun 09 2020 at 15:00)</a>:</h4>
<p>seems happy.</p>



<a name="200241442"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241442" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241442">(Jun 09 2020 at 15:00)</a>:</h4>
<p>looking for continue command</p>



<a name="200241460"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241460" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241460">(Jun 09 2020 at 15:00)</a>:</h4>
<p><code>c</code>?</p>



<a name="200241577"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241577" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241577">(Jun 09 2020 at 15:01)</a>:</h4>
<p><a href="https://pastebin.com/5fAGJQdU">https://pastebin.com/5fAGJQdU</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/5fAGJQdU" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/5fAGJQdU" title="Process 20814 stopped  * thread #1, name = 'test_app', stop reason = breakpoint  - Pastebin.com">Process 20814 stopped  * thread #1, name = 'test_app', stop reason = breakpoint  - Pastebin.com</a></div></div></div>



<a name="200241593"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241593" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241593">(Jun 09 2020 at 15:01)</a>:</h4>
<p>seems happy :)</p>



<a name="200241630"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241630" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241630">(Jun 09 2020 at 15:01)</a>:</h4>
<p>is it good?</p>



<a name="200241659"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241659" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241659">(Jun 09 2020 at 15:01)</a>:</h4>
<p>nah</p>



<a name="200241703"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241703" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241703">(Jun 09 2020 at 15:02)</a>:</h4>
<p>try <code>bt</code></p>



<a name="200241738"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241738" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241738">(Jun 09 2020 at 15:02)</a>:</h4>
<p>should say var, not let mut</p>



<a name="200241797"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241797" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241797">(Jun 09 2020 at 15:02)</a>:</h4>
<p>it works, the syntax is horrid :P</p>



<a name="200241895"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241895" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241895">(Jun 09 2020 at 15:02)</a>:</h4>
<p>you are using wrong examples, did you see <a href="https://github.com/bytecodealliance/wasmtime/blob/master/tests/all/debug/testsuite/reverse-str.c">https://github.com/bytecodealliance/wasmtime/blob/master/tests/all/debug/testsuite/reverse-str.c</a> ?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/master/tests/all/debug/testsuite/reverse-str.c" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/master/tests/all/debug/testsuite/reverse-str.c" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="200241916"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200241916" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200241916">(Jun 09 2020 at 15:03)</a>:</h4>
<p>to be clear. system is functioning as expected. thank you. I have a syntax quibble but that's an issue for another day.</p>



<a name="200242042"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200242042" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200242042">(Jun 09 2020 at 15:03)</a>:</h4>
<p>I used the fib example you linked above. think my whine about rust syntax has confused you.</p>



<a name="200242057"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200242057" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200242057">(Jun 09 2020 at 15:03)</a>:</h4>
<p>install vscode on ubuntu and try to drive debugging via GUI</p>



<a name="200242138"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200242138" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200242138">(Jun 09 2020 at 15:04)</a>:</h4>
<p>that sounds crazy</p>



<a name="200242173"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200242173" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200242173">(Jun 09 2020 at 15:04)</a>:</h4>
<p>nope, vscode is using LLDB</p>



<a name="200242244"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200242244" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200242244">(Jun 09 2020 at 15:04)</a>:</h4>
<p>yup, might even work :)</p>



<a name="200242317"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200242317" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200242317">(Jun 09 2020 at 15:05)</a>:</h4>
<p>if so, screw up is bcoz I was using wasm-c-api entrypoints but you require wasmtime api calls ?</p>



<a name="200242646"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200242646" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200242646">(Jun 09 2020 at 15:07)</a>:</h4>
<p>not sure</p>



<a name="200243680"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200243680" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200243680">(Jun 09 2020 at 15:13)</a>:</h4>
<p>generating of DWARF is an overhead, the engine needs to do be configured to spend CPU/memory for debug info</p>



<a name="200243878"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200243878" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200243878">(Jun 09 2020 at 15:14)</a>:</h4>
<p>c api "outsourced" this type of operation to implementers</p>



<a name="200243937"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200243937" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200243937">(Jun 09 2020 at 15:14)</a>:</h4>
<p>vscode, linux refusing to start, but I had that working windows &amp; not concerned linux right now other than diagnostics, which we've just completed.</p>



<a name="200244163"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200244163" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200244163">(Jun 09 2020 at 15:16)</a>:</h4>
<p>so, let me head back to windows &amp; repeat the above somehow. might have to compile llvm trunk or 11 candidate as 10 wasn't behaving.</p>



<a name="200244284"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200244284" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200244284">(Jun 09 2020 at 15:16)</a>:</h4>
<p>cheers. leave that with me for now. I can see we can debug lldb, regardless of what vscode's doing.</p>



<a name="200255276"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200255276" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200255276">(Jun 09 2020 at 16:25)</a>:</h4>
<p>building llvm trunk, windows, gonna be a while.</p>



<a name="200265717"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200265717" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200265717">(Jun 09 2020 at 17:45)</a>:</h4>
<blockquote>
<p>c api "outsourced" this type of operation to implementers</p>
</blockquote>
<p>which is why I don't understand why you have so many wasmtime calls in fib-debug. surely just the first call to set debugging info as that's not present in wasm-c-api is enough. then standard api.</p>



<a name="200268205"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200268205" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200268205">(Jun 09 2020 at 18:06)</a>:</h4>
<p>&amp; even that, surely an environment variable would be better, then you can override &amp; enable debug from any wasmtime runtime without anyone having to modify anything.</p>



<a name="200268470"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200268470" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200268470">(Jun 09 2020 at 18:08)</a>:</h4>
<p>right, but the main question is does it work on windows?</p>



<a name="200268551"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200268551" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200268551">(Jun 09 2020 at 18:09)</a>:</h4>
<p>the environment feature is good, but irrelevant</p>



<a name="200268567"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200268567" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200268567">(Jun 09 2020 at 18:09)</a>:</h4>
<p>fighting with llvm build system. their latest windows snapshot is 20th feb. 10 released in march.</p>



<a name="200268592"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200268592" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200268592">(Jun 09 2020 at 18:09)</a>:</h4>
<p>its not irrelevent, its a refinement once we're working.</p>



<a name="200268666"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200268666" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200268666">(Jun 09 2020 at 18:10)</a>:</h4>
<p>this is what I hate about open source. everyone's like "but you can build it yourself". I. don't. want. to.</p>



<a name="200268694"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200268694" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200268694">(Jun 09 2020 at 18:10)</a>:</h4>
<p>I'd like a beer please. sure sir, there's a field, go plant yourself some hops ...</p>



<a name="200268711"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200268711" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200268711">(Jun 09 2020 at 18:10)</a>:</h4>
<p>:)</p>



<a name="200268723"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200268723" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200268723">(Jun 09 2020 at 18:11)</a>:</h4>
<p>which version of LLDB is included in vscode plugins?</p>



<a name="200268795"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200268795" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200268795">(Jun 09 2020 at 18:11)</a>:</h4>
<p>right now it doesn't matter bcoz clang doesn't generate debug info and I can't ship a toolchain that requires our users to switch to linux to compile their scripts.</p>



<a name="200268898"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200268898" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200268898">(Jun 09 2020 at 18:12)</a>:</h4>
<p>just built llvm windows using standard cmake environment, which built everything except what I want, so going through more slowly, second pass to see if I can get thing to do what I want.</p>



<a name="200269512"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200269512" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200269512">(Jun 09 2020 at 18:17)</a>:</h4>
<p>this "windows snapshot build" is older than the current release : <a href="https://llvm.org/builds">https://llvm.org/builds</a></p>
<p>realise it's not your project, just sayin' :)</p>



<a name="200272790"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200272790" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200272790">(Jun 09 2020 at 18:43)</a>:</h4>
<p>going with this as a llvm configure script :</p>
<p>cmake ../llvm -G Ninja -DLLVM_ENABLE_PROJECTS="clang;lldb;lld" -DCMAKE_BUILD_TYPE="Release"  -DLLVM_TARGETS_TO_BUILD="WebAssembly"  -DLLVM_BUILD_EXAMPLES=0 -DLLVM_INCLUDE_EXAMPLES=0 -DLLVM_INCLUDE_TESTS=0 -DLLVM_INCLUDE_BENCHMARKS=0</p>



<a name="200272949"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200272949" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200272949">(Jun 09 2020 at 18:44)</a>:</h4>
<p>nope, not that :)</p>



<a name="200273020"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200273020" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200273020">(Jun 09 2020 at 18:45)</a>:</h4>
<p>/me would just use <a href="https://github.com/WebAssembly/wasi-sdk/">https://github.com/WebAssembly/wasi-sdk/</a> as a base</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/wasi-sdk/" style="background-image: url(https://avatars3.githubusercontent.com/u/11578470?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/wasi-sdk/" title="WebAssembly/wasi-sdk">WebAssembly/wasi-sdk</a></div><div class="message_embed_description">WASI-enabled WebAssembly C/C++ toolchain. Contribute to WebAssembly/wasi-sdk development by creating an account on GitHub.</div></div></div>



<a name="200273154"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200273154" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200273154">(Jun 09 2020 at 18:46)</a>:</h4>
<p>have you tested windows, coz my understanding was you're linux only.</p>



<a name="200273178"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200273178" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200273178">(Jun 09 2020 at 18:46)</a>:</h4>
<p><a href="https://github.com/WebAssembly/wasi-sdk/blob/master/Makefile#L7">https://github.com/WebAssembly/wasi-sdk/blob/master/Makefile#L7</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/wasi-sdk/blob/master/Makefile#L7" style="background-image: url(https://avatars3.githubusercontent.com/u/11578470?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/wasi-sdk/blob/master/Makefile#L7" title="WebAssembly/wasi-sdk">WebAssembly/wasi-sdk</a></div><div class="message_embed_description">WASI-enabled WebAssembly C/C++ toolchain. Contribute to WebAssembly/wasi-sdk development by creating an account on GitHub.</div></div></div>



<a name="200273180"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200273180" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200273180">(Jun 09 2020 at 18:46)</a>:</h4>
<p>hence going trunk to see if whatever's wrong has been fixed.</p>



<a name="200273322"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200273322" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200273322">(Jun 09 2020 at 18:47)</a>:</h4>
<p>have you used your sdk tools to compile with debug on windows &amp; confirmed you get debug info with dwarf tool thingy who's name I can't remember ?<br>
:)</p>



<a name="200273414"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200273414" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200273414">(Jun 09 2020 at 18:48)</a>:</h4>
<p>llvm-dwarfdump</p>



<a name="200273462"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200273462" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200273462">(Jun 09 2020 at 18:48)</a>:</h4>
<p>llvm-dwarfdump</p>



<a name="200273660"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200273660" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200273660">(Jun 09 2020 at 18:50)</a>:</h4>
<p>we need to be able to compile wasm with debug on windows or there's no point going further with any of this as our only viable dev platform right this minute is windows. our plan is complete there, then fill in the gaps linux &amp; others.</p>



<a name="200273968"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200273968" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200273968">(Jun 09 2020 at 18:52)</a>:</h4>
<p>that build still going, thought it had failed, but just some warnings.</p>



<a name="200274251"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200274251" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200274251">(Jun 09 2020 at 18:55)</a>:</h4>
<p>again, that's a pull, fight dependency hell &amp; hope rather than a install package. I'll give it a go. thanks.</p>



<a name="200275458"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200275458" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200275458">(Jun 09 2020 at 19:04)</a>:</h4>
<p>completing llvm build I have going first. may as well, its half way thru.</p>



<a name="200278195"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200278195" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200278195">(Jun 09 2020 at 19:29)</a>:</h4>
<p>wasi-sdk : what do I run windows, please. no make, that makefile isn't nmake compatible</p>



<a name="200278384"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200278384" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200278384">(Jun 09 2020 at 19:30)</a>:</h4>
<p>got mozilla build tools which does have make, but it doesn't have cmake :)</p>



<a name="200278437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200278437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200278437">(Jun 09 2020 at 19:31)</a>:</h4>
<p>mozmake?</p>



<a name="200278598"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200278598" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200278598">(Jun 09 2020 at 19:32)</a>:</h4>
<p>dunno, I'll figure something out.</p>



<a name="200278640"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200278640" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200278640">(Jun 09 2020 at 19:32)</a>:</h4>
<p>however all of this is some way from it just works (tm)</p>



<a name="200278676"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200278676" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200278676">(Jun 09 2020 at 19:33)</a>:</h4>
<p>such is free</p>



<a name="200279548"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200279548" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200279548">(Jun 09 2020 at 19:42)</a>:</h4>
<p>k, got cmake in my mozilla tools cmd thingy</p>



<a name="200279582"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200279582" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200279582">(Jun 09 2020 at 19:42)</a>:</h4>
<p>it can't find llvm stuff now.<br>
so must be a step before make that i've skipped</p>



<a name="200279912"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200279912" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200279912">(Jun 09 2020 at 19:45)</a>:</h4>
<p>backing up a step, why am I not just running <a href="https://github.com/WebAssembly/wasi-sdk/releases">https://github.com/WebAssembly/wasi-sdk/releases</a><br>
wasi-sdk-11 mingw ?</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/wasi-sdk/releases" style="background-image: url(https://avatars3.githubusercontent.com/u/11578470?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/wasi-sdk/releases" title="WebAssembly/wasi-sdk">WebAssembly/wasi-sdk</a></div><div class="message_embed_description">WASI-enabled WebAssembly C/C++ toolchain. Contribute to WebAssembly/wasi-sdk development by creating an account on GitHub.</div></div></div>



<a name="200279949"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200279949" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200279949">(Jun 09 2020 at 19:45)</a>:</h4>
<p>I'll build if I have to, but surely that's what I want, your most recent built tools. if they work, we're good.</p>



<a name="200280030"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200280030" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200280030">(Jun 09 2020 at 19:46)</a>:</h4>
<p>I was using standard llvm-10 - haven't tried this yet, so maybe that's the hassle free fix.</p>



<a name="200280218"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200280218" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200280218">(Jun 09 2020 at 19:47)</a>:</h4>
<p>its only 6 days old so unless you've fixed something I need more recently than that, think that's where I should be.</p>



<a name="200282414"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200282414" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200282414">(Jun 09 2020 at 20:03)</a>:</h4>
<p>k, progress :) compiles windows with debug &amp; do have llvm-dwarfdump there as its in the mingw distribution.<br>
yay :)</p>



<a name="200282533"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200282533" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200282533">(Jun 09 2020 at 20:04)</a>:</h4>
<p>solution was to use wasi-sdk tools rather than standard llvm-10 equivalent, as advised, thank you :)</p>



<a name="200283342"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200283342" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200283342">(Jun 09 2020 at 20:10)</a>:</h4>
<p>no lldb in that package. I should use standard llvm 10 version ?</p>



<a name="200283379"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200283379" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200283379">(Jun 09 2020 at 20:10)</a>:</h4>
<p>if its missing &amp; you plan to add, please build it with curses so can use gui</p>



<a name="200284015"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200284015" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200284015">(Jun 09 2020 at 20:15)</a>:</h4>
<p>using lldb 10 for now</p>



<a name="200284052"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200284052" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200284052">(Jun 09 2020 at 20:15)</a>:</h4>
<p>ctrl-c to break</p>



<a name="200284270"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200284270" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200284270">(Jun 09 2020 at 20:17)</a>:</h4>
<p>no JIT. as expected, as that's just the same as compiling wasm on linux then running it on windows as yesterday.</p>



<a name="200284328"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200284328" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200284328">(Jun 09 2020 at 20:17)</a>:</h4>
<p>so back up a step, run fib-debug windows, see if can repro behaviour on linux.</p>



<a name="200285290"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200285290" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200285290">(Jun 09 2020 at 20:26)</a>:</h4>
<p><a href="https://pastebin.com/m1X4Matq">https://pastebin.com/m1X4Matq</a></p>
<p>test_app is fib_debug compiled with debug info, windows</p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/m1X4Matq" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/m1X4Matq" title="Z:\dev\infinity\wasm\xsg_sdk\examples\fib_debug\bin&gt;lldb test_app  (lldb) target - Pastebin.com">Z:\dev\infinity\wasm\xsg_sdk\examples\fib_debug\bin&gt;lldb test_app  (lldb) target - Pastebin.com</a></div></div></div>



<a name="200285324"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200285324" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200285324">(Jun 09 2020 at 20:26)</a>:</h4>
<p>so that lldb sucks</p>



<a name="200285394"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200285394" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200285394">(Jun 09 2020 at 20:27)</a>:</h4>
<p>build trunk lldb ?</p>



<a name="200285662"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200285662" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200285662">(Jun 09 2020 at 20:29)</a>:</h4>
<p>sanity check. standard lldb, standard simple c program. see what happens.</p>



<a name="200286052"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200286052" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200286052">(Jun 09 2020 at 20:32)</a>:</h4>
<p>ummm, losing it - was trying to debug fib debug linux on windows, hadn't actually built it. surprised it got that far. doh :)</p>



<a name="200291560"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200291560" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200291560">(Jun 09 2020 at 21:14)</a>:</h4>
<p>k, built fib_debug using visual studio on windows as clang was giving me weird errors. as our stuff is vstudio, that's probably better as closer to the same thing.</p>



<a name="200291596"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200291596" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200291596">(Jun 09 2020 at 21:15)</a>:</h4>
<p>stepping thru using lldb</p>



<a name="200291805"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200291805" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200291805">(Jun 09 2020 at 21:16)</a>:</h4>
<p><a href="https://pastebin.com/70x2JF35">https://pastebin.com/70x2JF35</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/70x2JF35" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/70x2JF35" title="  95     wasm_instance_delete(instance);     96     97     // Call.  -&gt; 98     p - Pastebin.com">  95     wasm_instance_delete(instance);     96     97     // Call.  -&gt; 98     p - Pastebin.com</a></div></div></div>



<a name="200291889"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200291889" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200291889">(Jun 09 2020 at 21:17)</a>:</h4>
<p>that's using wasmtime from here : <a href="https://github.com/bytecodealliance/wasmtime/releases/tag/dev">https://github.com/bytecodealliance/wasmtime/releases/tag/dev</a> released today.</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/releases/tag/dev" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/releases/tag/dev" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="200291996"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200291996" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200291996">(Jun 09 2020 at 21:18)</a>:</h4>
<p>can you guys please confirm your stuff works windows. doesn't seem to for me.</p>



<a name="200292143"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200292143" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200292143">(Jun 09 2020 at 21:19)</a>:</h4>
<p>Could be that GDB JIT interface does not work on Windows. can you file an issue? maybe someone can weight in before I look at it?</p>



<a name="200292282"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200292282" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200292282">(Jun 09 2020 at 21:20)</a>:</h4>
<p>long shot: can you try <code>settings set plugin.jit-loader.gdb.enable on</code> before doing <code>r</code></p>



<a name="200292353"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200292353" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200292353">(Jun 09 2020 at 21:21)</a>:</h4>
<p>sure. let me try that.</p>



<a name="200292390"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200292390" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200292390">(Jun 09 2020 at 21:21)</a>:</h4>
<p>can mozilla get yury a windows box please :)</p>



<a name="200292421"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200292421" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200292421">(Jun 09 2020 at 21:21)</a>:</h4>
<p>... in the closet</p>



<a name="200292530"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200292530" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200292530">(Jun 09 2020 at 21:22)</a>:</h4>
<p>I gotta be bi-os so have u :)</p>



<a name="200292624"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200292624" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200292624">(Jun 09 2020 at 21:23)</a>:</h4>
<p>this times, tri-os is acceptable</p>



<a name="200292842"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200292842" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200292842">(Jun 09 2020 at 21:25)</a>:</h4>
<p>yeah, got all that fun ahead. quad os if we're going android and mac stuff</p>



<a name="200292875"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200292875" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200292875">(Jun 09 2020 at 21:25)</a>:</h4>
<p>and then we have ps-5 &amp; xbox next fun &amp; games. but lets keep it simple for now.</p>



<a name="200293089"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200293089" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200293089">(Jun 09 2020 at 21:27)</a>:</h4>
<p>not spotting any difference.<br>
<a href="https://pastebin.com/mTxufwp9">https://pastebin.com/mTxufwp9</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://pastebin.com/mTxufwp9" style="background-image: url(https://pastebin.com/i/facebook.png)"></a><div class="data-container"><div class="message_embed_title"><a href="https://pastebin.com/mTxufwp9" title="-&gt; 98     printf(&quot;Calling fib...\n&quot;);     99     wasm_val_t params[1] = { {.kind - Pastebin.com">-&gt; 98     printf("Calling fib...\n");     99     wasm_val_t params[1] = { {.kind - Pastebin.com</a></div></div></div>



<a name="200293267"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200293267" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200293267">(Jun 09 2020 at 21:29)</a>:</h4>
<p>where would you like me to raise a bug</p>



<a name="200293431"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200293431" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200293431">(Jun 09 2020 at 21:30)</a>:</h4>
<p>should be easy enough for anyone else to reproduce. there's a possiblity I've got a weird setup.</p>



<a name="200293447"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200293447" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200293447">(Jun 09 2020 at 21:30)</a>:</h4>
<p>so you might like a confirmation.</p>



<a name="200293634"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200293634" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200293634">(Jun 09 2020 at 21:32)</a>:</h4>
<p>the wasmtime issue tracker is fine</p>



<a name="200293767"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200293767" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200293767">(Jun 09 2020 at 21:33)</a>:</h4>
<p>here's my fib_debug directory with a visual studio solution in the make subdir &amp; windows binary &amp; the rest of it in bin<br>
<a href="http://advance-software.com/misc/fib_debug.zip">http://advance-software.com/misc/fib_debug.zip</a><br>
can build yourself but that might be a helpful shortcut</p>



<a name="200294497"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200294497" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200294497">(Jun 09 2020 at 21:41)</a>:</h4>
<p>I'm done unless you want me to add anything : <a href="https://github.com/bytecodealliance/wasmtime/issues/1850">https://github.com/bytecodealliance/wasmtime/issues/1850</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/1850" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/1850" title="JIT debugging not activated windows, using unmodified fib_debug example · Issue #1850 · bytecodealliance/wasmtime">JIT debugging not activated windows, using unmodified fib_debug example · Issue #1850 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">What are the steps to reproduce the issue? Build fib_debug, windows or use version here : http://advance-software.com/misc/fib_debug.zip Open using lldb from llvm 10.0 release, windows. Step into t...</div></div></div>



<a name="200295124"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200295124" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200295124">(Jun 09 2020 at 21:46)</a>:</h4>
<p>right time for some zzzzz for me, have fun :)</p>



<a name="200295522"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200295522" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200295522">(Jun 09 2020 at 21:50)</a>:</h4>
<p>whilst you're at it, if fib_debug can run with standard wasm calls instead of wasmtime calls, I think it should. should only use non standard calls when we have to.</p>



<a name="200295575"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200295575" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200295575">(Jun 09 2020 at 21:50)</a>:</h4>
<p>&amp; reminder of the environment variable enabler to remove need for non-standard api altogether.</p>



<a name="200295588"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200295588" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200295588">(Jun 09 2020 at 21:51)</a>:</h4>
<p>though whatever works :)</p>



<a name="200320911"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/200320911" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Steve Williams <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#200320911">(Jun 10 2020 at 05:36)</a>:</h4>
<p>hope going well. let me row back on request to activate debug mode with an environment variable.<br>
reason: that'd be global, but we'll want some scripting under debug control, some running normally. that just occurred.</p>



<a name="201962788"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/201962788" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandru Ene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#201962788">(Jun 25 2020 at 12:38)</a>:</h4>
<p>BTW, i was doing some work on OSX and debugging didn't work. I managed to figure it out why so maybe this can help some people.<br>
The root cause of it is that allowing the Injecting JIT debug information in LLDB has different defaults in windows/osx it would seem.</p>
<p>In the debug console if you run:<br>
<code>settings show plugin.jit-loader.gdb.enable</code> it will say <code>default</code>, but it seems <code>default</code> means different things on different platforms :D. So the fix is quite wasy.</p>
<p>If you're using Code LLDB plugin for vscode, you need to set this option in your <code>settings.json</code>:</p>
<div class="codehilite"><pre><span></span><code>    &quot;lldb.launch.preRunCommands&quot;: [
        &quot;settings set plugin.jit-loader.gdb.enable on&quot;
    ],
</code></pre></div>


<p>Then, after your module is registered, you can type in DEBUG CONSOLE <code>image list</code> and you should have a JIT(0xADDRESS)... in there as the last entry</p>



<a name="201963245"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/201963245" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Jakub Konka <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#201963245">(Jun 25 2020 at 12:42)</a>:</h4>
<p>This is excellent, thanks <span class="user-mention" data-user-id="298375">@Alexandru Ene</span> . I'm wondering, should we add this somewhere in our docs perhaps? It seems like a useful bit of info. <span class="user-mention" data-user-id="234973">@Till Schneidereit</span> what do you think?</p>



<a name="201963320"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/201963320" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandru Ene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#201963320">(Jun 25 2020 at 12:43)</a>:</h4>
<p>We could have a Debugging section and troubleshooting steps in case debugging doesn't work.</p>



<a name="201964630"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/201964630" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alexandru Ene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#201964630">(Jun 25 2020 at 12:55)</a>:</h4>
<p>I can raise a PR with that as I did a bunch of troubleshooting recently around it.</p>



<a name="201964974"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/debugging%20of%20JIT%27ed%20code/near/201964974" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/debugging.20of.20JIT.27ed.20code.html#201964974">(Jun 25 2020 at 12:58)</a>:</h4>
<p>There are also known issues as <a href="https://github.com/bytecodealliance/wasmtime/issues/1896">https://github.com/bytecodealliance/wasmtime/issues/1896</a> or <a href="https://github.com/bytecodealliance/wasmtime/issues/1850">https://github.com/bytecodealliance/wasmtime/issues/1850</a> , I think I'll mark them with <code>wasmtime:debugging</code></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/1896" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/1896" title="Problem with debugging wasm module compiled from C++ · Issue #1896 · bytecodealliance/wasmtime">Problem with debugging wasm module compiled from C++ · Issue #1896 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">Hi, I&#39;m trying to use wasmtime&#39;s debug support. I followed the simple demo from #1613, and it works as expected. But when I try to debug a slightly more complex C++ program, there&#39;s som...</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/issues/1850" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/issues/1850" title="JIT debugging not activated windows, using unmodified fib_debug example · Issue #1850 · bytecodealliance/wasmtime">JIT debugging not activated windows, using unmodified fib_debug example · Issue #1850 · bytecodealliance/wasmtime</a></div><div class="message_embed_description">What are the steps to reproduce the issue? Build fib_debug, windows or use version here : http://advance-software.com/misc/fib_debug.zip Open using lldb from llvm 10.0 release, windows. Step into t...</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>