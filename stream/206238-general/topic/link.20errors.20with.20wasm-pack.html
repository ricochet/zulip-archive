<html>
<head><meta charset="utf-8"><title>link errors with wasm-pack · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/link.20errors.20with.20wasm-pack.html">link errors with wasm-pack</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="281430741"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/link%20errors%20with%20wasm-pack/near/281430741" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/link.20errors.20with.20wasm-pack.html#281430741">(May 06 2022 at 12:27)</a>:</h4>
<p>Hey <span class="user-mention" data-user-id="253994">@Alex Crichton</span> or <span class="user-mention" data-user-id="253990">@fitzgen (he/him)</span> or others :)</p>
<p>I'm trying to get dada to build on mac and I get this error</p>
<div class="codehilite" data-code-language="Bash"><pre><span></span><code>error: failed to build archive: section too large

The following warnings were emitted during compilation:

warning: warning: /Library/Developer/CommandLineTools/usr/bin/ranlib: archive library: /Users/nikomat/versioned/dada/target/wasm32-unknown-unknown/debug/build/psm-caa62c7e694abb40/out/libpsm_s.a the table of contents is empty <span class="o">(</span>no object file members <span class="k">in</span> the library define global symbols<span class="o">)</span>

error: could not compile <span class="sb">`</span>psm<span class="sb">`</span> due to previous error
</code></pre></div>
<p>I didn't find any issues on the wasm-pack repo talking about "section too large" -- any tips for how to track that down?</p>
<p>This builds successfully on linux.</p>



<a name="281430993"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/link%20errors%20with%20wasm-pack/near/281430993" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> nikomatsakis <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/link.20errors.20with.20wasm-pack.html#281430993">(May 06 2022 at 12:30)</a>:</h4>
<p>Context: <a href="https://github.com/dada-lang/dada/pull/170">https://github.com/dada-lang/dada/pull/170</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/dada-lang/dada/pull/170" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/8f301d62dfed1004b99e2e7011fab7791e679f6d\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f383836643065626336323465323630666635343761306532323631633466346536356666636632666230363137366130633837306164363339636661353863622f646164612d6c616e672f646164612f70756c6c2f313730)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/dada-lang/dada/pull/170" title="get `cargo xtask deploy` working on mac/windows by nikomatsakis · Pull Request #170 · dada-lang/dada">get `cargo xtask deploy` working on mac/windows by nikomatsakis · Pull Request #170 · dada-lang/dada</a></div><div class="message_embed_description">The current cargo xtask deploy script assumes linux. I'm trying to get it to run on mac (and hopefully windows). Not there yet.</div></div></div>



<a name="281443258"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/link%20errors%20with%20wasm-pack/near/281443258" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/link.20errors.20with.20wasm-pack.html#281443258">(May 06 2022 at 14:07)</a>:</h4>
<p>I think the psm crate has a precompiled binary with it that was valid awhile back but may no longer be valid. You may want to validate psm works on wasm still first</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>