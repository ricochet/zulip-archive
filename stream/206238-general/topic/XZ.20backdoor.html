<html>
<head><meta charset="utf-8"><title>XZ backdoor · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html">XZ backdoor</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="430628898"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/XZ%20backdoor/near/430628898" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html#430628898">(Apr 01 2024 at 16:57)</a>:</h4>
<p>In case you have managed to avoid tech news for a couple of days, this is important: <a href="https://tukaani.org/xz-backdoor/">https://tukaani.org/xz-backdoor/</a><br>
From one of the linked resources:</p>
<blockquote>
<p>TL:DR:</p>
<div class="codehilite"><pre><span></span><code>Using a .deb or .rpm based distro with glibc and xz-5.6.0 or xz-5.6.1:
    Using systemd on publicly accessible ssh: update RIGHT NOW NOW NOW
    Otherwise: update RIGHT NOW NOW but prioritize the former
Using another type of distribution:
    With glibc and xz-5.6.0 or xz-5.6.1: update RIGHT NOW, but prioritize the above.
</code></pre></div>

</blockquote>



<a name="430629079"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/XZ%20backdoor/near/430629079" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Lann Martin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html#430629079">(Apr 01 2024 at 16:58)</a>:</h4>
<p>More relevant to this chat, it is a great example of the hazards of shared-everything linking <span aria-label="smile" class="emoji emoji-1f642" role="img" title="smile">:smile:</span></p>



<a name="430629395"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/XZ%20backdoor/near/430629395" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Chris Fallin <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html#430629395">(Apr 01 2024 at 17:00)</a>:</h4>
<p>and late-binding overly-configurable resolution -- IIRC the exploit uses weird features of <a href="http://ld.so">ld.so</a> (audit hook? overriding symbols?) to hook into the auth path</p>



<a name="430630437"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/XZ%20backdoor/near/430630437" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html#430630437">(Apr 01 2024 at 17:06)</a>:</h4>
<p>and allowing binaries in the repo, even test binaries</p>



<a name="430631485"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/XZ%20backdoor/near/430631485" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html#430631485">(Apr 01 2024 at 17:13)</a>:</h4>
<p>i think it uses IFUNCs</p>



<a name="430631657"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/XZ%20backdoor/near/430631657" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html#430631657">(Apr 01 2024 at 17:14)</a>:</h4>
<p>it's really a fascinating journey; a microsoft employee that works on postgres noticed a slightly (in terms of wall clock) slower than normal auth in his sshd and decided to perf it rather than shrug, and here we are</p>



<a name="430631776"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/XZ%20backdoor/near/430631776" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html#430631776">(Apr 01 2024 at 17:15)</a>:</h4>
<p>and luckily done before it hit stable channels in distros</p>



<a name="430631945"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/XZ%20backdoor/near/430631945" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html#430631945">(Apr 01 2024 at 17:17)</a>:</h4>
<p>seemingly years of work by this attacker undone by a dev that said "huh, no symbol for this function in the hot path; i should look into that"</p>



<a name="430632739"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/XZ%20backdoor/near/430632739" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html#430632739">(Apr 01 2024 at 17:22)</a>:</h4>
<p>makes one wonder just how frequently we haven't been so lucky</p>



<a name="430634206"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/XZ%20backdoor/near/430634206" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Peter Huene <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html#430634206">(Apr 01 2024 at 17:32)</a>:</h4>
<p>also, the attacker was quite sophisticated; i saw one of <a href="https://git.tukaani.org/?p=xz.git;a=commit;h=328c52da8a2bbb81307644efdb58db2c422d9ba7">his commits</a> that was related to "fixing" a check for sandboxing support in xz, which from the commit message and the changes itself seemed entirely plausible, but the test program contained a period in a very hard to spot location which would have caused a failure to compile, disabling the use of the API</p>



<a name="430634268"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/XZ%20backdoor/near/430634268" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Frank Rehwinkel <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html#430634268">(Apr 01 2024 at 17:32)</a>:</h4>
<p>The best summary I have found is in this blog that will perhaps be kept updated for a while:</p>
<p><a href="https://boehs.org/node/everything-i-know-about-the-xz-backdoor">https://boehs.org/node/everything-i-know-about-the-xz-backdoor</a></p>
<p>And the original xz's author's status page, where he says he'll provide updates in the next week:</p>
<p><a href="https://tukaani.org/xz-backdoor/">https://tukaani.org/xz-backdoor/</a></p>
<p>Yes, the IT community around the world is lucky a Microsoft employee, frequent PostgreSQL contributor, wondered why his ssh was taking a half second to authenticate and he knew how to dig in to figure it out.</p>
<p>And will make one wonder any time a new account is created that immediately starts complaining about things.</p>



<a name="430943600"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/XZ%20backdoor/near/430943600" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Thomas Trenner <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/XZ.20backdoor.html#430943600">(Apr 03 2024 at 08:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="253989">Peter Huene</span> <a href="#narrow/stream/206238-general/topic/XZ.20backdoor/near/430631657">schrieb</a>:</p>
<blockquote>
<p>it's really a fascinating journey; a microsoft employee that works on postgres noticed a slightly (in terms of wall clock) slower than normal auth in his sshd and decided to perf it rather than shrug, and here we are</p>
</blockquote>
<p>It is also an example that it might be good of having micro benchmarks.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>