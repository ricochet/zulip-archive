<html>
<head><meta charset="utf-8"><title>The determinism of the shared memory and sock/http. · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/The.20determinism.20of.20the.20shared.20memory.20and.20sock.2Fhttp.2E.html">The determinism of the shared memory and sock/http.</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="346898507"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/The%20determinism%20of%20the%20shared%20memory%20and%20sock/http./near/346898507" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Hongyu Li <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/The.20determinism.20of.20the.20shared.20memory.20and.20sock.2Fhttp.2E.html#346898507">(Apr 04 2023 at 15:46)</a>:</h4>
<p>Hi! There are some situations where Nondeterminism will be brought up and they are discussed in this <a href="https://github.com/WebAssembly/WASI/issues/190">issue</a> and the public <a href="https://github.com/WebAssembly/design/blob/main/Nondeterminism.md">documents</a>. I'm curious about two situations:</p>
<ul>
<li>Wasmtime now supports the shared memory feature brought from the thread proposal. The wasm module can not be sure what the host does to the guest's memory.</li>
<li>The <code>sock_send</code> and <code>sock_recv</code>interfaces are also bring Nondeterminism. The communication can be non-deterministic in time, and results. </li>
</ul>
<p>I wonder whether these situations are allowed to be non-deterministic due to the <code>nondeterminism is essential to the API</code> reason or if there is still some possibility to restrict the non-deterministic in these APIs. Thanks for your help!</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/WASI/issues/190" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/a2c8adf1c520967c55a15e83723423f822090366\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f386563666433656335393266663365623966343632636538303833323865343737346232363262653263336466393134623833663265666262626434643930392f576562417373656d626c792f574153492f6973737565732f313930)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/WASI/issues/190" title="Roadmap to determinism in WASI · Issue #190 · WebAssembly/WASI">Roadmap to determinism in WASI · Issue #190 · WebAssembly/WASI</a></div><div class="message_embed_description">The discussion about enforcing (ensuring?) determinism in WASI has already been started and touched upon in a couple of issues here and there (#185, #118, bytecodealliance/wasmtime#748, if I missed...</div></div></div><div class="message_embed"><a class="message_embed_image" href="https://github.com/WebAssembly/design/blob/main/Nondeterminism.md" style="background-image: url(https\:\/\/uploads\.zulipusercontent\.net\/297ae97a0a54951847daa6e9d7f39e681ac70b96\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f363033343137656662323966306438356130346265623639333235623361376434366533356264396264376538346335303762663664363333616235396461342f576562417373656d626c792f64657369676e)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/WebAssembly/design/blob/main/Nondeterminism.md" title="design/Nondeterminism.md at main · WebAssembly/design">design/Nondeterminism.md at main · WebAssembly/design</a></div><div class="message_embed_description">WebAssembly Design Documents. Contribute to WebAssembly/design development by creating an account on GitHub.</div></div></div>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>