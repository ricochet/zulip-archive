<html>
<head><meta charset="utf-8"><title>function names · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html">function names</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="189683257"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189683257" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joey Gouly <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189683257">(Mar 04 2020 at 11:47)</a>:</h4>
<p>I compiled a rust program <code>cargo build --target wasm32-wasi</code>, I guess that exported functions can be mapped back to rust ones, but is there a way to map non-exported ones? (This is so I can find the rust code that generates some big wasm/clif)</p>



<a name="189698239"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189698239" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189698239">(Mar 04 2020 at 14:52)</a>:</h4>
<p><span class="user-mention" data-user-id="265780">@Joey Gouly</span> you mean like exploring a wasm module via the wasmtime API, or just figuring info about the wasm itself?</p>



<a name="189698419"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189698419" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joey Gouly <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189698419">(Mar 04 2020 at 14:54)</a>:</h4>
<p><span class="user-mention" data-user-id="253994">@Alex Crichton</span> the latter. I found a function that takes a long time to compile, and want to figure out the rust code it came from</p>



<a name="189698512"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189698512" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189698512">(Mar 04 2020 at 14:55)</a>:</h4>
<p>hm wanna gist the wasm module?</p>



<a name="189698522"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189698522" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189698522">(Mar 04 2020 at 14:55)</a>:</h4>
<p>and/or do you have the rust source to poke around?</p>



<a name="189698546"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189698546" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189698546">(Mar 04 2020 at 14:55)</a>:</h4>
<p>oh one other thing you may be able to do is to use llvm-dwarfdump somehow</p>



<a name="189698604"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189698604" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189698604">(Mar 04 2020 at 14:56)</a>:</h4>
<p>I know nothing about dwarfdump but there's presumably filename/location information in there somewhere</p>



<a name="189698609"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189698609" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189698609">(Mar 04 2020 at 14:56)</a>:</h4>
<p>esp for a debug build</p>



<a name="189698748"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189698748" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joey Gouly <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189698748">(Mar 04 2020 at 14:57)</a>:</h4>
<p>I guess the problem with a debug build is that it might not match up to the release one</p>



<a name="189698819"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189698819" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joey Gouly <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189698819">(Mar 04 2020 at 14:58)</a>:</h4>
<p>but rust has debug info by default, so I'll give it a try</p>



<a name="189698847"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189698847" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189698847">(Mar 04 2020 at 14:58)</a>:</h4>
<p>release builds can still have DWARF info</p>



<a name="189698962"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189698962" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189698962">(Mar 04 2020 at 14:59)</a>:</h4>
<p>name section normally contains rust names for every function</p>



<a name="189699176"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189699176" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joey Gouly <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189699176">(Mar 04 2020 at 15:01)</a>:</h4>
<p>Oh, and I guess wasm2wat uses that? I just tried wasm2wat and see the names</p>



<a name="189699559"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189699559" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189699559">(Mar 04 2020 at 15:05)</a>:</h4>
<p><span class="user-mention" data-user-id="265780">@Joey Gouly</span> cranelift has ability to read name section -- maybe there is a way to plug that into clif or just instrument code in some other way</p>



<a name="189699725"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189699725" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joey Gouly <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189699725">(Mar 04 2020 at 15:07)</a>:</h4>
<p><span class="user-mention" data-user-id="253991">@Yury Delendik</span> in <code>cranelift/src/wasm.rs</code> line ~175, would be a good place to print it. have you got some pointers on how to do that?</p>



<a name="189700316"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189700316" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yury Delendik <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189700316">(Mar 04 2020 at 15:12)</a>:</h4>
<p><span class="user-mention" data-user-id="265780">@Joey Gouly</span> is <code>DummyEnvironment</code> used by that? it needs to implement <code>declare_func_name</code> <a href="https://github.com/bytecodealliance/wasmtime/blob/8597930eed2e5e92c78ec4cb6d6b39d80c5ea220/cranelift/wasm/src/sections_translator.rs#L429" target="_blank" title="https://github.com/bytecodealliance/wasmtime/blob/8597930eed2e5e92c78ec4cb6d6b39d80c5ea220/cranelift/wasm/src/sections_translator.rs#L429">https://github.com/bytecodealliance/wasmtime/blob/8597930eed2e5e92c78ec4cb6d6b39d80c5ea220/cranelift/wasm/src/sections_translator.rs#L429</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/wasmtime/blob/8597930eed2e5e92c78ec4cb6d6b39d80c5ea220/cranelift/wasm/src/sections_translator.rs#L429" style="background-image: url(https://avatars0.githubusercontent.com/u/54038801?s=400&amp;v=4)" target="_blank"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/wasmtime/blob/8597930eed2e5e92c78ec4cb6d6b39d80c5ea220/cranelift/wasm/src/sections_translator.rs#L429" target="_blank" title="bytecodealliance/wasmtime">bytecodealliance/wasmtime</a></div><div class="message_embed_description">Standalone JIT-style runtime for WebAssembly, using Cranelift - bytecodealliance/wasmtime</div></div></div>



<a name="189700559"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/function%20names/near/189700559" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Joey Gouly <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/function.20names.html#189700559">(Mar 04 2020 at 15:14)</a>:</h4>
<p>thanks, it does implement that! I'll try print from that then</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>