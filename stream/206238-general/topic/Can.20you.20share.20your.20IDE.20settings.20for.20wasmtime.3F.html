<html>
<head><meta charset="utf-8"><title>Can you share your IDE settings for wasmtime? · general · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/index.html">general</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Can.20you.20share.20your.20IDE.20settings.20for.20wasmtime.3F.html">Can you share your IDE settings for wasmtime?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="310753458"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Can%20you%20share%20your%20IDE%20settings%20for%20wasmtime%3F/near/310753458" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fuu <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Can.20you.20share.20your.20IDE.20settings.20for.20wasmtime.3F.html#310753458">(Nov 18 2022 at 05:50)</a>:</h4>
<p>I'd appreciate if someone could share their IDE settings, namely files in <code>.vscode/</code> directory. I'm now in trouble with telling rust-analyzer that <code>cfg(compiler)</code> should be enabled.</p>



<a name="310757152"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Can%20you%20share%20your%20IDE%20settings%20for%20wasmtime%3F/near/310757152" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Fuu <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Can.20you.20share.20your.20IDE.20settings.20for.20wasmtime.3F.html#310757152">(Nov 18 2022 at 06:34)</a>:</h4>
<p>My temporary workaround is to modify the file <code>crates/wasmtime/build.rs</code>, moving</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="fm">println!</span><span class="p">(</span><span class="s">"cargo:rustc-cfg=compiler"</span><span class="p">);</span><span class="w"></span>
</code></pre></div>
<p>outside of the <code>if cfg!(feature = "cranelift") { ... }</code> block.</p>



<a name="310826572"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Can%20you%20share%20your%20IDE%20settings%20for%20wasmtime%3F/near/310826572" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Can.20you.20share.20your.20IDE.20settings.20for.20wasmtime.3F.html#310826572">(Nov 18 2022 at 13:52)</a>:</h4>
<p>You can set the <code>rust-analyzer.cargo.features</code> config to include "cranelift" (or "wasmtime/cranelift", not sure which one works)</p>



<a name="310950375"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/206238-general/topic/Can%20you%20share%20your%20IDE%20settings%20for%20wasmtime%3F/near/310950375" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Nam Junghyun <a href="https://bytecodealliance.github.io/zulip-archive/stream/206238-general/topic/Can.20you.20share.20your.20IDE.20settings.20for.20wasmtime.3F.html#310950375">(Nov 19 2022 at 01:00)</a>:</h4>
<p>Not to hijack this topic but seems related, have anyone experiencing rust-analyzer not showing errors of wasmtime-cli or wasmtime? It seems like the <code>add_to_linker</code> methods generated by <code>define_wasi!</code> macro is not recognized by RA correctly.<br>
I was seeking for a workaround long time but nothing worked well.</p>
<p>FYI I painted unresolved references into <code>#ff0000</code> to better see what is going wrong:</p>
<div class="codehilite" data-code-language="Rust"><pre><span></span><code><span class="w">  </span><span class="s">"editor.semanticTokenColorCustomizations"</span>: <span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="s">"rules"</span>: <span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="s">"unresolvedReference"</span>: <span class="s">"#ff0000"</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">  </span><span class="p">}</span><span class="w"></span>
</code></pre></div>
<p><a href="/user_uploads/15107/J-EaRfaJUZDUr0By8-oA6MDB/image.png">image.png</a> </p>
<div class="message_inline_image"><a href="/user_uploads/15107/J-EaRfaJUZDUr0By8-oA6MDB/image.png" title="image.png"><img src="/user_uploads/15107/J-EaRfaJUZDUr0By8-oA6MDB/image.png"></a></div><p>Anyway, <span class="user-mention" data-user-id="264278">@bjorn3</span> 's suggestion, <code>"wasmtime/cranelift"</code>, seems working well. Thanks.</p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>