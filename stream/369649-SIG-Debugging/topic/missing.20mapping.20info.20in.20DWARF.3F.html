<html>
<head><meta charset="utf-8"><title>missing mapping info in DWARF? · SIG-Debugging · Zulip Chat Archive</title></head>
<h2>Stream: <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/index.html">SIG-Debugging</a></h2>
<h3>Topic: <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html">missing mapping info in DWARF?</a></h3>

<hr>

<base href="https://bytecodealliance.zulipchat.com">

<head><link href="https://bytecodealliance.github.io/zulip-archive/style.css" rel="stylesheet"></head>

<a name="438342964"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438342964" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438342964">(May 13 2024 at 11:58)</a>:</h4>
<p>Heya! - I was chatting with the author of Wasmphobia (<span class="user-mention" data-user-id="587520">@Surma</span>) about adding Component support to their <code>wasmphobia</code> project (wasm binary -&gt; code size flame graph tool), and we noticed that several sections don't seem to carry any DWARF information.</p>



<a name="438343091"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438343091" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438343091">(May 13 2024 at 11:59)</a>:</h4>
<p>Some of that is expected and can probably be resolved - but maybe 1/3 of the <code>@section: code</code> seems to not have any information, and that doesn't seem right?</p>
<p><a href="/user_uploads/15107/q6xKRCXnsfhdxvL8MRVPOI26/image.png">image.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/15107/q6xKRCXnsfhdxvL8MRVPOI26/image.png" title="image.png"><img src="/user_uploads/15107/q6xKRCXnsfhdxvL8MRVPOI26/image.png"></a></div>



<a name="438343155"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438343155" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438343155">(May 13 2024 at 11:59)</a>:</h4>
<p>Surma specifically <a href="https://github.com/surma/wasmphobia/issues/2#issuecomment-2106323586">asked the following</a>:</p>
<blockquote>
<p>I was under the impression that — even in the component model — all code from all modules would be in the <code>code</code> section. So I’d expect that DWARF debugging data would provide correct attributions. Am I wrong?</p>
</blockquote>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/surma/wasmphobia/issues/2#issuecomment-2106323586" style="background-image: url(&quot;https://uploads.zulipusercontent.net/92ac256c99d1a4b3b1519c3fce79802644139a28/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f366263363836353566363039306562366637346632326164373564383134653564383033643834363365393761383065306537616265643438376266386236312f7375726d612f7761736d70686f6269612f6973737565732f32&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/surma/wasmphobia/issues/2#issuecomment-2106323586" title="Wasm Component support? · Issue #2 · surma/wasmphobia">Wasm Component support? · Issue #2 · surma/wasmphobia</a></div><div class="message_embed_description">Heya! I was trying to upload some of my WASI 0.2 experiments, and I'm getting the following error: Could not create flamegraph: Error: Unsupported Wasm encoding I assume this has something to do wi...</div></div></div>



<a name="438343891"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438343891" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438343891">(May 13 2024 at 12:02)</a>:</h4>
<p>I don't know whether this is expected, a limitation of Wasm Components, of our current tooling, or perhaps a bug in wasmphobia. I figured this would be the right place to ask people who are more clued in than I am. Any help here would be appreciated!</p>



<a name="438344400"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438344400" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438344400">(May 13 2024 at 12:05)</a>:</h4>
<p>wasm-tools (or the language equivalent) doesn't inject the dwarf properly yet.</p>



<a name="438344643"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438344643" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438344643">(May 13 2024 at 12:06)</a>:</h4>
<p>I had been chatting with <span class="user-mention" data-user-id="234973">@Till Schneidereit</span> about this at wasmio and <span class="user-mention" data-user-id="253990">@fitzgen (he/him)</span> prior to wasmio, and we had a few steps that we need to take.</p>



<a name="438344724"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438344724" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438344724">(May 13 2024 at 12:06)</a>:</h4>
<p>among them that llvm-dwarfdump doesn't understand the component file format yet, for example.</p>



<a name="438344741"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438344741" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438344741">(May 13 2024 at 12:06)</a>:</h4>
<p>ahhh, ok! thank you!</p>



<a name="438344820"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438344820" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438344820">(May 13 2024 at 12:07)</a>:</h4>
<p>So I thought <a href="https://github.com/rustwasm/wasm-bindgen/issues/2389">https://github.com/rustwasm/wasm-bindgen/issues/2389</a> was the issue tracking that, and since it had been closed all known issues had been resolved</p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/rustwasm/wasm-bindgen/issues/2389" style="background-image: url(&quot;https://uploads.zulipusercontent.net/62d6a13648b1b843ae58a5de5d41941471fbba04/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f333039623961626637643038326430393665613230326163346535373533343738366534356464636530646661623235326265353239623239356661663361352f727573747761736d2f7761736d2d62696e6467656e2f6973737565732f32333839&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/rustwasm/wasm-bindgen/issues/2389" title="Support DWARF in wasm-bindgen · Issue #2389 · rustwasm/wasm-bindgen">Support DWARF in wasm-bindgen · Issue #2389 · rustwasm/wasm-bindgen</a></div><div class="message_embed_description">Motivation Chrome, Firefox and now also Sentry support DWARF for WebAssembly as debug format. In particularly for crash reporting systems like Sentry DWARF is a very important tool to create accura...</div></div></div>



<a name="438344838"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438344838" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438344838">(May 13 2024 at 12:07)</a>:</h4>
<p>I didn't realized there was outstanding work here</p>



<a name="438344918"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438344918" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438344918">(May 13 2024 at 12:08)</a>:</h4>
<p>Are there any open issues about this I could link to?</p>



<a name="438345074"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438345074" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438345074">(May 13 2024 at 12:08)</a>:</h4>
<p>wasm-bindgen works FINE</p>



<a name="438345223"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438345223" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438345223">(May 13 2024 at 12:09)</a>:</h4>
<p>wasi 1.0 (which is just wasm core with structure!) works <em>fine</em> with mild exceptions like not enough type information because the wasm compilers are trying to optimize out code steps.</p>



<a name="438345422"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438345422" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438345422">(May 13 2024 at 12:10)</a>:</h4>
<p>I was able to get components to retain dwarf info, but I couldn't find a debugger to pick it up at all, so I'm entirely unsurprised here</p>



<a name="438345753"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438345753" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438345753">(May 13 2024 at 12:12)</a>:</h4>
<p>it had been my intention to work with Nick to figure out which steps hit the biggest bang for the buck here, or whether we might parallelize our work. His presentation on work needed was here: <a href="https://github.com/bytecodealliance/rfcs/pull/34">https://github.com/bytecodealliance/rfcs/pull/34</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://github.com/bytecodealliance/rfcs/pull/34" style="background-image: url(&quot;https://uploads.zulipusercontent.net/8f8e67330d5807a95297394e384ebfcc278ed0df/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f303030303466346637363435636461333561646637353536373066306661363238636433376139356536643232306161656238396338643134333862363362332f62797465636f6465616c6c69616e63652f726663732f70756c6c2f3334&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://github.com/bytecodealliance/rfcs/pull/34" title="Debugging support in Wasmtime by elliottt · Pull Request #34 · bytecodealliance/rfcs">Debugging support in Wasmtime by elliottt · Pull Request #34 · bytecodealliance/rfcs</a></div><div class="message_embed_description">Implement guest debugging capabilities in Wasmtime and integrate those abilities with surrounding debugging toolchains.

Rendered
Co-authored-by: Nick Fitzgerald - @fitzgen
Co-authored-by: Rainy Si...</div></div></div>



<a name="438345930"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438345930" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438345930">(May 13 2024 at 12:12)</a>:</h4>
<p>So if you wanna have fun, and I know you do, try using a wasi preview 1 module with dwarf in wasmphobia and I would expect it to work!!!</p>



<a name="438345954"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438345954" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438345954">(May 13 2024 at 12:12)</a>:</h4>
<p>but components, <em>NOPE</em>, not yet</p>



<a name="438346079"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346079" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346079">(May 13 2024 at 12:13)</a>:</h4>
<p>ok ok ok, so what I'm hearing is that this is an LLVM / Rust Toolchain issue more than anything else?</p>



<a name="438346091"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346091" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346091">(May 13 2024 at 12:13)</a>:</h4>
<p>BTW, using flamegraphs with dwarf info <em>would be the BOMB</em> and I'll help doing anything to make that begin working</p>



<a name="438346189"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346189" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346189">(May 13 2024 at 12:14)</a>:</h4>
<p><span class="user-mention" data-user-id="268586">@Ralph</span> fwiw <code>wasmphobia</code> already supports components now! - this is just about making that better</p>



<a name="438346241"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346241" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346241">(May 13 2024 at 12:14)</a>:</h4>
<p>filling out the final missing sections</p>



<a name="438346258"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346258" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346258">(May 13 2024 at 12:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="344849">Yoshua Wuyts</span> <a href="#narrow/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F/near/438346079">said</a>:</p>
<blockquote>
<p>ok ok ok, so what I'm hearing is that this is an LLVM / Rust Toolchain issue more than anything else?</p>
</blockquote>
<p>for the original dwarf insertion, but ALSO the compilation step needs to be able to NOT optimize away tons of code</p>



<a name="438346284"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346284" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346284">(May 13 2024 at 12:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="344849">Yoshua Wuyts</span> <a href="#narrow/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F/near/438346189">said</a>:</p>
<blockquote>
<p><span class="user-mention silent" data-user-id="268586">Ralph</span> fwiw <code>wasmphobia</code> already supports components now! - this is just about making that better</p>
</blockquote>
<p>WAIT WUT</p>



<a name="438346320"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346320" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346320">(May 13 2024 at 12:14)</a>:</h4>
<p>WAIT WUT</p>



<a name="438346321"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346321" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346321">(May 13 2024 at 12:14)</a>:</h4>
<p><span class="user-mention silent" data-user-id="344849">Yoshua Wuyts</span> <a href="#narrow/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F/near/438343091">said</a>:</p>
<blockquote>
<p>Some of that is expected and can probably be resolved - but maybe 1/3 of the <code>@section: code</code> seems to not have any information, and that doesn't seem right?</p>
<p><a href="/user_uploads/15107/q6xKRCXnsfhdxvL8MRVPOI26/image.png">image.png</a></p>
</blockquote>
<p>hehehe yeah this right here</p>



<a name="438346371"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346371" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346371">(May 13 2024 at 12:15)</a>:</h4>
<p>this is my <code>wasm-http-tools</code> concurrent HTTP client example</p>



<a name="438346399"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346399" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346399">(May 13 2024 at 12:15)</a>:</h4>
<p>surma got it working yesterday</p>



<a name="438346405"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346405" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346405">(May 13 2024 at 12:15)</a>:</h4>
<p>that is EITHER an insertion bug OR a wasmtools bug/compile opt</p>



<a name="438346478"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346478" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346478">(May 13 2024 at 12:15)</a>:</h4>
<p><span class="user-mention silent" data-user-id="344849">Yoshua Wuyts</span> <a href="#narrow/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F/near/438346399">said</a>:</p>
<blockquote>
<p>surma got it working yesterday</p>
</blockquote>
<p>who is this Surma person and how do we get them more donuts?</p>



<a name="438346538"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346538" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346538">(May 13 2024 at 12:15)</a>:</h4>
<p>Does Surma have a gofundme for donuts?</p>



<a name="438346599"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346599" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346599">(May 13 2024 at 12:16)</a>:</h4>
<p>_gets out wallet_</p>



<a name="438346809"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438346809" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Yoshua Wuyts <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438346809">(May 13 2024 at 12:17)</a>:</h4>
<p>haha, yeah Surma is great</p>



<a name="438382281"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438382281" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Alex Crichton <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438382281">(May 13 2024 at 14:51)</a>:</h4>
<p>Reading over the  component support I think that there may need to be a bit more refactoring to support components. Right now it's slurping all dwarf sections into one object when each core wasm module will need to be treated separately. I'm not sure if that'd explain the current thing you're seeing though, it depends on the size of the component. Additionally though there's going to be multiple code sections within a component so it'd be good to confirm that the dwarf info is relative to the right code section start.</p>
<p>Additionally though I see that the "component-type" custom section is in the component that has a flame graph, but that should be stripped out by wit-component when a component is created, so that's also suspect (but perhaps just a bug in wit-component?)</p>



<a name="438386991"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/438386991" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#438386991">(May 13 2024 at 15:11)</a>:</h4>
<p>right. So some sorting out of these things is necessary.</p>



<a name="463451529"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/463451529" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#463451529">(Aug 19 2024 at 16:30)</a>:</h4>
<p>following up! finally. <a href="https://hachyderm.io/deck/tags/webassembly">https://hachyderm.io/deck/tags/webassembly</a> shows that you can do this now with a component using <code>wasmtime serve</code> in v23.1</p>
<div class="message_embed"><a class="message_embed_image" href="https://hachyderm.io/deck/tags/webassembly" style="background-image: url(&quot;https://uploads.zulipusercontent.net/69793086d6a97110e27220b1a9c988a71f3cdfc0/68747470733a2f2f6d656469612e68616368796465726d2e696f2f736974655f75706c6f6164732f66696c65732f3030302f3030302f3030352f4031782f663162383436393435306363363165322e706e67&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://hachyderm.io/deck/tags/webassembly" title="Hachyderm.io">Hachyderm.io</a></div><div class="message_embed_description">Hachyderm is a safe space, LGBTQIA+ and BLM, primarily comprised of tech industry professionals world wide. Note that many non-user account types have restrictions - please see our About page.</div></div></div>



<a name="463451877"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/463451877" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#463451877">(Aug 19 2024 at 16:31)</a>:</h4>
<p><a href="/user_uploads/15107/55GpDbaho8LPlSHKdpjcpC0N/image-8.png">image-8.png</a></p>
<div class="message_inline_image"><a href="/user_uploads/15107/55GpDbaho8LPlSHKdpjcpC0N/image-8.png" title="image-8.png"><img data-original-dimensions="2650x1597" src="/user_uploads/thumbnail/15107/55GpDbaho8LPlSHKdpjcpC0N/image-8.png/840x560.webp"></a></div>



<a name="463451912"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/463451912" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#463451912">(Aug 19 2024 at 16:31)</a>:</h4>
<p>look at all those handles!!!</p>



<a name="463495179"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/463495179" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> bjorn3 <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#463495179">(Aug 19 2024 at 19:38)</a>:</h4>
<p>You probably meant to link <a href="https://hachyderm.io/@squillace/112989210932769282">https://hachyderm.io/@squillace/112989210932769282</a></p>
<div class="message_embed"><a class="message_embed_image" href="https://hachyderm.io/@squillace/112989210932769282" style="background-image: url(&quot;https://uploads.zulipusercontent.net/ebaf5362fc53977980fb320f009a668d878e91e0/68747470733a2f2f6d656469612e68616368796465726d2e696f2f6d656469615f6174746163686d656e74732f66696c65732f3131322f3938392f3231302f3339362f3631392f3639382f736d616c6c2f333637636162613766663562613231612e706e67&quot;)"></a><div class="data-container"><div class="message_embed_title"><a href="https://hachyderm.io/@squillace/112989210932769282" title="squillace (@squillace@hachyderm.io)">squillace (@squillace@hachyderm.io)</a></div><div class="message_embed_description">Attached: 1 video

Back in March at #wasmio, @anfibiacreativa@mastodon.social and I showed a WIDE array of #webassembly debugging in #vscode: https://www.youtube.com/watch?v=sofGOtwGWu8. 

But, you'll note: the debugger couldn't navigate #webassemblycomponent files. Now it can!</div></div></div>



<a name="463495293"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/463495293" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#463495293">(Aug 19 2024 at 19:39)</a>:</h4>
<p>Dammit</p>



<a name="463495297"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/463495297" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#463495297">(Aug 19 2024 at 19:39)</a>:</h4>
<p>Yes</p>



<a name="463495584"></a>
<h4><a href="https://bytecodealliance.zulipchat.com#narrow/stream/369649-SIG-Debugging/topic/missing%20mapping%20info%20in%20DWARF%3F/near/463495584" class="zl"><img src="https://bytecodealliance.github.io/zulip-archive/assets/img/zulip.svg" alt="view this post on Zulip" style="width:20px;height:20px;"></a> Ralph <a href="https://bytecodealliance.github.io/zulip-archive/stream/369649-SIG-Debugging/topic/missing.20mapping.20info.20in.20DWARF.3F.html#463495584">(Aug 19 2024 at 19:41)</a>:</h4>
<p>Thank you, <span class="user-mention" data-user-id="264278">@bjorn3</span></p>



<hr><p>Last updated: Jan 20 2025 at 06:04 UTC</p>
</html>