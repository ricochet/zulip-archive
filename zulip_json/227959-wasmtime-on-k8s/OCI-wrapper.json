[
    {
        "content": "<p>Hi Team,</p>\n<p>I recently saw the issue on github <a href=\"https://github.com/bytecodealliance/wasmtime/issues/358\">https://github.com/bytecodealliance/wasmtime/issues/358</a> and I am working on a similar ingratiation with crun ( oci-runtime ) which allows container managers to delegate workload to wasmtime as per needs <a href=\"https://github.com/containers/crun/pull/963\">https://github.com/containers/crun/pull/963</a> </p>\n<p>Just sharing it here for feedback. Since it might be time-taking to manually compile and run the PR here is a doc which shows how to run workload on kubernetes: <a href=\"https://github.com/containers/crun/blob/main/docs/wasm-wasi-on-kubernetes.md\">https://github.com/containers/crun/blob/main/docs/wasm-wasi-on-kubernetes.md</a></p>\n<p>PS: This is first time I'm using zulipchat, please correct me if i created thread in a wrong manner :P</p>\n<p>Thanks</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/wasmtime/issues/358\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/c7be1cf0506ae2c313da14107a902eeb7b42705c\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f636432656132626332383964393033666530636138373134653538643336616665353966616566633636313930323332363964373963393537616166323961342f62797465636f6465616c6c69616e63652f7761736d74696d652f6973737565732f333538)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/wasmtime/issues/358\" title=\"OCI-compatible proposal for wrappering wasmtime · Issue #358 · bytecodealliance/wasmtime\">OCI-compatible proposal for wrappering wasmtime · Issue #358 · bytecodealliance/wasmtime</a></div><div class=\"message_embed_description\">Hi all, recently I found an experiment project called containerd-wasm developed by containerd team, and I believe it&#39;s a fantanstic idea to combine container management layer (such like Docker ...</div></div></div><div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/containers/crun/pull/963\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/ec90c519f67f2ba0fe653ec8354258efbe4a1944\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f313435336561356534356266396130616663663739356663363062326237376539316136346634373461366239333666373131623335393163326131653266352f636f6e7461696e6572732f6372756e2f70756c6c2f393633)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/containers/crun/pull/963\" title=\"wasm: add support for running containers using `wasmtime` by flouthoc · Pull Request #963 · containers/crun\">wasm: add support for running containers using `wasmtime` by flouthoc · Pull Request #963 · containers/crun</a></div><div class=\"message_embed_description\">Following PR initiates and adds support for crun to be able to build and\nrun wasm/wasi workload in a native manner using wasmtime.\nCrun already supports running wasm workload using wasmer and wasme...</div></div></div><div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/containers/crun/blob/main/docs/wasm-wasi-on-kubernetes.md\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/e42200a6298ab74135300920608e891908813157\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f663231643739353561373633326261326462636432663932336231343562336537656137383263653732326239636331326234616161333766326163616536662f636f6e7461696e6572732f6372756e)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/containers/crun/blob/main/docs/wasm-wasi-on-kubernetes.md\" title=\"crun/wasm-wasi-on-kubernetes.md at main · containers/crun\">crun/wasm-wasi-on-kubernetes.md at main · containers/crun</a></div><div class=\"message_embed_description\">A fast and lightweight fully featured OCI runtime and C library for running containers - crun/wasm-wasi-on-kubernetes.md at main · containers/crun</div></div></div>",
        "id": 289281199,
        "sender_full_name": "flouthoc",
        "timestamp": 1657604345
    },
    {
        "content": "<p>Hey <span class=\"user-mention\" data-user-id=\"513524\">@flouthoc</span> that's coolio. However it works, integration with k8s is going to be very important (it's the javascript of orchestrators!). We have built a containerd shim, <a href=\"https://github.com/deislabs/runwasi\">https://github.com/deislabs/runwasi</a>, to smooth the integration task -- Krustlet is a great kubelet but it requires a lot of work to achieve production smoothness. I'd love to try your work out!</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/deislabs/runwasi\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/c9814cec69f49431e03ba3486c1af5ffa6f34821\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f336430626266643030333565306138326134346433623064366362613965643462653963616331663666313261306161653964613132643439316330393862322f646569736c6162732f72756e77617369)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/deislabs/runwasi\" title=\"GitHub - deislabs/runwasi\">GitHub - deislabs/runwasi</a></div><div class=\"message_embed_description\">Contribute to deislabs/runwasi development by creating an account on GitHub.</div></div></div>",
        "id": 289382090,
        "sender_full_name": "Ralph",
        "timestamp": 1657658254
    },
    {
        "content": "<p>Hi <span class=\"user-mention\" data-user-id=\"268586\">@Ralph</span> , Thanks a lot for sharing this :) . Can't wait to try out <code>deislabs/runwasi</code>, <code>crun</code> as of now works directly with most of the existing CRI setups with minimal config change here is example with <code>containerd</code>: <a href=\"https://github.com/containers/crun/blob/main/docs/wasm-wasi-on-kubernetes.md#containerd\">https://github.com/containers/crun/blob/main/docs/wasm-wasi-on-kubernetes.md#containerd</a> in <code>crun</code> since workload delegation happens at the lowest level so users only need to change the OCI runtime and other parts like <code>kubelet</code> and <code>CRI</code> setup can remain same. I'll play around with <code>deislabs/runwasi</code> so that i can write a small summary of comparing both of them.</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/containers/crun/blob/main/docs/wasm-wasi-on-kubernetes.md#containerd\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/770323fbe91384e3881e7a71395d6a1c64e02314\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f363937396361636263303236343137323834666332313563653666363032633831633638396162383962303139613166613839326666303036313935656436662f636f6e7461696e6572732f6372756e)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/containers/crun/blob/main/docs/wasm-wasi-on-kubernetes.md#containerd\" title=\"crun/wasm-wasi-on-kubernetes.md at main · containers/crun\">crun/wasm-wasi-on-kubernetes.md at main · containers/crun</a></div><div class=\"message_embed_description\">A fast and lightweight fully featured OCI runtime and C library for running containers - crun/wasm-wasi-on-kubernetes.md at main · containers/crun</div></div></div>",
        "id": 289443677,
        "sender_full_name": "flouthoc",
        "timestamp": 1657711269
    },
    {
        "content": "<p>Sounds good! I'll have a look at the user and ops differences as well</p>",
        "id": 289445934,
        "sender_full_name": "Ralph",
        "timestamp": 1657712684
    },
    {
        "content": "<p>Finally wrote a small blog post on this integration which i was working on: <a href=\"https://opensource.com/article/22/10/wasm-containers\">https://opensource.com/article/22/10/wasm-containers</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://opensource.com/article/22/10/wasm-containers\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/1b6a8612027d4c1ec1e6116c41bbb5ca87557da5\\/68747470733a2f2f6f70656e736f757263652e636f6d2f73697465732f64656661756c742f66696c65732f6c6561642d696d616765732f6b756265726e657465735f636f6e7461696e6572735f736869705f6c6561642e706e67)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://opensource.com/article/22/10/wasm-containers\" title=\"Use OCI containers to run WebAssembly workloads\">Use OCI containers to run WebAssembly workloads</a></div><div class=\"message_embed_description\">Run Wasm/WASI workloads natively on Podman and Kubernetes using crun.</div></div></div>",
        "id": 302579709,
        "sender_full_name": "flouthoc",
        "timestamp": 1665028649
    },
    {
        "content": "<p>this is great stuff! nicely done. we're taking the containerd shim route, using Spin and slight (the host in the spidermonkey project). We'll be demonstrating that at our booth at KubeCon in a couple of weeks. I think all these ways of using k8s here are going to be incredibly useful to people.</p>",
        "id": 302882770,
        "sender_full_name": "Ralph",
        "timestamp": 1665157944
    },
    {
        "content": "<p>the JavaScript of Orchestrators is a great tool; it's containers that holds it back. :-)</p>",
        "id": 302884982,
        "sender_full_name": "Ralph",
        "timestamp": 1665158562
    },
    {
        "content": "<p>or docker containers, to be specific.....</p>",
        "id": 302885011,
        "sender_full_name": "Ralph",
        "timestamp": 1665158570
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"268586\">Ralph</span> <a href=\"#narrow/stream/227959-wasmtime-on-k8s/topic/OCI-wrapper/near/302882770\">said</a>:</p>\n<blockquote>\n<p>this is great stuff! nicely done. we're taking the containerd shim route, using Spin and slight (the host in the spidermonkey project). We'll be demonstrating that at our booth at KubeCon in a couple of weeks. I think all these ways of using k8s here are going to be incredibly useful to people.</p>\n</blockquote>\n<p><span class=\"user-mention\" data-user-id=\"268586\">@Ralph</span>  oh no I'm not attending kubecon but I want to see the demo, is it going to be recorded.</p>",
        "id": 303097414,
        "sender_full_name": "flouthoc",
        "timestamp": 1665297927
    },
    {
        "content": "<p>Oh, there should be a few videos I'll post over the next month. I'm doing a NYC k8s meetup this week and a more elaborate presentation at KubeCon, and afterward. For sure!</p>",
        "id": 303177073,
        "sender_full_name": "Ralph",
        "timestamp": 1665355305
    },
    {
        "content": "<p>ok, sorry for the delay <span class=\"user-mention\" data-user-id=\"513524\">@flouthoc</span>. Here's my hour-long meandering K8s meetup talk in NYC prior to KubeCon. <a href=\"https://www.youtube.com/watch?v=PctZCJHYwGI\">YouTube - WebAssembly &amp; Kubernetes: I don't know this cheese of which you speak! - Ralph Squillace, Microsoft</a>. This is of course from the ground up -- why anyone actually cares and so on.</p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"PctZCJHYwGI\" href=\"https://www.youtube.com/watch?v=PctZCJHYwGI\"><img src=\"https://uploads.zulipusercontent.net/ce3e7be5d9775155e71c9721beaa509f84375f85/68747470733a2f2f692e7974696d672e636f6d2f76692f5063745a434a48597747492f64656661756c742e6a7067\"></a></div>",
        "id": 314214486,
        "sender_full_name": "Ralph",
        "timestamp": 1670325264
    }
]