[
    {
        "content": "<p>Is this crate still supported?    When I use the latest version of it (0.27.0) in conjunction with wasmtime 0.31.0 and wasmtime-wasi 0.31.0, I get a package version conflict:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">select</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">fiber</span><span class=\"err\">`</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">required</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"p\">.</span><span class=\"mf\">27.0</span><span class=\"err\">`</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">which</span><span class=\"w\"> </span><span class=\"n\">satisfies</span><span class=\"w\"> </span><span class=\"n\">dependency</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"^0.27.0\"</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">rust</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"p\">.</span><span class=\"mf\">27.0</span><span class=\"err\">`</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">which</span><span class=\"w\"> </span><span class=\"n\">satisfies</span><span class=\"w\"> </span><span class=\"n\">dependency</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">rust</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"^0.27\"</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">test</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"p\">.</span><span class=\"mf\">1.0</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">/</span><span class=\"n\">Users</span><span class=\"o\">/</span><span class=\"n\">timothypark</span><span class=\"o\">/</span><span class=\"n\">dev</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"p\">)</span><span class=\"err\">`</span><span class=\"w\"></span>\n<span class=\"n\">versions</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">meet</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">requirements</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"o\">^</span><span class=\"mf\">0.27.0</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">are</span>: <span class=\"mf\">0.27.0</span><span class=\"w\"></span>\n\n<span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">fiber</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">links</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">native</span><span class=\"w\"> </span><span class=\"n\">library</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">fiber</span><span class=\"o\">-</span><span class=\"n\">shims</span><span class=\"err\">`</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"n\">conflicts</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">previous</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">which</span><span class=\"w\"> </span><span class=\"n\">links</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">fiber</span><span class=\"o\">-</span><span class=\"n\">shims</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">well</span>:\n<span class=\"nc\">package</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">fiber</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"p\">.</span><span class=\"mf\">31.0</span><span class=\"err\">`</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">which</span><span class=\"w\"> </span><span class=\"n\">satisfies</span><span class=\"w\"> </span><span class=\"n\">dependency</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">fiber</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"=0.31.0\"</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"p\">.</span><span class=\"mf\">31.0</span><span class=\"err\">`</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">which</span><span class=\"w\"> </span><span class=\"n\">satisfies</span><span class=\"w\"> </span><span class=\"n\">dependency</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"^0.31\"</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">test</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"p\">.</span><span class=\"mf\">1.0</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">/</span><span class=\"n\">Users</span><span class=\"o\">/</span><span class=\"n\">tpark</span><span class=\"o\">/</span><span class=\"n\">dev</span><span class=\"o\">/</span><span class=\"n\">test</span><span class=\"o\">-</span><span class=\"n\">app</span><span class=\"p\">)</span><span class=\"err\">`</span><span class=\"w\"></span>\n<span class=\"n\">Only</span><span class=\"w\"> </span><span class=\"n\">one</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">dependency</span><span class=\"w\"> </span><span class=\"n\">graph</span><span class=\"w\"> </span><span class=\"n\">may</span><span class=\"w\"> </span><span class=\"n\">specify</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">same</span><span class=\"w\"> </span><span class=\"n\">links</span><span class=\"w\"> </span><span class=\"n\">value</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">This</span><span class=\"w\"> </span><span class=\"n\">helps</span><span class=\"w\"> </span><span class=\"n\">ensure</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"n\">one</span><span class=\"w\"> </span><span class=\"n\">copy</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">native</span><span class=\"w\"> </span><span class=\"n\">library</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">linked</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"kr\">final</span><span class=\"w\"> </span><span class=\"n\">binary</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">Try</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">adjust</span><span class=\"w\"> </span><span class=\"n\">your</span><span class=\"w\"> </span><span class=\"n\">dependencies</span><span class=\"w\"> </span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">only</span><span class=\"w\"> </span><span class=\"n\">one</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">uses</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">links</span><span class=\"w\"> </span><span class=\"o\">='</span><span class=\"na\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">fiber</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">value</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">For</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"w\"> </span><span class=\"n\">information</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">see</span><span class=\"w\"> </span><span class=\"n\">https</span>:<span class=\"c1\">//doc.rust-lang.org/cargo/reference/resolver.html#links.</span>\n\n<span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">select</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">fiber</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">which</span><span class=\"w\"> </span><span class=\"n\">could</span><span class=\"w\"> </span><span class=\"n\">resolve</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">conflict</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Naturally, let me also know if I am holding it wrong?  <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span></p>",
        "id": 260445082,
        "sender_full_name": "Tim Park",
        "timestamp": 1636136594
    },
    {
        "content": "<p>The <code>wasmtime-rust</code> crate was a very old imagining of how the developer experience might be easier for Rust users. It was finally removed in <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2942\">Wasmtime PR #2942</a> and so it's not really supported with recent Wasmtime versions. The Wasmtime API now has <code>Linker</code> which has some ergonomics around instantiating modules and getting their exports. Additionally, the <a href=\"https://github.com/bytecodealliance/witx-bindgen\">witx-bindgen</a> crate (soon to be renamed <code>wai-bindgen</code> for \"webassembly interface bindings generator\") is the current design around using interface types such as strings.</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/wasmtime/pull/2942\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/906f3a053efb8e166d8a5042cf5e06348138a19c\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f383038353266653265613832393430653333666333323630376439373031303734363236653063373265663533663637343938333631613961343731353239382f62797465636f6465616c6c69616e63652f7761736d74696d652f70756c6c2f32393432)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/wasmtime/pull/2942\" title=\"Remove long-outdated `misc/rust` crate by alexcrichton · Pull Request #2942 · bytecodealliance/wasmtime\">Remove long-outdated `misc/rust` crate by alexcrichton · Pull Request #2942 · bytecodealliance/wasmtime</a></div><div class=\"message_embed_description\">I had no idea this was still in the repository, much less building!\nThere are much different ways to use wasmtime in Rust nowadays, such as\nthe wasmtime crate!</div></div></div><div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/witx-bindgen\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/bb9da05dde1f0beb1d4900c250b05f5d2a365223\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f663433663766643262373566306136626362383635323939326133383266363430653234663765326431316130623430333864656561303538343164393737392f62797465636f6465616c6c69616e63652f776974782d62696e6467656e)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/witx-bindgen\" title=\"GitHub - bytecodealliance/witx-bindgen: A language binding generator for `witx` (a precursor to WebAssembly interface types)\">GitHub - bytecodealliance/witx-bindgen: A language binding generator for `witx` (a precursor to WebAssembly interface types)</a></div><div class=\"message_embed_description\">A language binding generator for `witx` (a precursor to WebAssembly interface types) - GitHub - bytecodealliance/witx-bindgen: A language binding generator for `witx` (a precursor to WebAssembly in...</div></div></div>",
        "id": 260445811,
        "sender_full_name": "Peter Huene",
        "timestamp": 1636136949
    },
    {
        "content": "<p>Ok - thanks <span class=\"user-mention\" data-user-id=\"253989\">@Peter Huene</span> for the confirmation - still lots of material floating around that references these old crates.</p>",
        "id": 260446530,
        "sender_full_name": "Tim Park",
        "timestamp": 1636137301
    },
    {
        "content": "<p>Yeah there was a blitz of \"look at this all this cool stuff we will be able to do someday\" type blog posts about two years back that is now woefully out of date with the progress being made both by Wasmtime but also with the standards body</p>",
        "id": 260447468,
        "sender_full_name": "Peter Huene",
        "timestamp": 1636137784
    },
    {
        "content": "<p>Yes - to that - is there anything written down (or even just code samples) that single step you through how to use a .witx file  to generate exports for a library and consume that with an import?</p>",
        "id": 260455172,
        "sender_full_name": "Tim Park",
        "timestamp": 1636141453
    },
    {
        "content": "<p>Not yet, but we're working on it!</p>",
        "id": 260508569,
        "sender_full_name": "Till Schneidereit",
        "timestamp": 1636199040
    },
    {
        "content": "<p>Thanks <span class=\"user-mention\" data-user-id=\"234973\">@Till Schneidereit</span>  -  if there is an issue for this that describes how you would like to land that I would be happy to help as well with a PR!</p>",
        "id": 260706876,
        "sender_full_name": "Tim Park",
        "timestamp": 1636399949
    },
    {
        "content": "<p>Unfortunately there isn't right now—this is still all in an exploratory stage where we're trying to figure out what the shape of things should roughly be <span aria-label=\"confused\" class=\"emoji emoji-1f615\" role=\"img\" title=\"confused\">:confused:</span></p>",
        "id": 260788281,
        "sender_full_name": "Till Schneidereit",
        "timestamp": 1636459799
    }
]