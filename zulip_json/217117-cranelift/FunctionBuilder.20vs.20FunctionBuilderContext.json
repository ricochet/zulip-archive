[
    {
        "content": "<p>I heard or read somehwere that <code>FunctionBuilderContext</code> is supposed to be reusable, it has various things like target. The separation between these three <code>Function</code>, <code>FunctionBuilder</code>, and <code>FunctionBuilderContext</code> is designed to make things at the function level, so it can be highly parallelized.</p>\n<p>In order to reset its state, it says I need to call <code>FunctionBuilder::finalize()</code> </p>\n<p>This function states: </p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Declare</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">translation</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">current</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">complete</span><span class=\"p\">.</span>\n<span class=\"n\">This</span><span class=\"w\"> </span><span class=\"n\">resets</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">state</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">FunctionBuilderContext</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">preparation</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">used</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">another</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"p\">.</span>\n</code></pre></div>\n<p>Am I misunderstanding this, or can I not use multiple <code>FunctionBuilder</code>s at the same time on <code>FunctionBuilderContext</code>. The wording \"in preparation to be used for another function\" implies that without that preparation, it wouldn't be usable for another function, as it contains singleton items for that function its building.</p>\n<p>If so, how would I parallelize this at the function level?</p>",
        "id": 363879052,
        "sender_full_name": "Chris Clark",
        "timestamp": 1686022205
    },
    {
        "content": "<p>If you want to parallelize, you have to use a separate FunctionBuilderContext for each thread.</p>",
        "id": 363892794,
        "sender_full_name": "bjorn3",
        "timestamp": 1686030331
    }
]