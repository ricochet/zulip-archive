[
    {
        "content": "<p>Can you define pattern synonyms in ISLE?<br>\neg being able to use <code>(ugt x y)</code> as shorthand for <code>(icmp (fits_in_64 (ty_int ty)) (IntCC.UnsignedGreaterThan) x y)</code></p>",
        "id": 343251111,
        "sender_full_name": "kmeakin",
        "timestamp": 1679358114
    },
    {
        "content": "<p>Yes! We call them \"internal extractors,\" because… well, there's a reason but it doesn't matter. Look for <code>(extractor …)</code> for the actual pattern synonyms, and for each one you'll also find an associated <code>decl</code>.</p>",
        "id": 343251866,
        "sender_full_name": "Jamey Sharp",
        "timestamp": 1679358582
    },
    {
        "content": "<p>yes, you can define any term you want and add extractors (for matching in the LHS of rules) and constructors (for making things in the RHS of rules) for the term. see the language reference for details: <a href=\"https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/isle/docs/language-reference.md#constructors-and-extractors\">https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/isle/docs/language-reference.md#constructors-and-extractors</a></p>\n<p>for example, there is nothing special/built-in about the existing <code>icmp</code> term as far as ISLE the language goes, it is just automatically generated by the meta crate: <a href=\"https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/codegen/meta/src/gen_inst.rs#L1412\">https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/codegen/meta/src/gen_inst.rs#L1412</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/isle/docs/language-reference.md#constructors-and-extractors\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/6f9ac760272fa586a89cdc8ca3b9c4e2437e7363\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f633761303532383462383739616232666433613334643266376336613334623066646239396231343166633538333266666234663165356437373139393037622f62797465636f6465616c6c69616e63652f7761736d74696d65)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/isle/docs/language-reference.md#constructors-and-extractors\" title=\"wasmtime/language-reference.md at 861220c433e70599ce51fb1c041c03fa9c7766ae · bytecodealliance/wasmtime\">wasmtime/language-reference.md at 861220c433e70599ce51fb1c041c03fa9c7766ae · bytecodealliance/wasmtime</a></div><div class=\"message_embed_description\">A fast and secure runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div><div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/codegen/meta/src/gen_inst.rs#L1412\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/6f9ac760272fa586a89cdc8ca3b9c4e2437e7363\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f633761303532383462383739616232666433613334643266376336613334623066646239396231343166633538333266666234663165356437373139393037622f62797465636f6465616c6c69616e63652f7761736d74696d65)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/wasmtime/blob/861220c433e70599ce51fb1c041c03fa9c7766ae/cranelift/codegen/meta/src/gen_inst.rs#L1412\" title=\"wasmtime/gen_inst.rs at 861220c433e70599ce51fb1c041c03fa9c7766ae · bytecodealliance/wasmtime\">wasmtime/gen_inst.rs at 861220c433e70599ce51fb1c041c03fa9c7766ae · bytecodealliance/wasmtime</a></div><div class=\"message_embed_description\">A fast and secure runtime for WebAssembly. Contribute to bytecodealliance/wasmtime development by creating an account on GitHub.</div></div></div>",
        "id": 343451540,
        "sender_full_name": "fitzgen (he/him)",
        "timestamp": 1679413583
    },
    {
        "content": "<p>and for the record, I think having <code>(ugt x y)</code> et al helpers would be great! the term declaration and extractor definition would go in the common prelude, and the constructors would go in the mid-end specific prelude (since the backend lowerings wouldn't ever construct new clif)</p>",
        "id": 343451901,
        "sender_full_name": "fitzgen (he/him)",
        "timestamp": 1679413674
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"600668\">kmeakin</span> has marked this topic as resolved.</p>",
        "id": 343517348,
        "sender_full_name": "Notification Bot",
        "timestamp": 1679431501
    }
]