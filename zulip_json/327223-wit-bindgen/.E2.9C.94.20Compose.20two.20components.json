[
    {
        "content": "<p>Hi folks.<br>\nI'm exploring the capability of  the component model and existing tools.<br>\nIn this <a href=\"https://github.com/lwshang/wit-compose-demo\">repo</a>, I want to export a simple function <code>bar()</code> from the \"secondary\" component. And let the \"primary\" component to import that function.<br>\nThe code in my repo now doesn't work.</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">cargo</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">primary</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">unknown</span><span class=\"o\">-</span><span class=\"n\">unknown</span>\n<span class=\"n\">error</span>: <span class=\"nc\">package</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">found</span>\n<span class=\"w\">            </span><span class=\"o\">-</span>-&gt; <span class=\"o\">/&lt;</span><span class=\"n\">project</span><span class=\"o\">-</span><span class=\"n\">root</span><span class=\"o\">&gt;/../</span><span class=\"n\">wit</span><span class=\"o\">/</span><span class=\"n\">primary</span><span class=\"p\">.</span><span class=\"n\">wit</span>:<span class=\"mi\">4</span>:<span class=\"mi\">10</span>\n<span class=\"w\">             </span><span class=\"o\">|</span>\n<span class=\"w\">           </span><span class=\"mi\">4</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">   </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">example</span>:<span class=\"nc\">secondary</span><span class=\"o\">/</span><span class=\"n\">foo</span><span class=\"p\">;</span>\n</code></pre></div>\n<p>It seems that the \"wit\" files contains some error. How can I make \"primary.wit\" be able to import an interface in \"secondary.wit\"?</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">cargo</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">secondary</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">unknown</span><span class=\"o\">-</span><span class=\"n\">unknown</span>\n<span class=\"n\">error</span>: <span class=\"nc\">expected</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">exports</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">map</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">contain</span><span class=\"w\"> </span><span class=\"n\">key</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">example</span>:<span class=\"nc\">secondary</span><span class=\"o\">/</span><span class=\"n\">foo</span><span class=\"err\">`</span>\n</code></pre></div>\n<p>It seems that I didn't use the <code>wit_bindgen::generate!()</code> macro correctly. But the doc of this proc-macro is not helpful.</p>\n<p>Could you help me to fix the errors?<br>\nOr are there any related demo projects/examples? I haven't find any examples involve multiple \"wit\" files that cross-referencing.</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/lwshang/wit-compose-demo\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/37d4ba4ceab07a364f404d99016164441457c100\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f383364376135346231393663396664653932396234396334633339643465316435633232323266316233386665633830616434393163653734636137333032652f6c777368616e672f7769742d636f6d706f73652d64656d6f)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/lwshang/wit-compose-demo\" title=\"GitHub - lwshang/wit-compose-demo\">GitHub - lwshang/wit-compose-demo</a></div><div class=\"message_embed_description\">Contribute to lwshang/wit-compose-demo development by creating an account on GitHub.</div></div></div>",
        "id": 397373854,
        "sender_full_name": "Linwei Shang",
        "timestamp": 1697658166
    },
    {
        "content": "<p>I managed to fix both errors.</p>",
        "id": 397525034,
        "sender_full_name": "Linwei Shang",
        "timestamp": 1697727899
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"660160\">Linwei Shang</span> has marked this topic as resolved.</p>",
        "id": 397525058,
        "sender_full_name": "Notification Bot",
        "timestamp": 1697727905
    }
]