[
    {
        "content": "<p>alexcrichton transferred <a href=\"https://github.com/bytecodealliance/cranelift/issues/1113\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/issues/1113\">Issue #1113</a>:</p>\n<blockquote>\n<div class=\"codehilite\"><pre><span></span>thread &#39;rustc&#39; panicked at &#39;inconsistent declarations: IncompatibleDeclaration { old: Defined(Function(FunctionDecl { scope: Local, visibility: Default, align: None })), new: Defined(Function(FunctionDecl { scope: Global, visibility: Default, align: None })) }&#39;, src/libcore/result.rs:1165:5\nstack backtrace:\n[...]\n  15: core::result::unwrap_failed\n             at src/libcore/result.rs:1165\n  16: core::result::Result&lt;T,E&gt;::expect\n             at /rustc/032a53a06ce293571e51bbe621a5c480e8a28e95/src/libcore/result.rs:960\n  17: &lt;cranelift_faerie::backend::FaerieBackend as cranelift_module::backend::Backend&gt;::declare_function\n             at /home/bjorn/.cargo/git/checkouts/cranelift-af8713b52459e6cd/ee6fe21/cranelift-faerie/src/backend.rs:127\n  18: cranelift_module::module::Module&lt;B&gt;::declare_function\n             at /home/bjorn/.cargo/git/checkouts/cranelift-af8713b52459e6cd/ee6fe21/cranelift-module/src/module.rs:426\n[...]\n</pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><span class=\"n\">module</span><span class=\"p\">.</span><span class=\"n\">declare_function</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Linkage</span>::<span class=\"n\">Local</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">sig</span><span class=\"p\">).</span><span class=\"n\">unwrap</span><span class=\"p\">();</span><span class=\"w\"></span>\n<span class=\"n\">module</span><span class=\"p\">.</span><span class=\"n\">declare_function</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">Linkage</span>::<span class=\"n\">Export</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">sig</span><span class=\"p\">).</span><span class=\"n\">unwrap</span><span class=\"p\">();</span><span class=\"w\"></span>\n</pre></div>\n\n\n<p>Either cranelift-module should forbid this, or faerie should allow this. Preferably the later.</p>\n</blockquote>",
        "id": 189361608,
        "sender_full_name": "GitHub",
        "timestamp": 1582932426
    }
]