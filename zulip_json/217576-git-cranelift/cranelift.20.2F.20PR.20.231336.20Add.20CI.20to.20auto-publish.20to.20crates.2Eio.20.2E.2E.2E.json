[
    {
        "content": "<p>alexcrichton opened <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336\">PR #1336</a> from <code>auto-publish</code> to <code>master</code>:</p>\n<blockquote>\n<p>This commit updates the publication process for the cranelift suite of<br>\ncrates. the <code>publish-all.sh</code> script was removed in favor of a new Rust<br>\nscript located at <code>ci/publish.rs</code> This script is based off the one in<br>\nthe [wasm-bindgen repository][wbg]. Additionally publication<br>\ninstructions have been added to <code>CONTRIBUTING.md</code>.</p>\n<p>The new process of publication looks like:</p>\n<ul>\n<li>Run <code>rustc ci/publish.rs &amp;&amp; ./publish bump</code></li>\n<li>Commit the change and get it merged (either push it or go through a PR)</li>\n<li>Push a tag with the versions bumped</li>\n</ul>\n<p>The CI for the last step, the tag push, will automatically publish the<br>\ncrates once CI has finished.</p>\n<p>[wbg]: <a href=\"https://github.com/rustwasm/wasm-bindgen/blob/master/publish.rs\" target=\"_blank\" title=\"https://github.com/rustwasm/wasm-bindgen/blob/master/publish.rs\">https://github.com/rustwasm/wasm-bindgen/blob/master/publish.rs</a></p>\n</blockquote>",
        "id": 185358162,
        "sender_full_name": "GitHub",
        "timestamp": 1578695682
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336\">PR #1336</a> from <code>auto-publish</code> to <code>master</code>:</p>\n<blockquote>\n<p>This commit updates the publication process for the cranelift suite of<br>\ncrates. the <code>publish-all.sh</code> script was removed in favor of a new Rust<br>\nscript located at <code>ci/publish.rs</code> This script is based off the one in<br>\nthe [wasm-bindgen repository][wbg]. Additionally publication<br>\ninstructions have been added to <code>CONTRIBUTING.md</code>.</p>\n<p>The new process of publication looks like:</p>\n<ul>\n<li>Run <code>rustc ci/publish.rs &amp;&amp; ./publish bump</code></li>\n<li>Commit the change and get it merged (either push it or go through a PR)</li>\n<li>Push a tag with the versions bumped</li>\n</ul>\n<p>The CI for the last step, the tag push, will automatically publish the<br>\ncrates once CI has finished.</p>\n<p>[wbg]: <a href=\"https://github.com/rustwasm/wasm-bindgen/blob/master/publish.rs\" target=\"_blank\" title=\"https://github.com/rustwasm/wasm-bindgen/blob/master/publish.rs\">https://github.com/rustwasm/wasm-bindgen/blob/master/publish.rs</a></p>\n</blockquote>",
        "id": 185358376,
        "sender_full_name": "GitHub",
        "timestamp": 1578695891
    },
    {
        "content": "<p><strong>abrown</strong> requested <a href=\"https://github.com/bnjbvr\" target=\"_blank\" title=\"https://github.com/bnjbvr\">bnjbvr</a> for a review on <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336\">PR #1336</a>.</p>",
        "id": 185358423,
        "sender_full_name": "GitHub",
        "timestamp": 1578696000
    },
    {
        "content": "<p><strong>abrown</strong> requested <a href=\"https://github.com/sunfishcode\" target=\"_blank\" title=\"https://github.com/sunfishcode\">sunfishcode</a> for a review on <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336\">PR #1336</a>.</p>",
        "id": 185358424,
        "sender_full_name": "GitHub",
        "timestamp": 1578696000
    },
    {
        "content": "<p><strong>abrown</strong> requested <a href=\"https://github.com/bnjbvr\" target=\"_blank\" title=\"https://github.com/bnjbvr\">bnjbvr</a>, and <a href=\"https://github.com/sunfishcode\" target=\"_blank\" title=\"https://github.com/sunfishcode\">sunfishcode</a> for a review on <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336\">PR #1336</a>.</p>",
        "id": 185358487,
        "sender_full_name": "GitHub",
        "timestamp": 1578696051
    },
    {
        "content": "<p>sunfishcode submitted <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336#pullrequestreview-341469016\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336#pullrequestreview-341469016\">PR Review</a>.</p>",
        "id": 185361419,
        "sender_full_name": "GitHub",
        "timestamp": 1578699057
    },
    {
        "content": "<p>sunfishcode submitted <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336#pullrequestreview-341469016\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336#pullrequestreview-341469016\">PR Review</a>.</p>",
        "id": 185361420,
        "sender_full_name": "GitHub",
        "timestamp": 1578699057
    },
    {
        "content": "<p>sunfishcode created <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365466161\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365466161\">PR Review Comment</a>:</p>\n<blockquote>\n<p>To my knowledge, cranelift-simplejit doesn't do anything special wrt cargo, and doesn't have any unusual dependencies. Can you point to what it is about this crate that causes problems?</p>\n</blockquote>",
        "id": 185361421,
        "sender_full_name": "GitHub",
        "timestamp": 1578699057
    },
    {
        "content": "<p>sunfishcode created <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365468270\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365468270\">PR Review Comment</a>:</p>\n<blockquote>\n<p>This is unlikely, but could you append and prepend <code>\"</code> to the version string, so that <code>1.1.1</code> doesn't match <code>1.1.11</code>?</p>\n</blockquote>",
        "id": 185361422,
        "sender_full_name": "GitHub",
        "timestamp": 1578699058
    },
    {
        "content": "<p>sunfishcode created <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365469512\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365469512\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Do we need to do anything special to tell it to only publish if this is the master branch, and not some random feature branch?</p>\n</blockquote>",
        "id": 185361423,
        "sender_full_name": "GitHub",
        "timestamp": 1578699058
    },
    {
        "content": "<p>sunfishcode created <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365469842\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365469842\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Would it be difficult to add a <code>publish</code> subcommand to do this part too? Assuming the merge doesn't get a new sha, it seems like we should be able to pick up the sha from the top of the local repo.</p>\n</blockquote>",
        "id": 185361424,
        "sender_full_name": "GitHub",
        "timestamp": 1578699058
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336#pullrequestreview-341927970\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336#pullrequestreview-341927970\">PR Review</a>.</p>",
        "id": 185503693,
        "sender_full_name": "GitHub",
        "timestamp": 1578929521
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365867205\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365867205\">PR Review Comment</a>:</p>\n<blockquote>\n<p>It's sort of a weird part of Cargo, but if Cargo for some crates decides to put a <code>Cargo.lock</code> in the package, meaning it needs to resolve the crate graph. If a crate depends on something not published on <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a>, however, as would be the case in the \"dry run\" mode which happens on PRs, then this step will fail because <code>Cargo.lock</code> cannot be generated. I hit this locally when I prefixed all the crates with <code>alexcrichton-*</code> and nothing existed on <a href=\"http://crates.io\" target=\"_blank\" title=\"http://crates.io\">crates.io</a>.</p>\n<p>Cargo decides to put <code>Cargo.lock</code> in crates that contains examples or binaries, and simplejit happened to be the only cranelift crate that met that criteria (had an example)</p>\n</blockquote>",
        "id": 185503694,
        "sender_full_name": "GitHub",
        "timestamp": 1578929521
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336#pullrequestreview-341928861\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336#pullrequestreview-341928861\">PR Review</a>.</p>",
        "id": 185503849,
        "sender_full_name": "GitHub",
        "timestamp": 1578929588
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365867845\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365867845\">PR Review Comment</a>:</p>\n<blockquote>\n<p>This'll only actually do things for tags (previous step enables), and only for tags that start with a <code>v</code> (I'm not great on regexes). Do you think it should be limited further though?</p>\n</blockquote>",
        "id": 185503850,
        "sender_full_name": "GitHub",
        "timestamp": 1578929588
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336#pullrequestreview-341929658\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336#pullrequestreview-341929658\">PR Review</a>.</p>",
        "id": 185503993,
        "sender_full_name": "GitHub",
        "timestamp": 1578929652
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365868430\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336#discussion_r365868430\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Sure yeah, I'll edit this in</p>\n</blockquote>",
        "id": 185503994,
        "sender_full_name": "GitHub",
        "timestamp": 1578929652
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336\">PR #1336</a> from <code>auto-publish</code> to <code>master</code>:</p>\n<blockquote>\n<p>This commit updates the publication process for the cranelift suite of<br>\ncrates. the <code>publish-all.sh</code> script was removed in favor of a new Rust<br>\nscript located at <code>ci/publish.rs</code> This script is based off the one in<br>\nthe [wasm-bindgen repository][wbg]. Additionally publication<br>\ninstructions have been added to <code>CONTRIBUTING.md</code>.</p>\n<p>The new process of publication looks like:</p>\n<ul>\n<li>Run <code>rustc ci/publish.rs &amp;&amp; ./publish bump</code></li>\n<li>Commit the change and get it merged (either push it or go through a PR)</li>\n<li>Push a tag with the versions bumped</li>\n</ul>\n<p>The CI for the last step, the tag push, will automatically publish the<br>\ncrates once CI has finished.</p>\n<p>[wbg]: <a href=\"https://github.com/rustwasm/wasm-bindgen/blob/master/publish.rs\" target=\"_blank\" title=\"https://github.com/rustwasm/wasm-bindgen/blob/master/publish.rs\">https://github.com/rustwasm/wasm-bindgen/blob/master/publish.rs</a></p>\n</blockquote>",
        "id": 185504403,
        "sender_full_name": "GitHub",
        "timestamp": 1578929907
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336\">PR #1336</a> from <code>auto-publish</code> to <code>master</code>:</p>\n<blockquote>\n<p>This commit updates the publication process for the cranelift suite of<br>\ncrates. the <code>publish-all.sh</code> script was removed in favor of a new Rust<br>\nscript located at <code>ci/publish.rs</code> This script is based off the one in<br>\nthe [wasm-bindgen repository][wbg]. Additionally publication<br>\ninstructions have been added to <code>CONTRIBUTING.md</code>.</p>\n<p>The new process of publication looks like:</p>\n<ul>\n<li>Run <code>rustc ci/publish.rs &amp;&amp; ./publish bump</code></li>\n<li>Commit the change and get it merged (either push it or go through a PR)</li>\n<li>Push a tag with the versions bumped</li>\n</ul>\n<p>The CI for the last step, the tag push, will automatically publish the<br>\ncrates once CI has finished.</p>\n<p>[wbg]: <a href=\"https://github.com/rustwasm/wasm-bindgen/blob/master/publish.rs\" target=\"_blank\" title=\"https://github.com/rustwasm/wasm-bindgen/blob/master/publish.rs\">https://github.com/rustwasm/wasm-bindgen/blob/master/publish.rs</a></p>\n</blockquote>",
        "id": 185504801,
        "sender_full_name": "GitHub",
        "timestamp": 1578930165
    },
    {
        "content": "<p><strong>bnjbvr</strong> requested <a href=\"https://github.com/bnjbvr\" target=\"_blank\" title=\"https://github.com/bnjbvr\">bnjbvr</a>, and <a href=\"https://github.com/sunfishcode\" target=\"_blank\" title=\"https://github.com/sunfishcode\">sunfishcode</a> for a review on <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336\">PR #1336</a>.</p>",
        "id": 188918912,
        "sender_full_name": "GitHub",
        "timestamp": 1582545004
    },
    {
        "content": "<p>alexcrichton closed without merge <a href=\"https://github.com/bytecodealliance/cranelift/pull/1336\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/pull/1336\">PR #1336</a>.</p>",
        "id": 189362346,
        "sender_full_name": "GitHub",
        "timestamp": 1582932986
    }
]