[
    {
        "content": "<p>terhechte <a href=\"https://github.com/bytecodealliance/cranelift/issues/655#issuecomment-573678662\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/issues/655#issuecomment-573678662\">commented</a> on <a href=\"https://github.com/bytecodealliance/cranelift/issues/655\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/issues/655\">Issue #655</a>:</p>\n<blockquote>\n<p>I looked into this as well, out of curiosity, but I doubt that this could improve the Swift compile time in a meaningful way. The problem is that the Swift compiler still needs to emit the SIL. This process, however, is what takes up most of the completive. Consider this line of code:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kd\">let</span> <span class=\"nv\">sum</span> <span class=\"p\">=</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">].</span><span class=\"bp\">map</span> <span class=\"p\">{</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nv\">$0</span><span class=\"p\">)</span> <span class=\"p\">}.</span><span class=\"n\">compactMap</span> <span class=\"p\">{</span> <span class=\"nb\">Int</span><span class=\"p\">(</span><span class=\"nv\">$0</span><span class=\"p\">)</span> <span class=\"p\">}.</span><span class=\"bp\">reduce</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">+</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>Compiling this via <code>swiftc</code> takes roughly 15. seconds on my Mac:</p>\n<div class=\"codehilite\"><pre><span></span>time swiftc ./x.swift\n1.24 real         1.12 user         0.10 sys\n</pre></div>\n\n\n<p>Just emitting the SIL takes roughly the same amount of time</p>\n<div class=\"codehilite\"><pre><span></span>time swiftc ./x.swift\n1.16 real         1.04 user         0.08 sys\n</pre></div>\n\n\n</blockquote>",
        "id": 185495592,
        "sender_full_name": "GitHub",
        "timestamp": 1578924373
    },
    {
        "content": "<p>terhechte edited a <a href=\"https://github.com/bytecodealliance/cranelift/issues/655#issuecomment-573678662\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/issues/655#issuecomment-573678662\">comment</a> on <a href=\"https://github.com/bytecodealliance/cranelift/issues/655\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/issues/655\">Issue #655</a>:</p>\n<blockquote>\n<p>I looked into this as well, out of curiosity, but I doubt that this could improve the Swift compile time in a meaningful way. The problem is that the Swift compiler still needs to emit the SIL. This process, however, is what takes up most of the compiletime. Consider this line of code:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"kd\">let</span> <span class=\"nv\">sum</span> <span class=\"p\">=</span> <span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">,</span> <span class=\"mi\">3</span><span class=\"p\">].</span><span class=\"bp\">map</span> <span class=\"p\">{</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nv\">$0</span><span class=\"p\">)</span> <span class=\"p\">}.</span><span class=\"n\">compactMap</span> <span class=\"p\">{</span> <span class=\"nb\">Int</span><span class=\"p\">(</span><span class=\"nv\">$0</span><span class=\"p\">)</span> <span class=\"p\">}.</span><span class=\"bp\">reduce</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"o\">+</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>Compiling this via <code>swiftc</code> takes roughly 15. seconds on my Mac:</p>\n<div class=\"codehilite\"><pre><span></span>time swiftc ./x.swift\n1.24 real         1.12 user         0.10 sys\n</pre></div>\n\n\n<p>Just emitting the SIL takes roughly the same amount of time</p>\n<div class=\"codehilite\"><pre><span></span>time swiftc ./x.swift\n1.16 real         1.04 user         0.08 sys\n</pre></div>\n\n\n</blockquote>",
        "id": 185495615,
        "sender_full_name": "GitHub",
        "timestamp": 1578924396
    },
    {
        "content": "<p>alexcrichton transferred <a href=\"https://github.com/bytecodealliance/cranelift/issues/655\" target=\"_blank\" title=\"https://github.com/bytecodealliance/cranelift/issues/655\">Issue #655</a>:</p>\n<blockquote>\n<p>Hi, I'm thinking about writing a replacement for swiftc's backend that would translate from Swift Intermediate Language (SIL) to Cranelift IR and then let Cranelift do the codegen. My overall goal is to have a faster debug mode compiler for Swift. I was curious, what sort of performance speedups might I see? Are there any up-to-date benchmarks? In general, could this be a worthwhile project?</p>\n</blockquote>",
        "id": 189361406,
        "sender_full_name": "GitHub",
        "timestamp": 1582932331
    }
]