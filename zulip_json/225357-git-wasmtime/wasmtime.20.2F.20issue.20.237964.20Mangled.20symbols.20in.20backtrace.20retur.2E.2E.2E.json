[
    {
        "content": "<p><a href=\"https://github.com/casimiro\">casimiro</a> added the bug label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7964\">Issue #7964</a>.</p>",
        "id": 422474409,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1708452694
    },
    {
        "content": "<p>casimiro opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7964\">issue #7964</a>:</p>\n<blockquote>\n<p>Hi,</p>\n<p>After upgrading from <code>14.0.3</code> to <code>15.0.0</code> I've noticed that <code>wasm_trap_message</code>, part of Wasmtime C API, returns the backtrace with mangled symbols:</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"k\">while</span><span class=\"w\"> </span><span class=\"n\">executing</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n    <span class=\"mi\">0</span>: <span class=\"mh\">0x2dbfa</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">__rust_start_panic</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"mh\">0x2d9e5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">rust_panic</span>\n<span class=\"w\">    </span><span class=\"mi\">2</span>: <span class=\"mh\">0x2d918</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN3std9panicking20rust_panic_with_hook17h9c783872fdb901ccE</span>\n<span class=\"w\">    </span><span class=\"mi\">3</span>: <span class=\"mh\">0x13149</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN3std9panicking11begin_panic28_</span><span class=\"cp\">$u7b$$u7b$closure$u7d$$u7d$</span><span class=\"mi\">17</span><span class=\"n\">h4ffa6a1c8cae16aaE</span>\n<span class=\"w\">    </span><span class=\"mi\">4</span>: <span class=\"mh\">0x1310c</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN3std10sys_common9backtrace26__rust_end_short_backtrace17ha3be793022377ab5E</span>\n<span class=\"w\">    </span><span class=\"mi\">5</span>: <span class=\"mh\">0x13180</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN3std9panicking11begin_panic17hc5e246abf4e1b013E</span>\n<span class=\"w\">    </span><span class=\"mi\">6</span>: <span class=\"mh\">0xd47b</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN9hostcalls5types9test_http8TestHttp10exec_tests17he514b18df9efbbb3E</span>\n<span class=\"w\">    </span><span class=\"mi\">7</span>: <span class=\"mh\">0xc7db</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN9hostcalls6filter99_</span><span class=\"cp\">$LT$impl$u20$proxy_wasm</span><span class=\"o\">..</span><span class=\"n\">traits</span><span class=\"o\">..</span><span class=\"n\">HttpContext</span><span class=\"cp\">$u20$for$u20$hostcalls</span><span class=\"o\">..</span><span class=\"n\">types</span><span class=\"o\">..</span><span class=\"n\">test_http</span><span class=\"o\">..</span><span class=\"n\">TestHttp</span><span class=\"cp\">$GT$</span><span class=\"mi\">23</span><span class=\"n\">on_http_request_headers17h457bb152f4d611a0E</span>\n<span class=\"w\">    </span><span class=\"mi\">8</span>: <span class=\"mh\">0x1f3d5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN10proxy_wasm10dispatcher10Dispatcher23on_http_request_headers17hcfdb13beb69bb128E</span>\n<span class=\"w\">    </span><span class=\"mi\">9</span>: <span class=\"mh\">0x25775</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">proxy_on_request_headers</span>\n<span class=\"n\">note</span>: <span class=\"nc\">using</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">WASMTIME_BACKTRACE_DETAILS</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"n\">variable</span><span class=\"w\"> </span><span class=\"n\">may</span><span class=\"w\"> </span><span class=\"n\">show</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"w\"> </span><span class=\"n\">debugging</span><span class=\"w\"> </span><span class=\"n\">information</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 422474420,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1708452696
    },
    {
        "content": "<p>casimiro <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7964#issuecomment-1954795768\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7964\">issue #7964</a>:</p>\n<blockquote>\n<p>This issue has been addressed by #7962.</p>\n</blockquote>",
        "id": 422474593,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1708452753
    },
    {
        "content": "<p>casimiro <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7964#issuecomment-1954798337\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7964\">issue #7964</a>:</p>\n<blockquote>\n<p>Thank you for promptly addressing this isse @alexcrichton!</p>\n</blockquote>",
        "id": 422474918,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1708452852
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7964\">issue #7964</a>:</p>\n<blockquote>\n<p>Hi,</p>\n<p>After upgrading from <code>14.0.3</code> to <code>15.0.0</code> I've noticed that <code>wasm_trap_message</code>, part of Wasmtime C API, returns the backtrace with mangled symbols:</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"k\">while</span><span class=\"w\"> </span><span class=\"n\">executing</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n    <span class=\"mi\">0</span>: <span class=\"mh\">0x2dbfa</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">__rust_start_panic</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"mh\">0x2d9e5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">rust_panic</span>\n<span class=\"w\">    </span><span class=\"mi\">2</span>: <span class=\"mh\">0x2d918</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN3std9panicking20rust_panic_with_hook17h9c783872fdb901ccE</span>\n<span class=\"w\">    </span><span class=\"mi\">3</span>: <span class=\"mh\">0x13149</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN3std9panicking11begin_panic28_</span><span class=\"cp\">$u7b$$u7b$closure$u7d$$u7d$</span><span class=\"mi\">17</span><span class=\"n\">h4ffa6a1c8cae16aaE</span>\n<span class=\"w\">    </span><span class=\"mi\">4</span>: <span class=\"mh\">0x1310c</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN3std10sys_common9backtrace26__rust_end_short_backtrace17ha3be793022377ab5E</span>\n<span class=\"w\">    </span><span class=\"mi\">5</span>: <span class=\"mh\">0x13180</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN3std9panicking11begin_panic17hc5e246abf4e1b013E</span>\n<span class=\"w\">    </span><span class=\"mi\">6</span>: <span class=\"mh\">0xd47b</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN9hostcalls5types9test_http8TestHttp10exec_tests17he514b18df9efbbb3E</span>\n<span class=\"w\">    </span><span class=\"mi\">7</span>: <span class=\"mh\">0xc7db</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN9hostcalls6filter99_</span><span class=\"cp\">$LT$impl$u20$proxy_wasm</span><span class=\"o\">..</span><span class=\"n\">traits</span><span class=\"o\">..</span><span class=\"n\">HttpContext</span><span class=\"cp\">$u20$for$u20$hostcalls</span><span class=\"o\">..</span><span class=\"n\">types</span><span class=\"o\">..</span><span class=\"n\">test_http</span><span class=\"o\">..</span><span class=\"n\">TestHttp</span><span class=\"cp\">$GT$</span><span class=\"mi\">23</span><span class=\"n\">on_http_request_headers17h457bb152f4d611a0E</span>\n<span class=\"w\">    </span><span class=\"mi\">8</span>: <span class=\"mh\">0x1f3d5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_ZN10proxy_wasm10dispatcher10Dispatcher23on_http_request_headers17hcfdb13beb69bb128E</span>\n<span class=\"w\">    </span><span class=\"mi\">9</span>: <span class=\"mh\">0x25775</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">proxy_on_request_headers</span>\n<span class=\"n\">note</span>: <span class=\"nc\">using</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">WASMTIME_BACKTRACE_DETAILS</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"n\">variable</span><span class=\"w\"> </span><span class=\"n\">may</span><span class=\"w\"> </span><span class=\"n\">show</span><span class=\"w\"> </span><span class=\"n\">more</span><span class=\"w\"> </span><span class=\"n\">debugging</span><span class=\"w\"> </span><span class=\"n\">information</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 422477940,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1708453993
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7964#issuecomment-1954830058\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7964\">issue #7964</a>:</p>\n<blockquote>\n<p>Sure thing, and thanks for letting us know! I'm going to close this as <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7962\">https://github.com/bytecodealliance/wasmtime/pull/7962</a> should fix it, but thanks regardless for taking the time to file this</p>\n</blockquote>",
        "id": 422477941,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1708453993
    }
]