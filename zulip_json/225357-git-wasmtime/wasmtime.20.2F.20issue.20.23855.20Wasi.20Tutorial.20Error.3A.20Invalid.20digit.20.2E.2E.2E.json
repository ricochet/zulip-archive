[
    {
        "content": "<p>huangjj27 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/855#issuecomment-1368404780\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/855\">issue #855</a>:</p>\n<blockquote>\n<p>I encounter the exactly same bug with the rust version code, with wasmtime 4.0.0 on windows 11:</p>\n<ol>\n<li>use the rust code from the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/docs/WASI-tutorial.md\">tutorial</a></li>\n<li>make the function <code>process</code> to be <code>pub</code>, and <code>#[no_mangle]</code></li>\n<li>compile the project with <code>cargo wasi build</code></li>\n<li><code>echo hello world &gt; test.txt</code></li>\n<li>run the command and its return error:</li>\n</ol>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">dir</span><span class=\"o\">=</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"err\">\\</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"err\">\\</span><span class=\"n\">debug</span><span class=\"err\">\\</span><span class=\"n\">demo</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">invoke</span><span class=\"w\"> </span><span class=\"n\">process</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">txt</span><span class=\"w\"> </span><span class=\"n\">somewhere</span><span class=\"p\">.</span><span class=\"n\">txt</span><span class=\"w\"></span>\n<span class=\"n\">warning</span>: <span class=\"nc\">using</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"o\">--</span><span class=\"n\">invoke</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">takes</span><span class=\"w\"> </span><span class=\"n\">arguments</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">experimental</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">may</span><span class=\"w\"> </span><span class=\"k\">break</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">future</span><span class=\"w\"></span>\n<span class=\"n\">Error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">target</span><span class=\"err\">\\</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"err\">\\</span><span class=\"n\">debug</span><span class=\"err\">\\</span><span class=\"n\">demo</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"err\">`</span><span class=\"w\"></span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"nc\">invalid</span><span class=\"w\"> </span><span class=\"n\">digit</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">string</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 318837028,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672567550
    },
    {
        "content": "<p>huangjj27 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/855#issuecomment-1368406709\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/855\">issue #855</a>:</p>\n<blockquote>\n<p>and I checked out that what #858 has fixed is another bug, and its added a test for a digit param when invoking, but not for a string param, which is the bug I'm encountering now.</p>\n</blockquote>",
        "id": 318837686,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672567992
    },
    {
        "content": "<p>huangjj27 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/855#issuecomment-1368406709\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/855\">issue #855</a>:</p>\n<blockquote>\n<p>and I checked out that what #858 has fixed is another bug, and it added a test for a digit param when invoking, but not for a string param, which is the bug I'm encountering now.</p>\n</blockquote>",
        "id": 318934005,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672635471
    },
    {
        "content": "<p>huangjj27 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/855#issuecomment-1368404780\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/855\">issue #855</a>:</p>\n<blockquote>\n<p>I encounter the exactly same bug with the rust version code, with wasmtime 4.0.0 on windows 11:</p>\n<ol>\n<li>use the rust code from the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/docs/WASI-tutorial.md\">tutorial</a></li>\n<li>make the function <code>process</code> to be <code>pub</code>, and <code>#[no_mangle]</code></li>\n<li>compile the project with <code>cargo wasi build</code></li>\n<li><code>echo hello world &gt; test.txt</code></li>\n<li>run the command and it returns these error:</li>\n</ol>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">dir</span><span class=\"o\">=</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"err\">\\</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"err\">\\</span><span class=\"n\">debug</span><span class=\"err\">\\</span><span class=\"n\">demo</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">invoke</span><span class=\"w\"> </span><span class=\"n\">process</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">txt</span><span class=\"w\"> </span><span class=\"n\">somewhere</span><span class=\"p\">.</span><span class=\"n\">txt</span><span class=\"w\"></span>\n<span class=\"n\">warning</span>: <span class=\"nc\">using</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"o\">--</span><span class=\"n\">invoke</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"n\">that</span><span class=\"w\"> </span><span class=\"n\">takes</span><span class=\"w\"> </span><span class=\"n\">arguments</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">experimental</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">may</span><span class=\"w\"> </span><span class=\"k\">break</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">future</span><span class=\"w\"></span>\n<span class=\"n\">Error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">target</span><span class=\"err\">\\</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"err\">\\</span><span class=\"n\">debug</span><span class=\"err\">\\</span><span class=\"n\">demo</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"err\">`</span><span class=\"w\"></span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"nc\">invalid</span><span class=\"w\"> </span><span class=\"n\">digit</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">string</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 318934064,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672635503
    },
    {
        "content": "<p>huangjj27 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/855#issuecomment-1369270255\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/855\">issue #855</a>:</p>\n<blockquote>\n<p>I find out another problem with the same bug <a href=\"https://stackoverflow.com/questions/58424072/failed-to-invoke-functions-when-running-wasm-file-with-wasmtime\">on stackoverflow</a>, just linking :-}</p>\n</blockquote>",
        "id": 319106188,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672702171
    }
]