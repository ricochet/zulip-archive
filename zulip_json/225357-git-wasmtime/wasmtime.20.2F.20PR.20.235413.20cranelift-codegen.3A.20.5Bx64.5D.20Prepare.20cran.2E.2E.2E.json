[
    {
        "content": "<p>saulecabrera opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413\">PR #5413</a> from <code>expose-cranelift-codegen-for-winch</code> to <code>main</code>:</p>\n<blockquote>\n<p>This commit prepares the x64 pieces from <code>cranelift-codegen</code> to be consumed by Winch for binary emission. This change doesn't introduce or modifies functionality it makes the necessary pieces for binary emission public.</p>\n<p>This change also improves documentation where applicable. I decided to introduce <code>#[allow(missing_docs)]</code> for the <code>Avx512Opcode</code>, <code>SseOpcode</code> and <code>AvxOpcode</code>, since no documentation was present there before, and since most of it is documented in ISLE, but happy to add documentation there too. </p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 314994564,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670625212
    },
    {
        "content": "<p><strong>saulecabrera</strong> requested <a href=\"https://github.com/cfallin\">cfallin</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413\">PR #5413</a>.</p>",
        "id": 314994574,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670625216
    },
    {
        "content": "<p>saulecabrera edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413\">PR #5413</a> from <code>expose-cranelift-codegen-for-winch</code> to <code>main</code>:</p>\n<blockquote>\n<p>This commit prepares the x64 pieces from <code>cranelift-codegen</code> to be consumed by Winch for binary emission. This change doesn't introduce or modifies functionality it makes the necessary pieces for binary emission public.</p>\n<p>This change also improves documentation where applicable. I decided to introduce <code>#[allow(missing_docs)]</code> for the <code>Avx512Opcode</code>, <code>SseOpcode</code> and <code>AvxOpcode</code>, since no documentation was present there before, but happy to add documentation there too. </p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 314994797,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670625308
    },
    {
        "content": "<p>saulecabrera updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413\">PR #5413</a> from <code>expose-cranelift-codegen-for-winch</code> to <code>main</code>.</p>",
        "id": 314995025,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670625420
    },
    {
        "content": "<p>saulecabrera edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413\">PR #5413</a> from <code>expose-cranelift-codegen-for-winch</code> to <code>main</code>:</p>\n<blockquote>\n<p>This commit prepares the x64 pieces from <code>cranelift-codegen</code> to be consumed by Winch for binary emission. This change doesn't introduce or modifies functionality it makes the necessary pieces for binary emission public.</p>\n<p>This change also improves documentation where applicable. I decided to introduce <code>#[allow(missing_docs)]</code> for the <code>Avx512Opcode</code>, <code>SseOpcode</code> and <code>AvxOpcode</code>, since no documentation was present there before, but happy to add documentation there too. </p>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/compare/main...saulecabrera:wasmtime:winch-dep-cranelift-codegen\">I have a binary emission proof-of-concept branch</a> that I'm using a base to extract individual PRs.</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 314995777,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670625758
    },
    {
        "content": "<p>saulecabrera edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413\">PR #5413</a> from <code>expose-cranelift-codegen-for-winch</code> to <code>main</code>:</p>\n<blockquote>\n<p>This commit prepares the x64 pieces from <code>cranelift-codegen</code> to be consumed by Winch for binary emission. This change doesn't introduce or modifies functionality it makes the necessary pieces for binary emission public.</p>\n<p>This change also improves documentation where applicable. I decided to introduce <code>#[allow(missing_docs)]</code> for the <code>Avx512Opcode</code>, <code>SseOpcode</code> and <code>AvxOpcode</code>, since no documentation was present there before, but happy to add documentation there too if we want to document those opcodes.</p>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/compare/main...saulecabrera:wasmtime:winch-dep-cranelift-codegen\">I have a binary emission proof-of-concept branch</a> that I'm using a base to extract individual PRs.</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 314996898,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670626220
    },
    {
        "content": "<p>saulecabrera edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413\">PR #5413</a> from <code>expose-cranelift-codegen-for-winch</code> to <code>main</code>:</p>\n<blockquote>\n<p>This commit prepares the x64 pieces from <code>cranelift-codegen</code> to be consumed by Winch for binary emission. This change doesn't introduce or modifies functionality it makes the necessary pieces for binary emission public.</p>\n<p>This change also improves documentation where applicable. I decided to introduce <code>#[allow(missing_docs)]</code> for the <code>Avx512Opcode</code>, <code>SseOpcode</code> and <code>AvxOpcode</code>, but happy to add documentation there too if we want to document those opcodes.</p>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/compare/main...saulecabrera:wasmtime:winch-dep-cranelift-codegen\">I have a binary emission proof-of-concept branch</a> that I'm using a base to extract individual PRs.</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 314998695,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670626994
    },
    {
        "content": "<p>saulecabrera updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413\">PR #5413</a> from <code>expose-cranelift-codegen-for-winch</code> to <code>main</code>.</p>",
        "id": 315000998,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670628240
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413#pullrequestreview-1212369165\">PR review</a>.</p>",
        "id": 315006279,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670631447
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413#pullrequestreview-1212369165\">PR review</a>.</p>",
        "id": 315006281,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670631448
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413#discussion_r1044924556\">PR review comment</a>:</p>\n<blockquote>\n<p>s/substraction/subtraction/ (and below)</p>\n</blockquote>",
        "id": 315006282,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670631448
    },
    {
        "content": "<p>bjorn3 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413#pullrequestreview-1212571014\">PR review</a>.</p>",
        "id": 315082130,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670680586
    },
    {
        "content": "<p>bjorn3 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413#discussion_r1045088723\">PR review comment</a>:</p>\n<blockquote>\n<p>I don't think all of these should be exported at the top level. Most people won't use them, so it may be confusing. Would it make sense to make <code>machinst</code> public and instead use <code>pub(crate)</code> where things are not meant to be exported?</p>\n</blockquote>",
        "id": 315082131,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670680586
    },
    {
        "content": "<p>saulecabrera updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413\">PR #5413</a> from <code>expose-cranelift-codegen-for-winch</code> to <code>main</code>.</p>",
        "id": 315357143,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670848869
    },
    {
        "content": "<p>saulecabrera submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413#pullrequestreview-1213456868\">PR review</a>.</p>",
        "id": 315357190,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670848887
    },
    {
        "content": "<p>saulecabrera created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413#discussion_r1045782584\">PR review comment</a>:</p>\n<blockquote>\n<p>Fixed!</p>\n</blockquote>",
        "id": 315357191,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670848887
    },
    {
        "content": "<p>saulecabrera submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413#pullrequestreview-1213474932\">PR review</a>.</p>",
        "id": 315358999,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670849495
    },
    {
        "content": "<p>saulecabrera created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413#discussion_r1045792174\">PR review comment</a>:</p>\n<blockquote>\n<p>I had considered this. But didn't do it mainly for two reasons: (i) there's already a precedent: we expose <code>CompiledCode</code> and <code>TextSectionBuilder</code> at the top level; so even though there are no other uses cases aside from Winch that will use the other primitives, personally I feel it makes sense to expose the core binary emission concepts at the top level. (ii) If we want to expose them under <code>machinst</code>, to be consistent we should probably not expose <code>CompiledCode</code> and <code>TextSectionBuilder</code> at the top level and move them under <code>machinst</code> instead. But this will be a breaking change for anyone relying on those exports.</p>\n<p>Since Winch is the only use-case relying on this, I'm happy to change it if/once we have a concrete example of an issue caused by this approach. </p>\n</blockquote>",
        "id": 315359000,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670849495
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413#pullrequestreview-1213960891\">PR review</a>.</p>",
        "id": 315414450,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670864450
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413#discussion_r1046104709\">PR review comment</a>:</p>\n<blockquote>\n<p>FWIW, I think the current approach is fine, too: I agree with @saulecabrera that we'd need more refactoring to be consistent with a separation of exports into modules.</p>\n</blockquote>",
        "id": 315414452,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670864450
    },
    {
        "content": "<p>cfallin merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5413\">PR #5413</a>.</p>",
        "id": 315414520,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670864468
    }
]