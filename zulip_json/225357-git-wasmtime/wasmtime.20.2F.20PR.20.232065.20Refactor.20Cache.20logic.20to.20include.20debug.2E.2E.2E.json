[
    {
        "content": "<p>yurydelendik opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065\">PR #2065</a> from <code>refactor-cache</code> to <code>main</code>:</p>\n<blockquote>\n<p>Currently, it is a responsibility of the compiler to do caching. Moving this logic to the <code>CompiledModule</code> level. This allows early access to <em>all</em> compilation artifacts without analyzing the wasm file (only bytes hash).</p>\n</blockquote>",
        "id": 204724154,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595452698
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065\">PR #2065</a> from <code>refactor-cache</code> to <code>main</code>:</p>\n<blockquote>\n<p>Currently, it is a responsibility of the compiler to do caching. Moving this logic to the <code>CompiledModule</code> level. This allows early access to <em>all</em> compilation artifacts without analyzing the wasm file (only bytes hash).</p>\n</blockquote>",
        "id": 204729428,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595456483
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065\">PR #2065</a> from <code>refactor-cache</code> to <code>main</code>:</p>\n<blockquote>\n<p>Currently, it is a responsibility of the compiler to do caching. Moving this logic to the <code>CompiledModule</code> level. This allows early access to <em>all</em> compilation artifacts without analyzing the wasm file (only bytes hash).</p>\n</blockquote>",
        "id": 204751839,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595466901
    },
    {
        "content": "<p><strong>yurydelendik</strong> has marked <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065\">PR #2065</a> as ready for review.</p>",
        "id": 204804754,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595514682
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#pullrequestreview-454246830\">PR Review</a>.</p>",
        "id": 204812394,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595517955
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#pullrequestreview-454246830\">PR Review</a>.</p>",
        "id": 204812397,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595517955
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#discussion_r459533380\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could <code>Compiler</code> perhaps directly implement <code>Hash</code>?</p>\n</blockquote>",
        "id": 204812399,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595517955
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#discussion_r459533180\">PR Review Comment</a>:</p>\n<blockquote>\n<p>It makes me happy to see this go <span aria-label=\"fire\" class=\"emoji emoji-1f525\" role=\"img\" title=\"fire\">:fire:</span> </p>\n</blockquote>",
        "id": 204812400,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595517955
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#discussion_r459534562\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Would it be possible to do this in the <code>wasmtime</code> crate itself? The caching architecture is a pretty high-level concern so I think it'd be best if we could migrate it out of the <code>wasmtime-environ</code> crate (or maybe even migrate it to its own crate). It'd be pretty neat if this could be:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">result</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">cache_entry</span><span class=\"p\">.</span><span class=\"n\">get_data</span><span class=\"p\">((</span><span class=\"n\">compiler</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">wasm</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">CompilationArtifacts</span>::<span class=\"n\">build</span><span class=\"p\">);</span><span class=\"w\"></span>\n</code></pre></div>\n\n\n<p>(in wasmtime)</p>\n</blockquote>",
        "id": 204812401,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595517955
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065\">PR #2065</a> from <code>refactor-cache</code> to <code>main</code>:</p>\n<blockquote>\n<p>Currently, it is a responsibility of the compiler to do caching. Moving this logic to the <code>CompiledModule</code> level. This allows early access to <em>all</em> compilation artifacts without analyzing the wasm file (only bytes hash).</p>\n</blockquote>",
        "id": 204816990,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595520205
    },
    {
        "content": "<p>yurydelendik submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#pullrequestreview-454282807\">PR Review</a>.</p>",
        "id": 204816997,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595520211
    },
    {
        "content": "<p>yurydelendik created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#discussion_r459560746\">PR Review Comment</a>:</p>\n<blockquote>\n<p>done</p>\n</blockquote>",
        "id": 204816998,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595520211
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#pullrequestreview-454284344\">PR Review</a>.</p>",
        "id": 204817424,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595520392
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#pullrequestreview-454284344\">PR Review</a>.</p>",
        "id": 204817425,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595520392
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#discussion_r459561900\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Is the <code>Env</code> wrapper here needed? I think a tuple of hashtable types shoudl be hashable here</p>\n</blockquote>",
        "id": 204817426,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595520392
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#discussion_r459562175\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Can this pass <code>CompilationArtifacts::build</code> as a bare function instead of making a closure?</p>\n</blockquote>",
        "id": 204817428,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595520392
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#discussion_r459562579\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could this use destructuring like:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">Compiler</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">field1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">field2</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"bp\">self</span><span class=\"p\">;</span><span class=\"w\"></span>\n</code></pre></div>\n\n\n<p>and then hash each individual field? That way we can be sure we're not forgetting anything if the contents change over time.</p>\n</blockquote>",
        "id": 204817431,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595520392
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065\">PR #2065</a> from <code>refactor-cache</code> to <code>main</code>:</p>\n<blockquote>\n<p>Currently, it is a responsibility of the compiler to do caching. Moving this logic to the <code>CompiledModule</code> level. This allows early access to <em>all</em> compilation artifacts without analyzing the wasm file (only bytes hash).</p>\n</blockquote>",
        "id": 204818378,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595520782
    },
    {
        "content": "<p>yurydelendik submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#pullrequestreview-454292578\">PR Review</a>.</p>",
        "id": 204818709,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595520931
    },
    {
        "content": "<p>yurydelendik created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#discussion_r459568262\">PR Review Comment</a>:</p>\n<blockquote>\n<p>remove <code>Env</code>, but I do not see how to unwrap tuple to pass to CompilationArtifacts::build as params</p>\n</blockquote>",
        "id": 204818711,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595520932
    },
    {
        "content": "<p>yurydelendik edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#discussion_r459568262\">PR Review Comment</a>.</p>",
        "id": 204818726,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595520938
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065\">PR #2065</a> from <code>refactor-cache</code> to <code>main</code>:</p>\n<blockquote>\n<p>Currently, it is a responsibility of the compiler to do caching. Moving this logic to the <code>CompiledModule</code> level. This allows early access to <em>all</em> compilation artifacts without analyzing the wasm file (only bytes hash).</p>\n</blockquote>",
        "id": 204819212,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595521172
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#discussion_r459601138\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Oops, indeed!</p>\n</blockquote>",
        "id": 204825577,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595524210
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065#pullrequestreview-454334754\">PR Review</a>.</p>",
        "id": 204825578,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595524210
    },
    {
        "content": "<p>alexcrichton merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2065\">PR #2065</a>.</p>",
        "id": 204825584,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1595524215
    }
]