[
    {
        "content": "<p>saulecabrera opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4105\">PR #4105</a> from <code>expose-trap-code-on-epoch-interruption</code> to <code>main</code>:</p>\n<blockquote>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;</p>\n<p>I had a discussion via Zulip with @alexcrichton about this change. I decided to expose the <code>TrapCode</code> instead of the error (<code>EpochDeadlineError</code>) mainly to keep the same behaviour as the deprecated <a href=\"https://docs.rs/wasmtime/0.33.0/wasmtime/struct.InterruptHandle.html\">InterruptHandle approach</a>.</p>\n<p>I'm opening the PR as a draft, because I'm unsure if the usage of  <code>raise_lib_trap</code> is correct in this context. I'm assuming it is, and at the same time it seems to be the only way to set the trap code. Also, if there aren't any issues with the usage of <code>raise_lib_trap</code> it seems that the error (<code>EpochDeadlineError</code>) is not needed anymore, and it would be safe to remove the implementation (I'll do so upon confirmation).</p>\n</blockquote>",
        "id": 281361790,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651786208
    },
    {
        "content": "<p>saulecabrera edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4105\">PR #4105</a> from <code>expose-trap-code-on-epoch-interruption</code> to <code>main</code>:</p>\n<blockquote>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;</p>\n<p>I had a discussion via Zulip with @alexcrichton about this change. I decided to expose the <code>TrapCode</code> instead of the private error (<code>EpochDeadlineError</code>) mainly to keep the same behaviour as the deprecated <a href=\"https://docs.rs/wasmtime/0.33.0/wasmtime/struct.InterruptHandle.html\">InterruptHandle approach</a>.</p>\n<p>I'm opening the PR as a draft, because I'm unsure if the usage of  <code>raise_lib_trap</code> is correct in this context. I'm assuming it is, and at the same time it seems to be the only way to set the trap code. Also, if there aren't any issues with the usage of <code>raise_lib_trap</code> it seems that the error (<code>EpochDeadlineError</code>) is not needed anymore, and it would be safe to remove the implementation (I'll do so upon confirmation).</p>\n</blockquote>",
        "id": 281363198,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651786933
    },
    {
        "content": "<p>saulecabrera updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4105\">PR #4105</a> from <code>expose-trap-code-on-epoch-interruption</code> to <code>main</code>.</p>",
        "id": 281364735,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651787943
    },
    {
        "content": "<p>saulecabrera updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4105\">PR #4105</a> from <code>expose-trap-code-on-epoch-interruption</code> to <code>main</code>.</p>",
        "id": 281754130,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1652135150
    },
    {
        "content": "<p><strong>saulecabrera</strong> has marked <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4105\">PR #4105</a> as ready for review.</p>",
        "id": 281756351,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1652136674
    },
    {
        "content": "<p>saulecabrera edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4105\">PR #4105</a> from <code>expose-trap-code-on-epoch-interruption</code> to <code>main</code>:</p>\n<blockquote>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;</p>\n<p>I had a discussion via Zulip with @alexcrichton about this change. I decided to expose the <code>TrapCode</code> instead of the private error (<code>EpochDeadlineError</code>) mainly to keep the same behaviour as the deprecated <a href=\"https://docs.rs/wasmtime/0.33.0/wasmtime/struct.InterruptHandle.html\">InterruptHandle approach</a>.<br>\n</p>\n</blockquote>",
        "id": 281756810,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1652137015
    },
    {
        "content": "<p>saulecabrera submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4105#pullrequestreview-966914079\">PR review</a>.</p>",
        "id": 281757391,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1652137360
    },
    {
        "content": "<p>saulecabrera created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4105#discussion_r868565787\">PR review comment</a>:</p>\n<blockquote>\n<p>It seems that this call could be simplified in this case by exposing a <code>Trap::from_trap_code</code> function in the Trap implementation, which would take in the <code>TrapCode</code> and apply the corresponding defaults for the <code>pc</code> and <code>backtrace</code>.</p>\n<p>Didn't introduce this change right away since this is the only use case but I can totally do it if you think it's worth it. </p>\n</blockquote>",
        "id": 281757392,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1652137360
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4105#pullrequestreview-967998242\">PR review</a>.</p>",
        "id": 281840613,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1652196446
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4105#pullrequestreview-967998242\">PR review</a>.</p>",
        "id": 281840614,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1652196446
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4105#discussion_r869381841\">PR review comment</a>:</p>\n<blockquote>\n<p>This seems reasonable enough to me for now, if this pops up more often we can make a helper for it</p>\n</blockquote>",
        "id": 281840615,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1652196446
    },
    {
        "content": "<p>alexcrichton merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4105\">PR #4105</a>.</p>",
        "id": 281840624,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1652196451
    }
]