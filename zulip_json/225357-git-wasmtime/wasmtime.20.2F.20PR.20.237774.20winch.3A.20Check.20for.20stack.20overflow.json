[
    {
        "content": "<p>elliottt opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a> from <code>elliottt:trevor/winch-stack-overflow</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>Add stack overflow checking to the x64 backend in winch, and enable the runtime test for overflow. The method for checking for overflow is to compare <code>sp</code> against the stack limit from <code>vmctx</code> after the stack pointer has been adjusted to hold the locals for the function.</p>\n<p>This PR changes all winch filetests, as there is new code emitted during function entry. The diffs could be shrunk down a bit if we first removed the isntruction offsets in disassembly.</p>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 412616619,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705091823
    },
    {
        "content": "<p><strong>elliottt</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers\">wasmtime-compiler-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>.</p>",
        "id": 412616620,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705091823
    },
    {
        "content": "<p><strong>elliottt</strong> requested <a href=\"https://github.com/abrown\">abrown</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>.</p>",
        "id": 412616621,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705091823
    },
    {
        "content": "<p><strong>elliottt</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>.</p>",
        "id": 412616623,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705091824
    },
    {
        "content": "<p><strong>elliottt</strong> requested <a href=\"https://github.com/pchickey\">pchickey</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>.</p>",
        "id": 412616624,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705091824
    },
    {
        "content": "<p><strong>elliottt</strong> requested <a href=\"https://github.com/saulecabrera\">saulecabrera</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>.</p>",
        "id": 412616652,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705091842
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>.</p>",
        "id": 412624178,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705095502
    },
    {
        "content": "<p>elliottt edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>:</p>\n<blockquote>\n<p>Add stack overflow checking to the x64 backend in winch, and enable the runtime test for overflow. The method for checking for overflow is to compare <code>sp</code> against the stack limit from <code>vmctx</code> after the stack pointer has been adjusted to hold the locals for the function.</p>\n<p>This PR changes all winch filetests, as there is new code emitted during function entry. The diffs could be shrunk down a bit if we first removed the instruction offsets in the disassembly.</p>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 412624294,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705095582
    },
    {
        "content": "<p>elliottt edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>:</p>\n<blockquote>\n<p>Add stack overflow checking to the x64 backend in winch, and enable the runtime test for overflow. The method for checking for overflow is to compare <code>sp</code> against the stack limit from <code>vmctx</code> after the stack pointer has been adjusted to hold the locals for the function.</p>\n<p>This PR changes all winch filetests, as there is new code emitted during function entry. The diffs could be shrunk down a bit if we first removed the instruction offsets in the disassembly. (We omit the offsets in the cranelift filetests as well, for this reason.)</p>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 412624401,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705095623
    },
    {
        "content": "<p>github-actions[bot] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774#issuecomment-1890150350\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>:</p>\n<blockquote>\n<h4>Subscribe to Label Action</h4>\n<p>cc @saulecabrera</p>\n<p>&lt;details&gt;<br>\nThis issue or pull request has been labeled: \"winch\"</p>\n<p>Thus the following users have been cc'd because of the following labels:</p>\n<ul>\n<li>saulecabrera: winch</li>\n</ul>\n<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>\n<p><a href=\"https://github.com/bytecodealliance/subscribe-to-label-action\">Learn more.</a><br>\n&lt;/details&gt;</p>\n</blockquote>",
        "id": 412638040,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705103108
    },
    {
        "content": "<p>saulecabrera submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774#pullrequestreview-1822346232\">PR review</a>:</p>\n<blockquote>\n<p>LGTM, thanks! Just a comment regarding tests, and after that this should be ready to land. </p>\n<p>Regarding filetests and disassembly, -- as mentioned offline -- I think it's a very reasonable thing to do. I just couldn't come up with a straightforward and sound way to do it. I'd like to keep labels around for filetests that require jumps and such, if possible. Perhaps we can continue the discussion in <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7552\">https://github.com/bytecodealliance/wasmtime/issues/7552</a>?</p>\n</blockquote>",
        "id": 413045506,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705362250
    },
    {
        "content": "<p>saulecabrera submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774#pullrequestreview-1822346232\">PR review</a>:</p>\n<blockquote>\n<p>LGTM, thanks! Just a comment regarding tests, and after that this should be ready to land. </p>\n<p>Regarding filetests and disassembly, -- as mentioned offline -- I think it's a very reasonable thing to do. I just couldn't come up with a straightforward and sound way to do it. I'd like to keep labels around for filetests that require jumps and such, if possible. Perhaps we can continue the discussion in <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7552\">https://github.com/bytecodealliance/wasmtime/issues/7552</a>?</p>\n</blockquote>",
        "id": 413045507,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705362250
    },
    {
        "content": "<p>saulecabrera created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774#discussion_r1452802105\">PR review comment</a>:</p>\n<blockquote>\n<p>Can we also enable the stack exhaustion tests for <code>call_indirect</code>?</p>\n</blockquote>",
        "id": 413045508,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705362250
    },
    {
        "content": "<p>saulecabrera submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774#pullrequestreview-1822346232\">PR review</a>:</p>\n<blockquote>\n<p>LGTM, thanks! Just a comment regarding tests, and after that this should be ready to land. </p>\n<p>Regarding filetests and disassembly, -- as mentioned offline -- I think it's a very reasonable thing to do. I just couldn't come up with a straightforward and sound way to do it, in the brief exploration that I did for this. I'd like to keep labels around for filetests that require jumps and such, if possible. Perhaps we can continue the discussion in <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7552\">https://github.com/bytecodealliance/wasmtime/issues/7552</a>?</p>\n</blockquote>",
        "id": 413045782,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705362419
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>.</p>",
        "id": 413207002,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705426881
    },
    {
        "content": "<p>saulecabrera <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774#issuecomment-1894513693\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>:</p>\n<blockquote>\n<p>I _think_ this is due to incomplete unwind information encoding in Windows. All test that involve traps, currently fail on Windows for this reason. I think it's fine to ignore the tests introduced in this PR, temporarily in <a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/build.rs#L210\">https://github.com/bytecodealliance/wasmtime/blob/main/build.rs#L210</a></p>\n</blockquote>",
        "id": 413238977,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705439241
    },
    {
        "content": "<p>elliottt <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774#issuecomment-1894672729\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>:</p>\n<blockquote>\n<blockquote>\n<p>I _think_ this is due to incomplete unwind information encoding in Windows. All test that involve traps, currently fail on Windows for this reason. I think it's fine to ignore the tests introduced in this PR, temporarily in <a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/build.rs#L210\">https://github.com/bytecodealliance/wasmtime/blob/main/build.rs#L210</a></p>\n</blockquote>\n<p>Thank you for tracking this down! I was really dreading having to debug a windows failure <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span> </p>\n</blockquote>",
        "id": 415381743,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705446967
    },
    {
        "content": "<p><strong>elliottt</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers\">wasmtime-default-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>.</p>",
        "id": 415384090,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705447956
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>.</p>",
        "id": 415384091,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705447956
    },
    {
        "content": "<p>elliottt <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774#issuecomment-1894696110\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>:</p>\n<blockquote>\n<p>Also in an argument for merging #7782 first, removing instruction offsets cuts the diff of this PR in half <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> </p>\n</blockquote>",
        "id": 415385711,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705448664
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>.</p>",
        "id": 416089478,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705514599
    },
    {
        "content": "<p>elliottt edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>:</p>\n<blockquote>\n<p>Add stack overflow checking to the x64 backend in winch, and enable the runtime test for overflow. The method for checking for overflow is to compare <code>sp</code> against the stack limit from <code>vmctx</code> after the stack pointer has been adjusted to hold the locals for the function.</p>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 416091994,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705515442
    },
    {
        "content": "<p>elliottt merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7774\">PR #7774</a>.</p>",
        "id": 416101164,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1705518709
    }
]