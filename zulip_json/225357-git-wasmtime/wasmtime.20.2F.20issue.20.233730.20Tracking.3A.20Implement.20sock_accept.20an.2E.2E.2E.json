[
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>With the addition of <code>sock_accept()</code> in <a href=\"https://github.com/bytecodealliance/wasi/commit/984fa4fc17a074e8ea720cf319ad5e0357a991c7\"><code>wasi-0.11.0</code></a>, wasmtime can now implement basic networking for pre-opened sockets.</p>\n<h3>Todo</h3>\n<ul>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a></li>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">https://github.com/bytecodealliance/wasmtime/pull/3729</a></li>\n<li>[ ] Wasi definition of <code>Preopentype</code> for sockets (listener and stream, tcp and unix)</li>\n<li>[ ] Non-busy polling on Windows</li>\n<li>[ ] More networking test cases<br>\n</li>\n</ul>\n</blockquote>",
        "id": 269563076,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643285317
    },
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>With the addition of <code>sock_accept()</code> in <a href=\"https://github.com/bytecodealliance/wasi/commit/984fa4fc17a074e8ea720cf319ad5e0357a991c7\"><code>wasi-0.11.0</code></a>, wasmtime can now implement basic networking for pre-opened sockets.</p>\n<h3>Todo</h3>\n<ul>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a></li>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">https://github.com/bytecodealliance/wasmtime/pull/3729</a></li>\n<li>[ ] Rust: <a href=\"https://github.com/rust-lang/rust/pull/93158\">https://github.com/rust-lang/rust/pull/93158</a></li>\n<li>[ ] Wasi definition of <code>Preopentype</code> for sockets (listener and stream, tcp and unix)</li>\n<li>[ ] Non-busy polling on Windows</li>\n<li>[ ] More networking test cases</li>\n<li>[ ] Discussion of <code>SocketAddr</code> return value for <code>::accept()</code> in the <a href=\"https://github.com/rust-lang/rust/pull/93158\">rustsrc PR</a></li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">        </span><span class=\"nb\">Ok</span><span class=\"p\">((</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"n\">TcpStream</span>::<span class=\"n\">from_inner</span><span class=\"p\">(</span><span class=\"k\">unsafe</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">Socket</span>::<span class=\"n\">from_raw_fd</span><span class=\"p\">(</span><span class=\"n\">fd</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">}),</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"c1\">// WASI has no concept of SocketAddr yet</span>\n<span class=\"w\">            </span><span class=\"c1\">// return an unspecified IPv4Addr</span>\n<span class=\"w\">            </span><span class=\"n\">SocketAddr</span>::<span class=\"n\">new</span><span class=\"p\">(</span><span class=\"n\">Ipv4Addr</span>::<span class=\"n\">UNSPECIFIED</span><span class=\"p\">.</span><span class=\"n\">into</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">),</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">))</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 269563236,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643285442
    },
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>With the addition of <code>sock_accept()</code> in <a href=\"https://github.com/bytecodealliance/wasi/commit/984fa4fc17a074e8ea720cf319ad5e0357a991c7\"><code>wasi-0.11.0</code></a>, wasmtime can now implement basic networking for pre-opened sockets.</p>\n<h3>Todo</h3>\n<ul>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a></li>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">https://github.com/bytecodealliance/wasmtime/pull/3729</a></li>\n<li>[ ] Rust: <a href=\"https://github.com/rust-lang/rust/pull/93158\">https://github.com/rust-lang/rust/pull/93158</a></li>\n<li>[ ] Wasi definition of <code>Preopentype</code> for sockets (listener and stream, tcp and unix) to make <code>fd_prestat_get()</code> work for sockets</li>\n<li>[ ] Non-busy polling on Windows</li>\n<li>[ ] More networking test cases</li>\n<li>[ ] Discussion of <code>SocketAddr</code> return value for <code>::accept()</code> in the <a href=\"https://github.com/rust-lang/rust/pull/93158\">rustsrc PR</a></li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">        </span><span class=\"nb\">Ok</span><span class=\"p\">((</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"n\">TcpStream</span>::<span class=\"n\">from_inner</span><span class=\"p\">(</span><span class=\"k\">unsafe</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">Socket</span>::<span class=\"n\">from_raw_fd</span><span class=\"p\">(</span><span class=\"n\">fd</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">}),</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"c1\">// WASI has no concept of SocketAddr yet</span>\n<span class=\"w\">            </span><span class=\"c1\">// return an unspecified IPv4Addr</span>\n<span class=\"w\">            </span><span class=\"n\">SocketAddr</span>::<span class=\"n\">new</span><span class=\"p\">(</span><span class=\"n\">Ipv4Addr</span>::<span class=\"n\">UNSPECIFIED</span><span class=\"p\">.</span><span class=\"n\">into</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">),</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">))</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 269736703,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643377219
    },
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>With the addition of <code>sock_accept()</code> in <a href=\"https://github.com/bytecodealliance/wasi/commit/984fa4fc17a074e8ea720cf319ad5e0357a991c7\"><code>wasi-0.11.0</code></a>, wasmtime can now implement basic networking for pre-opened sockets.</p>\n<h3>Todo</h3>\n<ul>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a></li>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">https://github.com/bytecodealliance/wasmtime/pull/3729</a></li>\n<li>[ ] Rust: <a href=\"https://github.com/rust-lang/rust/pull/93158\">https://github.com/rust-lang/rust/pull/93158</a></li>\n<li>[ ] Wasi definition of <code>Preopentype</code> for sockets (listener and stream, tcp and unix) to make <code>fd_prestat_get()</code> work for sockets</li>\n<li>[ ] Non-busy polling on Windows</li>\n<li>[ ] Fix <code>get_fdflags()</code> for sockets on Windows</li>\n<li>[ ] More networking test cases</li>\n<li>[ ] Discussion of <code>SocketAddr</code> return value for <code>::accept()</code> in the <a href=\"https://github.com/rust-lang/rust/pull/93158\">rustsrc PR</a></li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">        </span><span class=\"nb\">Ok</span><span class=\"p\">((</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"n\">TcpStream</span>::<span class=\"n\">from_inner</span><span class=\"p\">(</span><span class=\"k\">unsafe</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">Socket</span>::<span class=\"n\">from_raw_fd</span><span class=\"p\">(</span><span class=\"n\">fd</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">}),</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"c1\">// WASI has no concept of SocketAddr yet</span>\n<span class=\"w\">            </span><span class=\"c1\">// return an unspecified IPv4Addr</span>\n<span class=\"w\">            </span><span class=\"n\">SocketAddr</span>::<span class=\"n\">new</span><span class=\"p\">(</span><span class=\"n\">Ipv4Addr</span>::<span class=\"n\">UNSPECIFIED</span><span class=\"p\">.</span><span class=\"n\">into</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">),</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">))</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 269744237,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643380278
    },
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>With the addition of <code>sock_accept()</code> in <a href=\"https://github.com/bytecodealliance/wasi/commit/984fa4fc17a074e8ea720cf319ad5e0357a991c7\"><code>wasi-0.11.0</code></a>, wasmtime can now implement basic networking for pre-opened sockets.</p>\n<h3>Todo</h3>\n<ul>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a></li>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">https://github.com/bytecodealliance/wasmtime/pull/3729</a></li>\n<li>[x] Rust: <a href=\"https://github.com/rust-lang/rust/pull/93158\">https://github.com/rust-lang/rust/pull/93158</a></li>\n<li>[ ] Wasi definition of <code>Preopentype</code> for sockets (listener and stream, tcp and unix) to make <code>fd_prestat_get()</code> work for sockets</li>\n<li>[ ] Non-busy polling on Windows</li>\n<li>[ ] Fix <code>get_fdflags()</code> for sockets on Windows</li>\n<li>[ ] More networking test cases</li>\n<li>[ ] Discussion of <code>SocketAddr</code> return value for <code>::accept()</code> in the <a href=\"https://github.com/rust-lang/rust/pull/93158\">rustsrc PR</a></li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">        </span><span class=\"nb\">Ok</span><span class=\"p\">((</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"n\">TcpStream</span>::<span class=\"n\">from_inner</span><span class=\"p\">(</span><span class=\"k\">unsafe</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">Socket</span>::<span class=\"n\">from_raw_fd</span><span class=\"p\">(</span><span class=\"n\">fd</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">}),</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"c1\">// WASI has no concept of SocketAddr yet</span>\n<span class=\"w\">            </span><span class=\"c1\">// return an unspecified IPv4Addr</span>\n<span class=\"w\">            </span><span class=\"n\">SocketAddr</span>::<span class=\"n\">new</span><span class=\"p\">(</span><span class=\"n\">Ipv4Addr</span>::<span class=\"n\">UNSPECIFIED</span><span class=\"p\">.</span><span class=\"n\">into</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">),</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">))</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 270027779,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643634490
    },
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>With the addition of <code>sock_accept()</code> in <a href=\"https://github.com/bytecodealliance/wasi/commit/984fa4fc17a074e8ea720cf319ad5e0357a991c7\"><code>wasi-0.11.0</code></a>, wasmtime can now implement basic networking for pre-opened sockets.</p>\n<h3>Todo</h3>\n<ul>\n<li>[x] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a></li>\n<li>[ ] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">https://github.com/bytecodealliance/wasmtime/pull/3729</a></li>\n<li>[x] Rust: <a href=\"https://github.com/rust-lang/rust/pull/93158\">https://github.com/rust-lang/rust/pull/93158</a></li>\n<li>[ ] Wasi definition of <code>Preopentype</code> for sockets (listener and stream, tcp and unix) to make <code>fd_prestat_get()</code> work for sockets</li>\n<li>[ ] Non-busy polling on Windows</li>\n<li>[ ] Fix <code>get_fdflags()</code> for sockets on Windows</li>\n<li>[ ] More networking test cases</li>\n<li>[ ] Discussion of <code>SocketAddr</code> return value for <code>::accept()</code> in the <a href=\"https://github.com/rust-lang/rust/pull/93158\">rustsrc PR</a></li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">        </span><span class=\"nb\">Ok</span><span class=\"p\">((</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"n\">TcpStream</span>::<span class=\"n\">from_inner</span><span class=\"p\">(</span><span class=\"k\">unsafe</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">Socket</span>::<span class=\"n\">from_raw_fd</span><span class=\"p\">(</span><span class=\"n\">fd</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">}),</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"c1\">// WASI has no concept of SocketAddr yet</span>\n<span class=\"w\">            </span><span class=\"c1\">// return an unspecified IPv4Addr</span>\n<span class=\"w\">            </span><span class=\"n\">SocketAddr</span>::<span class=\"n\">new</span><span class=\"p\">(</span><span class=\"n\">Ipv4Addr</span>::<span class=\"n\">UNSPECIFIED</span><span class=\"p\">.</span><span class=\"n\">into</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">),</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">))</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 270164249,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643701501
    },
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>With the addition of <code>sock_accept()</code> in <a href=\"https://github.com/bytecodealliance/wasi/commit/984fa4fc17a074e8ea720cf319ad5e0357a991c7\"><code>wasi-0.11.0</code></a>, wasmtime can now implement basic networking for pre-opened sockets.</p>\n<h3>Todo</h3>\n<ul>\n<li>[x] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a></li>\n<li>[x] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">https://github.com/bytecodealliance/wasmtime/pull/3729</a></li>\n<li>[x] Rust: <a href=\"https://github.com/rust-lang/rust/pull/93158\">https://github.com/rust-lang/rust/pull/93158</a></li>\n<li>[ ] Wasi definition of <code>Preopentype</code> for sockets (listener and stream, tcp and unix) to make <code>fd_prestat_get()</code> work for sockets</li>\n<li>[ ] Non-busy polling on Windows</li>\n<li>[ ] Fix <code>get_fdflags()</code> for sockets on Windows</li>\n<li>[ ] More networking test cases</li>\n<li>[ ] Discussion of <code>SocketAddr</code> return value for <code>::accept()</code> in the <a href=\"https://github.com/rust-lang/rust/pull/93158\">rustsrc PR</a></li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">        </span><span class=\"nb\">Ok</span><span class=\"p\">((</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"n\">TcpStream</span>::<span class=\"n\">from_inner</span><span class=\"p\">(</span><span class=\"k\">unsafe</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">Socket</span>::<span class=\"n\">from_raw_fd</span><span class=\"p\">(</span><span class=\"n\">fd</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">}),</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"c1\">// WASI has no concept of SocketAddr yet</span>\n<span class=\"w\">            </span><span class=\"c1\">// return an unspecified IPv4Addr</span>\n<span class=\"w\">            </span><span class=\"n\">SocketAddr</span>::<span class=\"n\">new</span><span class=\"p\">(</span><span class=\"n\">Ipv4Addr</span>::<span class=\"n\">UNSPECIFIED</span><span class=\"p\">.</span><span class=\"n\">into</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">),</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">))</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 282759636,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1652864955
    },
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>With the addition of <code>sock_accept()</code> in <a href=\"https://github.com/bytecodealliance/wasi/commit/984fa4fc17a074e8ea720cf319ad5e0357a991c7\"><code>wasi-0.11.0</code></a>, wasmtime can now implement basic networking for pre-opened sockets.</p>\n<h3>Todo</h3>\n<ul>\n<li>[x] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a></li>\n<li>[x] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">https://github.com/bytecodealliance/wasmtime/pull/3729</a></li>\n<li>[x] Rust: <a href=\"https://github.com/rust-lang/rust/pull/93158\">https://github.com/rust-lang/rust/pull/93158</a></li>\n<li>[ ] Wasi definition of <code>Preopentype</code> for sockets (listener and stream, tcp and unix) to make <code>fd_prestat_get()</code> work for sockets</li>\n<li>[ ] Non-busy polling on Windows</li>\n<li>[ ] Fix <code>get_fdflags()</code> for sockets on Windows</li>\n<li>[ ] More networking test cases</li>\n<li>[x] Discussion of <code>SocketAddr</code> return value for <code>::accept()</code> in the <a href=\"https://github.com/rust-lang/rust/pull/93158\">rustsrc PR</a></li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">        </span><span class=\"nb\">Ok</span><span class=\"p\">((</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"n\">TcpStream</span>::<span class=\"n\">from_inner</span><span class=\"p\">(</span><span class=\"k\">unsafe</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">Socket</span>::<span class=\"n\">from_raw_fd</span><span class=\"p\">(</span><span class=\"n\">fd</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">}),</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"c1\">// WASI has no concept of SocketAddr yet</span>\n<span class=\"w\">            </span><span class=\"c1\">// return an unspecified IPv4Addr</span>\n<span class=\"w\">            </span><span class=\"n\">SocketAddr</span>::<span class=\"n\">new</span><span class=\"p\">(</span><span class=\"n\">Ipv4Addr</span>::<span class=\"n\">UNSPECIFIED</span><span class=\"p\">.</span><span class=\"n\">into</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">),</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">))</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 282760091,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1652865188
    },
    {
        "content": "<p>huangjj27 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730#issuecomment-1345258572\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>How is this going on? I try to use just  <code>std::net::TcpListener</code> to handle TcpStream and it raises errors that wasi is not supported yet.</p>\n</blockquote>",
        "id": 315073162,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1670676739
    },
    {
        "content": "<p>hlubek <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730#issuecomment-1458152084\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>Is there a way to use <code>sock_accept</code> (and reading / writing) without having a busy wait loop?<br>\nWith wasmtime I couldn't see that <code>poll_oneoff</code> could be used to wait on the preopened fd to wait for a new connection.</p>\n</blockquote>",
        "id": 340106283,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1678194882
    },
    {
        "content": "<p>Kerosin3 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730#issuecomment-1475243846\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<blockquote>\n<p>How is this going on? I try to use just <code>std::net::TcpListener</code> to handle TcpStream and it raises errors that wasi is not supported yet.</p>\n</blockquote>\n<p>Any success in this direction?  <br>\n</p>\n</blockquote>",
        "id": 342929588,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679230067
    },
    {
        "content": "<p>Kerosin3 deleted a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730#issuecomment-1475243846\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<blockquote>\n<p>How is this going on? I try to use just <code>std::net::TcpListener</code> to handle TcpStream and it raises errors that wasi is not supported yet.</p>\n</blockquote>\n<p>Any success in this direction?  <br>\n</p>\n</blockquote>",
        "id": 342931220,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679230673
    },
    {
        "content": "<p>Kerosin3 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730#issuecomment-1476189427\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<blockquote>\n<p>How is this going on? I try to use just <code>std::net::TcpListener</code> to handle TcpStream and it raises errors that wasi is not supported yet.<br>\npassing <code> --tcplisten=127.0.0.1:10000 </code>  to wasmtime and then </p>\n</blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"n\">server</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">s</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"k\">unsafe</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">std</span>::<span class=\"n\">net</span>::<span class=\"n\">TcpStream</span>::<span class=\"n\">from_raw_fd</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">};</span>\n<span class=\"w\">  </span><span class=\"n\">s</span><span class=\"p\">.</span><span class=\"n\">set_nonblocking</span><span class=\"p\">(</span><span class=\"kc\">true</span><span class=\"p\">).</span><span class=\"n\">context</span><span class=\"p\">(</span><span class=\"s\">\"failed to set non-blocking flag on socket\"</span><span class=\"p\">)</span><span class=\"o\">?</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">TcpListener</span>::<span class=\"n\">from_std</span><span class=\"p\">(</span><span class=\"n\">stdlistener</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>makes the passed socket available to use in server app.</p>\n<p>btw I dont know how to perform connect when writing a client app.<br>\npassing <code> --tcplisten=127.0.0.1:10000 </code> to client wasm app in case server is running is not possible. (socket already in use)<br>\nbut enarx example seems to achieve this functionality <a href=\"http://url\">https://github.com/enarx/codex/blob/main/demos/chat-client/rust/src/main.rs#L32</a><br>\nI still haven't figured out whether this functionality implemented in wasi .. If anyone can provide any info about how pass a socket to wasm client via wasmtime to perform a connection.. would be great</p>\n</blockquote>",
        "id": 343112055,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679317153
    },
    {
        "content": "<p>maxwellflitton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730#issuecomment-2084918668\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>@Kerosin3 did you have any luck with this? I just want the TCP to be listening from the wasmtime runtime </p>\n</blockquote>",
        "id": 436238510,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1714472225
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>With the addition of <code>sock_accept()</code> in <a href=\"https://github.com/bytecodealliance/wasi/commit/984fa4fc17a074e8ea720cf319ad5e0357a991c7\"><code>wasi-0.11.0</code></a>, wasmtime can now implement basic networking for pre-opened sockets.</p>\n<h3>Todo</h3>\n<ul>\n<li>[x] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a></li>\n<li>[x] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">https://github.com/bytecodealliance/wasmtime/pull/3729</a></li>\n<li>[x] Rust: <a href=\"https://github.com/rust-lang/rust/pull/93158\">https://github.com/rust-lang/rust/pull/93158</a></li>\n<li>[ ] Wasi definition of <code>Preopentype</code> for sockets (listener and stream, tcp and unix) to make <code>fd_prestat_get()</code> work for sockets</li>\n<li>[ ] Non-busy polling on Windows</li>\n<li>[ ] Fix <code>get_fdflags()</code> for sockets on Windows</li>\n<li>[ ] More networking test cases</li>\n<li>[x] Discussion of <code>SocketAddr</code> return value for <code>::accept()</code> in the <a href=\"https://github.com/rust-lang/rust/pull/93158\">rustsrc PR</a></li>\n</ul>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">        </span><span class=\"nb\">Ok</span><span class=\"p\">((</span>\n<span class=\"w\">            </span><span class=\"n\">TcpStream</span>::<span class=\"n\">from_inner</span><span class=\"p\">(</span><span class=\"k\">unsafe</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">Socket</span>::<span class=\"n\">from_raw_fd</span><span class=\"p\">(</span><span class=\"n\">fd</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">_</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">}),</span>\n<span class=\"w\">            </span><span class=\"c1\">// WASI has no concept of SocketAddr yet</span>\n<span class=\"w\">            </span><span class=\"c1\">// return an unspecified IPv4Addr</span>\n<span class=\"w\">            </span><span class=\"n\">SocketAddr</span>::<span class=\"n\">new</span><span class=\"p\">(</span><span class=\"n\">Ipv4Addr</span>::<span class=\"n\">UNSPECIFIED</span><span class=\"p\">.</span><span class=\"n\">into</span><span class=\"p\">(),</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"p\">),</span>\n<span class=\"w\">        </span><span class=\"p\">))</span>\n</code></pre></div>\n</blockquote>",
        "id": 436675962,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1714650806
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730#issuecomment-2090312148\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>I'm actually going to go ahead and close this as more-or-less not planned at this time. The wasip1 proposal's implementation of sockets was never fully completed, however the wasip2 implementation does have a full suite of socket-based APIs for use. If it works I'd recommend using the wasip2-based APIs.</p>\n</blockquote>",
        "id": 436675966,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1714650806
    },
    {
        "content": "<p>FrankReh <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730#issuecomment-2090461623\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>I've actually seen the <code>mio</code> Wasm tcp listener just work with the latest <code>wasmtime</code>, once I used the <code>-S preview2=n -S tcplisten=...</code> options to run. I had to modify some lines within the <code>mio</code> src too since it is now treating warnings as errors and the wasi build target of <code>mio</code> was causing all sorts of warnings (well at least two, my memory of what all the failures were two days ago is fuzzy).</p>\n<p>So the <code>mio</code> Wasm example is able to listen to a socket opened up by <code>wasmtime</code> and interact with <code>nc</code> processes I opened from other terminals. It's cool and I actually didn't expect it to work, so I may dig a little deeper to understand how it works with a Wasm module (a preview1 image).</p>\n</blockquote>",
        "id": 436689755,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1714655332
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730#issuecomment-2093280090\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3730\">issue #3730</a>:</p>\n<blockquote>\n<p>I commented in another issue as well but if it aligns with your goals one thing that might be good is to implement mio's support for WASI in terms of the wasip2 target with wasi-sockets. Otherwise though I'm glad you were able to find the <code>-Spreview2=n</code> flag for local testing for now (sorry again for the bad name...)</p>\n</blockquote>",
        "id": 436911872,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1714751418
    }
]