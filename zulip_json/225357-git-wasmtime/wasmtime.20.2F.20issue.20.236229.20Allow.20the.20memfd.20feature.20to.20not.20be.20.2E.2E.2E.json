[
    {
        "content": "<p>hurae opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6229\">issue #6229</a>:</p>\n<blockquote>\n<p>So that I can use wasm in very low Linux kernel version, such as <code>2.6.32</code> .</p>\n<p>I am trying to make a plugin system based on wasmtime to fit all OS. When targeting to <code>x86_64-unknown-linux-musl</code>, it compiles, but when I try to run it on <code>CentOS 6.6</code> or <code>Ubuntu 14.04</code>, it just report the follows:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">-</span><span class=\"n\">amd64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">musl</span><span class=\"o\">-</span><span class=\"n\">minf</span>\n<span class=\"n\">Error</span>: <span class=\"nc\">Failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">instantiate</span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">cannot</span><span class=\"w\"> </span><span class=\"n\">create</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">memfd</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"nc\">Function</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">implemented</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">os</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"mi\">38</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>The wasmtime and enabled features:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"https://github.com/bytecodealliance/wasmtime\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">rev</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"cc1c14ac913be13329e5cfc91c33e053ab722132\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">features</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"w\">  </span><span class=\"s\">\"component-model\"</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"s\">\"async\"</span><span class=\"p\">,</span>\n<span class=\"p\">]</span><span class=\"w\"> </span><span class=\"p\">}</span>\n</code></pre></div>\n<p>AFIK, CoW which relies on <code>memfd_create</code> is just not necessary, so can I get an option to not using it (in the feature form). It seems it's the only thing that prevents wasmtime to startup under older Linux kernel.</p>\n</blockquote>",
        "id": 350755448,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1681818882
    },
    {
        "content": "<p>hurae edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6229\">issue #6229</a>:</p>\n<blockquote>\n<p>So that I can use wasm in very low Linux kernel version, such as <code>2.6.32</code> .</p>\n<p>I am trying to make a plugin system based on wasmtime to fit all OS. When targeting to <code>x86_64-unknown-linux-musl</code>, it compiles, but when I try to run it on <code>CentOS 6.6</code> or <code>Ubuntu 14.04</code>, it just report the follows:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">-</span><span class=\"n\">amd64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">musl</span><span class=\"o\">-</span><span class=\"n\">minf</span>\n<span class=\"n\">Error</span>: <span class=\"nc\">Failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">instantiate</span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">cannot</span><span class=\"w\"> </span><span class=\"n\">create</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">memfd</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"nc\">Function</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">implemented</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">os</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"mi\">38</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>The wasmtime version and enabled features:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"https://github.com/bytecodealliance/wasmtime\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">rev</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"cc1c14ac913be13329e5cfc91c33e053ab722132\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">features</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"w\">  </span><span class=\"s\">\"component-model\"</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"s\">\"async\"</span><span class=\"p\">,</span>\n<span class=\"p\">]</span><span class=\"w\"> </span><span class=\"p\">}</span>\n</code></pre></div>\n<p>AFIK, CoW which relies on <code>memfd_create</code> is just not necessary, so can I get an option to not using it (in the feature form). It seems it's the only thing that prevents wasmtime to startup under older Linux kernel.</p>\n</blockquote>",
        "id": 350755601,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1681818911
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6229#issuecomment-1513005858\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6229\">issue #6229</a>:</p>\n<blockquote>\n<p>I think you can do <code>config.memory_init_cow(false)</code>.</p>\n</blockquote>",
        "id": 350762677,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1681820530
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6229#issuecomment-1513437134\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6229\">issue #6229</a>:</p>\n<blockquote>\n<p>Thanks for the report! I've also posted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6230\">https://github.com/bytecodealliance/wasmtime/pull/6230</a> in addition to what @bjorn3 mentioned, to handle this in the future without needing explicit configuration.</p>\n</blockquote>",
        "id": 350825015,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1681834036
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6229\">issue #6229</a>:</p>\n<blockquote>\n<p>So that I can use wasm in very low Linux kernel version, such as <code>2.6.32</code> .</p>\n<p>I am trying to make a plugin system based on wasmtime to fit all OS. When targeting to <code>x86_64-unknown-linux-musl</code>, it compiles, but when I try to run it on <code>CentOS 6.6</code> or <code>Ubuntu 14.04</code>, it just report the follows:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">-</span><span class=\"n\">amd64</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">musl</span><span class=\"o\">-</span><span class=\"n\">minf</span>\n<span class=\"n\">Error</span>: <span class=\"nc\">Failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">instantiate</span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">cannot</span><span class=\"w\"> </span><span class=\"n\">create</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">memfd</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"nc\">Function</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">implemented</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">os</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"w\"> </span><span class=\"mi\">38</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>The wasmtime version and enabled features:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"https://github.com/bytecodealliance/wasmtime\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">rev</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s\">\"cc1c14ac913be13329e5cfc91c33e053ab722132\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">features</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">[</span>\n<span class=\"w\">  </span><span class=\"s\">\"component-model\"</span><span class=\"p\">,</span>\n<span class=\"w\">  </span><span class=\"s\">\"async\"</span><span class=\"p\">,</span>\n<span class=\"p\">]</span><span class=\"w\"> </span><span class=\"p\">}</span>\n</code></pre></div>\n<p>AFIK, CoW which relies on <code>memfd_create</code> is just not necessary, so can I get an option to not using it (in the feature form). It seems it's the only thing that prevents wasmtime to startup under older Linux kernel.</p>\n</blockquote>",
        "id": 350844757,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1681838858
    }
]