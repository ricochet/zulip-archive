[
    {
        "content": "<p>abrown opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5274\">PR #5274</a> from <code>bench-wasi</code> to <code>main</code>:</p>\n<blockquote>\n<p>In order to properly understand the impact of providing thread-safe<br>\nimplmentations of WASI contexts (<a href=\"https://github.com/bytecodealliance/wasmtime/issues/5235\">https://github.com/bytecodealliance/wasmtime/issues/5235</a>), we need benchmarks that measure<br>\nthe current performance of WASI calls using Wiggle. This change adds<br>\nseveral common WASI scenarios as WAT files (see <code>benches/wasi/*.wat</code>)<br>\nand benchmarks them with <code>criterion</code>. Using <code>criterion</code>'s <code>iter_custom</code>,<br>\nthe WAT file runs the desired number of benchmark iterations internally<br>\nand the total duration of the runs is divided to get the average time<br>\nfor each loop iteration.</p>\n<p>Why WAT? When compiling these benchmarks from Rust to <code>wasm32-wasi</code>, the<br>\noutput files are large, contain other WASI imports than the desired<br>\nones, and overall it is difficult to tell if we are measuring what we<br>\nexpect. By hand-writing the WAT, it is (slightly) more clear what each<br>\nbenchmark is doing.<br>\n@<a href=\"https://github.com/bytecodealliance/wasmtime/commits?author=abrown\">abrown</a><br>\nabrown committed</p>\n</blockquote>",
        "id": 310304125,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668550995
    },
    {
        "content": "<p>abrown edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5274\">PR #5274</a> from <code>bench-wasi</code> to <code>main</code>:</p>\n<blockquote>\n<p>In order to properly understand the impact of providing thread-safe<br>\nimplmentations of WASI contexts (<a href=\"https://github.com/bytecodealliance/wasmtime/issues/5235\">https://github.com/bytecodealliance/wasmtime/issues/5235</a>), we need benchmarks that measure<br>\nthe current performance of WASI calls using Wiggle. This change adds<br>\nseveral common WASI scenarios as WAT files (see <code>benches/wasi/*.wat</code>)<br>\nand benchmarks them with <code>criterion</code>. Using <code>criterion</code>'s <code>iter_custom</code>,<br>\nthe WAT file runs the desired number of benchmark iterations internally<br>\nand the total duration of the runs is divided to get the average time<br>\nfor each loop iteration.</p>\n<p>Why WAT? When compiling these benchmarks from Rust to <code>wasm32-wasi</code>, the<br>\noutput files are large, contain other WASI imports than the desired<br>\nones, and overall it is difficult to tell if we are measuring what we<br>\nexpect. By hand-writing the WAT, it is (slightly) more clear what each<br>\nbenchmark is doing.</p>\n</blockquote>",
        "id": 310304144,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668551006
    },
    {
        "content": "<p>jameysharp submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5274#pullrequestreview-1181631395\">PR review</a>.</p>",
        "id": 310305568,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668551639
    },
    {
        "content": "<p>jameysharp submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5274#pullrequestreview-1181631395\">PR review</a>.</p>",
        "id": 310305569,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668551639
    },
    {
        "content": "<p>jameysharp created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5274#discussion_r1023317390\">PR review comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>            // `instantiate` for details).\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 310305570,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668551639
    },
    {
        "content": "<p>jameysharp created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5274#discussion_r1023321989\">PR review comment</a>:</p>\n<blockquote>\n<p>Since all the type parameters are the <code>_</code> wildcard, is the <code>::&lt;_, _, _&gt;</code> necessary? I'd have guessed \"no\", but I don't know.</p>\n</blockquote>",
        "id": 310305572,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668551639
    },
    {
        "content": "<p>abrown updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5274\">PR #5274</a> from <code>bench-wasi</code> to <code>main</code>.</p>",
        "id": 310314072,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668555651
    },
    {
        "content": "<p>abrown submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5274#pullrequestreview-1181692639\">PR review</a>.</p>",
        "id": 310314097,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668555665
    },
    {
        "content": "<p>abrown created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5274#discussion_r1023363096\">PR review comment</a>:</p>\n<blockquote>\n<p>Good point, fixed...</p>\n</blockquote>",
        "id": 310314099,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668555665
    },
    {
        "content": "<p><strong>abrown</strong> has marked <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5274\">PR #5274</a> as ready for review.</p>",
        "id": 310322002,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668560519
    },
    {
        "content": "<p>abrown merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5274\">PR #5274</a>.</p>",
        "id": 310322089,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668560558
    }
]