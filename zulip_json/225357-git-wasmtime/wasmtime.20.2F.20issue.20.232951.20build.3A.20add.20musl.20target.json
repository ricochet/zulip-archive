[
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951#issuecomment-850375633\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951\">issue #2951</a>:</p>\n<blockquote>\n<p>Does it work with <code>RUSTFLAGS=\"-Ctarget-feature=-crt-static\"</code>? With a statically linked libc as is the current default for musl in rustc (will likely change in (near) the future) it is not possible to make a dynamic library.</p>\n</blockquote>",
        "id": 240595336,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1622204045
    },
    {
        "content": "<p>srenatus <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951#issuecomment-850377044\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951\">issue #2951</a>:</p>\n<blockquote>\n<p>@bjorn3 I'm afraid I'm new to this. Where would I set this? For all the test targets, or should I add another overwrite to the test matrix...?</p>\n</blockquote>",
        "id": 240595560,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1622204191
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951#issuecomment-850378678\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951\">issue #2951</a>:</p>\n<blockquote>\n<p>Not sure. I think ideally the wasmtime binary would still statically link musl, but <a href=\"http://libwasmtime.so\">libwasmtime.so</a> wouldn't.</p>\n</blockquote>",
        "id": 240595830,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1622204353
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951#issuecomment-850493152\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951\">issue #2951</a>:</p>\n<blockquote>\n<p>Thanks!</p>\n<p>We recently spent some time driving down CI costs so I'm not sure if we can add a test builder just yet, but I do think that this should get the tests passing on CI to see if the target actually works. Using the library built from this PR's CI I added it to <code>wasmtime-go</code> but the tests in <code>wasmtime-go</code> aren't passing. I'm not sure why, though.</p>\n</blockquote>",
        "id": 240619119,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1622215217
    },
    {
        "content": "<p>srenatus <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951#issuecomment-850641713\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951\">issue #2951</a>:</p>\n<blockquote>\n<p>@alexcrichton what did you encounter? I've played with the CI artifact myself, and in <a href=\"https://github.com/open-policy-agent/opa/pull/3509/files\">this branch (note the manual changes to vendor/)</a>, it seems I'm able to use wasmtime just fine (used <code>make ci-go-ci-build-linux</code> to get <code>opa_linux_amd64</code>):</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">docker</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"cp\">$(</span><span class=\"n\">pwd</span><span class=\"p\">)</span>:<span class=\"o\">/</span><span class=\"n\">src</span><span class=\"w\"> </span><span class=\"n\">alpine</span>:<span class=\"nc\">latest</span><span class=\"w\"></span>\n<span class=\"o\">/</span><span class=\"w\"> </span>#<span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">_release</span><span class=\"o\">/</span><span class=\"mf\">0.29.3</span><span class=\"o\">/</span><span class=\"n\">opa_linux_amd64</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">Version</span>: <span class=\"mf\">0.29.3</span><span class=\"w\"></span>\n<span class=\"n\">Build</span><span class=\"w\"> </span><span class=\"n\">Commit</span>:\n<span class=\"nc\">Build</span><span class=\"w\"> </span><span class=\"n\">Timestamp</span>: <span class=\"mi\">2021</span><span class=\"o\">-</span><span class=\"mi\">05</span><span class=\"o\">-</span><span class=\"mi\">28</span><span class=\"n\">T19</span>:<span class=\"mi\">52</span>:<span class=\"mi\">23</span><span class=\"n\">Z</span><span class=\"w\"></span>\n<span class=\"n\">Build</span><span class=\"w\"> </span><span class=\"n\">Hostname</span>: <span class=\"mi\">195</span><span class=\"n\">caee59aad</span><span class=\"w\"></span>\n<span class=\"n\">Go</span><span class=\"w\"> </span><span class=\"n\">Version</span>: <span class=\"nc\">go1</span><span class=\"p\">.</span><span class=\"mf\">16.3</span><span class=\"w\"></span>\n<span class=\"n\">WebAssembly</span>: <span class=\"nc\">available</span><span class=\"w\"></span>\n<span class=\"o\">/</span><span class=\"w\"> </span>#<span class=\"w\"> </span><span class=\"n\">ldd</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">_release</span><span class=\"o\">/</span><span class=\"mf\">0.29.3</span><span class=\"o\">/</span><span class=\"n\">opa_linux_amd64</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">ld</span><span class=\"o\">-</span><span class=\"n\">musl</span><span class=\"o\">-</span><span class=\"n\">x86_64</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"p\">.</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mh\">0x7f0dad478000</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"n\">libc</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">ld</span><span class=\"o\">-</span><span class=\"n\">musl</span><span class=\"o\">-</span><span class=\"n\">x86_64</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"p\">.</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mh\">0x7f0dad478000</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"o\">/</span><span class=\"w\"> </span>#<span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">_release</span><span class=\"o\">/</span><span class=\"mf\">0.29.3</span><span class=\"o\">/</span><span class=\"n\">opa_linux_amd64</span><span class=\"w\"> </span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">numbers</span><span class=\"p\">.</span><span class=\"n\">range</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">)</span><span class=\"o\">'</span><span class=\"w\"></span>\n<span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"s\">\"result\"</span>: <span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"s\">\"expressions\"</span>: <span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"s\">\"value\"</span>: <span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">8</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">10</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"p\">],</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"s\">\"text\"</span>: <span class=\"s\">\"numbers.range(1, 10)\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"s\">\"location\"</span>: <span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"s\">\"row\"</span>: <span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"s\">\"col\"</span>: <span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"o\">/</span><span class=\"w\"> </span>#<span class=\"w\"></span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 240653691,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1622231994
    },
    {
        "content": "<p>srenatus edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951#issuecomment-850641713\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951\">issue #2951</a>:</p>\n<blockquote>\n<p>@alexcrichton what did you encounter? I've played with the CI artifact myself, and in <a href=\"https://github.com/open-policy-agent/opa/pull/3509/files\">this branch (note the manual changes to vendor/)</a>, it seems I'm able to use wasmtime just fine (used <code>make ci-go-ci-build-linux</code> to get <code>opa_linux_amd64</code>):</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">docker</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">v</span><span class=\"w\"> </span><span class=\"cp\">$(</span><span class=\"n\">pwd</span><span class=\"p\">)</span>:<span class=\"o\">/</span><span class=\"n\">src</span><span class=\"w\"> </span><span class=\"n\">alpine</span>:<span class=\"nc\">latest</span><span class=\"w\"></span>\n<span class=\"o\">/</span><span class=\"w\"> </span>#<span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">_release</span><span class=\"o\">/</span><span class=\"mf\">0.29.3</span><span class=\"o\">/</span><span class=\"n\">opa_linux_amd64</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">Version</span>: <span class=\"mf\">0.29.3</span><span class=\"w\"></span>\n<span class=\"n\">Build</span><span class=\"w\"> </span><span class=\"n\">Commit</span>:\n<span class=\"nc\">Build</span><span class=\"w\"> </span><span class=\"n\">Timestamp</span>: <span class=\"mi\">2021</span><span class=\"o\">-</span><span class=\"mi\">05</span><span class=\"o\">-</span><span class=\"mi\">28</span><span class=\"n\">T19</span>:<span class=\"mi\">52</span>:<span class=\"mi\">23</span><span class=\"n\">Z</span><span class=\"w\"></span>\n<span class=\"n\">Build</span><span class=\"w\"> </span><span class=\"n\">Hostname</span>: <span class=\"mi\">195</span><span class=\"n\">caee59aad</span><span class=\"w\"></span>\n<span class=\"n\">Go</span><span class=\"w\"> </span><span class=\"n\">Version</span>: <span class=\"nc\">go1</span><span class=\"p\">.</span><span class=\"mf\">16.3</span><span class=\"w\"></span>\n<span class=\"n\">WebAssembly</span>: <span class=\"nc\">available</span><span class=\"w\"></span>\n<span class=\"o\">/</span><span class=\"w\"> </span>#<span class=\"w\"> </span><span class=\"n\">ldd</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">_release</span><span class=\"o\">/</span><span class=\"mf\">0.29.3</span><span class=\"o\">/</span><span class=\"n\">opa_linux_amd64</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">ld</span><span class=\"o\">-</span><span class=\"n\">musl</span><span class=\"o\">-</span><span class=\"n\">x86_64</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"p\">.</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mh\">0x7f0dad478000</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"n\">libc</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"o\">=&gt;</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"o\">/</span><span class=\"n\">ld</span><span class=\"o\">-</span><span class=\"n\">musl</span><span class=\"o\">-</span><span class=\"n\">x86_64</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"p\">.</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mh\">0x7f0dad478000</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"o\">/</span><span class=\"w\"> </span>#<span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">_release</span><span class=\"o\">/</span><span class=\"mf\">0.29.3</span><span class=\"o\">/</span><span class=\"n\">opa_linux_amd64</span><span class=\"w\"> </span><span class=\"n\">eval</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">t</span><span class=\"w\"> </span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">numbers</span><span class=\"p\">.</span><span class=\"n\">range</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">)</span><span class=\"o\">'</span><span class=\"w\"></span>\n<span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"s\">\"result\"</span>: <span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"s\">\"expressions\"</span>: <span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"s\">\"value\"</span>: <span class=\"p\">[</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">2</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">3</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">4</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">5</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">6</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">7</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">8</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">9</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"mi\">10</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"p\">],</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"s\">\"text\"</span>: <span class=\"s\">\"numbers.range(1, 10)\"</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"s\">\"location\"</span>: <span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"s\">\"row\"</span>: <span class=\"mi\">1</span><span class=\"p\">,</span><span class=\"w\"></span>\n<span class=\"w\">            </span><span class=\"s\">\"col\"</span>: <span class=\"mi\">1</span><span class=\"w\"></span>\n<span class=\"w\">          </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">        </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"o\">/</span><span class=\"w\"> </span>#<span class=\"w\"></span>\n</code></pre></div>\n<p><strong>Update</strong> overall, CI doesn't look that happy. This one is interesting, <a href=\"https://github.com/open-policy-agent/opa/runs/2697377478?check_suite_focus=true#step:3:513\">https://github.com/open-policy-agent/opa/runs/2697377478?check_suite_focus=true#step:3:513</a>, I suppose.</p>\n</blockquote>",
        "id": 240654521,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1622232397
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951#issuecomment-852173095\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951\">issue #2951</a>:</p>\n<blockquote>\n<p>When I ran the tests locally via <code>go test -v</code> in the <code>wasmtime-go</code> repo itself it looked like trap backtraces didn't work?</p>\n</blockquote>",
        "id": 240950309,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1622557799
    },
    {
        "content": "<p>srenatus <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951#issuecomment-925137765\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951\">issue #2951</a>:</p>\n<blockquote>\n<p>Sorry for dropping the ball here. Kind of forgotten about it... :|</p>\n</blockquote>",
        "id": 254406751,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1632332084
    },
    {
        "content": "<p>simar7 <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951#issuecomment-933964238\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951\">issue #2951</a>:</p>\n<blockquote>\n<blockquote>\n<p>Sorry for dropping the ball here. Kind of forgotten about it... :|</p>\n</blockquote>\n<p>hi @srenatus are you still working on this? Just a metric for user report: We ran into this while building a project that uses OPA wasm target.</p>\n</blockquote>",
        "id": 256156751,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1633394211
    },
    {
        "content": "<p>srenatus <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951#issuecomment-934131040\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2951\">issue #2951</a>:</p>\n<blockquote>\n<p>@simar7 I've not been persuing this because it wasn't a priority for us. If you'd like to followup this, the contribution would sure be welcome!</p>\n</blockquote>",
        "id": 256188422,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1633417944
    }
]