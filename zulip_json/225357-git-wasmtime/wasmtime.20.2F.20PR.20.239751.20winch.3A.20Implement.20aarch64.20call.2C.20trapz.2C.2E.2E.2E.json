[
    {
        "content": "<p>MarinPostma opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a> from <code>MarinPostma:aarch64-call</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>Implement the following MASM instruction for the aarch64 platform:</p>\n<ul>\n<li>call</li>\n<li>address_at_vmctx</li>\n<li>trapz</li>\n</ul>\n<p>I initially planned to only implement call, but implementing the tests uncovered the necessity to implement the other two as prerequisite for indirect calls.</p>\n<p>Right now the calling convention is hardcoded to SystemV, but maybe we also want to support AppleAarch64?</p>\n<p>#8321</p>\n<p>&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 486537941,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733498736
    },
    {
        "content": "<p><strong>MarinPostma</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-compiler-reviewers\">wasmtime-compiler-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486537942,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733498736
    },
    {
        "content": "<p><strong>MarinPostma</strong> requested <a href=\"https://github.com/abrown\">abrown</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486537943,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733498736
    },
    {
        "content": "<p><strong>MarinPostma</strong> requested <a href=\"https://github.com/fitzgen\">fitzgen</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486537945,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733498737
    },
    {
        "content": "<p><strong>MarinPostma</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486537946,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733498737
    },
    {
        "content": "<p>MarinPostma updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486547068,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733501425
    },
    {
        "content": "<p>saulecabrera <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#issuecomment-2523642185\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>:</p>\n<blockquote>\n<p>I can help taking a look at this one. </p>\n</blockquote>",
        "id": 486548363,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733501800
    },
    {
        "content": "<p><strong>saulecabrera</strong> requested <a href=\"https://github.com/saulecabrera\">saulecabrera</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486548381,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733501805
    },
    {
        "content": "<p>github-actions[bot] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#issuecomment-2523717251\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>:</p>\n<blockquote>\n<h4>Subscribe to Label Action</h4>\n<p>cc @saulecabrera</p>\n<p>&lt;details&gt;<br>\nThis issue or pull request has been labeled: \"winch\"</p>\n<p>Thus the following users have been cc'd because of the following labels:</p>\n<ul>\n<li>saulecabrera: winch</li>\n</ul>\n<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>\n<p><a href=\"https://github.com/bytecodealliance/subscribe-to-label-action\">Learn more.</a><br>\n&lt;/details&gt;</p>\n</blockquote>",
        "id": 486554899,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733503677
    },
    {
        "content": "<p>saulecabrera submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2485541633\">PR review</a>:</p>\n<blockquote>\n<p>Generally looks great, thanks. Left some inline nitpicks.</p>\n</blockquote>",
        "id": 486579009,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733512253
    },
    {
        "content": "<p>saulecabrera created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873788445\">PR review comment</a>:</p>\n<blockquote>\n<p>Would you mind adding some comments to these methods?</p>\n</blockquote>",
        "id": 486579011,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733512253
    },
    {
        "content": "<p>saulecabrera created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873861857\">PR review comment</a>:</p>\n<blockquote>\n<blockquote>\n<p>Right now the calling convention is hardcoded to SystemV, but maybe we also want to support AppleAarch64?</p>\n</blockquote>\n<p>I see why this might be confusing. Even though the <code>CallConv</code> is hard coded here, there are two things to note:</p>\n<ul>\n<li>All the infrastructure to handle the calling convention differences, is handled very early on in the compilation process in Winch (and in Cranelift as well) e.g., when constructing the signature for the callee, at that point,<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/winch/codegen/src/isa/aarch64/abi.rs#L33\"> you'll note that Winch correctly handles the default and apple-aarch64 calling conventions.</a></li>\n<li>Winch relies on Cranelift's binary emission infrastructure, and in this concrete case, as you can note, you're constructing a <code>CallInfo::empty()</code>, which signals that none of the other Cranelift-specific invariants must be taken into account when emitting calls (some of them depend on the calling convention that is passed here). </li>\n</ul>\n<p>I've opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9757\">https://github.com/bytecodealliance/wasmtime/pull/9757</a> to refactor call emission a bit with the hope of making this part more consistent. </p>\n</blockquote>",
        "id": 486579012,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733512253
    },
    {
        "content": "<p>saulecabrera created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873785812\">PR review comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>    /// Trap if `rn` is zero.\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 486579013,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733512253
    },
    {
        "content": "<p>MarinPostma submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2485786604\">PR review</a>.</p>",
        "id": 486588420,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733516349
    },
    {
        "content": "<p>MarinPostma created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873932160\">PR review comment</a>:</p>\n<blockquote>\n<p>That refactor makes a lot of sense to me <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> </p>\n</blockquote>",
        "id": 486588421,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733516349
    },
    {
        "content": "<p>MarinPostma updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486589610,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733516884
    },
    {
        "content": "<p>MarinPostma submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2485811465\">PR review</a>.</p>",
        "id": 486589676,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733516919
    },
    {
        "content": "<p>MarinPostma created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873946865\">PR review comment</a>:</p>\n<blockquote>\n<p>fixed in <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751/commits/f1a56f1685decf816cfd001c655c3b1ca4dd44f4\">f1a56f1</a></p>\n</blockquote>",
        "id": 486589677,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733516919
    },
    {
        "content": "<p>MarinPostma submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2485811721\">PR review</a>.</p>",
        "id": 486589693,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733516927
    },
    {
        "content": "<p>MarinPostma created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873947036\">PR review comment</a>:</p>\n<blockquote>\n<p>fixed in <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751/commits/f1a56f1685decf816cfd001c655c3b1ca4dd44f4\">f1a56f1</a></p>\n</blockquote>",
        "id": 486589695,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733516928
    },
    {
        "content": "<p>MarinPostma submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2485812186\">PR review</a>.</p>",
        "id": 486589738,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733516947
    },
    {
        "content": "<p>MarinPostma created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1873947283\">PR review comment</a>:</p>\n<blockquote>\n<p>updated in f4a6cf7</p>\n</blockquote>",
        "id": 486589739,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733516948
    },
    {
        "content": "<p>MarinPostma updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486589963,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733517035
    },
    {
        "content": "<p>MarinPostma updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486590027,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733517063
    },
    {
        "content": "<p><strong>MarinPostma</strong> requested <a href=\"https://github.com/saulecabrera\">saulecabrera</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486590199,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733517124
    },
    {
        "content": "<p>saulecabrera <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#issuecomment-2524278754\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>:</p>\n<blockquote>\n<p>There are some failures in CI -- I'm trying to figure out if they are related to your changes or not. </p>\n</blockquote>",
        "id": 486602297,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733523057
    },
    {
        "content": "<p>saulecabrera submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2486016825\">PR review</a>.</p>",
        "id": 486604278,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733524129
    },
    {
        "content": "<p>saulecabrera created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1874064762\">PR review comment</a>:</p>\n<blockquote>\n<p>I'm not entirely sure if this is the source of the failure, but here you need to specify </p>\n<div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>;;! test = \"winch\"\n</code></pre></div>\n<p>Else this will use Cranelift</p>\n</blockquote>",
        "id": 486604279,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733524129
    },
    {
        "content": "<p>MarinPostma updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486615108,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733531306
    },
    {
        "content": "<p>MarinPostma submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2486212345\">PR review</a>.</p>",
        "id": 486617082,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733532954
    },
    {
        "content": "<p>MarinPostma created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#discussion_r1874187101\">PR review comment</a>:</p>\n<blockquote>\n<p>Some submodule update sneaked into one of my commits. That's what's messing with the CI, I'll fix that tommorow</p>\n</blockquote>",
        "id": 486617083,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733532955
    },
    {
        "content": "<p>MarinPostma updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486658526,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733568637
    },
    {
        "content": "<p>MarinPostma <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#issuecomment-2525122008\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>:</p>\n<blockquote>\n<p>Alright, I updated the submodule, ci looks good now</p>\n</blockquote>",
        "id": 486670562,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733578581
    },
    {
        "content": "<p>saulecabrera submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751#pullrequestreview-2488524887\">PR review</a>:</p>\n<blockquote>\n<p>Thanks!</p>\n</blockquote>",
        "id": 486970927,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733743818
    },
    {
        "content": "<p>saulecabrera merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/9751\">PR #9751</a>.</p>",
        "id": 486974236,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1733744837
    }
]