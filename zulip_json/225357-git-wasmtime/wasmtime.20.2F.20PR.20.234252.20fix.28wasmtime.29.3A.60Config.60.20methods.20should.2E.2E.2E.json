[
    {
        "content": "<p>PureWhiteWu opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>:</p>\n<blockquote>\n<p>This commit refactored <code>Config</code> to use a seperate <code>CompilerConfig</code> field instead of operating on <code>CompilerBuilder</code> directly to make all its methods idempotent.<br>\nFixes #4189 </p>\n</blockquote>",
        "id": 285567976,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654795284
    },
    {
        "content": "<p>PureWhiteWu updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>",
        "id": 285568243,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654795352
    },
    {
        "content": "<p>PureWhiteWu updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>",
        "id": 285568693,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654795544
    },
    {
        "content": "<p>PureWhiteWu updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>",
        "id": 285569285,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654795788
    },
    {
        "content": "<p>bjorn3 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893786230\">PR review comment</a>:</p>\n<blockquote>\n<p>These should be added to the 0.39.0 section I think.</p>\n</blockquote>",
        "id": 285570182,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654796191
    },
    {
        "content": "<p>bjorn3 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001743472\">PR review</a>.</p>",
        "id": 285570183,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654796191
    },
    {
        "content": "<p>bjorn3 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893786338\">PR review comment</a>:</p>",
        "id": 285570196,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654796199
    },
    {
        "content": "<p>bjorn3 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001743643\">PR review</a>.</p>",
        "id": 285570197,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654796199
    },
    {
        "content": "<p>bjorn3 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893786970\">PR review comment</a>:</p>\n<blockquote>\n<p>This would need to be updated. Also where would the error occur now?</p>\n</blockquote>",
        "id": 285570251,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654796242
    },
    {
        "content": "<p>bjorn3 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001744805\">PR review</a>.</p>",
        "id": 285570252,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654796243
    },
    {
        "content": "<p>PureWhiteWu updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>",
        "id": 285573635,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654797848
    },
    {
        "content": "<p>PureWhiteWu created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893815631\">PR review comment</a>:</p>\n<blockquote>\n<p>Thanks for your review!<br>\nThe error occurs at <code>Engine::new</code> now.</p>\n</blockquote>",
        "id": 285573713,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654797872
    },
    {
        "content": "<p>PureWhiteWu submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001782688\">PR review</a>.</p>",
        "id": 285573715,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654797872
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001778507\">PR review</a>.</p>",
        "id": 285575109,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654798541
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001778507\">PR review</a>.</p>",
        "id": 285575110,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654798541
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893817762\">PR review comment</a>:</p>\n<blockquote>\n<p>In place of the \"Errors\" section in the old doc comment, we should note here that flags are validated when the engine is built, and so any errors will be deferred, I think. Likewise elsewhere where an \"Errors\" section is removed.</p>\n</blockquote>",
        "id": 285575111,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654798542
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893813201\">PR review comment</a>:</p>\n<blockquote>\n<p>A slightly more verbose name would make this a bit clearer I think: maybe something like <code>ensure_unset_or_given_setting</code>? Then in the doc-comment we should say what this returns: \"Returns true if successfully set or already had the given setting value, or false if the setting was explicitly set to something else previously.\"</p>\n</blockquote>",
        "id": 285575113,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654798542
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893822896\">PR review comment</a>:</p>\n<blockquote>\n<p>Could we do the same sort of deferred validation for the combination of reference types and bulk memory that we do for compiler options? I'm somewhat uncomfortable with this assert existing, given that we have the right API signatures elsewhere to return the error.</p>\n</blockquote>",
        "id": 285575114,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654798542
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893820435\">PR review comment</a>:</p>\n<blockquote>\n<p>Can we say a bit more here? Something about how some Wasm features require certain compiler features, and they will turn on the relevant compiler features by default, but explicitly disabling some compiler features or setting them in an incompatible way may cause errors. I think we should also note a guarantee/promise that <em>default</em> compiler options (i.e., if the user does not add any specific setting overrides) will always work if the underlying hardware supports what is needed.</p>\n</blockquote>",
        "id": 285575115,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654798542
    },
    {
        "content": "<p>PureWhiteWu updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>",
        "id": 285575976,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654798981
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001773304\">PR review</a>.</p>",
        "id": 285582185,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654801881
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001773304\">PR review</a>.</p>",
        "id": 285582186,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654801881
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893808364\">PR review comment</a>:</p>\n<blockquote>\n<p>If you're up for it this explicit <code>Clone for Config</code> can I believe now be entirely deleted in favor of <code>#[derive(Clone)]</code> on the <code>Config</code> type. If you're feeling extra-ambitious as well the <code>CompilerBuilder::clone</code> method can also be removed. Either of these are fine to defer to a future PR though if you'd prefer.</p>\n</blockquote>",
        "id": 285582187,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654801881
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893865997\">PR review comment</a>:</p>\n<blockquote>\n<p>I think it's ok to remove <code>pub(crate)</code> on all these methods and related fields since it should be able to isolate all the usages to just this file.</p>\n</blockquote>",
        "id": 285582188,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654801881
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893860094\">PR review comment</a>:</p>\n<blockquote>\n<p>Agreed about expanding the error documentation a bit here, but I also think it would be best to keep documentation on the original config methods as well. For example <code>Config::cranelift_flag_set</code> could retain some documentation indicating that if an invalid setting is specified that the error will pop out during <code>Engine::new</code> here.</p>\n</blockquote>",
        "id": 285582189,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654801881
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893862119\">PR review comment</a>:</p>\n<blockquote>\n<p>I think that this enable-other-wasm-feature-if-this-is-enabled would be better left to <code>Engine::new</code> as well as otherwise this can cause confusing behavior depending on the order of the method calls.</p>\n</blockquote>",
        "id": 285582190,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654801881
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893860821\">PR review comment</a>:</p>\n<blockquote>\n<p>If you'd like I think that this is now the only usage of the <code>compiler_builder</code> function so it should be fine to inline directly into this function.</p>\n</blockquote>",
        "id": 285582191,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654801881
    },
    {
        "content": "<p>PureWhiteWu updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>",
        "id": 285586322,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654804018
    },
    {
        "content": "<p>PureWhiteWu submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001845565\">PR review</a>.</p>",
        "id": 285586599,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654804201
    },
    {
        "content": "<p>PureWhiteWu created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893859662\">PR review comment</a>:</p>\n<blockquote>\n<p>Thanks for pointing out! I think <code>ensure_setting_unset_or_given</code> is better, so I used that name.</p>\n</blockquote>",
        "id": 285586600,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654804201
    },
    {
        "content": "<p>PureWhiteWu created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893862050\">PR review comment</a>:</p>\n<blockquote>\n<p>Added, except for the <code>strategy</code> method, because it will not return error in any situation (previously and now).</p>\n</blockquote>",
        "id": 285586601,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654804201
    },
    {
        "content": "<p>PureWhiteWu submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1001845565\">PR review</a>.</p>",
        "id": 285586602,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654804201
    },
    {
        "content": "<p>PureWhiteWu created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893897741\">PR review comment</a>:</p>\n<blockquote>\n<blockquote>\n<p>Can we say a bit more here? Something about how some Wasm features require certain compiler features, and they will turn on the relevant compiler features by default, but explicitly disabling some compiler features or setting them in an incompatible way may cause errors.</p>\n</blockquote>\n<p>Fixed.</p>\n<blockquote>\n<p>I think we should also note a guarantee/promise that default compiler options (i.e., if the user does not add any specific setting overrides) will always work if the underlying hardware supports what is needed.</p>\n</blockquote>\n<p>I don't think it necessary to add this note explicitly, because the default options should work is intuition for users.</p>\n</blockquote>",
        "id": 285586603,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654804201
    },
    {
        "content": "<p>PureWhiteWu created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893890127\">PR review comment</a>:</p>\n<blockquote>\n<p>Fixed.</p>\n</blockquote>",
        "id": 285586604,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654804201
    },
    {
        "content": "<p>PureWhiteWu updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>",
        "id": 285586910,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654804367
    },
    {
        "content": "<p>PureWhiteWu updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>",
        "id": 285587470,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654804639
    },
    {
        "content": "<p>PureWhiteWu updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>",
        "id": 285587672,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654804732
    },
    {
        "content": "<p>PureWhiteWu updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>",
        "id": 285588367,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654805042
    },
    {
        "content": "<p>PureWhiteWu updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a> from <code>fix/config_overwrite</code> to <code>main</code>.</p>",
        "id": 285663271,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654861086
    },
    {
        "content": "<p><strong>PureWhiteWu</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a>.</p>",
        "id": 285699220,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654877966
    },
    {
        "content": "<p><strong>PureWhiteWu</strong> requested <a href=\"https://github.com/cfallin\">cfallin</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a>.</p>",
        "id": 285699225,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654877969
    },
    {
        "content": "<p>PureWhiteWu edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893897741\">PR review comment</a>.</p>",
        "id": 285700512,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654878543
    },
    {
        "content": "<p>PureWhiteWu edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r893897741\">PR review comment</a>.</p>",
        "id": 285700531,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1654878553
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1004372941\">PR review</a>.</p>",
        "id": 285930523,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1655128467
    },
    {
        "content": "<p>alexcrichton merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252\">PR #4252</a>.</p>",
        "id": 285930540,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1655128473
    },
    {
        "content": "<p>thibaultcha created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932450821\">PR review comment</a>:</p>\n<blockquote>\n<p>On <a href=\"https://docs.wasmtime.dev/c-api/config_8h.html#ada735dd95cbee6854fc6bb27dc9591c6\">https://docs.wasmtime.dev/c-api/config_8h.html#ada735dd95cbee6854fc6bb27dc9591c6</a> it says:</p>\n<blockquote>\n<p>If the compilation strategy selected could not be enabled then an error is returned. </p>\n</blockquote>\n<p>I've been looking everywhere in the docs to try and find what happened to config errors, I don't think it is very clear today without looking into this PR.</p>\n</blockquote>",
        "id": 291217819,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659025719
    },
    {
        "content": "<p>thibaultcha submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1054423765\">PR review</a>.</p>",
        "id": 291217820,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659025719
    },
    {
        "content": "<p>thibaultcha edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932450821\">PR review comment</a>.</p>",
        "id": 291218012,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659025815
    },
    {
        "content": "<p>thibaultcha edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932450821\">PR review comment</a>.</p>",
        "id": 291218268,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659025934
    },
    {
        "content": "<p>thibaultcha edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932450821\">PR review comment</a>.</p>",
        "id": 291218352,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659025980
    },
    {
        "content": "<p>PureWhiteWu submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1054464961\">PR review</a>.</p>",
        "id": 291222119,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659027716
    },
    {
        "content": "<p>PureWhiteWu created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932479952\">PR review comment</a>:</p>\n<blockquote>\n<p>Hi, thanks for your remind.<br>\nI changed the doc and the signature of the rust code, but I forgot the doc for c.<br>\nI've submitted #4550 to fix this.</p>\n</blockquote>",
        "id": 291222121,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659027716
    },
    {
        "content": "<p>thibaultcha submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1054482936\">PR review</a>.</p>",
        "id": 291223731,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659028425
    },
    {
        "content": "<p>thibaultcha created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932490541\">PR review comment</a>:</p>\n<blockquote>\n<p>@PureWhiteWu That's great! Very prompt, thank you!</p>\n<p>A question still remains on my end but I am not sure if here's the right place for it, I'll shoot it again though:</p>\n<p>Since <code>wasm.h</code>'s <code>wasm_engine_new_with_config</code> does not return any error, where are the engine initialization errors reported when using the C API? <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span> </p>\n</blockquote>",
        "id": 291223732,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659028425
    },
    {
        "content": "<p>PureWhiteWu submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1054529847\">PR review</a>.</p>",
        "id": 291228879,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659030860
    },
    {
        "content": "<p>PureWhiteWu created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932523833\">PR review comment</a>:</p>\n<blockquote>\n<p>Sorry, I'm not familiar with the c api, @alexcrichton do you know about this?</p>\n</blockquote>",
        "id": 291228880,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659030860
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#pullrequestreview-1054643193\">PR review</a>.</p>",
        "id": 291240640,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659036735
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4252#discussion_r932600715\">PR review comment</a>:</p>\n<blockquote>\n<p>You can <a href=\"https://github.com/bytecodealliance/wasmtime/blob/fb7d51033c4d507f412d7f5ec580cb325d5a4e0a/crates/c-api/src/engine.rs#L29-L35\">take a look at the implementation</a> and right now it looks like no error handling happens and if something otherwise would result in an error it would cause the process to abort.</p>\n<p>This is probably something that would be good to fix, returning a null pointer there and perhaps adding a Wasmtime-specific API for the same operation but one that returns an error message.</p>\n</blockquote>",
        "id": 291240641,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659036735
    }
]