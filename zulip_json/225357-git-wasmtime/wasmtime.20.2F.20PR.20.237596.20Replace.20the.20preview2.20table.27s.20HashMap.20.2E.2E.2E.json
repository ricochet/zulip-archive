[
    {
        "content": "<p>elliottt opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a> from <code>elliottt:trevor/wasi-table</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>Fix the TODO in preview2's table implementation about performance of key generation once the index number space has wrapped; instead of incrementing a u32, store resources in a vector and keep a free queue in the empty slots.<br>\n&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 404686346,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701193764
    },
    {
        "content": "<p>elliottt edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>:</p>\n<blockquote>\n<p>Fix the TODO in preview2's table implementation about performance of key generation once the index space has wrapped; instead of incrementing a u32, store resources in a vector and keep a free queue in the empty slots.<br>\n&lt;!--<br>\nPlease make sure you include the following information:</p>\n<ul>\n<li>\n<p>If this work has been discussed elsewhere, please include a link to that<br>\n  conversation. If it was discussed in an issue, just mention \"issue #...\".</p>\n</li>\n<li>\n<p>Explain why this change is needed. If the details are in an issue already,<br>\n  this can be brief.</p>\n</li>\n</ul>\n<p>Our development process is documented in the Wasmtime book:<br>\n<a href=\"https://docs.wasmtime.dev/contributing-development-process.html\">https://docs.wasmtime.dev/contributing-development-process.html</a></p>\n<p>Please ensure all communication follows the code of conduct:<br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md\">https://github.com/bytecodealliance/wasmtime/blob/main/CODE_OF_CONDUCT.md</a><br>\n--&gt;</p>\n</blockquote>",
        "id": 404687971,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701194377
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>.</p>",
        "id": 404688434,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701194515
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>.</p>",
        "id": 404688595,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701194548
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>.</p>",
        "id": 404689240,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701194782
    },
    {
        "content": "<p><strong>elliottt</strong> has marked <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a> as ready for review.</p>",
        "id": 404694557,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701196923
    },
    {
        "content": "<p><strong>elliottt</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>.</p>",
        "id": 404694572,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701196924
    },
    {
        "content": "<p><strong>elliottt</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>.</p>",
        "id": 404694575,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701196924
    },
    {
        "content": "<p><strong>elliottt</strong> requested <a href=\"https://github.com/pchickey\">pchickey</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>.</p>",
        "id": 404694612,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701196931
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>.</p>",
        "id": 404700179,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701198690
    },
    {
        "content": "<p>pchickey submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1753912560\">PR review</a>:</p>\n<blockquote>\n<p>Looks good to me. Thank you</p>\n</blockquote>",
        "id": 404715855,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701204716
    },
    {
        "content": "<p>pchickey submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1753912560\">PR review</a>:</p>\n<blockquote>\n<p>Looks good to me. Thank you</p>\n</blockquote>",
        "id": 404715856,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701204716
    },
    {
        "content": "<p>pchickey created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1408406361\">PR review comment</a>:</p>\n<blockquote>\n<p>I don't have an intuition for what a good magic number for capacity is. @alexcrichton any guesses?</p>\n</blockquote>",
        "id": 404715859,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701204716
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1754008748\">PR review</a>:</p>\n<blockquote>\n<p>I've got some thoughts on possibly simplifying this a bit, but overall looks good!</p>\n</blockquote>",
        "id": 404725553,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701208349
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1754008748\">PR review</a>:</p>\n<blockquote>\n<p>I've got some thoughts on possibly simplifying this a bit, but overall looks good!</p>\n</blockquote>",
        "id": 404725554,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701208349
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1408461857\">PR review comment</a>:</p>\n<blockquote>\n<p>Lots of methods here have <code>_</code> as a suffix, and while that was used for some prior that was only done when there's a <code>pub</code> method with the same name and the <code>_</code>-version erases generics effectively. Could the <code>_</code> be removed when that's not necessary?</p>\n</blockquote>",
        "id": 404725557,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701208349
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1408458416\">PR review comment</a>:</p>\n<blockquote>\n<p>Could <code>with_capacity</code> be removed and this start as an empty vec? I'm not sure if there's much to gain from <code>with_capacity</code> really other than letting default heuristics take over.</p>\n</blockquote>",
        "id": 404725558,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701208349
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1408460335\">PR review comment</a>:</p>\n<blockquote>\n<p>Could this perhaps become just <code>free_head</code>? Currently this looks like a FIFO list but changing it to LIFO I think is ok as well and removes the amount of state to manage here.</p>\n</blockquote>",
        "id": 404725559,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701208349
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1408463506\">PR review comment</a>:</p>\n<blockquote>\n<p>I was naively expecting a slab-like allocator when taking a look at this, which wouldn't have this branch. Could this perhaps be removed to help simplify this a bit further?</p>\n</blockquote>",
        "id": 404725560,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701208349
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1755754554\">PR review</a>.</p>",
        "id": 404907535,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701276150
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1409583977\">PR review comment</a>:</p>\n<blockquote>\n<p>My thought here was that it would be good to allow a bit of control so that embedders could make that decision depending on their workloads. Perhaps that's over-estimating the cost of reallocating the vector though.</p>\n</blockquote>",
        "id": 404907536,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701276150
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1755758326\">PR review</a>.</p>",
        "id": 404907901,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701276261
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1409586392\">PR review comment</a>:</p>\n<blockquote>\n<p>Yep, that's fine. I made it a LIFO after discussing this refactoring with @jameysharp. He had a good suggestion, which is that when debugging code that's using resources, it would probably be helpful to have the generated ids look as distinct as possible. Using a LIFO means that we'd see the oldest free'd id reused first when logging, rather than potentially seeing a lot of churn on the most recent one.</p>\n</blockquote>",
        "id": 404907903,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701276262
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1755759314\">PR review</a>.</p>",
        "id": 404907976,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701276286
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1409586905\">PR review comment</a>:</p>\n<blockquote>\n<p>Absolutely, I was just trying to follow the conventions already present.</p>\n</blockquote>",
        "id": 404907977,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701276286
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1755762010\">PR review</a>.</p>",
        "id": 404908257,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701276365
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1409588566\">PR review comment</a>:</p>\n<blockquote>\n<p>The intent here was to prefer generating new ids, in service of making more debuggable logs. As we've already allocated the space, why not use it and fall back on the free list when it's full?</p>\n</blockquote>",
        "id": 404908261,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701276365
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1755784731\">PR review</a>.</p>",
        "id": 404910515,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701277036
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1409603251\">PR review comment</a>:</p>\n<blockquote>\n<p>What do you think about removing <code>push_child_</code>? it's called only by <code>push_child</code> and would inline without issues.</p>\n</blockquote>",
        "id": 404910518,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701277036
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1755797879\">PR review</a>.</p>",
        "id": 404912086,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701277433
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1409611558\">PR review comment</a>:</p>\n<blockquote>\n<p>Sounds good to me! Many of these are historical and the artifact of a number of refactorings, so it's definitely ripe for taking the liberty to restructure things while you're here.</p>\n</blockquote>",
        "id": 404912087,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701277433
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1755799539\">PR review</a>.</p>",
        "id": 404912258,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701277482
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1409612518\">PR review comment</a>:</p>\n<blockquote>\n<p>Ok keeping <code>with_capacity</code> makes sense to me, but I think that <code>new</code> should create with the default 0 capacity of <code>Vec</code> and then <code>with_capacity</code> sets an initial capacity.</p>\n</blockquote>",
        "id": 404912259,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701277482
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1755805084\">PR review</a>.</p>",
        "id": 404912736,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701277636
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1409615753\">PR review comment</a>:</p>\n<blockquote>\n<p>Trevor and I talked a bit on Zulip, and I agree that this would be useful for that form of debugging but I'd personally prefer to stick to a simpler FIFO queue since I think it's not clear whether this form of debugging would be relied on all that much. As an isolated implementation detail it's easy to swap this out in the future, and I'd prefer personally to see the need for such debugging come up first before we go with the slightly fancier LIFO implementation.</p>\n<p>It's sort of 6-to-one-half-dozen-or-the-other though so I don't feel too strongly either way, but I do have a preference for the FIFO version. I'm probably biased though b/c that's what I was assuming this was before I read it.</p>\n</blockquote>",
        "id": 404912737,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701277636
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1755826791\">PR review</a>.</p>",
        "id": 404914740,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701278266
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1409629408\">PR review comment</a>:</p>\n<blockquote>\n<p>I mixed up my acronyms. Just for the record, I'm going to remove the tail pointer and make this a LIFO, removing the existing FIFO behavior. Sorry about the confusion there :)</p>\n</blockquote>",
        "id": 404914741,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701278267
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1755830409\">PR review</a>.</p>",
        "id": 404915068,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701278385
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#discussion_r1409631751\">PR review comment</a>:</p>\n<blockquote>\n<p>Oops, I also am appparently forgetting what I was just saying yesterday. Anyway sounds good!</p>\n</blockquote>",
        "id": 404915069,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701278385
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>.</p>",
        "id": 404920305,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701280079
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>.</p>",
        "id": 404920715,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701280218
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>.</p>",
        "id": 404922889,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701281011
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>.</p>",
        "id": 404924390,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701281564
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596#pullrequestreview-1755936176\">PR review</a>.</p>",
        "id": 404925563,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701282021
    },
    {
        "content": "<p>elliottt merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7596\">PR #7596</a>.</p>",
        "id": 404932954,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701284863
    }
]