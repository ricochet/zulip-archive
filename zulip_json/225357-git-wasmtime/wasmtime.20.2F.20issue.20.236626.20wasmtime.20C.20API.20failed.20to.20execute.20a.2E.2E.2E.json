[
    {
        "content": "<p>lyuxiaosu opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6626\">issue #6626</a>:</p>\n<blockquote>\n<p>I have a C code using WASI and was compiled to .wasm. I can use <strong>wasmtime</strong> to execute it successfully. I then used <strong>wasm2wat</strong> tool to convert .wasm to .wat. Then I replaced the .wat file in <code>wasmtime/examples\n/hello.c</code> with my converted .wat file to build and have a test (I also replaced _run_ function with __start_). However, when I executed it, it gave the following error:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">wasmtime_test</span>\n<span class=\"n\">Initializing</span><span class=\"o\">..</span><span class=\"p\">.</span>\n<span class=\"n\">Compiling</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"o\">..</span><span class=\"p\">.</span>\n<span class=\"n\">Creating</span><span class=\"w\"> </span><span class=\"n\">callback</span><span class=\"o\">..</span><span class=\"p\">.</span>\n<span class=\"n\">Instantiating</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"o\">..</span><span class=\"p\">.</span>\n<span class=\"n\">error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">instantiate</span>\n<span class=\"n\">expected</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"n\">imports</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n</code></pre></div>\n<p>Any suggestions for me about this? Is it possible that <strong>wasm2wat</strong> did something wrong? Thanks very much.</p>\n</blockquote>",
        "id": 368625190,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1687451145
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6626#issuecomment-1602976568\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6626\">issue #6626</a>:</p>\n<blockquote>\n<p>I believe the <code>hello.c</code> example doesn't work with WASI modules. The <code>linking.c</code> example should work though. As written it links two wasm modules together and additionally links the wasi implementation. You will probably want to change it to only link a single wasm module and the wasi implementation. I think removing <a href=\"https://github.com/bytecodealliance/wasmtime/blob/d24282c1fffa6773dca855919985a0a92fc1ee34/examples/linking.c#L81-L90\">https://github.com/bytecodealliance/wasmtime/blob/d24282c1fffa6773dca855919985a0a92fc1ee34/examples/linking.c#L81-L90</a> would work for that.</p>\n</blockquote>",
        "id": 368626650,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1687451412
    },
    {
        "content": "<p>lyuxiaosu <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6626#issuecomment-1603117281\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6626\">issue #6626</a>:</p>\n<blockquote>\n<p>@bjorn3 thanks a lot, it works. I made little change for linking.c and it works. This is really help. wasmtime's documentation and examples are really excellent. </p>\n</blockquote>",
        "id": 368657142,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1687457896
    },
    {
        "content": "<p>lyuxiaosu closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6626\">issue #6626</a>:</p>\n<blockquote>\n<p>I have a C code using WASI and was compiled to .wasm. I can use <strong>wasmtime</strong> to execute it successfully. I then used <strong>wasm2wat</strong> tool to convert .wasm to .wat. Then I replaced the .wat file in <code>wasmtime/examples\n/hello.c</code> with my converted .wat file to build and have a test (I also replaced _run_ function with __start_). However, when I executed it, it gave the following error:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">wasmtime_test</span>\n<span class=\"n\">Initializing</span><span class=\"o\">..</span><span class=\"p\">.</span>\n<span class=\"n\">Compiling</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"o\">..</span><span class=\"p\">.</span>\n<span class=\"n\">Creating</span><span class=\"w\"> </span><span class=\"n\">callback</span><span class=\"o\">..</span><span class=\"p\">.</span>\n<span class=\"n\">Instantiating</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"o\">..</span><span class=\"p\">.</span>\n<span class=\"n\">error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">instantiate</span>\n<span class=\"n\">expected</span><span class=\"w\"> </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"n\">imports</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"mi\">1</span>\n</code></pre></div>\n<p>Any suggestions for me about this? Is it possible that <strong>wasm2wat</strong> did something wrong? Thanks very much.</p>\n</blockquote>",
        "id": 368657257,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1687457926
    },
    {
        "content": "<p>lyuxiaosu <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6626#issuecomment-1603118302\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6626\">issue #6626</a>:</p>\n<blockquote>\n<p>This issue was solved.</p>\n</blockquote>",
        "id": 368657343,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1687457949
    }
]