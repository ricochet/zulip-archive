[
    {
        "content": "<p>dylanpoe opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8841\">issue #8841</a>:</p>\n<blockquote>\n<p>hello, I use golang build a main.wasm files</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"c1\">//go:build js &amp;&amp; wasm</span>\n\n<span class=\"c1\">// main.go</span>\n<span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">main</span>\n\n<span class=\"n\">import</span><span class=\"w\"> </span><span class=\"p\">(</span>\n<span class=\"w\">    </span><span class=\"s\">\"syscall/js\"</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">func</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">js</span><span class=\"p\">.</span><span class=\"n\">Global</span><span class=\"p\">().</span><span class=\"n\">Call</span><span class=\"p\">(</span><span class=\"s\">\"alert\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"Hello World\"</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>and build the main.wasm by the code</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\"> </span><span class=\"n\">GOOS</span><span class=\"o\">=</span><span class=\"n\">js</span><span class=\"w\"> </span><span class=\"n\">GOARCH</span><span class=\"o\">=</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">go</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\">  </span><span class=\"n\">main</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n</code></pre></div>\n<p>then use the wasmtime main.wasm, got the error</p>\n<div class=\"codehilite\" data-code-language=\"wasmtime\"><pre><span></span><code>Error: failed to run main module `main.wasm`\n\nCaused by:\n    0: failed to instantiate \"main.wasm\"\n    1: unknown import: `gojs::runtime.scheduleTimeoutEvent` has not been defined\n</code></pre></div>\n<p>hot t fix it ?</p>\n</blockquote>",
        "id": 445576193,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1718799521
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8841#issuecomment-2178591668\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8841\">issue #8841</a>:</p>\n<blockquote>\n<p>GOOS=js uses a Go specific syscall interface which is only implemented by the JS code available at <a href=\"https://github.com/golang/go/blob/master/misc/wasm/wasm_exec.js\">https://github.com/golang/go/blob/master/misc/wasm/wasm_exec.js</a> This only works in the browser and with Node.JS and is incompatible with any native WASM runtime. For Wasmtime and other native WASM runtimes you have to use GOOS=wasip1 instead and are not allowed to use the <code>syscalls/js</code> package.</p>\n</blockquote>",
        "id": 445579048,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1718800424
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8841\">issue #8841</a>:</p>\n<blockquote>\n<p>hello, I use golang build a main.wasm files</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"c1\">//go:build js &amp;&amp; wasm</span>\n\n<span class=\"c1\">// main.go</span>\n<span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">main</span>\n\n<span class=\"n\">import</span><span class=\"w\"> </span><span class=\"p\">(</span>\n<span class=\"w\">    </span><span class=\"s\">\"syscall/js\"</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">func</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"n\">js</span><span class=\"p\">.</span><span class=\"n\">Global</span><span class=\"p\">().</span><span class=\"n\">Call</span><span class=\"p\">(</span><span class=\"s\">\"alert\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"Hello World\"</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>and build the main.wasm by the code</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\"> </span><span class=\"n\">GOOS</span><span class=\"o\">=</span><span class=\"n\">js</span><span class=\"w\"> </span><span class=\"n\">GOARCH</span><span class=\"o\">=</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">go</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\">  </span><span class=\"n\">main</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n</code></pre></div>\n<p>then use the wasmtime main.wasm, got the error</p>\n<div class=\"codehilite\" data-code-language=\"wasmtime\"><pre><span></span><code>Error: failed to run main module `main.wasm`\n\nCaused by:\n    0: failed to instantiate \"main.wasm\"\n    1: unknown import: `gojs::runtime.scheduleTimeoutEvent` has not been defined\n</code></pre></div>\n<p>hot t fix it ?</p>\n</blockquote>",
        "id": 445669391,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1718819654
    }
]