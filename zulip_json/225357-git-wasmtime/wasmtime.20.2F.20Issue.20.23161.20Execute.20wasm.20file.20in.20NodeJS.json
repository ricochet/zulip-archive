[
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/161#issuecomment-772796975\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/161\">Issue #161</a>:</p>\n<blockquote>\n<p>I think this can be closed. It isn't related to Cranelift or Wasmtime.</p>\n</blockquote>",
        "id": 225075719,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1612383728
    },
    {
        "content": "<p>cfallin closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/161\">Issue #161</a>:</p>\n<blockquote>\n<p>I'd like to expand the tutorial on how to run the wasm file in NodeJS after running it with wasmtime.</p>\n<p>Normally you can simply run <code>WebAssembly.instantiate(buf)</code>, but here the demo.c contains arguments input.txt and output.txt.<br>\nThe WebAssembly requires a <code>wasi_unstable</code> object and within that a <code>fd_prestat_get</code> function, but I don't know how it should look like...</p>\n<p><code>index.js</code></p>\n<p><div class=\"codehilite\" data-code-language=\"JavaScript\"><pre><span></span><code><span class=\"kr\">const</span> <span class=\"nx\">fs</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'fs'</span><span class=\"p\">);</span>\n<span class=\"kr\">const</span> <span class=\"nx\">buf</span> <span class=\"o\">=</span> <span class=\"nx\">fs</span><span class=\"p\">.</span><span class=\"nx\">readFileSync</span><span class=\"p\">(</span><span class=\"s1\">'./demo.wasm'</span><span class=\"p\">);</span>\n\n<span class=\"p\">(</span><span class=\"k\">async</span> <span class=\"p\">()</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kr\">const</span> <span class=\"nx\">res</span> <span class=\"o\">=</span> <span class=\"k\">await</span> <span class=\"nx\">WebAssembly</span><span class=\"p\">.</span><span class=\"nx\">instantiate</span><span class=\"p\">(</span><span class=\"nx\">buf</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"nx\">wasi_unstable</span><span class=\"o\">:</span> <span class=\"p\">{</span><span class=\"nx\">fd_prestat_get</span><span class=\"o\">:</span> <span class=\"p\">()</span> <span class=\"p\">=&gt;</span> <span class=\"p\">{}}});</span>\n\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">instance</span><span class=\"p\">);</span>\n<span class=\"p\">})();</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 225076637,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1612384204
    }
]