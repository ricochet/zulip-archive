[
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">PR #3729</a> from <code>wasmtime_listen_cli</code> to <code>main</code>:</p>\n<blockquote>\n<p>As a follow up for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a>, this implements CLI options to insert pre-opened sockets.</p>\n<p><code>--listenfd</code> : Inherit environment variables and file descriptors following the systemd listen fd specification (UNIX only)</p>\n<p><code>--tcplisten &lt;SOCKET ADDRESS&gt;</code>: Grant access to the given TCP listen socket</p>\n<h3>TODO</h3>\n<ul>\n<li>[ ] Write test cases</li>\n</ul>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 269739079,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643378224
    },
    {
        "content": "<p>haraldh updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">PR #3729</a> from <code>wasmtime_listen_cli</code> to <code>main</code>.</p>",
        "id": 270164384,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643701598
    },
    {
        "content": "<p>haraldh updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">PR #3729</a> from <code>wasmtime_listen_cli</code> to <code>main</code>.</p>",
        "id": 270695731,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643970978
    },
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">PR #3729</a> from <code>wasmtime_listen_cli</code> to <code>main</code>:</p>\n<blockquote>\n<p>As a follow up for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a>, this implements CLI options to insert pre-opened sockets.</p>\n<p><code>--listenfd</code> : Inherit environment variables and file descriptors following the systemd listen fd specification (UNIX only)</p>\n<p><code>--tcplisten &lt;SOCKET ADDRESS&gt;</code>: Grant access to the given TCP listen socket</p>\n<h3>TODO</h3>\n<ul>\n<li>[ ] Write test cases</li>\n</ul>\n<h3>EXAMPLES</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">clone</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">branch</span><span class=\"w\"> </span><span class=\"n\">wasi</span><span class=\"w\"> </span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/haraldh/mio.git</span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">cd</span><span class=\"w\"> </span><span class=\"n\">mio</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">cargo</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"n\">nightly</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">example</span><span class=\"w\"> </span><span class=\"n\">tcp_server</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">features</span><span class=\"o\">=</span><span class=\"s\">\"os-poll net\"</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">tcplisten</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span>:<span class=\"mi\">9000</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">LISTEN_FDS</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">examples</span><span class=\"o\">/</span><span class=\"n\">tcp_server</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"o\">^</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">bg</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">echo</span><span class=\"w\"> </span><span class=\"n\">Hello</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">nc</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span><span class=\"w\"> </span><span class=\"mi\">9000</span><span class=\"w\"></span>\n<span class=\"n\">Hello</span><span class=\"w\"> </span><span class=\"n\">world</span><span class=\"o\">!</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 270696372,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643971326
    },
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">PR #3729</a> from <code>wasmtime_listen_cli</code> to <code>main</code>:</p>\n<blockquote>\n<p>As a follow up for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a>, this implements CLI options to insert pre-opened sockets.</p>\n<p><code>--listenfd</code> : Inherit environment variables and file descriptors following the systemd listen fd specification (UNIX only)</p>\n<p><code>--tcplisten &lt;SOCKET ADDRESS&gt;</code>: Grant access to the given TCP listen socket</p>\n<h3>TODO</h3>\n<ul>\n<li>[ ] Write test cases</li>\n</ul>\n<h3>EXAMPLES</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">clone</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">branch</span><span class=\"w\"> </span><span class=\"n\">wasi</span><span class=\"w\"> </span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/haraldh/mio.git</span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">cd</span><span class=\"w\"> </span><span class=\"n\">mio</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">cargo</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"n\">nightly</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">example</span><span class=\"w\"> </span><span class=\"n\">tcp_server</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">features</span><span class=\"o\">=</span><span class=\"s\">\"os-poll net\"</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">tcplisten</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span>:<span class=\"mi\">9000</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">LISTEN_FDS</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">examples</span><span class=\"o\">/</span><span class=\"n\">tcp_server</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"o\">^</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">bg</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">echo</span><span class=\"w\"> </span><span class=\"n\">Hello</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">nc</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span><span class=\"w\"> </span><span class=\"mi\">9000</span><span class=\"w\"></span>\n<span class=\"n\">Hello</span><span class=\"w\"> </span><span class=\"n\">world</span><span class=\"o\">!</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">fg</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"o\">^</span><span class=\"n\">C</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 270696541,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643971416
    },
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">PR #3729</a> from <code>wasmtime_listen_cli</code> to <code>main</code>:</p>\n<blockquote>\n<p>As a follow up for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a>, this implements CLI options to insert pre-opened sockets.</p>\n<p><code>--listenfd</code> : Inherit environment variables and file descriptors following the systemd listen fd specification (UNIX only)</p>\n<p><code>--tcplisten &lt;SOCKET ADDRESS&gt;</code>: Grant access to the given TCP listen socket</p>\n<h3>TODO</h3>\n<ul>\n<li>[ ] Write test cases</li>\n</ul>\n<h3>EXAMPLES</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">clone</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">branch</span><span class=\"w\"> </span><span class=\"n\">wasi</span><span class=\"w\"> </span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/haraldh/mio.git</span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">cd</span><span class=\"w\"> </span><span class=\"n\">mio</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">cargo</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"n\">nightly</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">example</span><span class=\"w\"> </span><span class=\"n\">tcp_server</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">features</span><span class=\"o\">=</span><span class=\"s\">\"os-poll net\"</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\">  </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">tcplisten</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span>:<span class=\"mi\">9000</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">LISTEN_FDS</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">examples</span><span class=\"o\">/</span><span class=\"n\">tcp_server</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n<span class=\"n\">Using</span><span class=\"w\"> </span><span class=\"n\">preopened</span><span class=\"w\"> </span><span class=\"n\">socket</span><span class=\"w\"> </span><span class=\"n\">FD</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"></span>\n<span class=\"n\">You</span><span class=\"w\"> </span><span class=\"n\">can</span><span class=\"w\"> </span><span class=\"n\">connect</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">server</span><span class=\"w\"> </span><span class=\"n\">using</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">nc</span><span class=\"err\">`</span>:\n <span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">nc</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">IP</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">PORT</span><span class=\"o\">&gt;</span><span class=\"w\"></span>\n<span class=\"n\">You</span><span class=\"o\">'</span><span class=\"na\">ll</span><span class=\"w\"> </span><span class=\"n\">see</span><span class=\"w\"> </span><span class=\"n\">our</span><span class=\"w\"> </span><span class=\"n\">welcome</span><span class=\"w\"> </span><span class=\"n\">message</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">anything</span><span class=\"w\"> </span><span class=\"n\">you</span><span class=\"w\"> </span><span class=\"k\">type</span> <span class=\"nc\">will</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">printed</span><span class=\"w\"> </span><span class=\"n\">here</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"o\">^</span><span class=\"n\">Z</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">+</span><span class=\"w\">  </span><span class=\"n\">Stopped</span><span class=\"w\">                 </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">tcplisten</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span>:<span class=\"mi\">9000</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">LISTEN_FDS</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">examples</span><span class=\"o\">/</span><span class=\"n\">tcp_server</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">bg</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">echo</span><span class=\"w\"> </span><span class=\"n\">Hello</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">nc</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span><span class=\"w\"> </span><span class=\"mi\">9000</span><span class=\"w\"></span>\n<span class=\"n\">Hello</span><span class=\"w\"> </span><span class=\"n\">world</span><span class=\"o\">!</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">fg</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"o\">^</span><span class=\"n\">C</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 270696642,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643971464
    },
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">PR #3729</a> from <code>wasmtime_listen_cli</code> to <code>main</code>:</p>\n<blockquote>\n<p>As a follow up for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a>, this implements CLI options to insert pre-opened sockets.</p>\n<p><code>--listenfd</code> : Inherit environment variables and file descriptors following the systemd listen fd specification (UNIX only)</p>\n<p><code>--tcplisten &lt;SOCKET ADDRESS&gt;</code>: Grant access to the given TCP listen socket</p>\n<h3>TODO</h3>\n<ul>\n<li>[ ] Write test cases</li>\n</ul>\n<h3>EXAMPLES</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">clone</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">branch</span><span class=\"w\"> </span><span class=\"n\">wasi</span><span class=\"w\"> </span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/haraldh/mio.git</span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">cd</span><span class=\"w\"> </span><span class=\"n\">mio</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">cargo</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"n\">nightly</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">example</span><span class=\"w\"> </span><span class=\"n\">tcp_server</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">features</span><span class=\"o\">=</span><span class=\"s\">\"os-poll net\"</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">tcplisten</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span>:<span class=\"mi\">9000</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">LISTEN_FDS</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">examples</span><span class=\"o\">/</span><span class=\"n\">tcp_server</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n<span class=\"n\">Using</span><span class=\"w\"> </span><span class=\"n\">preopened</span><span class=\"w\"> </span><span class=\"n\">socket</span><span class=\"w\"> </span><span class=\"n\">FD</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"></span>\n<span class=\"n\">You</span><span class=\"w\"> </span><span class=\"n\">can</span><span class=\"w\"> </span><span class=\"n\">connect</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">server</span><span class=\"w\"> </span><span class=\"n\">using</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">nc</span><span class=\"err\">`</span>:\n <span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">nc</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">IP</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">PORT</span><span class=\"o\">&gt;</span><span class=\"w\"></span>\n<span class=\"n\">You</span><span class=\"o\">'</span><span class=\"na\">ll</span><span class=\"w\"> </span><span class=\"n\">see</span><span class=\"w\"> </span><span class=\"n\">our</span><span class=\"w\"> </span><span class=\"n\">welcome</span><span class=\"w\"> </span><span class=\"n\">message</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">anything</span><span class=\"w\"> </span><span class=\"n\">you</span><span class=\"w\"> </span><span class=\"k\">type</span> <span class=\"nc\">will</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">printed</span><span class=\"w\"> </span><span class=\"n\">here</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"o\">^</span><span class=\"n\">Z</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">+</span><span class=\"w\">  </span><span class=\"n\">Stopped</span><span class=\"w\">                 </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">tcplisten</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span>:<span class=\"mi\">9000</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">LISTEN_FDS</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">examples</span><span class=\"o\">/</span><span class=\"n\">tcp_server</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">bg</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">echo</span><span class=\"w\"> </span><span class=\"n\">Hello</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">nc</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span><span class=\"w\"> </span><span class=\"mi\">9000</span><span class=\"w\"></span>\n<span class=\"n\">Hello</span><span class=\"w\"> </span><span class=\"n\">world</span><span class=\"o\">!</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">fg</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"o\">^</span><span class=\"n\">C</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 270696666,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643971479
    },
    {
        "content": "<p>haraldh edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">PR #3729</a> from <code>wasmtime_listen_cli</code> to <code>main</code>:</p>\n<blockquote>\n<p>As a follow up for <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3711\">https://github.com/bytecodealliance/wasmtime/pull/3711</a>, this implements CLI options to insert pre-opened sockets.</p>\n<p><code>--listenfd</code> : Inherit environment variables and file descriptors following the systemd listen fd specification (UNIX only)</p>\n<p><code>--tcplisten &lt;SOCKET ADDRESS&gt;</code>: Grant access to the given TCP listen socket</p>\n<h3>TODO</h3>\n<ul>\n<li>[ ] Write test cases</li>\n</ul>\n<h3>EXAMPLES</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">git</span><span class=\"w\"> </span><span class=\"n\">clone</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">branch</span><span class=\"w\"> </span><span class=\"n\">wasi</span><span class=\"w\"> </span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/haraldh/mio.git</span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">cd</span><span class=\"w\"> </span><span class=\"n\">mio</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">cargo</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"n\">nightly</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">target</span><span class=\"w\"> </span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">example</span><span class=\"w\"> </span><span class=\"n\">tcp_server</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">features</span><span class=\"o\">=</span><span class=\"s\">\"os-poll net\"</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">tcplisten</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span>:<span class=\"mi\">9000</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">LISTEN_FDS</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">examples</span><span class=\"o\">/</span><span class=\"n\">tcp_server</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n<span class=\"n\">Using</span><span class=\"w\"> </span><span class=\"n\">preopened</span><span class=\"w\"> </span><span class=\"n\">socket</span><span class=\"w\"> </span><span class=\"n\">FD</span><span class=\"w\"> </span><span class=\"mi\">3</span><span class=\"w\"></span>\n<span class=\"n\">You</span><span class=\"w\"> </span><span class=\"n\">can</span><span class=\"w\"> </span><span class=\"n\">connect</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">server</span><span class=\"w\"> </span><span class=\"n\">using</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">nc</span><span class=\"err\">`</span>:\n <span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">nc</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">IP</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">PORT</span><span class=\"o\">&gt;</span><span class=\"w\"></span>\n<span class=\"n\">You</span><span class=\"o\">'</span><span class=\"na\">ll</span><span class=\"w\"> </span><span class=\"n\">see</span><span class=\"w\"> </span><span class=\"n\">our</span><span class=\"w\"> </span><span class=\"n\">welcome</span><span class=\"w\"> </span><span class=\"n\">message</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">anything</span><span class=\"w\"> </span><span class=\"n\">you</span><span class=\"w\"> </span><span class=\"k\">type</span> <span class=\"nc\">will</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">printed</span><span class=\"w\"> </span><span class=\"n\">here</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"o\">^</span><span class=\"n\">Z</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">+</span><span class=\"w\">  </span><span class=\"n\">Stopped</span><span class=\"w\">                 </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">tcplisten</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span>:<span class=\"mi\">9000</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">env</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">LISTEN_FDS</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">examples</span><span class=\"o\">/</span><span class=\"n\">tcp_server</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">bg</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">echo</span><span class=\"w\"> </span><span class=\"n\">Hello</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"n\">nc</span><span class=\"w\"> </span><span class=\"mf\">127.0.0.1</span><span class=\"w\"> </span><span class=\"mi\">9000</span><span class=\"w\"></span>\n<span class=\"n\">Accepted</span><span class=\"w\"> </span><span class=\"n\">connection</span><span class=\"w\"> </span><span class=\"n\">from</span>: <span class=\"mf\">0.0.0.0</span>:<span class=\"mi\">0</span><span class=\"w\"></span>\n<span class=\"n\">Hello</span><span class=\"w\"> </span><span class=\"n\">world</span><span class=\"o\">!</span><span class=\"w\"></span>\n<span class=\"n\">Received</span><span class=\"w\"> </span><span class=\"n\">data</span>: <span class=\"nc\">Hello</span><span class=\"w\"></span>\n<span class=\"n\">Connection</span><span class=\"w\"> </span><span class=\"n\">closed</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">fg</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"o\">^</span><span class=\"n\">C</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 270696733,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1643971526
    },
    {
        "content": "<p>sunfishcode submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729#pullrequestreview-875318030\">PR review</a>.</p>",
        "id": 271052203,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1644272777
    },
    {
        "content": "<p>sunfishcode merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3729\">PR #3729</a>.</p>",
        "id": 271052257,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1644272800
    }
]