[
    {
        "content": "<p><strong>cfallin</strong> requested <a href=\"https://github.com/elliottt\">elliottt</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811\">PR #4811</a>.</p>",
        "id": 296024169,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661824027
    },
    {
        "content": "<p>cfallin opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811\">PR #4811</a> from <code>ra2-semantics-cleanup</code> to <code>main</code>:</p>\n<blockquote>\n<p>This PR removes all uses of \"modify\" operands on instructions in the x64<br>\nbackend, and also removes all uses of \"pinned vregs\", or vregs that are<br>\nexplicitly tied to particular physical registers. In place of both of<br>\nthese mechanisms, which are legacies of the old regalloc design and<br>\nsupported via compatibility code, the backend now uses operand<br>\nconstraints. This is more flexible as it allows the regalloc to see the<br>\nliveranges and constraints without \"reverse-engineering\" move instructions.</p>\n<p>Eventually, after removing all such uses (including in other backends<br>\nand by the ABI code), we can remove the compatibility code in regalloc2,<br>\nsignificantly simplifying its liverange-construction frontend and<br>\nthus allowing for higher confidence in correctness as well as possibly a<br>\nbit more compilation speed.</p>\n<p>Curiously, there are a few extra move instructions now; they are likely<br>\npoor splitting decisions and I can try to chase these down later.</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 296024170,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661824027
    },
    {
        "content": "<p>jameysharp submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#pullrequestreview-1090631048\">PR review</a>.</p>",
        "id": 296163936,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661876852
    },
    {
        "content": "<p>jameysharp submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#pullrequestreview-1090631048\">PR review</a>.</p>",
        "id": 296163937,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661876852
    },
    {
        "content": "<p>jameysharp created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#discussion_r958694214\">PR review comment</a>:</p>\n<blockquote>\n<p>Can the TODO comment be deleted now?</p>\n</blockquote>",
        "id": 296163938,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661876852
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811\">PR #4811</a> from <code>ra2-semantics-cleanup</code> to <code>main</code>.</p>",
        "id": 296169584,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661878423
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811\">PR #4811</a> from <code>ra2-semantics-cleanup</code> to <code>main</code>.</p>",
        "id": 296169699,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661878448
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#discussion_r958721123\">PR review comment</a>:</p>\n<blockquote>\n<p>Yep, forgot that; fixed now. Thanks!</p>\n</blockquote>",
        "id": 296169747,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661878464
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#pullrequestreview-1090669725\">PR review</a>.</p>",
        "id": 296169748,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661878464
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#pullrequestreview-1090635958\">PR review</a>.</p>",
        "id": 296188056,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661883962
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#discussion_r958747843\">PR review comment</a>:</p>\n<blockquote>\n<p><span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span> </p>\n</blockquote>",
        "id": 296188057,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661883962
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#discussion_r958697702\">PR review comment</a>:</p>\n<blockquote>\n<p>Yay!</p>\n</blockquote>",
        "id": 296188060,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661883962
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#discussion_r958758273\">PR review comment</a>:</p>\n<blockquote>\n<p>Are these extra moves expected?</p>\n</blockquote>",
        "id": 296188061,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661883962
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#pullrequestreview-1090635958\">PR review</a>.</p>",
        "id": 296188062,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661883962
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#discussion_r958766010\">PR review comment</a>:</p>\n<blockquote>\n<p>I like this a lot more!</p>\n</blockquote>",
        "id": 296188063,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661883962
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#discussion_r958767410\">PR review comment</a>:</p>\n<blockquote>\n<p>It seems like the big change here is being explicit about zeroing the temp register in the emit code for <code>BrTableSeq</code>?</p>\n</blockquote>",
        "id": 296188065,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661883962
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#pullrequestreview-1090823812\">PR review</a>.</p>",
        "id": 296194205,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661885982
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#discussion_r958829626\">PR review comment</a>:</p>\n<blockquote>\n<p>It looks like it's the result of a slight overapproximation of the liverange of the rdx input and rdx output: the input is supposed to be live up to the early-point and output live starting at the late-point, but for I think fuzzbug-related reasons that I don't fully recall, I had to make fixed defs live starting at the early point. The conflict is resolved by putting the input in r11 here but doing a last-minute move. I can dig into it further in regalloc2 but it will take some deep thought; not a super-easy fix. In any case the operands express a more flexible problem so we should be able to solve it locally (within regalloc) now...</p>\n</blockquote>",
        "id": 296194206,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661885983
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#pullrequestreview-1091000002\">PR review</a>.</p>",
        "id": 296225732,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661895642
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#discussion_r958953443\">PR review comment</a>:</p>\n<blockquote>\n<p>Yep, the disassembly diff is a little tricky to see (too much delta for git to line up the lines) but basically the initialization of the zeroed register changed.</p>\n</blockquote>",
        "id": 296225733,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661895642
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811#pullrequestreview-1091082814\">PR review</a>.</p>",
        "id": 296236573,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661902454
    },
    {
        "content": "<p>cfallin merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4811\">PR #4811</a>.</p>",
        "id": 296239975,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1661905275
    }
]