[
    {
        "content": "<p>alexcrichton opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a> from <code>alexcrichton:doc-wasi</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>Currently the <code>wasmtime-wasi</code> crate is pretty sparse on documentation and additionally had some papercuts in the API. I've attempted to document all the major bits with words and examples here in addition to performing some quality-of-life refactors for API usage in the future. I'd like to refactor the WASIp2 bits a bit more to make them a bit more similar to the WASIp1 bits too, but that's a larger refactoring for a future PR.</p>\n<p>Closes <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8187\">https://github.com/bytecodealliance/wasmtime/issues/8187</a> (they're now at the same level)<br>\nCloses <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8188\">https://github.com/bytecodealliance/wasmtime/issues/8188</a> (I've synchronized interfaces added)</p>\n<p>I'll note that <code>wasmtime-wasi-http</code> could still use some love as well, which I haven't touched in this PR.</p>\n</blockquote>",
        "id": 429223418,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711296784
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/fitzgen\">fitzgen</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a>.</p>",
        "id": 429223419,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711296785
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a>.</p>",
        "id": 429223420,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711296785
    },
    {
        "content": "<p>rylev submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1958050665\">PR review</a>.</p>",
        "id": 429438769,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711380533
    },
    {
        "content": "<p>rylev submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1958050665\">PR review</a>.</p>",
        "id": 429438770,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711380533
    },
    {
        "content": "<p>rylev created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1537785226\">PR review comment</a>:</p>\n<blockquote>\n<p>Not related to this PR exactly, but one pattern that can be very useful when a builder is required to build a type is to a <code>builder</code> function to that type. So in this case:</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">WasiCtx</span>::<span class=\"n\">builder</span><span class=\"p\">();</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 429438771,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711380533
    },
    {
        "content": "<p>rylev created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1537776482\">PR review comment</a>:</p>\n<blockquote>\n<p>This always bothered me that this is called <code>perms</code> instead of <code>dir_perms</code> to contrast with <code>file_perms</code>. What do we think about renaming that arg?</p>\n</blockquote>",
        "id": 429438772,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711380533
    },
    {
        "content": "<p>rylev created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1537779119\">PR review comment</a>:</p>\n<blockquote>\n<p>Should <code>guest_path</code> be second so that file paths are first and permissions second?</p>\n</blockquote>",
        "id": 429438773,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711380533
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a>.</p>",
        "id": 429465002,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711385687
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#issuecomment-2018467371\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a>:</p>\n<blockquote>\n<p>All good suggestions <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> </p>\n</blockquote>",
        "id": 429465042,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711385700
    },
    {
        "content": "<p><strong>fitzgen</strong> requested <a href=\"https://github.com/sunfishcode\">sunfishcode</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a>.</p>",
        "id": 429503430,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711398050
    },
    {
        "content": "<p>fitzgen <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#issuecomment-2018843084\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a>:</p>\n<blockquote>\n<p>Redirecting review to @sunfishcode since I haven't ever really touched this crate.</p>\n</blockquote>",
        "id": 429503468,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711398071
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#issuecomment-2018937451\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a>:</p>\n<blockquote>\n<p>I'll also tag @elliottt since he's worked on these crates as well</p>\n</blockquote>",
        "id": 429512957,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711401579
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/elliottt\">elliottt</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a>.</p>",
        "id": 429512983,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711401584
    },
    {
        "content": "<p>rylev submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1960093748\">PR review</a>.</p>",
        "id": 429638409,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711454105
    },
    {
        "content": "<p>rylev created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1539080639\">PR review comment</a>:</p>\n<blockquote>\n<p>I'm confused by this. Why does the <code>preopened_dir</code> only take two arguments?</p>\n</blockquote>",
        "id": 429638410,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711454105
    },
    {
        "content": "<p>rylev submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1960093748\">PR review</a>.</p>",
        "id": 429638411,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711454105
    },
    {
        "content": "<p>rylev created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1539052775\">PR review comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>    /// asynchronous version see [`bindings::Command`](super::Command).\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 429638412,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711454105
    },
    {
        "content": "<p>rylev created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1539054946\">PR review comment</a>:</p>\n<blockquote>\n<p>I'm unsure about <code>sync</code> vs. <code>async_io</code>. It seems like the previous <code>sync_io</code> contrasts more clearly with <code>async_io</code></p>\n</blockquote>",
        "id": 429638414,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711454105
    },
    {
        "content": "<p>sunfishcode submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1958812033\">PR review</a>.</p>",
        "id": 429638653,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711454196
    },
    {
        "content": "<p>sunfishcode submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1958812033\">PR review</a>.</p>",
        "id": 429638654,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711454196
    },
    {
        "content": "<p>sunfishcode created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1538258127\">PR review comment</a>:</p>\n<blockquote>\n<p>This might be out of scope for this PR but: is there a reason we need to add all the interfaces manually here? The <code>world</code> in the Wit level groups all these interfaces together, so it seems like the host-side bindings should be able to group all these together as well.</p>\n</blockquote>",
        "id": 429638655,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711454196
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1960573901\">PR review</a>.</p>",
        "id": 429666117,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711462894
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1539349766\">PR review comment</a>:</p>\n<blockquote>\n<p>Ah the <code>async_io</code> name doesn't show up at all, that's just to contain everything and then reexport only the bits we need. The only modules here are <code>bindings</code> and <code>bindings::sync</code>, but these bindings are relatively rare to access since they're the raw traits/types that most embedders won't be working with.</p>\n</blockquote>",
        "id": 429666119,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711462895
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1960574687\">PR review</a>.</p>",
        "id": 429666162,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711462911
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1539350263\">PR review comment</a>:</p>\n<blockquote>\n<p>This is the old builder from <code>wasi-common</code></p>\n</blockquote>",
        "id": 429666164,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711462911
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1960577998\">PR review</a>.</p>",
        "id": 429666392,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711462972
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1539352301\">PR review comment</a>:</p>\n<blockquote>\n<p>The main reason is that the auto-generated functions all take a closure that's <code>fn(&amp;mut T) -&gt; &amp;mut U</code> but that's switched here to be <code>T: WasiView</code>. Otherwise though, you're right, and it's something I've wanted to clean up for awhile. </p>\n</blockquote>",
        "id": 429666394,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711462972
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a>.</p>",
        "id": 429666430,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711462985
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1961251701\">PR review</a>:</p>\n<blockquote>\n<p>This looks great to me! Just a few questions/suggestions.</p>\n</blockquote>",
        "id": 429758509,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711497470
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1961251701\">PR review</a>:</p>\n<blockquote>\n<p>This looks great to me! Just a few questions/suggestions.</p>\n</blockquote>",
        "id": 429758510,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711497470
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1539848187\">PR review comment</a>:</p>\n<blockquote>\n<p>Why don't we consume <code>self</code> here?</p>\n</blockquote>",
        "id": 429758511,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711497470
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1539860712\">PR review comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>    /// Directories can be limited to being readonly. This will restrict what\n    /// can be done with them, for example preventing creation of new files.\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 429758512,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711497470
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1539803781\">PR review comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>                // These interfaces come from the outer module, as it's\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 429758513,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711497470
    },
    {
        "content": "<p>alexcrichton updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a>.</p>",
        "id": 429872631,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711549787
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1963516960\">PR review</a>.</p>",
        "id": 429872820,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711549826
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#discussion_r1541229191\">PR review comment</a>:</p>\n<blockquote>\n<p>You can find more discussion of that <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6770\">here</a></p>\n</blockquote>",
        "id": 429872821,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711549826
    },
    {
        "content": "<p><strong>alexcrichton</strong> requested <a href=\"https://github.com/elliottt\">elliottt</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a>.</p>",
        "id": 429975429,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711588449
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228#pullrequestreview-1965058951\">PR review</a>:</p>\n<blockquote>\n<p>:shipit: </p>\n</blockquote>",
        "id": 429981524,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711592709
    },
    {
        "content": "<p>alexcrichton merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8228\">PR #8228</a>.</p>",
        "id": 429988033,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1711596696
    }
]