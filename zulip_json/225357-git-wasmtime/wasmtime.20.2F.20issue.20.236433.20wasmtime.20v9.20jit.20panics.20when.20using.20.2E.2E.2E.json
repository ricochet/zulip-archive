[
    {
        "content": "<p>repi opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6433\">issue #6433</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p>The Linux <code>perf</code> support enabled with <code>ProfilingStrategy::PerfMap</code> now with wasmtime v9.0.0 panics in <code>wasmtime-jit</code></p>\n<h3>Steps to Reproduce</h3>\n<p>Compile a module with <code>config.profiler(wasmtime::ProfilingStrategy::PerfMap);</code></p>\n<h3>Expected Results</h3>\n<p>It compiles</p>\n<h3>Actual Results</h3>\n<p>It panics inside <code>wasmtime-jit</code> on an <code>Option::unwrap</code> from: </p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">    </span><span class=\"sd\">/// Returns an iterator over all array-to-Wasm trampolines defined within</span>\n<span class=\"w\">    </span><span class=\"sd\">/// this module, providing both their index and their in-memory body.</span>\n<span class=\"w\">    </span><span class=\"k\">pub</span><span class=\"w\"> </span><span class=\"k\">fn</span> <span class=\"nf\">array_to_wasm_trampolines</span><span class=\"p\">(</span>\n<span class=\"w\">        </span><span class=\"o\">&amp;</span><span class=\"bp\">self</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">impl</span><span class=\"w\"> </span><span class=\"nb\">ExactSizeIterator</span><span class=\"o\">&lt;</span><span class=\"n\">Item</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">DefinedFuncIndex</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"p\">[</span><span class=\"kt\">u8</span><span class=\"p\">])</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"nb\">_</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"bp\">self</span><span class=\"p\">.</span><span class=\"n\">funcs</span>\n<span class=\"w\">            </span><span class=\"p\">.</span><span class=\"n\">keys</span><span class=\"p\">()</span>\n<span class=\"w\">            </span><span class=\"p\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"k\">move</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">i</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"bp\">self</span><span class=\"p\">.</span><span class=\"n\">array_to_wasm_trampoline</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">).</span><span class=\"n\">unwrap</span><span class=\"p\">()))</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 9.0.0</p>\n<p>Operating system: Linux</p>\n<p>Architecture: x64</p>\n<h3>Extra Info</h3>\n<p>This panic didn't happen on v8.0.1.</p>\n<p>Likely caused by either these PRs?<br>\n- #6262<br>\n- #6358<br>\n</p>\n</blockquote>",
        "id": 360368557,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1684787280
    },
    {
        "content": "<p>repi labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6433\">issue #6433</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p>The Linux <code>perf</code> support enabled with <code>ProfilingStrategy::PerfMap</code> now with wasmtime v9.0.0 panics in <code>wasmtime-jit</code></p>\n<h3>Steps to Reproduce</h3>\n<p>Compile a module with <code>config.profiler(wasmtime::ProfilingStrategy::PerfMap);</code></p>\n<h3>Expected Results</h3>\n<p>It compiles</p>\n<h3>Actual Results</h3>\n<p>It panics inside <code>wasmtime-jit</code> on an <code>Option::unwrap</code> from: </p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">    </span><span class=\"sd\">/// Returns an iterator over all array-to-Wasm trampolines defined within</span>\n<span class=\"w\">    </span><span class=\"sd\">/// this module, providing both their index and their in-memory body.</span>\n<span class=\"w\">    </span><span class=\"k\">pub</span><span class=\"w\"> </span><span class=\"k\">fn</span> <span class=\"nf\">array_to_wasm_trampolines</span><span class=\"p\">(</span>\n<span class=\"w\">        </span><span class=\"o\">&amp;</span><span class=\"bp\">self</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">impl</span><span class=\"w\"> </span><span class=\"nb\">ExactSizeIterator</span><span class=\"o\">&lt;</span><span class=\"n\">Item</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">DefinedFuncIndex</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"p\">[</span><span class=\"kt\">u8</span><span class=\"p\">])</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"nb\">_</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"bp\">self</span><span class=\"p\">.</span><span class=\"n\">funcs</span>\n<span class=\"w\">            </span><span class=\"p\">.</span><span class=\"n\">keys</span><span class=\"p\">()</span>\n<span class=\"w\">            </span><span class=\"p\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"k\">move</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">i</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"bp\">self</span><span class=\"p\">.</span><span class=\"n\">array_to_wasm_trampoline</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">).</span><span class=\"n\">unwrap</span><span class=\"p\">()))</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 9.0.0</p>\n<p>Operating system: Linux</p>\n<p>Architecture: x64</p>\n<h3>Extra Info</h3>\n<p>This panic didn't happen on v8.0.1.</p>\n<p>Likely caused by either these PRs?<br>\n- #6262<br>\n- #6358<br>\n</p>\n</blockquote>",
        "id": 360368559,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1684787281
    },
    {
        "content": "<p>peterhuene <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6433#issuecomment-1558184211\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6433\">issue #6433</a>:</p>\n<blockquote>\n<p>I believe this is now fixed with 9.0.1's release.</p>\n</blockquote>",
        "id": 360394217,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1684797955
    },
    {
        "content": "<p>peterhuene closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6433\">issue #6433</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p>The Linux <code>perf</code> support enabled with <code>ProfilingStrategy::PerfMap</code> now with wasmtime v9.0.0 panics in <code>wasmtime-jit</code></p>\n<h3>Steps to Reproduce</h3>\n<p>Compile a module with <code>config.profiler(wasmtime::ProfilingStrategy::PerfMap);</code></p>\n<h3>Expected Results</h3>\n<p>It compiles</p>\n<h3>Actual Results</h3>\n<p>It panics inside <code>wasmtime-jit</code> on an <code>Option::unwrap</code> from: </p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">    </span><span class=\"sd\">/// Returns an iterator over all array-to-Wasm trampolines defined within</span>\n<span class=\"w\">    </span><span class=\"sd\">/// this module, providing both their index and their in-memory body.</span>\n<span class=\"w\">    </span><span class=\"k\">pub</span><span class=\"w\"> </span><span class=\"k\">fn</span> <span class=\"nf\">array_to_wasm_trampolines</span><span class=\"p\">(</span>\n<span class=\"w\">        </span><span class=\"o\">&amp;</span><span class=\"bp\">self</span><span class=\"p\">,</span>\n<span class=\"w\">    </span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">impl</span><span class=\"w\"> </span><span class=\"nb\">ExactSizeIterator</span><span class=\"o\">&lt;</span><span class=\"n\">Item</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">DefinedFuncIndex</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"p\">[</span><span class=\"kt\">u8</span><span class=\"p\">])</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"nb\">_</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"bp\">self</span><span class=\"p\">.</span><span class=\"n\">funcs</span>\n<span class=\"w\">            </span><span class=\"p\">.</span><span class=\"n\">keys</span><span class=\"p\">()</span>\n<span class=\"w\">            </span><span class=\"p\">.</span><span class=\"n\">map</span><span class=\"p\">(</span><span class=\"k\">move</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"n\">i</span><span class=\"o\">|</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"bp\">self</span><span class=\"p\">.</span><span class=\"n\">array_to_wasm_trampoline</span><span class=\"p\">(</span><span class=\"n\">i</span><span class=\"p\">).</span><span class=\"n\">unwrap</span><span class=\"p\">()))</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 9.0.0</p>\n<p>Operating system: Linux</p>\n<p>Architecture: x64</p>\n<h3>Extra Info</h3>\n<p>This panic didn't happen on v8.0.1.</p>\n<p>Likely caused by either these PRs?<br>\n- #6262<br>\n- #6358<br>\n</p>\n</blockquote>",
        "id": 360394218,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1684797956
    },
    {
        "content": "<p>repi <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6433#issuecomment-1558833029\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6433\">issue #6433</a>:</p>\n<blockquote>\n<p>thanks for quick fix! confirmed that 9.0.1 fixes it!</p>\n</blockquote>",
        "id": 360467530,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1684831741
    }
]