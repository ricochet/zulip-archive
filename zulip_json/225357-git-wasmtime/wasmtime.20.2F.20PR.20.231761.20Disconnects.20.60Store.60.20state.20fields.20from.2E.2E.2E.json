[
    {
        "content": "<p>yurydelendik opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompileModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li>Preliminary marked <code>CompileModule</code> as <code>Send</code>+<code>Sync</code> for \"<a href=\"http://frame_info.rs\">frame_info.rs</a>\" -- probably needs to be changed</li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198813195,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590522860
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompileModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li>Preliminary marked <code>CompileModule</code> as <code>Send</code>+<code>Sync</code> for \"<a href=\"http://frame_info.rs\">frame_info.rs</a>\" -- probably needs to be changed</li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198813942,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590523232
    },
    {
        "content": "<p><strong>yurydelendik</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a>.</p>",
        "id": 198813955,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590523239
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompileModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li>Preliminary marked <code>CompileModule</code> as <code>Send</code>+<code>Sync</code> for \"<a href=\"http://frame_info.rs\">frame_info.rs</a>\" -- probably needs to be changed</li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198823273,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590528102
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompileModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li>Preliminary marked <code>CompileModule</code> as <code>Send</code>+<code>Sync</code> for \"<a href=\"http://frame_info.rs\">frame_info.rs</a>\" -- probably needs to be changed</li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198824191,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590528619
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompileModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li>Preliminary marked <code>CompileModule</code> as <code>Send</code>+<code>Sync</code> for \"<a href=\"http://frame_info.rs\">frame_info.rs</a>\" -- probably needs to be changed</li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198824566,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590528841
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompileModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li>Preliminary marked <code>CompileModule</code> as <code>Send</code>+<code>Sync</code> for \"<a href=\"http://frame_info.rs\">frame_info.rs</a>\" -- probably needs to be changed</li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198826617,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590530214
    },
    {
        "content": "<p>yurydelendik edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li>Preliminary marked <code>CompiledModule</code> as <code>Send</code>+<code>Sync</code> for \"<a href=\"http://frame_info.rs\">frame_info.rs</a>\" -- probably needs to be changed</li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198826887,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590530395
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li>Preliminary marked <code>CompiledModule</code> as <code>Send</code>+<code>Sync</code> for \"<a href=\"http://frame_info.rs\">frame_info.rs</a>\" -- probably needs to be changed</li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198829006,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590531792
    },
    {
        "content": "<p>yurydelendik edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198829016,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590531801
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198831210,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590533436
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198831999,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590533912
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-419304003\">PR Review</a>.</p>",
        "id": 198905795,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590592118
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-419304003\">PR Review</a>.</p>",
        "id": 198905796,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590592118
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r431209125\">PR Review Comment</a>:</p>\n<blockquote>\n<p>The <code>Store</code> here internally looks to be the only reason that this is non-<code>Send</code>, right? If that's the case can we move the <code>Store</code> out, or better yet only take an <code>Engine</code> to compile a <code>module</code>?</p>\n<p>This would require taking a <code>Store</code> argument to create an <code>Instance</code> but I think that's ok since <code>Linker</code> is the \"ergonomic\" way to create instances.</p>\n<p>Additionally this would require, on instantiation, registration of JIT code ranges within a <code>Store</code> if a module hasn't previously been registered there, but I think that's ok?</p>\n</blockquote>",
        "id": 198905798,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590592118
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r431206854\">PR Review Comment</a>:</p>\n<blockquote>\n<p>FWIW this is breaking on Windows, but I think it's fine to just skip this example and compile it as a no-op on Windows</p>\n</blockquote>",
        "id": 198905799,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590592118
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r431199590\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I'm personaly pretty wary of <code>Deref</code> unless it's used for smart pointers, so could this be removed to instead use <code>self.module</code> where necessary?</p>\n</blockquote>",
        "id": 198905800,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590592118
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r431211151\">PR Review Comment</a>:</p>\n<blockquote>\n<p>This makes me a little uncomfortable using <code>Deref</code> like this. </p>\n<p>The only reason for this, I believe, is keeping the <code>CodeMemory</code> alive, right? Since the memory management of <code>InstanceHandle</code> is detached from the handle itself (it happens in <code>Store</code> for the <code>wasmtime</code> crate), could the managment of <code>CodeMemory</code> move into <code>Store</code> as well?</p>\n<p>For example could each <code>CompiledModule</code> store an <code>Arc&lt;CodeMemory&gt;</code>, and then we push a strong reference of that into a <code>Store</code> whenever a module is instantiated within a <code>Store</code>?</p>\n</blockquote>",
        "id": 198905801,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590592118
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r431212114\">PR Review Comment</a>:</p>\n<blockquote>\n<p><code>.find(...).is_some()</code> can be replaced with <code>.any(...)</code> as well</p>\n</blockquote>",
        "id": 198905804,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590592118
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r431214547\">PR Review Comment</a>:</p>\n<blockquote>\n<p>IIRC <code>SignatureRegistry</code> has a lock internally, could that be removed now in favor of just using the <code>RefCell</code> here for mutability?</p>\n<p>I think that there's no need for <code>SignatureRegistry</code> to be synchronized, even in a shared memory world I think instances are still disconnected in that they can have different signature registries on each thread.</p>\n</blockquote>",
        "id": 198905805,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590592118
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r431212821\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I think in general this probably isn't necessary if we do this registration at instantiation time instead of compile time for a <code>Module</code>. Once a <code>Module</code> is instantiated into a <code>Store</code> we never drop the <code>InstanceHandle</code> anyway, so it's permanently registered within a store, which means there's no need to remove.</p>\n</blockquote>",
        "id": 198905806,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590592118
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198913572,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590595409
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198916222,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590596546
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198923283,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590599811
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198923385,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590599867
    },
    {
        "content": "<p>yurydelendik submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-419448223\">PR Review</a>.</p>",
        "id": 198924062,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590600177
    },
    {
        "content": "<p>yurydelendik created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r431313957\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I replaced <code>Deref&lt;Target = Module&gt;</code> with <code>InstanceContext</code>. I'm not convinced that <code>Store</code> is good location for <code>CodeMemory</code>. I understand that the end goal is to be capable to ditch entire <code>Module</code>/<code>CodeModule</code> even if <code>Instance</code> or its exports are present, but keep <code>CodeMemory</code> alive. Can we do it in follow up PRs?</p>\n</blockquote>",
        "id": 198924063,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590600177
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198941696,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590608248
    },
    {
        "content": "<p><strong>yurydelendik</strong> has marked <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> as ready for review.</p>",
        "id": 198941730,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590608261
    },
    {
        "content": "<p><strong>yurydelendik</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a>.</p>",
        "id": 198941743,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590608267
    },
    {
        "content": "<p>yurydelendik submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-419550965\">PR Review</a>.</p>",
        "id": 198941954,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590608340
    },
    {
        "content": "<p>yurydelendik created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r431397829\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I redesigned API to remove <code>Store</code> from <code>Module</code>. @alexcrichton can you take a look at this change before I proceed any further?</p>\n</blockquote>",
        "id": 198941955,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590608340
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198944297,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590609343
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 198954035,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590613927
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-421076069\">PR Review</a>.</p>",
        "id": 199175180,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590768380
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-421076069\">PR Review</a>.</p>",
        "id": 199175181,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590768381
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r432576334\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Since the <code>store</code> is now passed int to <code>Instance::new</code> I think this check for same-store-ness can be removed?</p>\n</blockquote>",
        "id": 199175182,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590768381
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r432581050\">PR Review Comment</a>:</p>\n<blockquote>\n<p>One of the worries I have about this is that while an instance is alive it retains the entire <code>CompiledModule</code>. Not everything in <code>CompiledModule</code>, however, is used throughout the liftime of the instance. For example I think a number of internal maps here are also copied to the <code>InstanceHandle</code>. I think it'd be best if we could split this into two parts:</p>\n<ul>\n<li>Parts needed for the lifetime of the <code>InstanceHandle</code>. Some of this is required by the handle itself (like <code>Module</code>), others are simply required to stay alive for the duration of the instance (e.g. <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li>Other parts are only needed for introspection and instantiation. For example I think the <code>trampolines</code> map and <code>finished_functions</code> lists here are only needed temporarily, since their relevant bits are copied into the <code>InstanceHandle</code>.</li>\n</ul>\n<p>This is a relatively niche concern though and it's not like it's a radical change from what we have here. Could a FIXME and/or issue be left though for this future refactoring?</p>\n</blockquote>",
        "id": 199175183,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590768381
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r432576604\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I think this can probably be removed since it's only used for the one check in <code>wasm_instance_new</code> which I think we can also remove now too.</p>\n</blockquote>",
        "id": 199175184,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590768381
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r432582073\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could the deallocation that happens inside here happen outside of the logkc?</p>\n</blockquote>",
        "id": 199175185,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590768381
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r432582317\">PR Review Comment</a>:</p>\n<blockquote>\n<p>IIRC <code>let _ = foo</code> is a special idiom in Rust where it will run the dtor for <code>foo</code> immediately, rather than defer it to the end of the block. I think that means that the lock isn't held for the duration of this block?</p>\n</blockquote>",
        "id": 199175186,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590768381
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r432581907\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could this allocation happen before the synchronization of the lock?</p>\n</blockquote>",
        "id": 199175187,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590768381
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r432582832\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I don't think that the <code>u32</code> here is used, right?</p>\n<p>Also could this have documentation as to its purpose?</p>\n</blockquote>",
        "id": 199175188,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590768381
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r432585314\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could an instance of <code>Compiler</code> be stored within the <code>Engine</code> itself, so the same instance is reused across all compilations? I think <code>Compiler</code> should be <code>Send</code> and <code>Sync</code> now right?</p>\n</blockquote>",
        "id": 199175189,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590768381
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r432584177\">PR Review Comment</a>:</p>\n<blockquote>\n<p>How come this changed to <code>CompiledModule</code>? That's retaining a lot more information here than <code>Module</code> previously was</p>\n</blockquote>",
        "id": 199175190,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590768381
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r432583689\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Also as another note, this technically is still unsafe since we're not synchronized with anything else in the process that may be frobbing these symbols. Is there really no way we can rely on a gdb thing to do the synchronization for us?</p>\n</blockquote>",
        "id": 199175191,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590768381
    },
    {
        "content": "<p>yurydelendik submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-421948219\">PR Review</a>.</p>",
        "id": 199382718,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591025233
    },
    {
        "content": "<p>yurydelendik created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433302903\">PR Review Comment</a>:</p>\n<blockquote>\n<p>No. This process shall control access to __jit_debug_descriptor -- added comment</p>\n</blockquote>",
        "id": 199382719,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591025233
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199382745,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591025245
    },
    {
        "content": "<p>yurydelendik submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-421952534\">PR Review</a>.</p>",
        "id": 199383376,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591025529
    },
    {
        "content": "<p>yurydelendik created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433307447\">PR Review Comment</a>:</p>\n<blockquote>\n<p>The gdb only known about <code>__jit_debug_descriptor</code> and sets breakpoint at <code>__jit_debug_register_code</code>. Locking access to __jit_debug_descriptor is the process chore -- gdb will traverse its data once process in the __jit_debug_register_code.</p>\n</blockquote>",
        "id": 199383377,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591025529
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199383943,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591025815
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199389732,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591028537
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199406612,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591036832
    },
    {
        "content": "<p>yurydelendik created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433429656\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Theoretically, yes, we can remove. It will drive wasmtime_instance_new signature change too, and renders wasm_module_share / wasm_module_obtain useless. I would like to defer this change for future work.</p>\n</blockquote>",
        "id": 199409217,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591038202
    },
    {
        "content": "<p>yurydelendik submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-422103604\">PR Review</a>.</p>",
        "id": 199409218,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591038202
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-422150528\">PR Review</a>.</p>",
        "id": 199418111,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043090
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-422150528\">PR Review</a>.</p>",
        "id": 199418112,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043090
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433465935\">PR Review Comment</a>:</p>\n<blockquote>\n<p>This might be best as a private method on <code>Config</code>?</p>\n</blockquote>",
        "id": 199418113,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043090
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433465750\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could these two fields be wrapped up in one <code>Arc</code> allocation?</p>\n</blockquote>",
        "id": 199418114,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043090
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433466325\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could <code>Default for Store</code> delegate to this now that it exists?</p>\n</blockquote>",
        "id": 199418115,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043090
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433466932\">PR Review Comment</a>:</p>\n<blockquote>\n<p>FWIW now that we're doubling down on <code>Rc</code> inside of <code>Store</code>, I think we should remove these methods. It's too easy, at callsites, to forget these methods are related to <code>RefCell</code> and can introduce panics.</p>\n</blockquote>",
        "id": 199418116,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043090
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433467963\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Or, alternatively, all accesses to these fields would be scoped inside of methods on this type, where each method doesn't leak borrowed <code>RefCell</code>s through returns</p>\n</blockquote>",
        "id": 199418117,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043090
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433467569\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could this have a comment for what's going on here? Without that it's a bit cryptic what this check is doing</p>\n</blockquote>",
        "id": 199418118,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043090
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433468493\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I think changing signatures is fine, but if you'd prefer to defer that's ok too. Can you be sure an issue is filed about this?</p>\n</blockquote>",
        "id": 199418120,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043090
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433467019\">PR Review Comment</a>:</p>\n<blockquote>\n<p>(removed in favor of direct field access at callsites, that is)</p>\n</blockquote>",
        "id": 199418121,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043090
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433469360\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Er sorry I mean thte literal call to malloc, not the reading/writing of the global.</p>\n</blockquote>",
        "id": 199418122,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043090
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199418690,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043332
    },
    {
        "content": "<p>yurydelendik submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-422160590\">PR Review</a>.</p>",
        "id": 199419266,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043591
    },
    {
        "content": "<p>yurydelendik created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433473513\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Returned back to store only Module, and added ModuleCode (which is only CodeMemory + GdbJitRegistration)</p>\n</blockquote>",
        "id": 199419267,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043591
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199422165,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591045068
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199428713,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591048380
    },
    {
        "content": "<p>yurydelendik submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-422214283\">PR Review</a>.</p>",
        "id": 199429798,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591049115
    },
    {
        "content": "<p>yurydelendik created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r433515220\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Not sure how to do it: <code>Engine::new</code> and <code>Store::new</code> have some additional logic that needs to be run.</p>\n</blockquote>",
        "id": 199429799,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591049115
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199429920,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591049197
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199431911,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591050745
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199432277,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591051093
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199435618,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591053967
    },
    {
        "content": "<p><strong>yurydelendik</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a>.</p>",
        "id": 199435671,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591054055
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-422876045\">PR Review</a>.</p>",
        "id": 199522218,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591117226
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#pullrequestreview-422876045\">PR Review</a>.</p>",
        "id": 199522220,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591117227
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r434030952\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Long-term it feels weird to have two <code>dyn Any</code> in this <code>Instance</code>, instead ideally we'd just have one <code>Box&lt;dyn Any&gt;</code> and shove everything in there. I don't want to iterate too much on this, it's pretty unimportant at this time. Just something to keep in mind for the future, this is more than ok for now.</p>\n</blockquote>",
        "id": 199522221,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591117227
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761#discussion_r434029972\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Instead of embedding the <code>.unwrap()</code> here, could this return <code>Option&lt;&amp;mut Module&gt;</code>? It's only used in one location right now which is fine, but I'd prefer to avoid proliferating users of this API</p>\n</blockquote>",
        "id": 199522222,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591117227
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199527901,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591119894
    },
    {
        "content": "<p>yurydelendik updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a> from <code>mv-sig-registry</code> to <code>master</code>:</p>\n<blockquote>\n<p>To make wasmtime more threads friendly, this PR:</p>\n<ul>\n<li>Moves <code>CodeMemory</code>, <code>VMInterrupts</code> and <code>SignatureRegistry</code> from <code>Compiler</code></li>\n<li><code>CompiledModule</code> holds <code>CodeMemory</code> and <code>GdbJitImageRegistration</code></li>\n<li><code>Store</code> keeps track of its JIT code</li>\n<li>Makes \"<a href=\"http://jit_int.rs\">jit_int.rs</a>\" stuff <code>Send</code>+<code>Sync</code></li>\n<li>Adds the threads example.</li>\n</ul>\n</blockquote>",
        "id": 199531288,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591121532
    },
    {
        "content": "<p>yurydelendik merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1761\">PR #1761</a>.</p>",
        "id": 199535643,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591123480
    }
]