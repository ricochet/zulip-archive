[
    {
        "content": "<p>cfallin opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072\">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>:</p>\n<blockquote>\n<p>This PR adds support for <code>given</code> clauses, as proposed in<br>\nrfcs#21. These clauses augment the left-hand side (pattern-matching<br>\nphase) of rules in the ISLE instruction-selection DSL with<br>\nsub-patterns matching on sub-expressions. The ability to list<br>\nadditional match operations to perform, out-of-line from the original<br>\ntoplevel pattern, greatly simplifies some idioms. See the RFC for more<br>\ndetails and examples of use.</p>\n<p>Creating this as a draft since the RFC is pending; the intent for now<br>\nis to provide an implementation to play with, given initial positive feedback,<br>\nbut this will not merge until after the RFC does.</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 280171319,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1650958724
    },
    {
        "content": "<p>cfallin edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072\">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>:</p>\n<blockquote>\n<p>This PR adds support for <code>given</code> clauses, as proposed in<br>\n<a href=\"http://bytecodealliance/rfcs#21\">RFC #21</a>. These clauses augment the left-hand side (pattern-matching<br>\nphase) of rules in the ISLE instruction-selection DSL with<br>\nsub-patterns matching on sub-expressions. The ability to list<br>\nadditional match operations to perform, out-of-line from the original<br>\ntoplevel pattern, greatly simplifies some idioms. See the RFC for more<br>\ndetails and examples of use.</p>\n<p>Creating this as a draft since the RFC is pending; the intent for now<br>\nis to provide an implementation to play with, given initial positive feedback,<br>\nbut this will not merge until after the RFC does.</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 280171404,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1650958779
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072\">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>.</p>",
        "id": 280554483,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651179470
    },
    {
        "content": "<p><strong>cfallin</strong> has marked <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072\">PR #4072</a> as ready for review.</p>",
        "id": 280554541,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651179483
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072\">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>.</p>",
        "id": 280555594,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651180004
    },
    {
        "content": "<p>cfallin edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072\">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>:</p>\n<blockquote>\n<p>This PR adds support for <code>given</code> clauses, as proposed in<br>\n<a href=\"https://github.com/bytecodealliance/rfcs/issues/21\">bytecodealliance/rfcs#21</a>. These clauses augment the left-hand side (pattern-matching<br>\nphase) of rules in the ISLE instruction-selection DSL with<br>\nsub-patterns matching on sub-expressions. The ability to list<br>\nadditional match operations to perform, out-of-line from the original<br>\ntoplevel pattern, greatly simplifies some idioms. See the RFC for more<br>\ndetails and examples of use.</p>\n<p>Creating this as a draft since the RFC is pending; the intent for now<br>\nis to provide an implementation to play with, given initial positive feedback,<br>\nbut this will not merge until after the RFC does.</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 280555804,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651180100
    },
    {
        "content": "<p>cfallin edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072\">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>:</p>\n<blockquote>\n<p>This PR adds support for <code>given</code> clauses, as proposed in<br>\n<a href=\"https://github.com/bytecodealliance/rfcs/issues/21\">bytecodealliance/rfcs#21</a>. These clauses augment the left-hand side (pattern-matching<br>\nphase) of rules in the ISLE instruction-selection DSL with<br>\nsub-patterns matching on sub-expressions. The ability to list<br>\nadditional match operations to perform, out-of-line from the original<br>\ntoplevel pattern, greatly simplifies some idioms. See the RFC for more<br>\ndetails and examples of use.</p>\n<p>Creating this as a draft since the RFC is pending; the intent for now<br>\nis to provide an implementation to play with, given initial positive feedback,<br>\nbut this will not merge until after the RFC does.</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 280555829,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651180112
    },
    {
        "content": "<p>cfallin edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072\">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>:</p>\n<blockquote>\n<p>This PR adds support for <code>if-let</code> clauses, as proposed in<br>\n<a href=\"https://github.com/bytecodealliance/rfcs/issues/21\">bytecodealliance/rfcs#21</a>. These clauses augment the left-hand side (pattern-matching<br>\nphase) of rules in the ISLE instruction-selection DSL with<br>\nsub-patterns matching on sub-expressions. The ability to list<br>\nadditional match operations to perform, out-of-line from the original<br>\ntoplevel pattern, greatly simplifies some idioms. See the RFC for more<br>\ndetails and examples of use.</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 280555856,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651180129
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072#pullrequestreview-957089140\">PR review</a>.</p>",
        "id": 280562212,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651183747
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072#pullrequestreview-957089140\">PR review</a>.</p>",
        "id": 280562213,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651183747
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072#discussion_r861340295\">PR review comment</a>:</p>\n<blockquote>\n<p>I sort of wonder whether we should have some sort of grouping so that it is more clear that the <code>if-let</code>s are part of the LHS, and not the RHS? Because right now it could syntactically go either way if you don't already know what's going on.</p>\n</blockquote>",
        "id": 280562214,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651183747
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072\">PR #4072</a> from <code>isle-extended-lhs-givens</code> to <code>main</code>.</p>",
        "id": 280565540,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651186027
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072#pullrequestreview-957119992\">PR review</a>.</p>",
        "id": 280565741,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651186188
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072#discussion_r861363674\">PR review comment</a>:</p>\n<blockquote>\n<p>It's a good question for sure. IMHO it gets sort of complicated if we take as granted that we don't want to change syntax for cases without if-let clauses... that implies that (if we want straightforward parsing without unlimited lookahead at least) cases <em>with</em> if-lets need a wrapper form around the pattern, like <code>(rule (let PAT (if-let ...) (if-let ...)) RHS)</code> maybe, reusing the <code>let</code> keyword. It could work; happy to discuss further and we can always refactor if we find an improved syntax :-)</p>\n</blockquote>",
        "id": 280565743,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651186188
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072#pullrequestreview-957123438\">PR review</a>.</p>",
        "id": 280566234,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651186587
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072#discussion_r861366366\">PR review comment</a>:</p>\n<blockquote>\n<p>Yeah, that's basically what peepmatic used: <code>(=&gt; PATTERN RHS)</code> and <code>(=&gt; (when PATTERN PREDICATES...) RHS)</code>. I didn't love it but it did work.</p>\n</blockquote>",
        "id": 280566235,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651186587
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072#pullrequestreview-957143415\">PR review</a>.</p>",
        "id": 280569358,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651189005
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072#discussion_r861382090\">PR review comment</a>:</p>\n<blockquote>\n<p>Hmm, yeah, it's not immediately clear to me that this is less confusing -- seeing the prefix/wrapper form first, if one doesn't know what it does, is possibly worse than seeing a top-level pattern that looks like the other rules and then additional conditions separately...</p>\n<p>Regarding which part of the rule the <code>if-let</code> clauses are a part of: if I squint the right way, it seems like it actually kind of doesn't matter? In other words I can build a consistent mental model for what's going on as \"go down the list of patterns/conditions, and when we reach the end we have the answer\". That's a level of understanding that's more basic than the strict phase separation we talk about in the term-rewriting flow, but it's (IMHO) not too bad for a casual user tweaking some rules.</p>\n<p>I think I'll err on the side of the syntax in the RFC and go ahead and merge this but absolutely we can still talk more about it if you (or anyone else) have further thoughts!</p>\n</blockquote>",
        "id": 280569359,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651189006
    },
    {
        "content": "<p>cfallin merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/4072\">PR #4072</a>.</p>",
        "id": 280569378,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651189032
    }
]