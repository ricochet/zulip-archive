[
    {
        "content": "<p>peterhuene opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2495\">Issue #2495</a>:</p>\n<blockquote>\n<h2>Repro</h2>\n<ol>\n<li>Create a Rust wasm file that simply panics in main.</li>\n<li>Run the wasm with <code>wasmtime foo.wasm</code></li>\n</ol>\n<h2>Expected behavior</h2>\n<p>As the module doesn't declare a module name, Wasmtime should provide a meaningful default based on the file name for displaying in back traces.</p>\n<h2>Actual behavior</h2>\n<p>Wasmtime prints <code>&lt;unknown&gt;</code> for module names, which can be confusing.</p>\n<p>An example from a user:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"mi\">1</span>: <span class=\"nc\">wasm</span><span class=\"w\"> </span><span class=\"n\">trap</span>: <span class=\"nc\">unreachable</span><span class=\"w\"></span>\n<span class=\"w\">       </span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n         <span class=\"mi\">0</span>: <span class=\"mh\">0x6c34</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">__rust_start_panic</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">1</span>: <span class=\"mh\">0x68df</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">rust_panic</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">2</span>: <span class=\"mh\">0x65b9</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">rust_panic_with_hook</span>::<span class=\"n\">h2345fb0909b53e12</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">3</span>: <span class=\"mh\">0x10c7</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">begin_panic</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span>::<span class=\"n\">h86678b4e45fbd7fa</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">4</span>: <span class=\"mh\">0x1ccc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">sys_common</span>::<span class=\"n\">backtrace</span>::<span class=\"n\">__rust_end_short_backtrace</span>::<span class=\"n\">h8c7fe73fc6112e0e</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">5</span>:  <span class=\"mh\">0xfb5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">begin_panic</span>::<span class=\"n\">h5a83b3bb18195122</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">6</span>: <span class=\"mh\">0x1fed</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">wasm_backtrace</span>::<span class=\"n\">g</span>::<span class=\"n\">hc5f9230a6e65a92c</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">7</span>: <span class=\"mh\">0x1fbf</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">wasm_backtrace</span>::<span class=\"n\">f</span>::<span class=\"n\">h80747d9c660ceee4</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">8</span>: <span class=\"mh\">0x1fb5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">wasm_backtrace</span>::<span class=\"n\">main</span>::<span class=\"n\">h9fc5985544d26b7b</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">9</span>: <span class=\"mh\">0x1bee</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">core</span>::<span class=\"n\">ops</span>::<span class=\"n\">function</span>::<span class=\"nb\">FnOnce</span>::<span class=\"n\">call_once</span>::<span class=\"n\">hfd088d5879747b81</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">10</span>: <span class=\"mh\">0x1d03</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">sys_common</span>::<span class=\"n\">backtrace</span>::<span class=\"n\">__rust_begin_short_backtrace</span>::<span class=\"n\">h2d7439e32125816a</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">11</span>:  <span class=\"mh\">0x4a5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">rt</span>::<span class=\"n\">lang_start</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span>::<span class=\"n\">hc9be9987846fa67a</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">12</span>: <span class=\"mh\">0x69f0</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">rt</span>::<span class=\"n\">lang_start_internal</span>::<span class=\"n\">h260050c92cd470af</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">13</span>:  <span class=\"mh\">0x457</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">rt</span>::<span class=\"n\">lang_start</span>::<span class=\"n\">hd15e4b73e676a12b</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">14</span>: <span class=\"mh\">0x200b</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">__original_main</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">15</span>:  <span class=\"mh\">0x397</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_start</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 219521637,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1607628356
    },
    {
        "content": "<p>peterhuene labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2495\">Issue #2495</a>:</p>\n<blockquote>\n<h2>Repro</h2>\n<ol>\n<li>Create a Rust wasm file that simply panics in main.</li>\n<li>Run the wasm with <code>wasmtime foo.wasm</code></li>\n</ol>\n<h2>Expected behavior</h2>\n<p>As the module doesn't declare a module name, Wasmtime should provide a meaningful default based on the file name for displaying in back traces.</p>\n<h2>Actual behavior</h2>\n<p>Wasmtime prints <code>&lt;unknown&gt;</code> for module names, which can be confusing.</p>\n<p>An example from a user:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"mi\">1</span>: <span class=\"nc\">wasm</span><span class=\"w\"> </span><span class=\"n\">trap</span>: <span class=\"nc\">unreachable</span><span class=\"w\"></span>\n<span class=\"w\">       </span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n         <span class=\"mi\">0</span>: <span class=\"mh\">0x6c34</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">__rust_start_panic</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">1</span>: <span class=\"mh\">0x68df</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">rust_panic</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">2</span>: <span class=\"mh\">0x65b9</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">rust_panic_with_hook</span>::<span class=\"n\">h2345fb0909b53e12</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">3</span>: <span class=\"mh\">0x10c7</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">begin_panic</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span>::<span class=\"n\">h86678b4e45fbd7fa</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">4</span>: <span class=\"mh\">0x1ccc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">sys_common</span>::<span class=\"n\">backtrace</span>::<span class=\"n\">__rust_end_short_backtrace</span>::<span class=\"n\">h8c7fe73fc6112e0e</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">5</span>:  <span class=\"mh\">0xfb5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">begin_panic</span>::<span class=\"n\">h5a83b3bb18195122</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">6</span>: <span class=\"mh\">0x1fed</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">wasm_backtrace</span>::<span class=\"n\">g</span>::<span class=\"n\">hc5f9230a6e65a92c</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">7</span>: <span class=\"mh\">0x1fbf</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">wasm_backtrace</span>::<span class=\"n\">f</span>::<span class=\"n\">h80747d9c660ceee4</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">8</span>: <span class=\"mh\">0x1fb5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">wasm_backtrace</span>::<span class=\"n\">main</span>::<span class=\"n\">h9fc5985544d26b7b</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">9</span>: <span class=\"mh\">0x1bee</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">core</span>::<span class=\"n\">ops</span>::<span class=\"n\">function</span>::<span class=\"nb\">FnOnce</span>::<span class=\"n\">call_once</span>::<span class=\"n\">hfd088d5879747b81</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">10</span>: <span class=\"mh\">0x1d03</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">sys_common</span>::<span class=\"n\">backtrace</span>::<span class=\"n\">__rust_begin_short_backtrace</span>::<span class=\"n\">h2d7439e32125816a</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">11</span>:  <span class=\"mh\">0x4a5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">rt</span>::<span class=\"n\">lang_start</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span>::<span class=\"n\">hc9be9987846fa67a</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">12</span>: <span class=\"mh\">0x69f0</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">rt</span>::<span class=\"n\">lang_start_internal</span>::<span class=\"n\">h260050c92cd470af</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">13</span>:  <span class=\"mh\">0x457</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">rt</span>::<span class=\"n\">lang_start</span>::<span class=\"n\">hd15e4b73e676a12b</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">14</span>: <span class=\"mh\">0x200b</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">__original_main</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">15</span>:  <span class=\"mh\">0x397</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_start</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 219521638,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1607628356
    },
    {
        "content": "<p>peterhuene edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2495\">Issue #2495</a>:</p>\n<blockquote>\n<h2>Repro</h2>\n<ol>\n<li>Create a Rust wasm file that simply panics in main.</li>\n<li>Run the wasm with <code>wasmtime foo.wasm</code></li>\n</ol>\n<h2>Expected behavior</h2>\n<p>As the module doesn't declare a module name, Wasmtime should provide a meaningful default based on the file name for displaying in back traces.</p>\n<h2>Actual behavior</h2>\n<p>Wasmtime prints <code>&lt;unknown&gt;</code> for module names, which can be confusing.  Additionally, calls between modules without names will be even harder to decipher.</p>\n<p>An example from a user:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"mi\">1</span>: <span class=\"nc\">wasm</span><span class=\"w\"> </span><span class=\"n\">trap</span>: <span class=\"nc\">unreachable</span><span class=\"w\"></span>\n<span class=\"w\">       </span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n         <span class=\"mi\">0</span>: <span class=\"mh\">0x6c34</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">__rust_start_panic</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">1</span>: <span class=\"mh\">0x68df</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">rust_panic</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">2</span>: <span class=\"mh\">0x65b9</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">rust_panic_with_hook</span>::<span class=\"n\">h2345fb0909b53e12</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">3</span>: <span class=\"mh\">0x10c7</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">begin_panic</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span>::<span class=\"n\">h86678b4e45fbd7fa</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">4</span>: <span class=\"mh\">0x1ccc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">sys_common</span>::<span class=\"n\">backtrace</span>::<span class=\"n\">__rust_end_short_backtrace</span>::<span class=\"n\">h8c7fe73fc6112e0e</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">5</span>:  <span class=\"mh\">0xfb5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">begin_panic</span>::<span class=\"n\">h5a83b3bb18195122</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">6</span>: <span class=\"mh\">0x1fed</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">wasm_backtrace</span>::<span class=\"n\">g</span>::<span class=\"n\">hc5f9230a6e65a92c</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">7</span>: <span class=\"mh\">0x1fbf</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">wasm_backtrace</span>::<span class=\"n\">f</span>::<span class=\"n\">h80747d9c660ceee4</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">8</span>: <span class=\"mh\">0x1fb5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">wasm_backtrace</span>::<span class=\"n\">main</span>::<span class=\"n\">h9fc5985544d26b7b</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">9</span>: <span class=\"mh\">0x1bee</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">core</span>::<span class=\"n\">ops</span>::<span class=\"n\">function</span>::<span class=\"nb\">FnOnce</span>::<span class=\"n\">call_once</span>::<span class=\"n\">hfd088d5879747b81</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">10</span>: <span class=\"mh\">0x1d03</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">sys_common</span>::<span class=\"n\">backtrace</span>::<span class=\"n\">__rust_begin_short_backtrace</span>::<span class=\"n\">h2d7439e32125816a</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">11</span>:  <span class=\"mh\">0x4a5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">rt</span>::<span class=\"n\">lang_start</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span>::<span class=\"n\">hc9be9987846fa67a</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">12</span>: <span class=\"mh\">0x69f0</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">rt</span>::<span class=\"n\">lang_start_internal</span>::<span class=\"n\">h260050c92cd470af</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">13</span>:  <span class=\"mh\">0x457</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">rt</span>::<span class=\"n\">lang_start</span>::<span class=\"n\">hd15e4b73e676a12b</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">14</span>: <span class=\"mh\">0x200b</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">__original_main</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">15</span>:  <span class=\"mh\">0x397</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_start</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 219521837,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1607628432
    },
    {
        "content": "<p>peterhuene edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2495\">Issue #2495</a>:</p>\n<blockquote>\n<h2>Repro</h2>\n<ol>\n<li>Create a Rust wasm file that simply panics in main.</li>\n<li>Run the wasm with <code>wasmtime foo.wasm</code></li>\n</ol>\n<h2>Expected behavior</h2>\n<p>As the module doesn't declare a module name, Wasmtime should provide a meaningful default based on the file name for displaying in back traces.  In this case, perhaps <code>foo</code> would be a good name (i.e. the name of the file name without the extension).</p>\n<h2>Actual behavior</h2>\n<p>Wasmtime prints <code>&lt;unknown&gt;</code> for module names, which can be confusing.  Additionally, calls between modules without names will be even harder to decipher.</p>\n<p>An example from a user:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"mi\">1</span>: <span class=\"nc\">wasm</span><span class=\"w\"> </span><span class=\"n\">trap</span>: <span class=\"nc\">unreachable</span><span class=\"w\"></span>\n<span class=\"w\">       </span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n         <span class=\"mi\">0</span>: <span class=\"mh\">0x6c34</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">__rust_start_panic</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">1</span>: <span class=\"mh\">0x68df</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">rust_panic</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">2</span>: <span class=\"mh\">0x65b9</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">rust_panic_with_hook</span>::<span class=\"n\">h2345fb0909b53e12</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">3</span>: <span class=\"mh\">0x10c7</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">begin_panic</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span>::<span class=\"n\">h86678b4e45fbd7fa</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">4</span>: <span class=\"mh\">0x1ccc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">sys_common</span>::<span class=\"n\">backtrace</span>::<span class=\"n\">__rust_end_short_backtrace</span>::<span class=\"n\">h8c7fe73fc6112e0e</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">5</span>:  <span class=\"mh\">0xfb5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">begin_panic</span>::<span class=\"n\">h5a83b3bb18195122</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">6</span>: <span class=\"mh\">0x1fed</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">wasm_backtrace</span>::<span class=\"n\">g</span>::<span class=\"n\">hc5f9230a6e65a92c</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">7</span>: <span class=\"mh\">0x1fbf</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">wasm_backtrace</span>::<span class=\"n\">f</span>::<span class=\"n\">h80747d9c660ceee4</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">8</span>: <span class=\"mh\">0x1fb5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">wasm_backtrace</span>::<span class=\"n\">main</span>::<span class=\"n\">h9fc5985544d26b7b</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">9</span>: <span class=\"mh\">0x1bee</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">core</span>::<span class=\"n\">ops</span>::<span class=\"n\">function</span>::<span class=\"nb\">FnOnce</span>::<span class=\"n\">call_once</span>::<span class=\"n\">hfd088d5879747b81</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">10</span>: <span class=\"mh\">0x1d03</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">sys_common</span>::<span class=\"n\">backtrace</span>::<span class=\"n\">__rust_begin_short_backtrace</span>::<span class=\"n\">h2d7439e32125816a</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">11</span>:  <span class=\"mh\">0x4a5</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">rt</span>::<span class=\"n\">lang_start</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span>::<span class=\"n\">hc9be9987846fa67a</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">12</span>: <span class=\"mh\">0x69f0</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">rt</span>::<span class=\"n\">lang_start_internal</span>::<span class=\"n\">h260050c92cd470af</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">13</span>:  <span class=\"mh\">0x457</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">std</span>::<span class=\"n\">rt</span>::<span class=\"n\">lang_start</span>::<span class=\"n\">hd15e4b73e676a12b</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">14</span>: <span class=\"mh\">0x200b</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">__original_main</span><span class=\"w\"></span>\n<span class=\"w\">         </span><span class=\"mi\">15</span>:  <span class=\"mh\">0x397</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"w\"> </span><span class=\"o\">&lt;</span><span class=\"n\">unknown</span><span class=\"o\">&gt;!</span><span class=\"n\">_start</span><span class=\"w\"></span>\n</code></pre></div>\n</blockquote>",
        "id": 219521907,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1607628475
    },
    {
        "content": "<p>peterhuene <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2495#issuecomment-742744588\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2495\">Issue #2495</a>:</p>\n<blockquote>\n<p>It would also be nice if we padded the frame number column (perhaps with a width of 3?) so that it looks a little neater too.</p>\n</blockquote>",
        "id": 219522216,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1607628618
    },
    {
        "content": "<p>peterhuene edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2495#issuecomment-742744588\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2495\">Issue #2495</a>:</p>\n<blockquote>\n<p>It would also be nice if we padded the frame number column (perhaps with a width of 3?) and 0-filled the offsets so that it looks a little neater too.</p>\n</blockquote>",
        "id": 219522274,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1607628658
    }
]