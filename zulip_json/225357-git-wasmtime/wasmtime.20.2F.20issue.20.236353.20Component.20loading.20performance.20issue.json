[
    {
        "content": "<p>Mossaka opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>It takes 20 seconds to load a component in <code>wasmtime 7.0.0</code>. It is definitely much slower than loading a wasm module of comparable size. Is this expected? What could be the cause? </p>\n<p>wasm component file size: 6.9M</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Instant</span>::<span class=\"n\">now</span><span class=\"p\">();</span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Component</span>::<span class=\"n\">from_file</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">engine</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"n\">input</span><span class=\"p\">).</span><span class=\"n\">unwrap</span><span class=\"p\">();</span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"p\">.</span><span class=\"n\">elapsed</span><span class=\"p\">();</span>\n<span class=\"fm\">println!</span><span class=\"p\">(</span><span class=\"s\">\"Time to load: {:?}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"p\">);</span>\n</code></pre></div>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Time</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span>: <span class=\"mf\">20.891809886</span><span class=\"n\">s</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 356793535,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683573108
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1538923035\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>Definitely unexpected! Do you have a component you could share to reproduce with?</p>\n</blockquote>",
        "id": 356796041,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683573941
    },
    {
        "content": "<p>Mossaka <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1539000694\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>I do. If you clone down this <a href=\"https://github.com/Mossaka/wit-bindgen-go-template\">repo</a>, and then do</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">make</span><span class=\"w\"> </span><span class=\"n\">install</span><span class=\"o\">-</span><span class=\"n\">js</span>\n<span class=\"n\">make</span><span class=\"w\"> </span><span class=\"n\">build</span><span class=\"o\">-</span><span class=\"n\">js</span>\n</code></pre></div>\n<p>You will get a component called <code>js.component.wasm</code>. </p>\n<p>You can run with <code>cargo run --js.component.wasm</code></p>\n</blockquote>",
        "id": 356807020,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683577440
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1539092924\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>Sorry won't get a chance to dig into this today, but from what you pasted I think <code>--release</code> is missing? Otherwise that's building in debug mode and it's known that debug mode is much slower than release for Cranelift.</p>\n</blockquote>",
        "id": 356819425,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683582160
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1540299394\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>Testing locally my guess is that this is <code>--release</code>-vs-not. Your command above, <code>cargo run --js.component.wasm</code>, is not a valid invocation of Cargo however since it thinks <code>--js.component.wasm</code> is an argument. Given that I'm not sure what you meant to paste there, so I'm not sure if for you it'l lbe <code>--release</code>-vs-not.</p>\n</blockquote>",
        "id": 357010945,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683644154
    },
    {
        "content": "<p>Mossaka <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1540658440\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>Ah yes thanks so much! The issue is indeed that I didn't pass <code>--release</code>. </p>\n<p>With release mode, the time to load the component is <code>1.2s</code>. Will close this issue. </p>\n</blockquote>",
        "id": 357069639,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683656382
    },
    {
        "content": "<p>Mossaka closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>It takes 20 seconds to load a component in <code>wasmtime 7.0.0</code>. It is definitely much slower than loading a wasm module of comparable size. Is this expected? What could be the cause? </p>\n<p>wasm component file size: 6.9M</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Instant</span>::<span class=\"n\">now</span><span class=\"p\">();</span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Component</span>::<span class=\"n\">from_file</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">engine</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"n\">input</span><span class=\"p\">).</span><span class=\"n\">unwrap</span><span class=\"p\">();</span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"p\">.</span><span class=\"n\">elapsed</span><span class=\"p\">();</span>\n<span class=\"fm\">println!</span><span class=\"p\">(</span><span class=\"s\">\"Time to load: {:?}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"p\">);</span>\n</code></pre></div>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Time</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span>: <span class=\"mf\">20.891809886</span><span class=\"n\">s</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 357069644,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683656383
    },
    {
        "content": "<p>Mossaka reopened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>It takes 20 seconds to load a component in <code>wasmtime 7.0.0</code>. It is definitely much slower than loading a wasm module of comparable size. Is this expected? What could be the cause? </p>\n<p>wasm component file size: 6.9M</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Instant</span>::<span class=\"n\">now</span><span class=\"p\">();</span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Component</span>::<span class=\"n\">from_file</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">engine</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"n\">input</span><span class=\"p\">).</span><span class=\"n\">unwrap</span><span class=\"p\">();</span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"p\">.</span><span class=\"n\">elapsed</span><span class=\"p\">();</span>\n<span class=\"fm\">println!</span><span class=\"p\">(</span><span class=\"s\">\"Time to load: {:?}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"p\">);</span>\n</code></pre></div>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Time</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span>: <span class=\"mf\">20.891809886</span><span class=\"n\">s</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 357069910,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683656455
    },
    {
        "content": "<p>Mossaka <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1540661730\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>Actually, I also tried to load a rust-produced wasm component with 2.0M size. The loading time is <code>20ms</code>, which is, suprisingly, significantly faster than the js component. Is this expected? </p>\n</blockquote>",
        "id": 357070024,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683656494
    },
    {
        "content": "<p>Mossaka <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1540663851\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"err\">➜</span><span class=\"w\">  </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">release</span><span class=\"o\">/</span><span class=\"n\">wit</span><span class=\"o\">-</span><span class=\"n\">bindgen</span><span class=\"o\">-</span><span class=\"n\">go</span><span class=\"o\">-</span><span class=\"n\">template</span><span class=\"w\"> </span><span class=\"n\">js</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n<span class=\"n\">Time</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span>: <span class=\"mf\">1.200816367</span><span class=\"n\">s</span>\n\n<span class=\"err\">➜</span><span class=\"w\">  </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">release</span><span class=\"o\">/</span><span class=\"n\">wit</span><span class=\"o\">-</span><span class=\"n\">bindgen</span><span class=\"o\">-</span><span class=\"n\">go</span><span class=\"o\">-</span><span class=\"n\">template</span><span class=\"w\"> </span><span class=\"n\">rust</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n<span class=\"n\">Time</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span>: <span class=\"mf\">20.610888</span><span class=\"n\">ms</span>\n\n<span class=\"err\">➜</span><span class=\"w\">  </span><span class=\"n\">ls</span><span class=\"w\"> </span><span class=\"n\">rust</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n<span class=\"n\">rust</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n<span class=\"err\">➜</span><span class=\"w\">  </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"n\">rust</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n<span class=\"p\">.</span><span class=\"n\">rwxrwxr</span><span class=\"o\">-</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"mf\">2.0</span><span class=\"n\">Mi</span><span class=\"w\"> </span><span class=\"n\">mossaka</span><span class=\"w\">  </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"n\">May</span><span class=\"w\"> </span><span class=\"mi\">22</span>:<span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">rust</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"o\">*</span>\n<span class=\"err\">➜</span><span class=\"w\">  </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"n\">js</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n<span class=\"p\">.</span><span class=\"n\">rw</span><span class=\"o\">-</span><span class=\"n\">rw</span><span class=\"o\">-</span><span class=\"n\">r</span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"mf\">6.5</span><span class=\"n\">Mi</span><span class=\"w\"> </span><span class=\"n\">mossaka</span><span class=\"w\">  </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"n\">May</span><span class=\"w\"> </span><span class=\"mi\">19</span>:<span class=\"mi\">06</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">js</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 357070267,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683656571
    },
    {
        "content": "<p>Mossaka edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1540663851\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"err\">➜</span><span class=\"w\">  </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">release</span><span class=\"o\">/</span><span class=\"n\">wit</span><span class=\"o\">-</span><span class=\"n\">bindgen</span><span class=\"o\">-</span><span class=\"n\">go</span><span class=\"o\">-</span><span class=\"n\">template</span><span class=\"w\"> </span><span class=\"n\">js</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n<span class=\"n\">Time</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span>: <span class=\"mf\">1.200816367</span><span class=\"n\">s</span>\n\n<span class=\"err\">➜</span><span class=\"w\">  </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">release</span><span class=\"o\">/</span><span class=\"n\">wit</span><span class=\"o\">-</span><span class=\"n\">bindgen</span><span class=\"o\">-</span><span class=\"n\">go</span><span class=\"o\">-</span><span class=\"n\">template</span><span class=\"w\"> </span><span class=\"n\">rust</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n<span class=\"n\">Time</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span>: <span class=\"mf\">20.610888</span><span class=\"n\">ms</span>\n\n<span class=\"err\">➜</span><span class=\"w\">  </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"n\">rust</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n<span class=\"p\">.</span><span class=\"n\">rwxrwxr</span><span class=\"o\">-</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"mf\">2.0</span><span class=\"n\">Mi</span><span class=\"w\"> </span><span class=\"n\">mossaka</span><span class=\"w\">  </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"n\">May</span><span class=\"w\"> </span><span class=\"mi\">22</span>:<span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">rust</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"o\">*</span>\n\n<span class=\"err\">➜</span><span class=\"w\">  </span><span class=\"n\">l</span><span class=\"w\"> </span><span class=\"n\">js</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n<span class=\"p\">.</span><span class=\"n\">rw</span><span class=\"o\">-</span><span class=\"n\">rw</span><span class=\"o\">-</span><span class=\"n\">r</span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"mf\">6.5</span><span class=\"n\">Mi</span><span class=\"w\"> </span><span class=\"n\">mossaka</span><span class=\"w\">  </span><span class=\"mi\">8</span><span class=\"w\"> </span><span class=\"n\">May</span><span class=\"w\"> </span><span class=\"mi\">19</span>:<span class=\"mi\">06</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">js</span><span class=\"p\">.</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 357070330,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683656589
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1540803981\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>Can you upload the <code>{js,rust}.component.wasm</code> binaries here as well? In general though yes it's probalby the case that JS is going to be longer to compile than Rust since JS has all of spidermonkey or some other JS engine<br>\n</p>\n</blockquote>",
        "id": 357086967,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683661910
    },
    {
        "content": "<p>Mossaka <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1540883588\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>Unfortunately I was not able to upload a *.wasm file here because it's not a supported file type. </p>\n</blockquote>",
        "id": 357097733,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683666028
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1540954906\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>Ah right, yes, but you can <code>gzip</code> the components and upload them. (or maybe even rename it to <code>foo.gz</code> and upload it, I don't think the check is that restrictive)</p>\n</blockquote>",
        "id": 357108741,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683670343
    },
    {
        "content": "<p>tschneidereit <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1542049383\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>I'd bet that the Rust component includes debug info, and that the code section is actually much smaller, and hence faster to compile</p>\n</blockquote>",
        "id": 357258401,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1683718847
    },
    {
        "content": "<p>Mossaka <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1553852863\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/files/11512465/js.component.wasm.gz\">js.component.wasm.gz</a><br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/files/11512466/rust.component.wasm.gz\">rust.component.wasm.gz</a><br>\n</p>\n</blockquote>",
        "id": 359522499,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1684456703
    },
    {
        "content": "<p>Mossaka edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1553852863\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>Sorry for getting back to you late. Here are the gz files</p>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/files/11512465/js.component.wasm.gz\">js.component.wasm.gz</a><br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/files/11512466/rust.component.wasm.gz\">rust.component.wasm.gz</a><br>\n</p>\n</blockquote>",
        "id": 359522512,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1684456721
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353#issuecomment-1554665481\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>Ok yes I can confirm that the compile times are effectively as expected. The Rust component is almost entirely debug information which can be stripped out with <code>wasm-tools strip</code>, where the JS component is almost entirely code (it is spidermonkey after all).</p>\n<p>Given that I'm going to close this as expected where <code>--release</code> definitely should be enabled for Cranelift and the compilation pipeline, and it's expected that a JS component compiles more slowly than a Rust component.</p>\n</blockquote>",
        "id": 359677481,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1684506177
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/6353\">issue #6353</a>:</p>\n<blockquote>\n<p>It takes 20 seconds to load a component in <code>wasmtime 7.0.0</code>. It is definitely much slower than loading a wasm module of comparable size. Is this expected? What could be the cause? </p>\n<p>wasm component file size: 6.9M</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Instant</span>::<span class=\"n\">now</span><span class=\"p\">();</span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">Component</span>::<span class=\"n\">from_file</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">engine</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">&amp;</span><span class=\"n\">input</span><span class=\"p\">).</span><span class=\"n\">unwrap</span><span class=\"p\">();</span>\n<span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">start</span><span class=\"p\">.</span><span class=\"n\">elapsed</span><span class=\"p\">();</span>\n<span class=\"fm\">println!</span><span class=\"p\">(</span><span class=\"s\">\"Time to load: {:?}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">elapsed</span><span class=\"p\">);</span>\n</code></pre></div>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Time</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">load</span>: <span class=\"mf\">20.891809886</span><span class=\"n\">s</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 359677523,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1684506185
    }
]