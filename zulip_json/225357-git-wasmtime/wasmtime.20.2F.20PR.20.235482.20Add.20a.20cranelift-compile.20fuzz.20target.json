[
    {
        "content": "<p>elliottt opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>:</p>\n<blockquote>\n<p>Add a cranelift-compile fuzz target that generates test cases to try to compile for all supported architectures.</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 317017581,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671562570
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>.</p>",
        "id": 317020455,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671563515
    },
    {
        "content": "<p><strong>elliottt</strong> has marked <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> as ready for review.</p>",
        "id": 317020853,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671563643
    },
    {
        "content": "<p><strong>elliottt</strong> requested <a href=\"https://github.com/jameysharp\">jameysharp</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a>.</p>",
        "id": 317020894,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671563649
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>.</p>",
        "id": 317022211,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671564039
    },
    {
        "content": "<p>afonso360 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#pullrequestreview-1225017862\">PR review</a>.</p>",
        "id": 317024241,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671564648
    },
    {
        "content": "<p>afonso360 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#discussion_r1053669210\">PR review comment</a>:</p>\n<blockquote>\n<p>I can't comment on the exact line (61), but can we print only the correct <code>target {}</code> line here?</p>\n</blockquote>",
        "id": 317024242,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671564648
    },
    {
        "content": "<p>afonso360 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#pullrequestreview-1225017862\">PR review</a>.</p>",
        "id": 317024243,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671564648
    },
    {
        "content": "<p>afonso360 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#discussion_r1053671800\">PR review comment</a>:</p>\n<blockquote>\n<p>I think we might be able to reuse this for the icache fuzzer as well. Feel free to ignore it if it's too much work to change that.</p>\n</blockquote>",
        "id": 317024244,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671564648
    },
    {
        "content": "<p>afonso360 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#pullrequestreview-1225017862\">PR review</a>.</p>",
        "id": 317027295,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671565566
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#discussion_r1053700073\">PR review comment</a>:</p>\n<blockquote>\n<p>That's a great point! I'd be happy to pull this type back into cranelift-fuzzgen so that we can use it in both targets <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> <br>\n</p>\n</blockquote>",
        "id": 317029962,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671566540
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#pullrequestreview-1225063811\">PR review</a>.</p>",
        "id": 317029963,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671566540
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#pullrequestreview-1225070615\">PR review</a>.</p>",
        "id": 317030742,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671566869
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#discussion_r1053704479\">PR review comment</a>:</p>\n<blockquote>\n<p>Yep! I'll duplicate the match in <a href=\"http://cranelift-compile.rs\">cranelift-compile.rs</a> here.</p>\n</blockquote>",
        "id": 317030743,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671566869
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>.</p>",
        "id": 317032614,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671567596
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#discussion_r1053714542\">PR review comment</a>:</p>\n<blockquote>\n<p>@afonso360 is this what you had in mind?</p>\n</blockquote>",
        "id": 317032866,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671567674
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#pullrequestreview-1225085623\">PR review</a>.</p>",
        "id": 317032868,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671567674
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>.</p>",
        "id": 317033789,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671567985
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#pullrequestreview-1225091571\">PR review</a>.</p>",
        "id": 317033902,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671568032
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#discussion_r1053718626\">PR review comment</a>:</p>\n<blockquote>\n<p>I've added a new struct <code>FunctionWithIsa</code> in cranelift-fuzzgen, and will rework cranelift-icache in a separate PR once this one has landed.</p>\n</blockquote>",
        "id": 317033903,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671568032
    },
    {
        "content": "<p>afonso360 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#pullrequestreview-1225102944\">PR review</a>.</p>",
        "id": 317035214,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671568557
    },
    {
        "content": "<p>afonso360 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#discussion_r1053726374\">PR review comment</a>:</p>\n<blockquote>\n<p>Yeah that looks good!</p>\n<p>The reason for that is mostly that when we generate a function it is only guaranteed to compile for a particular architecture (due to unimplemented instructions), and having all of them there is slightly misleading.</p>\n</blockquote>",
        "id": 317035215,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671568557
    },
    {
        "content": "<p>afonso360 edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#discussion_r1053726374\">PR review comment</a>.</p>",
        "id": 317038669,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671569877
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>.</p>",
        "id": 317040695,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671570652
    },
    {
        "content": "<p>jameysharp submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#pullrequestreview-1225301077\">PR review</a>.</p>",
        "id": 317071052,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671586827
    },
    {
        "content": "<p>jameysharp submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#pullrequestreview-1225301077\">PR review</a>.</p>",
        "id": 317071053,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671586828
    },
    {
        "content": "<p>jameysharp created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#discussion_r1053864019\">PR review comment</a>:</p>\n<blockquote>\n<p>Wishlist: keep this list in <code>cranelift/codegen/src/isa/mod.rs</code> instead, and guard each entry with the same <code>#[cfg]</code> attributes as <code>lookup</code>/<code>isa_builder!</code>.</p>\n</blockquote>",
        "id": 317071054,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671586828
    },
    {
        "content": "<p>jameysharp created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#discussion_r1053869403\">PR review comment</a>:</p>\n<blockquote>\n<p>I believe this alternative is guaranteed to work for all future targets, by relying on <code>target_lexicon</code>'s own mapping between its enum values and strings:</p>\n<div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>        writeln!(f, \"target {}\", self.isa.triple().architecture)?;\n</code></pre></div>\n<p>A wishlist item: share most of the code in the <code>Debug</code> implementations of <code>FunctionWithIsa</code> and <code>TestCase</code>. Both print the same flags, target, and function. They just have different preambles (I believe you can move \"test compile\" before the flags), and <code>TestCase</code> also prints sample outputs at the end, but the middles are the same.</p>\n</blockquote>",
        "id": 317071055,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671586828
    },
    {
        "content": "<p>jameysharp created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#discussion_r1053885141\">PR review comment</a>:</p>\n<blockquote>\n<p><code>run_func_passes</code> builds a <code>TargetIsa</code> which probably doesn't match <code>self.isa</code>. I think the passes it runs probably don't actually look at anything except the target-independent flags, so that's probably fine, but I'm not sure. I think I've been confused about this before and forgotten the answer. Maybe @afonso360 knows?</p>\n</blockquote>",
        "id": 317071056,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671586828
    },
    {
        "content": "<p>afonso360 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#pullrequestreview-1225811437\">PR review</a>.</p>",
        "id": 317122100,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671617379
    },
    {
        "content": "<p>afonso360 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482#discussion_r1054207815\">PR review comment</a>:</p>\n<blockquote>\n<p>Yeah it does. We only need to build it because <code>canonicalize_nans</code> requires it, although it doesn't use it besides the <code>enable_verifier</code> flag.</p>\n<p>It would remove quite a bit of code to not have to build it again, but it would be nice if we could avoid verifying it there, since I benchmarked it once and it ended up showing on the profiling. (We still run the verifier while compiling)</p>\n<p>The other passes don't use the target ISA.</p>\n</blockquote>",
        "id": 317122102,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1671617379
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>.</p>",
        "id": 319310270,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672796589
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>.</p>",
        "id": 319310289,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672796602
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>.</p>",
        "id": 319478546,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672868693
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>.</p>",
        "id": 319515956,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672894895
    },
    {
        "content": "<p>elliottt edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>:</p>\n<blockquote>\n<p>Fuzz additional targets in the cranelift-icache target. The list of targets fuzzed is controlled by the targets enabled in <code>fuzz/Cargo.toml</code>.</p>\n<p>This PR also reworks how instruction disabling is done in function generator, moving the deny-list to a function to make the decision at runtime instead of compile time.<br>\n&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 319516301,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672895188
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>.</p>",
        "id": 319516456,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672895312
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>.</p>",
        "id": 319517545,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672896537
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5482\">PR #5482</a> from <code>trevor/compile-fuzz-all-targets</code> to <code>main</code>.</p>",
        "id": 319517832,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1672896792
    }
]