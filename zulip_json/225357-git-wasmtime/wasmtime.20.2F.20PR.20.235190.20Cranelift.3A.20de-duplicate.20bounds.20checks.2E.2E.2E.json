[
    {
        "content": "<p><strong>fitzgen</strong> requested <a href=\"https://github.com/cfallin\">cfallin</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190\">PR #5190</a>.</p>",
        "id": 307813688,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1667500818
    },
    {
        "content": "<p>fitzgen opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190\">PR #5190</a> from <code>de-dupe-bounds-checks</code> to <code>main</code>:</p>\n<blockquote>\n<p>When both (1) \"dynamic\" memories that need explicit bounds checks and (2)<br>\nspectre mitigations that perform bounds checks are enabled, reuse the same<br>\nbounds checks between the two legalizations.</p>\n<p>This reduces the overhead of explicit bounds checks and spectre mitigations over<br>\nusing virtual memory guard pages with spectre mitigations from ~1.9-2.1x<br>\noverhead to ~1.6-1.8x overhead. That is about a 14-19% speed up for when dynamic<br>\nmemories and spectre mitigations are enabled.</p>\n<h2><a href=\"http://virtual-memory-guards.so\">virtual-memory-guards.so</a> vs <a href=\"http://bounds-checks.so\">bounds-checks.so</a></h2>\n<p>&lt;details&gt;</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">execution</span><span class=\"w\"> </span>:: <span class=\"nc\">instructions</span><span class=\"o\">-</span><span class=\"n\">retired</span><span class=\"w\"> </span>:: <span class=\"nc\">benchmarks</span><span class=\"o\">/</span><span class=\"n\">spidermonkey</span><span class=\"o\">/</span><span class=\"n\">benchmark</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"err\">Δ</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">3422455129.47</span><span class=\"w\"> </span><span class=\"err\">±</span><span class=\"w\"> </span><span class=\"mf\">120159.49</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">confidence</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">99</span><span class=\"o\">%</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"kr\">virtual</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">guards</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mf\">2.09</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mf\">2.09</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">faster</span><span class=\"w\"> </span><span class=\"n\">than</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"o\">!</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">6563931659</span><span class=\"w\"> </span><span class=\"mf\">6564063496.07</span><span class=\"w\"> </span><span class=\"mi\">6564301535</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">3141492675</span><span class=\"w\"> </span><span class=\"mf\">3141608366.60</span><span class=\"w\"> </span><span class=\"mi\">3141895249</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"kr\">virtual</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">guards</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n\n<span class=\"n\">execution</span><span class=\"w\"> </span>:: <span class=\"nc\">instructions</span><span class=\"o\">-</span><span class=\"n\">retired</span><span class=\"w\"> </span>:: <span class=\"nc\">benchmarks</span><span class=\"o\">/</span><span class=\"n\">bz2</span><span class=\"o\">/</span><span class=\"n\">benchmark</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"err\">Δ</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">338716136.87</span><span class=\"w\"> </span><span class=\"err\">±</span><span class=\"w\"> </span><span class=\"mf\">1.38</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">confidence</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">99</span><span class=\"o\">%</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"kr\">virtual</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">guards</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mf\">2.08</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mf\">2.08</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">faster</span><span class=\"w\"> </span><span class=\"n\">than</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"o\">!</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">651961494</span><span class=\"w\"> </span><span class=\"mf\">651961495.47</span><span class=\"w\"> </span><span class=\"mi\">651961497</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">313245357</span><span class=\"w\"> </span><span class=\"mf\">313245358.60</span><span class=\"w\"> </span><span class=\"mi\">313245362</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"kr\">virtual</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">guards</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n\n<span class=\"n\">execution</span><span class=\"w\"> </span>:: <span class=\"nc\">instructions</span><span class=\"o\">-</span><span class=\"n\">retired</span><span class=\"w\"> </span>:: <span class=\"nc\">benchmarks</span><span class=\"o\">/</span><span class=\"n\">pulldown</span><span class=\"o\">-</span><span class=\"n\">cmark</span><span class=\"o\">/</span><span class=\"n\">benchmark</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"err\">Δ</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">22742944.07</span><span class=\"w\"> </span><span class=\"err\">±</span><span class=\"w\"> </span><span class=\"mf\">331.73</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">confidence</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">99</span><span class=\"o\">%</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"kr\">virtual</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">guards</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mf\">1.87</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mf\">1.87</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">faster</span><span class=\"w\"> </span><span class=\"n\">than</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"o\">!</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">48841295</span><span class=\"w\"> </span><span class=\"mf\">48841567.33</span><span class=\"w\"> </span><span class=\"mi\">48842139</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">26098439</span><span class=\"w\"> </span><span class=\"mf\">26098623.27</span><span class=\"w\"> </span><span class=\"mi\">26099479</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"kr\">virtual</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">guards</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n</code></pre></div>\n<p>&lt;/details&gt;</p>\n<h2><a href=\"http://virtual-memory-guards.so\">virtual-memory-guards.so</a> vs <a href=\"http://de-duped-bounds-checks.so\">de-duped-bounds-checks.so</a></h2>\n<p>&lt;details&gt;</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">execution</span><span class=\"w\"> </span>:: <span class=\"nc\">instructions</span><span class=\"o\">-</span><span class=\"n\">retired</span><span class=\"w\"> </span>:: <span class=\"nc\">benchmarks</span><span class=\"o\">/</span><span class=\"n\">spidermonkey</span><span class=\"o\">/</span><span class=\"n\">benchmark</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"err\">Δ</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">2465900207.27</span><span class=\"w\"> </span><span class=\"err\">±</span><span class=\"w\"> </span><span class=\"mf\">146476.61</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">confidence</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">99</span><span class=\"o\">%</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"kr\">virtual</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">guards</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mf\">1.78</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mf\">1.78</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">faster</span><span class=\"w\"> </span><span class=\"n\">than</span><span class=\"w\"> </span><span class=\"n\">de</span><span class=\"o\">-</span><span class=\"n\">duped</span><span class=\"o\">-</span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"o\">!</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">5607275431</span><span class=\"w\"> </span><span class=\"mf\">5607442989.13</span><span class=\"w\"> </span><span class=\"mi\">5607838342</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">de</span><span class=\"o\">-</span><span class=\"n\">duped</span><span class=\"o\">-</span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">3141445345</span><span class=\"w\"> </span><span class=\"mf\">3141542781.87</span><span class=\"w\"> </span><span class=\"mi\">3141711213</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"kr\">virtual</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">guards</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n\n<span class=\"n\">execution</span><span class=\"w\"> </span>:: <span class=\"nc\">instructions</span><span class=\"o\">-</span><span class=\"n\">retired</span><span class=\"w\"> </span>:: <span class=\"nc\">benchmarks</span><span class=\"o\">/</span><span class=\"n\">bz2</span><span class=\"o\">/</span><span class=\"n\">benchmark</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"err\">Δ</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">234253620.20</span><span class=\"w\"> </span><span class=\"err\">±</span><span class=\"w\"> </span><span class=\"mf\">2.33</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">confidence</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">99</span><span class=\"o\">%</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"kr\">virtual</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">guards</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mf\">1.75</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mf\">1.75</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">faster</span><span class=\"w\"> </span><span class=\"n\">than</span><span class=\"w\"> </span><span class=\"n\">de</span><span class=\"o\">-</span><span class=\"n\">duped</span><span class=\"o\">-</span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"o\">!</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">547498977</span><span class=\"w\"> </span><span class=\"mf\">547498980.93</span><span class=\"w\"> </span><span class=\"mi\">547498985</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">de</span><span class=\"o\">-</span><span class=\"n\">duped</span><span class=\"o\">-</span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">313245357</span><span class=\"w\"> </span><span class=\"mf\">313245360.73</span><span class=\"w\"> </span><span class=\"mi\">313245363</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"kr\">virtual</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">guards</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n\n<span class=\"n\">execution</span><span class=\"w\"> </span>:: <span class=\"nc\">instructions</span><span class=\"o\">-</span><span class=\"n\">retired</span><span class=\"w\"> </span>:: <span class=\"nc\">benchmarks</span><span class=\"o\">/</span><span class=\"n\">pulldown</span><span class=\"o\">-</span><span class=\"n\">cmark</span><span class=\"o\">/</span><span class=\"n\">benchmark</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"err\">Δ</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">16605659.13</span><span class=\"w\"> </span><span class=\"err\">±</span><span class=\"w\"> </span><span class=\"mf\">315.78</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">confidence</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">99</span><span class=\"o\">%</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"kr\">virtual</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">guards</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mf\">1.64</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mf\">1.64</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">faster</span><span class=\"w\"> </span><span class=\"n\">than</span><span class=\"w\"> </span><span class=\"n\">de</span><span class=\"o\">-</span><span class=\"n\">duped</span><span class=\"o\">-</span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"o\">!</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">42703971</span><span class=\"w\"> </span><span class=\"mf\">42704284.40</span><span class=\"w\"> </span><span class=\"mi\">42704787</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">de</span><span class=\"o\">-</span><span class=\"n\">duped</span><span class=\"o\">-</span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">26098432</span><span class=\"w\"> </span><span class=\"mf\">26098625.27</span><span class=\"w\"> </span><span class=\"mi\">26099234</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"kr\">virtual</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">guards</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n</code></pre></div>\n<p>&lt;/details&gt;</p>\n<h2><a href=\"http://bounds-checks.so\">bounds-checks.so</a> vs <a href=\"http://de-duped-bounds-checks.so\">de-duped-bounds-checks.so</a></h2>\n<p>&lt;details&gt;</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">execution</span><span class=\"w\"> </span>:: <span class=\"nc\">instructions</span><span class=\"o\">-</span><span class=\"n\">retired</span><span class=\"w\"> </span>:: <span class=\"nc\">benchmarks</span><span class=\"o\">/</span><span class=\"n\">bz2</span><span class=\"o\">/</span><span class=\"n\">benchmark</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"err\">Δ</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">104462517.13</span><span class=\"w\"> </span><span class=\"err\">±</span><span class=\"w\"> </span><span class=\"mf\">7.32</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">confidence</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">99</span><span class=\"o\">%</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"n\">de</span><span class=\"o\">-</span><span class=\"n\">duped</span><span class=\"o\">-</span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mf\">1.19</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mf\">1.19</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">faster</span><span class=\"w\"> </span><span class=\"n\">than</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"o\">!</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">651961493</span><span class=\"w\"> </span><span class=\"mf\">651961500.80</span><span class=\"w\"> </span><span class=\"mi\">651961532</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">547498981</span><span class=\"w\"> </span><span class=\"mf\">547498983.67</span><span class=\"w\"> </span><span class=\"mi\">547498989</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">de</span><span class=\"o\">-</span><span class=\"n\">duped</span><span class=\"o\">-</span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n\n<span class=\"n\">execution</span><span class=\"w\"> </span>:: <span class=\"nc\">instructions</span><span class=\"o\">-</span><span class=\"n\">retired</span><span class=\"w\"> </span>:: <span class=\"nc\">benchmarks</span><span class=\"o\">/</span><span class=\"n\">spidermonkey</span><span class=\"o\">/</span><span class=\"n\">benchmark</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"err\">Δ</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">956556982.80</span><span class=\"w\"> </span><span class=\"err\">±</span><span class=\"w\"> </span><span class=\"mf\">103034.59</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">confidence</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">99</span><span class=\"o\">%</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"n\">de</span><span class=\"o\">-</span><span class=\"n\">duped</span><span class=\"o\">-</span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mf\">1.17</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mf\">1.17</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">faster</span><span class=\"w\"> </span><span class=\"n\">than</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"o\">!</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">6563930590</span><span class=\"w\"> </span><span class=\"mf\">6564019842.40</span><span class=\"w\"> </span><span class=\"mi\">6564243651</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">5607307146</span><span class=\"w\"> </span><span class=\"mf\">5607462859.60</span><span class=\"w\"> </span><span class=\"mi\">5607677763</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">de</span><span class=\"o\">-</span><span class=\"n\">duped</span><span class=\"o\">-</span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n\n<span class=\"n\">execution</span><span class=\"w\"> </span>:: <span class=\"nc\">instructions</span><span class=\"o\">-</span><span class=\"n\">retired</span><span class=\"w\"> </span>:: <span class=\"nc\">benchmarks</span><span class=\"o\">/</span><span class=\"n\">pulldown</span><span class=\"o\">-</span><span class=\"n\">cmark</span><span class=\"o\">/</span><span class=\"n\">benchmark</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"err\">Δ</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mf\">6137307.87</span><span class=\"w\"> </span><span class=\"err\">±</span><span class=\"w\"> </span><span class=\"mf\">247.75</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">confidence</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">99</span><span class=\"o\">%</span><span class=\"p\">)</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"n\">de</span><span class=\"o\">-</span><span class=\"n\">duped</span><span class=\"o\">-</span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mf\">1.14</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"mf\">1.14</span><span class=\"n\">x</span><span class=\"w\"> </span><span class=\"n\">faster</span><span class=\"w\"> </span><span class=\"n\">than</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"o\">!</span><span class=\"w\"></span>\n\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">48841303</span><span class=\"w\"> </span><span class=\"mf\">48841472.93</span><span class=\"w\"> </span><span class=\"mi\">48842000</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">[</span><span class=\"mi\">42703965</span><span class=\"w\"> </span><span class=\"mf\">42704165.07</span><span class=\"w\"> </span><span class=\"mi\">42704718</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">de</span><span class=\"o\">-</span><span class=\"n\">duped</span><span class=\"o\">-</span><span class=\"n\">bounds</span><span class=\"o\">-</span><span class=\"n\">checks</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"></span>\n</code></pre></div>\n<p>&lt;/details&gt;<br>\n</p>\n</blockquote>",
        "id": 307813690,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1667500818
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190#discussion_r1013281835\">PR review comment</a>:</p>\n<blockquote>\n<p>These <code>trace!</code>s seem a bit verbose to leave in -- big function bodies will be replicated two more times (in addition to the pre-opt, pre-lowering and lowered vcode forms). I don't feel too strongly about that, just a suggestion.</p>\n</blockquote>",
        "id": 307814430,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1667501124
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190#pullrequestreview-1167496410\">PR review</a>.</p>",
        "id": 307814431,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1667501124
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190#pullrequestreview-1167496410\">PR review</a>.</p>",
        "id": 307814432,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1667501125
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190#discussion_r1013369086\">PR review comment</a>:</p>\n<blockquote>\n<p>I'll remove the post-legalization logging, but I think that in general every pass should <code>trace!</code> log its input.</p>\n</blockquote>",
        "id": 307832751,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1667507370
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190#pullrequestreview-1167622996\">PR review</a>.</p>",
        "id": 307832752,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1667507370
    },
    {
        "content": "<p>fitzgen edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190#discussion_r1013369086\">PR review comment</a>.</p>",
        "id": 307832809,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1667507395
    },
    {
        "content": "<p>fitzgen updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190\">PR #5190</a> from <code>de-dupe-bounds-checks</code> to <code>main</code>.</p>",
        "id": 308895713,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668037791
    },
    {
        "content": "<p><strong>fitzgen</strong> requested <a href=\"https://github.com/cfallin\">cfallin</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190\">PR #5190</a>.</p>",
        "id": 309032428,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668099548
    },
    {
        "content": "<p>fitzgen updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190\">PR #5190</a> from <code>de-dupe-bounds-checks</code> to <code>main</code>.</p>",
        "id": 309032803,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668099648
    },
    {
        "content": "<p><strong>fitzgen</strong> requested <a href=\"https://github.com/jameysharp\">jameysharp</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190\">PR #5190</a>.</p>",
        "id": 309108039,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668126159
    },
    {
        "content": "<p>jameysharp submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190#pullrequestreview-1179454047\">PR review</a>.</p>",
        "id": 309900148,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668443523
    },
    {
        "content": "<p>fitzgen merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/5190\">PR #5190</a>.</p>",
        "id": 310242711,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1668530844
    }
]