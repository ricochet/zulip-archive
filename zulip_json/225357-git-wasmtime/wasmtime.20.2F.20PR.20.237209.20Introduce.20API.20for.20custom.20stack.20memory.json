[
    {
        "content": "<p>rockwotj opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a> from <code>rockwotj:custom-stack-memory</code> to <code>bytecodealliance:main</code>:</p>\n<blockquote>\n<p>Introduces an API to allow embedders to allocate stacks for fibers using custom memory instead of mmap.</p>\n<p><a href=\"#narrow/stream/217126-wasmtime/topic/.E2.9C.94.20Custom.20allocator.20for.20Fibers\">Discussed on Zulip</a><br>\n</p>\n</blockquote>",
        "id": 395922229,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696956445
    },
    {
        "content": "<p><strong>rockwotj</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-core-reviewers\">wasmtime-core-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 395922233,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696956446
    },
    {
        "content": "<p><strong>rockwotj</strong> requested <a href=\"https://github.com/orgs/bytecodealliance/teams/wasmtime-default-reviewers\">wasmtime-default-reviewers</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 395922234,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696956446
    },
    {
        "content": "<p><strong>rockwotj</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 395922235,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696956446
    },
    {
        "content": "<p>rockwotj updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 395922971,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696956713
    },
    {
        "content": "<p>rockwotj updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 395924813,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696957422
    },
    {
        "content": "<p>rockwotj updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 395924990,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696957487
    },
    {
        "content": "<p>rockwotj updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 395925027,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696957504
    },
    {
        "content": "<p>rockwotj submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#pullrequestreview-1668418068\">PR review</a>.</p>",
        "id": 395925506,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696957691
    },
    {
        "content": "<p>rockwotj submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#pullrequestreview-1668418068\">PR review</a>.</p>",
        "id": 395925507,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696957691
    },
    {
        "content": "<p>rockwotj created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353018748\">PR review comment</a>:</p>\n<blockquote>\n<p>This is a much safer API, because we don't need to assume they will sent <code>env</code> and <code>finalizer</code> to nullptr if they don't need them.</p>\n</blockquote>",
        "id": 395925511,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696957692
    },
    {
        "content": "<p>rockwotj updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 395935768,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696961984
    },
    {
        "content": "<p>rockwotj updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 395954732,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696969050
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#pullrequestreview-1668783387\">PR review</a>:</p>\n<blockquote>\n<p>(Going to leave the C API bits to Alex to review)</p>\n</blockquote>",
        "id": 395955245,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696969305
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#pullrequestreview-1668783387\">PR review</a>:</p>\n<blockquote>\n<p>(Going to leave the C API bits to Alex to review)</p>\n</blockquote>",
        "id": 395955246,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696969305
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353259799\">PR review comment</a>:</p>\n<blockquote>\n<p>I think I like the <code>mmap: bool</code> flag better than repeating everything for both <code>Manual</code> and <code>Mmap</code>.</p>\n</blockquote>",
        "id": 395955247,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696969306
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353266111\">PR review comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>/// This trait is unsafe, as memory safety depends on a proper implementation\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 395955249,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696969306
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353273098\">PR review comment</a>:</p>\n<blockquote>\n<p>Can remove a level of indentation via <code>#![...]</code> to put the attribute on the whole <code>stack_creator</code> module, rather than defining a submodule inside it:</p>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>#![cfg(all(not(target_os = \"windows\"), not(miri)))]\n\nuse anyhow::{bail, Context};\nuse std::{\n    alloc::{GlobalAlloc, Layout, System},\n    ops::Range,\n    ptr::NonNull,\n    sync::Arc,\n};\nuse wasmtime::*;\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 395955250,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696969306
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353270681\">PR review comment</a>:</p>\n<blockquote>\n<p>Instead of changing the constructor of the <code>OnDemandInstanceAllocator</code> depending on whether <code>#[cfg(feature = \"async\")]</code>, how about we always leave out the stack creator, but then have a method for configuring it after construction:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">impl</span><span class=\"w\"> </span><span class=\"n\">OnDemandInstanceAllocator</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"cp\">#[cfg(feature = </span><span class=\"s\">\"async\"</span><span class=\"cp\">)]</span>\n<span class=\"w\">    </span><span class=\"k\">pub</span><span class=\"w\"> </span><span class=\"k\">fn</span> <span class=\"nf\">set_stack_creator</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"bp\">self</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">stack_creator</span>: <span class=\"nb\">Option</span><span class=\"o\">&lt;</span><span class=\"n\">Arc</span><span class=\"o\">&lt;</span><span class=\"k\">dyn</span><span class=\"w\"> </span><span class=\"n\">StackCreator</span><span class=\"o\">&gt;&gt;</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">        </span><span class=\"bp\">self</span><span class=\"p\">.</span><span class=\"n\">stack_creator</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">stack_creator</span><span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>This should make construction sites a little bit simpler.</p>\n</blockquote>",
        "id": 395955251,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696969306
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353275035\">PR review comment</a>:</p>\n<blockquote>\n<p>Can we assert page alignment here?</p>\n</blockquote>",
        "id": 395955252,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696969306
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353275353\">PR review comment</a>:</p>\n<blockquote>\n<p>And here for both start and end parts of the range</p>\n</blockquote>",
        "id": 395955253,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696969306
    },
    {
        "content": "<p>rockwotj submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#pullrequestreview-1668892758\">PR review</a>.</p>",
        "id": 395960763,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696971996
    },
    {
        "content": "<p>rockwotj submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#pullrequestreview-1668892758\">PR review</a>.</p>",
        "id": 395960764,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696971996
    },
    {
        "content": "<p>rockwotj created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353337023\">PR review comment</a>:</p>\n<blockquote>\n<p>Done thanks</p>\n</blockquote>",
        "id": 395960765,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696971997
    },
    {
        "content": "<p>rockwotj created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353425593\">PR review comment</a>:</p>\n<blockquote>\n<p>Reverted that back. </p>\n</blockquote>",
        "id": 395960766,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696971997
    },
    {
        "content": "<p>rockwotj created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353337572\">PR review comment</a>:</p>\n<blockquote>\n<p>Sure!</p>\n</blockquote>",
        "id": 395960767,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696971997
    },
    {
        "content": "<p>rockwotj created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353420234\">PR review comment</a>:</p>\n<blockquote>\n<p>Done.</p>\n</blockquote>",
        "id": 395960768,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696971997
    },
    {
        "content": "<p>rockwotj created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353420451\">PR review comment</a>:</p>\n<blockquote>\n<p>Done.</p>\n</blockquote>",
        "id": 395960769,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696971997
    },
    {
        "content": "<p>rockwotj created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#discussion_r1353367909\">PR review comment</a>:</p>\n<blockquote>\n<p>Thanks done!</p>\n</blockquote>",
        "id": 395960770,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696971997
    },
    {
        "content": "<p>rockwotj updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 395960775,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696971999
    },
    {
        "content": "<p><strong>rockwotj</strong> requested <a href=\"https://github.com/fitzgen\">fitzgen</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 395960803,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696972016
    },
    {
        "content": "<p>rockwotj updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 395963329,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1696973414
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#pullrequestreview-1672079147\">PR review</a>:</p>\n<blockquote>\n<p>Nice! I looked through the C API changes in more detail as well, and they look good as well.</p>\n<p>Thanks @rockwotj!</p>\n</blockquote>",
        "id": 396139199,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1697046454
    },
    {
        "content": "<p>rockwotj updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 396141976,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1697047724
    },
    {
        "content": "<p>rockwotj updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 396145894,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1697049399
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209#pullrequestreview-1672394315\">PR review</a>.</p>",
        "id": 396153866,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1697052921
    },
    {
        "content": "<p>fitzgen merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/7209\">PR #7209</a>.</p>",
        "id": 396159295,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1697055536
    }
]