[
    {
        "content": "<p>ckaznocha opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3184\">issue #3184</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/files/6978549/test.wasm.zip\">test.wasm.zip</a></p>\n<h3>Steps to Reproduce</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">gdb</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">args</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Expected Results</h3>\n<p>The ability to attach lldb or gdb.</p>\n<h3>Actual Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Reading</span><span class=\"w\"> </span><span class=\"n\">symbols</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"n\">No</span><span class=\"w\"> </span><span class=\"n\">debugging</span><span class=\"w\"> </span><span class=\"n\">symbols</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>&gt; <span class=\"nv\">WASMTIME_BACKTRACE_DETAILS</span><span class=\"o\">=</span><span class=\"m\">1</span> wasmtime -g test.wasm\nError: failed to run main module <span class=\"sb\">`</span>test.wasm<span class=\"sb\">`</span>\n\nCaused by:\n    <span class=\"m\">0</span>: Debug information error\n    <span class=\"m\">1</span>: comp_dir\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 0.29.0</p>\n<p>Operating system: macOS</p>\n<p>Architecture: amd64</p>\n<h3>Extra Info</h3>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>&gt; ./tinygo version\ntinygo version <span class=\"m\">0</span>.20.0-dev-5e5ce98d darwin/amd64 <span class=\"o\">(</span>using go version go1.16.6 and LLVM version <span class=\"m\">11</span>.0.0<span class=\"o\">)</span>\n</code></pre></div>\n<p>Source code:</p>\n<div class=\"codehilite\" data-code-language=\"Go\"><pre><span></span><code><span class=\"kn\">package</span> <span class=\"nx\">main</span>\n\n<span class=\"kn\">import</span> <span class=\"p\">(</span>\n    <span class=\"s\">\"fmt\"</span>\n<span class=\"p\">)</span>\n\n<span class=\"kd\">func</span> <span class=\"nx\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"s\">\"Hello, World!\"</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>Command to produce the wasm file:</p>\n<p><div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>&gt; tinygo build -target<span class=\"o\">=</span>wasi -opt<span class=\"o\">=</span><span class=\"m\">1</span> -o test.wasm\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 249292895,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1628802235
    },
    {
        "content": "<p>ckaznocha labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3184\">issue #3184</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/files/6978549/test.wasm.zip\">test.wasm.zip</a></p>\n<h3>Steps to Reproduce</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">gdb</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">args</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Expected Results</h3>\n<p>The ability to attach lldb or gdb.</p>\n<h3>Actual Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Reading</span><span class=\"w\"> </span><span class=\"n\">symbols</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"n\">No</span><span class=\"w\"> </span><span class=\"n\">debugging</span><span class=\"w\"> </span><span class=\"n\">symbols</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>&gt; <span class=\"nv\">WASMTIME_BACKTRACE_DETAILS</span><span class=\"o\">=</span><span class=\"m\">1</span> wasmtime -g test.wasm\nError: failed to run main module <span class=\"sb\">`</span>test.wasm<span class=\"sb\">`</span>\n\nCaused by:\n    <span class=\"m\">0</span>: Debug information error\n    <span class=\"m\">1</span>: comp_dir\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 0.29.0</p>\n<p>Operating system: macOS</p>\n<p>Architecture: amd64</p>\n<h3>Extra Info</h3>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>&gt; ./tinygo version\ntinygo version <span class=\"m\">0</span>.20.0-dev-5e5ce98d darwin/amd64 <span class=\"o\">(</span>using go version go1.16.6 and LLVM version <span class=\"m\">11</span>.0.0<span class=\"o\">)</span>\n</code></pre></div>\n<p>Source code:</p>\n<div class=\"codehilite\" data-code-language=\"Go\"><pre><span></span><code><span class=\"kn\">package</span> <span class=\"nx\">main</span>\n\n<span class=\"kn\">import</span> <span class=\"p\">(</span>\n    <span class=\"s\">\"fmt\"</span>\n<span class=\"p\">)</span>\n\n<span class=\"kd\">func</span> <span class=\"nx\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"s\">\"Hello, World!\"</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>Command to produce the wasm file:</p>\n<p><div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>&gt; tinygo build -target<span class=\"o\">=</span>wasi -opt<span class=\"o\">=</span><span class=\"m\">1</span> -o test.wasm\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 249292896,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1628802236
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3184#issuecomment-898000916\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3184\">issue #3184</a>:</p>\n<blockquote>\n<p>The debuginfo seems to be missing a <code>DW_AT_comp_dir</code>. Wasmtime expects it to exist: <a href=\"https://github.com/bytecodealliance/wasmtime/blob/d7053ea9c71b4a240c1966bd1bd9424e36a44f28/crates/debug/src/transform/line_program.rs#L671\">https://github.com/bytecodealliance/wasmtime/blob/d7053ea9c71b4a240c1966bd1bd9424e36a44f28/crates/debug/src/transform/line_program.rs#L671</a> I think it is valid to omit it though for as long as it is not referenced from the line program (it isn't for this file)</p>\n</blockquote>",
        "id": 249299431,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1628806229
    },
    {
        "content": "<p>fitzgen closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3184\">issue #3184</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/files/6978549/test.wasm.zip\">test.wasm.zip</a></p>\n<h3>Steps to Reproduce</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"n\">gdb</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">args</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">g</span><span class=\"w\"> </span><span class=\"n\">test</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Expected Results</h3>\n<p>The ability to attach lldb or gdb.</p>\n<h3>Actual Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Reading</span><span class=\"w\"> </span><span class=\"n\">symbols</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"n\">No</span><span class=\"w\"> </span><span class=\"n\">debugging</span><span class=\"w\"> </span><span class=\"n\">symbols</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"p\">(</span><span class=\"n\">gdb</span><span class=\"p\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>&gt; <span class=\"nv\">WASMTIME_BACKTRACE_DETAILS</span><span class=\"o\">=</span><span class=\"m\">1</span> wasmtime -g test.wasm\nError: failed to run main module <span class=\"sb\">`</span>test.wasm<span class=\"sb\">`</span>\n\nCaused by:\n    <span class=\"m\">0</span>: Debug information error\n    <span class=\"m\">1</span>: comp_dir\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 0.29.0</p>\n<p>Operating system: macOS</p>\n<p>Architecture: amd64</p>\n<h3>Extra Info</h3>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>&gt; ./tinygo version\ntinygo version <span class=\"m\">0</span>.20.0-dev-5e5ce98d darwin/amd64 <span class=\"o\">(</span>using go version go1.16.6 and LLVM version <span class=\"m\">11</span>.0.0<span class=\"o\">)</span>\n</code></pre></div>\n<p>Source code:</p>\n<div class=\"codehilite\" data-code-language=\"Go\"><pre><span></span><code><span class=\"kn\">package</span> <span class=\"nx\">main</span>\n\n<span class=\"kn\">import</span> <span class=\"p\">(</span>\n    <span class=\"s\">\"fmt\"</span>\n<span class=\"p\">)</span>\n\n<span class=\"kd\">func</span> <span class=\"nx\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"s\">\"Hello, World!\"</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>Command to produce the wasm file:</p>\n<p><div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>&gt; tinygo build -target<span class=\"o\">=</span>wasi -opt<span class=\"o\">=</span><span class=\"m\">1</span> -o test.wasm\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 249782914,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1629236616
    }
]