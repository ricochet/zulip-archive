[
    {
        "content": "<p>alexcrichton opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4311\">issue #4311</a>:</p>\n<blockquote>\n<p>I'm going to split this work item from <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4185\">https://github.com/bytecodealliance/wasmtime/issues/4185</a> since I suspect it's going to be somewhat significant. The intention here is to track issues related to the memory64 proposal for WebAssembly and the component model. At the time of this writing neither of these proposals are \"stable\". Additionally the component model does not actually define what the canonical ABI is with respect to the memory64 proposal. Fully implementing this item will be a blend of \"do the obvious thing\" where possible such as making pointers 64-bits large, while at the same time also identifying question that don't have \"obvious\" answers such as \"what's the maximum length of a string or list?\"</p>\n<p>Currently there are a lot of TODO items sprinkled throughout <code>typed.rs</code> which note various places that I suspect will need memory64 treatment. Fully implementing this issue, however, will likely require fuzzer integration because otherwise it'll be difficult to ensure that we've covered all cases.</p>\n<p>Some examples of things that need updating are:</p>\n<ul>\n<li>Need to call <code>realloc</code> with a different signature</li>\n<li>All reads/writes of pointers to linear memory need to have a 32/64 bit switch</li>\n<li>Reading and writing pointers to <code>ValRaw</code> needs to be audited</li>\n<li>Size and alignment calculations all need to be duplicated or have a parameter for 64 bit </li>\n<li>Somehow should probably confirm that this doesn't vastly affect performance for 32-bit</li>\n</ul>\n<p>The last point here is an open question I don't know how best to answer. </p>\n</blockquote>",
        "id": 287263812,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1656021462
    },
    {
        "content": "<p>alexcrichton labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4311\">issue #4311</a>:</p>\n<blockquote>\n<p>I'm going to split this work item from <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4185\">https://github.com/bytecodealliance/wasmtime/issues/4185</a> since I suspect it's going to be somewhat significant. The intention here is to track issues related to the memory64 proposal for WebAssembly and the component model. At the time of this writing neither of these proposals are \"stable\". Additionally the component model does not actually define what the canonical ABI is with respect to the memory64 proposal. Fully implementing this item will be a blend of \"do the obvious thing\" where possible such as making pointers 64-bits large, while at the same time also identifying question that don't have \"obvious\" answers such as \"what's the maximum length of a string or list?\"</p>\n<p>Currently there are a lot of TODO items sprinkled throughout <code>typed.rs</code> which note various places that I suspect will need memory64 treatment. Fully implementing this issue, however, will likely require fuzzer integration because otherwise it'll be difficult to ensure that we've covered all cases.</p>\n<p>Some examples of things that need updating are:</p>\n<ul>\n<li>Need to call <code>realloc</code> with a different signature</li>\n<li>All reads/writes of pointers to linear memory need to have a 32/64 bit switch</li>\n<li>Reading and writing pointers to <code>ValRaw</code> needs to be audited</li>\n<li>Size and alignment calculations all need to be duplicated or have a parameter for 64 bit </li>\n<li>Somehow should probably confirm that this doesn't vastly affect performance for 32-bit</li>\n</ul>\n<p>The last point here is an open question I don't know how best to answer. </p>\n</blockquote>",
        "id": 287263813,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1656021462
    },
    {
        "content": "<p>alexcrichton labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4311\">issue #4311</a>:</p>\n<blockquote>\n<p>I'm going to split this work item from <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4185\">https://github.com/bytecodealliance/wasmtime/issues/4185</a> since I suspect it's going to be somewhat significant. The intention here is to track issues related to the memory64 proposal for WebAssembly and the component model. At the time of this writing neither of these proposals are \"stable\". Additionally the component model does not actually define what the canonical ABI is with respect to the memory64 proposal. Fully implementing this item will be a blend of \"do the obvious thing\" where possible such as making pointers 64-bits large, while at the same time also identifying question that don't have \"obvious\" answers such as \"what's the maximum length of a string or list?\"</p>\n<p>Currently there are a lot of TODO items sprinkled throughout <code>typed.rs</code> which note various places that I suspect will need memory64 treatment. Fully implementing this issue, however, will likely require fuzzer integration because otherwise it'll be difficult to ensure that we've covered all cases.</p>\n<p>Some examples of things that need updating are:</p>\n<ul>\n<li>Need to call <code>realloc</code> with a different signature</li>\n<li>All reads/writes of pointers to linear memory need to have a 32/64 bit switch</li>\n<li>Reading and writing pointers to <code>ValRaw</code> needs to be audited</li>\n<li>Size and alignment calculations all need to be duplicated or have a parameter for 64 bit </li>\n<li>Somehow should probably confirm that this doesn't vastly affect performance for 32-bit</li>\n</ul>\n<p>The last point here is an open question I don't know how best to answer. </p>\n</blockquote>",
        "id": 287263814,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1656021462
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4311#issuecomment-1164920913\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4311\">issue #4311</a>:</p>\n<blockquote>\n<p>The upstream issue for the component model repository and the spec defining what to do with the memory64 proposal is <a href=\"https://github.com/WebAssembly/component-model/issues/22\">https://github.com/WebAssembly/component-model/issues/22</a></p>\n</blockquote>",
        "id": 287263899,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1656021503
    }
]