[
    {
        "content": "<p>kellytk opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>$ git repo<br>\ncommit 321294a5d21f7006a959ba378ebd32782a76d3d2<br>\n...</p>\n<p>$ wasmtime --version<br>\nwasmtime-cli 16.0.0</p>\n<p>crates/test-programs$ cargo build --target=wasm32-wasi</p>\n<p>$ wasmtime preview2_ip_name_lookup.wasm<br>\nError: failed to run main module <code>preview2_ip_name_lookup.wasm</code></p>\n<p>Caused by:<br>\n    0: failed to instantiate \"preview2_ip_name_lookup.wasm\"<br>\n    1: unknown import: <code>wasi:sockets/network@0.2.0-rc-2023-11-10::[resource-drop]network</code> has not been defined</p>\n<p>How can this error be resolved?</p>\n</blockquote>",
        "id": 402001340,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699973104
    },
    {
        "content": "<p>kellytk edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>$ git log<br>\ncommit 321294a5d21f7006a959ba378ebd32782a76d3d2<br>\n...</p>\n<p>$ wasmtime --version<br>\nwasmtime-cli 16.0.0</p>\n<p>crates/test-programs$ cargo build --target=wasm32-wasi</p>\n<p>$ wasmtime preview2_ip_name_lookup.wasm<br>\nError: failed to run main module <code>preview2_ip_name_lookup.wasm</code></p>\n<p>Caused by:<br>\n    0: failed to instantiate \"preview2_ip_name_lookup.wasm\"<br>\n    1: unknown import: <code>wasi:sockets/network@0.2.0-rc-2023-11-10::[resource-drop]network</code> has not been defined</p>\n<p>How can this error be resolved?</p>\n</blockquote>",
        "id": 402002373,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699973416
    },
    {
        "content": "<p>kellytk edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>$ git log<br>\ncommit 321294a5d21f7006a959ba378ebd32782a76d3d2<br>\n...</p>\n<p>$ wasmtime --version<br>\nwasmtime-cli 16.0.0</p>\n<p>crates/test-programs$ cargo build --target=wasm32-wasi</p>\n<p>$ wasmtime preview2_ip_name_lookup.wasm</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">preview2_ip_name_lookup</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"err\">`</span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">instantiate</span><span class=\"w\"> </span><span class=\"s\">\"preview2_ip_name_lookup.wasm\"</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"nc\">unknown</span><span class=\"w\"> </span><span class=\"n\">import</span>: <span class=\"err\">`</span><span class=\"n\">wasi</span>:<span class=\"nc\">sockets</span><span class=\"o\">/</span><span class=\"n\">network</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">11</span><span class=\"o\">-</span><span class=\"mi\">10</span>::<span class=\"p\">[</span><span class=\"n\">resource</span><span class=\"o\">-</span><span class=\"nb\">drop</span><span class=\"p\">]</span><span class=\"n\">network</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">been</span><span class=\"w\"> </span><span class=\"n\">defined</span>\n</code></pre></div>\n<p>How can this error be resolved?</p>\n</blockquote>",
        "id": 402002964,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699973578
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536#issuecomment-1810496197\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>Thanks for the report! I think this indicates that you're running a WebAssembly core module which was intended to become a component directly as a core module instead of a component. There is no specification for the API that you listed at this time, meaning that youre program cannot be run directly. Instead you'll need to run <code>wasm-tools component new</code> to produce a component which can then be run inside of Wasmtime.</p>\n</blockquote>",
        "id": 402014427,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699976938
    },
    {
        "content": "<p>kellytk <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536#issuecomment-1810559410\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>Thank you for such a prompt reply. The code I'm attempting to run is located at <a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/crates/test-programs/src/bin/preview2_ip_name_lookup.rs\">https://github.com/bytecodealliance/wasmtime/blob/main/crates/test-programs/src/bin/preview2_ip_name_lookup.rs</a>. Is the workflow for using <code>wasm-tools</code> through to running the program documented somewhere? I would think code within the <code>wasmtime</code> repo would all be easily runnable.</p>\n</blockquote>",
        "id": 402018372,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699977900
    },
    {
        "content": "<p>kellytk <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536#issuecomment-1810705479\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>I don't know if this is what you're referring to, however <code>wasm-tools component new preview2_ip_name_lookup.wasm -o out.wasm</code> (from <a href=\"https://github.com/bytecodealliance/wasm-tools/tree/main/crates/wit-component#cli-usage\">https://github.com/bytecodealliance/wasm-tools/tree/main/crates/wit-component#cli-usage</a>) generates:</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">encode</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">from</span><span class=\"w\"> </span><span class=\"n\">module</span>\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">module</span><span class=\"w\"> </span><span class=\"n\">requires</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">interface</span><span class=\"w\"> </span><span class=\"n\">named</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasi_snapshot_preview1</span><span class=\"err\">`</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 402030354,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699981491
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536#issuecomment-1810788733\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>Unfortunately no it's not currently documented, but you'll need to pass an <code>--adapt</code> argument to the <code>wasm-tools</code> command which points to a preview1-to-preview2 adapter. Those can be found in <a href=\"https://github.com/bytecodealliance/wasmtime/releases/tag/v14.0.4\">Wasmtime releases</a> for example</p>\n</blockquote>",
        "id": 402036139,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699983683
    },
    {
        "content": "<p>kellytk <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536#issuecomment-1810827231\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>Ok, I'll do something to improve that.</p>\n<p>Is <code>wasm-tools component new preview2_ip_name_lookup.wasm -o out.wasm --adapt ~/wasi_snapshot_preview1.command.wasm</code> correct? If so, it runs with apparently no output.</p>\n</blockquote>",
        "id": 402038244,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699984451
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536#issuecomment-1810829587\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>That should produce an <code>out.wasm</code> component file. You can inspect it with <code>wasm-tools component wit out.wasm</code> for example.</p>\n</blockquote>",
        "id": 402038446,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699984545
    },
    {
        "content": "<p>kellytk <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536#issuecomment-1810851398\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>Haha, right, pardon me.</p>\n<p>$ wasm-tools component wit out.wasm</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">root</span>:<span class=\"nc\">component</span><span class=\"p\">;</span>\n\n<span class=\"n\">world</span><span class=\"w\"> </span><span class=\"n\">root</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">io</span><span class=\"o\">/</span><span class=\"n\">poll</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">11</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">clocks</span><span class=\"o\">/</span><span class=\"n\">monotonic</span><span class=\"o\">-</span><span class=\"n\">clock</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">11</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">sockets</span><span class=\"o\">/</span><span class=\"n\">network</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">11</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">sockets</span><span class=\"o\">/</span><span class=\"n\">instance</span><span class=\"o\">-</span><span class=\"n\">network</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">11</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">sockets</span><span class=\"o\">/</span><span class=\"n\">ip</span><span class=\"o\">-</span><span class=\"n\">name</span><span class=\"o\">-</span><span class=\"n\">lookup</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">11</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">io</span><span class=\"o\">/</span><span class=\"n\">streams</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">filesystem</span><span class=\"o\">/</span><span class=\"n\">types</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">filesystem</span><span class=\"o\">/</span><span class=\"n\">preopens</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">sockets</span><span class=\"o\">/</span><span class=\"n\">tcp</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">cli</span><span class=\"o\">/</span><span class=\"n\">environment</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">cli</span><span class=\"o\">/</span><span class=\"n\">exit</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">cli</span><span class=\"o\">/</span><span class=\"n\">stdin</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">cli</span><span class=\"o\">/</span><span class=\"n\">stdout</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">cli</span><span class=\"o\">/</span><span class=\"n\">stderr</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">cli</span><span class=\"o\">/</span><span class=\"n\">terminal</span><span class=\"o\">-</span><span class=\"n\">input</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">cli</span><span class=\"o\">/</span><span class=\"n\">terminal</span><span class=\"o\">-</span><span class=\"n\">output</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">cli</span><span class=\"o\">/</span><span class=\"n\">terminal</span><span class=\"o\">-</span><span class=\"n\">stdin</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">cli</span><span class=\"o\">/</span><span class=\"n\">terminal</span><span class=\"o\">-</span><span class=\"n\">stdout</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"w\">  </span><span class=\"n\">import</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">cli</span><span class=\"o\">/</span><span class=\"n\">terminal</span><span class=\"o\">-</span><span class=\"n\">stderr</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n\n<span class=\"w\">  </span><span class=\"n\">export</span><span class=\"w\"> </span><span class=\"n\">wasi</span>:<span class=\"nc\">cli</span><span class=\"o\">/</span><span class=\"n\">run</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>$ wasmtime out.wasm</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span>: <span class=\"nc\">cannot</span><span class=\"w\"> </span><span class=\"n\">execute</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"w\"> </span><span class=\"n\">without</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"o\">--</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"n\">component</span><span class=\"o\">-</span><span class=\"n\">model</span><span class=\"err\">`</span>\n</code></pre></div>\n<p>$ wasmtime --wasm component-model out.wasm</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">out</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"err\">`</span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">import</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">wasi</span>:<span class=\"nc\">io</span><span class=\"o\">/</span><span class=\"n\">streams</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"o\">-</span><span class=\"mi\">18</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">wrong</span><span class=\"w\"> </span><span class=\"k\">type</span>\n    <span class=\"mi\">1</span>: <span class=\"nc\">instance</span><span class=\"w\"> </span><span class=\"n\">export</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">output</span><span class=\"o\">-</span><span class=\"n\">stream</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">wrong</span><span class=\"w\"> </span><span class=\"k\">type</span>\n    <span class=\"mi\">2</span>: <span class=\"nc\">expected</span><span class=\"w\"> </span><span class=\"n\">resource</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"n\">nothing</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 402040590,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699985294
    },
    {
        "content": "<p>pchickey <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536#issuecomment-1810910803\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>If you are using wasmtime-cli from source, it has a newer version of those interfaces than the ones you have built with that adapter, so make sure you use a wasmtime-cli from the same release as the adapter, or build the adapter from source.</p>\n<p>These problems will go away once we ship preview 2 and have stable versions across wasmtime releases, we are almost there.</p>\n</blockquote>",
        "id": 402045063,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699986961
    },
    {
        "content": "<p>pchickey edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536#issuecomment-1810910803\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>If you are using wasmtime-cli from source, it has a newer version of those interfaces than the ones you have built with that adapter, so make sure you use a wasmtime-cli from the same release as the adapter, or build the adapter from source.</p>\n<p>These problems will go away once we ship preview 2 and have stable interface versions across wasmtime releases, we are almost there.</p>\n</blockquote>",
        "id": 402045119,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699986968
    },
    {
        "content": "<p>kellytk <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536#issuecomment-1810931173\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>Thank you both for enduring the overhead while the ecosystem is so green.</p>\n<p>Is the process for building adapters from source documented? I have the wasmtime repo cloned and have built wasmtime from it.</p>\n<blockquote>\n<p>These problems will go away once we ship preview 2 and have stable interface versions across wasmtime releases, we are almost there.</p>\n</blockquote>\n<p>Is an up-to-date schedule for such milestones published?</p>\n</blockquote>",
        "id": 402046628,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699987473
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536#issuecomment-1810953825\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>We're working on getting all these things documented but one thing I'll point out is that when everything is in flux there's not always great documentation. I'd recommend reading a bit into how things work in this repository while we're working on stabilizing everything. The source-of-truth for example about building the adapter is our GitHub Actions configuration which would point you to <a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/ci/build-wasi-preview1-component-adapter.sh\">this script</a>.</p>\n<p>Additionally for schedules and milestones and such we do not have a concrete set of documentation to point you towards at this time. Much of this depends on the stabilization of WASI itself which is moving through the standards process. It's intended that by the end of the year WASI has stabilized.</p>\n</blockquote>",
        "id": 402048011,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699987958
    },
    {
        "content": "<p>alexcrichton edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536#issuecomment-1810953825\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>We're working on getting all these things documented but one thing I'll point out is that when everything is in flux there's not always great documentation. I'd recommend reading a bit into how things work in this repository while we're working on stabilizing everything. The source-of-truth for example about building the adapter is our GitHub Actions configuration which would point you to <a href=\"https://github.com/bytecodealliance/wasmtime/blob/main/ci/build-wasi-preview1-component-adapter.sh\">this script</a>.</p>\n<p>Additionally for schedules and milestones and such we do not have a concrete set of documentation to point you towards at this time. Much of this depends on the stabilization of WASI itself which is moving through the standards process. It's intended that by the end of the year WASI has a more stable 0.2.0 release.</p>\n</blockquote>",
        "id": 402048120,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699987988
    },
    {
        "content": "<p>kellytk closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7536\">issue #7536</a>:</p>\n<blockquote>\n<p>$ git log<br>\ncommit 321294a5d21f7006a959ba378ebd32782a76d3d2<br>\n...</p>\n<p>$ wasmtime --version<br>\nwasmtime-cli 16.0.0</p>\n<p>crates/test-programs$ cargo build --target=wasm32-wasi</p>\n<p>$ wasmtime preview2_ip_name_lookup.wasm</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">preview2_ip_name_lookup</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"err\">`</span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">instantiate</span><span class=\"w\"> </span><span class=\"s\">\"preview2_ip_name_lookup.wasm\"</span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"nc\">unknown</span><span class=\"w\"> </span><span class=\"n\">import</span>: <span class=\"err\">`</span><span class=\"n\">wasi</span>:<span class=\"nc\">sockets</span><span class=\"o\">/</span><span class=\"n\">network</span><span class=\"o\">@</span><span class=\"mf\">0.2.0</span><span class=\"o\">-</span><span class=\"n\">rc</span><span class=\"o\">-</span><span class=\"mi\">2023</span><span class=\"o\">-</span><span class=\"mi\">11</span><span class=\"o\">-</span><span class=\"mi\">10</span>::<span class=\"p\">[</span><span class=\"n\">resource</span><span class=\"o\">-</span><span class=\"nb\">drop</span><span class=\"p\">]</span><span class=\"n\">network</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">has</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">been</span><span class=\"w\"> </span><span class=\"n\">defined</span>\n</code></pre></div>\n<p>How can this error be resolved?</p>\n</blockquote>",
        "id": 402049344,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1699988334
    }
]