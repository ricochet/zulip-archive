[
    {
        "content": "<p>elliottt opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>:</p>\n<blockquote>\n<p>All backends currently assume that <code>isplit</code> and <code>iconcat</code> only work for splitting <code>i128</code> values, or concatenating two <code>i64</code> values to make an <code>i128</code> value. This PR changes the instruction definition to reflect that assumption.<br>\n&lt;!-- </p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 343179908,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679332535
    },
    {
        "content": "<p><strong>elliottt</strong> has marked <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> as ready for review.</p>",
        "id": 343180080,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679332571
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>.</p>",
        "id": 343181811,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679333004
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>.</p>",
        "id": 343182088,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679333065
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>.</p>",
        "id": 343182165,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679333085
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>.</p>",
        "id": 343185714,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679333981
    },
    {
        "content": "<p>elliottt edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>:</p>\n<blockquote>\n<p>All backends currently assume that <code>isplit</code> and <code>iconcat</code> only work for splitting <code>i128</code> values, or concatenating two <code>i64</code> values to make an <code>i128</code> value. This PR changes the instruction definition to reflect that assumption.</p>\n<p>This PR makes the <code>HalfWidth</code> and <code>DoubleWidth</code> constraints never constructed, but I think we should leave these two constructors marked <code>#[allow(unused)]</code> rather than remove them, as we might want to relax the constraints on <code>isplit</code> and <code>iconcat</code> in the future.<br>\n&lt;!-- </p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 343185973,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679334039
    },
    {
        "content": "<p>elliottt edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>:</p>\n<blockquote>\n<p>All backends currently assume that <code>isplit</code> and <code>iconcat</code> only work for splitting <code>i128</code> values, or concatenating two <code>i64</code> values to make an <code>i128</code> value. This PR changes the instruction definition to reflect that assumption.</p>\n<p>This PR makes the <code>HalfWidth</code> and <code>DoubleWidth</code> constraints never constructed as the uses of those constraints in the instruction DSL now produces singleton sets. However, I think we should leave these two constructors marked <code>#[allow(unused)]</code> rather than remove them, as we might want to relax the constraints on <code>isplit</code> and <code>iconcat</code> in the future.<br>\n&lt;!-- </p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 343187141,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679334369
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>.</p>",
        "id": 343190058,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679335143
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>.</p>",
        "id": 343227704,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679347013
    },
    {
        "content": "<p>elliottt edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>:</p>\n<blockquote>\n<p>All backends currently assume that <code>isplit</code> and <code>iconcat</code> only work for splitting <code>i128</code> values, or concatenating two <code>i64</code> values to make an <code>i128</code> value. The type constraints for bot indicate that they can work over vectors as well as other bit-width integers. This PR resolves part of this discrepancy by removing vector support from both <code>isplit</code> and <code>iconcat</code>.<br>\n&lt;!-- </p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 343227903,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679347103
    },
    {
        "content": "<p>elliottt edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>:</p>\n<blockquote>\n<p>All backends currently assume that <code>isplit</code> and <code>iconcat</code> only work for splitting <code>i128</code> values, or concatenating two <code>i64</code> values to make an <code>i128</code> value. The type constraints for both indicate that they can work over vectors as well as other bit-width integers. This PR resolves part of this discrepancy by removing vector support from both <code>isplit</code> and <code>iconcat</code>.<br>\n&lt;!-- </p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;<br>\n</p>\n</blockquote>",
        "id": 343238887,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679351674
    },
    {
        "content": "<p>jameysharp submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070#pullrequestreview-1349546165\">PR review</a>.</p>",
        "id": 343248538,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679356597
    },
    {
        "content": "<p>jameysharp created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070#discussion_r1142781177\">PR review comment</a>:</p>\n<blockquote>\n<p>The other place that <code>NarrowInt</code> is used is for <code>iconst</code>. I recently asked Chris about whether we should be making use of <code>iconst</code>'s documented ability to construct a vector, and he was surprised that it was documented that way. Perhaps we should just remove <code>simd_lanes</code> from the original definition of <code>NarrowInt</code> instead of shadowing it here?</p>\n</blockquote>",
        "id": 343248539,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679356597
    },
    {
        "content": "<p>elliottt submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070#pullrequestreview-1349556161\">PR review</a>.</p>",
        "id": 343250264,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679357581
    },
    {
        "content": "<p>elliottt created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070#discussion_r1142788306\">PR review comment</a>:</p>\n<blockquote>\n<p>Happy to make that change as well.</p>\n</blockquote>",
        "id": 343250266,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679357581
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>.</p>",
        "id": 343250384,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679357662
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>.</p>",
        "id": 343250469,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679357719
    },
    {
        "content": "<p>jameysharp submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070#pullrequestreview-1349570069\">PR review</a>.</p>",
        "id": 343252606,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679358974
    },
    {
        "content": "<p>jameysharp created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070#discussion_r1142798632\">PR review comment</a>:</p>\n<blockquote>\n<p>Apparently a couple of parser filetests use <code>iconst</code> with vector types, but since they're only testing the parser I don't think we should take that as a sign that this is actually used.</p>\n<p>In <code>rewrite.clif</code> I think you can just change it to an <code>iconst.i32</code>. Or possibly delete the test in question entirely, because I don't think it's testing anything related to what the file-header comment claims to be testing.</p>\n<p>In <code>tiny.clif</code> I guess the test is only supposed to check that the parser can parse lane indexes for <code>extractlane</code> and <code>insertlane</code>. Making <code>v0</code> be an <code>i32x4</code> parameter instead of the result of an <code>iconst</code> should do that just as well, I think.</p>\n</blockquote>",
        "id": 343252607,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679358974
    },
    {
        "content": "<p>elliottt updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a> from <code>trevor/restrict-isplit-iconcat</code> to <code>main</code>.</p>",
        "id": 343255205,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679360430
    },
    {
        "content": "<p>jameysharp submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070#pullrequestreview-1349590915\">PR review</a>.</p>",
        "id": 343257157,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679361584
    },
    {
        "content": "<p>elliottt merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6070\">PR #6070</a>.</p>",
        "id": 343259553,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1679363465
    }
]