[
    {
        "content": "<p>teapotd <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1112#issuecomment-599588387\" target=\"_blank\" title=\"https://github.com/bytecodealliance/wasmtime/issues/1112#issuecomment-599588387\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1112\" target=\"_blank\" title=\"https://github.com/bytecodealliance/wasmtime/issues/1112\">Issue #1112</a>:</p>\n<blockquote>\n<p>Hello, I'd like to work on this issue.</p>\n</blockquote>",
        "id": 190734973,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1584371266
    },
    {
        "content": "<p>teapotd <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1112#issuecomment-599625371\" target=\"_blank\" title=\"https://github.com/bytecodealliance/wasmtime/issues/1112#issuecomment-599625371\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1112\" target=\"_blank\" title=\"https://github.com/bytecodealliance/wasmtime/issues/1112\">Issue #1112</a>:</p>\n<blockquote>\n<p><a href=\"https://docs.rs/memmap/0.6.2/memmap/struct.MmapMut.html#method.make_exec\" target=\"_blank\" title=\"https://docs.rs/memmap/0.6.2/memmap/struct.MmapMut.html#method.make_exec\"><code>make_exec</code></a> consumes <a href=\"https://docs.rs/memmap/0.6.2/memmap/struct.MmapMut.html\" target=\"_blank\" title=\"https://docs.rs/memmap/0.6.2/memmap/struct.MmapMut.html\"><code>MmapMut</code></a> and returns immutable <a href=\"https://docs.rs/memmap/0.6.2/memmap/struct.Mmap.html\" target=\"_blank\" title=\"https://docs.rs/memmap/0.6.2/memmap/struct.Mmap.html\"><code>Mmap</code></a>. Current implementation in simplejit always stores <code>Option&lt;MmapMut&gt;</code> in <code>PtrLen</code> and changes underlying memory to read-execute using <code>region::protect</code>:</p>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/blob/e2f6c0805231daa0524d7c770d11ced6dfe961a2/cranelift/simplejit/src/memory.rs#L19-L26\" target=\"_blank\" title=\"https://github.com/bytecodealliance/wasmtime/blob/e2f6c0805231daa0524d7c770d11ced6dfe961a2/cranelift/simplejit/src/memory.rs#L19-L26\">https://github.com/bytecodealliance/wasmtime/blob/e2f6c0805231daa0524d7c770d11ced6dfe961a2/cranelift/simplejit/src/memory.rs#L19-L26</a></p>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/blob/e2f6c0805231daa0524d7c770d11ced6dfe961a2/cranelift/simplejit/src/memory.rs#L177-L187\" target=\"_blank\" title=\"https://github.com/bytecodealliance/wasmtime/blob/e2f6c0805231daa0524d7c770d11ced6dfe961a2/cranelift/simplejit/src/memory.rs#L177-L187\">https://github.com/bytecodealliance/wasmtime/blob/e2f6c0805231daa0524d7c770d11ced6dfe961a2/cranelift/simplejit/src/memory.rs#L177-L187</a></p>\n<p>In order to make change to <code>make_exec</code> meaningful we need to store <code>Mmap</code> or <code>MmapMut</code> accordingly. Perhaps we should split <code>PtrLen</code> into <code>PtrLen</code> and <code>PtrLenMut</code>? Also mmap is used only if <code>selinux-fix</code> feature is enabled, so the remaining <code>region::protect</code>'s have to stay. I'm not sure if we should make that change, I don't see much benefits.</p>\n</blockquote>",
        "id": 190744694,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1584375271
    }
]