[
    {
        "content": "<p><a href=\"https://github.com/f52985\">f52985</a> added the bug label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8067\">Issue #8067</a>.</p>",
        "id": 425460609,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1709881846
    },
    {
        "content": "<p>f52985 opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8067\">issue #8067</a>:</p>\n<blockquote>\n<p>There seem to be a bug at parsing a <code>.wat</code> format file for this corner-case exmaple.</p>\n<h3>Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"WebAssembly\"><pre><span></span><code><span class=\"c1\">;; sample.wat</span>\n<span class=\"p\">(</span><span class=\"k\">module</span>\n  <span class=\"p\">(</span><span class=\"k\">data</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n</code></pre></div>\n<h3>Steps to Reproduce</h3>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>$<span class=\"w\"> </span>wasmtime<span class=\"w\"> </span>sample.wat\n</code></pre></div>\n<h3>Expected Results</h3>\n<p>Parsed normally, and <code>wasmtime</code> terminates normally (confirmed by the reference interpreter and <a href=\"https://webassembly.github.io/wabt/demo/wat2wasm/\">wat2wasm</a>)</p>\n<h3>Actual Results</h3>\n<p>Parsing fail:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span>: <span class=\"nc\">expected</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"p\">(</span><span class=\"err\">`</span>\n<span class=\"w\">     </span><span class=\"o\">-</span>-&gt; <span class=\"nc\">sample</span><span class=\"p\">.</span><span class=\"n\">wat</span>:<span class=\"mi\">2</span>:<span class=\"mi\">8</span>\n<span class=\"w\">      </span><span class=\"o\">|</span>\n<span class=\"w\">    </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">   </span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"w\">      </span><span class=\"o\">|</span><span class=\"w\">        </span><span class=\"o\">^</span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: wasmtime-cli 18.0.0 (446a7f5e0 2024-01-08)</p>\n<p>Operating system: macOS 12.6.3</p>\n<p>Architecture: x86_64</p>\n<h3>Extra Info</h3>\n<p>The following test case is parsed normally:</p>\n<div class=\"codehilite\" data-code-language=\"WebAssembly\"><pre><span></span><code><span class=\"c1\">;; sample.wat</span>\n<span class=\"p\">(</span><span class=\"k\">module</span>\n  <span class=\"p\">(</span><span class=\"k\">data</span> <span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n</code></pre></div>\n</blockquote>",
        "id": 425460611,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1709881847
    },
    {
        "content": "<p>sunfishcode transferred <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8067\">issue #8067</a>:</p>\n<blockquote>\n<p>There seem to be a bug at parsing a <code>.wat</code> format file for this corner-case exmaple.</p>\n<h3>Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"WebAssembly\"><pre><span></span><code><span class=\"c1\">;; sample.wat</span>\n<span class=\"p\">(</span><span class=\"k\">module</span>\n  <span class=\"p\">(</span><span class=\"k\">data</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n</code></pre></div>\n<h3>Steps to Reproduce</h3>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>$<span class=\"w\"> </span>wasmtime<span class=\"w\"> </span>sample.wat\n</code></pre></div>\n<h3>Expected Results</h3>\n<p>Parsed normally, and <code>wasmtime</code> terminates normally (confirmed by the reference interpreter and <a href=\"https://webassembly.github.io/wabt/demo/wat2wasm/\">wat2wasm</a>)</p>\n<h3>Actual Results</h3>\n<p>Parsing fail:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span>: <span class=\"nc\">expected</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"p\">(</span><span class=\"err\">`</span>\n<span class=\"w\">     </span><span class=\"o\">-</span>-&gt; <span class=\"nc\">sample</span><span class=\"p\">.</span><span class=\"n\">wat</span>:<span class=\"mi\">2</span>:<span class=\"mi\">8</span>\n<span class=\"w\">      </span><span class=\"o\">|</span>\n<span class=\"w\">    </span><span class=\"mi\">2</span><span class=\"w\"> </span><span class=\"o\">|</span><span class=\"w\">   </span><span class=\"p\">(</span><span class=\"n\">data</span><span class=\"p\">)</span>\n<span class=\"w\">      </span><span class=\"o\">|</span><span class=\"w\">        </span><span class=\"o\">^</span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: wasmtime-cli 18.0.0 (446a7f5e0 2024-01-08)</p>\n<p>Operating system: macOS 12.6.3</p>\n<p>Architecture: x86_64</p>\n<h3>Extra Info</h3>\n<p>The following test case is parsed normally:</p>\n<div class=\"codehilite\" data-code-language=\"WebAssembly\"><pre><span></span><code><span class=\"c1\">;; sample.wat</span>\n<span class=\"p\">(</span><span class=\"k\">module</span>\n  <span class=\"p\">(</span><span class=\"k\">data</span> <span class=\"s2\">\"\"</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n</code></pre></div>\n</blockquote>",
        "id": 425511533,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1709901965
    }
]