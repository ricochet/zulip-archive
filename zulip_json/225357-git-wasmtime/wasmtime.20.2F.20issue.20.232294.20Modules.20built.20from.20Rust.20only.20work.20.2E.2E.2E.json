[
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2294#issuecomment-1118811718\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2294\">issue #2294</a>:</p>\n<blockquote>\n<p>I believe this is no longer emitted in Rust modules and additionally Wasmtime has various knobs to control the errors in this area around unknown exports, so I'm going to close this.</p>\n</blockquote>",
        "id": 281326046,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651769178
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2294\">issue #2294</a>:</p>\n<blockquote>\n<p>When I write a program in Rust and compile it to WASM, I cannot run it under <code>wasmtime</code> on Windows unless I passed the <code>--release</code> flag when I built it.  If I built the WASM module in debug mode, <code>wasmtime</code> gives the error \"command export '__rustc_debug_gdb_scripts_section__' is not a function\".  All other combinations of OS and build mode work: the error is specific to debug builds under Windows.</p>\n<h2>Steps to reproduce</h2>\n<ol>\n<li>Get hold of a Windows box.  Install Rust, the <code>wasm32-wasi</code> target and <code>wasmtime</code>.</li>\n<li><code>cargo new</code> a hello-world program.</li>\n<li><code>cd</code> into the hello-world directory and <code>cargo build --target wasm32-wasi</code></li>\n<li>Run <code>wasmtime run .\\target\\wasm32-wasi\\debug\\hello-world.wasm</code></li>\n</ol>\n<h2>Results</h2>\n<p>Expected: Should print <code>Hello, world!</code></p>\n<p>Actual:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"p\">.</span><span class=\"err\">\\</span><span class=\"n\">target</span><span class=\"err\">\\</span><span class=\"n\">wasm32</span><span class=\"o\">-</span><span class=\"n\">wasi</span><span class=\"err\">\\</span><span class=\"n\">debug</span><span class=\"err\">\\</span><span class=\"n\">hello</span><span class=\"o\">-</span><span class=\"n\">world</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"err\">`</span><span class=\"w\"></span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">instantiate</span><span class=\"w\"> </span><span class=\"s\">\".</span><span class=\"se\">\\\\</span><span class=\"s\">target</span><span class=\"se\">\\\\</span><span class=\"s\">wasm32-wasi</span><span class=\"se\">\\\\</span><span class=\"s\">debug</span><span class=\"se\">\\\\</span><span class=\"s\">hello-world.wasm\"</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"nc\">command</span><span class=\"w\"> </span><span class=\"n\">export</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"nb\">__</span><span class=\"na\">rustc_debug_gdb_scripts_section__</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"></span>\n</code></pre></div>\n<h2>Environment</h2>\n<p>Windows 10, x64<br>\nRust 1.40.0<br>\nWasmtime 0.20.0</p>\n<h2>Additional information</h2>\n<ul>\n<li>If I <code>cargo build ... --release</code> and use wasmtime to run the release build, it works.</li>\n<li>If I run the debug build on Linux (WSL Ubuntu), it works.</li>\n</ul>\n</blockquote>",
        "id": 281326047,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1651769178
    }
]