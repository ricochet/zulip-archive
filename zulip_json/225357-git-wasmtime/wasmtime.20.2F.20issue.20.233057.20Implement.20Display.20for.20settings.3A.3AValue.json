[
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3057#issuecomment-873401423\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3057\">issue #3057</a>:</p>\n<blockquote>\n<p>With this writing <code>TargetIsa</code> to a clif file can be done using:</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">flag</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">isa</span><span class=\"p\">.</span><span class=\"n\">flags</span><span class=\"p\">().</span><span class=\"n\">iter</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"fm\">writeln!</span><span class=\"p\">(</span><span class=\"n\">file</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"set {}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">flag</span><span class=\"p\">)</span><span class=\"o\">?</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"c1\">// FIXME hide default flags</span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"fm\">write!</span><span class=\"p\">(</span><span class=\"n\">file</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"target {}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">isa</span><span class=\"p\">.</span><span class=\"n\">triple</span><span class=\"p\">().</span><span class=\"n\">architecture</span><span class=\"p\">.</span><span class=\"n\">to_string</span><span class=\"p\">())</span><span class=\"o\">?</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">isa_flag</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">isa</span><span class=\"p\">.</span><span class=\"n\">isa_flags</span><span class=\"p\">().</span><span class=\"n\">iter</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"fm\">write!</span><span class=\"p\">(</span><span class=\"n\">file</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\" {}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">isa_flag</span><span class=\"p\">)</span><span class=\"o\">?</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"fm\">writeln!</span><span class=\"p\">(</span><span class=\"n\">file</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"</span><span class=\"se\">\\n</span><span class=\"s\">\"</span><span class=\"p\">)</span><span class=\"o\">?</span><span class=\"p\">;</span><span class=\"w\"></span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 244803207,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1625315897
    },
    {
        "content": "<p>bjorn3 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3057#issuecomment-873401423\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3057\">issue #3057</a>:</p>\n<blockquote>\n<p>With this writing <code>TargetIsa</code> to a clif file can be done using:</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">flag</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">isa</span><span class=\"p\">.</span><span class=\"n\">flags</span><span class=\"p\">().</span><span class=\"n\">iter</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"fm\">writeln!</span><span class=\"p\">(</span><span class=\"n\">file</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"set {}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">flag</span><span class=\"p\">)</span><span class=\"o\">?</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"fm\">write!</span><span class=\"p\">(</span><span class=\"n\">file</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"target {}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">isa</span><span class=\"p\">.</span><span class=\"n\">triple</span><span class=\"p\">().</span><span class=\"n\">architecture</span><span class=\"p\">.</span><span class=\"n\">to_string</span><span class=\"p\">())</span><span class=\"o\">?</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">isa_flag</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">isa</span><span class=\"p\">.</span><span class=\"n\">isa_flags</span><span class=\"p\">().</span><span class=\"n\">iter</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"fm\">write!</span><span class=\"p\">(</span><span class=\"n\">file</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\" {}\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">isa_flag</span><span class=\"p\">)</span><span class=\"o\">?</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"fm\">writeln!</span><span class=\"p\">(</span><span class=\"n\">file</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"</span><span class=\"se\">\\n</span><span class=\"s\">\"</span><span class=\"p\">)</span><span class=\"o\">?</span><span class=\"p\">;</span><span class=\"w\"></span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 244803218,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1625315926
    }
]