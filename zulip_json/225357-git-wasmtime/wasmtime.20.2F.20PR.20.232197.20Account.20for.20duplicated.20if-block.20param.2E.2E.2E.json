[
    {
        "content": "<p>cfallin opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197\">PR #2197</a> from <code>fix-if-params</code> to <code>main</code>:</p>\n<blockquote>\n<p>This is a close analogue to @bnjbvr 's fix in commit 518b7a7e. Similar to<br>\nthat fix, this PR fixes a bug in which the Wasm translator could<br>\nmisalign its value stack and either mistranslate or cause a panic with a<br>\ntype-checking error.</p>\n<p>Found via fuzzing by :decoder in SpiderMonkey (bug 1664453).</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;</p>\n</blockquote>",
        "id": 209840535,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1599861696
    },
    {
        "content": "<p><strong>cfallin</strong> requested <a href=\"https://github.com/fitzgen\">fitzgen</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197\">PR #2197</a>.</p>",
        "id": 209840537,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1599861696
    },
    {
        "content": "<p>bjorn3 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#pullrequestreview-487150732\">PR Review</a>.</p>",
        "id": 209841226,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1599862160
    },
    {
        "content": "<p>bjorn3 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#pullrequestreview-487150732\">PR Review</a>.</p>",
        "id": 209841227,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1599862160
    },
    {
        "content": "<p>bjorn3 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#discussion_r487312344\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Are all those duplicate <code>unreachable</code> necessary to reproduce the bug?</p>\n</blockquote>",
        "id": 209841228,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1599862160
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197\">PR #2197</a> from <code>fix-if-params</code> to <code>main</code>:</p>\n<blockquote>\n<p>This is a close analogue to @bnjbvr 's fix in commit 518b7a7e. Similar to<br>\nthat fix, this PR fixes a bug in which the Wasm translator could<br>\nmisalign its value stack and either mistranslate or cause a panic with a<br>\ntype-checking error.</p>\n<p>Found via fuzzing by :decoder in SpiderMonkey (bug 1664453).</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;</p>\n</blockquote>",
        "id": 209844651,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1599864851
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#pullrequestreview-487165318\">PR Review</a>.</p>",
        "id": 209844752,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1599864968
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#discussion_r487324629\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Actually, I can't seem to get it to reproduce with <code>clif-util</code> at all, now that I play with this -- the panic only manifests in the SpiderMonkey embedding (likely due to some subtle difference in the FuncEnvironment, perhaps? The error that occurs is an I32/I64 mismatch so it's not guaranteed to occur...). I've removed the test case, but I can work out a better way to test this if needed.</p>\n</blockquote>",
        "id": 209844753,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1599864968
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#pullrequestreview-487899761\">PR Review</a>.</p>",
        "id": 210022732,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1600097751
    },
    {
        "content": "<p>bnjbvr submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#pullrequestreview-487989216\">PR Review</a>.</p>",
        "id": 210036510,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1600104169
    },
    {
        "content": "<p>bnjbvr created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#discussion_r488100380\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Random drive by, since this is the duplication might have a small code smell: would it make sense to add an helper on the ControlStackFrame struct itself, so we could do <code>frame.truncate_to_original_size(&amp;mut stack)</code>, and hide the details of the number of parameters? Then the <code>original_stack_size</code> helper would be redundant, if I remember correctly...</p>\n</blockquote>",
        "id": 210036511,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1600104169
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197\">PR #2197</a> from <code>fix-if-params</code> to <code>main</code>:</p>\n<blockquote>\n<p>This is a close analogue to @bnjbvr 's fix in commit 518b7a7e. Similar to<br>\nthat fix, this PR fixes a bug in which the Wasm translator could<br>\nmisalign its value stack and either mistranslate or cause a panic with a<br>\ntype-checking error.</p>\n<p>Found via fuzzing by :decoder in SpiderMonkey (bug 1664453).</p>\n<p>&lt;!--</p>\n<p>Please ensure that the following steps are all taken care of before submitting<br>\nthe PR.</p>\n<ul>\n<li>\n<p>[ ] This has been discussed in issue #..., or if not, please tell us why<br>\n  here.</p>\n</li>\n<li>\n<p>[ ] A short description of what this does, why it is needed; if the<br>\n  description becomes long, the matter should probably be discussed in an issue<br>\n  first.</p>\n</li>\n<li>\n<p>[ ] This PR contains test cases, if meaningful.</p>\n</li>\n<li>[ ] A reviewer from the core maintainer team has been assigned for this PR.<br>\n  If you don't know who could review this, please indicate so. The list of<br>\n  suggested reviewers on the right can help you.</li>\n</ul>\n<p>Please ensure all communication adheres to the <a href=\"https://github.com/bytecodealliance/wasmtime/blob/master/CODE_OF_CONDUCT.md\">code of\nconduct</a>.<br>\n--&gt;</p>\n</blockquote>",
        "id": 210076873,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1600127657
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#pullrequestreview-488231013\">PR Review</a>.</p>",
        "id": 210076901,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1600127677
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#discussion_r488300900\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Good call, thanks! Factored out into a helper.</p>\n</blockquote>",
        "id": 210076902,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1600127677
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#pullrequestreview-488231316\">PR Review</a>.</p>",
        "id": 210076937,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1600127729
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#discussion_r488301193\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I've updated the PR to include a repro case that I constructed starting from another (<code>if-unreachable-else-params.wat</code>), so this is tested now independently of SpiderMonkey.</p>\n</blockquote>",
        "id": 210076938,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1600127729
    },
    {
        "content": "<p>cfallin merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197\">PR #2197</a>.</p>",
        "id": 210079733,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1600130388
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#pullrequestreview-488253001\">PR Review</a>.</p>",
        "id": 210081113,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1600131848
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2197#discussion_r488320981\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Good call indeed, much cleaner now!</p>\n</blockquote>",
        "id": 210081114,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1600131848
    }
]