[
    {
        "content": "<p>cfallin closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/1080\">Issue #1080</a>:</p>\n<blockquote>\n<p>Compile</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"c1\">// run-pass</span>\n\n<span class=\"c1\">// aux-build:xcrate-reachable.rs</span>\n\n<span class=\"cp\">#![feature(generator_trait)]</span><span class=\"w\"></span>\n\n<span class=\"k\">extern</span><span class=\"w\"> </span><span class=\"k\">crate</span><span class=\"w\"> </span><span class=\"n\">xcrate_reachable</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">foo</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"k\">use</span><span class=\"w\"> </span><span class=\"n\">std</span>::<span class=\"n\">ops</span>::<span class=\"n\">Generator</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"k\">use</span><span class=\"w\"> </span><span class=\"n\">std</span>::<span class=\"n\">pin</span>::<span class=\"n\">Pin</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"k\">fn</span> <span class=\"nf\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">Pin</span>::<span class=\"n\">new</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"n\">foo</span>::<span class=\"n\">foo</span><span class=\"p\">()).</span><span class=\"n\">resume</span><span class=\"p\">();</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>using rustc_codegen_cranelift with <code>opt_level=best</code> and you get:</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"o\">----</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">run</span><span class=\"o\">-</span><span class=\"n\">pass</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"o\">-</span><span class=\"n\">pass</span><span class=\"o\">/</span><span class=\"n\">generator</span><span class=\"o\">/</span><span class=\"n\">xcrate</span><span class=\"o\">-</span><span class=\"n\">reachable</span><span class=\"p\">.</span><span class=\"n\">rs</span><span class=\"w\"> </span><span class=\"n\">stdout</span><span class=\"w\"> </span><span class=\"o\">----</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">test</span><span class=\"w\"> </span><span class=\"n\">compilation</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"w\"> </span><span class=\"n\">although</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"n\">shouldn</span><span class=\"o\">'</span><span class=\"na\">t</span><span class=\"o\">!</span><span class=\"w\"></span>\n<span class=\"n\">status</span>: <span class=\"nc\">exit</span><span class=\"w\"> </span><span class=\"n\">code</span>: <span class=\"mi\">101</span><span class=\"w\"></span>\n<span class=\"n\">command</span>: <span class=\"s\">\"/home/bjorn/.rustup/toolchains/nightly-x86_64-unknown-linux-gnu/bin/rustc\"</span><span class=\"w\"> </span><span class=\"s\">\"/home/bjorn/Documenten/rustc_codegen_cranelift/rust/src/test/run-pass/generator/xcrate-reachable.rs\"</span><span class=\"w\"> </span><span class=\"s\">\"-Zthreads=1\"</span><span class=\"w\"> </span><span class=\"s\">\"--target=x86_64-unknown-linux-gnu\"</span><span class=\"w\"> </span><span class=\"s\">\"--error-format\"</span><span class=\"w\"> </span><span class=\"s\">\"json\"</span><span class=\"w\"> </span><span class=\"s\">\"-Zui-testing\"</span><span class=\"w\"> </span><span class=\"s\">\"-o\"</span><span class=\"w\"> </span><span class=\"s\">\"/home/bjorn/Documenten/rustc_codegen_cranelift/rust/build/x86_64-unknown-linux-gnu/test/run-pass/generator/xcrate-reachable/a\"</span><span class=\"w\"> </span><span class=\"s\">\"-Crpath\"</span><span class=\"w\"> </span><span class=\"s\">\"-O\"</span><span class=\"w\"> </span><span class=\"s\">\"-Zunstable-options\"</span><span class=\"w\"> </span><span class=\"s\">\"-Zcodegen-backend=/home/bjorn/Documenten/rustc_codegen_cranelift/rust/../target/debug/librustc_codegen_cranelift.so\"</span><span class=\"w\"> </span><span class=\"s\">\"--sysroot\"</span><span class=\"w\"> </span><span class=\"s\">\"/home/bjorn/Documenten/rustc_codegen_cranelift/rust/../build_sysroot/sysroot\"</span><span class=\"w\"> </span><span class=\"s\">\"-Cpanic=abort\"</span><span class=\"w\"> </span><span class=\"s\">\"-Lnative=/home/bjorn/Documenten/rustc_codegen_cranelift/rust/build/x86_64-unknown-linux-gnu/native/rust-test-helpers\"</span><span class=\"w\"> </span><span class=\"s\">\"-L\"</span><span class=\"w\"> </span><span class=\"s\">\"/home/bjorn/Documenten/rustc_codegen_cranelift/rust/build/x86_64-unknown-linux-gnu/test/run-pass/generator/xcrate-reachable/auxiliary\"</span><span class=\"w\"></span>\n<span class=\"n\">stdout</span>:\n<span class=\"o\">------------------------------------------</span><span class=\"w\"></span>\n<span class=\"n\">Instance</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"n\">def</span>: <span class=\"nc\">Item</span><span class=\"p\">(</span><span class=\"n\">DefId</span><span class=\"p\">(</span><span class=\"mi\">9</span><span class=\"o\">/</span><span class=\"mi\">1</span>:<span class=\"mi\">10</span><span class=\"w\"> </span><span class=\"o\">~</span><span class=\"w\"> </span><span class=\"n\">xcrate_reachable</span><span class=\"p\">[</span><span class=\"mi\">8787</span><span class=\"p\">]</span>::<span class=\"n\">foo</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">]</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}[</span><span class=\"mi\">0</span><span class=\"p\">])),</span><span class=\"w\"> </span><span class=\"n\">substs</span>: <span class=\"p\">[(),</span><span class=\"w\"> </span><span class=\"kt\">u32</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"p\">{()}]</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"n\">_ZN16xcrate_reachable3foo28_</span><span class=\"cp\">$u7b$$u7b$closure$u7d$$u7d$</span><span class=\"mi\">17</span><span class=\"n\">he526fe6105ca50ffE</span><span class=\"w\"></span>\n\n<span class=\"o\">------------------------------------------</span><span class=\"w\"></span>\n<span class=\"n\">stderr</span>:\n<span class=\"o\">------------------------------------------</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">rustc</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">assertion</span><span class=\"w\"> </span><span class=\"n\">failed</span>: <span class=\"o\">!</span><span class=\"bp\">self</span><span class=\"p\">.</span><span class=\"n\">opcode</span><span class=\"p\">().</span><span class=\"n\">is_branch</span><span class=\"p\">()</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">bjorn</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">git</span><span class=\"o\">/</span><span class=\"n\">checkouts</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">af8713b52459e6cd</span><span class=\"o\">/</span><span class=\"n\">cadf244</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">codegen</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">ir</span><span class=\"o\">/</span><span class=\"n\">instructions</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">255</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nc\">Some</span><span class=\"w\"> </span><span class=\"n\">details</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">omitted</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"n\">full</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">verbose</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n   <span class=\"mi\">0</span>: <span class=\"nc\">std</span>::<span class=\"n\">sys</span>::<span class=\"n\">unix</span>::<span class=\"n\">backtrace</span>::<span class=\"n\">tracing</span>::<span class=\"n\">imp</span>::<span class=\"n\">unwind_backtrace</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">libstd</span><span class=\"o\">/</span><span class=\"n\">sys</span><span class=\"o\">/</span><span class=\"n\">unix</span><span class=\"o\">/</span><span class=\"n\">backtrace</span><span class=\"o\">/</span><span class=\"n\">tracing</span><span class=\"o\">/</span><span class=\"n\">gcc_s</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">39</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">1</span>: <span class=\"nc\">std</span>::<span class=\"n\">sys_common</span>::<span class=\"n\">backtrace</span>::<span class=\"n\">_print</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">libstd</span><span class=\"o\">/</span><span class=\"n\">sys_common</span><span class=\"o\">/</span><span class=\"n\">backtrace</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">71</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">2</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">default_hook</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">libstd</span><span class=\"o\">/</span><span class=\"n\">sys_common</span><span class=\"o\">/</span><span class=\"n\">backtrace</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">59</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">libstd</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">197</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">3</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">default_hook</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">libstd</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">211</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">4</span>: <span class=\"nc\">rustc</span>::<span class=\"n\">util</span>::<span class=\"n\">common</span>::<span class=\"n\">panic_hook</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">5</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">rust_panic_with_hook</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">libstd</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">478</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">6</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"n\">begin_panic</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mf\">474e7</span><span class=\"n\">a6486758ea6fc761893b1a49cd9076fb0ab</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">libstd</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">408</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">7</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">licm</span>::<span class=\"n\">do_licm</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">bjorn</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">git</span><span class=\"o\">/</span><span class=\"n\">checkouts</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">af8713b52459e6cd</span><span class=\"o\">/</span><span class=\"n\">cadf244</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">codegen</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">ir</span><span class=\"o\">/</span><span class=\"n\">instructions</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">255</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">bjorn</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">git</span><span class=\"o\">/</span><span class=\"n\">checkouts</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">af8713b52459e6cd</span><span class=\"o\">/</span><span class=\"n\">cadf244</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">codegen</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">licm</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">140</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">bjorn</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">git</span><span class=\"o\">/</span><span class=\"n\">checkouts</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">af8713b52459e6cd</span><span class=\"o\">/</span><span class=\"n\">cadf244</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">codegen</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">licm</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">89</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">bjorn</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">git</span><span class=\"o\">/</span><span class=\"n\">checkouts</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">af8713b52459e6cd</span><span class=\"o\">/</span><span class=\"n\">cadf244</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">codegen</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">licm</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">41</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">8</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">context</span>::<span class=\"n\">Context</span>::<span class=\"n\">compile</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">bjorn</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">git</span><span class=\"o\">/</span><span class=\"n\">checkouts</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">af8713b52459e6cd</span><span class=\"o\">/</span><span class=\"n\">cadf244</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">codegen</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">context</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">286</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">bjorn</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">git</span><span class=\"o\">/</span><span class=\"n\">checkouts</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">af8713b52459e6cd</span><span class=\"o\">/</span><span class=\"n\">cadf244</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">codegen</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">context</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">136</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">9</span>: <span class=\"nc\">cranelift_module</span>::<span class=\"n\">module</span>::<span class=\"n\">Module</span><span class=\"o\">&lt;</span><span class=\"n\">B</span><span class=\"o\">&gt;</span>::<span class=\"n\">define_function</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">bjorn</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">git</span><span class=\"o\">/</span><span class=\"n\">checkouts</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">af8713b52459e6cd</span><span class=\"o\">/</span><span class=\"n\">cadf244</span><span class=\"o\">/</span><span class=\"n\">cranelift</span><span class=\"o\">-</span><span class=\"n\">module</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">module</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">517</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">10</span>: <span class=\"nc\">rustc_codegen_cranelift</span>::<span class=\"n\">base</span>::<span class=\"n\">trans_fn</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">base</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">202</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">11</span>: <span class=\"nc\">rustc_codegen_cranelift</span>::<span class=\"n\">base</span>::<span class=\"n\">trans_mono_item</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">base</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">46</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">12</span>: <span class=\"nc\">rustc_codegen_cranelift</span>::<span class=\"n\">codegen_mono_items</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">473</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">13</span>: <span class=\"nc\">rustc_codegen_cranelift</span>::<span class=\"n\">unimpl</span>::<span class=\"n\">try_unimpl</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">unimpl</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">28</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">14</span>: <span class=\"o\">&lt;</span><span class=\"n\">std</span>::<span class=\"n\">panic</span>::<span class=\"n\">AssertUnwindSafe</span><span class=\"o\">&lt;</span><span class=\"n\">F</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">core</span>::<span class=\"n\">ops</span>::<span class=\"n\">function</span>::<span class=\"nb\">FnOnce</span><span class=\"o\">&lt;</span><span class=\"p\">()</span><span class=\"o\">&gt;&gt;</span>::<span class=\"n\">call_once</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mf\">474e7</span><span class=\"n\">a6486758ea6fc761893b1a49cd9076fb0ab</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">libstd</span><span class=\"o\">/</span><span class=\"n\">panic</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">309</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">15</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"k\">try</span>::<span class=\"n\">do_call</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mf\">474e7</span><span class=\"n\">a6486758ea6fc761893b1a49cd9076fb0ab</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">libstd</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">293</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">16</span>: <span class=\"nc\">__rust_maybe_catch_panic</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">libpanic_unwind</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">87</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">17</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"k\">try</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mf\">474e7</span><span class=\"n\">a6486758ea6fc761893b1a49cd9076fb0ab</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">libstd</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">272</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">18</span>: <span class=\"nc\">std</span>::<span class=\"n\">panic</span>::<span class=\"n\">catch_unwind</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mf\">474e7</span><span class=\"n\">a6486758ea6fc761893b1a49cd9076fb0ab</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">libstd</span><span class=\"o\">/</span><span class=\"n\">panic</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">388</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">19</span>: <span class=\"nc\">rustc_codegen_cranelift</span>::<span class=\"n\">unimpl</span>::<span class=\"n\">try_unimpl</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">unimpl</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">28</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">20</span>: <span class=\"nc\">rustc_codegen_cranelift</span>::<span class=\"n\">codegen_mono_items</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">471</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">21</span>: <span class=\"nc\">rustc_codegen_cranelift</span>::<span class=\"n\">time</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">484</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">22</span>: <span class=\"nc\">rustc_codegen_cranelift</span>::<span class=\"n\">codegen_mono_items</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">469</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">23</span>: <span class=\"nc\">rustc_codegen_cranelift</span>::<span class=\"n\">codegen_cgus</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">456</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">24</span>: <span class=\"o\">&lt;</span><span class=\"n\">rustc_codegen_cranelift</span>::<span class=\"n\">CraneliftCodegenBackend</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rustc_codegen_utils</span>::<span class=\"n\">codegen_backend</span>::<span class=\"n\">CodegenBackend</span><span class=\"o\">&gt;</span>::<span class=\"n\">codegen_crate</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">318</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">25</span>: <span class=\"nc\">rustc</span>::<span class=\"n\">util</span>::<span class=\"n\">common</span>::<span class=\"n\">time</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">26</span>: <span class=\"nc\">rustc_interface</span>::<span class=\"n\">passes</span>::<span class=\"n\">start_codegen</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">27</span>: <span class=\"nc\">rustc</span>::<span class=\"n\">ty</span>::<span class=\"n\">context</span>::<span class=\"n\">tls</span>::<span class=\"n\">enter_global</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">28</span>: <span class=\"nc\">rustc_interface</span>::<span class=\"n\">passes</span>::<span class=\"n\">BoxedGlobalCtxt</span>::<span class=\"n\">access</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">29</span>: <span class=\"nc\">rustc_interface</span>::<span class=\"n\">passes</span>::<span class=\"n\">create_global_ctxt</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">30</span>: <span class=\"nc\">rustc_interface</span>::<span class=\"n\">passes</span>::<span class=\"n\">BoxedGlobalCtxt</span>::<span class=\"n\">enter</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">31</span>: <span class=\"nc\">rustc_interface</span>::<span class=\"n\">queries</span>::<span class=\"n\">Query</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span>::<span class=\"n\">compute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">32</span>: <span class=\"nc\">rustc_interface</span>::<span class=\"n\">queries</span>::<span class=\"o\">&lt;</span><span class=\"k\">impl</span><span class=\"w\"> </span><span class=\"n\">rustc_interface</span>::<span class=\"n\">interface</span>::<span class=\"n\">Compiler</span><span class=\"o\">&gt;</span>::<span class=\"n\">ongoing_codegen</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">33</span>: <span class=\"nc\">rustc_interface</span>::<span class=\"n\">interface</span>::<span class=\"n\">run_compiler_in_existing_thread_pool</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">34</span>: <span class=\"nc\">std</span>::<span class=\"n\">thread</span>::<span class=\"n\">local</span>::<span class=\"n\">LocalKey</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span>::<span class=\"n\">with</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">35</span>: <span class=\"nc\">scoped_tls</span>::<span class=\"n\">ScopedKey</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"o\">&gt;</span>::<span class=\"n\">set</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">36</span>: <span class=\"nc\">syntax</span>::<span class=\"n\">with_globals</span><span class=\"w\"></span>\n<span class=\"n\">query</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"n\">during</span><span class=\"w\"> </span><span class=\"n\">panic</span>:\n<span class=\"nc\">end</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">query</span><span class=\"w\"> </span><span class=\"n\">stack</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">internal</span><span class=\"w\"> </span><span class=\"n\">compiler</span><span class=\"w\"> </span><span class=\"n\">error</span>: <span class=\"nc\">unexpected</span><span class=\"w\"> </span><span class=\"n\">panic</span><span class=\"w\"></span>\n\n<span class=\"n\">note</span>: <span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">compiler</span><span class=\"w\"> </span><span class=\"n\">unexpectedly</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">bug</span><span class=\"p\">.</span><span class=\"w\"></span>\n\n<span class=\"n\">note</span>: <span class=\"nc\">we</span><span class=\"w\"> </span><span class=\"n\">would</span><span class=\"w\"> </span><span class=\"n\">appreciate</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">bug</span><span class=\"w\"> </span><span class=\"n\">report</span>: <span class=\"nc\">https</span>:<span class=\"c1\">//github.com/rust-lang/rust/blob/master/CONTRIBUTING.md#bug-reports</span>\n\n<span class=\"n\">note</span>: <span class=\"nc\">rustc</span><span class=\"w\"> </span><span class=\"mf\">1.35.0</span><span class=\"o\">-</span><span class=\"n\">nightly</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"mf\">474e7</span><span class=\"n\">a648</span><span class=\"w\"> </span><span class=\"mi\">2019</span><span class=\"o\">-</span><span class=\"mi\">04</span><span class=\"o\">-</span><span class=\"mi\">07</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"n\">running</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">x86_64</span><span class=\"o\">-</span><span class=\"n\">unknown</span><span class=\"o\">-</span><span class=\"n\">linux</span><span class=\"o\">-</span><span class=\"n\">gnu</span><span class=\"w\"></span>\n\n<span class=\"n\">note</span>: <span class=\"nc\">compiler</span><span class=\"w\"> </span><span class=\"n\">flags</span>: <span class=\"o\">-</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">threads</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">ui</span><span class=\"o\">-</span><span class=\"n\">testing</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">unstable</span><span class=\"o\">-</span><span class=\"n\">options</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">codegen</span><span class=\"o\">-</span><span class=\"n\">backend</span><span class=\"o\">=/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">bjorn</span><span class=\"o\">/</span><span class=\"n\">Documenten</span><span class=\"o\">/</span><span class=\"n\">rustc_codegen_cranelift</span><span class=\"o\">/</span><span class=\"n\">rust</span><span class=\"o\">/../</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">librustc_codegen_cranelift</span><span class=\"p\">.</span><span class=\"n\">so</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"n\">rpath</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">C</span><span class=\"w\"> </span><span class=\"n\">panic</span><span class=\"o\">=</span><span class=\"n\">abort</span><span class=\"w\"></span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 219296460,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1607487541
    }
]