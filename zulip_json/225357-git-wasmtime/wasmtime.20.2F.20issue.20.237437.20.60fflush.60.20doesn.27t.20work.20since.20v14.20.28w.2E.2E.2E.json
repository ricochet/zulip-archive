[
    {
        "content": "<p><a href=\"https://github.com/ktock\">ktock</a> added the bug label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7437\">Issue #7437</a>.</p>",
        "id": 399683177,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1698828898
    },
    {
        "content": "<p>ktock opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7437\">issue #7437</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"C\"><pre><span></span><code><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;stdio.h&gt;</span>\n<span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;unistd.h&gt;</span>\n\n<span class=\"kt\">int</span><span class=\"w\"> </span><span class=\"nf\">main</span><span class=\"p\">(){</span>\n<span class=\"w\">  </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"s\">\"&gt;\"</span><span class=\"p\">);</span>\n\n<span class=\"w\">  </span><span class=\"n\">fflush</span><span class=\"p\">(</span><span class=\"n\">stdout</span><span class=\"p\">);</span>\n<span class=\"w\">  </span><span class=\"kt\">char</span><span class=\"w\"> </span><span class=\"n\">buf</span><span class=\"p\">[</span><span class=\"mi\">10</span><span class=\"p\">];</span>\n<span class=\"w\">  </span><span class=\"n\">read</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">buf</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">);</span>\n<span class=\"w\">  </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"s\">\"Got %s</span><span class=\"se\">\\n</span><span class=\"s\">\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">buf</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>I built this using wasi-sdk 19.0.</p>\n<h3>Steps to Reproduce</h3>\n<ul>\n<li>Compile the C code above (I used wasi-sdk 19.0)</li>\n<li>Run it on wasmtime</li>\n</ul>\n<h3>Expected Results</h3>\n<p>fflush works and buffered string is printed.</p>\n<p>wasmtime v13 prints the string when <code>fflush</code> is called.</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">$ </span>wasmtime<span class=\"w\"> </span>--version\n<span class=\"go\">wasmtime-cli 13.0.1</span>\n<span class=\"gp\">$ </span>wasmtime<span class=\"w\"> </span>./a.out\n<span class=\"go\">&gt;hi</span>\n<span class=\"go\">Got hi</span>\n</code></pre></div>\n<h3>Actual Results</h3>\n<p>fflush doesn't work and buffered string isn't printed.</p>\n<p>wasmtime v14 doesn't print the string even if <code>fflush</code> is called.</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">$ </span>wasmtime<span class=\"w\"> </span>--version\n<span class=\"go\">wasmtime-cli 14.0.3</span>\n<span class=\"gp\">$ </span>wasmtime<span class=\"w\"> </span>./a.out\n</code></pre></div>\n<p>(nothing is printed)</p>\n<h3>Versions and Environment</h3>\n<p>wasmtime-cli 14.0.3</p>\n<p>Operating system: Linux  5.15.0-87-generic </p>\n<p>Architecture: x86_64</p>\n<h3>Extra Info</h3>\n</blockquote>",
        "id": 399683180,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1698828899
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7437#issuecomment-1789165131\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7437\">issue #7437</a>:</p>\n<blockquote>\n<p>Thanks for the report! This was an accidental regression from <a href=\"https://github.com/bytecodealliance/wasmtime/pull/6825\">https://github.com/bytecodealliance/wasmtime/pull/6825</a> and this should be fixed in #7441</p>\n</blockquote>",
        "id": 399749017,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1698852668
    },
    {
        "content": "<p>pchickey <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7437#issuecomment-1789294663\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7437\">issue #7437</a>:</p>\n<blockquote>\n<p>@ktock Thanks for this bug report, we did not have test coverage for this case but I will work on adding it.</p>\n</blockquote>",
        "id": 399761938,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1698857052
    },
    {
        "content": "<p>fitzgen closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7437\">issue #7437</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"C\"><pre><span></span><code><span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;stdio.h&gt;</span>\n<span class=\"cp\">#include</span><span class=\"w\"> </span><span class=\"cpf\">&lt;unistd.h&gt;</span>\n\n<span class=\"kt\">int</span><span class=\"w\"> </span><span class=\"nf\">main</span><span class=\"p\">(){</span>\n<span class=\"w\">  </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"s\">\"&gt;\"</span><span class=\"p\">);</span>\n\n<span class=\"w\">  </span><span class=\"n\">fflush</span><span class=\"p\">(</span><span class=\"n\">stdout</span><span class=\"p\">);</span>\n<span class=\"w\">  </span><span class=\"kt\">char</span><span class=\"w\"> </span><span class=\"n\">buf</span><span class=\"p\">[</span><span class=\"mi\">10</span><span class=\"p\">];</span>\n<span class=\"w\">  </span><span class=\"n\">read</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">buf</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"mi\">10</span><span class=\"p\">);</span>\n<span class=\"w\">  </span><span class=\"n\">printf</span><span class=\"p\">(</span><span class=\"s\">\"Got %s</span><span class=\"se\">\\n</span><span class=\"s\">\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">buf</span><span class=\"p\">);</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<p>I built this using wasi-sdk 19.0.</p>\n<h3>Steps to Reproduce</h3>\n<ul>\n<li>Compile the C code above (I used wasi-sdk 19.0)</li>\n<li>Run it on wasmtime</li>\n</ul>\n<h3>Expected Results</h3>\n<p>fflush works and buffered string is printed.</p>\n<p>wasmtime v13 prints the string when <code>fflush</code> is called.</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">$ </span>wasmtime<span class=\"w\"> </span>--version\n<span class=\"go\">wasmtime-cli 13.0.1</span>\n<span class=\"gp\">$ </span>wasmtime<span class=\"w\"> </span>./a.out\n<span class=\"go\">&gt;hi</span>\n<span class=\"go\">Got hi</span>\n</code></pre></div>\n<h3>Actual Results</h3>\n<p>fflush doesn't work and buffered string isn't printed.</p>\n<p>wasmtime v14 doesn't print the string even if <code>fflush</code> is called.</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">$ </span>wasmtime<span class=\"w\"> </span>--version\n<span class=\"go\">wasmtime-cli 14.0.3</span>\n<span class=\"gp\">$ </span>wasmtime<span class=\"w\"> </span>./a.out\n</code></pre></div>\n<p>(nothing is printed)</p>\n<h3>Versions and Environment</h3>\n<p>wasmtime-cli 14.0.3</p>\n<p>Operating system: Linux  5.15.0-87-generic </p>\n<p>Architecture: x86_64</p>\n<h3>Extra Info</h3>\n</blockquote>",
        "id": 399781092,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1698864898
    }
]