[
    {
        "content": "<p>abrown labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4671\">issue #4671</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"WebAssembly\"><pre><span></span><code><span class=\"p\">(</span><span class=\"k\">module</span>\n  <span class=\"p\">(</span><span class=\"k\">type</span> <span class=\"cm\">(;0;)</span> <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"p\">(</span><span class=\"k\">param</span> <span class=\"kt\">i32</span> <span class=\"kt\">i32</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">result</span> <span class=\"kt\">i32</span><span class=\"p\">)))</span>\n  <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"cm\">(;0;)</span> <span class=\"p\">(</span><span class=\"k\">type</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">param</span> <span class=\"kt\">i32</span> <span class=\"kt\">i32</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">result</span> <span class=\"kt\">i32</span><span class=\"p\">)</span>\n    <span class=\"nb\">local.get</span> <span class=\"mi\">0</span>\n    <span class=\"nb\">local.get</span> <span class=\"mi\">1</span>\n    <span class=\"nb\">i32.shr_s</span>\n  <span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"k\">export</span> <span class=\"s2\">\"test\"</span> <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"mi\">0</span><span class=\"p\">))</span>\n<span class=\"p\">)</span>\n</code></pre></div>\n<p>Also see attached files (annoyingly renamed with <code>.txt</code> appended due to GitHub upload restrictions):<br>\n- <a href=\"https://github.com/bytecodealliance/wasmtime/files/9299908/crash-3be2c01861adcd71b08427e6ad1251de6fb3159b.txt\">crash-3be2c01861adcd71b08427e6ad1251de6fb3159b.txt</a><br>\n- <a href=\"https://github.com/bytecodealliance/wasmtime/files/9299909/testcase169.wat.txt\">testcase169.wat.txt</a><br>\n- <a href=\"https://github.com/bytecodealliance/wasmtime/files/9299910/testcase169.wasm.txt\">testcase169.wasm.txt</a></p>\n<h3>Steps to Reproduce</h3>\n<p>On the <code>abrown:meta-diff</code> branch:</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">$ </span><span class=\"nv\">RUST_LOG</span><span class=\"o\">=</span><span class=\"nv\">wasmtime_fuzzing</span><span class=\"o\">=</span>debug cargo +nightly fuzz run differential-new fuzz/artifacts/differential-new/crash-3be2c01861adcd71b08427e6ad1251de6fb3159b\n</code></pre></div>\n<h3>Expected Results</h3>\n<p>Execution to match for both the Wasmtime and <code>wasm-spec-interpreter</code> run.</p>\n<h3>Actual Results</h3>\n<p>The results of the shift do not match:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T12</span>:<span class=\"mi\">14</span>:<span class=\"mi\">39</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">Evaluating</span>: <span class=\"nc\">test</span><span class=\"p\">([</span><span class=\"n\">I32</span><span class=\"p\">(</span><span class=\"mi\">1795123818</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">I32</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">2147483648</span><span class=\"p\">)])</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T12</span>:<span class=\"mi\">14</span>:<span class=\"mi\">39</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\">  </span>-&gt; <span class=\"nc\">results</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">spec</span>: <span class=\"p\">[</span><span class=\"n\">I32</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">2097152</span><span class=\"p\">)]</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T12</span>:<span class=\"mi\">14</span>:<span class=\"mi\">39</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\">  </span>-&gt; <span class=\"nc\">results</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span>: <span class=\"p\">[</span><span class=\"n\">I32</span><span class=\"p\">(</span><span class=\"mi\">1795123818</span><span class=\"p\">)]</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: <code>abrown:meta-diff</code> branch</p>\n<p>Operating system: Fedora 35</p>\n<p>Architecture: x86-64</p>\n<h3>Other</h3>\n<p>I am reporting this to clean up any fuzz bugs found before trying to merge #4515. In talking to @alexcrichton, the first reaction seemed to be that this is a bug in the spec interpreter OCaml bindings (after all, Wasmtime passes all spec tests for this kind of simple operation as does the spec interpreter, I assume). @conrad-watt, any thoughts on this?</p>\n</blockquote>",
        "id": 292744930,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1660134355
    },
    {
        "content": "<p>abrown opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4671\">issue #4671</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"WebAssembly\"><pre><span></span><code><span class=\"p\">(</span><span class=\"k\">module</span>\n  <span class=\"p\">(</span><span class=\"k\">type</span> <span class=\"cm\">(;0;)</span> <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"p\">(</span><span class=\"k\">param</span> <span class=\"kt\">i32</span> <span class=\"kt\">i32</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">result</span> <span class=\"kt\">i32</span><span class=\"p\">)))</span>\n  <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"cm\">(;0;)</span> <span class=\"p\">(</span><span class=\"k\">type</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">param</span> <span class=\"kt\">i32</span> <span class=\"kt\">i32</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">result</span> <span class=\"kt\">i32</span><span class=\"p\">)</span>\n    <span class=\"nb\">local.get</span> <span class=\"mi\">0</span>\n    <span class=\"nb\">local.get</span> <span class=\"mi\">1</span>\n    <span class=\"nb\">i32.shr_s</span>\n  <span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"k\">export</span> <span class=\"s2\">\"test\"</span> <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"mi\">0</span><span class=\"p\">))</span>\n<span class=\"p\">)</span>\n</code></pre></div>\n<p>Also see attached files (annoyingly renamed with <code>.txt</code> appended due to GitHub upload restrictions):<br>\n- <a href=\"https://github.com/bytecodealliance/wasmtime/files/9299908/crash-3be2c01861adcd71b08427e6ad1251de6fb3159b.txt\">crash-3be2c01861adcd71b08427e6ad1251de6fb3159b.txt</a><br>\n- <a href=\"https://github.com/bytecodealliance/wasmtime/files/9299909/testcase169.wat.txt\">testcase169.wat.txt</a><br>\n- <a href=\"https://github.com/bytecodealliance/wasmtime/files/9299910/testcase169.wasm.txt\">testcase169.wasm.txt</a></p>\n<h3>Steps to Reproduce</h3>\n<p>On the <code>abrown:meta-diff</code> branch:</p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">$ </span><span class=\"nv\">RUST_LOG</span><span class=\"o\">=</span><span class=\"nv\">wasmtime_fuzzing</span><span class=\"o\">=</span>debug cargo +nightly fuzz run differential-new fuzz/artifacts/differential-new/crash-3be2c01861adcd71b08427e6ad1251de6fb3159b\n</code></pre></div>\n<h3>Expected Results</h3>\n<p>Execution to match for both the Wasmtime and <code>wasm-spec-interpreter</code> run.</p>\n<h3>Actual Results</h3>\n<p>The results of the shift do not match:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T12</span>:<span class=\"mi\">14</span>:<span class=\"mi\">39</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">Evaluating</span>: <span class=\"nc\">test</span><span class=\"p\">([</span><span class=\"n\">I32</span><span class=\"p\">(</span><span class=\"mi\">1795123818</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">I32</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">2147483648</span><span class=\"p\">)])</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T12</span>:<span class=\"mi\">14</span>:<span class=\"mi\">39</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\">  </span>-&gt; <span class=\"nc\">results</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">spec</span>: <span class=\"p\">[</span><span class=\"n\">I32</span><span class=\"p\">(</span><span class=\"o\">-</span><span class=\"mi\">2097152</span><span class=\"p\">)]</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T12</span>:<span class=\"mi\">14</span>:<span class=\"mi\">39</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\">  </span>-&gt; <span class=\"nc\">results</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span>: <span class=\"p\">[</span><span class=\"n\">I32</span><span class=\"p\">(</span><span class=\"mi\">1795123818</span><span class=\"p\">)]</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: <code>abrown:meta-diff</code> branch</p>\n<p>Operating system: Fedora 35</p>\n<p>Architecture: x86-64</p>\n<h3>Other</h3>\n<p>I am reporting this to clean up any fuzz bugs found before trying to merge #4515. In talking to @alexcrichton, the first reaction seemed to be that this is a bug in the spec interpreter OCaml bindings (after all, Wasmtime passes all spec tests for this kind of simple operation as does the spec interpreter, I assume). @conrad-watt, any thoughts on this?</p>\n</blockquote>",
        "id": 292744931,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1660134355
    }
]