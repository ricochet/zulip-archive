[
    {
        "content": "<p>adv-sw labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3439\">issue #3439</a>:</p>\n<blockquote>\n<p>Thanks for filing an issue! Please fill out the TODOs below.</p>\n<h3>`int my_global = 4;</h3>\n<p>class Thing<br>\n{<br>\npublic:<br>\n   Thing(int i) <br>\n   { <br>\n      m_i = i + my_global;<br>\n   }</p>\n<p>int m_i;<br>\n};</p>\n<p>int main() {</p>\n<div class=\"codehilite\"><pre><span></span><code>auto thing = new Thing(5);\n\nreturn thing-&gt;m_i == 9;\n</code></pre></div>\n\n<p>}` Test Case</p>\n<h3>Steps to Reproduce</h3>\n<p>Compile above, debug mode.<br>\nUnder lldb, open in wasmtime -g<br>\nBreakpoint in constructor.<br>\nRun<br>\nShow globals: (lldb) fr v -g</p>\n<h3>Expected Results</h3>\n<p>Expected to see my_global</p>\n<h3>Actual Results</h3>\n<p>Just locals observed.</p>\n<h3>Versions and Environment</h3>\n<p>Linux &amp; Windows wasmtime trunk used. lldb trunk &amp; 12.0.1 tried.</p>\n<p>Cranelift version or commit: TODO</p>\n<p>Operating system: TODO</p>\n<p>Architecture: x86/64</p>\n<hr>\n<p>Repro:</p>\n<p>(lldb) settings set -- target.run-args  \"-g\" \".\\\\test.wasm\"<br>\n(lldb) b test.cpp:7<br>\nBreakpoint 1: no locations (pending).<br>\nWARNING:  Unable to resolve breakpoint to any actual locations.<br>\n(lldb) r<br>\nProcess 8700 launched: 'z:\\dev\\wasm\\wasmtime\\target\\release\\wasmtime.exe' (x86_64)<br>\n1 location added to breakpoint 1<br>\nProcess 8700 stopped</p>\n<ul>\n<li>thread #1, stop reason = breakpoint 1.1<br>\n    frame #0: 0x00000220c62214a7 JIT(0x220c8093010)`Thing::Thing(this=(__ptr = 131088), i=5) at test.cpp:9:13<br>\n   6    public:<br>\n   7       Thing(int i)<br>\n   8       {<br>\n-&gt; 9          m_i = i + my_global;<br>\n   10      }<br>\n   11<br>\n   12      int m_i;<br>\n(lldb) fr v -g<br>\n(WasmtimeVMContext *) __vmctx = 0x00000220c62ed950<br>\n(WebAssemblyPtrWrapper&lt;Thing&gt;) this = (__ptr = 131088)<br>\n(int) i = 5</li>\n</ul>\n</blockquote>",
        "id": 257037048,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1633944693
    },
    {
        "content": "<p>adv-sw opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3439\">issue #3439</a>:</p>\n<blockquote>\n<p>Thanks for filing an issue! Please fill out the TODOs below.</p>\n<h3>`int my_global = 4;</h3>\n<p>class Thing<br>\n{<br>\npublic:<br>\n   Thing(int i) <br>\n   { <br>\n      m_i = i + my_global;<br>\n   }</p>\n<p>int m_i;<br>\n};</p>\n<p>int main() {</p>\n<div class=\"codehilite\"><pre><span></span><code>auto thing = new Thing(5);\n\nreturn thing-&gt;m_i == 9;\n</code></pre></div>\n\n<p>}` Test Case</p>\n<h3>Steps to Reproduce</h3>\n<p>Compile above, debug mode.<br>\nUnder lldb, open in wasmtime -g<br>\nBreakpoint in constructor.<br>\nRun<br>\nShow globals: (lldb) fr v -g</p>\n<h3>Expected Results</h3>\n<p>Expected to see my_global</p>\n<h3>Actual Results</h3>\n<p>Just locals observed.</p>\n<h3>Versions and Environment</h3>\n<p>Linux &amp; Windows wasmtime trunk used. lldb trunk &amp; 12.0.1 tried.</p>\n<p>Cranelift version or commit: TODO</p>\n<p>Operating system: TODO</p>\n<p>Architecture: x86/64</p>\n<hr>\n<p>Repro:</p>\n<p>(lldb) settings set -- target.run-args  \"-g\" \".\\\\test.wasm\"<br>\n(lldb) b test.cpp:7<br>\nBreakpoint 1: no locations (pending).<br>\nWARNING:  Unable to resolve breakpoint to any actual locations.<br>\n(lldb) r<br>\nProcess 8700 launched: 'z:\\dev\\wasm\\wasmtime\\target\\release\\wasmtime.exe' (x86_64)<br>\n1 location added to breakpoint 1<br>\nProcess 8700 stopped</p>\n<ul>\n<li>thread #1, stop reason = breakpoint 1.1<br>\n    frame #0: 0x00000220c62214a7 JIT(0x220c8093010)`Thing::Thing(this=(__ptr = 131088), i=5) at test.cpp:9:13<br>\n   6    public:<br>\n   7       Thing(int i)<br>\n   8       {<br>\n-&gt; 9          m_i = i + my_global;<br>\n   10      }<br>\n   11<br>\n   12      int m_i;<br>\n(lldb) fr v -g<br>\n(WasmtimeVMContext *) __vmctx = 0x00000220c62ed950<br>\n(WebAssemblyPtrWrapper&lt;Thing&gt;) this = (__ptr = 131088)<br>\n(int) i = 5</li>\n</ul>\n</blockquote>",
        "id": 257037049,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1633944693
    },
    {
        "content": "<p>adv-sw labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3439\">issue #3439</a>:</p>\n<blockquote>\n<p>Thanks for filing an issue! Please fill out the TODOs below.</p>\n<h3>`int my_global = 4;</h3>\n<p>class Thing<br>\n{<br>\npublic:<br>\n   Thing(int i) <br>\n   { <br>\n      m_i = i + my_global;<br>\n   }</p>\n<p>int m_i;<br>\n};</p>\n<p>int main() {</p>\n<div class=\"codehilite\"><pre><span></span><code>auto thing = new Thing(5);\n\nreturn thing-&gt;m_i == 9;\n</code></pre></div>\n\n<p>}` Test Case</p>\n<h3>Steps to Reproduce</h3>\n<p>Compile above, debug mode.<br>\nUnder lldb, open in wasmtime -g<br>\nBreakpoint in constructor.<br>\nRun<br>\nShow globals: (lldb) fr v -g</p>\n<h3>Expected Results</h3>\n<p>Expected to see my_global</p>\n<h3>Actual Results</h3>\n<p>Just locals observed.</p>\n<h3>Versions and Environment</h3>\n<p>Linux &amp; Windows wasmtime trunk used. lldb trunk &amp; 12.0.1 tried.</p>\n<p>Cranelift version or commit: TODO</p>\n<p>Operating system: TODO</p>\n<p>Architecture: x86/64</p>\n<hr>\n<p>Repro:</p>\n<p>(lldb) settings set -- target.run-args  \"-g\" \".\\\\test.wasm\"<br>\n(lldb) b test.cpp:7<br>\nBreakpoint 1: no locations (pending).<br>\nWARNING:  Unable to resolve breakpoint to any actual locations.<br>\n(lldb) r<br>\nProcess 8700 launched: 'z:\\dev\\wasm\\wasmtime\\target\\release\\wasmtime.exe' (x86_64)<br>\n1 location added to breakpoint 1<br>\nProcess 8700 stopped</p>\n<ul>\n<li>thread #1, stop reason = breakpoint 1.1<br>\n    frame #0: 0x00000220c62214a7 JIT(0x220c8093010)`Thing::Thing(this=(__ptr = 131088), i=5) at test.cpp:9:13<br>\n   6    public:<br>\n   7       Thing(int i)<br>\n   8       {<br>\n-&gt; 9          m_i = i + my_global;<br>\n   10      }<br>\n   11<br>\n   12      int m_i;<br>\n(lldb) fr v -g<br>\n(WasmtimeVMContext *) __vmctx = 0x00000220c62ed950<br>\n(WebAssemblyPtrWrapper&lt;Thing&gt;) this = (__ptr = 131088)<br>\n(int) i = 5</li>\n</ul>\n</blockquote>",
        "id": 257037050,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1633944694
    },
    {
        "content": "<p>adv-sw edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3439\">issue #3439</a>:</p>\n<blockquote>\n<p>test.cpp</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">my_global</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"n\">class</span><span class=\"w\"> </span><span class=\"n\">Thing</span><span class=\"w\"></span>\n<span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"n\">public</span>:\n   <span class=\"nc\">Thing</span><span class=\"p\">(</span><span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"n\">m_i</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">my_global</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"p\">}</span><span class=\"w\"></span>\n\n<span class=\"w\">   </span><span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">m_i</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"p\">};</span><span class=\"w\"></span>\n\n<span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"n\">auto</span><span class=\"w\"> </span><span class=\"n\">thing</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">new</span><span class=\"w\"> </span><span class=\"n\">Thing</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">);</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">thing</span>-&gt;<span class=\"nc\">m_i</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Steps to Reproduce</h3>\n<p>Compile above, debug mode.<br>\nUnder lldb, open in wasmtime -g<br>\nBreakpoint in constructor.<br>\nRun<br>\nShow globals: (lldb) fr v -g</p>\n<h3>Expected Results</h3>\n<p>Expected to see my_global</p>\n<h3>Actual Results</h3>\n<p>Just locals observed.</p>\n<h3>Versions and Environment</h3>\n<p>Linux &amp; Windows wasmtime trunk used. lldb trunk &amp; 12.0.1 tried.</p>\n<p>Cranelift version or commit: TODO</p>\n<p>Operating system: TODO</p>\n<p>Architecture: x86/64</p>\n<hr>\n<p>Repro:</p>\n<p>(lldb) settings set -- target.run-args  \"-g\" \".\\\\test.wasm\"<br>\n(lldb) b test.cpp:7<br>\nBreakpoint 1: no locations (pending).<br>\nWARNING:  Unable to resolve breakpoint to any actual locations.<br>\n(lldb) r<br>\nProcess 8700 launched: 'z:\\dev\\wasm\\wasmtime\\target\\release\\wasmtime.exe' (x86_64)<br>\n1 location added to breakpoint 1<br>\nProcess 8700 stopped</p>\n<ul>\n<li>thread #1, stop reason = breakpoint 1.1<br>\n    frame #0: 0x00000220c62214a7 JIT(0x220c8093010)`Thing::Thing(this=(__ptr = 131088), i=5) at test.cpp:9:13<br>\n   6    public:<br>\n   7       Thing(int i)<br>\n   8       {<br>\n-&gt; 9          m_i = i + my_global;<br>\n   10      }<br>\n   11<br>\n   12      int m_i;<br>\n(lldb) fr v -g<br>\n(WasmtimeVMContext *) __vmctx = 0x00000220c62ed950<br>\n(WebAssemblyPtrWrapper&lt;Thing&gt;) this = (__ptr = 131088)<br>\n(int) i = 5</li>\n</ul>\n</blockquote>",
        "id": 257037188,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1633944755
    },
    {
        "content": "<p>adv-sw edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3439\">issue #3439</a>:</p>\n<blockquote>\n<p>test.cpp</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">my_global</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"n\">class</span><span class=\"w\"> </span><span class=\"n\">Thing</span><span class=\"w\"></span>\n<span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"n\">public</span>:\n   <span class=\"nc\">Thing</span><span class=\"p\">(</span><span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"n\">m_i</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">my_global</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"p\">}</span><span class=\"w\"></span>\n\n<span class=\"w\">   </span><span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">m_i</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"p\">};</span><span class=\"w\"></span>\n\n<span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"n\">auto</span><span class=\"w\"> </span><span class=\"n\">thing</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">new</span><span class=\"w\"> </span><span class=\"n\">Thing</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">);</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">thing</span>-&gt;<span class=\"nc\">m_i</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Steps to Reproduce</h3>\n<p>Compile above, debug mode.<br>\nUnder lldb, open in wasmtime -g<br>\nBreakpoint in constructor.<br>\nRun<br>\nShow globals: (lldb) fr v -g</p>\n<h3>Expected Results</h3>\n<p>Expected to see my_global</p>\n<h3>Actual Results</h3>\n<p>Just locals observed.</p>\n<h3>Versions and Environment</h3>\n<p>Linux &amp; Windows wasmtime trunk used. lldb trunk &amp; 12.0.1 tried.</p>\n<p>Cranelift version or commit: TODO</p>\n<p>Operating system: TODO</p>\n<p>Architecture: x86/64</p>\n<hr>\n<p>Repro:</p>\n<p>(lldb) settings set -- target.run-args  \"-g\" \".\\\\test.wasm\"<br>\n(lldb) b test.cpp:7<br>\nBreakpoint 1: no locations (pending).<br>\nWARNING:  Unable to resolve breakpoint to any actual locations.<br>\n(lldb) r<br>\nProcess 8700 launched: 'z:\\dev\\wasm\\wasmtime\\target\\release\\wasmtime.exe' (x86_64)<br>\n    frame #0: 0x00000220c62214a7 JIT(0x220c8093010)`Thing::Thing(this=(__ptr = 131088), i=5) at test.cpp:9:13<br>\n   6    public:<br>\n   7       Thing(int i)<br>\n   8       {<br>\n-&gt; 9          m_i = i + my_global;<br>\n   10      }<br>\n   11<br>\n   12      int m_i;<br>\n(lldb) fr v -g<br>\n(WasmtimeVMContext *) __vmctx = 0x00000220c62ed950<br>\n(WebAssemblyPtrWrapper&lt;Thing&gt;) this = (__ptr = 131088)<br>\n(int) i = 5</p>\n</blockquote>",
        "id": 257037330,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1633944832
    },
    {
        "content": "<p>adv-sw <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3439#issuecomment-939904434\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3439\">issue #3439</a>:</p>\n<blockquote>\n<p>Severity: High. Standard debugging pipeline not complete until this has been resolved.</p>\n<p>We've got parse_global_section in wasmtime\\cranelift\\wasm\\src\\sections_translator.rs</p>\n<p>Perhaps we can work from that.</p>\n</blockquote>",
        "id": 257044306,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1633948597
    },
    {
        "content": "<p>adv-sw edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3439\">issue #3439</a>:</p>\n<blockquote>\n<p>test.cpp</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">my_global</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"mi\">4</span><span class=\"p\">;</span><span class=\"w\"></span>\n\n<span class=\"n\">class</span><span class=\"w\"> </span><span class=\"n\">Thing</span><span class=\"w\"></span>\n<span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"n\">public</span>:\n   <span class=\"nc\">Thing</span><span class=\"p\">(</span><span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">      </span><span class=\"n\">m_i</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">i</span><span class=\"w\"> </span><span class=\"o\">+</span><span class=\"w\"> </span><span class=\"n\">my_global</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"p\">}</span><span class=\"w\"></span>\n\n<span class=\"w\">   </span><span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">m_i</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"p\">};</span><span class=\"w\"></span>\n\n<span class=\"n\">int</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"n\">auto</span><span class=\"w\"> </span><span class=\"n\">thing</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">new</span><span class=\"w\"> </span><span class=\"n\">Thing</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">);</span><span class=\"w\"></span>\n\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">thing</span>-&gt;<span class=\"nc\">m_i</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"mi\">9</span><span class=\"p\">;</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Steps to Reproduce</h3>\n<p>Compile above, debug mode.<br>\nUnder lldb, open in wasmtime -g<br>\nBreakpoint in constructor.<br>\nRun<br>\nShow globals: (lldb) fr v -g</p>\n<h3>Expected Results</h3>\n<p>Expected to see my_global</p>\n<h3>Actual Results</h3>\n<p>Just locals observed.</p>\n<h3>Versions and Environment</h3>\n<p>Linux &amp; Windows wasmtime trunk used. lldb trunk &amp; 12.0.1 tried.</p>\n<p>Architecture: x86/64</p>\n<hr>\n<p>Repro:</p>\n<p>(lldb) settings set -- target.run-args  \"-g\" \".\\\\test.wasm\"<br>\n(lldb) b test.cpp:7<br>\nBreakpoint 1: no locations (pending).<br>\nWARNING:  Unable to resolve breakpoint to any actual locations.<br>\n(lldb) r<br>\nProcess 8700 launched: 'z:\\dev\\wasm\\wasmtime\\target\\release\\wasmtime.exe' (x86_64)<br>\n    frame #0: 0x00000220c62214a7 JIT(0x220c8093010)`Thing::Thing(this=(__ptr = 131088), i=5) at test.cpp:9:13<br>\n   6    public:<br>\n   7       Thing(int i)<br>\n   8       {<br>\n-&gt; 9          m_i = i + my_global;<br>\n   10      }<br>\n   11<br>\n   12      int m_i;<br>\n(lldb) fr v -g<br>\n(WasmtimeVMContext *) __vmctx = 0x00000220c62ed950<br>\n(WebAssemblyPtrWrapper&lt;Thing&gt;) this = (__ptr = 131088)<br>\n(int) i = 5</p>\n</blockquote>",
        "id": 257045361,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1633949181
    }
]