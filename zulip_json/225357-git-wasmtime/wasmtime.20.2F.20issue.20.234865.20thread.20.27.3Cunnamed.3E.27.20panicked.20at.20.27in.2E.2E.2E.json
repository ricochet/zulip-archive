[
    {
        "content": "<p>kenorb opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865\">issue #4865</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">wget</span><span class=\"w\"> </span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/oraoto/pib/raw/master/docs/php-worker.wasm</span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">php</span><span class=\"o\">-</span><span class=\"n\">worker</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'&lt;</span><span class=\"n\">unnamed</span><span class=\"o\">&gt;'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">index</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span>: <span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">root</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"n\">ecc6299db9ec823</span><span class=\"o\">/</span><span class=\"n\">regalloc2</span><span class=\"o\">-</span><span class=\"mf\">0.1.2</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">193</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nc\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"n\">variable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">display</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"w\"> </span><span class=\"mf\">0.37.0</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Full backtrace:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">php</span><span class=\"o\">-</span><span class=\"n\">worker</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'&lt;</span><span class=\"n\">unnamed</span><span class=\"o\">&gt;'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">index</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span>: <span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">root</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"n\">ecc6299db9ec823</span><span class=\"o\">/</span><span class=\"n\">regalloc2</span><span class=\"o\">-</span><span class=\"mf\">0.1.2</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">193</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n   <span class=\"mi\">0</span>: <span class=\"nc\">rust_begin_unwind</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">584</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">1</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_fmt</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">143</span>:<span class=\"mi\">14</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">2</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_bounds_check</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">84</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">3</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">lower</span>::<span class=\"n\">alloc_vregs</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">4</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">lower</span>::<span class=\"n\">Lower</span><span class=\"o\">&lt;</span><span class=\"n\">I</span><span class=\"o\">&gt;</span>::<span class=\"n\">lower</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">5</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">compile</span>::<span class=\"n\">compile</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">6</span>: <span class=\"o\">&lt;</span><span class=\"n\">cranelift_codegen</span>::<span class=\"n\">isa</span>::<span class=\"n\">x64</span>::<span class=\"n\">X64Backend</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">cranelift_codegen</span>::<span class=\"n\">isa</span>::<span class=\"n\">TargetIsa</span><span class=\"o\">&gt;</span>::<span class=\"n\">compile_function</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">7</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">context</span>::<span class=\"n\">Context</span>::<span class=\"n\">compile</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">8</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">context</span>::<span class=\"n\">Context</span>::<span class=\"n\">compile_and_emit</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">9</span>: <span class=\"o\">&lt;</span><span class=\"n\">wasmtime_cranelift</span>::<span class=\"n\">compiler</span>::<span class=\"n\">Compiler</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">wasmtime_environ</span>::<span class=\"n\">compilation</span>::<span class=\"n\">Compiler</span><span class=\"o\">&gt;</span>::<span class=\"n\">compile_function</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">10</span>: <span class=\"o\">&lt;</span><span class=\"n\">alloc</span>::<span class=\"n\">vec</span>::<span class=\"nb\">Vec</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">A</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">alloc</span>::<span class=\"n\">vec</span>::<span class=\"n\">spec_extend</span>::<span class=\"n\">SpecExtend</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">I</span><span class=\"o\">&gt;&gt;</span>::<span class=\"n\">spec_extend</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">11</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">12</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">13</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">14</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">15</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">16</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">17</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">18</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">19</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">20</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">21</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">22</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">23</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">24</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">25</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">26</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">27</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">28</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">29</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">30</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">31</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">32</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">33</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">34</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">35</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span>::<span class=\"n\">run_inline</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">36</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">37</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">38</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span>::<span class=\"n\">run_inline</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">39</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">40</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">41</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">42</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">43</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">44</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">45</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">46</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">47</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">48</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">49</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">50</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">51</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">52</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">ThreadBuilder</span>::<span class=\"n\">run</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nb\">Some</span> <span class=\"nc\">details</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">omitted</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"n\">full</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">verbose</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"p\">.</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Any ideas why this crashes?<br>\n</p>\n</blockquote>",
        "id": 297007817,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1662219455
    },
    {
        "content": "<p>kenorb edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865\">issue #4865</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wget</span><span class=\"w\"> </span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/oraoto/pib/raw/master/docs/php-worker.wasm</span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">php</span><span class=\"o\">-</span><span class=\"n\">worker</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'&lt;</span><span class=\"n\">unnamed</span><span class=\"o\">&gt;'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">index</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span>: <span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">root</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"n\">ecc6299db9ec823</span><span class=\"o\">/</span><span class=\"n\">regalloc2</span><span class=\"o\">-</span><span class=\"mf\">0.1.2</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">193</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nc\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"n\">variable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">display</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"w\"> </span><span class=\"mf\">0.37.0</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Full backtrace:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">php</span><span class=\"o\">-</span><span class=\"n\">worker</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'&lt;</span><span class=\"n\">unnamed</span><span class=\"o\">&gt;'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">index</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span>: <span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">root</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"n\">ecc6299db9ec823</span><span class=\"o\">/</span><span class=\"n\">regalloc2</span><span class=\"o\">-</span><span class=\"mf\">0.1.2</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">193</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n   <span class=\"mi\">0</span>: <span class=\"nc\">rust_begin_unwind</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">584</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">1</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_fmt</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">143</span>:<span class=\"mi\">14</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">2</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_bounds_check</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">84</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">3</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">lower</span>::<span class=\"n\">alloc_vregs</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">4</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">lower</span>::<span class=\"n\">Lower</span><span class=\"o\">&lt;</span><span class=\"n\">I</span><span class=\"o\">&gt;</span>::<span class=\"n\">lower</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">5</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">compile</span>::<span class=\"n\">compile</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">6</span>: <span class=\"o\">&lt;</span><span class=\"n\">cranelift_codegen</span>::<span class=\"n\">isa</span>::<span class=\"n\">x64</span>::<span class=\"n\">X64Backend</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">cranelift_codegen</span>::<span class=\"n\">isa</span>::<span class=\"n\">TargetIsa</span><span class=\"o\">&gt;</span>::<span class=\"n\">compile_function</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">7</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">context</span>::<span class=\"n\">Context</span>::<span class=\"n\">compile</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">8</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">context</span>::<span class=\"n\">Context</span>::<span class=\"n\">compile_and_emit</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">9</span>: <span class=\"o\">&lt;</span><span class=\"n\">wasmtime_cranelift</span>::<span class=\"n\">compiler</span>::<span class=\"n\">Compiler</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">wasmtime_environ</span>::<span class=\"n\">compilation</span>::<span class=\"n\">Compiler</span><span class=\"o\">&gt;</span>::<span class=\"n\">compile_function</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">10</span>: <span class=\"o\">&lt;</span><span class=\"n\">alloc</span>::<span class=\"n\">vec</span>::<span class=\"nb\">Vec</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">A</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">alloc</span>::<span class=\"n\">vec</span>::<span class=\"n\">spec_extend</span>::<span class=\"n\">SpecExtend</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">I</span><span class=\"o\">&gt;&gt;</span>::<span class=\"n\">spec_extend</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">11</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">12</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">13</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">14</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">15</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">16</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">17</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">18</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">19</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">20</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">21</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">22</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">23</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">24</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">25</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">26</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">27</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">28</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">29</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">30</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">31</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">32</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">33</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">34</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">35</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span>::<span class=\"n\">run_inline</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">36</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">37</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">38</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span>::<span class=\"n\">run_inline</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">39</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">40</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">41</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">42</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">43</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">44</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">45</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">46</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">47</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">48</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">49</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">50</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">51</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">52</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">ThreadBuilder</span>::<span class=\"n\">run</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nb\">Some</span> <span class=\"nc\">details</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">omitted</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"n\">full</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">verbose</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"p\">.</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Any ideas why this crashes?<br>\n</p>\n</blockquote>",
        "id": 297007835,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1662219467
    },
    {
        "content": "<p>kenorb edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865\">issue #4865</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wget</span><span class=\"w\"> </span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/oraoto/pib/raw/master/docs/php-worker.wasm</span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">php</span><span class=\"o\">-</span><span class=\"n\">worker</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'&lt;</span><span class=\"n\">unnamed</span><span class=\"o\">&gt;'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">index</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span>: <span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">root</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"n\">ecc6299db9ec823</span><span class=\"o\">/</span><span class=\"n\">regalloc2</span><span class=\"o\">-</span><span class=\"mf\">0.1.2</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">193</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nc\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"n\">variable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">display</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"w\"> </span><span class=\"mf\">0.37.0</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Full backtrace:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">php</span><span class=\"o\">-</span><span class=\"n\">worker</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'&lt;</span><span class=\"n\">unnamed</span><span class=\"o\">&gt;'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">index</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span>: <span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">root</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"n\">ecc6299db9ec823</span><span class=\"o\">/</span><span class=\"n\">regalloc2</span><span class=\"o\">-</span><span class=\"mf\">0.1.2</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">193</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n   <span class=\"mi\">0</span>: <span class=\"nc\">rust_begin_unwind</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">584</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">1</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_fmt</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">143</span>:<span class=\"mi\">14</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">2</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_bounds_check</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">84</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">3</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">lower</span>::<span class=\"n\">alloc_vregs</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">4</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">lower</span>::<span class=\"n\">Lower</span><span class=\"o\">&lt;</span><span class=\"n\">I</span><span class=\"o\">&gt;</span>::<span class=\"n\">lower</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">5</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">compile</span>::<span class=\"n\">compile</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">6</span>: <span class=\"o\">&lt;</span><span class=\"n\">cranelift_codegen</span>::<span class=\"n\">isa</span>::<span class=\"n\">x64</span>::<span class=\"n\">X64Backend</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">cranelift_codegen</span>::<span class=\"n\">isa</span>::<span class=\"n\">TargetIsa</span><span class=\"o\">&gt;</span>::<span class=\"n\">compile_function</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">7</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">context</span>::<span class=\"n\">Context</span>::<span class=\"n\">compile</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">8</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">context</span>::<span class=\"n\">Context</span>::<span class=\"n\">compile_and_emit</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">9</span>: <span class=\"o\">&lt;</span><span class=\"n\">wasmtime_cranelift</span>::<span class=\"n\">compiler</span>::<span class=\"n\">Compiler</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">wasmtime_environ</span>::<span class=\"n\">compilation</span>::<span class=\"n\">Compiler</span><span class=\"o\">&gt;</span>::<span class=\"n\">compile_function</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">10</span>: <span class=\"o\">&lt;</span><span class=\"n\">alloc</span>::<span class=\"n\">vec</span>::<span class=\"nb\">Vec</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">A</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">alloc</span>::<span class=\"n\">vec</span>::<span class=\"n\">spec_extend</span>::<span class=\"n\">SpecExtend</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">I</span><span class=\"o\">&gt;&gt;</span>::<span class=\"n\">spec_extend</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">11</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">12</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">13</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">14</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">15</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">16</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">17</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">18</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">19</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">20</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">21</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">22</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">23</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">24</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">25</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">26</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">27</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">28</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">29</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">30</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">31</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">32</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">33</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">34</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">35</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span>::<span class=\"n\">run_inline</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">36</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">37</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">38</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span>::<span class=\"n\">run_inline</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">39</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">40</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">41</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">42</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">43</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">44</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">45</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">46</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">47</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">48</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">49</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">50</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">51</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">52</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">ThreadBuilder</span>::<span class=\"n\">run</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nb\">Some</span> <span class=\"nc\">details</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">omitted</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"n\">full</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">verbose</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"p\">.</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Any ideas why this crashes?<br>\nIs is a problem with the wasm file or wasmtime?<br>\n</p>\n</blockquote>",
        "id": 297007977,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1662219525
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865#issuecomment-1236145774\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865\">issue #4865</a>:</p>\n<blockquote>\n<p>You are using wasmtime 0.37. The latest released version is 0.40.1. Can you check if it is fixed with 0.40.1?</p>\n</blockquote>",
        "id": 297008065,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1662219578
    },
    {
        "content": "<p>kenorb edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865\">issue #4865</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wget</span><span class=\"w\"> </span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/oraoto/pib/raw/master/docs/php-worker.wasm</span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">php</span><span class=\"o\">-</span><span class=\"n\">worker</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'&lt;</span><span class=\"n\">unnamed</span><span class=\"o\">&gt;'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">index</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span>: <span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">root</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"n\">ecc6299db9ec823</span><span class=\"o\">/</span><span class=\"n\">regalloc2</span><span class=\"o\">-</span><span class=\"mf\">0.1.2</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">193</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nc\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"n\">variable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">display</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"w\"> </span><span class=\"mf\">0.37.0</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Full backtrace:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">php</span><span class=\"o\">-</span><span class=\"n\">worker</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'&lt;</span><span class=\"n\">unnamed</span><span class=\"o\">&gt;'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">index</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span>: <span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">root</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"n\">ecc6299db9ec823</span><span class=\"o\">/</span><span class=\"n\">regalloc2</span><span class=\"o\">-</span><span class=\"mf\">0.1.2</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">193</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n   <span class=\"mi\">0</span>: <span class=\"nc\">rust_begin_unwind</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">584</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">1</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_fmt</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">143</span>:<span class=\"mi\">14</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">2</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_bounds_check</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">84</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">3</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">lower</span>::<span class=\"n\">alloc_vregs</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">4</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">lower</span>::<span class=\"n\">Lower</span><span class=\"o\">&lt;</span><span class=\"n\">I</span><span class=\"o\">&gt;</span>::<span class=\"n\">lower</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">5</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">compile</span>::<span class=\"n\">compile</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">6</span>: <span class=\"o\">&lt;</span><span class=\"n\">cranelift_codegen</span>::<span class=\"n\">isa</span>::<span class=\"n\">x64</span>::<span class=\"n\">X64Backend</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">cranelift_codegen</span>::<span class=\"n\">isa</span>::<span class=\"n\">TargetIsa</span><span class=\"o\">&gt;</span>::<span class=\"n\">compile_function</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">7</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">context</span>::<span class=\"n\">Context</span>::<span class=\"n\">compile</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">8</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">context</span>::<span class=\"n\">Context</span>::<span class=\"n\">compile_and_emit</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">9</span>: <span class=\"o\">&lt;</span><span class=\"n\">wasmtime_cranelift</span>::<span class=\"n\">compiler</span>::<span class=\"n\">Compiler</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">wasmtime_environ</span>::<span class=\"n\">compilation</span>::<span class=\"n\">Compiler</span><span class=\"o\">&gt;</span>::<span class=\"n\">compile_function</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">10</span>: <span class=\"o\">&lt;</span><span class=\"n\">alloc</span>::<span class=\"n\">vec</span>::<span class=\"nb\">Vec</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">A</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">alloc</span>::<span class=\"n\">vec</span>::<span class=\"n\">spec_extend</span>::<span class=\"n\">SpecExtend</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">I</span><span class=\"o\">&gt;&gt;</span>::<span class=\"n\">spec_extend</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">11</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">12</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">13</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">14</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">15</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">16</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">17</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">18</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">19</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">20</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">21</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">22</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">23</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">24</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">25</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">26</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">27</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">28</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">29</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">30</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">31</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">32</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">33</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">34</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">35</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span>::<span class=\"n\">run_inline</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">36</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">37</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">38</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span>::<span class=\"n\">run_inline</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">39</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">40</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">41</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">42</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">43</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">44</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">45</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">46</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">47</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">48</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">49</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">50</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">51</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">52</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">ThreadBuilder</span>::<span class=\"n\">run</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nb\">Some</span> <span class=\"nc\">details</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">omitted</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"n\">full</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">verbose</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"p\">.</span><span class=\"w\"></span>\n</code></pre></div>\n<ul>\n<li>OS: Ubuntu 22.04</li>\n</ul>\n<p>Any ideas why this crashes?<br>\nIs is a problem with the wasm file or wasmtime?<br>\n</p>\n</blockquote>",
        "id": 297008281,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1662219710
    },
    {
        "content": "<p>kenorb <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865#issuecomment-1236146683\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865\">issue #4865</a>:</p>\n<blockquote>\n<p>Thanks for suggestion. I've updated to 0.40.1, same error.</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"w\"> </span><span class=\"mf\">0.40.1</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">php</span><span class=\"o\">-</span><span class=\"n\">worker</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'&lt;</span><span class=\"n\">unnamed</span><span class=\"o\">&gt;'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">index</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span>: <span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">root</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"n\">ecc6299db9ec823</span><span class=\"o\">/</span><span class=\"n\">regalloc2</span><span class=\"o\">-</span><span class=\"mf\">0.3.2</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">270</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nc\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"n\">variable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">display</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"w\"></span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 297008460,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1662219831
    },
    {
        "content": "<p>yuyang-ok <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865#issuecomment-1236530096\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865\">issue #4865</a>:</p>\n<blockquote>\n<p>look like the compilation unit is too big.</p>\n</blockquote>",
        "id": 297161722,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1662352297
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865#issuecomment-1238190638\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865\">issue #4865</a>:</p>\n<blockquote>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/files/9497618/extract2.shrunken.wasm.gz\">This is a slightly minimized input</a>, but I believe that @yuyang-ok is right in that this input is seemingly too large for regalloc2. Presuming that this isn't easy to fix within <code>regalloc2</code> (cc @cfallin) we will want a better error for this, so one thing we could try to do is limit the number of instructions per function. I'm not sure if browsers do that already to draw inspiration from.</p>\n</blockquote>",
        "id": 297374211,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1662472707
    },
    {
        "content": "<p>cfallin <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865#issuecomment-1238303543\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865\">issue #4865</a>:</p>\n<blockquote>\n<p>It almost certainly is a too-large function indeed; there is a limit of 2M vregs due to performance-critical bitpacking tricks. Will take a closer look tomorrow when I’m back at a computer!</p>\n</blockquote>",
        "id": 297427741,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1662477832
    },
    {
        "content": "<p>cfallin closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4865\">issue #4865</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wget</span><span class=\"w\"> </span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/oraoto/pib/raw/master/docs/php-worker.wasm</span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">php</span><span class=\"o\">-</span><span class=\"n\">worker</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'&lt;</span><span class=\"n\">unnamed</span><span class=\"o\">&gt;'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">index</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span>: <span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">root</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"n\">ecc6299db9ec823</span><span class=\"o\">/</span><span class=\"n\">regalloc2</span><span class=\"o\">-</span><span class=\"mf\">0.1.2</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">193</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nc\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">environment</span><span class=\"w\"> </span><span class=\"n\">variable</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">display</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"w\"></span>\n<span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"w\"> </span><span class=\"mf\">0.37.0</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Full backtrace:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"w\"> </span><span class=\"n\">php</span><span class=\"o\">-</span><span class=\"n\">worker</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'&lt;</span><span class=\"n\">unnamed</span><span class=\"o\">&gt;'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">index</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">bounds</span>: <span class=\"nc\">the</span><span class=\"w\"> </span><span class=\"n\">len</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"w\"> </span><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">index</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"mi\">2097152</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">root</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">github</span><span class=\"p\">.</span><span class=\"n\">com</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"n\">ecc6299db9ec823</span><span class=\"o\">/</span><span class=\"n\">regalloc2</span><span class=\"o\">-</span><span class=\"mf\">0.1.2</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">lib</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">193</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n   <span class=\"mi\">0</span>: <span class=\"nc\">rust_begin_unwind</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">584</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">1</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_fmt</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">143</span>:<span class=\"mi\">14</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">2</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_bounds_check</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">fe5b13d681f25ee6474be29d748c65adcd91f69e</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">84</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">3</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">lower</span>::<span class=\"n\">alloc_vregs</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">4</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">lower</span>::<span class=\"n\">Lower</span><span class=\"o\">&lt;</span><span class=\"n\">I</span><span class=\"o\">&gt;</span>::<span class=\"n\">lower</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">5</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">machinst</span>::<span class=\"n\">compile</span>::<span class=\"n\">compile</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">6</span>: <span class=\"o\">&lt;</span><span class=\"n\">cranelift_codegen</span>::<span class=\"n\">isa</span>::<span class=\"n\">x64</span>::<span class=\"n\">X64Backend</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">cranelift_codegen</span>::<span class=\"n\">isa</span>::<span class=\"n\">TargetIsa</span><span class=\"o\">&gt;</span>::<span class=\"n\">compile_function</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">7</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">context</span>::<span class=\"n\">Context</span>::<span class=\"n\">compile</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">8</span>: <span class=\"nc\">cranelift_codegen</span>::<span class=\"n\">context</span>::<span class=\"n\">Context</span>::<span class=\"n\">compile_and_emit</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">9</span>: <span class=\"o\">&lt;</span><span class=\"n\">wasmtime_cranelift</span>::<span class=\"n\">compiler</span>::<span class=\"n\">Compiler</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">wasmtime_environ</span>::<span class=\"n\">compilation</span>::<span class=\"n\">Compiler</span><span class=\"o\">&gt;</span>::<span class=\"n\">compile_function</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">10</span>: <span class=\"o\">&lt;</span><span class=\"n\">alloc</span>::<span class=\"n\">vec</span>::<span class=\"nb\">Vec</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">A</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">alloc</span>::<span class=\"n\">vec</span>::<span class=\"n\">spec_extend</span>::<span class=\"n\">SpecExtend</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">I</span><span class=\"o\">&gt;&gt;</span>::<span class=\"n\">spec_extend</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">11</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">12</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">13</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">14</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">15</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">16</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">17</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">18</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">19</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">20</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">21</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">22</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">23</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">24</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">25</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">26</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">27</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">28</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">29</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">30</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">31</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">32</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">33</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">34</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">35</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span>::<span class=\"n\">run_inline</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">36</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">37</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">38</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span>::<span class=\"n\">run_inline</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">39</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">40</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">41</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">42</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">43</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">44</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">45</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">46</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">47</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">in_worker</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">48</span>: <span class=\"nc\">rayon</span>::<span class=\"n\">iter</span>::<span class=\"n\">plumbing</span>::<span class=\"n\">bridge_producer_consumer</span>::<span class=\"n\">helper</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">49</span>: <span class=\"nc\">std</span>::<span class=\"n\">panicking</span>::<span class=\"kr\">try</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">50</span>: <span class=\"o\">&lt;</span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">StackJob</span><span class=\"o\">&lt;</span><span class=\"n\">L</span><span class=\"p\">,</span><span class=\"n\">F</span><span class=\"p\">,</span><span class=\"n\">R</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">rayon_core</span>::<span class=\"n\">job</span>::<span class=\"n\">Job</span><span class=\"o\">&gt;</span>::<span class=\"n\">execute</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">51</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">WorkerThread</span>::<span class=\"n\">wait_until_cold</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"mi\">52</span>: <span class=\"nc\">rayon_core</span>::<span class=\"n\">registry</span>::<span class=\"n\">ThreadBuilder</span>::<span class=\"n\">run</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nb\">Some</span> <span class=\"nc\">details</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">omitted</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"n\">full</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">verbose</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"p\">.</span><span class=\"w\"></span>\n</code></pre></div>\n<ul>\n<li>OS: Ubuntu 22.04</li>\n</ul>\n<p>Any ideas why this crashes?<br>\nIs is a problem with the wasm file or wasmtime?<br>\n</p>\n</blockquote>",
        "id": 297826317,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1662656701
    }
]