[
    {
        "content": "<p>abrown labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4677\">issue #4677</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"WebAssembly\"><pre><span></span><code><span class=\"p\">(</span><span class=\"k\">module</span>\n  <span class=\"p\">(</span><span class=\"k\">type</span> <span class=\"cm\">(;0;)</span> <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"p\">(</span><span class=\"k\">param</span> <span class=\"kt\">f64</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">result</span> <span class=\"kt\">f64</span><span class=\"p\">)))</span>\n  <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"cm\">(;0;)</span> <span class=\"p\">(</span><span class=\"k\">type</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">param</span> <span class=\"kt\">f64</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">result</span> <span class=\"kt\">f64</span><span class=\"p\">)</span>\n    <span class=\"nb\">local.get</span> <span class=\"mi\">0</span>\n    <span class=\"nb\">f64.sqrt</span>\n  <span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"k\">export</span> <span class=\"s2\">\"test\"</span> <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"mi\">0</span><span class=\"p\">))</span>\n<span class=\"p\">)</span>\n</code></pre></div>\n<p>See crash log, crash input, and the WAT/Wasm file: <a href=\"https://github.com/bytecodealliance/wasmtime/files/9302996/fuzz-bug.zip\">fuzz-bug.zip</a>.</p>\n<h3>Steps to Reproduce</h3>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">$ </span><span class=\"nv\">RUST_LOG</span><span class=\"o\">=</span><span class=\"nv\">wasmtime_fuzzing</span><span class=\"o\">=</span>debug cargo +nightly fuzz run differential_meta fuzz/artifacts/differential_meta/crash-4a7edd5b645711ba09c0356fceb14040e130e948\n</code></pre></div>\n<h3>Expected Results</h3>\n<p>Wasmtime and the spec interpreter should have the same results for <code>f64.sqrt</code>.</p>\n<h3>Actual Results</h3>\n<p>Wasmtime and the spec interpreter have different results:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T18</span>:<span class=\"mi\">27</span>:<span class=\"mi\">26</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">Evaluating</span>: <span class=\"nc\">test</span><span class=\"p\">([</span><span class=\"n\">F64</span><span class=\"p\">(</span><span class=\"mi\">18442240474082181119</span><span class=\"p\">)])</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T18</span>:<span class=\"mi\">27</span>:<span class=\"mi\">26</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\">  </span>-&gt; <span class=\"nc\">results</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">spec</span>: <span class=\"nb\">Ok</span><span class=\"p\">([</span><span class=\"n\">F64</span><span class=\"p\">(</span><span class=\"mi\">9221120237041090560</span><span class=\"p\">)])</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T18</span>:<span class=\"mi\">27</span>:<span class=\"mi\">26</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\">  </span>-&gt; <span class=\"nc\">results</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span>: <span class=\"nb\">Ok</span><span class=\"p\">([</span><span class=\"n\">F64</span><span class=\"p\">(</span><span class=\"mi\">18444492273895866368</span><span class=\"p\">)])</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: <code>meta-diff</code> branch</p>\n<p>Operating system: Fedora 35</p>\n<p>Architecture: x86-64</p>\n<h3>Extra Info</h3>\n<p>@conrad-watt, any thoughts on this one?<br>\n</p>\n</blockquote>",
        "id": 292809434,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1660156246
    },
    {
        "content": "<p>abrown opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4677\">issue #4677</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"WebAssembly\"><pre><span></span><code><span class=\"p\">(</span><span class=\"k\">module</span>\n  <span class=\"p\">(</span><span class=\"k\">type</span> <span class=\"cm\">(;0;)</span> <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"p\">(</span><span class=\"k\">param</span> <span class=\"kt\">f64</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">result</span> <span class=\"kt\">f64</span><span class=\"p\">)))</span>\n  <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"cm\">(;0;)</span> <span class=\"p\">(</span><span class=\"k\">type</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">param</span> <span class=\"kt\">f64</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">result</span> <span class=\"kt\">f64</span><span class=\"p\">)</span>\n    <span class=\"nb\">local.get</span> <span class=\"mi\">0</span>\n    <span class=\"nb\">f64.sqrt</span>\n  <span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"k\">export</span> <span class=\"s2\">\"test\"</span> <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"mi\">0</span><span class=\"p\">))</span>\n<span class=\"p\">)</span>\n</code></pre></div>\n<p>See crash log, crash input, and the WAT/Wasm file: <a href=\"https://github.com/bytecodealliance/wasmtime/files/9302996/fuzz-bug.zip\">fuzz-bug.zip</a>.</p>\n<h3>Steps to Reproduce</h3>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">$ </span><span class=\"nv\">RUST_LOG</span><span class=\"o\">=</span><span class=\"nv\">wasmtime_fuzzing</span><span class=\"o\">=</span>debug cargo +nightly fuzz run differential_meta fuzz/artifacts/differential_meta/crash-4a7edd5b645711ba09c0356fceb14040e130e948\n</code></pre></div>\n<h3>Expected Results</h3>\n<p>Wasmtime and the spec interpreter should have the same results for <code>f64.sqrt</code>.</p>\n<h3>Actual Results</h3>\n<p>Wasmtime and the spec interpreter have different results:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T18</span>:<span class=\"mi\">27</span>:<span class=\"mi\">26</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">Evaluating</span>: <span class=\"nc\">test</span><span class=\"p\">([</span><span class=\"n\">F64</span><span class=\"p\">(</span><span class=\"mi\">18442240474082181119</span><span class=\"p\">)])</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T18</span>:<span class=\"mi\">27</span>:<span class=\"mi\">26</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\">  </span>-&gt; <span class=\"nc\">results</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">spec</span>: <span class=\"nb\">Ok</span><span class=\"p\">([</span><span class=\"n\">F64</span><span class=\"p\">(</span><span class=\"mi\">9221120237041090560</span><span class=\"p\">)])</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T18</span>:<span class=\"mi\">27</span>:<span class=\"mi\">26</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\">  </span>-&gt; <span class=\"nc\">results</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span>: <span class=\"nb\">Ok</span><span class=\"p\">([</span><span class=\"n\">F64</span><span class=\"p\">(</span><span class=\"mi\">18444492273895866368</span><span class=\"p\">)])</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: <code>meta-diff</code> branch</p>\n<p>Operating system: Fedora 35</p>\n<p>Architecture: x86-64</p>\n<h3>Extra Info</h3>\n<p>@conrad-watt, any thoughts on this one?<br>\n</p>\n</blockquote>",
        "id": 292809435,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1660156246
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4677#issuecomment-1211108720\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4677\">issue #4677</a>:</p>\n<blockquote>\n<p>This looks like a case where the debug printing could probably be improved along the lines of what <code>wasmtime-wast</code> does. The <code>F64(N)</code> is actually a float where the bit pattern of the float is represented by <code>N</code> which means the values in question are:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">    </span><span class=\"o\">-</span><span class=\"mf\">1.7976931348623157e308</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">NaN</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">NaN</span><span class=\"w\"></span>\n</code></pre></div>\n<p>so both the spec interpreter and Wasmtime are producing <code>NaN</code>, they're just producing different signs for the nan. I think spec-wise this is allowed and indicates that we'll need to perform nan normalization of results perhaps.</p>\n<p>This is only an issue for the single-instruction-module generator since the wasm-smith generator already has nan canonicalization enabled at the wasm bytecode level to paper over differences between engines.</p>\n</blockquote>",
        "id": 292810746,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1660156691
    },
    {
        "content": "<p>abrown <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4677#issuecomment-1211302464\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4677\">issue #4677</a>:</p>\n<blockquote>\n<p>Thanks; I've updated my branch to take this into account (somewhat).</p>\n</blockquote>",
        "id": 292836874,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1660167368
    },
    {
        "content": "<p>abrown closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4677\">issue #4677</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<div class=\"codehilite\" data-code-language=\"WebAssembly\"><pre><span></span><code><span class=\"p\">(</span><span class=\"k\">module</span>\n  <span class=\"p\">(</span><span class=\"k\">type</span> <span class=\"cm\">(;0;)</span> <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"p\">(</span><span class=\"k\">param</span> <span class=\"kt\">f64</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">result</span> <span class=\"kt\">f64</span><span class=\"p\">)))</span>\n  <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"cm\">(;0;)</span> <span class=\"p\">(</span><span class=\"k\">type</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">param</span> <span class=\"kt\">f64</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">result</span> <span class=\"kt\">f64</span><span class=\"p\">)</span>\n    <span class=\"nb\">local.get</span> <span class=\"mi\">0</span>\n    <span class=\"nb\">f64.sqrt</span>\n  <span class=\"p\">)</span>\n  <span class=\"p\">(</span><span class=\"k\">export</span> <span class=\"s2\">\"test\"</span> <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"mi\">0</span><span class=\"p\">))</span>\n<span class=\"p\">)</span>\n</code></pre></div>\n<p>See crash log, crash input, and the WAT/Wasm file: <a href=\"https://github.com/bytecodealliance/wasmtime/files/9302996/fuzz-bug.zip\">fuzz-bug.zip</a>.</p>\n<h3>Steps to Reproduce</h3>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">$ </span><span class=\"nv\">RUST_LOG</span><span class=\"o\">=</span><span class=\"nv\">wasmtime_fuzzing</span><span class=\"o\">=</span>debug cargo +nightly fuzz run differential_meta fuzz/artifacts/differential_meta/crash-4a7edd5b645711ba09c0356fceb14040e130e948\n</code></pre></div>\n<h3>Expected Results</h3>\n<p>Wasmtime and the spec interpreter should have the same results for <code>f64.sqrt</code>.</p>\n<h3>Actual Results</h3>\n<p>Wasmtime and the spec interpreter have different results:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T18</span>:<span class=\"mi\">27</span>:<span class=\"mi\">26</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"n\">Evaluating</span>: <span class=\"nc\">test</span><span class=\"p\">([</span><span class=\"n\">F64</span><span class=\"p\">(</span><span class=\"mi\">18442240474082181119</span><span class=\"p\">)])</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T18</span>:<span class=\"mi\">27</span>:<span class=\"mi\">26</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\">  </span>-&gt; <span class=\"nc\">results</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">spec</span>: <span class=\"nb\">Ok</span><span class=\"p\">([</span><span class=\"n\">F64</span><span class=\"p\">(</span><span class=\"mi\">9221120237041090560</span><span class=\"p\">)])</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"mi\">2022</span><span class=\"o\">-</span><span class=\"mi\">08</span><span class=\"o\">-</span><span class=\"mi\">10</span><span class=\"n\">T18</span>:<span class=\"mi\">27</span>:<span class=\"mi\">26</span><span class=\"n\">Z</span><span class=\"w\"> </span><span class=\"n\">DEBUG</span><span class=\"w\"> </span><span class=\"n\">wasmtime_fuzzing</span>::<span class=\"n\">oracles</span><span class=\"p\">]</span><span class=\"w\">  </span>-&gt; <span class=\"nc\">results</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span>: <span class=\"nb\">Ok</span><span class=\"p\">([</span><span class=\"n\">F64</span><span class=\"p\">(</span><span class=\"mi\">18444492273895866368</span><span class=\"p\">)])</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: <code>meta-diff</code> branch</p>\n<p>Operating system: Fedora 35</p>\n<p>Architecture: x86-64</p>\n<h3>Extra Info</h3>\n<p>@conrad-watt, any thoughts on this one?<br>\n</p>\n</blockquote>",
        "id": 292836875,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1660167369
    }
]