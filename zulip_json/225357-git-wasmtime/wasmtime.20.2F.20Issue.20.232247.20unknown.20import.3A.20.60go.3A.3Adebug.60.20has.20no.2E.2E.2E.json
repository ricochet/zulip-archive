[
    {
        "content": "<p>nu8 opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>If I have a Go file like this:</p>\n<div class=\"codehilite\" data-code-language=\"Go\"><pre><span></span><code><span class=\"kn\">package</span> <span class=\"nx\">main</span>\n<span class=\"kn\">import</span> <span class=\"s\">\"fmt\"</span>\n\n<span class=\"kd\">func</span> <span class=\"nx\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n   <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"s\">\"May\"</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<p>I can compile like this:</p>\n</blockquote>\n<p>$env:GOARCH = 'wasm'<br>\n$env:GOOS = 'js'<br>\ngo build -o main.wasm a.go</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">then</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">error</span>:\n</code></pre></div>\n\n<p>PS C:\\Users\\spenny\\Desktop&gt; .\\wasmtime.exe .\\main.wasm<br>\nError: failed to run main module <code>.\\main.wasm</code></p>\n<p>Caused by:<br>\n    0: failed to instantiate \".\\\\main.wasm\"<br>\n    1: unknown import: <code>go::debug</code> has not been defined</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code>\n</code></pre></div>",
        "id": 211797403,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601488524
    },
    {
        "content": "<p>nu8 labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>If I have a Go file like this:</p>\n<div class=\"codehilite\" data-code-language=\"Go\"><pre><span></span><code><span class=\"kn\">package</span> <span class=\"nx\">main</span>\n<span class=\"kn\">import</span> <span class=\"s\">\"fmt\"</span>\n\n<span class=\"kd\">func</span> <span class=\"nx\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n   <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"s\">\"May\"</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<p>I can compile like this:</p>\n</blockquote>\n<p>$env:GOARCH = 'wasm'<br>\n$env:GOOS = 'js'<br>\ngo build -o main.wasm a.go</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">but</span><span class=\"w\"> </span><span class=\"n\">then</span><span class=\"w\"> </span><span class=\"n\">I</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"w\"> </span><span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">error</span>:\n</code></pre></div>\n\n<p>PS C:\\Users\\spenny\\Desktop&gt; .\\wasmtime.exe .\\main.wasm<br>\nError: failed to run main module <code>.\\main.wasm</code></p>\n<p>Caused by:<br>\n    0: failed to instantiate \".\\\\main.wasm\"<br>\n    1: unknown import: <code>go::debug</code> has not been defined</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code>\n</code></pre></div>",
        "id": 211797404,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601488524
    },
    {
        "content": "<p>nu8 edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>If I have a Go file like this:</p>\n<div class=\"codehilite\" data-code-language=\"Go\"><pre><span></span><code><span class=\"kn\">package</span> <span class=\"nx\">main</span>\n<span class=\"kn\">import</span> <span class=\"s\">\"fmt\"</span>\n\n<span class=\"kd\">func</span> <span class=\"nx\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n   <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"s\">\"May\"</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<p>I can compile like this:</p>\n<div class=\"codehilite\" data-code-language=\"PowerShell\"><pre><span></span><code><span class=\"nv\">$env:GOARCH</span> <span class=\"p\">=</span> <span class=\"s1\">'wasm'</span>\n<span class=\"nv\">$env:GOOS</span> <span class=\"p\">=</span> <span class=\"s1\">'js'</span>\n<span class=\"n\">go</span> <span class=\"n\">build</span> <span class=\"n\">-o</span> <span class=\"n\">main</span><span class=\"p\">.</span><span class=\"n\">wasm</span> <span class=\"n\">a</span><span class=\"p\">.</span><span class=\"n\">go</span>\n</code></pre></div>\n\n<p>but then I get this error:</p>\n</blockquote>\n<p>PS C:\\Users\\spenny\\Desktop&gt; .\\wasmtime.exe .\\main.wasm<br>\nError: failed to run main module <code>.\\main.wasm</code></p>\n<p>Caused by:<br>\n    0: failed to instantiate \".\\\\main.wasm\"<br>\n    1: unknown import: <code>go::debug</code> has not been defined</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code>\n</code></pre></div>",
        "id": 211797475,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601488561
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247#issuecomment-701568924\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>Go needs a support file that is written in javascript. This includes the <code>go::debug</code> function. <a href=\"https://github.com/golang/go/blob/master/misc/wasm/wasm_exec.js\">https://github.com/golang/go/blob/master/misc/wasm/wasm_exec.js</a></p>\n</blockquote>",
        "id": 211802058,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601490905
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247#issuecomment-702437542\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>Thanks for the report! As @bjorn3 mentioned, though, the <code>wasmtime</code> CLI only predefines the WASI imports, not imports for other runtimes (like Go's). You can provide other wasm modules to load as well, but I don't think there's a wasm version of Go's runtime available right now. I'm not sure if Go supports \"standalone\" wasm without JS, but that will need to be your compile target right now to natively run in Wasmtime with no extra arguments added.</p>\n</blockquote>",
        "id": 211985893,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601592715
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>If I have a Go file like this:</p>\n<div class=\"codehilite\" data-code-language=\"Go\"><pre><span></span><code><span class=\"kn\">package</span> <span class=\"nx\">main</span>\n<span class=\"kn\">import</span> <span class=\"s\">\"fmt\"</span>\n\n<span class=\"kd\">func</span> <span class=\"nx\">main</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n   <span class=\"nx\">fmt</span><span class=\"p\">.</span><span class=\"nx\">Println</span><span class=\"p\">(</span><span class=\"s\">\"May\"</span><span class=\"p\">)</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n<p>I can compile like this:</p>\n<div class=\"codehilite\" data-code-language=\"PowerShell\"><pre><span></span><code><span class=\"nv\">$env:GOARCH</span> <span class=\"p\">=</span> <span class=\"s1\">'wasm'</span>\n<span class=\"nv\">$env:GOOS</span> <span class=\"p\">=</span> <span class=\"s1\">'js'</span>\n<span class=\"n\">go</span> <span class=\"n\">build</span> <span class=\"n\">-o</span> <span class=\"n\">main</span><span class=\"p\">.</span><span class=\"n\">wasm</span> <span class=\"n\">a</span><span class=\"p\">.</span><span class=\"n\">go</span>\n</code></pre></div>\n\n<p>but then I get this error:</p>\n</blockquote>\n<p>PS C:\\Users\\spenny\\Desktop&gt; .\\wasmtime.exe .\\main.wasm<br>\nError: failed to run main module <code>.\\main.wasm</code></p>\n<p>Caused by:<br>\n    0: failed to instantiate \".\\\\main.wasm\"<br>\n    1: unknown import: <code>go::debug</code> has not been defined</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code>\n</code></pre></div>",
        "id": 211985894,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601592715
    },
    {
        "content": "<p>nu8 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247#issuecomment-702439607\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>@alexcrichton so whats the \"right\" way to do this? I prefer Go, but Im not strictly tied to it.</p>\n<p>Does some language, like maybe Rust or something, have a way to do the following? Write a Rust program (perhaps some restriction on what parts of Rust can be used), compile to WASM, then feed the WASM blob to some Runtime? Ideally I dont want to have to deal with any JavaScript, and any step in the process. </p>\n<p>If all that is not possible cool, but online some people have been present WASM like I am describing, and I am just curious if thats actually possible with any of the major languages.</p>\n</blockquote>",
        "id": 211986390,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601593158
    },
    {
        "content": "<p>nu8 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247#issuecomment-702439607\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>@alexcrichton so whats the \"right\" way to do this? I prefer Go, but Im not strictly tied to it.</p>\n<p>Does some language, like maybe Rust or something, have a way to do the following? Write a Rust program (perhaps some restriction on what parts of Rust can be used), compile to WASM, then feed the WASM blob to some Runtime? Ideally I dont want to have to deal with any JavaScript, and any step in the process. </p>\n<p>If all that is not possible cool, but online some people have been presenting WASM like I am describing, and I am just curious if thats actually possible with any of the major languages.</p>\n</blockquote>",
        "id": 211986459,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601593203
    },
    {
        "content": "<p>nu8 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247#issuecomment-702439607\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>@alexcrichton so whats the \"right\" way to do this? I prefer Go, but Im not strictly tied to it.</p>\n<p>Does some language, like maybe Rust or something, have a way to do the following? Write a Rust program (perhaps some restriction on what parts of Rust can be used), compile to WASM, then feed the WASM blob to some Runtime? Ideally I dont want to have to deal with any JavaScript, at any step in the process. </p>\n<p>If all that is not possible cool, but online some people have been presenting WASM like I am describing, and I am just curious if thats actually possible with any of the major languages.</p>\n</blockquote>",
        "id": 211986534,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601593265
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247#issuecomment-702441259\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>The right thing to do here depends on what your goal is with Wasmtime. Do you only want to run the CLI? Or are you thinking of using an embedding? Where are you planning on running wasm?</p>\n<p>In Rust/C/C++ there's a \"wasm32-wasi\" target which you compile for which uses WASI that Wasmtime supports.</p>\n</blockquote>",
        "id": 211986809,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601593487
    },
    {
        "content": "<p>nu8 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247#issuecomment-702442962\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>Personally I would probably just compile some simple command line programs.<br>\nIdeally stuff that would access the filesystem or perhaps download a JSON file,<br>\nbut I dont know what all WASM even allows.</p>\n<p>Of course this is all possible now with many programming languages, but the lure<br>\nof WASM is similar to a Java JAR (as I understand it) or .NET Core, in that<br>\nanyone with those environments, regardless of OS, can just get your blob (WASM<br>\nin this case) and run it on their system.</p>\n<p>This would perhaps all people to just distribute a WASM file, instead of stuff<br>\nlike this:</p>\n<p><a href=\"https://github.com/sharkdp/fd/releases/tag/v8.1.1\">https://github.com/sharkdp/fd/releases/tag/v8.1.1</a></p>\n<p>where you have to distribute an executable for all the platforms you support. If<br>\nI am totally wrong about some or all of this, let me know.</p>\n</blockquote>",
        "id": 211987311,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601593851
    },
    {
        "content": "<p>nu8 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247#issuecomment-702442962\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>Personally I would probably just compile some simple command line programs.<br>\nIdeally stuff that would access the filesystem or perhaps download a JSON file,<br>\nbut I dont know what all WASM even allows.</p>\n<p>Of course this is all possible now with many programming languages, but the lure<br>\nof WASM is similar to a Java JAR (as I understand it) or .NET Core, in that<br>\nanyone with those environments, regardless of OS, can just get your blob (WASM<br>\nin this case) and run it on their system.</p>\n<p>This would perhaps allow people to just distribute a WASM file, instead of stuff<br>\nlike this:</p>\n<p><a href=\"https://github.com/sharkdp/fd/releases/tag/v8.1.1\">https://github.com/sharkdp/fd/releases/tag/v8.1.1</a></p>\n<p>where you have to distribute an executable for all the platforms you support. If<br>\nI am totally wrong about some or all of this, let me know.</p>\n</blockquote>",
        "id": 211987496,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601593997
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247#issuecomment-702765393\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2247\">Issue #2247</a>:</p>\n<blockquote>\n<p>Ok it sounds like for your use case simply compiling a Go program and running it in Wasmtime won't work. It is theoretically possible if you link wasmtime to a runtime which mimics Go's JS runtime, however.</p>\n</blockquote>",
        "id": 212081396,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1601648819
    }
]