[
    {
        "content": "<p><a href=\"https://github.com/Userzxcvbvnm\">Userzxcvbvnm</a> added the bug label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7633\">Issue #7633</a>.</p>",
        "id": 406046169,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701779516
    },
    {
        "content": "<p>Userzxcvbvnm opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7633\">issue #7633</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p>The test.c file is uploaded as <br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/files/13560062/test-c.txt\">test-c.txt</a></p>\n<p>The test.wasm file is uploaded as <br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/files/13560063/test-wasm.txt\">test-wasm.txt</a></p>\n<h3>Steps to Reproduce</h3>\n<p>We create a normal file Data/hello.txt and write some initial content into the file.<br>\nusing command <code>wasmtime run --dir=./Data test.wasm</code> to execute the wasm file.</p>\n<h3>Actual Results</h3>\n<p>In windows, wasmtime do not write any bytes into the file and prints:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Successfully</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">fd</span><span class=\"p\">.</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">offset</span>: <span class=\"mi\">0</span>\n<span class=\"n\">Wrote</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">bytes</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"p\">.</span>\n<span class=\"n\">File</span><span class=\"w\"> </span><span class=\"n\">Size</span>: <span class=\"mi\">33</span><span class=\"w\"> </span><span class=\"n\">bytes</span>\n<span class=\"n\">Leave</span><span class=\"w\"> </span><span class=\"n\">snapshot</span><span class=\"p\">.</span>\n</code></pre></div>\n<p>In linux, wasmtime writes null characters (\\u0000) into the file and prints:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Successfully</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">fd</span><span class=\"p\">.</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">offset</span>: <span class=\"mi\">0</span>\n<span class=\"n\">Wrote</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">bytes</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"p\">.</span>\n<span class=\"n\">File</span><span class=\"w\"> </span><span class=\"n\">Size</span>: <span class=\"mi\">50</span><span class=\"w\"> </span><span class=\"n\">bytes</span>\n<span class=\"n\">Leave</span><span class=\"w\"> </span><span class=\"n\">snapshot</span><span class=\"p\">.</span>\n</code></pre></div>\n<p>There is a difference between executing the wasm file in windows and linux.<br>\nMaybe in linux, this could be a bug?</p>\n<h3>Versions and Environment</h3>\n<p>Ubuntu 20.04 (amd64)<br>\nWindows 10 (x86_64)<br>\nwasmtime 13.0.0<br>\n</p>\n</blockquote>",
        "id": 406046171,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701779517
    },
    {
        "content": "<p>Userzxcvbvnm edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7633\">issue #7633</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p>The test.c file is uploaded as <br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/files/13560062/test-c.txt\">test-c.txt</a></p>\n<p>The test.wasm file is uploaded as <br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/files/13560063/test-wasm.txt\">test-wasm.txt</a></p>\n<h3>Steps to Reproduce</h3>\n<p>We create a normal file Data/hello.txt and write some initial content into the file.<br>\nusing command <code>wasmtime run --dir=./Data test.wasm</code> to execute the wasm file.</p>\n<h3>Actual Results</h3>\n<p>In linux, wasmtime do not write any bytes into the file and prints:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Successfully</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">fd</span><span class=\"p\">.</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">offset</span>: <span class=\"mi\">0</span>\n<span class=\"n\">Wrote</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">bytes</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"p\">.</span>\n<span class=\"n\">File</span><span class=\"w\"> </span><span class=\"n\">Size</span>: <span class=\"mi\">33</span><span class=\"w\"> </span><span class=\"n\">bytes</span>\n<span class=\"n\">Leave</span><span class=\"w\"> </span><span class=\"n\">snapshot</span><span class=\"p\">.</span>\n</code></pre></div>\n<p>In windows, wasmtime writes null characters (\\u0000) into the file and prints:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Successfully</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">fd</span><span class=\"p\">.</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">offset</span>: <span class=\"mi\">0</span>\n<span class=\"n\">Wrote</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">bytes</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"p\">.</span>\n<span class=\"n\">File</span><span class=\"w\"> </span><span class=\"n\">Size</span>: <span class=\"mi\">50</span><span class=\"w\"> </span><span class=\"n\">bytes</span>\n<span class=\"n\">Leave</span><span class=\"w\"> </span><span class=\"n\">snapshot</span><span class=\"p\">.</span>\n</code></pre></div>\n<p>There is a difference between executing the wasm file in windows and linux.<br>\nMaybe in linux, this could be a bug?</p>\n<h3>Versions and Environment</h3>\n<p>Ubuntu 20.04 (amd64)<br>\nWindows 10 (x86_64)<br>\nwasmtime 13.0.0<br>\n</p>\n</blockquote>",
        "id": 406047308,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701779932
    },
    {
        "content": "<p>Userzxcvbvnm edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7633\">issue #7633</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p>The test.c file is uploaded as <br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/files/13560062/test-c.txt\">test-c.txt</a></p>\n<p>The test.wasm file is uploaded as <br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/files/13560063/test-wasm.txt\">test-wasm.txt</a></p>\n<h3>Steps to Reproduce</h3>\n<p>We create a normal file Data/hello.txt and write some initial content into the file.<br>\nusing command <code>wasmtime run --dir=./Data test.wasm</code> to execute the wasm file.</p>\n<h3>Actual Results</h3>\n<p>In linux, wasmtime do not write any bytes into the file and prints:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Successfully</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">fd</span><span class=\"p\">.</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">offset</span>: <span class=\"mi\">0</span>\n<span class=\"n\">Wrote</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">bytes</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"p\">.</span>\n<span class=\"n\">File</span><span class=\"w\"> </span><span class=\"n\">Size</span>: <span class=\"mi\">30</span><span class=\"w\"> </span><span class=\"n\">bytes</span>\n<span class=\"n\">Leave</span><span class=\"w\"> </span><span class=\"n\">snapshot</span><span class=\"p\">.</span>\n</code></pre></div>\n<p>In windows, wasmtime writes null characters (\\u0000) into the file and prints:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Successfully</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">fd</span><span class=\"p\">.</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">offset</span>: <span class=\"mi\">0</span>\n<span class=\"n\">Wrote</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">bytes</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"p\">.</span>\n<span class=\"n\">File</span><span class=\"w\"> </span><span class=\"n\">Size</span>: <span class=\"mi\">50</span><span class=\"w\"> </span><span class=\"n\">bytes</span>\n<span class=\"n\">Leave</span><span class=\"w\"> </span><span class=\"n\">snapshot</span><span class=\"p\">.</span>\n</code></pre></div>\n<p>There is a difference between executing the wasm file in windows and linux.<br>\nMaybe in linux, this could be a bug?</p>\n<h3>Versions and Environment</h3>\n<p>Ubuntu 20.04 (amd64)<br>\nWindows 10 (x86_64)<br>\nwasmtime 13.0.0<br>\n</p>\n</blockquote>",
        "id": 406047375,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701779953
    },
    {
        "content": "<p>pchickey <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7633#issuecomment-1841266940\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7633\">issue #7633</a>:</p>\n<blockquote>\n<p>Thanks for the report. In the future, can you add to your reports the traces given when WASMTIME_LOG=wasmtime_wasi=trace is set in your host environment?</p>\n</blockquote>",
        "id": 406109149,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1701796724
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7633\">issue #7633</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p>The test.c file is uploaded as <br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/files/13560062/test-c.txt\">test-c.txt</a></p>\n<p>The test.wasm file is uploaded as <br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/files/13560063/test-wasm.txt\">test-wasm.txt</a></p>\n<h3>Steps to Reproduce</h3>\n<p>We create a normal file Data/hello.txt and write some initial content into the file.<br>\nusing command <code>wasmtime run --dir=./Data test.wasm</code> to execute the wasm file.</p>\n<h3>Actual Results</h3>\n<p>In linux, wasmtime do not write any bytes into the file and prints:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Successfully</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">fd</span><span class=\"p\">.</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">offset</span>: <span class=\"mi\">0</span>\n<span class=\"n\">Wrote</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">bytes</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"p\">.</span>\n<span class=\"n\">File</span><span class=\"w\"> </span><span class=\"n\">Size</span>: <span class=\"mi\">30</span><span class=\"w\"> </span><span class=\"n\">bytes</span>\n<span class=\"n\">Leave</span><span class=\"w\"> </span><span class=\"n\">snapshot</span><span class=\"p\">.</span>\n</code></pre></div>\n<p>In windows, wasmtime writes null characters (\\u0000) into the file and prints:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Successfully</span><span class=\"w\"> </span><span class=\"n\">get</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">fd</span><span class=\"p\">.</span>\n<span class=\"n\">Current</span><span class=\"w\"> </span><span class=\"n\">offset</span>: <span class=\"mi\">0</span>\n<span class=\"n\">Wrote</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">bytes</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"p\">.</span>\n<span class=\"n\">File</span><span class=\"w\"> </span><span class=\"n\">Size</span>: <span class=\"mi\">50</span><span class=\"w\"> </span><span class=\"n\">bytes</span>\n<span class=\"n\">Leave</span><span class=\"w\"> </span><span class=\"n\">snapshot</span><span class=\"p\">.</span>\n</code></pre></div>\n<p>There is a difference between executing the wasm file in windows and linux.<br>\nMaybe in linux, this could be a bug?</p>\n<h3>Versions and Environment</h3>\n<p>Ubuntu 20.04 (amd64)<br>\nWindows 10 (x86_64)<br>\nwasmtime 13.0.0<br>\n</p>\n</blockquote>",
        "id": 421351419,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1707872295
    }
]