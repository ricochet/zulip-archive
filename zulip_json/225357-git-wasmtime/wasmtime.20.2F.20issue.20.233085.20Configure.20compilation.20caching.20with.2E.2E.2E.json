[
    {
        "content": "<p>srenatus opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3085\">issue #3085</a>:</p>\n<blockquote>\n<h4>Feature</h4>\n<p>For embedding wasmtime, i.e., usage via a language bindings, it would be nice if the config cache related settings could be provided via API calls, not config files.</p>\n<h4>Benefit</h4>\n<p>For use cases embedding wasmtime, it might not be desirable to expose the config file to users of the project that's using wasmtime inside. Furthermore, deploying a configuration file, and handling its absolute path is cumbersome for deployment.</p>\n<p>E.g. if there's a CLI application that's using wasmtime, and the user would download the executable and run it, we'd either have to</p>\n<ol>\n<li>create a config in a temp directory on the fly and remove it afterwards, or</li>\n<li>instruct the user to put a config into the right place</li>\n</ol>\n<h4>Implementation</h4>\n<p>It would be nice if the compilation cache settings were exposed in the same way other settings are -- sketching in Go, it could be</p>\n<div class=\"codehilite\" data-code-language=\"Go\"><pre><span></span><code><span class=\"kd\">func</span> <span class=\"p\">(</span><span class=\"o\">*</span><span class=\"nx\">Config</span><span class=\"p\">)</span> <span class=\"nx\">SetCache</span><span class=\"p\">(</span><span class=\"nx\">enabled</span> <span class=\"kt\">bool</span><span class=\"p\">)</span>\n<span class=\"kd\">func</span> <span class=\"p\">(</span><span class=\"o\">*</span><span class=\"nx\">Config</span><span class=\"p\">)</span> <span class=\"nx\">SetCacheDirectory</span><span class=\"p\">(</span><span class=\"nx\">path</span> <span class=\"kt\">string</span><span class=\"p\">)</span>\n</code></pre></div>\n<p>etc.</p>\n<h4>Alternatives</h4>\n<p>Maybe what I'm thinking about here would be abusing the cache system? <span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span> I don't know...<br>\n</p>\n</blockquote>",
        "id": 245949705,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1626263886
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3085#issuecomment-879997968\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3085\">issue #3085</a>:</p>\n<blockquote>\n<p>FWIW the caching system is relatively old in Wasmtime and hasn't seen many updates since it was originally added. I suspect that this was the intention all along, it's just that no one got around to it!</p>\n<p>I personally think it'd be good to add programmatic configuration like this. One other possible option is along the lines of how cranelift is configured where string key/value pairs are provided instead of a method-per-configuration-option. That's a bit more flexible for future additions and reduces the API surface area too in theory.</p>\n</blockquote>",
        "id": 245977426,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1626277082
    }
]