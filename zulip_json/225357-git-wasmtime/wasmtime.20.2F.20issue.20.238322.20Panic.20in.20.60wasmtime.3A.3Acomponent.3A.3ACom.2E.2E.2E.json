[
    {
        "content": "<p><a href=\"https://github.com/maxbrunsfeld\">maxbrunsfeld</a> added the bug label to <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8322\">Issue #8322</a>.</p>",
        "id": 432559618,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1712772480
    },
    {
        "content": "<p>maxbrunsfeld opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8322\">issue #8322</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p>Wasm file: <a href=\"https://github.com/bytecodealliance/wasmtime/files/14935987/truncated.wasm.zip\">truncated.wasm.zip</a></p>\n<h3>Steps to Reproduce</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">const</span><span class=\"w\"> </span><span class=\"n\">TRUNCATED_WASM</span>: <span class=\"kp\">&amp;</span><span class=\"p\">[</span><span class=\"kt\">u8</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"fm\">include_bytes!</span><span class=\"p\">(</span><span class=\"s\">\"truncated.wasm\"</span><span class=\"p\">);</span>\n\n<span class=\"k\">async</span><span class=\"w\"> </span><span class=\"k\">fn</span> <span class=\"nf\">test</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"n\">config</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span>::<span class=\"n\">Config</span>::<span class=\"n\">new</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"n\">config</span><span class=\"p\">.</span><span class=\"n\">wasm_component_model</span><span class=\"p\">(</span><span class=\"kc\">true</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">config</span><span class=\"p\">.</span><span class=\"n\">async_support</span><span class=\"p\">(</span><span class=\"kc\">true</span><span class=\"p\">);</span>\n\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">engine</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span>::<span class=\"n\">Engine</span>::<span class=\"n\">new</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">config</span><span class=\"p\">).</span><span class=\"n\">unwrap</span><span class=\"p\">();</span>\n\n<span class=\"w\">    </span><span class=\"n\">wasmtime</span>::<span class=\"n\">component</span>::<span class=\"n\">Component</span>::<span class=\"n\">from_binary</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">engine</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">TRUNCATED_WASM</span><span class=\"p\">).</span><span class=\"k\">await</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<h3>Expected Results</h3>\n<p>The <code>Component::from_binary</code> call should return an <code>Err</code> value.</p>\n<h3>Actual Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Thread</span><span class=\"w\"> </span><span class=\"s\">\"main\"</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"s\">\"range end index 267037 out of range for slice of length 253952\"</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">~</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"n\">f17d22bba15001f</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">environ</span><span class=\"o\">-</span><span class=\"mf\">19.0.0</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">component</span><span class=\"o\">/</span><span class=\"n\">translate</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">537</span>:<span class=\"mi\">46</span>\n\n<span class=\"w\">   </span><span class=\"mi\">5</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_fmt</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mi\">25</span><span class=\"n\">ef9e3d85d934b27d9dada2f9dd52b1dc63bb04</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">72</span>:<span class=\"mi\">14</span>\n<span class=\"w\">   </span><span class=\"mi\">6</span>: <span class=\"nc\">core</span>::<span class=\"n\">slice</span>::<span class=\"n\">index</span>::<span class=\"n\">slice_end_index_len_fail_rt</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mi\">25</span><span class=\"n\">ef9e3d85d934b27d9dada2f9dd52b1dc63bb04</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">slice</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">76</span>:<span class=\"mi\">5</span>\n<span class=\"w\">      </span><span class=\"n\">core</span>::<span class=\"n\">slice</span>::<span class=\"n\">index</span>::<span class=\"n\">slice_end_index_len_fail</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mi\">25</span><span class=\"n\">ef9e3d85d934b27d9dada2f9dd52b1dc63bb04</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">slice</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">68</span>:<span class=\"mi\">9</span>\n<span class=\"w\">   </span><span class=\"mi\">7</span>: <span class=\"o\">&lt;</span><span class=\"n\">core</span>::<span class=\"n\">ops</span>::<span class=\"n\">range</span>::<span class=\"n\">Range</span><span class=\"o\">&lt;</span><span class=\"kt\">usize</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">core</span>::<span class=\"n\">slice</span>::<span class=\"n\">index</span>::<span class=\"n\">SliceIndex</span><span class=\"o\">&lt;</span><span class=\"p\">[</span><span class=\"n\">T</span><span class=\"p\">]</span><span class=\"o\">&gt;&gt;</span>::<span class=\"n\">index</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mi\">25</span><span class=\"n\">ef9e3d85d934b27d9dada2f9dd52b1dc63bb04</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">slice</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">394</span>:<span class=\"mi\">13</span>\n<span class=\"w\">      </span><span class=\"n\">core</span>::<span class=\"n\">slice</span>::<span class=\"n\">index</span>::<span class=\"o\">&lt;</span><span class=\"k\">impl</span><span class=\"w\"> </span><span class=\"n\">core</span>::<span class=\"n\">ops</span>::<span class=\"n\">index</span>::<span class=\"n\">Index</span><span class=\"o\">&lt;</span><span class=\"n\">I</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">T</span><span class=\"p\">]</span><span class=\"o\">&gt;</span>::<span class=\"n\">index</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mi\">25</span><span class=\"n\">ef9e3d85d934b27d9dada2f9dd52b1dc63bb04</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">slice</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">18</span>:<span class=\"mi\">9</span>\n<span class=\"w\">      </span><span class=\"n\">wasmtime_environ</span>::<span class=\"n\">component</span>::<span class=\"n\">translate</span>::<span class=\"n\">Translator</span>::<span class=\"n\">translate_payload</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">luke</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"n\">f17d22bba15001f</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">environ</span><span class=\"o\">-</span><span class=\"mf\">19.0.0</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">component</span><span class=\"o\">/</span><span class=\"n\">translate</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">537</span>:<span class=\"mi\">46</span>\n<span class=\"w\">   </span><span class=\"mi\">8</span>: <span class=\"nc\">wasmtime_environ</span>::<span class=\"n\">component</span>::<span class=\"n\">translate</span>::<span class=\"n\">Translator</span>::<span class=\"n\">translate</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">luke</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"n\">f17d22bba15001f</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">environ</span><span class=\"o\">-</span><span class=\"mf\">19.0.0</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">component</span><span class=\"o\">/</span><span class=\"n\">translate</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">329</span>:<span class=\"mi\">19</span>\n<span class=\"w\">   </span><span class=\"mi\">9</span>: <span class=\"nc\">wasmtime</span>::<span class=\"n\">compile</span>::<span class=\"n\">build_component_artifacts</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">luke</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"n\">f17d22bba15001f</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"mf\">19.0.0</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">compile</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">127</span>:<span class=\"mi\">9</span>\n<span class=\"w\">      </span><span class=\"n\">wasmtime</span>::<span class=\"n\">runtime</span>::<span class=\"n\">component</span>::<span class=\"n\">component</span>::<span class=\"n\">Component</span>::<span class=\"n\">from_binary</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">luke</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"n\">f17d22bba15001f</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"mf\">19.0.0</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">component</span><span class=\"o\">/</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">234</span>:<span class=\"mi\">41</span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 19.0.0<br>\nOperating system: macOS<br>\nArchitecture: aarch64</p>\n<h3>Extra Info</h3>\n<ul>\n<li>We produced this binary by taking a valid wasm component, and then truncating it a certain offset.</li>\n<li>We can work around this bug for now by validating the components with <code>wasmparser</code> before attempting to instantiate them.</li>\n</ul>\n</blockquote>",
        "id": 432559621,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1712772481
    },
    {
        "content": "<p>fitzgen <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8322#issuecomment-2048179038\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8322\">issue #8322</a>:</p>\n<blockquote>\n<p>Thanks!</p>\n<p>FWIW, also reproduces with</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">cargo</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"w\"> </span><span class=\"n\">compile</span><span class=\"w\"> </span><span class=\"n\">testcase</span><span class=\"p\">.</span><span class=\"n\">wasm</span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 432560513,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1712772891
    },
    {
        "content": "<p>fitzgen <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8322#issuecomment-2048219460\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8322\">issue #8322</a>:</p>\n<blockquote>\n<p>Fix in <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8323\">https://github.com/bytecodealliance/wasmtime/pull/8323</a></p>\n<p>@maxbrunsfeld do you want us to cut a point release with this fix?</p>\n</blockquote>",
        "id": 432565477,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1712774879
    },
    {
        "content": "<p>maxbrunsfeld <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8322#issuecomment-2048534346\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8322\">issue #8322</a>:</p>\n<blockquote>\n<p>That'd be great! Thanks @fitzgen.</p>\n</blockquote>",
        "id": 432597596,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1712787698
    },
    {
        "content": "<p>fitzgen <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8322#issuecomment-2048542125\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8322\">issue #8322</a>:</p>\n<blockquote>\n<p>Backport in <a href=\"https://github.com/bytecodealliance/wasmtime/pull/8325\">https://github.com/bytecodealliance/wasmtime/pull/8325</a></p>\n</blockquote>",
        "id": 432598611,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1712788165
    },
    {
        "content": "<p>maxbrunsfeld closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/8322\">issue #8322</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p>Wasm file: <a href=\"https://github.com/bytecodealliance/wasmtime/files/14935987/truncated.wasm.zip\">truncated.wasm.zip</a></p>\n<h3>Steps to Reproduce</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">const</span><span class=\"w\"> </span><span class=\"n\">TRUNCATED_WASM</span>: <span class=\"kp\">&amp;</span><span class=\"p\">[</span><span class=\"kt\">u8</span><span class=\"p\">]</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"fm\">include_bytes!</span><span class=\"p\">(</span><span class=\"s\">\"truncated.wasm\"</span><span class=\"p\">);</span>\n\n<span class=\"k\">async</span><span class=\"w\"> </span><span class=\"k\">fn</span> <span class=\"nf\">test</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"p\">{</span>\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"k\">mut</span><span class=\"w\"> </span><span class=\"n\">config</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span>::<span class=\"n\">Config</span>::<span class=\"n\">new</span><span class=\"p\">();</span>\n<span class=\"w\">    </span><span class=\"n\">config</span><span class=\"p\">.</span><span class=\"n\">wasm_component_model</span><span class=\"p\">(</span><span class=\"kc\">true</span><span class=\"p\">);</span>\n<span class=\"w\">    </span><span class=\"n\">config</span><span class=\"p\">.</span><span class=\"n\">async_support</span><span class=\"p\">(</span><span class=\"kc\">true</span><span class=\"p\">);</span>\n\n<span class=\"w\">    </span><span class=\"kd\">let</span><span class=\"w\"> </span><span class=\"n\">engine</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span>::<span class=\"n\">Engine</span>::<span class=\"n\">new</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">config</span><span class=\"p\">).</span><span class=\"n\">unwrap</span><span class=\"p\">();</span>\n\n<span class=\"w\">    </span><span class=\"n\">wasmtime</span>::<span class=\"n\">component</span>::<span class=\"n\">Component</span>::<span class=\"n\">from_binary</span><span class=\"p\">(</span><span class=\"o\">&amp;</span><span class=\"n\">engine</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">TRUNCATED_WASM</span><span class=\"p\">).</span><span class=\"k\">await</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n<h3>Expected Results</h3>\n<p>The <code>Component::from_binary</code> call should return an <code>Err</code> value.</p>\n<h3>Actual Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Thread</span><span class=\"w\"> </span><span class=\"s\">\"main\"</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"s\">\"range end index 267037 out of range for slice of length 253952\"</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">~</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"n\">f17d22bba15001f</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">environ</span><span class=\"o\">-</span><span class=\"mf\">19.0.0</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">component</span><span class=\"o\">/</span><span class=\"n\">translate</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">537</span>:<span class=\"mi\">46</span>\n\n<span class=\"w\">   </span><span class=\"mi\">5</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_fmt</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mi\">25</span><span class=\"n\">ef9e3d85d934b27d9dada2f9dd52b1dc63bb04</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">72</span>:<span class=\"mi\">14</span>\n<span class=\"w\">   </span><span class=\"mi\">6</span>: <span class=\"nc\">core</span>::<span class=\"n\">slice</span>::<span class=\"n\">index</span>::<span class=\"n\">slice_end_index_len_fail_rt</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mi\">25</span><span class=\"n\">ef9e3d85d934b27d9dada2f9dd52b1dc63bb04</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">slice</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">76</span>:<span class=\"mi\">5</span>\n<span class=\"w\">      </span><span class=\"n\">core</span>::<span class=\"n\">slice</span>::<span class=\"n\">index</span>::<span class=\"n\">slice_end_index_len_fail</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mi\">25</span><span class=\"n\">ef9e3d85d934b27d9dada2f9dd52b1dc63bb04</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">slice</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">68</span>:<span class=\"mi\">9</span>\n<span class=\"w\">   </span><span class=\"mi\">7</span>: <span class=\"o\">&lt;</span><span class=\"n\">core</span>::<span class=\"n\">ops</span>::<span class=\"n\">range</span>::<span class=\"n\">Range</span><span class=\"o\">&lt;</span><span class=\"kt\">usize</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">as</span><span class=\"w\"> </span><span class=\"n\">core</span>::<span class=\"n\">slice</span>::<span class=\"n\">index</span>::<span class=\"n\">SliceIndex</span><span class=\"o\">&lt;</span><span class=\"p\">[</span><span class=\"n\">T</span><span class=\"p\">]</span><span class=\"o\">&gt;&gt;</span>::<span class=\"n\">index</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mi\">25</span><span class=\"n\">ef9e3d85d934b27d9dada2f9dd52b1dc63bb04</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">slice</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">394</span>:<span class=\"mi\">13</span>\n<span class=\"w\">      </span><span class=\"n\">core</span>::<span class=\"n\">slice</span>::<span class=\"n\">index</span>::<span class=\"o\">&lt;</span><span class=\"k\">impl</span><span class=\"w\"> </span><span class=\"n\">core</span>::<span class=\"n\">ops</span>::<span class=\"n\">index</span>::<span class=\"n\">Index</span><span class=\"o\">&lt;</span><span class=\"n\">I</span><span class=\"o\">&gt;</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"n\">T</span><span class=\"p\">]</span><span class=\"o\">&gt;</span>::<span class=\"n\">index</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"mi\">25</span><span class=\"n\">ef9e3d85d934b27d9dada2f9dd52b1dc63bb04</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">slice</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">18</span>:<span class=\"mi\">9</span>\n<span class=\"w\">      </span><span class=\"n\">wasmtime_environ</span>::<span class=\"n\">component</span>::<span class=\"n\">translate</span>::<span class=\"n\">Translator</span>::<span class=\"n\">translate_payload</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">luke</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"n\">f17d22bba15001f</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">environ</span><span class=\"o\">-</span><span class=\"mf\">19.0.0</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">component</span><span class=\"o\">/</span><span class=\"n\">translate</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">537</span>:<span class=\"mi\">46</span>\n<span class=\"w\">   </span><span class=\"mi\">8</span>: <span class=\"nc\">wasmtime_environ</span>::<span class=\"n\">component</span>::<span class=\"n\">translate</span>::<span class=\"n\">Translator</span>::<span class=\"n\">translate</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">luke</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"n\">f17d22bba15001f</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">environ</span><span class=\"o\">-</span><span class=\"mf\">19.0.0</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">component</span><span class=\"o\">/</span><span class=\"n\">translate</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">329</span>:<span class=\"mi\">19</span>\n<span class=\"w\">   </span><span class=\"mi\">9</span>: <span class=\"nc\">wasmtime</span>::<span class=\"n\">compile</span>::<span class=\"n\">build_component_artifacts</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">luke</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"n\">f17d22bba15001f</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"mf\">19.0.0</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">compile</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">127</span>:<span class=\"mi\">9</span>\n<span class=\"w\">      </span><span class=\"n\">wasmtime</span>::<span class=\"n\">runtime</span>::<span class=\"n\">component</span>::<span class=\"n\">component</span>::<span class=\"n\">Component</span>::<span class=\"n\">from_binary</span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">luke</span><span class=\"o\">/</span><span class=\"p\">.</span><span class=\"n\">cargo</span><span class=\"o\">/</span><span class=\"n\">registry</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">index</span><span class=\"p\">.</span><span class=\"n\">crates</span><span class=\"p\">.</span><span class=\"n\">io</span><span class=\"o\">-</span><span class=\"mi\">6</span><span class=\"n\">f17d22bba15001f</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"mf\">19.0.0</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">runtime</span><span class=\"o\">/</span><span class=\"n\">component</span><span class=\"o\">/</span><span class=\"n\">component</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">234</span>:<span class=\"mi\">41</span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: 19.0.0<br>\nOperating system: macOS<br>\nArchitecture: aarch64</p>\n<h3>Extra Info</h3>\n<ul>\n<li>We produced this binary by taking a valid wasm component, and then truncating it a certain offset.</li>\n<li>We can work around this bug for now by validating the components with <code>wasmparser</code> before attempting to instantiate them.</li>\n</ul>\n</blockquote>",
        "id": 432806708,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1712880406
    }
]