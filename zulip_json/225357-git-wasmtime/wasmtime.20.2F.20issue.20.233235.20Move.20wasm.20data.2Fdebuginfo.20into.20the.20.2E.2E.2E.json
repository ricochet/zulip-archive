[
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235#issuecomment-904671058\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235\">issue #3235</a>:</p>\n<blockquote>\n<p>Review-wise the first two commits here are <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3231\">https://github.com/bytecodealliance/wasmtime/pull/3231</a>, so only the later commits are part of this PR</p>\n</blockquote>",
        "id": 250489341,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1629813785
    },
    {
        "content": "<p>github-actions[bot] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235#issuecomment-904689677\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235\">issue #3235</a>:</p>\n<blockquote>\n<h4>Subscribe to Label Action</h4>\n<p>cc @peterhuene</p>\n<p>&lt;details&gt;<br>\nThis issue or pull request has been labeled: \"wasmtime:api\"</p>\n<p>Thus the following users have been cc'd because of the following labels:</p>\n<ul>\n<li>peterhuene: wasmtime:api</li>\n</ul>\n<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>\n<p><a href=\"https://github.com/bytecodealliance/subscribe-to-label-action\">Learn more.</a><br>\n&lt;/details&gt;</p>\n</blockquote>",
        "id": 250492255,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1629815074
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235#issuecomment-904934524\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235\">issue #3235</a>:</p>\n<blockquote>\n<p>Ok rebased on <code>main</code> now that  #3231 has merged</p>\n</blockquote>",
        "id": 250540364,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1629835262
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235#issuecomment-905008573\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235\">issue #3235</a>:</p>\n<blockquote>\n<p>On CI the ubuntu builder (x86_64 linux) failed with</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">failures</span>:\n\n<span class=\"o\">----</span><span class=\"w\"> </span><span class=\"n\">wast</span>::<span class=\"n\">Cranelift</span>::<span class=\"n\">misc</span>::<span class=\"n\">bulk_memory_operations</span>::<span class=\"n\">imported_memory_copy_pooling</span><span class=\"w\"> </span><span class=\"n\">stdout</span><span class=\"w\"> </span><span class=\"o\">----</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">wast</span>::<span class=\"n\">Cranelift</span>::<span class=\"n\">misc</span>::<span class=\"n\">bulk_memory_operations</span>::<span class=\"n\">imported_memory_copy_pooling</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">called</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"nb\">Result</span>::<span class=\"n\">unwrap</span><span class=\"p\">()</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"nb\">Err</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">value</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">directive</span><span class=\"w\"> </span><span class=\"n\">on</span><span class=\"w\"> </span><span class=\"n\">tests</span><span class=\"o\">/</span><span class=\"n\">misc_testsuite</span><span class=\"o\">/</span><span class=\"n\">bulk</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">operations</span><span class=\"o\">/</span><span class=\"n\">imported</span><span class=\"o\">-</span><span class=\"n\">memory</span><span class=\"o\">-</span><span class=\"n\">copy</span><span class=\"p\">.</span><span class=\"n\">wast</span>:<span class=\"mi\">94</span>:<span class=\"mi\">1</span><span class=\"w\"></span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">result</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">didn</span><span class=\"o\">'</span><span class=\"na\">t</span><span class=\"w\"> </span><span class=\"k\">match</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"nc\">expected</span><span class=\"w\">                  </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"mh\">0x0000000000000001</span><span class=\"w\"></span>\n<span class=\"w\">       </span><span class=\"n\">actual</span><span class=\"w\">                    </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"w\"> </span><span class=\"mh\">0x0000000000000000</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"o\">-</span><span class=\"mi\">57</span><span class=\"n\">f1ea6755e2ec03</span><span class=\"o\">/</span><span class=\"n\">out</span><span class=\"o\">/</span><span class=\"n\">wast_testsuite_tests</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">333</span>:<span class=\"mi\">18</span><span class=\"w\"></span>\n<span class=\"n\">stack</span><span class=\"w\"> </span><span class=\"n\">backtrace</span>:\n   <span class=\"mi\">0</span>: <span class=\"nc\">rust_begin_unwind</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">a178d0322ce20e33eac124758e837cbd80a6f633</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">std</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">515</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">1</span>: <span class=\"nc\">core</span>::<span class=\"n\">panicking</span>::<span class=\"n\">panic_fmt</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">a178d0322ce20e33eac124758e837cbd80a6f633</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">panicking</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">92</span>:<span class=\"mi\">14</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">2</span>: <span class=\"nc\">core</span>::<span class=\"n\">result</span>::<span class=\"n\">unwrap_failed</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">a178d0322ce20e33eac124758e837cbd80a6f633</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">result</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">1355</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">3</span>: <span class=\"nc\">core</span>::<span class=\"n\">result</span>::<span class=\"nb\">Result</span><span class=\"o\">&lt;</span><span class=\"n\">T</span><span class=\"p\">,</span><span class=\"n\">E</span><span class=\"o\">&gt;</span>::<span class=\"n\">unwrap</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">a178d0322ce20e33eac124758e837cbd80a6f633</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">result</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">1037</span>:<span class=\"mi\">23</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">4</span>: <span class=\"nc\">all</span>::<span class=\"n\">wast</span>::<span class=\"n\">Cranelift</span>::<span class=\"n\">misc</span>::<span class=\"n\">bulk_memory_operations</span>::<span class=\"n\">imported_memory_copy_pooling</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"o\">-</span><span class=\"mi\">57</span><span class=\"n\">f1ea6755e2ec03</span><span class=\"o\">/</span><span class=\"n\">out</span><span class=\"o\">/</span><span class=\"n\">wast_testsuite_tests</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">328</span>:<span class=\"mi\">17</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">5</span>: <span class=\"nc\">all</span>::<span class=\"n\">wast</span>::<span class=\"n\">Cranelift</span>::<span class=\"n\">misc</span>::<span class=\"n\">bulk_memory_operations</span>::<span class=\"n\">imported_memory_copy_pooling</span>::<span class=\"p\">{{</span><span class=\"n\">closure</span><span class=\"p\">}}</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"p\">.</span><span class=\"o\">/</span><span class=\"n\">target</span><span class=\"o\">/</span><span class=\"n\">debug</span><span class=\"o\">/</span><span class=\"n\">build</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"o\">-</span><span class=\"mi\">57</span><span class=\"n\">f1ea6755e2ec03</span><span class=\"o\">/</span><span class=\"n\">out</span><span class=\"o\">/</span><span class=\"n\">wast_testsuite_tests</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">326</span>:<span class=\"mi\">13</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">6</span>: <span class=\"nc\">core</span>::<span class=\"n\">ops</span>::<span class=\"n\">function</span>::<span class=\"nb\">FnOnce</span>::<span class=\"n\">call_once</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">a178d0322ce20e33eac124758e837cbd80a6f633</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">ops</span><span class=\"o\">/</span><span class=\"n\">function</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">227</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"w\">   </span><span class=\"mi\">7</span>: <span class=\"nc\">core</span>::<span class=\"n\">ops</span>::<span class=\"n\">function</span>::<span class=\"nb\">FnOnce</span>::<span class=\"n\">call_once</span><span class=\"w\"></span>\n<span class=\"w\">             </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">/</span><span class=\"n\">rustc</span><span class=\"o\">/</span><span class=\"n\">a178d0322ce20e33eac124758e837cbd80a6f633</span><span class=\"o\">/</span><span class=\"n\">library</span><span class=\"o\">/</span><span class=\"n\">core</span><span class=\"o\">/</span><span class=\"n\">src</span><span class=\"o\">/</span><span class=\"n\">ops</span><span class=\"o\">/</span><span class=\"n\">function</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">227</span>:<span class=\"mi\">5</span><span class=\"w\"></span>\n<span class=\"n\">note</span>: <span class=\"nb\">Some</span> <span class=\"nc\">details</span><span class=\"w\"> </span><span class=\"n\">are</span><span class=\"w\"> </span><span class=\"n\">omitted</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">with</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"n\">full</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">verbose</span><span class=\"w\"> </span><span class=\"n\">backtrace</span><span class=\"p\">.</span><span class=\"w\"></span>\n\n\n<span class=\"n\">failures</span>:\n    <span class=\"nc\">wast</span>::<span class=\"n\">Cranelift</span>::<span class=\"n\">misc</span>::<span class=\"n\">bulk_memory_operations</span>::<span class=\"n\">imported_memory_copy_pooling</span><span class=\"w\"></span>\n\n<span class=\"n\">test</span><span class=\"w\"> </span><span class=\"n\">result</span>: <span class=\"nc\">FAILED</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"mi\">457</span><span class=\"w\"> </span><span class=\"n\">passed</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"mi\">1</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">ignored</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"mi\">0</span><span class=\"w\"> </span><span class=\"n\">measured</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"mi\">213</span><span class=\"w\"> </span><span class=\"n\">filtered</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">finished</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"mf\">69.78</span><span class=\"n\">s</span><span class=\"w\"></span>\n\n<span class=\"n\">error</span>: <span class=\"nc\">test</span><span class=\"w\"> </span><span class=\"n\">failed</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">rerun</span><span class=\"w\"> </span><span class=\"n\">pass</span><span class=\"w\"> </span><span class=\"o\">'-</span><span class=\"n\">p</span><span class=\"w\"> </span><span class=\"n\">wasmtime</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">test</span><span class=\"w\"> </span><span class=\"n\">all</span><span class=\"o\">'</span><span class=\"w\"></span>\n</code></pre></div>\n<p>I'm going to rerun to see if it's spurious because I can't reproduce locally. If it's spurious, though, that makes this worse...</p>\n</blockquote>",
        "id": 250556055,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1629842797
    },
    {
        "content": "<p>peterhuene <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235#issuecomment-905022518\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235\">issue #3235</a>:</p>\n<blockquote>\n<p>That's worrisome and not something I've seen before.</p>\n</blockquote>",
        "id": 250559056,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1629844663
    },
    {
        "content": "<p>peterhuene <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235#issuecomment-905024666\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235\">issue #3235</a>:</p>\n<blockquote>\n<p>I can't explain why this would be spurious, but it gives me pause given the fact we just changed memory initialization code a bit (the failure appears to be on just validating that an imported memory has the expected data segment initialized).</p>\n</blockquote>",
        "id": 250559506,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1629844988
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235#issuecomment-905027527\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235\">issue #3235</a>:</p>\n<blockquote>\n<p>Yeah I suspect the error is in my previous PR as well, I'll try to dig more into that tomorrow, this shouldn't land in the meantime</p>\n</blockquote>",
        "id": 250560177,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1629845444
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235#issuecomment-905033702\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235\">issue #3235</a>:</p>\n<blockquote>\n<p>Ok I've reproduced this locally, more investigation tomorrow!</p>\n</blockquote>",
        "id": 250561657,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1629846393
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235#issuecomment-905529248\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3235\">issue #3235</a>:</p>\n<blockquote>\n<p>I believe the spurious failure I saw wasn't in this PR, but rather the previous PR, and should be fixed in <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3238\">https://github.com/bytecodealliance/wasmtime/pull/3238</a>, so I'm gonna go ahead and merge this.</p>\n</blockquote>",
        "id": 250624560,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1629900183
    }
]