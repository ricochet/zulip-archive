[
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/837#issuecomment-928096534\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/837\">issue #837</a>:</p>\n<blockquote>\n<p>Lightbeam was removed in <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3390\">https://github.com/bytecodealliance/wasmtime/pull/3390</a> as explained in <a href=\"https://github.com/bytecodealliance/rfcs/pull/14\">RFC 14</a>, so I'm going to close this.</p>\n</blockquote>",
        "id": 255087299,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1632763810
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/837\">issue #837</a>:</p>\n<blockquote>\n<h1>Issue description</h1>\n<p><code>lightbeam</code> will try to calculate the remainder even if an overflow occurs in the function <code>rem_s</code>. </p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>$ ./debug_diff_compile panic_remainder_overflow_868_2.wasm\nthread <span class=\"s1\">'main'</span> panicked at <span class=\"s1\">'attempt to calculate the remainder with overflow'</span>, XXX/wasmtime/crates/lightbeam/src/backend.rs:868:56\nnote: run with <span class=\"sb\">`</span><span class=\"nv\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"m\">1</span><span class=\"sb\">`</span> environment variable to display a backtrace.\n</code></pre></div>\n<p>This issue is related to the function <code>rem_s</code> when dealing with the <code>i32.rem_s</code> opcode:</p>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/blob/420dcd76fd0d684291901c7a6afeb481481dea7e/crates/lightbeam/src/backend.rs#L867-L869\">https://github.com/bytecodealliance/wasmtime/blob/420dcd76fd0d684291901c7a6afeb481481dea7e/crates/lightbeam/src/backend.rs#L867-L869</a></p>\n<p>I suspect this issue can also occurs in <code>rem_u</code>:</p>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/blob/420dcd76fd0d684291901c7a6afeb481481dea7e/crates/lightbeam/src/backend.rs#L826-L829\">https://github.com/bytecodealliance/wasmtime/blob/420dcd76fd0d684291901c7a6afeb481481dea7e/crates/lightbeam/src/backend.rs#L826-L829</a></p>\n<h1>Reproduction</h1>\n<p>Download <br>\n<a href=\"https://github.com/bytecodealliance/wasmtime/files/4077577/panic_remainder_overflow_868.zip\">panic_remainder_overflow_868.zip</a></p>\n<div class=\"codehilite\" data-code-language=\"WebAssembly\"><pre><span></span><code><span class=\"p\">(</span><span class=\"k\">module</span>\n  <span class=\"p\">(</span><span class=\"k\">type</span> <span class=\"cm\">(;0;)</span> <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"p\">(</span><span class=\"k\">result</span> <span class=\"kt\">i32</span><span class=\"p\">)))</span>\n  <span class=\"p\">(</span><span class=\"k\">func</span> <span class=\"cm\">(;0;)</span> <span class=\"p\">(</span><span class=\"k\">type</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">(</span><span class=\"k\">result</span> <span class=\"kt\">i32</span><span class=\"p\">)</span>\n    <span class=\"nb\">i32.const</span> <span class=\"mf\">-2147483648</span>\n    <span class=\"nb\">i32.const</span> <span class=\"mi\">-1</span>\n    <span class=\"nb\">i32.rem_s</span>\n    <span class=\"nb\">unreachable</span><span class=\"p\">))</span>\n</code></pre></div>\n<p>wasmtime commit: 7890fa670547578f549a5e4e5d0f69788bed96cf</p>\n</blockquote>",
        "id": 255087301,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1632763810
    }
]