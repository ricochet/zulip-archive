[
    {
        "content": "<p>qinxk-inter labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2379\">Issue #2379</a>:</p>\n<blockquote>\n<p><strong>- What are the steps to reproduce the issue?</strong><br>\nt.wasm is wat2wasm from below text:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"p\">(</span><span class=\"n\">module</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">(</span><span class=\"n\">func</span><span class=\"w\"> </span><span class=\"cp\">$add</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">param</span><span class=\"w\"> </span><span class=\"cp\">$lhs</span><span class=\"w\"> </span><span class=\"kt\">i32</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">param</span><span class=\"w\"> </span><span class=\"cp\">$rhs</span><span class=\"w\"> </span><span class=\"kt\">i32</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"w\"> </span><span class=\"kt\">i32</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">get_local</span><span class=\"w\"> </span><span class=\"cp\">$lhs</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">get_local</span><span class=\"w\"> </span><span class=\"cp\">$rhs</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"kt\">i32</span><span class=\"p\">.</span><span class=\"n\">add</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">(</span><span class=\"n\">export</span><span class=\"w\"> </span><span class=\"s\">\"add\"</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">func</span><span class=\"w\"> </span><span class=\"cp\">$add</span><span class=\"p\">))</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<p>./wasmtime run --lightbeam t.wasm 1 2<br>\n./wasmtime wasm2obj --lightbeam t.wasm t.obj<br>\n**- What do you expect to happen? What does actually happen? Does it panic, and<br>\n  if so, with which assertion?**<br>\nExpect to be run without any issue. Got error with the output:</p>\n<blockquote>\n<p>thread 'main' panicked at 'index out of bounds: the len is 0 but the index is 0', /PATH/wasmtime/crates/lightbeam/src/backend.rs:637:35<br>\nnote: run with <code>RUST_BACKTRACE=1</code> environment variable to display a backtrace</p>\n</blockquote>\n<p><strong>- Which Wasmtime version / commit hash / branch are you using?</strong><br>\nmain latest by now, commit 12e658a1ef344ccacf872accb0cadd7ef6e8cf4a<br>\n<strong>- If relevant, can you include some extra information about your environment?</strong><br>\n  (Rust version, operating system, architecture...)<br>\nrustc 1.45.2, MacOS</p>\n</blockquote>",
        "id": 216048624,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1604904902
    },
    {
        "content": "<p>qinxk-inter opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2379\">Issue #2379</a>:</p>\n<blockquote>\n<p><strong>- What are the steps to reproduce the issue?</strong><br>\nt.wasm is wat2wasm from below text:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"p\">(</span><span class=\"n\">module</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">(</span><span class=\"n\">func</span><span class=\"w\"> </span><span class=\"cp\">$add</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">param</span><span class=\"w\"> </span><span class=\"cp\">$lhs</span><span class=\"w\"> </span><span class=\"kt\">i32</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">param</span><span class=\"w\"> </span><span class=\"cp\">$rhs</span><span class=\"w\"> </span><span class=\"kt\">i32</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"w\"> </span><span class=\"kt\">i32</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">get_local</span><span class=\"w\"> </span><span class=\"cp\">$lhs</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">get_local</span><span class=\"w\"> </span><span class=\"cp\">$rhs</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"kt\">i32</span><span class=\"p\">.</span><span class=\"n\">add</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">(</span><span class=\"n\">export</span><span class=\"w\"> </span><span class=\"s\">\"add\"</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">func</span><span class=\"w\"> </span><span class=\"cp\">$add</span><span class=\"p\">))</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<p>./wasmtime run --lightbeam t.wasm 1 2<br>\n./wasmtime wasm2obj --lightbeam t.wasm t.obj<br>\n**- What do you expect to happen? What does actually happen? Does it panic, and<br>\n  if so, with which assertion?**<br>\nExpect to be run without any issue. Got error with the output:</p>\n<blockquote>\n<p>thread 'main' panicked at 'index out of bounds: the len is 0 but the index is 0', /PATH/wasmtime/crates/lightbeam/src/backend.rs:637:35<br>\nnote: run with <code>RUST_BACKTRACE=1</code> environment variable to display a backtrace</p>\n</blockquote>\n<p><strong>- Which Wasmtime version / commit hash / branch are you using?</strong><br>\nmain latest by now, commit 12e658a1ef344ccacf872accb0cadd7ef6e8cf4a<br>\n<strong>- If relevant, can you include some extra information about your environment?</strong><br>\n  (Rust version, operating system, architecture...)<br>\nrustc 1.45.2, MacOS</p>\n</blockquote>",
        "id": 216048625,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1604904902
    },
    {
        "content": "<p>bjorn3 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2379#issuecomment-723853274\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2379\">Issue #2379</a>:</p>\n<blockquote>\n<p>The panic happens at <a href=\"https://github.com/bytecodealliance/wasmtime/blob/12e658a1ef344ccacf872accb0cadd7ef6e8cf4a/crates/lightbeam/src/backend.rs#L637\">https://github.com/bytecodealliance/wasmtime/blob/12e658a1ef344ccacf872accb0cadd7ef6e8cf4a/crates/lightbeam/src/backend.rs#L637</a></p>\n<p><code>func_starts</code> should be filled at <a href=\"https://github.com/bytecodealliance/wasmtime/blob/12e658a1ef344ccacf872accb0cadd7ef6e8cf4a/crates/lightbeam/src/backend.rs#L610-L612\">https://github.com/bytecodealliance/wasmtime/blob/12e658a1ef344ccacf872accb0cadd7ef6e8cf4a/crates/lightbeam/src/backend.rs#L610-L612</a></p>\n<p><code>func_count</code> gets it's value from <a href=\"https://github.com/bytecodealliance/wasmtime/blob/77827a48a924337b3b690d8f35aef0f601af6dde/crates/lightbeam/wasmtime/src/lib.rs#L38-L42\">https://github.com/bytecodealliance/wasmtime/blob/77827a48a924337b3b690d8f35aef0f601af6dde/crates/lightbeam/wasmtime/src/lib.rs#L38-L42</a></p>\n<p>All elements in <code>function_body_inputs</code> are taken just before at <a href=\"https://github.com/bytecodealliance/wasmtime/blob/77827a48a924337b3b690d8f35aef0f601af6dde/crates/jit/src/compiler.rs#L131\">https://github.com/bytecodealliance/wasmtime/blob/77827a48a924337b3b690d8f35aef0f601af6dde/crates/jit/src/compiler.rs#L131</a> leaving the count at zero.</p>\n</blockquote>",
        "id": 216054420,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1604910599
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2379#issuecomment-724074549\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2379\">Issue #2379</a>:</p>\n<blockquote>\n<p>The lightbeam backend is known to currently have many bugs in it and is not tested on CI. It's not recommended for widespread usage. Thanks for the report, though, this is good to know when someone gets around to fixing lightbeam issues!</p>\n</blockquote>",
        "id": 216097013,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1604934744
    },
    {
        "content": "<p>alexcrichton labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2379\">Issue #2379</a>:</p>\n<blockquote>\n<p><strong>- What are the steps to reproduce the issue?</strong><br>\nt.wasm is wat2wasm from below text:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"p\">(</span><span class=\"n\">module</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">(</span><span class=\"n\">func</span><span class=\"w\"> </span><span class=\"cp\">$add</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">param</span><span class=\"w\"> </span><span class=\"cp\">$lhs</span><span class=\"w\"> </span><span class=\"kt\">i32</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">param</span><span class=\"w\"> </span><span class=\"cp\">$rhs</span><span class=\"w\"> </span><span class=\"kt\">i32</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">result</span><span class=\"w\"> </span><span class=\"kt\">i32</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">get_local</span><span class=\"w\"> </span><span class=\"cp\">$lhs</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">get_local</span><span class=\"w\"> </span><span class=\"cp\">$rhs</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"kt\">i32</span><span class=\"p\">.</span><span class=\"n\">add</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"p\">(</span><span class=\"n\">export</span><span class=\"w\"> </span><span class=\"s\">\"add\"</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">func</span><span class=\"w\"> </span><span class=\"cp\">$add</span><span class=\"p\">))</span><span class=\"w\"></span>\n<span class=\"p\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<p>./wasmtime run --lightbeam t.wasm 1 2<br>\n./wasmtime wasm2obj --lightbeam t.wasm t.obj<br>\n**- What do you expect to happen? What does actually happen? Does it panic, and<br>\n  if so, with which assertion?**<br>\nExpect to be run without any issue. Got error with the output:</p>\n<blockquote>\n<p>thread 'main' panicked at 'index out of bounds: the len is 0 but the index is 0', /PATH/wasmtime/crates/lightbeam/src/backend.rs:637:35<br>\nnote: run with <code>RUST_BACKTRACE=1</code> environment variable to display a backtrace</p>\n</blockquote>\n<p><strong>- Which Wasmtime version / commit hash / branch are you using?</strong><br>\nmain latest by now, commit 12e658a1ef344ccacf872accb0cadd7ef6e8cf4a<br>\n<strong>- If relevant, can you include some extra information about your environment?</strong><br>\n  (Rust version, operating system, architecture...)<br>\nrustc 1.45.2, MacOS</p>\n</blockquote>",
        "id": 216097029,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1604934752
    },
    {
        "content": "<p>daubaris <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2379#issuecomment-724311403\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2379\">Issue #2379</a>:</p>\n<blockquote>\n<p>Are the lengths of <code>translation.function_body_input</code> and <code>translation.native_signatures</code> are always the same or can they be different in some situations?</p>\n</blockquote>",
        "id": 216150084,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1604960251
    },
    {
        "content": "<p>daubaris edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2379#issuecomment-724311403\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/2379\">Issue #2379</a>:</p>\n<blockquote>\n<p>Are the lengths of <code>translation.function_body_input</code> and <code>translation.native_signatures</code> always the same or can they be different in some situations?</p>\n</blockquote>",
        "id": 216150413,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1604960471
    }
]