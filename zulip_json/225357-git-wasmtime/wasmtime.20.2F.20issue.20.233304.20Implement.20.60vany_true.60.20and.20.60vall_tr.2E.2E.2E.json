[
    {
        "content": "<p>afonso360 <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304#issuecomment-913529433\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304\">issue #3304</a>:</p>\n<blockquote>\n<p>The aarch64 CI failure is interesting. It does not happen locally for me and I'm using a older version than CI.</p>\n<p>Locally:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.2.1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Debian</span><span class=\"w\"> </span><span class=\"mi\">1</span>:<span class=\"mf\">4.2</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"n\">ubuntu6</span><span class=\"p\">.</span><span class=\"mi\">16</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">Copyright</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"mi\">2003</span><span class=\"o\">-</span><span class=\"mi\">2019</span><span class=\"w\"> </span><span class=\"n\">Fabrice</span><span class=\"w\"> </span><span class=\"n\">Bellard</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">QEMU</span><span class=\"w\"> </span><span class=\"n\">Project</span><span class=\"w\"> </span><span class=\"n\">developers</span><span class=\"w\"></span>\n</code></pre></div>\n<p>CI I think is using a custom build, but shows up as <code>6.0.0</code>:</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">shell</span>: <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">bash</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">noprofile</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">norc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">pipefail</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"mi\">0</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">env</span>:\n    <span class=\"nc\">QEMU_BUILD_VERSION</span>: <span class=\"mf\">6.0.0</span><span class=\"w\"></span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 252154966,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1630923390
    },
    {
        "content": "<p>afonso360 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304#issuecomment-913529433\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304\">issue #3304</a>:</p>\n<blockquote>\n<p>The <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304/checks?check_run_id=3523305580#step:12:838\">aarch64 CI failure</a> is interesting. It does not happen locally for me and I'm using a older version than CI.</p>\n<p>Locally:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.2.1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Debian</span><span class=\"w\"> </span><span class=\"mi\">1</span>:<span class=\"mf\">4.2</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"n\">ubuntu6</span><span class=\"p\">.</span><span class=\"mi\">16</span><span class=\"p\">)</span><span class=\"w\"></span>\n<span class=\"n\">Copyright</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">c</span><span class=\"p\">)</span><span class=\"w\"> </span><span class=\"mi\">2003</span><span class=\"o\">-</span><span class=\"mi\">2019</span><span class=\"w\"> </span><span class=\"n\">Fabrice</span><span class=\"w\"> </span><span class=\"n\">Bellard</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">QEMU</span><span class=\"w\"> </span><span class=\"n\">Project</span><span class=\"w\"> </span><span class=\"n\">developers</span><span class=\"w\"></span>\n</code></pre></div>\n<p>CI I think is using a custom build, but shows up as <code>6.0.0</code>:</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">shell</span>: <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">bash</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">noprofile</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">norc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">pipefail</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"mi\">0</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">env</span>:\n    <span class=\"nc\">QEMU_BUILD_VERSION</span>: <span class=\"mf\">6.0.0</span><span class=\"w\"></span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 252155245,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1630923568
    },
    {
        "content": "<p>afonso360 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304#issuecomment-913529433\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304\">issue #3304</a>:</p>\n<blockquote>\n<p>The <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304/checks?check_run_id=3523305580#step:12:838\">aarch64 CI failure</a> is interesting. It does not happen locally for me and I'm using a older version than CI.</p>\n<p>Locally:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.2.1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Debian</span><span class=\"w\"> </span><span class=\"mi\">1</span>:<span class=\"mf\">4.2</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"n\">ubuntu6</span><span class=\"p\">.</span><span class=\"mi\">16</span><span class=\"p\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<p>CI I think is using a custom build, but shows up as <code>6.0.0</code>:</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">shell</span>: <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">bash</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">noprofile</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">norc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">pipefail</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"mi\">0</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">env</span>:\n    <span class=\"nc\">QEMU_BUILD_VERSION</span>: <span class=\"mf\">6.0.0</span><span class=\"w\"></span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 252155352,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1630923622
    },
    {
        "content": "<p>afonso360 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304#issuecomment-913529433\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304\">issue #3304</a>:</p>\n<blockquote>\n<p>The <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304/checks?check_run_id=3523305580#step:12:838\">aarch64 CI failure</a> is interesting. It does not happen locally for me and I'm using an older version than CI.</p>\n<p>Locally:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.2.1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Debian</span><span class=\"w\"> </span><span class=\"mi\">1</span>:<span class=\"mf\">4.2</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"n\">ubuntu6</span><span class=\"p\">.</span><span class=\"mi\">16</span><span class=\"p\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<p>CI I think is using a custom build, but shows up as <code>6.0.0</code>:</p>\n<p><div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">shell</span>: <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">bash</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">noprofile</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">norc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">pipefail</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"mi\">0</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">env</span>:\n    <span class=\"nc\">QEMU_BUILD_VERSION</span>: <span class=\"mf\">6.0.0</span><span class=\"w\"></span>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 252155480,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1630923721
    },
    {
        "content": "<p>afonso360 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304#issuecomment-913529433\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304\">issue #3304</a>:</p>\n<blockquote>\n<p>The <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304/checks?check_run_id=3523305580#step:12:838\">aarch64 CI failure</a> is interesting. It does not happen locally for me and I'm using an older version than CI.</p>\n<p>Locally:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.2.1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Debian</span><span class=\"w\"> </span><span class=\"mi\">1</span>:<span class=\"mf\">4.2</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"n\">ubuntu6</span><span class=\"p\">.</span><span class=\"mi\">16</span><span class=\"p\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<p>CI I think is using a custom build, but shows up as <code>6.0.0</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">shell</span>: <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">bash</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">noprofile</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">norc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">pipefail</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"mi\">0</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">env</span>:\n    <span class=\"nc\">QEMU_BUILD_VERSION</span>: <span class=\"mf\">6.0.0</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Edit: Compiled qemu <code>6.0.0</code> and <code>6.1.0</code> as described in the CI script, and they both fail with illegal instruction.</p>\n<p>Reduced testcase:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"n\">vany_true_b64x2</span><span class=\"p\">()</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">b1</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"n\">block0</span>:\n    <span class=\"nc\">v0</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">vconst</span><span class=\"p\">.</span><span class=\"n\">b64x2</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"kc\">false</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">vany_true</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">run</span>: <span class=\"o\">%</span><span class=\"n\">vany_true_b64x2</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\"></span>\n</code></pre></div>\n<p>This is the only instruction that fails</p>\n</blockquote>",
        "id": 252160065,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1630926583
    },
    {
        "content": "<p>afonso360 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304#issuecomment-913529433\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304\">issue #3304</a>:</p>\n<blockquote>\n<p>The <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304/checks?check_run_id=3523305580#step:12:838\">aarch64 CI failure</a> is interesting. It does not happen locally for me and I'm using an older version than CI.</p>\n<p>Locally:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.2.1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Debian</span><span class=\"w\"> </span><span class=\"mi\">1</span>:<span class=\"mf\">4.2</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"n\">ubuntu6</span><span class=\"p\">.</span><span class=\"mi\">16</span><span class=\"p\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<p>CI I think is using a custom build, but shows up as <code>6.0.0</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">shell</span>: <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">bash</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">noprofile</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">norc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">pipefail</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"mi\">0</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">env</span>:\n    <span class=\"nc\">QEMU_BUILD_VERSION</span>: <span class=\"mf\">6.0.0</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Edit: Compiled qemu <code>6.0.0</code> and <code>6.1.0</code> as described in the CI script, and they both fail with illegal instruction.</p>\n<p>Reduced testcase:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"n\">vany_true_b64x2</span><span class=\"p\">()</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">b1</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"n\">block0</span>:\n    <span class=\"nc\">v0</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">vconst</span><span class=\"p\">.</span><span class=\"n\">b64x2</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"kc\">false</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">vany_true</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">run</span>: <span class=\"o\">%</span><span class=\"n\">vany_true_b64x2</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\"></span>\n</code></pre></div>\n<p>This is the only instruction that fails.</p>\n<p>I think I got something wrong along the way, it looks <code>simd-vanytrue.clif</code> always fails, even in my local qemu <span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span>  </p>\n</blockquote>",
        "id": 252161008,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1630927173
    },
    {
        "content": "<p>afonso360 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304#issuecomment-913529433\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304\">issue #3304</a>:</p>\n<blockquote>\n<p>The <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304/checks?check_run_id=3523305580#step:12:838\">aarch64 CI failure</a> is interesting. It does not happen locally for me and I'm using an older version than CI.</p>\n<p>Locally:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.2.1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Debian</span><span class=\"w\"> </span><span class=\"mi\">1</span>:<span class=\"mf\">4.2</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"n\">ubuntu6</span><span class=\"p\">.</span><span class=\"mi\">16</span><span class=\"p\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<p>CI I think is using a custom build, but shows up as <code>6.0.0</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">shell</span>: <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">bash</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">noprofile</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">norc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">pipefail</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"mi\">0</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">env</span>:\n    <span class=\"nc\">QEMU_BUILD_VERSION</span>: <span class=\"mf\">6.0.0</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Edit: Compiled qemu <code>6.0.0</code> and <code>6.1.0</code> as described in the CI script, and they both fail with illegal instruction.</p>\n<p>Reduced testcase:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"n\">vany_true_b64x2</span><span class=\"p\">()</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">b1</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"n\">block0</span>:\n    <span class=\"nc\">v0</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">vconst</span><span class=\"p\">.</span><span class=\"n\">b64x2</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"kc\">false</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">vany_true</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">run</span>: <span class=\"o\">%</span><span class=\"n\">vany_true_b64x2</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\"></span>\n</code></pre></div>\n<p>This is the only instruction that fails.</p>\n<p>Edit2: I think I got something wrong along the way, it looks <code>simd-vanytrue.clif</code> always fails, even in my local qemu <span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span>  </p>\n</blockquote>",
        "id": 252161743,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1630927588
    },
    {
        "content": "<p>afonso360 edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304#issuecomment-913529433\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304\">issue #3304</a>:</p>\n<blockquote>\n<p>The <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3304/checks?check_run_id=3523305580#step:12:838\">aarch64 CI failure</a> is interesting. It does not happen locally for me and I'm using an older version than CI.</p>\n<p>Locally:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"cp\">$</span><span class=\"w\"> </span><span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">version</span><span class=\"w\"></span>\n<span class=\"n\">qemu</span><span class=\"o\">-</span><span class=\"n\">aarch64</span><span class=\"w\"> </span><span class=\"n\">version</span><span class=\"w\"> </span><span class=\"mf\">4.2.1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"n\">Debian</span><span class=\"w\"> </span><span class=\"mi\">1</span>:<span class=\"mf\">4.2</span><span class=\"o\">-</span><span class=\"mi\">3</span><span class=\"n\">ubuntu6</span><span class=\"p\">.</span><span class=\"mi\">16</span><span class=\"p\">)</span><span class=\"w\"></span>\n</code></pre></div>\n<p>CI I think is using a custom build, but shows up as <code>6.0.0</code>:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"w\">  </span><span class=\"n\">shell</span>: <span class=\"o\">/</span><span class=\"n\">usr</span><span class=\"o\">/</span><span class=\"n\">bin</span><span class=\"o\">/</span><span class=\"n\">bash</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">noprofile</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">norc</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">e</span><span class=\"w\"> </span><span class=\"o\">-</span><span class=\"n\">o</span><span class=\"w\"> </span><span class=\"n\">pipefail</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"mi\">0</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">env</span>:\n    <span class=\"nc\">QEMU_BUILD_VERSION</span>: <span class=\"mf\">6.0.0</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Edit: Compiled qemu <code>6.0.0</code> and <code>6.1.0</code> as described in the CI script, and they both fail with illegal instruction.</p>\n<p>Reduced testcase:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">function</span><span class=\"w\"> </span><span class=\"o\">%</span><span class=\"n\">vany_true_b64x2</span><span class=\"p\">()</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">b1</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"n\">block0</span>:\n    <span class=\"nc\">v0</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">vconst</span><span class=\"p\">.</span><span class=\"n\">b64x2</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"kc\">false</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"p\">]</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"n\">v1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"n\">vany_true</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"k\">return</span><span class=\"w\"> </span><span class=\"n\">v1</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"p\">;</span><span class=\"w\"> </span><span class=\"n\">run</span>: <span class=\"o\">%</span><span class=\"n\">vany_true_b64x2</span><span class=\"p\">()</span><span class=\"w\"> </span><span class=\"o\">==</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\"></span>\n</code></pre></div>\n<p>This is the only instruction that fails.</p>\n<p>Edit2: I think I got something wrong along the way, it looks <code>simd-vanytrue.clif</code> always fails, even in my local qemu <span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span>  </p>\n</blockquote>",
        "id": 252267342,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1631002327
    }
]