[
    {
        "content": "<p><strong>fitzgen</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781\">PR #1781</a>.</p>",
        "id": 199060804,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590689902
    },
    {
        "content": "<p>fitzgen opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781\">PR #1781</a> from <code>externref</code> to <code>master</code>:</p>\n<blockquote>\n<p>This is enough to get an <code>externref -&gt; externref</code> identity function passing.</p>\n<p>However, <code>externref</code>s that are dropped by compiled Wasm code are (safely) leaked. Follow up work will leverage cranelift's stack maps to resolve this issue.</p>\n</blockquote>",
        "id": 199060806,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590689902
    },
    {
        "content": "<p>fitzgen updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781\">PR #1781</a> from <code>externref</code> to <code>master</code>:</p>\n<blockquote>\n<p>This is enough to get an <code>externref -&gt; externref</code> identity function passing.</p>\n<p>However, <code>externref</code>s that are dropped by compiled Wasm code are (safely) leaked. Follow up work will leverage cranelift's stack maps to resolve this issue.</p>\n</blockquote>",
        "id": 199063390,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590690871
    },
    {
        "content": "<p>fitzgen updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781\">PR #1781</a> from <code>externref</code> to <code>master</code>:</p>\n<blockquote>\n<p>This is enough to get an <code>externref -&gt; externref</code> identity function passing.</p>\n<p>However, <code>externref</code>s that are dropped by compiled Wasm code are (safely) leaked. Follow up work will leverage cranelift's stack maps to resolve this issue.</p>\n</blockquote>",
        "id": 199072560,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590694772
    },
    {
        "content": "<p>fitzgen updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781\">PR #1781</a> from <code>externref</code> to <code>master</code>:</p>\n<blockquote>\n<p>This is enough to get an <code>externref -&gt; externref</code> identity function passing.</p>\n<p>However, <code>externref</code>s that are dropped by compiled Wasm code are (safely) leaked. Follow up work will leverage cranelift's stack maps to resolve this issue.</p>\n</blockquote>",
        "id": 199081798,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590697534
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#pullrequestreview-421223183\">PR Review</a>.</p>",
        "id": 199201875,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#pullrequestreview-421223183\">PR Review</a>.</p>",
        "id": 199201877,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432687749\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Since <code>data</code> isn't an owned value this doesn't actually do anything, right?</p>\n</blockquote>",
        "id": 199201879,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432688743\">PR Review Comment</a>:</p>\n<blockquote>\n<p><code>.unwrap()</code>?</p>\n</blockquote>",
        "id": 199201881,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432689833\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Perhaps defer to <a href=\"https://doc.rust-lang.org/std/alloc/fn.handle_alloc_error.html\">https://doc.rust-lang.org/std/alloc/fn.handle_alloc_error.html</a>?</p>\n</blockquote>",
        "id": 199201883,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432688672\">PR Review Comment</a>:</p>\n<blockquote>\n<p>This looks like it's sharing a lot of code with allocation below, could that be refactored out to a shared function?</p>\n</blockquote>",
        "id": 199201885,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432691058\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Is this a place in the C API where the store should be passed in?</p>\n</blockquote>",
        "id": 199201887,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432691566\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Looks like this file became executable?</p>\n</blockquote>",
        "id": 199201891,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432691774\">PR Review Comment</a>:</p>\n<blockquote>\n<p>This can probably just be deleted now, it doesn't seem to serve too much purpose any more</p>\n</blockquote>",
        "id": 199201893,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432690252\">PR Review Comment</a>:</p>\n<blockquote>\n<p>This and traits below seem dangerous since I'd naively expect it to defer to the underlying type (which can't be done here b/c it's not generic). Could this be exposed as a free-function?</p>\n</blockquote>",
        "id": 199201895,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432691472\">PR Review Comment</a>:</p>\n<blockquote>\n<p>This seems like a fine API to expose though, especially because <code>Caller</code> below exposes it too</p>\n</blockquote>",
        "id": 199201896,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432691988\">PR Review Comment</a>:</p>\n<blockquote>\n<p>out of date comment?</p>\n</blockquote>",
        "id": 199201897,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432692407\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Ideally we'd move this out of the <code>wasmtime</code> crate entirely. Can all the <code>host_info</code> stuff move to <code>wasm_store_t</code> in the C API? I think the C API could store a <code>Rc&lt;wasm_store_t&gt;</code> on all the exported types, right?</p>\n</blockquote>",
        "id": 199201898,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432694107\">PR Review Comment</a>:</p>\n<blockquote>\n<p>The only reason this is here is for the <code>host_info</code> APIs, right? If so I would personally prefer that we just jettison that support from the C API for now. I think we should find a better way for implementing that, if necessary, instead of altering the design of the <code>wasmtime</code> crate itself.</p>\n</blockquote>",
        "id": 199201899,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432692836\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Can this structure move to the C API?</p>\n</blockquote>",
        "id": 199201900,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r432692699\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could this pass in <code>self.store()</code> and defer to <code>Debug for Store</code>?</p>\n</blockquote>",
        "id": 199201901,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1590781083
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#pullrequestreview-422164492\">PR Review</a>.</p>",
        "id": 199419947,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043952
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r433476430\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Yeah, this is more of a doing-everything-by-the-book and crossing-out-ts-and-dotting-our-is sort of thing for avoiding UB, but it is maybe overly conservative.</p>\n</blockquote>",
        "id": 199419949,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591043952
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#pullrequestreview-422193398\">PR Review</a>.</p>",
        "id": 199425948,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591046709
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r433499017\">PR Review Comment</a>:</p>\n<blockquote>\n<p>This is needed for the <code>wasi_instance_bind_import</code> WASI C API function -- do you happen to know if this is part of the C API or part of wasi?</p>\n</blockquote>",
        "id": 199425949,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591046710
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#pullrequestreview-422199354\">PR Review</a>.</p>",
        "id": 199427165,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591047368
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r433503646\">PR Review Comment</a>:</p>\n<blockquote>\n<p>As mentioned in chat, it is useful to have this built into the <code>wasmtime</code> crate so that host infos can be cleaned up when their associated <code>externref</code> goes away.</p>\n</blockquote>",
        "id": 199427166,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591047369
    },
    {
        "content": "<p>fitzgen submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#pullrequestreview-422199930\">PR Review</a>.</p>",
        "id": 199427259,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591047437
    },
    {
        "content": "<p>fitzgen created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r433504083\">PR Review Comment</a>:</p>\n<blockquote>\n<p><code>Store</code> doesn't implement <code>Debug</code>, but I can add an impl.</p>\n</blockquote>",
        "id": 199427260,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591047437
    },
    {
        "content": "<p>fitzgen updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781\">PR #1781</a> from <code>externref</code> to <code>master</code>:</p>\n<blockquote>\n<p>This is enough to get an <code>externref -&gt; externref</code> identity function passing.</p>\n<p>However, <code>externref</code>s that are dropped by compiled Wasm code are (safely) leaked. Follow up work will leverage cranelift's stack maps to resolve this issue.</p>\n</blockquote>",
        "id": 199428678,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591048333
    },
    {
        "content": "<p>fitzgen updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781\">PR #1781</a> from <code>externref</code> to <code>master</code>:</p>\n<blockquote>\n<p>This is enough to get an <code>externref -&gt; externref</code> identity function passing.</p>\n<p>However, <code>externref</code>s that are dropped by compiled Wasm code are (safely) leaked. Follow up work will leverage cranelift's stack maps to resolve this issue.</p>\n</blockquote>",
        "id": 199428827,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591048466
    },
    {
        "content": "<p><strong>fitzgen</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781\">PR #1781</a>.</p>",
        "id": 199428880,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591048526
    },
    {
        "content": "<p>fitzgen updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781\">PR #1781</a> from <code>externref</code> to <code>master</code>:</p>\n<blockquote>\n<p>This is enough to get an <code>externref -&gt; externref</code> identity function passing.</p>\n<p>However, <code>externref</code>s that are dropped by compiled Wasm code are (safely) leaked. Follow up work will leverage cranelift's stack maps to resolve this issue.</p>\n</blockquote>",
        "id": 199430189,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591049416
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#pullrequestreview-422864590\">PR Review</a>.</p>",
        "id": 199519836,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591116105
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#discussion_r434021044\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Ah I think that's just part of WASI, but this seems fine to add anyway</p>\n</blockquote>",
        "id": 199519837,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591116105
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781#pullrequestreview-422867145\">PR Review</a>.</p>",
        "id": 199520257,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591116300
    },
    {
        "content": "<p>fitzgen merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/1781\">PR #1781</a>.</p>",
        "id": 199520609,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1591116471
    }
]