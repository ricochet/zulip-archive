[
    {
        "content": "<p>abc767234318 opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458\">issue #4458</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/files/9125060/demo.zip\">demo.zip</a><br>\nThis is a wasm file first mentioned in wasmer issues NO.936.</p>\n<h3>Steps to Reproduce</h3>\n<p>wasmtime --dir=. demo.wasm '{\"a\":\"txt\", \"b\":1}'</p>\n<h3>Expected Results</h3>\n<p>Successfully execute the test.wasm and print :</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">program</span><span class=\"w\"> </span><span class=\"n\">accepts</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">JSON</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"n\">via</span><span class=\"w\"> </span><span class=\"n\">stdin</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">Usage</span><span class=\"p\">]</span>: <span class=\"nc\">wasmer</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">dir</span><span class=\"o\">=</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"p\">{</span><span class=\"s\">\"a\"</span>:<span class=\"s\">\"txt\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"b\"</span>:<span class=\"mi\">2</span><span class=\"p\">}</span><span class=\"o\">'</span><span class=\"w\"></span>\n<span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">unmarshaled</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">saved</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"p\">.</span><span class=\"n\">txt</span><span class=\"w\"></span>\n<span class=\"o\">----------------------------------------</span><span class=\"w\"></span>\n<span class=\"n\">Got</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"s\">\"a\"</span>:<span class=\"s\">\"txt\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"b\"</span>:<span class=\"mi\">1</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"n\">File</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"p\">.</span><span class=\"n\">txt</span><span class=\"w\"> </span><span class=\"n\">updated</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Actual Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">demo</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"err\">`</span><span class=\"w\"></span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">instantiate</span><span class=\"w\"> </span><span class=\"s\">\"demo.wasm\"</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"nc\">command</span><span class=\"w\"> </span><span class=\"n\">export</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"nb\">__</span><span class=\"na\">rustc_debug_gdb_scripts_section__</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: wasmtime-cli 0.38.1</p>\n<p>Operating system: ubuntu20.04<br>\n</p>\n</blockquote>",
        "id": 289805148,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1657941580
    },
    {
        "content": "<p>abc767234318 labeled <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458\">issue #4458</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/files/9125060/demo.zip\">demo.zip</a><br>\nThis is a wasm file first mentioned in wasmer issues NO.936.</p>\n<h3>Steps to Reproduce</h3>\n<p>wasmtime --dir=. demo.wasm '{\"a\":\"txt\", \"b\":1}'</p>\n<h3>Expected Results</h3>\n<p>Successfully execute the test.wasm and print :</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">program</span><span class=\"w\"> </span><span class=\"n\">accepts</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">JSON</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"n\">via</span><span class=\"w\"> </span><span class=\"n\">stdin</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">Usage</span><span class=\"p\">]</span>: <span class=\"nc\">wasmer</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">dir</span><span class=\"o\">=</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"p\">{</span><span class=\"s\">\"a\"</span>:<span class=\"s\">\"txt\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"b\"</span>:<span class=\"mi\">2</span><span class=\"p\">}</span><span class=\"o\">'</span><span class=\"w\"></span>\n<span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">unmarshaled</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">saved</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"p\">.</span><span class=\"n\">txt</span><span class=\"w\"></span>\n<span class=\"o\">----------------------------------------</span><span class=\"w\"></span>\n<span class=\"n\">Got</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"s\">\"a\"</span>:<span class=\"s\">\"txt\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"b\"</span>:<span class=\"mi\">1</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"n\">File</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"p\">.</span><span class=\"n\">txt</span><span class=\"w\"> </span><span class=\"n\">updated</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Actual Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">demo</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"err\">`</span><span class=\"w\"></span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">instantiate</span><span class=\"w\"> </span><span class=\"s\">\"demo.wasm\"</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"nc\">command</span><span class=\"w\"> </span><span class=\"n\">export</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"nb\">__</span><span class=\"na\">rustc_debug_gdb_scripts_section__</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: wasmtime-cli 0.38.1</p>\n<p>Operating system: ubuntu20.04<br>\n</p>\n</blockquote>",
        "id": 289805149,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1657941580
    },
    {
        "content": "<p>abc767234318 edited <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458\">issue #4458</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/files/9125060/demo.zip\">demo.zip</a><br>\nThis is a wasm file first mentioned in wasmer issues NO.936.</p>\n<h3>Steps to Reproduce</h3>\n<p>touch log.txt<br>\nwasmtime --dir=. demo.wasm '{\"a\":\"txt\", \"b\":1}'</p>\n<h3>Expected Results</h3>\n<p>Successfully execute the test.wasm and print :</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">program</span><span class=\"w\"> </span><span class=\"n\">accepts</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">JSON</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"n\">via</span><span class=\"w\"> </span><span class=\"n\">stdin</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">Usage</span><span class=\"p\">]</span>: <span class=\"nc\">wasmer</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">dir</span><span class=\"o\">=</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"p\">{</span><span class=\"s\">\"a\"</span>:<span class=\"s\">\"txt\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"b\"</span>:<span class=\"mi\">2</span><span class=\"p\">}</span><span class=\"o\">'</span><span class=\"w\"></span>\n<span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">unmarshaled</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">saved</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"p\">.</span><span class=\"n\">txt</span><span class=\"w\"></span>\n<span class=\"o\">----------------------------------------</span><span class=\"w\"></span>\n<span class=\"n\">Got</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"s\">\"a\"</span>:<span class=\"s\">\"txt\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"b\"</span>:<span class=\"mi\">1</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"n\">File</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"p\">.</span><span class=\"n\">txt</span><span class=\"w\"> </span><span class=\"n\">updated</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Actual Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">demo</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"err\">`</span><span class=\"w\"></span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">instantiate</span><span class=\"w\"> </span><span class=\"s\">\"demo.wasm\"</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"nc\">command</span><span class=\"w\"> </span><span class=\"n\">export</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"nb\">__</span><span class=\"na\">rustc_debug_gdb_scripts_section__</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: wasmtime-cli 0.38.1</p>\n<p>Operating system: ubuntu20.04<br>\n</p>\n</blockquote>",
        "id": 289805542,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1657942188
    },
    {
        "content": "<p>rostamn739 <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458#issuecomment-1200147425\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458\">issue #4458</a>:</p>\n<blockquote>\n<p>This is a more detailed run with <code>--allow-unknown-exports</code></p>\n<p><div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>✗ cargo run -- run --allow-precompiled --allow-unknown-exports ./demo.cwasm\n     Running <span class=\"sb\">`</span>target/debug/wasmtime run --allow-precompiled --allow-unknown-exports ./demo.cwasm<span class=\"sb\">`</span>\nThe program accepts a JSON input via stdin\n<span class=\"o\">[</span>Usage<span class=\"o\">]</span>: wasmer run --dir<span class=\"o\">=</span>. main.wasm <span class=\"s1\">'{\"a\":\"txt\", \"b\":2}'</span>\nThe input is unmarshaled and saved to a file log.txt\n----------------------------------------\nGot <span class=\"nv\">input</span> <span class=\"o\">=</span> <span class=\"o\">{</span><span class=\"s2\">\"a\"</span>:<span class=\"s2\">\"txt\"</span>,<span class=\"s2\">\"b\"</span>: <span class=\"m\">123</span><span class=\"o\">}</span>\nthread <span class=\"s1\">'main'</span> panicked at <span class=\"s1\">'cannot open file: Custom { kind: Other, error: \"failed to find a preopened file descriptor through which \\\"log.txt\\\" could be opened\" }'</span>, src/libcore/result.rs:1084:5\nnote: run with <span class=\"sb\">`</span><span class=\"nv\">RUST_BACKTRACE</span><span class=\"o\">=</span><span class=\"m\">1</span><span class=\"sb\">`</span> environment variable to display a backtrace.\nError: failed to run main module <span class=\"sb\">`</span>./demo.cwasm<span class=\"sb\">`</span>\n\nCaused by:\n    <span class=\"m\">0</span>: failed to invoke <span class=\"nb\">command</span> default\n    <span class=\"m\">1</span>: wasm trap: wasm <span class=\"sb\">`</span>unreachable<span class=\"sb\">`</span> instruction executed\n       wasm backtrace:\n           <span class=\"m\">0</span>: 0x3adc6 - &lt;unknown&gt;!__rust_start_panic\n           <span class=\"m\">1</span>: 0x3a5ef - &lt;unknown&gt;!rust_panic\n           <span class=\"m\">2</span>: 0x3a2b4 - &lt;unknown&gt;!std::panicking::rust_panic_with_hook::h38e55c6f9a9b5d9f\n           <span class=\"m\">3</span>: 0x3a087 - &lt;unknown&gt;!std::panicking::continue_panic_fmt::hbdab1a44e1ebdad7\n           <span class=\"m\">4</span>: 0x39fe6 - &lt;unknown&gt;!rust_begin_unwind\n           <span class=\"m\">5</span>: 0x43303 - &lt;unknown&gt;!core::panicking::panic_fmt::h7e9f94035af782b3\n           <span class=\"m\">6</span>: 0x4508f - &lt;unknown&gt;!core::result::unwrap_failed::hf7591c1dd9412006\n           <span class=\"m\">7</span>: 0x7e6c - &lt;unknown&gt;!core::result::Result&lt;T,E&gt;::expect::h4b0ac66bb9239b5e\n           <span class=\"m\">8</span>: 0x17ca - &lt;unknown&gt;!demo::main::hd0c421d0ef0fb50e\n           <span class=\"m\">9</span>: 0x1ae5 - &lt;unknown&gt;!std::rt::lang_start::<span class=\"o\">{{</span>closure<span class=\"o\">}}</span>::h298634c7c1655c18\n          <span class=\"m\">10</span>: 0x39966 - &lt;unknown&gt;!std::sys_common::backtrace::__rust_begin_short_backtrace::hf3ea6316715e2a72\n          <span class=\"m\">11</span>: 0x39fd8 - &lt;unknown&gt;!std::panicking::try::do_call::h2cc3188b185bea03\n          <span class=\"m\">12</span>: 0x3adba - &lt;unknown&gt;!__rust_maybe_catch_panic\n          <span class=\"m\">13</span>: 0x3a73c - &lt;unknown&gt;!std::rt::lang_start_internal::h5c7c5a5aac4d00f7\n          <span class=\"m\">14</span>: 0x1a90 - &lt;unknown&gt;!std::rt::lang_start::hbe7627577ab85542\n          <span class=\"m\">15</span>: 0x1a10 - &lt;unknown&gt;!main\n          <span class=\"m\">16</span>:  0x9f5 - &lt;unknown&gt;!_start\n       note: using the <span class=\"sb\">`</span><span class=\"nv\">WASMTIME_BACKTRACE_DETAILS</span><span class=\"o\">=</span><span class=\"m\">1</span><span class=\"sb\">`</span> environment variable to may show more debugging information\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 291425899,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1659183380
    },
    {
        "content": "<p>jameysharp <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458#issuecomment-1209649821\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458\">issue #4458</a>:</p>\n<blockquote>\n<p>According to #2294, newer versions of Rust shouldn't emit the <code>__rustc_debug_gdb_scripts_section__</code> symbol any more. Based on #511, it sounds like 1.50 is new enough, which is over a year old. It looks like this was built with Rust 1.38, which is almost three years old.</p>\n<p>I don't know enough about either Rust's WASI target or wasmtime's WASI implementation, but I'm wondering if recompiling with newer Rust would fix both of these issues.</p>\n<p>@sunfishcode, does this sound familiar to you?</p>\n</blockquote>",
        "id": 292620570,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1660065245
    },
    {
        "content": "<p>sunfishcode <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458#issuecomment-1209683850\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458\">issue #4458</a>:</p>\n<blockquote>\n<p>I don't know recognize <code>__rustc_debug_gdb_scripts_section__</code> myself, but that sounds plausible.</p>\n</blockquote>",
        "id": 292625344,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1660066929
    },
    {
        "content": "<p>sunfishcode edited a <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458#issuecomment-1209683850\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458\">issue #4458</a>:</p>\n<blockquote>\n<p>I don't recognize <code>__rustc_debug_gdb_scripts_section__</code> myself, but that sounds plausible.</p>\n</blockquote>",
        "id": 292625365,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1660066939
    },
    {
        "content": "<p>sunfishcode <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458#issuecomment-1209904512\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458\">issue #4458</a>:</p>\n<blockquote>\n<p>I don't know what toolchain produces the error message \"failed to find a preopened file descriptor through which \\\"log.txt\\\" could be opened\", so it's not clear to me what the problem is, without a significant amount of debugging.</p>\n<p>This binary uses the old \"wasi_unstable\" module. It would be valuable to recompile it and see if the error persists.<br>\n</p>\n</blockquote>",
        "id": 292659096,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1660079778
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458#issuecomment-1334600789\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458\">issue #4458</a>:</p>\n<blockquote>\n<p>I'm going to close this since I believe Wasmtime is working as intended, requiring the <code>--allow-unknown-exports</code> flag. The subsequent error message seems related to the specific wasm module here and possibly a missing <code>--dir .</code> option. I don't think there's anything left to fix per se here, so I'm going to close this.</p>\n</blockquote>",
        "id": 313403133,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1669939641
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/4458\">issue #4458</a>:</p>\n<blockquote>\n<h3>Test Case</h3>\n<p><a href=\"https://github.com/bytecodealliance/wasmtime/files/9125060/demo.zip\">demo.zip</a><br>\nThis is a wasm file first mentioned in wasmer issues NO.936.</p>\n<h3>Steps to Reproduce</h3>\n<p>touch log.txt<br>\nwasmtime --dir=. demo.wasm '{\"a\":\"txt\", \"b\":1}'</p>\n<h3>Expected Results</h3>\n<p>Successfully execute the test.wasm and print :</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">program</span><span class=\"w\"> </span><span class=\"n\">accepts</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">JSON</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"n\">via</span><span class=\"w\"> </span><span class=\"n\">stdin</span><span class=\"w\"></span>\n<span class=\"p\">[</span><span class=\"n\">Usage</span><span class=\"p\">]</span>: <span class=\"nc\">wasmer</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"o\">--</span><span class=\"n\">dir</span><span class=\"o\">=</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"p\">{</span><span class=\"s\">\"a\"</span>:<span class=\"s\">\"txt\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"b\"</span>:<span class=\"mi\">2</span><span class=\"p\">}</span><span class=\"o\">'</span><span class=\"w\"></span>\n<span class=\"n\">The</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">unmarshaled</span><span class=\"w\"> </span><span class=\"n\">and</span><span class=\"w\"> </span><span class=\"n\">saved</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">file</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"p\">.</span><span class=\"n\">txt</span><span class=\"w\"></span>\n<span class=\"o\">----------------------------------------</span><span class=\"w\"></span>\n<span class=\"n\">Got</span><span class=\"w\"> </span><span class=\"n\">input</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"s\">\"a\"</span>:<span class=\"s\">\"txt\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s\">\"b\"</span>:<span class=\"mi\">1</span><span class=\"p\">}</span><span class=\"w\"></span>\n<span class=\"n\">File</span><span class=\"w\"> </span><span class=\"n\">log</span><span class=\"p\">.</span><span class=\"n\">txt</span><span class=\"w\"> </span><span class=\"n\">updated</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Actual Results</h3>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Error</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">run</span><span class=\"w\"> </span><span class=\"n\">main</span><span class=\"w\"> </span><span class=\"n\">module</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">demo</span><span class=\"p\">.</span><span class=\"n\">wasm</span><span class=\"err\">`</span><span class=\"w\"></span>\n\n<span class=\"n\">Caused</span><span class=\"w\"> </span><span class=\"n\">by</span>:\n    <span class=\"mi\">0</span>: <span class=\"nc\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">instantiate</span><span class=\"w\"> </span><span class=\"s\">\"demo.wasm\"</span><span class=\"w\"></span>\n<span class=\"w\">    </span><span class=\"mi\">1</span>: <span class=\"nc\">command</span><span class=\"w\"> </span><span class=\"n\">export</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"nb\">__</span><span class=\"na\">rustc_debug_gdb_scripts_section__</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">is</span><span class=\"w\"> </span><span class=\"n\">not</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">function</span><span class=\"w\"></span>\n</code></pre></div>\n<h3>Versions and Environment</h3>\n<p>Wasmtime version or commit: wasmtime-cli 0.38.1</p>\n<p>Operating system: ubuntu20.04<br>\n</p>\n</blockquote>",
        "id": 313403135,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1669939641
    }
]