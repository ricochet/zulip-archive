[
    {
        "content": "<p><strong>cfallin</strong> requested <a href=\"https://github.com/peterhuene\">peterhuene</a> and <a href=\"https://github.com/abrown\">abrown</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a>.</p>",
        "id": 229139339,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615074583
    },
    {
        "content": "<p>cfallin opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>:</p>\n<blockquote>\n<p>Our previous implementation of unwind infrastructure was somewhat<br>\ncomplex and brittle: it parsed generated instructions in order to<br>\nreverse-engineer unwind info from prologues. It also relied on some<br>\nfragile linkage to communicate instruction-layout information that VCode<br>\nwas not designed to provide.</p>\n<p>A much simpler, more reliable, and easier-to-reason-about approach is to<br>\nembed unwind directives as pseudo-instructions in the prologue as we<br>\ngenerate it. That way, we can say what we mean and just emit it<br>\ndirectly.</p>\n<p>The usual reasoning that leads to the reverse-engineering approach is<br>\nthat metadata is hard to keep in sync across optimization passes; but<br>\nhere, (i) prologues are generated at the very end of the pipeline, and<br>\n(ii) if we ever do a post-prologue-gen optimization, we can treat unwind<br>\ndirectives as black boxes with unknown side-effects, just as we do for<br>\nsome other pseudo-instructions today.</p>\n<p>It turns out that it was easier to just build this for both x64 and<br>\naarch64 (since they share a factored-out ABI implementation), and wire<br>\nup the platform-specific unwind-info generation for Windows and SystemV.<br>\nNow we have simpler unwind on all platforms and we can delete the old<br>\nunwind infra as soon as we remove the old backend.</p>\n<p>here were a few consequences to supporting Fastcall unwind in<br>\nparticular that led to a refactor of the common ABI. Windows only<br>\nsupports naming clobbered-register save locations within 240 bytes of<br>\nthe frame-pointer register, whatever one chooses that to be (RSP or<br>\nRBP). We had previously saved clobbers below the fixed frame (and below<br>\nnominal-SP). The 240-byte range has to include the old RBP too, so we're<br>\nforced to place clobbers at the top of the frame, just below saved<br>\nRBP/RIP. This is fine; we always keep a frame pointer anyway because we<br>\nuse it to refer to stack args. It does mean that offsets of fixed-frame<br>\nslots (spillslots, stackslots) from RBP are no longer known before we do<br>\nregalloc, so if we ever want to index these off of RBP rather than<br>\nnominal-SP because we add support for <code>alloca</code> (dynamic frame growth),<br>\nthen we'll need a \"nominal-BP\" mode that is resolved after regalloc and<br>\nclobber-save code is generated. I added a comment to this effect in<br>\n<code>abi_impl.rs</code>.</p>\n<p>The above refactor touched both x64 and aarch64 because of shared code.<br>\nThis had a further effect in that the old aarch64 prologue generation<br>\nsubtracted from <code>sp</code> once to allocate space, then used stores to <code>[sp,\noffset]</code> to save clobbers. Unfortunately the offset only has 7-bit<br>\nrange, so if there are enough clobbered registers (and there can be --<br>\naarch64 has 384 bytes of registers; at least one unit test hits this)<br>\nthe stores/loads will be out-of-range. I really don't want to synthesize<br>\nlarge-offset sequences here; better to go back to the simpler<br>\npre-index/post-index <code>stp r1, r2, [sp, #-16]</code> form that works just like<br>\na \"push\". It's likely not much worse microarchitecturally (dependence<br>\nchain on SP, but oh well) and it actually saves an instruction if<br>\nthere's no other frame to allocate. As a further advantage, it's much<br>\nsimpler to understand; simpler is usually better.</p>\n<p>This PR adds the new backend on Windows to CI as well.</p>\n</blockquote>",
        "id": 229139340,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615074583
    },
    {
        "content": "<p><strong>cfallin</strong> requested <a href=\"https://github.com/peterhuene\">peterhuene</a> and <a href=\"https://github.com/abrown\">abrown</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a>.</p>",
        "id": 229139341,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615074583
    },
    {
        "content": "<p>cfallin edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>:</p>\n<blockquote>\n<p>Our previous implementation of unwind infrastructure was somewhat<br>\ncomplex and brittle: it parsed generated instructions in order to<br>\nreverse-engineer unwind info from prologues. It also relied on some<br>\nfragile linkage to communicate instruction-layout information that VCode<br>\nwas not designed to provide.</p>\n<p>A much simpler, more reliable, and easier-to-reason-about approach is to<br>\nembed unwind directives as pseudo-instructions in the prologue as we<br>\ngenerate it. That way, we can say what we mean and just emit it<br>\ndirectly.</p>\n<p>The usual reasoning that leads to the reverse-engineering approach is<br>\nthat metadata is hard to keep in sync across optimization passes; but<br>\nhere, (i) prologues are generated at the very end of the pipeline, and<br>\n(ii) if we ever do a post-prologue-gen optimization, we can treat unwind<br>\ndirectives as black boxes with unknown side-effects, just as we do for<br>\nsome other pseudo-instructions today.</p>\n<p>It turns out that it was easier to just build this for both x64 and<br>\naarch64 (since they share a factored-out ABI implementation), and wire<br>\nup the platform-specific unwind-info generation for Windows and SystemV.<br>\nNow we have simpler unwind on all platforms and we can delete the old<br>\nunwind infra as soon as we remove the old backend.</p>\n<p>here were a few consequences to supporting Fastcall unwind in<br>\nparticular that led to a refactor of the common ABI. Windows only<br>\nsupports naming clobbered-register save locations within 240 bytes of<br>\nthe frame-pointer register, whatever one chooses that to be (RSP or<br>\nRBP). We had previously saved clobbers below the fixed frame (and below<br>\nnominal-SP). The 240-byte range has to include the old RBP too, so we're<br>\nforced to place clobbers at the top of the frame, just below saved<br>\nRBP/RIP. This is fine; we always keep a frame pointer anyway because we<br>\nuse it to refer to stack args. It does mean that offsets of fixed-frame<br>\nslots (spillslots, stackslots) from RBP are no longer known before we do<br>\nregalloc, so if we ever want to index these off of RBP rather than<br>\nnominal-SP because we add support for <code>alloca</code> (dynamic frame growth),<br>\nthen we'll need a \"nominal-BP\" mode that is resolved after regalloc and<br>\nclobber-save code is generated. I added a comment to this effect in<br>\n<code>abi_impl.rs</code>.</p>\n<p>The above refactor touched both x64 and aarch64 because of shared code.<br>\nThis had a further effect in that the old aarch64 prologue generation<br>\nsubtracted from <code>sp</code> once to allocate space, then used stores to <code>[sp, offset]</code><br>\nto save clobbers. Unfortunately the offset only has 7-bit<br>\nrange, so if there are enough clobbered registers (and there can be --<br>\naarch64 has 384 bytes of registers; at least one unit test hits this)<br>\nthe stores/loads will be out-of-range. I really don't want to synthesize<br>\nlarge-offset sequences here; better to go back to the simpler<br>\npre-index/post-index <code>stp r1, r2, [sp, #-16]</code> form that works just like<br>\na \"push\". It's likely not much worse microarchitecturally (dependence<br>\nchain on SP, but oh well) and it actually saves an instruction if<br>\nthere's no other frame to allocate. As a further advantage, it's much<br>\nsimpler to understand; simpler is usually better.</p>\n<p>This PR adds the new backend on Windows to CI as well.</p>\n</blockquote>",
        "id": 229139412,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615074611
    },
    {
        "content": "<p>cfallin edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>:</p>\n<blockquote>\n<p>Our previous implementation of unwind infrastructure was somewhat<br>\ncomplex and brittle: it parsed generated instructions in order to<br>\nreverse-engineer unwind info from prologues. It also relied on some<br>\nfragile linkage to communicate instruction-layout information that VCode<br>\nwas not designed to provide.</p>\n<p>A much simpler, more reliable, and easier-to-reason-about approach is to<br>\nembed unwind directives as pseudo-instructions in the prologue as we<br>\ngenerate it. That way, we can say what we mean and just emit it<br>\ndirectly.</p>\n<p>The usual reasoning that leads to the reverse-engineering approach is<br>\nthat metadata is hard to keep in sync across optimization passes; but<br>\nhere, (i) prologues are generated at the very end of the pipeline, and<br>\n(ii) if we ever do a post-prologue-gen optimization, we can treat unwind<br>\ndirectives as black boxes with unknown side-effects, just as we do for<br>\nsome other pseudo-instructions today.</p>\n<p>It turns out that it was easier to just build this for both x64 and<br>\naarch64 (since they share a factored-out ABI implementation), and wire<br>\nup the platform-specific unwind-info generation for Windows and SystemV.<br>\nNow we have simpler unwind on all platforms and we can delete the old<br>\nunwind infra as soon as we remove the old backend.</p>\n<p>There were a few consequences to supporting Fastcall unwind in<br>\nparticular that led to a refactor of the common ABI. Windows only<br>\nsupports naming clobbered-register save locations within 240 bytes of<br>\nthe frame-pointer register, whatever one chooses that to be (RSP or<br>\nRBP). We had previously saved clobbers below the fixed frame (and below<br>\nnominal-SP). The 240-byte range has to include the old RBP too, so we're<br>\nforced to place clobbers at the top of the frame, just below saved<br>\nRBP/RIP. This is fine; we always keep a frame pointer anyway because we<br>\nuse it to refer to stack args. It does mean that offsets of fixed-frame<br>\nslots (spillslots, stackslots) from RBP are no longer known before we do<br>\nregalloc, so if we ever want to index these off of RBP rather than<br>\nnominal-SP because we add support for <code>alloca</code> (dynamic frame growth),<br>\nthen we'll need a \"nominal-BP\" mode that is resolved after regalloc and<br>\nclobber-save code is generated. I added a comment to this effect in<br>\n<code>abi_impl.rs</code>.</p>\n<p>The above refactor touched both x64 and aarch64 because of shared code.<br>\nThis had a further effect in that the old aarch64 prologue generation<br>\nsubtracted from <code>sp</code> once to allocate space, then used stores to <code>[sp, offset]</code><br>\nto save clobbers. Unfortunately the offset only has 7-bit<br>\nrange, so if there are enough clobbered registers (and there can be --<br>\naarch64 has 384 bytes of registers; at least one unit test hits this)<br>\nthe stores/loads will be out-of-range. I really don't want to synthesize<br>\nlarge-offset sequences here; better to go back to the simpler<br>\npre-index/post-index <code>stp r1, r2, [sp, #-16]</code> form that works just like<br>\na \"push\". It's likely not much worse microarchitecturally (dependence<br>\nchain on SP, but oh well) and it actually saves an instruction if<br>\nthere's no other frame to allocate. As a further advantage, it's much<br>\nsimpler to understand; simpler is usually better.</p>\n<p>This PR adds the new backend on Windows to CI as well.</p>\n</blockquote>",
        "id": 229139508,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615074724
    },
    {
        "content": "<p>cfallin edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>:</p>\n<blockquote>\n<p>Our previous implementation of unwind infrastructure was somewhat<br>\ncomplex and brittle: it parsed generated instructions in order to<br>\nreverse-engineer unwind info from prologues. It also relied on some<br>\nfragile linkage to communicate instruction-layout information that VCode<br>\nwas not designed to provide.</p>\n<p>A much simpler, more reliable, and easier-to-reason-about approach is to<br>\nembed unwind directives as pseudo-instructions in the prologue as we<br>\ngenerate it. That way, we can say what we mean and just emit it<br>\ndirectly.</p>\n<p>The usual reasoning that leads to the reverse-engineering approach is<br>\nthat metadata is hard to keep in sync across optimization passes; but<br>\nhere, (i) prologues are generated at the very end of the pipeline, and<br>\n(ii) if we ever do a post-prologue-gen optimization, we can treat unwind<br>\ndirectives as black boxes with unknown side-effects, just as we do for<br>\nsome other pseudo-instructions today.</p>\n<p>It turns out that it was easier to just build this for both x64 and<br>\naarch64 (since they share a factored-out ABI implementation), and wire<br>\nup the platform-specific unwind-info generation for Windows and SystemV.<br>\nNow we have simpler unwind on all platforms and we can delete the old<br>\nunwind infra as soon as we remove the old backend.</p>\n<p>There were a few consequences to supporting Fastcall unwind in<br>\nparticular that led to a refactor of the common ABI. Windows only<br>\nsupports naming clobbered-register save locations within 240 bytes of<br>\nthe frame-pointer register, whatever one chooses that to be (RSP or<br>\nRBP). We had previously saved clobbers below the fixed frame (and below<br>\nnominal-SP). The 240-byte range has to include the old RBP too, so we're<br>\nforced to place clobbers at the top of the frame, just below saved<br>\nRBP/RIP. This is fine; we always keep a frame pointer anyway because we<br>\nuse it to refer to stack args. It does mean that offsets of fixed-frame<br>\nslots (spillslots, stackslots) from RBP are no longer known before we do<br>\nregalloc, so if we ever want to index these off of RBP rather than<br>\nnominal-SP because we add support for <code>alloca</code> (dynamic frame growth),<br>\nthen we'll need a \"nominal-BP\" mode that is resolved after regalloc and<br>\nclobber-save code is generated. I added a comment to this effect in<br>\n<code>abi_impl.rs</code>.</p>\n<p>The above refactor touched both x64 and aarch64 because of shared code.<br>\nThis had a further effect in that the old aarch64 prologue generation<br>\nsubtracted from <code>sp</code> once to allocate space, then used stores to <code>[sp, offset]</code><br>\nto save clobbers. Unfortunately the offset only has 7-bit<br>\nrange, so if there are enough clobbered registers (and there can be --<br>\naarch64 has 768 bytes of registers; at least one unit test hits this)<br>\nthe stores/loads will be out-of-range. I really don't want to synthesize<br>\nlarge-offset sequences here; better to go back to the simpler<br>\npre-index/post-index <code>stp r1, r2, [sp, #-16]</code> form that works just like<br>\na \"push\". It's likely not much worse microarchitecturally (dependence<br>\nchain on SP, but oh well) and it actually saves an instruction if<br>\nthere's no other frame to allocate. As a further advantage, it's much<br>\nsimpler to understand; simpler is usually better.</p>\n<p>This PR adds the new backend on Windows to CI as well.</p>\n</blockquote>",
        "id": 229139576,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615074823
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229139853,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615075104
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-606393511\">PR Review</a>.</p>",
        "id": 229313843,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615216327
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r589496961\">PR Review Comment</a>:</p>\n<blockquote>\n<p>One thing I noticed while reading this is that this might be a bit easier to read if it was framed in the positive (\"unwind_info\") rather than the negative (enabling the disabling switch). Wasmtime would then enable this by default, but it'd be up to other consumers of cranelift whether or not they'd wish to enable this.</p>\n</blockquote>",
        "id": 229313845,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615216327
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229392596,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615244807
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r589816410\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Done, thanks!</p>\n</blockquote>",
        "id": 229392885,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615244932
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-606791817\">PR Review</a>.</p>",
        "id": 229392886,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615244932
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229394634,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615245722
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229395272,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615246007
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229431573,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615273543
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229432558,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615274297
    },
    {
        "content": "<p>bjorn3 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-607223039\">PR Review</a>.</p>",
        "id": 229451454,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615284249
    },
    {
        "content": "<p>bjorn3 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r590163132\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could you restore these tests for the actual unwind info being emitted?</p>\n</blockquote>",
        "id": 229451455,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615284249
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229540134,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615318856
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-607892423\">PR Review</a>.</p>",
        "id": 229544143,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615320397
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r590682069\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Sorry, not sure why I removed that along with the dead code. Added back.</p>\n</blockquote>",
        "id": 229544144,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615320397
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229784046,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615430761
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229784329,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615430944
    },
    {
        "content": "<p><strong>cfallin</strong> requested <a href=\"https://github.com/alexcrichton\">alexcrichton</a>, <a href=\"https://github.com/peterhuene\">peterhuene</a> and <a href=\"https://github.com/abrown\">abrown</a> for a review on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a>.</p>",
        "id": 229889695,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615483358
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610036885\">PR Review</a>.</p>",
        "id": 229909096,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490327
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610036885\">PR Review</a>.</p>",
        "id": 229909097,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490327
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592568373\">PR Review Comment</a>:</p>\n<blockquote>\n<p>FWIW since this is so common in the test suite I think it'd be reasonable to just either have this as the global default for cranelift or either just the default for the test suite.</p>\n</blockquote>",
        "id": 229909098,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592583351\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I'm personally finding this a bit confusing and hard to follow. I have yet to read all the ABI stuff but I'm particularly confused about what the offset is here.</p>\n<p>In the example above this directive comes after <code>mov rbp, rsp</code>, so I'm not sure how the <code>fp_offset</code> plays into what's going on here since there's no frame adjustments at that point. I'm also somewhat confused since this is a <code>u8</code> and we're presumably supporting frames with more than 256 bytes of stack space, so I don't think <code>fp_offset</code> is the size of the stack frame (but the docs say \"base of the frame\" which makes me think it is supposed to encompass the entire stack frame?)</p>\n<p>I may just need to read more to learn about this...<br>\n</p>\n</blockquote>",
        "id": 229909099,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592575802\">PR Review Comment</a>:</p>\n<blockquote>\n<p>temporary allow?</p>\n</blockquote>",
        "id": 229909100,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592586385\">PR Review Comment</a>:</p>\n<blockquote>\n<p>FWIW I'm visiting this location after visiting the definition of <code>UnwindInst</code>, but this seems like a hidden detail that may want to be documented? This seems to indicate that <code>PushOldFp</code> for architectures with <code>lr</code> (e.g. AArch64) indicates that two registers were pushed, both <code>fp</code> and <code>lr</code>? </p>\n<p>Or I guess put another way this <code>PushOldFp</code> is intended to encompass architectures where the \"frame pointer\" is actually two separate registers (sorta)</p>\n</blockquote>",
        "id": 229909101,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592583703\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could these variants explicitly list the value for <code>frame_offset</code> from the variant below?</p>\n</blockquote>",
        "id": 229909102,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592572318\">PR Review Comment</a>:</p>\n<blockquote>\n<p>s/RegUnit/Reg/</p>\n</blockquote>",
        "id": 229909103,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592581309\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could this include the sample value for <code>fp_offset</code> for this variant?</p>\n</blockquote>",
        "id": 229909104,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592571233\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Temporary during development?</p>\n</blockquote>",
        "id": 229909105,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592605759\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I'm surprised here that this can make an assumption about this 16 bytes. While that may be true for x86_64/aarch64 today it seems like it should be factored out perhaps?</p>\n</blockquote>",
        "id": 229909106,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592584486\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could this exhaustively match and then have a comment for why other cases are ignored?</p>\n</blockquote>",
        "id": 229909107,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592617393\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I realize that this code existed before you touched it, but I'm finding myself getting a bit lost in how many offsets from how many things there are with unwinding. Since all variants here have an <code>offset: u8</code>, which I presume is the code offset in the function, could that be factored out separately from the <code>UnwindCode</code> itself? (e.g. stored somewhere as <code>(u8, UnwindCode)</code> instead of just <code>UnwindCode</code></p>\n</blockquote>",
        "id": 229909108,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592618595\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could this use <code>u32::from</code> or <code>.into()</code> to show it's not losing any bits?</p>\n</blockquote>",
        "id": 229909109,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592620261\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I'm a bit confused that this is happening as part of the <code>CreateFPFrame</code> unwind pseudo-instruction here. Given the original example it looked like this pseudo instruction happened as part of the <code>mov %rbp, %rsp</code> portion, but wouldn't the \"stack alloc\" here happen as part of the subtraction from <code>%rsp</code>? Should the <code>CreateFPFrame</code> opcode be split into two?</p>\n</blockquote>",
        "id": 229909110,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592629136\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Technically this is adjusting the stack pointer a lot more than just for the clobbers I think? This is account for the whole frame, clobbers and statically known space needed?</p>\n</blockquote>",
        "id": 229909111,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592630149\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could this be preceded with <code>let off = cur_offset;</code> and then <code>cur_offset</code> is adjusted in the <code>match</code>?</p>\n</blockquote>",
        "id": 229909112,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592624308\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Could this have a comment indicating why this is 16? (presumably that we're skipping the 8 bytes we just pushed plus the 8 bytes pushed by the <code>call</code> instruction)</p>\n</blockquote>",
        "id": 229909113,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592637583\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Technically this restriction is just on Windows x86_64, right? (even if we add AArch64 support for Windows that may have not have the same retrictions?)</p>\n</blockquote>",
        "id": 229909114,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592642534\">PR Review Comment</a>:</p>\n<blockquote>\n<p>This mentions <code>SImm7</code> but below it uses <code>SImm7Scaled</code> which seems to have a range of (63 * 8) to -(64 * 8). Is that a bug in the documentation or am I missing the usage of <code>SImm7</code>? More-or-less I'm wondering if given a 504 byte range we could do everything as a positive offset relative to <code>sp</code>?</p>\n</blockquote>",
        "id": 229909115,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592644024\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Since this and <code>PopOldFP</code> aren't actually used anywhere today, should they be removed for now?</p>\n<p>I'd imagine that unwind info for the epilogue would also need to record that the saved registers no longer need to restored, but I don't think there's any emission for that just yet.</p>\n</blockquote>",
        "id": 229909116,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592607136\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Ah so after further reading this isn't necessarily the entire call frame size, but just the size of the register saves we'll be doing?</p>\n</blockquote>",
        "id": 229909117,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592651022\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Ok so after reading the various ABI implementations I think I understand a little better, but not entirely. It seems like this is primarily around for Windows and calculating adjustments on Unix, right?</p>\n<p>For the Unix case (which I think I understand better) this seems like it should be something like <code>DeclareCobberFrameSize { size: u8 }</code> where it's basically just declaring that all saves to come later are relative offsets within a frame of size <code>size</code>, allocated at the top of the stack just after the frame pointer was pushed.</p>\n<p>For Windows I'm much more unfamiliar with the unwinding stuff. I'm a bit confused, though, on why everything is <code>u8</code> here. It seems to be because of Windows but the <a href=\"https://docs.microsoft.com/en-us/cpp/build/exception-handling-x64?view=msvc-160\">exception codes</a> all have short/far variants which seems like it's trying to account for offsets which are larger than <code>u8</code> perhaps, but I may be misunderstanding something. For Windows though it seems like this should be two instructions, where one signifies the <code>mov %rsp, %rbp</code> happened and the other happens after the stack decrement.</p>\n<p>I'll admit though I'm pretty confused on Windows, and I probably just need to sit down and read through their documentation some more. I'm not sure if we're doing RSP-relative addressing or whatever the second mode is mentioned <a href=\"https://docs.microsoft.com/en-us/cpp/build/exception-handling-x64?view=msvc-160#unwind-operation-code\">at the top of this</a> where something is FP relative. I always seem to get lost in the details thinking about stuff like this.</p>\n</blockquote>",
        "id": 229909118,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592611141\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Hm ok well I was thinking that maybe <code>fp_offset</code> is the size of the clobber are and should be renamed, but I think I'm still just very confused on the definition of what this instruction is, where it goes, and what this offset is.</p>\n</blockquote>",
        "id": 229909119,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615490328
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610179022\">PR Review</a>.</p>",
        "id": 229916977,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615493266
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592686318\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Yes, that's true, but it would be significantly more complex to make the factored-out ABI implementation conditional on platform and do a different thing on aarch64. (It's a tradeoff for sure -- we could fork aarch64's code, as we used to have, but then that doubles the maintenance and update cost in other cases.)</p>\n</blockquote>",
        "id": 229916978,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615493266
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610184257\">PR Review</a>.</p>",
        "id": 229918069,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615493666
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592690256\">PR Review Comment</a>:</p>\n<blockquote>\n<p>So WIndows forces our hand in a few ways here:</p>\n<ul>\n<li>The way that clobbers are located is as a <em>positive</em> offset from the \"frame\", wherever we choose to define the frame. Since we place <code>RBP</code>/<code>FP</code> just below the return address so that we have known offset addressing to stack args, and we place clobbers below <code>RBP</code>, we have to either define the frame in terms of <code>RSP</code> or as some offset below <code>RBP</code>. The former is difficult for several reasons but basically our nominal-SP tracking would not interact well with unwind info due to the order we compute and finalize things. So we define the frame in terms of <code>RBP</code>, but <code>RBP</code> is at the <em>top</em> of it.</li>\n<li>This is what <code>fp_offset</code> means (it comes directly from the \"frame register offset\" field in <code>UNWIND_INFO</code>, which is also the source of the <code>u8</code>-sized limit): when we declare the frame, its base is at <code>RBP - fp_offset</code>. Equivalently, this is saying that the frame pointer is at the \"frame pointer offset\" into the frame.</li>\n<li>Note that on SysV platforms, the frame is defined by the \"CFA\" (call-frame address) which is spec-defined to be the SP value at entry, so instead <code>fp_offset</code> is used to adjust the offsets for clobber-saves.</li>\n<li>The <code>fp_offset</code> size limit (actually 240 bytes) is the reason that clobbers had to be moved to just below <code>RBP</code> as well; otherwise we could not define a frame far enough away from <code>RBP</code> to straddle our other fixed-frame slots.</li>\n</ul>\n</blockquote>",
        "id": 229918071,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615493666
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610185343\">PR Review</a>.</p>",
        "id": 229918256,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615493751
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592691163\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Regarding <code>fp_offset</code> in particular, I'll go over the doc comments some more and see if I can add detail. Perhaps what we really need is just a small tutorial on unwind formats on Windows and SysV and how frames are computed in both cases :-)</p>\n</blockquote>",
        "id": 229918257,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615493751
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610186884\">PR Review</a>.</p>",
        "id": 229918617,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615493873
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592692417\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Yes, I'm thinking now perhaps we just give two offsets to describe FP: its offset above the start of clobbers, and its offset below SP at entry. These are the two values needed to produce either Windows or SysV info so it should make everything else completely platform-agnostic.</p>\n</blockquote>",
        "id": 229918618,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615493874
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610190770\">PR Review</a>.</p>",
        "id": 229919454,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615494169
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592695395\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Perhaps it should just be called <code>CreateFrame</code> -- it was meant to be a single macro-op that captured anything a specific unwind format needs for the prologue. The close mapping between <code>sub %rsp</code> and <code>StackAlloc</code> was the sort of thing I was hoping to avoid in this simplification :-) Given that we pin the frame to <code>RBP</code> with the <code>SetFPReg</code>, the <code>StackAlloc</code> serves only to let the unwinder know that more stack space is being used; so as long as it comes after the <code>SetFPReg</code> and before any uses of the clobber space, it shouldn't matter exactly where it occurs, I think.</p>\n</blockquote>",
        "id": 229919456,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615494169
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610190996\">PR Review</a>.</p>",
        "id": 229919494,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615494187
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592695562\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Yep, that's a stale comment, thanks!</p>\n</blockquote>",
        "id": 229919496,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615494187
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610211803\">PR Review</a>.</p>",
        "id": 229923368,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615495788
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592712013\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Yes, my mistake, it is actually a scaled offset; I'll update the comment, thanks!</p>\n<p>That said, going back to an sp-offset scheme requires two assumptions: (i) the subset of registers that are callee-save fits within 512 bytes; this is true for SysV but may be a subtle footgun in the future; and (ii) that we are alright with a two-stage thing, where we decrement SP once and save clobbers, then decrement again for the frame, unless we special-case the \"everything is in range\" case and collapse those two into one. I'd rather not have that complexity if we can avoid it!</p>\n<p>Basically my high-level bit here is: try to find a common set of simple lowerings and shared layouts/schemes that does not have a lot of special cases for different ABIs, different architectures, different in-range/out-of-range cases; bugs and unmaintainable complexity lie that way. The optimized all-in-one <code>sub sp</code> stuff that this PR removes was already very hard for me to re-internalize when I had to change it for this work. So I'd rather standardize on a simple \"push the things one at a time\" lowering, and have the same frame layout everywhere, to keeps us all sane :-)</p>\n</blockquote>",
        "id": 229923369,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615495788
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610212646\">PR Review</a>.</p>",
        "id": 229923564,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615495860
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592712644\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Ok thanks for the info! This helps dispel some of my confusion. I'm familiar with the CFA in dwarf but the \"cfa equivalent\" was actually in the other direction on Windows and I was getting confused how these two things map to each other. I think for now some extra documentation for how the field is expected to be interpreted on Windows and Unix should be fine myself.</p>\n<p>But for the <code>u8</code>-ness, to make sure I understand, we're declaring to Windows \"all register saves, which occur at positive offsets, are relative to XX\" where XX is <code>RBP-thing</code> and <code>thing</code> is limited to 8 bits? We then have an <em>additional</em> requirement later on that when we save a register it can be saved at most 240 bytes away? (I couldn't actually find where that second restriction arose myself)</p>\n</blockquote>",
        "id": 229923565,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615495860
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610213247\">PR Review</a>.</p>",
        "id": 229923635,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615495907
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592713135\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Yep, this is left over from my intermediate PR state where I tried to handle epilogues too. Happy to remove!</p>\n</blockquote>",
        "id": 229923636,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615495907
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610213573\">PR Review</a>.</p>",
        "id": 229923710,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615495934
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592713399\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Ok I think that's fine in the meantime anyway. I don't think it's required we get this 100% right but it might just be worth in the documentation to mention that it's sort of a macro-op for now.</p>\n</blockquote>",
        "id": 229923711,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615495934
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592713749\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Nah this is definitely fine to have, just wanted to double-check my understanding!</p>\n</blockquote>",
        "id": 229923773,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615495972
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610214059\">PR Review</a>.</p>",
        "id": 229923774,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615495972
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610216831\">PR Review</a>.</p>",
        "id": 229924309,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615496188
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592715852\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Nah that makes sense, and I think it's fine to keep as-is. I definitely agree having a known-correct thing is the highest priority. If it turns out that we want to change this in the future for perf reasons or something like that we can cross that bridge when we get there.</p>\n</blockquote>",
        "id": 229924310,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615496188
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610222352\">PR Review</a>.</p>",
        "id": 229925363,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615496611
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592720133\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Re: offset restrictions, only the former (<code>RBP - offset</code>); once we establish the frame we can declare clobber-saves at any 32-bit offset. But combining this with the fact that we place <code>RBP</code> <em>above</em> clobber-saves gives us the limit on clobber offsets.</p>\n<p>In hindsight, perhaps it's better to have explicit asserts that all offsets are in-range for the unwind info we're generating, and give these offset fields a <code>u32</code> or so; that would document these limits more explicitly I think!</p>\n</blockquote>",
        "id": 229925364,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615496611
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610222979\">PR Review</a>.</p>",
        "id": 229925493,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615496661
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592720600\">PR Review Comment</a>:</p>\n<blockquote>\n<p>(Err, \"any positive 32-bit offset\" above.)</p>\n</blockquote>",
        "id": 229925494,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615496661
    },
    {
        "content": "<p>peterhuene submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610233771\">PR Review</a>.</p>",
        "id": 229927689,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615497549
    },
    {
        "content": "<p>peterhuene created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592729359\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Alternatively we could stop establishing a frame pointer until such a time we actually need one on Windows (the save offsets encoded in the unwind information would then be positive offsets from RSP rather than FP-[0..240], thereby eliminating the \"saves have to be near enough to the frame pointer establishment\" problem).  That's a whole can of worms, though, I imagine.</p>\n</blockquote>",
        "id": 229927691,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615497549
    },
    {
        "content": "<p>peterhuene created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592742427\">PR Review Comment</a>:</p>\n<blockquote>\n<p>In fact, the old unwind info emitted for Windows explicitly didn't encode establishing a frame pointer (despite the prologue doing so) to side step the 240 offset limitation, thereby encoding all of the register saves as positive offsets from the stack pointer.  This would obviously break when the frame pointer is required, such as dynamically-sized frames.</p>\n</blockquote>",
        "id": 229931368,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615498937
    },
    {
        "content": "<p>peterhuene submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610250652\">PR Review</a>.</p>",
        "id": 229931370,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615498937
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610270041\">PR Review</a>.</p>",
        "id": 229936630,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615500610
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592757785\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Aha ok that makes a lot of sense now, where the 240 comes from. I do think there's definitely room for improvement here, but there's no need to happen in this PR I think. I'd be happy with some more comments myself, and then seems reasonable to open tracking issues if necessary.</p>\n</blockquote>",
        "id": 229936631,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615500611
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229949234,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615506514
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610340545\">PR Review</a>.</p>",
        "id": 229949821,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615506876
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592811891\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Done; changed just for filetests (I think it's too surprising to change the default overall given that it's needed for backtraces and correct operation generally).</p>\n</blockquote>",
        "id": 229949822,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615506876
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610340811\">PR Review</a>.</p>",
        "id": 229949881,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615506911
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592812468\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Ah, yes, I was trying to get rid of some unused-code warnings in the new-backend PR and this percolated backward during some rebasing magic. Removed!</p>\n</blockquote>",
        "id": 229949882,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615506911
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610340855\">PR Review</a>.</p>",
        "id": 229949895,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615506918
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592812604\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Fixed.</p>\n</blockquote>",
        "id": 229949896,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615506918
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610340913\">PR Review</a>.</p>",
        "id": 229949907,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615506926
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592812736\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Removed, thanks!</p>\n</blockquote>",
        "id": 229949908,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615506926
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610341019\">PR Review</a>.</p>",
        "id": 229949940,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615506942
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592813059\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Updated along with the doc and field-name clarity changes noted below.</p>\n</blockquote>",
        "id": 229949941,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615506942
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610341577\">PR Review</a>.</p>",
        "id": 229950060,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507020
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592814329\">PR Review Comment</a>:</p>\n<blockquote>\n<p>So I've revamped the doc-comment for this enum and added the \"offset upward / offset downward\" dual fields for the CreateNewFrame pseudo-inst. Hopefully this is a bit more clear now!</p>\n<p>Agreed that we could eventually look into <code>-fomit-frame-pointer</code> codegen, though that's a deeper rabbithole in the ABI code (as is <code>alloca</code> support); one bridge at a time :-)</p>\n</blockquote>",
        "id": 229950061,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507020
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610341722\">PR Review</a>.</p>",
        "id": 229950097,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507039
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592814458\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Updated as noted -- two offsets given now.</p>\n</blockquote>",
        "id": 229950098,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507039
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610341870\">PR Review</a>.</p>",
        "id": 229950119,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507058
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592814589\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Done!</p>\n</blockquote>",
        "id": 229950120,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507058
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229950402,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507215
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229950522,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507273
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610344040\">PR Review</a>.</p>",
        "id": 229950664,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507339
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592816411\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I've changed this to <code>instruction_offset</code> everywhere now. The tuple refactor is a bit more intrusive but I can do that instead if you'd prefer!</p>\n</blockquote>",
        "id": 229950666,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507339
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592816627\">PR Review Comment</a>:</p>\n<blockquote>\n<p>I did one better and just removed the <code>StackAlloc</code>; it doesn't seem to actually be needed once we pin the frame to <code>RBP</code>.</p>\n</blockquote>",
        "id": 229950714,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507378
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610344344\">PR Review</a>.</p>",
        "id": 229950715,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507378
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610344403\">PR Review</a>.</p>",
        "id": 229950733,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507388
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592816668\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Done.</p>\n</blockquote>",
        "id": 229950736,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507388
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610344466\">PR Review</a>.</p>",
        "id": 229950769,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507397
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592816718\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Fixed!</p>\n</blockquote>",
        "id": 229950770,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507397
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610344561\">PR Review</a>.</p>",
        "id": 229950784,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507410
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592816801\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Ah, yeah, that's a silly bit of verbosity; fixed.</p>\n</blockquote>",
        "id": 229950785,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507410
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610345148\">PR Review</a>.</p>",
        "id": 229950933,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507490
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592817289\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Updated comment here -- yes, you're right, the range is actually 504 bytes. I've written out the reasoning here w.r.t. simplicity and avoiding a two-stage frame setup with big frames.</p>\n</blockquote>",
        "id": 229950934,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507490
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610345261\">PR Review</a>.</p>",
        "id": 229950960,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507505
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592817378\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Updated comment.</p>\n</blockquote>",
        "id": 229950961,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507505
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610345489\">PR Review</a>.</p>",
        "id": 229951017,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507534
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592817609\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Yep, I've removed all traces of the epilogue attempt now.</p>\n</blockquote>",
        "id": 229951018,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507534
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610345645\">PR Review</a>.</p>",
        "id": 229951033,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507558
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592817746\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Added to the doc-comment! I've also removed this to <code>PushFrameRegs</code> rather than <code>PushOldFP</code>.</p>\n</blockquote>",
        "id": 229951034,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507558
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610345704\">PR Review</a>.</p>",
        "id": 229951084,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507567
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592817795\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Updated.</p>\n</blockquote>",
        "id": 229951085,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507567
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610345763\">PR Review</a>.</p>",
        "id": 229951127,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507575
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592817851\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Updated.</p>\n</blockquote>",
        "id": 229951128,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507575
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229951567,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507816
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229951713,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615507901
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229956772,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615510779
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229958644,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615511898
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610380556\">PR Review</a>.</p>",
        "id": 229959654,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615512602
    },
    {
        "content": "<p>peterhuene submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610364645\">PR Review</a>.</p>",
        "id": 229959821,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615512700
    },
    {
        "content": "<p>peterhuene submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610364645\">PR Review</a>.</p>",
        "id": 229959822,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615512700
    },
    {
        "content": "<p>peterhuene created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592834280\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Minor nit: perhaps we should probably mention here that describing epilogues is not required by some platforms for correct operation.  For example, Windows x64 unwind information doesn't describe epilogues as the epilogues are required to be a particular shape and the OS can \"virtually run them forward\" to unwind the frame when inside an epilogue.</p>\n</blockquote>",
        "id": 229959823,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615512700
    },
    {
        "content": "<p>peterhuene created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592844167\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Is this match (and others like it) intentionally truncated?</p>\n</blockquote>",
        "id": 229959824,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615512700
    },
    {
        "content": "<p>peterhuene created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592845363\">PR Review Comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>//! 240 bytes of RBP. Finally, it is not allowed to access memory\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 229959825,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615512700
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a> from <code>x64-fastcall-unwind</code> to <code>main</code>.</p>",
        "id": 229972560,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615521866
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610434898\">PR Review</a>.</p>",
        "id": 229972578,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615521894
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592895879\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Good point, done!</p>\n</blockquote>",
        "id": 229972579,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615521894
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610435509\">PR Review</a>.</p>",
        "id": 229972723,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615522016
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592896442\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Ah, no, I had meant to fill these in after capturing the registers (the <code>Debug</code>-printed versions use regalloc indices); thanks!</p>\n</blockquote>",
        "id": 229972724,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615522016
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#pullrequestreview-610435562\">PR Review</a>.</p>",
        "id": 229972743,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615522028
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710#discussion_r592896484\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Done.</p>\n</blockquote>",
        "id": 229972746,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615522028
    },
    {
        "content": "<p>cfallin merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2710\">PR #2710</a>.</p>",
        "id": 229975774,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615524479
    }
]