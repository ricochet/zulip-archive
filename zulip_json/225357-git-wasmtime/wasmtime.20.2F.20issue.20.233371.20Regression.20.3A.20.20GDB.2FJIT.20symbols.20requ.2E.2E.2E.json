[
    {
        "content": "<p>adv-sw opened <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3371\">issue #3371</a>:</p>\n<blockquote>\n<p>crates/runtime/src/helpers.c | 12 ++++++++++--<br>\n 1 file changed, 10 insertions(+), 2 deletions(-)</p>\n<p>diff --git a/crates/runtime/src/helpers.c b/crates/runtime/src/helpers.c<br>\nindex 4865928a1..c743e244e 100644<br>\n--- a/crates/runtime/src/helpers.c<br>\n+++ b/crates/runtime/src/helpers.c<br>\n@@ -42,7 +42,12 @@ void wasmtime_longjmp(void *JmpBuf) {<br>\n // Note the <code>weak</code> linkage here, though, which is intended to let other code<br>\n // override this symbol if it's defined elsewhere, since this definition doesn't<br>\n // matter.<br>\n-#ifndef CFG_TARGET_OS_windows<br>\n+<br>\n+<br>\n+#ifdef CFG_TARGET_OS_windows<br>\n+// ADV_SW_PATCH - export required for external access.<br>\n+__declspec(dllexport)<br>\n+#else<br>\n __attribute__((weak, noinline))<br>\n #endif<br>\n void __jit_debug_register_code() {<br>\n@@ -61,7 +66,10 @@ struct JITDescriptor {<br>\n // Note the <code>weak</code> linkage here which is the same purpose as above. We want to<br>\n // let other runtimes be able to override this since our own definition isn't<br>\n // important.<br>\n-#ifndef CFG_TARGET_OS_windows<br>\n+#ifdef CFG_TARGET_OS_windows<br>\n+// ADV_SW_PATCH - export required for external access.<br>\n+__declspec(dllexport) <br>\n+#else<br>\n __attribute__((weak))<br>\n #endif<br>\n struct JITDescriptor __jit_debug_descriptor = {1, 0, NULL, NULL};<br>\n</p>\n</blockquote>",
        "id": 254054212,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1632146454
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3371#issuecomment-923134054\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3371\">issue #3371</a>:</p>\n<blockquote>\n<p>Fixed by <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3373\">https://github.com/bytecodealliance/wasmtime/pull/3373</a></p>\n</blockquote>",
        "id": 254087408,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1632159209
    },
    {
        "content": "<p>alexcrichton closed <a href=\"https://github.com/bytecodealliance/wasmtime/issues/3371\">issue #3371</a>:</p>\n<blockquote>\n<p>crates/runtime/src/helpers.c | 12 ++++++++++--<br>\n 1 file changed, 10 insertions(+), 2 deletions(-)</p>\n<p>diff --git a/crates/runtime/src/helpers.c b/crates/runtime/src/helpers.c<br>\nindex 4865928a1..c743e244e 100644<br>\n--- a/crates/runtime/src/helpers.c<br>\n+++ b/crates/runtime/src/helpers.c<br>\n@@ -42,7 +42,12 @@ void wasmtime_longjmp(void *JmpBuf) {<br>\n // Note the <code>weak</code> linkage here, though, which is intended to let other code<br>\n // override this symbol if it's defined elsewhere, since this definition doesn't<br>\n // matter.<br>\n-#ifndef CFG_TARGET_OS_windows<br>\n+<br>\n+<br>\n+#ifdef CFG_TARGET_OS_windows<br>\n+// ADV_SW_PATCH - export required for external access.<br>\n+__declspec(dllexport)<br>\n+#else<br>\n __attribute__((weak, noinline))<br>\n #endif<br>\n void __jit_debug_register_code() {<br>\n@@ -61,7 +66,10 @@ struct JITDescriptor {<br>\n // Note the <code>weak</code> linkage here which is the same purpose as above. We want to<br>\n // let other runtimes be able to override this since our own definition isn't<br>\n // important.<br>\n-#ifndef CFG_TARGET_OS_windows<br>\n+#ifdef CFG_TARGET_OS_windows<br>\n+// ADV_SW_PATCH - export required for external access.<br>\n+__declspec(dllexport) <br>\n+#else<br>\n __attribute__((weak))<br>\n #endif<br>\n struct JITDescriptor __jit_debug_descriptor = {1, 0, NULL, NULL};<br>\n</p>\n</blockquote>",
        "id": 254087409,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1632159210
    }
]