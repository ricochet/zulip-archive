[
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867074057\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<p>Thanks! FWIW the location of the <code>WASI</code> submodule is pretty finnicky especially when it comes to publishing to <a href=\"http://crates.io\">crates.io</a>. For the easiest time updating I'd recommend updating it in-place if possible</p>\n</blockquote>",
        "id": 243695373,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624473810
    },
    {
        "content": "<p>github-actions[bot] <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867082015\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<h4>Subscribe to Label Action</h4>\n<p>cc @kubkon</p>\n<p>&lt;details&gt;<br>\nThis issue or pull request has been labeled: \"wasi\"</p>\n<p>Thus the following users have been cc'd because of the following labels:</p>\n<ul>\n<li>kubkon: wasi</li>\n</ul>\n<p>To subscribe or unsubscribe from this label, edit the &lt;code&gt;.github/subscribe-to-label.json&lt;/code&gt; configuration file.</p>\n<p><a href=\"https://github.com/bytecodealliance/subscribe-to-label-action\">Learn more.</a><br>\n&lt;/details&gt;</p>\n</blockquote>",
        "id": 243696985,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624474606
    },
    {
        "content": "<p>cratelyn <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867118118\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<blockquote>\n<p>Thanks! FWIW the location of the <code>WASI</code> submodule is pretty finnicky especially when it comes to publishing to <a href=\"http://crates.io\">crates.io</a>. For the easiest time updating I'd recommend updating it in-place if possible</p>\n</blockquote>\n<p>Thanks @alexcrichton! I'll give that another go, moving the submodule was motivated by errors I was seeing that looked like a variation of <a href=\"https://github.com/rust-lang/cargo/issues/6745\">rust-lang/cargo#6745</a>. I wasn't able to <code>exclude</code> that directory from the root workspace, so commands like <code>cargo build</code> were failing due to multiple workspace roots being found.</p>\n</blockquote>",
        "id": 243704353,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624478310
    },
    {
        "content": "<p>cratelyn <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867134355\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span>: <span class=\"nc\">multiple</span><span class=\"w\"> </span><span class=\"n\">workspace</span><span class=\"w\"> </span><span class=\"n\">roots</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">same</span><span class=\"w\"> </span><span class=\"n\">workspace</span>:\n  <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">katelyn</span><span class=\"o\">/</span><span class=\"n\">fsly</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">katelyn</span><span class=\"o\">/</span><span class=\"n\">fsly</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"w\"></span>\n</code></pre></div>\n<p>For reference, this is the error I am seeing after updating the WASI submodule. I believe it's because of the <code>witx-cli</code> changes in <a href=\"https://github.com/WebAssembly/WASI/issues/398\">WebAssembly/WASI#398</a> playing poorly with structure of this project.</p>\n</blockquote>",
        "id": 243707799,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624479973
    },
    {
        "content": "<p>cratelyn edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867134355\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span>: <span class=\"nc\">multiple</span><span class=\"w\"> </span><span class=\"n\">workspace</span><span class=\"w\"> </span><span class=\"n\">roots</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">same</span><span class=\"w\"> </span><span class=\"n\">workspace</span>:\n  <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">katelyn</span><span class=\"o\">/</span><span class=\"n\">fsly</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">katelyn</span><span class=\"o\">/</span><span class=\"n\">fsly</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"w\"></span>\n</code></pre></div>\n<p>For reference, this is the error I am seeing after updating the WASI submodule. I believe it's because of the <code>witx-cli</code> changes in <a href=\"https://github.com/WebAssembly/WASI/issues/398\">WebAssembly/WASI#398</a> playing poorly with structure of this project.</p>\n<p>As alluded in my comment above, adding an <code>exclude = [\"crates/wasi-common/WASI/tools/witx\"]</code> to the root manifest doesn't end up working, because <code>\"crates/wasi-common\"</code> is a member of the workspace.</p>\n</blockquote>",
        "id": 243707957,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624480050
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867141264\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<p>Oh dear... I think there's probably three ways to fix this:</p>\n<ol>\n<li>Remove the workspace changes to the WASI repository, enabling integration here the same as before.</li>\n<li>Fix the issues after moving this <code>vendor</code> dir around (I don't know off-hand how hard this would be)</li>\n<li>Depend on the <a href=\"http://crates.io\">crates.io</a> version of <code>witx</code>, not a git submodule. I think that this would require doing the same steps from (2), but we could just avoid a git submodule.</li>\n</ol>\n<p>The easiest is probably the first one here, and the best is probably the 3rd, but that requires changes of how we integrate the WASI spec updates into this repository, since I think we rely on them existing in the <code>wasi-common</code> crate but now they'd be stored in the <code>witx</code> crate itself (I think?) published to <a href=\"http://crates.io\">crates.io</a></p>\n</blockquote>",
        "id": 243709417,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624480727
    },
    {
        "content": "<p>alexcrichton <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867142706\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<p>Hm actually scratch that I don't think the <code>witx</code> crate as published to <a href=\"http://crates.io\">crates.io</a> contains the wasi snapshot witx files. Sorry for this mess :(</p>\n<p>I'd probably recommend just hacking around this by removing the <code>[workspace]</code> in the <code>witx</code> crate for now?  Ideally we'll fix this in the long term by separating the tooling and the <code>*.witx</code> files since we want tooling as a <a href=\"http://crates.io\">crates.io</a> dep and the <code>*.witx</code> files as a submodule.</p>\n</blockquote>",
        "id": 243709780,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624480879
    },
    {
        "content": "<p>cratelyn <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867180827\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">Run</span><span class=\"w\"> </span><span class=\"n\">rustc</span><span class=\"w\"> </span><span class=\"n\">scripts</span><span class=\"o\">/</span><span class=\"n\">publish</span><span class=\"p\">.</span><span class=\"n\">rs</span><span class=\"w\"></span>\n<span class=\"n\">thread</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">main</span><span class=\"o\">'</span><span class=\"w\"> </span><span class=\"n\">panicked</span><span class=\"w\"> </span><span class=\"n\">at</span><span class=\"w\"> </span><span class=\"o\">'</span><span class=\"na\">failed</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">find</span><span class=\"w\"> </span><span class=\"s\">\"witx-cli\"</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">whitelist</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">blacklist</span><span class=\"o\">'</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">scripts</span><span class=\"o\">/</span><span class=\"n\">publish</span><span class=\"p\">.</span><span class=\"n\">rs</span>:<span class=\"mi\">135</span>:<span class=\"mi\">13</span><span class=\"w\"></span>\n</code></pre></div>\n<p>This shouldn't be _too_ hard to fix, but I see some special logic around <code>witx</code> and that'll have to wait until tomorrow morning for me.</p>\n</blockquote>",
        "id": 243716859,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624484515
    },
    {
        "content": "<p>cratelyn <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867181235\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<p>Oh I'm going to mark this as \"ready for review\" since we're kinda already in the process of reviewing this work. <span aria-label=\"+1\" class=\"emoji emoji-1f44d\" role=\"img\" title=\"+1\">:+1:</span> </p>\n</blockquote>",
        "id": 243716961,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624484560
    },
    {
        "content": "<p>cratelyn <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867741175\">commented</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span>: <span class=\"nc\">current</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">believes</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"o\">'</span><span class=\"na\">s</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">workspace</span><span class=\"w\"> </span><span class=\"n\">when</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"o\">'</span><span class=\"na\">s</span><span class=\"w\"> </span><span class=\"n\">not</span>:\n<span class=\"nc\">current</span>:   <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"o\">/</span><span class=\"n\">Cargo</span><span class=\"p\">.</span><span class=\"n\">toml</span><span class=\"w\"></span>\n<span class=\"n\">workspace</span>: <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">Cargo</span><span class=\"p\">.</span><span class=\"n\">toml</span><span class=\"w\"></span>\n\n<span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">may</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">fixable</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"w\"> </span><span class=\"n\">adding</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">workspace</span><span class=\"p\">.</span><span class=\"n\">members</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">array</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">manifest</span><span class=\"w\"> </span><span class=\"n\">located</span><span class=\"w\"> </span><span class=\"n\">at</span>: <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">Cargo</span><span class=\"p\">.</span><span class=\"n\">toml</span><span class=\"w\"></span>\n<span class=\"n\">Alternatively</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">keep</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">workspace</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">workspace</span><span class=\"p\">.</span><span class=\"n\">exclude</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">array</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"n\">empty</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"p\">[</span><span class=\"n\">workspace</span><span class=\"p\">]</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">table</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"o\">'</span><span class=\"na\">s</span><span class=\"w\"> </span><span class=\"n\">manifest</span><span class=\"p\">.</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Oh no :fearful: It seems it's our old friend again. I'm trying to find a way around this...</p>\n</blockquote>",
        "id": 243804619,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624549156
    },
    {
        "content": "<p>cratelyn edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867741175\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span>: <span class=\"nc\">current</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">believes</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"o\">'</span><span class=\"na\">s</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">workspace</span><span class=\"w\"> </span><span class=\"n\">when</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"o\">'</span><span class=\"na\">s</span><span class=\"w\"> </span><span class=\"n\">not</span>:\n<span class=\"nc\">current</span>:   <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"o\">/</span><span class=\"n\">Cargo</span><span class=\"p\">.</span><span class=\"n\">toml</span><span class=\"w\"></span>\n<span class=\"n\">workspace</span>: <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">Cargo</span><span class=\"p\">.</span><span class=\"n\">toml</span><span class=\"w\"></span>\n\n<span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">may</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">fixable</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"w\"> </span><span class=\"n\">adding</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">workspace</span><span class=\"p\">.</span><span class=\"n\">members</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">array</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">manifest</span><span class=\"w\"> </span><span class=\"n\">located</span><span class=\"w\"> </span><span class=\"n\">at</span>: <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">Cargo</span><span class=\"p\">.</span><span class=\"n\">toml</span><span class=\"w\"></span>\n<span class=\"n\">Alternatively</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">keep</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">workspace</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">workspace</span><span class=\"p\">.</span><span class=\"n\">exclude</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">array</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"n\">empty</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"p\">[</span><span class=\"n\">workspace</span><span class=\"p\">]</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">table</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"o\">'</span><span class=\"na\">s</span><span class=\"w\"> </span><span class=\"n\">manifest</span><span class=\"p\">.</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Oh no :fearful: It seems it's our old friend again. I'm trying to find a way around this. I've tried...</p>\n<p><strong>Add <code>witx-cli</code> to root workspace</strong></p>\n<p>This fails, with an error that looks like:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span>: <span class=\"nc\">no</span><span class=\"w\"> </span><span class=\"n\">matching</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">named</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">diff</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"></span>\n<span class=\"n\">location</span><span class=\"w\"> </span><span class=\"n\">searched</span>: <span class=\"nc\">registry</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/rust-lang/crates.io-index`</span>\n<span class=\"n\">perhaps</span><span class=\"w\"> </span><span class=\"n\">you</span><span class=\"w\"> </span><span class=\"n\">meant</span>: <span class=\"nc\">ff</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">der</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">half</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"n\">required</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"p\">.</span><span class=\"mf\">9.1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">katelyn</span><span class=\"o\">/</span><span class=\"n\">fsly</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"p\">)</span><span class=\"err\">`</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Not entirely sure why this happens, honestly? But it seems... wrong.</p>\n</blockquote>",
        "id": 243807385,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624550287
    },
    {
        "content": "<p>cratelyn edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867741175\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span>: <span class=\"nc\">current</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">believes</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"o\">'</span><span class=\"na\">s</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">workspace</span><span class=\"w\"> </span><span class=\"n\">when</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"o\">'</span><span class=\"na\">s</span><span class=\"w\"> </span><span class=\"n\">not</span>:\n<span class=\"nc\">current</span>:   <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"o\">/</span><span class=\"n\">Cargo</span><span class=\"p\">.</span><span class=\"n\">toml</span><span class=\"w\"></span>\n<span class=\"n\">workspace</span>: <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">Cargo</span><span class=\"p\">.</span><span class=\"n\">toml</span><span class=\"w\"></span>\n\n<span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">may</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">fixable</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"w\"> </span><span class=\"n\">adding</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">workspace</span><span class=\"p\">.</span><span class=\"n\">members</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">array</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">manifest</span><span class=\"w\"> </span><span class=\"n\">located</span><span class=\"w\"> </span><span class=\"n\">at</span>: <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">Cargo</span><span class=\"p\">.</span><span class=\"n\">toml</span><span class=\"w\"></span>\n<span class=\"n\">Alternatively</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">keep</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">workspace</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">workspace</span><span class=\"p\">.</span><span class=\"n\">exclude</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">array</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"n\">empty</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"p\">[</span><span class=\"n\">workspace</span><span class=\"p\">]</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">table</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"o\">'</span><span class=\"na\">s</span><span class=\"w\"> </span><span class=\"n\">manifest</span><span class=\"p\">.</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Oh no :fearful: It seems it's our old friend again. I'm trying to find a way around this. I've tried...</p>\n<p><span aria-label=\"one\" class=\"emoji emoji-0031-20e3\" role=\"img\" title=\"one\">:one:</span> <strong>Add <code>witx-cli</code> to root <code>workspace.members</code></strong></p>\n<p>This fails, with an error that looks like:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span>: <span class=\"nc\">no</span><span class=\"w\"> </span><span class=\"n\">matching</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">named</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">diff</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"></span>\n<span class=\"n\">location</span><span class=\"w\"> </span><span class=\"n\">searched</span>: <span class=\"nc\">registry</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/rust-lang/crates.io-index`</span>\n<span class=\"n\">perhaps</span><span class=\"w\"> </span><span class=\"n\">you</span><span class=\"w\"> </span><span class=\"n\">meant</span>: <span class=\"nc\">ff</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">der</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">half</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"n\">required</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"p\">.</span><span class=\"mf\">9.1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">katelyn</span><span class=\"o\">/</span><span class=\"n\">fsly</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"p\">)</span><span class=\"err\">`</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Not entirely sure why this happens, honestly? But it seems... wrong.</p>\n<p><span aria-label=\"two\" class=\"emoji emoji-0032-20e3\" role=\"img\" title=\"two\">:two:</span> <strong>Add <code>witx-cli</code> to root <code>workspace.exclude</code></strong></p>\n<p>This doesn't change the error, AIUI this is the cargo issue I linked in a comment above.</p>\n</blockquote>",
        "id": 243807618,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624550400
    },
    {
        "content": "<p>cratelyn edited a <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025#issuecomment-867741175\">comment</a> on <a href=\"https://github.com/bytecodealliance/wasmtime/pull/3025\">issue #3025</a>:</p>\n<blockquote>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span>: <span class=\"nc\">current</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">believes</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"o\">'</span><span class=\"na\">s</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"n\">a</span><span class=\"w\"> </span><span class=\"n\">workspace</span><span class=\"w\"> </span><span class=\"n\">when</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"o\">'</span><span class=\"na\">s</span><span class=\"w\"> </span><span class=\"n\">not</span>:\n<span class=\"nc\">current</span>:   <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"o\">/</span><span class=\"n\">Cargo</span><span class=\"p\">.</span><span class=\"n\">toml</span><span class=\"w\"></span>\n<span class=\"n\">workspace</span>: <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">Cargo</span><span class=\"p\">.</span><span class=\"n\">toml</span><span class=\"w\"></span>\n\n<span class=\"n\">this</span><span class=\"w\"> </span><span class=\"n\">may</span><span class=\"w\"> </span><span class=\"n\">be</span><span class=\"w\"> </span><span class=\"n\">fixable</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"w\"> </span><span class=\"n\">adding</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">workspace</span><span class=\"p\">.</span><span class=\"n\">members</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">array</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">manifest</span><span class=\"w\"> </span><span class=\"n\">located</span><span class=\"w\"> </span><span class=\"n\">at</span>: <span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">runner</span><span class=\"o\">/</span><span class=\"n\">work</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">Cargo</span><span class=\"p\">.</span><span class=\"n\">toml</span><span class=\"w\"></span>\n<span class=\"n\">Alternatively</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">keep</span><span class=\"w\"> </span><span class=\"n\">it</span><span class=\"w\"> </span><span class=\"n\">out</span><span class=\"w\"> </span><span class=\"n\">of</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">workspace</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">workspace</span><span class=\"p\">.</span><span class=\"n\">exclude</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">array</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">or</span><span class=\"w\"> </span><span class=\"n\">add</span><span class=\"w\"> </span><span class=\"n\">an</span><span class=\"w\"> </span><span class=\"n\">empty</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"p\">[</span><span class=\"n\">workspace</span><span class=\"p\">]</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">table</span><span class=\"w\"> </span><span class=\"n\">to</span><span class=\"w\"> </span><span class=\"n\">the</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"o\">'</span><span class=\"na\">s</span><span class=\"w\"> </span><span class=\"n\">manifest</span><span class=\"p\">.</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Oh no :fearful: It seems it's our old friend again. I'm trying to find a way around this. I've tried...</p>\n<p><span aria-label=\"one\" class=\"emoji emoji-0031-20e3\" role=\"img\" title=\"one\">:one:</span> <strong>Add <code>witx-cli</code> to root <code>workspace.members</code></strong></p>\n<p>This fails, with an error that looks like:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">error</span>: <span class=\"nc\">no</span><span class=\"w\"> </span><span class=\"n\">matching</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"n\">named</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">diff</span><span class=\"err\">`</span><span class=\"w\"> </span><span class=\"n\">found</span><span class=\"w\"></span>\n<span class=\"n\">location</span><span class=\"w\"> </span><span class=\"n\">searched</span>: <span class=\"nc\">registry</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">https</span>:<span class=\"c1\">//github.com/rust-lang/crates.io-index`</span>\n<span class=\"n\">perhaps</span><span class=\"w\"> </span><span class=\"n\">you</span><span class=\"w\"> </span><span class=\"n\">meant</span>: <span class=\"nc\">ff</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">der</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">half</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"></span>\n<span class=\"n\">required</span><span class=\"w\"> </span><span class=\"n\">by</span><span class=\"w\"> </span><span class=\"n\">package</span><span class=\"w\"> </span><span class=\"err\">`</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"w\"> </span><span class=\"n\">v0</span><span class=\"p\">.</span><span class=\"mf\">9.1</span><span class=\"w\"> </span><span class=\"p\">(</span><span class=\"o\">/</span><span class=\"n\">home</span><span class=\"o\">/</span><span class=\"n\">katelyn</span><span class=\"o\">/</span><span class=\"n\">fsly</span><span class=\"o\">/</span><span class=\"n\">wasmtime</span><span class=\"o\">/</span><span class=\"n\">crates</span><span class=\"o\">/</span><span class=\"n\">wasi</span><span class=\"o\">-</span><span class=\"n\">common</span><span class=\"o\">/</span><span class=\"n\">WASI</span><span class=\"o\">/</span><span class=\"n\">tools</span><span class=\"o\">/</span><span class=\"n\">witx</span><span class=\"o\">-</span><span class=\"n\">cli</span><span class=\"p\">)</span><span class=\"err\">`</span><span class=\"w\"></span>\n</code></pre></div>\n<p>Not entirely sure why this happens, honestly? But it seems... wrong.</p>\n<p><span aria-label=\"two\" class=\"emoji emoji-0032-20e3\" role=\"img\" title=\"two\">:two:</span> <strong>Add <code>witx-cli</code> to root <code>workspace.exclude</code></strong></p>\n<p>This doesn't change the error, AIUI this is the cargo issue I linked in a comment above.</p>\n<p><span aria-label=\"three\" class=\"emoji emoji-0033-20e3\" role=\"img\" title=\"three\">:three:</span> <strong>Make <code>crates/wasi-common</code> a workspace</strong></p>\n<p>This one feels like a non-starter, as we're instantly in a state of multiple workspace roots.</p>\n</blockquote>",
        "id": 243810971,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1624551983
    }
]