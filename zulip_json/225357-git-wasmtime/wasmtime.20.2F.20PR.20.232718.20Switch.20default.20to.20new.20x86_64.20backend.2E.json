[
    {
        "content": "<p>cfallin opened <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>:</p>\n<blockquote>\n<p>(Note 1: This PR depends on #2710 and includes its commits for CI purposes for now.)</p>\n<p>(Note 2: I plan to write an RFC to more fully describe and get consensus on the process of switching over. This is mostly a PR for CI-experimentation and to get some data/confirmation on what's actually left to be done.)</p>\n<p>This PR switches the default backend on x86, for both the<br>\n<code>cranelift-codegen</code> crate and for Wasmtime, to the new<br>\n(<code>MachInst</code>-style, <code>VCode</code>-based) backend that has been under<br>\n development and testing for some time now.</p>\n<p>The old backend is still available by default in builds with the<br>\n<code>old-x86-backend</code> feature, or by requesting <code>BackendVariant::Legacy</code><br>\nfrom the appropriate APIs.</p>\n<p>As part of that switch, it adds some more runtime-configurable plumbing<br>\nto the testing infrastructure so that tests can be run using the<br>\nappropriate backend. <code>clif-util test</code> is now capable of parsing a<br>\nbackend selector option from filetests and instantiating the correct<br>\nbackend.</p>\n<p>I has been updated so that the old x86 backend continues to run its<br>\ntests, just as we used to run the new x64 backend separately.</p>\n<p>At some point, we will remove the old x86 backend entirely, once we are<br>\nsatisfied that the new backend has not caused any unforeseen issues and<br>\nwe do not need to revert.</p>\n</blockquote>",
        "id": 229617251,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615363291
    },
    {
        "content": "<p><strong>cfallin</strong> has marked <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> as ready for review.</p>",
        "id": 229617433,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615363369
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229617610,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615363461
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229618931,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615364217
    },
    {
        "content": "<p>bjorn3 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-608445200\">PR Review</a>.</p>",
        "id": 229620307,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615365054
    },
    {
        "content": "<p>bjorn3 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r591208181\">PR Review Comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 229620309,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615365054
    },
    {
        "content": "<p>bjorn3 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-608445469\">PR Review</a>.</p>",
        "id": 229620346,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615365073
    },
    {
        "content": "<p>bjorn3 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r591208492\">PR Review Comment</a>:</p>\n<blockquote>\n<p><div class=\"codehilite\" data-code-language=\"suggestion\"><pre><span></span><code>\n</code></pre></div><br>\n</p>\n</blockquote>",
        "id": 229620347,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615365072
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229705213,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615396559
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229705377,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615396605
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r591714978\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Done, thanks.</p>\n</blockquote>",
        "id": 229705404,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615396615
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-608967402\">PR Review</a>.</p>",
        "id": 229705406,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615396616
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r591715079\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Done.</p>\n</blockquote>",
        "id": 229705416,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615396621
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-608967530\">PR Review</a>.</p>",
        "id": 229705417,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615396621
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229743138,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615409919
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229743291,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615409971
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229745929,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615410882
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229747011,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615411291
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229750073,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615412504
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229767269,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615419547
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229775074,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615424164
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229775552,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615424461
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229776179,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615424916
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229777792,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615426067
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229779830,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615427679
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229784020,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615430736
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229784291,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615430905
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229791815,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615436776
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229792090,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615437023
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 229976452,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615525060
    },
    {
        "content": "<p>cfallin edited <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>:</p>\n<blockquote>\n<p>This PR switches the default backend on x86, for both the<br>\n<code>cranelift-codegen</code> crate and for Wasmtime, to the new<br>\n(<code>MachInst</code>-style, <code>VCode</code>-based) backend that has been under<br>\n development and testing for some time now.</p>\n<p>The old backend is still available by default in builds with the<br>\n<code>old-x86-backend</code> feature, or by requesting <code>BackendVariant::Legacy</code><br>\nfrom the appropriate APIs.</p>\n<p>As part of that switch, it adds some more runtime-configurable plumbing<br>\nto the testing infrastructure so that tests can be run using the<br>\nappropriate backend. <code>clif-util test</code> is now capable of parsing a<br>\nbackend selector option from filetests and instantiating the correct<br>\nbackend.</p>\n<p>I has been updated so that the old x86 backend continues to run its<br>\ntests, just as we used to run the new x64 backend separately.</p>\n<p>At some point, we will remove the old x86 backend entirely, once we are<br>\nsatisfied that the new backend has not caused any unforeseen issues and<br>\nwe do not need to revert.</p>\n<p>This implements the switch described in <a href=\"https://github.com/bytecodealliance/rfcs/issues/10\">bytecodealliance/rfcs#10</a>; we should<br>\nnot merge this until we reach consensus on the process described therein<br>\nand merge the RFC.</p>\n</blockquote>",
        "id": 229976552,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1615525136
    },
    {
        "content": "<p>jlb6740 submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-621707505\">PR Review</a>.</p>",
        "id": 231900924,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1616721540
    },
    {
        "content": "<p>jlb6740 created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r601946045\">PR Review Comment</a>:</p>\n<blockquote>\n<p>What do the new file test targets (machinst and legacy) mean?</p>\n</blockquote>",
        "id": 231900925,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1616721540
    },
    {
        "content": "<p>jlb6740 deleted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r601946045\">PR Review Comment</a>.</p>",
        "id": 231900942,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1616721560
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 232501218,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617139816
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 232521189,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617152805
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-625541025\">PR Review</a>.</p>",
        "id": 232631259,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617211448
    },
    {
        "content": "<p>alexcrichton submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-625541025\">PR Review</a>.</p>",
        "id": 232631260,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617211448
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r605083925\">PR Review Comment</a>:</p>\n<blockquote>\n<p>ditto to above</p>\n</blockquote>",
        "id": 232631261,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617211448
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r605083829\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Is this still needed or was this a temporary addition?</p>\n</blockquote>",
        "id": 232631262,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617211448
    },
    {
        "content": "<p>alexcrichton created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r605084056\">PR Review Comment</a>:</p>\n<blockquote>\n<p>or rather, if it's still needed, mind adding a comment as to why?</p>\n</blockquote>",
        "id": 232631263,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617211448
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 232673955,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617228964
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-625762069\">PR Review</a>.</p>",
        "id": 232674026,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617228999
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r605255242\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Ah, this appears to have been left over -- we seem to have fixed the warning subsequently. Removed!</p>\n</blockquote>",
        "id": 232674027,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617228999
    },
    {
        "content": "<p>cfallin submitted <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#pullrequestreview-625762117\">PR Review</a>.</p>",
        "id": 232674036,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617229005
    },
    {
        "content": "<p>cfallin created <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718#discussion_r605255287\">PR Review Comment</a>:</p>\n<blockquote>\n<p>Removed!</p>\n</blockquote>",
        "id": 232674037,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617229005
    },
    {
        "content": "<p>cfallin updated <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a> from <code>new-backend</code> to <code>main</code>.</p>",
        "id": 232935887,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617388613
    },
    {
        "content": "<p>cfallin merged <a href=\"https://github.com/bytecodealliance/wasmtime/pull/2718\">PR #2718</a>.</p>",
        "id": 233196705,
        "sender_full_name": "Wasmtime GitHub notifications bot",
        "timestamp": 1617640689
    }
]