[
    {
        "content": "<p>Given the following .wit file:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">resource</span><span class=\"w\"> </span><span class=\"n\">aggregate</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"k\">static</span><span class=\"w\"> </span><span class=\"n\">new</span>: <span class=\"nc\">function</span><span class=\"p\">(</span><span class=\"n\">id</span>: <span class=\"nc\">string</span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">aggregate</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">apply</span><span class=\"o\">-</span><span class=\"n\">events</span>: <span class=\"nc\">function</span><span class=\"p\">(</span><span class=\"n\">events</span>: <span class=\"nc\">list</span><span class=\"o\">&lt;</span><span class=\"n\">list</span><span class=\"o\">&lt;</span><span class=\"kt\">u8</span><span class=\"o\">&gt;&gt;</span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">expected</span><span class=\"o\">&lt;</span><span class=\"n\">unit</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"o\">&gt;</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">handle</span><span class=\"o\">-</span><span class=\"n\">command</span>: <span class=\"nc\">function</span><span class=\"p\">(</span><span class=\"n\">command</span>: <span class=\"nc\">list</span><span class=\"o\">&lt;</span><span class=\"kt\">u8</span><span class=\"o\">&gt;</span><span class=\"p\">)</span><span class=\"w\"> </span>-&gt; <span class=\"nc\">expected</span><span class=\"o\">&lt;</span><span class=\"n\">list</span><span class=\"o\">&lt;</span><span class=\"n\">list</span><span class=\"o\">&lt;</span><span class=\"kt\">u8</span><span class=\"o\">&gt;&gt;</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"n\">error</span><span class=\"o\">&gt;</span><span class=\"w\"></span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>How could I inspect the state of the resource from wasmtime?</p>\n<p>For example:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"n\">export</span><span class=\"o\">!</span><span class=\"p\">(</span><span class=\"s\">\"domain.wit\"</span><span class=\"p\">);</span><span class=\"w\"></span>\n\n<span class=\"k\">pub</span><span class=\"w\"> </span><span class=\"k\">struct</span> <span class=\"nc\">Aggregate</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"></span>\n<span class=\"w\">  </span><span class=\"n\">foo</span>: <span class=\"kt\">i32</span>\n<span class=\"p\">}</span><span class=\"w\"></span>\n\n<span class=\"k\">impl</span><span class=\"w\"> </span><span class=\"n\">domain</span>::<span class=\"n\">Aggregate</span><span class=\"w\"> </span><span class=\"k\">for</span><span class=\"w\"> </span><span class=\"n\">Aggregate</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\"> </span><span class=\"o\">..</span><span class=\"p\">.</span><span class=\"w\"> </span><span class=\"p\">}</span><span class=\"w\"></span>\n</code></pre></div>\n<p>How could I inspect <code>foo</code> after it's been compiled to wasm and running in wasmtime?</p>",
        "id": 281954161,
        "sender_full_name": "Ari Seyhun",
        "timestamp": 1652270720
    },
    {
        "content": "<p>Resources are intended to be opaque handles so if wasm is providing a resource to the host then the host has no way to inspect the contents of the resource since that's an implementation detail of the wasm blob that the host doesn't know about.</p>",
        "id": 281977780,
        "sender_full_name": "Alex Crichton",
        "timestamp": 1652280914
    },
    {
        "content": "<p><span class=\"user-mention silent\" data-user-id=\"474928\">Ari Seyhun</span> has marked this topic as resolved.</p>",
        "id": 282058014,
        "sender_full_name": "Notification Bot",
        "timestamp": 1652330869
    }
]