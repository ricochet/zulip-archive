[
    {
        "content": "<p>I don't understand the conventions around <code>.wit</code> files in a directory. For example, this file does not declare a package:</p>\n<p><a href=\"https://github.com/WebAssembly/wasi-cli/blob/main/wit/terminal.wit\">https://github.com/WebAssembly/wasi-cli/blob/main/wit/terminal.wit</a></p>\n<p>...but this one does...</p>\n<p><a href=\"https://github.com/WebAssembly/wasi-cli/blob/main/wit/command.wit\">https://github.com/WebAssembly/wasi-cli/blob/main/wit/command.wit</a></p>\n<p>why?</p>\n<p>Also, are package names always \"namespace:package-name\" and everything under that package is an interface or world defined within? Is there substructure? </p>\n<p>The component model <a href=\"https://component-model.bytecodealliance.org/\">explainer</a> is quite silent on basics like this (or I missed it). I've also been browsing the specification but I guess I didn't find the right section.</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/WebAssembly/wasi-cli/blob/main/wit/terminal.wit\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/b36f14e8fa685a89b6dc0934d0a52dae0ff38193/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f653633303239343631303039636262643133653637316136306439373264326435396438303732303036313033616162303839626566633463626262326264362f576562417373656d626c792f776173692d636c69&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/WebAssembly/wasi-cli/blob/main/wit/terminal.wit\" title=\"wasi-cli/wit/terminal.wit at main · WebAssembly/wasi-cli\">wasi-cli/wit/terminal.wit at main · WebAssembly/wasi-cli</a></div><div class=\"message_embed_description\">Command-Line Interface (CLI) World for WASI. Contribute to WebAssembly/wasi-cli development by creating an account on GitHub.</div></div></div><div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/WebAssembly/wasi-cli/blob/main/wit/command.wit\" style=\"background-image: url(&quot;https://uploads.zulipusercontent.net/b36f14e8fa685a89b6dc0934d0a52dae0ff38193/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f653633303239343631303039636262643133653637316136306439373264326435396438303732303036313033616162303839626566633463626262326264362f576562417373656d626c792f776173692d636c69&quot;)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/WebAssembly/wasi-cli/blob/main/wit/command.wit\" title=\"wasi-cli/wit/command.wit at main · WebAssembly/wasi-cli\">wasi-cli/wit/command.wit at main · WebAssembly/wasi-cli</a></div><div class=\"message_embed_description\">Command-Line Interface (CLI) World for WASI. Contribute to WebAssembly/wasi-cli development by creating an account on GitHub.</div></div></div>",
        "id": 484681734,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1732701811
    },
    {
        "content": "<p>Also, why do I see things like this:</p>\n<div class=\"codehilite\" data-code-language=\"Rust\"><pre><span></span><code><span class=\"k\">use</span><span class=\"w\"> </span><span class=\"n\">wasi</span><span class=\"p\">:</span><span class=\"nc\">io</span><span class=\"o\">/</span><span class=\"n\">streams</span><span class=\"o\">@</span><span class=\"mf\">0.2.2.</span><span class=\"p\">{</span><span class=\"n\">output</span><span class=\"o\">-</span><span class=\"n\">stream</span><span class=\"p\">}</span>\n</code></pre></div>\n<p>I believe versioning is on <code>wasi:io</code> not <code>wasi:io/streams</code>, so I would expect <code>wasi:io@0.2.2/streams</code>. Am I wrong about how versioning works? And the change between <code>/</code> and <code>.</code> suggests that there is only one level within a wasm package, is that reasonable?</p>\n<p>i.e., is the full structure <code>namespace/package/interface-or-world@version.type-name</code> or is it something more recursive?</p>",
        "id": 484687056,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1732703327
    },
    {
        "content": "<p>Ah, I found the answer to my first question (\"why does one file say <code>package</code> and not others\") <a href=\"https://component-model.bytecodealliance.org/design/wit.html#packages\">here</a>:</p>\n<blockquote>\n<p>If a package spans multiple files, only one file needs to contain a package declaration (but if multiple files contain declarations then they must all be the same).</p>\n</blockquote>\n<p>and based on what I'm reading I think the answer to this question:</p>\n<blockquote>\n<p>i.e., is the full structure <code>namespace/package/interface-or-world@version.type-name</code> or is it something more recursive?</p>\n</blockquote>\n<p>is \"yes\" and that</p>\n<blockquote>\n<p>I believe versioning is on <code>wasi:io</code> not <code>wasi:io/streams</code></p>\n</blockquote>\n<p>is correct</p>",
        "id": 484692900,
        "sender_full_name": "nikomatsakis",
        "timestamp": 1732705124
    },
    {
        "content": "<p>fwiw I also find the interface version syntax to be counterintuitive</p>",
        "id": 484724381,
        "sender_full_name": "Lann Martin",
        "timestamp": 1732715058
    }
]