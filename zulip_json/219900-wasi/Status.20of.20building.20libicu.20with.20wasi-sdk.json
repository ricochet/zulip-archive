[
    {
        "content": "<p>I'm a little confused about the status of building libicu with the wasi-sdk.  From the ICU sources <a href=\"https://github.com/unicode-org/icu/blob/main/icu4c/source/runConfigureICU\">https://github.com/unicode-org/icu/blob/main/icu4c/source/runConfigureICU</a> there is no option for wasi, Linux with clang looks the closest.  I also saw <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1706949\">https://bugzilla.mozilla.org/show_bug.cgi?id=1706949</a> which is closed, but that is in a Mozilla bug tracker so not sure how it relates to wasi-sdk?  Has anyone successfully build libicu with  wasi-sdk ?</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/unicode-org/icu/blob/main/icu4c/source/runConfigureICU\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/b2b1fffedbbb111c70bad1ba70c9b350746ab4d0\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f653565663231303434383136633635306466643636336161613365666331306461326664386462396634363963616632383563643266326536346564346364352f756e69636f64652d6f72672f696375)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/unicode-org/icu/blob/main/icu4c/source/runConfigureICU\" title=\"icu/runConfigureICU at main · unicode-org/icu\">icu/runConfigureICU at main · unicode-org/icu</a></div><div class=\"message_embed_description\">The home of the ICU project source code. Contribute to unicode-org/icu development by creating an account on GitHub.</div></div></div>",
        "id": 355427236,
        "sender_full_name": "Scott Waye",
        "timestamp": 1683118191
    },
    {
        "content": "<p>Have you seen <a href=\"https://github.com/unicode-org/icu4x\">https://github.com/unicode-org/icu4x</a>?</p>\n<p><a href=\"http://blog.unicode.org/2022/09/announcing-icu4x-10.html\">http://blog.unicode.org/2022/09/announcing-icu4x-10.html</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/unicode-org/icu4x\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/0757d58b061aa5439f3d9408847721afd23c53cc\\/68747470733a2f2f7265706f7369746f72792d696d616765732e67697468756275736572636f6e74656e742e636f6d2f3234333339353134312f66326131323730302d306536372d313165622d386564392d616164383632346233643230)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/unicode-org/icu4x\" title=\"GitHub - unicode-org/icu4x: Solving i18n for client-side and resource-constrained environments.\">GitHub - unicode-org/icu4x: Solving i18n for client-side and resource-constrained environments.</a></div><div class=\"message_embed_description\">Solving i18n for client-side and resource-constrained environments. - GitHub - unicode-org/icu4x: Solving i18n for client-side and resource-constrained environments.</div></div></div><div class=\"message_embed\"><a class=\"message_embed_image\" href=\"http://blog.unicode.org/2022/09/announcing-icu4x-10.html\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/91dc87cbdc7400abdb801b1726a9af50bee9ef58\\/68747470733a2f2f6c68332e676f6f676c6575736572636f6e74656e742e636f6d2f626c6f676765725f696d675f70726f78792f414279784744534569504676626c714471684a54486f48667530764d6f6c6b443449425646305234594436336853366732445f684f416f4c697362524d4c4454636b6e47346f45656c76742d447747307543486b384e704747685275653776315570506e564e377a746568334a5951784f6c36343146493d77313230302d683633302d702d6b2d6e6f2d6e75)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"http://blog.unicode.org/2022/09/announcing-icu4x-10.html\" title=\"Announcing ICU4X 1.0\">Announcing ICU4X 1.0</a></div><div class=\"message_embed_description\">   I. Introduction Hello! Ndeewo! Molweni! Салам!  Across the world, people are coming online with smartphones, smart watches, and other sma...</div></div></div>",
        "id": 362910593,
        "sender_full_name": "Bailey Hayes",
        "timestamp": 1685667599
    },
    {
        "content": "<p>Thanks, that does look interesting.  I will mark this complete as that looks like it has Wasm in its sights, even though I've not tried to build it with the wasi-sdk</p>",
        "id": 362911066,
        "sender_full_name": "Scott Waye",
        "timestamp": 1685667864
    },
    {
        "content": "<p>I only remember the blog post mentioning Wasm. I just pulled the project and started poking around to see if this is only for web embeddings of Wasm</p>",
        "id": 362911328,
        "sender_full_name": "Bailey Hayes",
        "timestamp": 1685668067
    },
    {
        "content": "<p>icu4c is one of the first projects I compiled using emscripten to ams.js back around 2013</p>",
        "id": 362911399,
        "sender_full_name": "Bailey Hayes",
        "timestamp": 1685668101
    },
    {
        "content": "<p>While it might compile to wasm, I think it's missing wasi support.</p>\n<div class=\"codehilite\" data-code-language=\"Bash\"><pre><span></span><code>error<span class=\"o\">[</span>E0432<span class=\"o\">]</span>:<span class=\"w\"> </span>unresolved<span class=\"w\"> </span>import<span class=\"w\"> </span><span class=\"sb\">`</span>super::sysrand_chunk<span class=\"sb\">`</span>\n<span class=\"w\">   </span>--&gt;<span class=\"w\"> </span>/Users/bhayes/.cargo/registry/src/github.com-1ecc6299db9ec823/ring-0.16.20/src/rand.rs:306:16\n<span class=\"w\">    </span><span class=\"p\">|</span>\n<span class=\"m\">306</span><span class=\"w\"> </span><span class=\"p\">|</span><span class=\"w\">     </span>use<span class=\"w\"> </span>super::sysrand_chunk::chunk<span class=\"p\">;</span>\n<span class=\"w\">    </span><span class=\"p\">|</span><span class=\"w\">                </span>^^^^^^^^^^^^^<span class=\"w\"> </span>could<span class=\"w\"> </span>not<span class=\"w\"> </span>find<span class=\"w\"> </span><span class=\"sb\">`</span>sysrand_chunk<span class=\"sb\">`</span><span class=\"w\"> </span><span class=\"k\">in</span><span class=\"w\"> </span><span class=\"sb\">`</span>super<span class=\"sb\">`</span>\n</code></pre></div>",
        "id": 362911480,
        "sender_full_name": "Bailey Hayes",
        "timestamp": 1685668180
    }
]