[
    {
        "content": "<p>I just wrote this response on GitHub that gives a bunch of context on why wasmtime-wasi uses tokio, even in a synchronous embedding, despite that being (apprently) pretty costly in terms of File IO performance compared to competing runtimes. Maybe this is good reading for folks who weren't involved in that design, and I welcome questions and comments on it <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7973#issuecomment-1960513214\">https://github.com/bytecodealliance/wasmtime/issues/7973#issuecomment-1960513214</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/wasmtime/issues/7973#issuecomment-1960513214\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/1cdb6d70818b693a40495cab9bfd57f59a855334\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f623939666263633964343436666338373761336666343964613665326138376333653434343537303431663338333064636664656237613838383537633833302f62797465636f6465616c6c69616e63652f7761736d74696d652f6973737565732f37393733)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/wasmtime/issues/7973#issuecomment-1960513214\" title=\"Poor performance of wasmtime file I/O maybe because tokio  路 Issue #7973 路 bytecodealliance/wasmtime\">Poor performance of wasmtime file I/O maybe because tokio  路 Issue #7973 路 bytecodealliance/wasmtime</a></div><div class=\"message_embed_description\">Test Case test.c #include &lt;stdio.h&gt; #include &lt;stdlib.h&gt; #include &lt;unistd.h&gt; #include &lt;fcntl.h&gt; int main() { FILE *fp; char str[14]; for (int i = 1; i &lt; 1000; i++) { int fd = open(\"test.txt\", O_CREA...</div></div></div>",
        "id": 422923775,
        "sender_full_name": "Pat Hickey",
        "timestamp": 1708645329
    }
]