[
    {
        "content": "<p>I just published a new encoding format \"WAVE: Web Assembly Value Encoding\" (and matching <a href=\"https://crates.io/crates/wasm-wave\"><code>wasm-wave</code></a> crate). WAVE is a human-oriented representation of component model values. The <a href=\"https://github.com/lann/wave\">README</a> gives a good overview of the format. I'd love feedback (and PRs!) on the format and eventually would like to donate it to be used for things like <code>wasmtime run --invoke 'add(1, 2)'</code>.</p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/lann/wave\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/64697ee6dd78f39d4c45bbb9d3677e3aaa330035\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f366530306330643461373134363366393234626633613363386661616338323734653534616630633233653030393636333639633439333430333565383734352f6c616e6e2f77617665)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/lann/wave\" title=\"GitHub - lann/wave: Web Assembly Value Encoding\">GitHub - lann/wave: Web Assembly Value Encoding</a></div><div class=\"message_embed_description\">Web Assembly Value Encoding. Contribute to lann/wave development by creating an account on GitHub.</div></div></div>",
        "id": 392402224,
        "sender_full_name": "Lann Martin",
        "timestamp": 1695333854
    },
    {
        "content": "<p>Thanks to <span class=\"user-mention\" data-user-id=\"254083\">@Dan Gohman</span> for a PR adding e.g. <code>\\u{1F44B}</code> unicode escapes, written within ~2 hours of learning that WAVE existed. <span aria-label=\"smile\" class=\"emoji emoji-1f642\" role=\"img\" title=\"smile\">:smile:</span></p>",
        "id": 392402427,
        "sender_full_name": "Lann Martin",
        "timestamp": 1695333992
    },
    {
        "content": "<p>I've added a bunch of functionality to this and built this poc for using it to invoke component exports: <a href=\"https://github.com/lann/wave-tank\">https://github.com/lann/wave-tank</a></p>\n<div class=\"codehilite\" data-code-language=\"Bash Session\"><pre><span></span><code><span class=\"gp\">$ </span>wave-tank<span class=\"w\"> </span>example.wasm<span class=\"w\"> </span><span class=\"s1\">'hello-world(false, \"BA\")'</span>\n<span class=\"go\">hello-world(false, some(\"BA\")) -&gt; \"Hello, BA!\"</span>\n</code></pre></div>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/lann/wave-tank\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/92f8fbfc3442d740a9e869679a4c0a22ab5fc323\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f623366623734326438356565666439626337383239633964323836653335353736356337643136376566373365303732363761633961666539373431656661642f6c616e6e2f776176652d74616e6b)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/lann/wave-tank\" title=\"GitHub - lann/wave-tank\">GitHub - lann/wave-tank</a></div><div class=\"message_embed_description\">Contribute to lann/wave-tank development by creating an account on GitHub.</div></div></div>",
        "id": 394841443,
        "sender_full_name": "Lann Martin",
        "timestamp": 1696426254
    },
    {
        "content": "<p>A proposal to use WAVE for <code>wasmtime run --invoke</code>: <a href=\"https://github.com/bytecodealliance/wasmtime/issues/7326\">https://github.com/bytecodealliance/wasmtime/issues/7326</a></p>\n<div class=\"message_embed\"><a class=\"message_embed_image\" href=\"https://github.com/bytecodealliance/wasmtime/issues/7326\" style=\"background-image: url(https\\:\\/\\/uploads\\.zulipusercontent\\.net\\/94458a1daffc601423cb2e3e984dc759915c5872\\/68747470733a2f2f6f70656e67726170682e6769746875626173736574732e636f6d2f353766353531626235313466643833306331386139356231663866396237313834356362613764373365623431353664663865653361383565653330616430632f62797465636f6465616c6c69616e63652f7761736d74696d652f6973737565732f37333236)\"></a><div class=\"data-container\"><div class=\"message_embed_title\"><a href=\"https://github.com/bytecodealliance/wasmtime/issues/7326\" title=\"Add support for components to `wasmtime run --invoke` 路 Issue #7326 路 bytecodealliance/wasmtime\">Add support for components to `wasmtime run --invoke` 路 Issue #7326 路 bytecodealliance/wasmtime</a></div><div class=\"message_embed_description\">You can currently call a core module export with wasmtime run --invoke &lt;func&gt; &lt;module.wasm&gt; [params...], but using --invoke with components is not supported. While it should (presumably) be fairly ...</div></div></div>",
        "id": 398130046,
        "sender_full_name": "Lann Martin",
        "timestamp": 1698082461
    },
    {
        "content": "<p>i really like the sound of this proposal!</p>",
        "id": 398157227,
        "sender_full_name": "Pat Hickey",
        "timestamp": 1698095632
    },
    {
        "content": "<p>as far as how to reference things that arent top level exports, or the syntax by which you do- i think we can follow the rule of only requiring an identifier if its ambigious</p>",
        "id": 398157307,
        "sender_full_name": "Pat Hickey",
        "timestamp": 1698095671
    },
    {
        "content": "<p>so if a component exports <code>foo:bar/baz.run</code> and <code>wasi:cli/run.run</code> then you have to call it by <code>run.run</code>. plain <code>run</code> will give an error as being ambigious</p>",
        "id": 398157343,
        "sender_full_name": "Pat Hickey",
        "timestamp": 1698095702
    },
    {
        "content": "<p>so allow people to leave off the namespace, package version, package name, and interface name if they like</p>",
        "id": 398157410,
        "sender_full_name": "Pat Hickey",
        "timestamp": 1698095748
    }
]